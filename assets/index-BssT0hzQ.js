function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ti(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var nE={exports:{}},yh={},rE={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),kP=Symbol.for("react.portal"),RP=Symbol.for("react.fragment"),PP=Symbol.for("react.strict_mode"),AP=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),OP=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),MP=Symbol.for("react.suspense"),LP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),Ub=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=Ub&&t[Ub]||t["@@iterator"],typeof t=="function"?t:null)}var iE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sE=Object.assign,oE={};function rl(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||iE}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aE(){}aE.prototype=rl.prototype;function wv(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||iE}var Sv=wv.prototype=new aE;Sv.constructor=wv;sE(Sv,rl.prototype);Sv.isPureReactComponent=!0;var Wb=Array.isArray,lE=Object.prototype.hasOwnProperty,Ev={current:null},cE={key:!0,ref:!0,__self:!0,__source:!0};function uE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)lE.call(e,r)&&!cE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nu,type:t,key:s,ref:o,props:i,_owner:Ev.current}}function FP(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function VP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hb=/\/+/g;function mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VP(""+t.key):e.toString(36)}function kd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nu:case kP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mm(o,0):r,Wb(i)?(n="",t!=null&&(n=t.replace(Hb,"$&/")+"/"),kd(i,e,n,"",function(u){return u})):i!=null&&(Tv(i)&&(i=FP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wb(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+mm(s,a);o+=kd(s,e,n,c,i)}else if(c=$P(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+mm(s,a++),o+=kd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],i=0;return kd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jn={current:null},Rd={transition:null},BP={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Ev};function dE(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!Tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=rl;nt.Fragment=RP;nt.Profiler=AP;nt.PureComponent=wv;nt.StrictMode=PP;nt.Suspense=MP;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;nt.act=dE;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ev.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)lE.call(e,c)&&!cE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nu,type:t.type,key:i,ref:s,props:r,_owner:o}};nt.createContext=function(t){return t={$$typeof:OP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jP,_context:t},t.Consumer=t};nt.createElement=uE;nt.createFactory=function(t){var e=uE.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:NP,render:t}};nt.isValidElement=Tv;nt.lazy=function(t){return{$$typeof:DP,_payload:{_status:-1,_result:t},_init:zP}};nt.memo=function(t,e){return{$$typeof:LP,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};nt.unstable_act=dE;nt.useCallback=function(t,e){return Jn.current.useCallback(t,e)};nt.useContext=function(t){return Jn.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return Jn.current.useDeferredValue(t)};nt.useEffect=function(t,e){return Jn.current.useEffect(t,e)};nt.useId=function(){return Jn.current.useId()};nt.useImperativeHandle=function(t,e,n){return Jn.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Jn.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Jn.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Jn.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return Jn.current.useReducer(t,e,n)};nt.useRef=function(t){return Jn.current.useRef(t)};nt.useState=function(t){return Jn.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Jn.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Jn.current.useTransition()};nt.version="18.3.1";rE.exports=nt;var x=rE.exports;const me=gh(x),nf=IP({__proto__:null,default:me},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=x,WP=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,KP=UP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GP={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qP.call(e,r)&&!GP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WP,type:t,key:s,ref:o,props:i,_owner:KP.current}}yh.Fragment=HP;yh.jsx=fE;yh.jsxs=fE;nE.exports=yh;var l=nE.exports;function hE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hE(t))&&(r&&(r+=" "),r+=e);return r}function QP(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}QP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ru=t=>typeof t=="number"&&!isNaN(t),vo=t=>typeof t=="string",Gi=t=>typeof t=="function",YP=t=>vo(t)||ru(t),_g=t=>vo(t)||Gi(t)?t:null,XP=(t,e)=>t===!1||ru(t)&&t>0?t:e,wg=t=>x.isValidElement(t)||vo(t)||Gi(t)||ru(t);function JP(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function ZP({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:u,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,E=n?`${e}--${o}`:e,T=x.useRef(0);return x.useLayoutEffect(()=>{let w=u.current,I=m.split(" "),C=v=>{v.target===u.current&&(h(),w.removeEventListener("animationend",C),w.removeEventListener("animationcancel",C),T.current===0&&v.type!=="animationcancel"&&w.classList.remove(...I))};w.classList.add(...I),w.addEventListener("animationend",C),w.addEventListener("animationcancel",C)},[]),x.useEffect(()=>{let w=u.current,I=()=>{w.removeEventListener("animationend",I),r?JP(w,c,i):c()};f||(a?I():(T.current=1,w.className+=` ${E}`,w.addEventListener("animationend",I)))},[f]),me.createElement(me.Fragment,null,s)}}function qb(t,e){return{content:pE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function pE(t,e,n=!1){return x.isValidElement(t)&&!vo(t.type)?x.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Gi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function eA({closeToast:t,theme:e,ariaLabel:n="close"}){return me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tA({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:u,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let E=Ne("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),T=Gi(s)?s({rtl:c,type:r,defaultClassName:E}):Ne(E,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),me.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:m,...w}))}var nA=1,mE=()=>`${nA++}`;function rA(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,u=new Set,f=v=>(u.add(v),()=>u.delete(v)),h=()=>{o=Array.from(c.values()),u.forEach(v=>v())},m=({containerId:v,toastId:_,updateId:k})=>{let M=v?v!==t:t!==1,N=c.has(_)&&k==null;return M||N},E=(v,_)=>{c.forEach(k=>{var M;(_==null||_===k.props.toastId)&&((M=k.toggle)==null||M.call(k,v))})},T=v=>{var _,k;(k=(_=v.props)==null?void 0:_.onClose)==null||k.call(_,v.removalReason),v.isActive=!1},w=v=>{if(v==null)c.forEach(T);else{let _=c.get(v);_&&T(_)}h()},I=()=>{i-=s.length,s=[]},C=v=>{var _,k;let{toastId:M,updateId:N}=v.props,S=N==null;v.staleId&&c.delete(v.staleId),v.isActive=!0,c.set(M,v),h(),n(qb(v,S?"added":"updated")),S&&((k=(_=v.props).onOpen)==null||k.call(_))};return{id:t,props:a,observe:f,toggle:E,removeToast:w,toasts:c,clearQueue:I,buildToast:(v,_)=>{if(m(_))return;let{toastId:k,updateId:M,data:N,staleId:S,delay:p}=_,g=M==null;g&&i++;let b={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([A,P])=>P!=null)),toastId:k,updateId:M,data:N,isIn:!1,className:_g(_.className||a.toastClassName),progressClassName:_g(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:XP(_.autoClose,a.autoClose),closeToast(A){c.get(k).removalReason=A,w(k)},deleteToast(){let A=c.get(k);if(A!=null){if(n(qb(A,"removed")),c.delete(k),i--,i<0&&(i=0),s.length>0){C(s.shift());return}h()}}};b.closeButton=a.closeButton,_.closeButton===!1||wg(_.closeButton)?b.closeButton=_.closeButton:_.closeButton===!0&&(b.closeButton=wg(a.closeButton)?a.closeButton:!0);let O={content:v,props:b,staleId:S};a.limit&&a.limit>0&&i>a.limit&&g?s.push(O):ru(p)?setTimeout(()=>{C(O)},p):C(O)},setProps(v){a=v},setToggle:(v,_)=>{let k=c.get(v);k&&(k.toggle=_)},isToastActive:v=>{var _;return(_=c.get(v))==null?void 0:_.isActive},getSnapshot:()=>o}}var Qn=new Map,xc=[],Sg=new Set,iA=t=>Sg.forEach(e=>e(t)),gE=()=>Qn.size>0;function sA(){xc.forEach(t=>vE(t.content,t.options)),xc=[]}var oA=(t,{containerId:e})=>{var n;return(n=Qn.get(e||1))==null?void 0:n.toasts.get(t)};function yE(t,e){var n;if(e)return!!((n=Qn.get(e))!=null&&n.isToastActive(t));let r=!1;return Qn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function aA(t){if(!gE()){xc=xc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||YP(t))Qn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Qn.get(t.containerId);e?e.removeToast(t.id):Qn.forEach(n=>{n.removeToast(t.id)})}}var lA=(t={})=>{Qn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function vE(t,e){wg(t)&&(gE()||xc.push({content:t,options:e}),Qn.forEach(n=>{n.buildToast(t,e)}))}function cA(t){var e;(e=Qn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function xE(t,e){Qn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function uA(t){let e=t.containerId||1;return{subscribe(n){let r=rA(e,t,iA);Qn.set(e,r);let i=r.observe(n);return sA(),()=>{i(),Qn.delete(e)}},setProps(n){var r;(r=Qn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Qn.get(e))==null?void 0:n.getSnapshot()}}}function dA(t){return Sg.add(t),()=>{Sg.delete(t)}}function fA(t){return t&&(vo(t.toastId)||ru(t.toastId))?t.toastId:mE()}function iu(t,e){return vE(t,e),e.toastId}function vh(t,e){return{...e,type:e&&e.type||t,toastId:fA(e)}}function xh(t){return(e,n)=>iu(e,vh(t,n))}function Se(t,e){return iu(t,vh("default",e))}Se.loading=(t,e)=>iu(t,vh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hA(t,{pending:e,error:n,success:r},i){let s;e&&(s=vo(e)?Se.loading(e,i):Se.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,h)=>{if(f==null){Se.dismiss(s);return}let m={type:u,...o,...i,data:h},E=vo(f)?{render:f}:f;return s?Se.update(s,{...m,...E}):Se(E.render,{...m,...E}),h},c=Gi(t)?t():t;return c.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),c}Se.promise=hA;Se.success=xh("success");Se.info=xh("info");Se.error=xh("error");Se.warning=xh("warning");Se.warn=Se.warning;Se.dark=(t,e)=>iu(t,vh("default",{theme:"dark",...e}));function pA(t){aA(t)}Se.dismiss=pA;Se.clearWaitingQueue=lA;Se.isActive=yE;Se.update=(t,e={})=>{let n=oA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:mE()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,iu(o,s)}};Se.done=t=>{Se.update(t,{progress:1})};Se.onChange=dA;Se.play=t=>xE(!0,t);Se.pause=t=>xE(!1,t);function mA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(uA(t)).current;i(t);let s=(e=x.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:f}=u.props;c.has(f)||c.set(f,[]),c.get(f).push(u)}),Array.from(c,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:yE,count:s==null?void 0:s.length}}function gA(t){let[e,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),o=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:f,closeOnClick:h}=t;cA({id:t.toastId,containerId:t.containerId,fn:n}),x.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||C(),window.addEventListener("focus",I),window.addEventListener("blur",C)}function E(){window.removeEventListener("focus",I),window.removeEventListener("blur",C)}function T(S){if(t.draggable===!0||t.draggable===S.pointerType){v();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(S){let{top:p,bottom:g,left:b,right:O}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=b&&S.clientX<=O&&S.clientY>=p&&S.clientY<=g?C():I()}function I(){n(!0)}function C(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",M)}function _(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M)}function k(S){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&C(),t.draggableDirection==="x"?o.delta=S.clientX-o.start:o.delta=S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1);let g=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${g},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){_();let S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let N={onPointerDown:T,onPointerUp:w};return a&&c&&(N.onMouseEnter=C,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=S=>{f&&f(S),o.canCloseOnClick&&u(!0)}),{playToast:I,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var yA=typeof window<"u"?x.useLayoutEffect:x.useEffect,bh=({theme:t,type:e,isLoading:n,...r})=>me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function vA(t){return me.createElement(bh,{...t},me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function xA(t){return me.createElement(bh,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bA(t){return me.createElement(bh,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _A(t){return me.createElement(bh,{...t},me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wA(){return me.createElement("div",{className:"Toastify__spinner"})}var Eg={info:xA,warning:vA,success:bA,error:_A,spinner:wA},SA=t=>t in Eg;function EA({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Gi(r)?i=r({...s,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,s):n?i=Eg.spinner():SA(e)&&(i=Eg[e](s))),i}var TA=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=gA(t),{closeButton:o,children:a,autoClose:c,onClick:u,type:f,hideProgressBar:h,closeToast:m,transition:E,position:T,className:w,style:I,progressClassName:C,updateId:v,role:_,progress:k,rtl:M,toastId:N,deleteToast:S,isIn:p,isLoading:g,closeOnClick:b,theme:O,ariaLabel:A}=t,P=Ne("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":b}),B=Gi(w)?w({rtl:M,position:T,type:f,defaultClassName:P}):Ne(P,w),V=EA(t),H=!!k||!c,q={closeToast:m,type:f,theme:O},L=null;return o===!1||(Gi(o)?L=o(q):x.isValidElement(o)?L=x.cloneElement(o,q):L=eA(q)),me.createElement(E,{isIn:p,done:S,position:T,preventExitTransition:n,nodeRef:r,playToast:s},me.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":p,className:B,...i,style:I,ref:r,...p&&{role:_,"aria-label":A}},V!=null&&me.createElement("div",{className:Ne("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!g})},V),pE(a,t,!e),L,!t.customProgressBar&&me.createElement(tA,{...v&&!H?{key:`p-${v}`}:{},rtl:M,theme:O,delay:c,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:C,controlledProgress:H,progress:k||0})))},CA=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),IA=ZP(CA("bounce",!0)),kA={position:"top-right",transition:IA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function RA(t){let e={...kA,...t},n=t.stacked,[r,i]=x.useState(!0),s=x.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=mA(e),{className:u,style:f,rtl:h,containerId:m,hotKeys:E}=e;function T(I){let C=Ne("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return Gi(u)?u({position:I,rtl:h,defaultClassName:C}):Ne(C,_g(u))}function w(){n&&(i(!0),Se.play())}return yA(()=>{var I;if(n){let C=s.current.querySelectorAll('[data-in="true"]'),v=12,_=(I=e.position)==null?void 0:I.includes("top"),k=0,M=0;Array.from(C).reverse().forEach((N,S)=>{let p=N;p.classList.add("Toastify__toast--stacked"),S>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=_?"top":"bot");let g=k*(r?.2:1)+(r?0:v*S);p.style.setProperty("--y",`${_?g:g*-1}px`),p.style.setProperty("--g",`${v}`),p.style.setProperty("--s",`${1-(r?M:0)}`),k+=p.offsetHeight,M+=.025})}},[r,c,n]),x.useEffect(()=>{function I(C){var v;let _=s.current;E(C)&&((v=_.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),Se.pause()),C.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),Se.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[E]),me.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,C)=>{let v=C.length?{...f}:{...f,pointerEvents:"none"};return me.createElement("div",{tabIndex:-1,className:T(I),"data-stacked":n,style:v,key:`c-${I}`},C.map(({content:_,props:k})=>me.createElement(TA,{...k,stacked:n,collapseAll:w,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},_)))}))}var Tg={},bE={exports:{}},wr={},_E={exports:{}},wE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var K=L.length;L.push(z);e:for(;0<K;){var $=K-1>>>1,U=L[$];if(0<i(U,z))L[$]=z,L[K]=U,K=$;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],K=L.pop();if(K!==z){L[0]=K;e:for(var $=0,U=L.length,Q=U>>>1;$<Q;){var X=2*($+1)-1,oe=L[X],ue=X+1,G=L[ue];if(0>i(oe,K))ue<U&&0>i(G,oe)?(L[$]=G,L[ue]=K,$=ue):(L[$]=oe,L[X]=K,$=X);else if(ue<U&&0>i(G,K))L[$]=G,L[ue]=K,$=ue;else break e}}return z}function i(L,z){var K=L.sortIndex-z.sortIndex;return K!==0?K:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,h=null,m=3,E=!1,T=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function k(L){if(w=!1,_(L),!T)if(n(c)!==null)T=!0,H(M);else{var z=n(u);z!==null&&q(k,z.startTime-L)}}function M(L,z){T=!1,w&&(w=!1,C(p),p=-1),E=!0;var K=m;try{for(_(z),h=n(c);h!==null&&(!(h.expirationTime>z)||L&&!O());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var U=$(h.expirationTime<=z);z=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(c)&&r(c),_(z)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var X=n(u);X!==null&&q(k,X.startTime-z),Q=!1}return Q}finally{h=null,m=K,E=!1}}var N=!1,S=null,p=-1,g=5,b=-1;function O(){return!(t.unstable_now()-b<g)}function A(){if(S!==null){var L=t.unstable_now();b=L;var z=!0;try{z=S(!0,L)}finally{z?P():(N=!1,S=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=A,P=function(){V.postMessage(null)}}else P=function(){I(A,0)};function H(L){S=L,N||(N=!0,P())}function q(L,z){p=I(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,H(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return L()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=m;m=L;try{return z()}finally{m=K}},t.unstable_scheduleCallback=function(L,z,K){var $=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?$+K:$):K=$,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,L={id:f++,callback:z,priorityLevel:L,startTime:K,expirationTime:U,sortIndex:-1},K>$?(L.sortIndex=K,e(u,L),n(c)===null&&L===n(u)&&(w?(C(p),p=-1):w=!0,q(k,K-$))):(L.sortIndex=U,e(c,L),T||E||(T=!0,H(M))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var z=m;return function(){var K=m;m=z;try{return L.apply(this,arguments)}finally{m=K}}}})(wE);_E.exports=wE;var PA=_E.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=x,vr=PA;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SE=new Set,bc={};function Oo(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(bc[t]=e,t=0;t<e.length;t++)SE.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cg=Object.prototype.hasOwnProperty,jA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kb={},Gb={};function OA(t){return Cg.call(Gb,t)?!0:Cg.call(Kb,t)?!1:jA.test(t)?Gb[t]=!0:(Kb[t]=!0,!1)}function NA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MA(t,e,n,r){if(e===null||typeof e>"u"||NA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new Zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new Zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new Zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new Zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new Zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new Zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new Zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new Zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new Zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cv=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kv(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MA(e,n,i,r)&&(n=null),r||i===null?OA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),Qb=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,gm;function Wl(t){if(gm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gm=e&&e[1]||""}return`
`+gm+t}var ym=!1;function vm(t,e){if(!t||ym)return"";ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ym=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function LA(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=vm(t.type,!1),t;case 11:return t=vm(t.type.render,!1),t;case 1:return t=vm(t.type,!0),t;default:return""}}function Pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case Ig:return"Profiler";case Rv:return"StrictMode";case kg:return"Suspense";case Rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case Pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Av:return e=t.displayName||null,e!==null?e:Pg(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return Pg(t(e))}catch{}}return null}function DA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(e);case 8:return e===Rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $A(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=$A(t))}function kE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ag(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RE(t,e){e=e.checked,e!=null&&kv(t,"checked",e,!1)}function jg(t,e){RE(t,e);var n=Ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Og(t,e.type,n):e.hasOwnProperty("defaultValue")&&Og(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Og(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ls(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(Hl(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ls(n)}}function PE(t,e){var n=Ls(e.value),r=Ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,jE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FA=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){FA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function OE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function NE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VA=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(t,e){if(e){if(VA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function jv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fg=null,xa=null,ba=null;function e_(t){if(t=au(t)){if(typeof Fg!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Th(e),Fg(t.stateNode,t.type,e))}}function ME(t){xa?ba?ba.push(t):ba=[t]:xa=t}function LE(){if(xa){var t=xa,e=ba;if(ba=xa=null,e_(t),e)for(t=0;t<e.length;t++)e_(e[t])}}function DE(t,e){return t(e)}function $E(){}var xm=!1;function FE(t,e,n){if(xm)return t(e,n);xm=!0;try{return DE(t,e,n)}finally{xm=!1,(xa!==null||ba!==null)&&($E(),LE())}}function wc(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var Vg=!1;if(Qi)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Vg=!1}function zA(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var nc=!1,sf=null,of=!1,zg=null,BA={onError:function(t){nc=!0,sf=t}};function UA(t,e,n,r,i,s,o,a,c){nc=!1,sf=null,zA.apply(BA,arguments)}function WA(t,e,n,r,i,s,o,a,c){if(UA.apply(this,arguments),nc){if(nc){var u=sf;nc=!1,sf=null}else throw Error(ce(198));of||(of=!0,zg=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t_(t){if(No(t)!==t)throw Error(ce(188))}function HA(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t_(i),t;if(s===r)return t_(i),e;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function zE(t){return t=HA(t),t!==null?BE(t):null}function BE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BE(t);if(e!==null)return e;t=t.sibling}return null}var UE=vr.unstable_scheduleCallback,n_=vr.unstable_cancelCallback,qA=vr.unstable_shouldYield,KA=vr.unstable_requestPaint,en=vr.unstable_now,GA=vr.unstable_getCurrentPriorityLevel,Ov=vr.unstable_ImmediatePriority,WE=vr.unstable_UserBlockingPriority,af=vr.unstable_NormalPriority,QA=vr.unstable_LowPriority,HE=vr.unstable_IdlePriority,_h=null,hi=null;function YA(t){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(_h,t,void 0,(t.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:ZA,XA=Math.log,JA=Math.LN2;function ZA(t){return t>>>=0,t===0?32:31-(XA(t)/JA|0)|0}var Zu=64,ed=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ql(a):(s&=o,s!==0&&(r=ql(s)))}else o=n&~i,o!==0?r=ql(o):s!==0&&(r=ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zr(e),i=1<<n,r|=t[n],e&=~i;return r}function ej(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zr(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=ej(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qE(){var t=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),t}function bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zr(e),t[e]=n}function nj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Et=0;function KE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GE,Mv,QE,YE,XE,Ug=!1,td=[],Ts=null,Cs=null,Is=null,Sc=new Map,Ec=new Map,vs=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r_(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function Rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=au(e),e!==null&&Mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ij(t,e,n,r,i){switch(e){case"focusin":return Ts=Rl(Ts,t,e,n,r,i),!0;case"dragenter":return Cs=Rl(Cs,t,e,n,r,i),!0;case"mouseover":return Is=Rl(Is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,Rl(Sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ec.set(s,Rl(Ec.get(s)||null,t,e,n,r,i)),!0}return!1}function JE(t){var e=co(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,XE(t.priority,function(){QE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return e=au(n),e!==null&&Mv(e),t.blockedOn=n,!1;e.shift()}return!0}function i_(t,e,n){Pd(t)&&n.delete(e)}function sj(){Ug=!1,Ts!==null&&Pd(Ts)&&(Ts=null),Cs!==null&&Pd(Cs)&&(Cs=null),Is!==null&&Pd(Is)&&(Is=null),Sc.forEach(i_),Ec.forEach(i_)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ug||(Ug=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,sj)))}function Tc(t){function e(i){return Pl(i,t)}if(0<td.length){Pl(td[0],t);for(var n=1;n<td.length;n++){var r=td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ts!==null&&Pl(Ts,t),Cs!==null&&Pl(Cs,t),Is!==null&&Pl(Is,t),Sc.forEach(e),Ec.forEach(e),n=0;n<vs.length;n++)r=vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)JE(n),n.blockedOn===null&&vs.shift()}var _a=is.ReactCurrentBatchConfig,cf=!0;function oj(t,e,n,r){var i=Et,s=_a.transition;_a.transition=null;try{Et=1,Lv(t,e,n,r)}finally{Et=i,_a.transition=s}}function aj(t,e,n,r){var i=Et,s=_a.transition;_a.transition=null;try{Et=4,Lv(t,e,n,r)}finally{Et=i,_a.transition=s}}function Lv(t,e,n,r){if(cf){var i=Wg(t,e,n,r);if(i===null)Pm(t,e,r,uf,n),r_(t,r);else if(ij(i,t,e,n,r))r.stopPropagation();else if(r_(t,r),e&4&&-1<rj.indexOf(t)){for(;i!==null;){var s=au(i);if(s!==null&&GE(s),s=Wg(t,e,n,r),s===null&&Pm(t,e,r,uf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pm(t,e,r,null,n)}}var uf=null;function Wg(t,e,n,r){if(uf=null,t=jv(r),t=co(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function ZE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case Ov:return 1;case WE:return 4;case af:case QA:return 16;case HE:return 536870912;default:return 16}default:return 16}}var bs=null,Dv=null,Ad=null;function eT(){if(Ad)return Ad;var t,e=Dv,n=e.length,r,i="value"in bs?bs.value:bs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ad=i.slice(t,1<r?1-r:void 0)}function jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nd(){return!0}function s_(){return!1}function Sr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nd:s_,this.isPropagationStopped=s_,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=Sr(il),ou=Ht({},il,{view:0,detail:0}),lj=Sr(ou),_m,wm,Al,wh=Ht({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(_m=t.screenX-Al.screenX,wm=t.screenY-Al.screenY):wm=_m=0,Al=t),_m)},movementY:function(t){return"movementY"in t?t.movementY:wm}}),o_=Sr(wh),cj=Ht({},wh,{dataTransfer:0}),uj=Sr(cj),dj=Ht({},ou,{relatedTarget:0}),Sm=Sr(dj),fj=Ht({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),hj=Sr(fj),pj=Ht({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mj=Sr(pj),gj=Ht({},il,{data:0}),a_=Sr(gj),yj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xj[t])?!!e[t]:!1}function Fv(){return bj}var _j=Ht({},ou,{key:function(t){if(t.key){var e=yj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(t){return t.type==="keypress"?jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wj=Sr(_j),Sj=Ht({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=Sr(Sj),Ej=Ht({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),Tj=Sr(Ej),Cj=Ht({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ij=Sr(Cj),kj=Ht({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rj=Sr(kj),Pj=[9,13,27,32],Vv=Qi&&"CompositionEvent"in window,rc=null;Qi&&"documentMode"in document&&(rc=document.documentMode);var Aj=Qi&&"TextEvent"in window&&!rc,tT=Qi&&(!Vv||rc&&8<rc&&11>=rc),c_=" ",u_=!1;function nT(t,e){switch(t){case"keyup":return Pj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function jj(t,e){switch(t){case"compositionend":return rT(e);case"keypress":return e.which!==32?null:(u_=!0,c_);case"textInput":return t=e.data,t===c_&&u_?null:t;default:return null}}function Oj(t,e){if(oa)return t==="compositionend"||!Vv&&nT(t,e)?(t=eT(),Ad=Dv=bs=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tT&&e.locale!=="ko"?null:e.data;default:return null}}var Nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nj[t.type]:e==="textarea"}function iT(t,e,n,r){ME(r),e=df(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ic=null,Cc=null;function Mj(t){mT(t,0)}function Sh(t){var e=ca(t);if(kE(e))return t}function Lj(t,e){if(t==="change")return e}var sT=!1;if(Qi){var Em;if(Qi){var Tm="oninput"in document;if(!Tm){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Tm=typeof f_.oninput=="function"}Em=Tm}else Em=!1;sT=Em&&(!document.documentMode||9<document.documentMode)}function h_(){ic&&(ic.detachEvent("onpropertychange",oT),Cc=ic=null)}function oT(t){if(t.propertyName==="value"&&Sh(Cc)){var e=[];iT(e,Cc,t,jv(t)),FE(Mj,e)}}function Dj(t,e,n){t==="focusin"?(h_(),ic=e,Cc=n,ic.attachEvent("onpropertychange",oT)):t==="focusout"&&h_()}function $j(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sh(Cc)}function Fj(t,e){if(t==="click")return Sh(e)}function Vj(t,e){if(t==="input"||t==="change")return Sh(e)}function zj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:zj;function Ic(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cg.call(e,i)||!ti(t[i],e[i]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m_(t,e){var n=p_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p_(n)}}function aT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lT(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bj(t){var e=lT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aT(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m_(n,s);var o=m_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uj=Qi&&"documentMode"in document&&11>=document.documentMode,aa=null,Hg=null,sc=null,qg=!1;function g_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qg||aa==null||aa!==rf(r)||(r=aa,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&Ic(sc,r)||(sc=r,r=df(Hg,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Cm={},cT={};Qi&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Eh(t){if(Cm[t])return Cm[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cT)return Cm[t]=e[n];return t}var uT=Eh("animationend"),dT=Eh("animationiteration"),fT=Eh("animationstart"),hT=Eh("transitionend"),pT=new Map,y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){pT.set(t,e),Oo(e,[t])}for(var Im=0;Im<y_.length;Im++){var km=y_[Im],Wj=km.toLowerCase(),Hj=km[0].toUpperCase()+km.slice(1);Ws(Wj,"on"+Hj)}Ws(uT,"onAnimationEnd");Ws(dT,"onAnimationIteration");Ws(fT,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(hT,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function v_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WA(r,e,void 0,t),t.currentTarget=null}function mT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;v_(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;v_(i,a,u),s=c}}}if(of)throw t=zg,of=!1,zg=null,t}function Nt(t,e){var n=e[Xg];n===void 0&&(n=e[Xg]=new Set);var r=t+"__bubble";n.has(r)||(gT(e,t,2,!1),n.add(r))}function Rm(t,e,n){var r=0;e&&(r|=4),gT(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[id]){t[id]=!0,SE.forEach(function(n){n!=="selectionchange"&&(qj.has(n)||Rm(n,!1,t),Rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,Rm("selectionchange",!1,e))}}function gT(t,e,n,r){switch(ZE(e)){case 1:var i=oj;break;case 4:i=aj;break;default:i=Lv}n=i.bind(null,e,n,t),i=void 0,!Vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=co(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FE(function(){var u=s,f=jv(n),h=[];e:{var m=pT.get(t);if(m!==void 0){var E=$v,T=t;switch(t){case"keypress":if(jd(n)===0)break e;case"keydown":case"keyup":E=wj;break;case"focusin":T="focus",E=Sm;break;case"focusout":T="blur",E=Sm;break;case"beforeblur":case"afterblur":E=Sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=uj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Tj;break;case uT:case dT:case fT:E=hj;break;case hT:E=Ij;break;case"scroll":E=lj;break;case"wheel":E=Rj;break;case"copy":case"cut":case"paste":E=mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=l_}var w=(e&4)!==0,I=!w&&t==="scroll",C=w?m!==null?m+"Capture":null:m;w=[];for(var v=u,_;v!==null;){_=v;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,C!==null&&(k=wc(v,C),k!=null&&w.push(Rc(v,k,_)))),I)break;v=v.return}0<w.length&&(m=new E(m,T,null,n,f),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==$g&&(T=n.relatedTarget||n.fromElement)&&(co(T)||T[Yi]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=u,T=T?co(T):null,T!==null&&(I=No(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=u),E!==T)){if(w=o_,k="onMouseLeave",C="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=l_,k="onPointerLeave",C="onPointerEnter",v="pointer"),I=E==null?m:ca(E),_=T==null?m:ca(T),m=new w(k,v+"leave",E,n,f),m.target=I,m.relatedTarget=_,k=null,co(f)===u&&(w=new w(C,v+"enter",T,n,f),w.target=_,w.relatedTarget=I,k=w),I=k,E&&T)t:{for(w=E,C=T,v=0,_=w;_;_=qo(_))v++;for(_=0,k=C;k;k=qo(k))_++;for(;0<v-_;)w=qo(w),v--;for(;0<_-v;)C=qo(C),_--;for(;v--;){if(w===C||C!==null&&w===C.alternate)break t;w=qo(w),C=qo(C)}w=null}else w=null;E!==null&&x_(h,m,E,w,!1),T!==null&&I!==null&&x_(h,I,T,w,!0)}}e:{if(m=u?ca(u):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var M=Lj;else if(d_(m))if(sT)M=Vj;else{M=$j;var N=Dj}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=Fj);if(M&&(M=M(t,u))){iT(h,M,n,f);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Og(m,"number",m.value)}switch(N=u?ca(u):window,t){case"focusin":(d_(N)||N.contentEditable==="true")&&(aa=N,Hg=u,sc=null);break;case"focusout":sc=Hg=aa=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,g_(h,n,f);break;case"selectionchange":if(Uj)break;case"keydown":case"keyup":g_(h,n,f)}var S;if(Vv)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else oa?nT(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(tT&&n.locale!=="ko"&&(oa||p!=="onCompositionStart"?p==="onCompositionEnd"&&oa&&(S=eT()):(bs=f,Dv="value"in bs?bs.value:bs.textContent,oa=!0)),N=df(u,p),0<N.length&&(p=new a_(p,t,null,n,f),h.push({event:p,listeners:N}),S?p.data=S:(S=rT(n),S!==null&&(p.data=S)))),(S=Aj?jj(t,n):Oj(t,n))&&(u=df(u,"onBeforeInput"),0<u.length&&(f=new a_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=S))}mT(h,e)})}function Rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wc(t,n),s!=null&&r.unshift(Rc(t,s,i)),s=wc(t,e),s!=null&&r.push(Rc(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=wc(n,s),c!=null&&o.unshift(Rc(n,c,a))):i||(c=wc(n,s),c!=null&&o.push(Rc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kj=/\r\n?/g,Gj=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(Kj,`
`).replace(Gj,"")}function sd(t,e,n){if(e=b_(e),b_(t)!==e&&n)throw Error(ce(425))}function ff(){}var Kg=null,Gg=null;function Qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,Qj=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,Yj=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(Xj)}:Yg;function Xj(t){setTimeout(function(){throw t})}function Am(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tc(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),di="__reactFiber$"+sl,Pc="__reactProps$"+sl,Yi="__reactContainer$"+sl,Xg="__reactEvents$"+sl,Jj="__reactListeners$"+sl,Zj="__reactHandles$"+sl;function co(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yi]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w_(t);t!==null;){if(n=t[di])return n;t=w_(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[di]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Th(t){return t[Pc]||null}var Jg=[],ua=-1;function Hs(t){return{current:t}}function Lt(t){0>ua||(t.current=Jg[ua],Jg[ua]=null,ua--)}function jt(t,e){ua++,Jg[ua]=t.current,t.current=e}var Ds={},Wn=Hs(Ds),ir=Hs(!1),xo=Ds;function Ma(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function hf(){Lt(ir),Lt(Wn)}function S_(t,e,n){if(Wn.current!==Ds)throw Error(ce(168));jt(Wn,e),jt(ir,n)}function yT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,DA(t)||"Unknown",i));return Ht({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,xo=Wn.current,jt(Wn,t),jt(ir,ir.current),!0}function E_(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=yT(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,Lt(ir),Lt(Wn),jt(Wn,t)):Lt(ir),jt(ir,n)}var Oi=null,Ch=!1,jm=!1;function vT(t){Oi===null?Oi=[t]:Oi.push(t)}function eO(t){Ch=!0,vT(t)}function qs(){if(!jm&&Oi!==null){jm=!0;var t=0,e=Et;try{var n=Oi;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Oi=null,Ch=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(t+1)),UE(Ov,qs),i}finally{Et=e,jm=!1}}return null}var da=[],fa=0,mf=null,gf=0,jr=[],Or=0,bo=null,Fi=1,Vi="";function ro(t,e){da[fa++]=gf,da[fa++]=mf,mf=t,gf=e}function xT(t,e,n){jr[Or++]=Fi,jr[Or++]=Vi,jr[Or++]=bo,bo=t;var r=Fi;t=Vi;var i=32-Zr(r)-1;r&=~(1<<i),n+=1;var s=32-Zr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fi=1<<32-Zr(e)+i|n<<i|r,Vi=s+t}else Fi=1<<s|n<<i|r,Vi=t}function Bv(t){t.return!==null&&(ro(t,1),xT(t,1,0))}function Uv(t){for(;t===mf;)mf=da[--fa],da[fa]=null,gf=da[--fa],da[fa]=null;for(;t===bo;)bo=jr[--Or],jr[Or]=null,Vi=jr[--Or],jr[Or]=null,Fi=jr[--Or],jr[Or]=null}var mr=null,fr=null,Ft=!1,Xr=null;function bT(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,fr=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bo!==null?{id:Fi,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,fr=null,!0):!1;default:return!1}}function Zg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ey(t){if(Ft){var e=fr;if(e){var n=e;if(!T_(t,e)){if(Zg(t))throw Error(ce(418));e=ks(n.nextSibling);var r=mr;e&&T_(t,e)?bT(r,n):(t.flags=t.flags&-4097|2,Ft=!1,mr=t)}}else{if(Zg(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Ft=!1,mr=t}}}function C_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function od(t){if(t!==mr)return!1;if(!Ft)return C_(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qg(t.type,t.memoizedProps)),e&&(e=fr)){if(Zg(t))throw _T(),Error(ce(418));for(;e;)bT(t,e),e=ks(e.nextSibling)}if(C_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=mr?ks(t.stateNode.nextSibling):null;return!0}function _T(){for(var t=fr;t;)t=ks(t.nextSibling)}function La(){fr=mr=null,Ft=!1}function Wv(t){Xr===null?Xr=[t]:Xr.push(t)}var tO=is.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I_(t){var e=t._init;return e(t._payload)}function wT(t){function e(C,v){if(t){var _=C.deletions;_===null?(C.deletions=[v],C.flags|=16):_.push(v)}}function n(C,v){if(!t)return null;for(;v!==null;)e(C,v),v=v.sibling;return null}function r(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function i(C,v){return C=js(C,v),C.index=0,C.sibling=null,C}function s(C,v,_){return C.index=_,t?(_=C.alternate,_!==null?(_=_.index,_<v?(C.flags|=2,v):_):(C.flags|=2,v)):(C.flags|=1048576,v)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,v,_,k){return v===null||v.tag!==6?(v=Fm(_,C.mode,k),v.return=C,v):(v=i(v,_),v.return=C,v)}function c(C,v,_,k){var M=_.type;return M===sa?f(C,v,_.props.children,k,_.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ms&&I_(M)===v.type)?(k=i(v,_.props),k.ref=jl(C,v,_),k.return=C,k):(k=Fd(_.type,_.key,_.props,null,C.mode,k),k.ref=jl(C,v,_),k.return=C,k)}function u(C,v,_,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Vm(_,C.mode,k),v.return=C,v):(v=i(v,_.children||[]),v.return=C,v)}function f(C,v,_,k,M){return v===null||v.tag!==7?(v=go(_,C.mode,k,M),v.return=C,v):(v=i(v,_),v.return=C,v)}function h(C,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Fm(""+v,C.mode,_),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yu:return _=Fd(v.type,v.key,v.props,null,C.mode,_),_.ref=jl(C,null,v),_.return=C,_;case ia:return v=Vm(v,C.mode,_),v.return=C,v;case ms:var k=v._init;return h(C,k(v._payload),_)}if(Hl(v)||Il(v))return v=go(v,C.mode,_,null),v.return=C,v;ad(C,v)}return null}function m(C,v,_,k){var M=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:a(C,v,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yu:return _.key===M?c(C,v,_,k):null;case ia:return _.key===M?u(C,v,_,k):null;case ms:return M=_._init,m(C,v,M(_._payload),k)}if(Hl(_)||Il(_))return M!==null?null:f(C,v,_,k,null);ad(C,_)}return null}function E(C,v,_,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return C=C.get(_)||null,a(v,C,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yu:return C=C.get(k.key===null?_:k.key)||null,c(v,C,k,M);case ia:return C=C.get(k.key===null?_:k.key)||null,u(v,C,k,M);case ms:var N=k._init;return E(C,v,_,N(k._payload),M)}if(Hl(k)||Il(k))return C=C.get(_)||null,f(v,C,k,M,null);ad(v,k)}return null}function T(C,v,_,k){for(var M=null,N=null,S=v,p=v=0,g=null;S!==null&&p<_.length;p++){S.index>p?(g=S,S=null):g=S.sibling;var b=m(C,S,_[p],k);if(b===null){S===null&&(S=g);break}t&&S&&b.alternate===null&&e(C,S),v=s(b,v,p),N===null?M=b:N.sibling=b,N=b,S=g}if(p===_.length)return n(C,S),Ft&&ro(C,p),M;if(S===null){for(;p<_.length;p++)S=h(C,_[p],k),S!==null&&(v=s(S,v,p),N===null?M=S:N.sibling=S,N=S);return Ft&&ro(C,p),M}for(S=r(C,S);p<_.length;p++)g=E(S,C,p,_[p],k),g!==null&&(t&&g.alternate!==null&&S.delete(g.key===null?p:g.key),v=s(g,v,p),N===null?M=g:N.sibling=g,N=g);return t&&S.forEach(function(O){return e(C,O)}),Ft&&ro(C,p),M}function w(C,v,_,k){var M=Il(_);if(typeof M!="function")throw Error(ce(150));if(_=M.call(_),_==null)throw Error(ce(151));for(var N=M=null,S=v,p=v=0,g=null,b=_.next();S!==null&&!b.done;p++,b=_.next()){S.index>p?(g=S,S=null):g=S.sibling;var O=m(C,S,b.value,k);if(O===null){S===null&&(S=g);break}t&&S&&O.alternate===null&&e(C,S),v=s(O,v,p),N===null?M=O:N.sibling=O,N=O,S=g}if(b.done)return n(C,S),Ft&&ro(C,p),M;if(S===null){for(;!b.done;p++,b=_.next())b=h(C,b.value,k),b!==null&&(v=s(b,v,p),N===null?M=b:N.sibling=b,N=b);return Ft&&ro(C,p),M}for(S=r(C,S);!b.done;p++,b=_.next())b=E(S,C,p,b.value,k),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?p:b.key),v=s(b,v,p),N===null?M=b:N.sibling=b,N=b);return t&&S.forEach(function(A){return e(C,A)}),Ft&&ro(C,p),M}function I(C,v,_,k){if(typeof _=="object"&&_!==null&&_.type===sa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yu:e:{for(var M=_.key,N=v;N!==null;){if(N.key===M){if(M=_.type,M===sa){if(N.tag===7){n(C,N.sibling),v=i(N,_.props.children),v.return=C,C=v;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ms&&I_(M)===N.type){n(C,N.sibling),v=i(N,_.props),v.ref=jl(C,N,_),v.return=C,C=v;break e}n(C,N);break}else e(C,N);N=N.sibling}_.type===sa?(v=go(_.props.children,C.mode,k,_.key),v.return=C,C=v):(k=Fd(_.type,_.key,_.props,null,C.mode,k),k.ref=jl(C,v,_),k.return=C,C=k)}return o(C);case ia:e:{for(N=_.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(C,v.sibling),v=i(v,_.children||[]),v.return=C,C=v;break e}else{n(C,v);break}else e(C,v);v=v.sibling}v=Vm(_,C.mode,k),v.return=C,C=v}return o(C);case ms:return N=_._init,I(C,v,N(_._payload),k)}if(Hl(_))return T(C,v,_,k);if(Il(_))return w(C,v,_,k);ad(C,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(C,v.sibling),v=i(v,_),v.return=C,C=v):(n(C,v),v=Fm(_,C.mode,k),v.return=C,C=v),o(C)):n(C,v)}return I}var Da=wT(!0),ST=wT(!1),yf=Hs(null),vf=null,ha=null,Hv=null;function qv(){Hv=ha=vf=null}function Kv(t){var e=yf.current;Lt(yf),t._currentValue=e}function ty(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wa(t,e){vf=t,Hv=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(vf===null)throw Error(ce(308));ha=t,vf.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var uo=null;function Gv(t){uo===null?uo=[t]:uo.push(t)}function ET(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xi(t,r)}function Xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function Qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Gv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xi(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nv(t,n)}}function k_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,f=u=c=null,a=s;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(m=e,E=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=Ht({},h,m);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=E,c=h):f=f.next=E,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wo|=o,t.lanes=o,t.memoizedState=h}}function R_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var lu={},pi=Hs(lu),Ac=Hs(lu),jc=Hs(lu);function fo(t){if(t===lu)throw Error(ce(174));return t}function Yv(t,e){switch(jt(jc,e),jt(Ac,t),jt(pi,lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mg(e,t)}Lt(pi),jt(pi,e)}function $a(){Lt(pi),Lt(Ac),Lt(jc)}function CT(t){fo(jc.current);var e=fo(pi.current),n=Mg(e,t.type);e!==n&&(jt(Ac,t),jt(pi,n))}function Xv(t){Ac.current===t&&(Lt(pi),Lt(Ac))}var Bt=Hs(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Om=[];function Jv(){for(var t=0;t<Om.length;t++)Om[t]._workInProgressVersionPrimary=null;Om.length=0}var Nd=is.ReactCurrentDispatcher,Nm=is.ReactCurrentBatchConfig,_o=0,Wt=null,mn=null,vn=null,_f=!1,oc=!1,Oc=0,nO=0;function Nn(){throw Error(ce(321))}function Zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function e0(t,e,n,r,i,s){if(_o=s,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?oO:aO,t=n(r,i),oc){s=0;do{if(oc=!1,Oc=0,25<=s)throw Error(ce(301));s+=1,vn=mn=null,e.updateQueue=null,Nd.current=lO,t=n(r,i)}while(oc)}if(Nd.current=wf,e=mn!==null&&mn.next!==null,_o=0,vn=mn=Wt=null,_f=!1,e)throw Error(ce(300));return t}function t0(){var t=Oc!==0;return Oc=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Wt.memoizedState=vn=t:vn=vn.next=t,vn}function Vr(){if(mn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=vn===null?Wt.memoizedState:vn.next;if(e!==null)vn=e,mn=t;else{if(t===null)throw Error(ce(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},vn===null?Wt.memoizedState=vn=t:vn=vn.next=t}return vn}function Nc(t,e){return typeof e=="function"?e(t):e}function Mm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var f=u.lane;if((_o&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Wt.lanes|=f,wo|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,ti(r,e.memoizedState)||(rr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wt.lanes|=s,wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ti(s,e.memoizedState)||(rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IT(){}function kT(t,e){var n=Wt,r=Vr(),i=e(),s=!ti(r.memoizedState,i);if(s&&(r.memoizedState=i,rr=!0),r=r.queue,n0(AT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vn!==null&&vn.memoizedState.tag&1){if(n.flags|=2048,Mc(9,PT.bind(null,n,r,i,e),void 0,null),bn===null)throw Error(ce(349));_o&30||RT(n,e,i)}return i}function RT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PT(t,e,n,r){e.value=n,e.getSnapshot=r,jT(e)&&OT(t)}function AT(t,e,n){return n(function(){jT(e)&&OT(t)})}function jT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ti(t,n)}catch{return!0}}function OT(t){var e=Xi(t,1);e!==null&&ei(e,t,1,-1)}function P_(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=sO.bind(null,Wt,t),[e.memoizedState,t]}function Mc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NT(){return Vr().memoizedState}function Md(t,e,n,r){var i=li();Wt.flags|=t,i.memoizedState=Mc(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var i=Vr();r=r===void 0?null:r;var s=void 0;if(mn!==null){var o=mn.memoizedState;if(s=o.destroy,r!==null&&Zv(r,o.deps)){i.memoizedState=Mc(e,n,s,r);return}}Wt.flags|=t,i.memoizedState=Mc(1|e,n,s,r)}function A_(t,e){return Md(8390656,8,t,e)}function n0(t,e){return Ih(2048,8,t,e)}function MT(t,e){return Ih(4,2,t,e)}function LT(t,e){return Ih(4,4,t,e)}function DT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $T(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,DT.bind(null,e,t),n)}function r0(){}function FT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zT(t,e,n){return _o&21?(ti(n,e)||(n=qE(),Wt.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=n)}function rO(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Et=n,Nm.transition=r}}function BT(){return Vr().memoizedState}function iO(t,e,n){var r=As(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UT(t))WT(e,n);else if(n=ET(t,e,n,r),n!==null){var i=Yn();ei(n,t,r,i),HT(n,e,r)}}function sO(t,e,n){var r=As(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UT(t))WT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ti(a,o)){var c=e.interleaved;c===null?(i.next=i,Gv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=ET(t,e,i,r),n!==null&&(i=Yn(),ei(n,t,r,i),HT(n,e,r))}}function UT(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function WT(t,e){oc=_f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nv(t,n)}}var wf={readContext:Fr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},oO={readContext:Fr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:A_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,DT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iO.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:P_,useDebugValue:r0,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=P_(!1),e=t[0];return t=rO.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,i=li();if(Ft){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),bn===null)throw Error(ce(349));_o&30||RT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,A_(AT.bind(null,r,s,t),[t]),r.flags|=2048,Mc(9,PT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=li(),e=bn.identifierPrefix;if(Ft){var n=Vi,r=Fi;n=(r&~(1<<32-Zr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:Fr,useCallback:FT,useContext:Fr,useEffect:n0,useImperativeHandle:$T,useInsertionEffect:MT,useLayoutEffect:LT,useMemo:VT,useReducer:Mm,useRef:NT,useState:function(){return Mm(Nc)},useDebugValue:r0,useDeferredValue:function(t){var e=Vr();return zT(e,mn.memoizedState,t)},useTransition:function(){var t=Mm(Nc)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:kT,useId:BT,unstable_isNewReconciler:!1},lO={readContext:Fr,useCallback:FT,useContext:Fr,useEffect:n0,useImperativeHandle:$T,useInsertionEffect:MT,useLayoutEffect:LT,useMemo:VT,useReducer:Lm,useRef:NT,useState:function(){return Lm(Nc)},useDebugValue:r0,useDeferredValue:function(t){var e=Vr();return mn===null?e.memoizedState=t:zT(e,mn.memoizedState,t)},useTransition:function(){var t=Lm(Nc)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:kT,useId:BT,unstable_isNewReconciler:!1};function Qr(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ny(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=As(t),s=Wi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rs(t,s,i),e!==null&&(ei(e,t,i,r),Od(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=As(t),s=Wi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rs(t,s,i),e!==null&&(ei(e,t,i,r),Od(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=As(t),i=Wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,r),e!==null&&(ei(e,t,r,n),Od(e,t,r))}};function j_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(i,s):!0}function qT(t,e,n){var r=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Fr(s):(i=sr(e)?xo:Wn.current,r=e.contextTypes,s=(r=r!=null)?Ma(t,i):Ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function ry(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fr(s):(s=sr(e)?xo:Wn.current,i.context=Ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ny(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kh.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=LA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function KT(t,e,n){n=Wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ef||(Ef=!0,py=r),iy(t,e)},n}function GT(t,e,n){n=Wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){iy(t,e),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SO.bind(null,t,e,n),e.then(t,t))}function M_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wi(-1,1),e.tag=2,Rs(n,e,1))),n.lanes|=1),t)}var uO=is.ReactCurrentOwner,rr=!1;function Gn(t,e,n,r){e.child=t===null?ST(e,null,n,r):Da(e,t.child,n,r)}function D_(t,e,n,r,i){n=n.render;var s=e.ref;return wa(e,i),r=e0(t,e,n,r,s,i),n=t0(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Ft&&n&&Bv(e),e.flags|=1,Gn(t,e,r,i),e.child)}function $_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!d0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QT(t,e,s,r,i)):(t=Fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(o,r)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=js(s,r),t.ref=e.ref,t.return=e,e.child=t}function QT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ic(s,r)&&t.ref===e.ref)if(rr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return sy(t,e,n,r,i)}function YT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(ma,ur),ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(ma,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jt(ma,ur),ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jt(ma,ur),ur|=r;return Gn(t,e,i,n),e.child}function XT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sy(t,e,n,r,i){var s=sr(n)?xo:Wn.current;return s=Ma(e,s),wa(e,i),n=e0(t,e,n,r,s,i),r=t0(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Ft&&r&&Bv(e),e.flags|=1,Gn(t,e,n,i),e.child)}function F_(t,e,n,r,i){if(sr(n)){var s=!0;pf(e)}else s=!1;if(wa(e,i),e.stateNode===null)Ld(t,e),qT(e,n,r),ry(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=sr(n)?xo:Wn.current,u=Ma(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&O_(e,o,r,u),gs=!1;var m=e.memoizedState;o.state=m,xf(e,r,o,i),c=e.memoizedState,a!==r||m!==c||ir.current||gs?(typeof f=="function"&&(ny(e,n,f,r),c=e.memoizedState),(a=gs||j_(e,n,a,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qr(e.type,a),o.props=u,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=sr(n)?xo:Wn.current,c=Ma(e,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&O_(e,o,r,c),gs=!1,m=e.memoizedState,o.state=m,xf(e,r,o,i);var T=e.memoizedState;a!==h||m!==T||ir.current||gs?(typeof E=="function"&&(ny(e,n,E,r),T=e.memoizedState),(u=gs||j_(e,n,u,r,m,T,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return oy(t,e,n,r,s,i)}function oy(t,e,n,r,i,s){XT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&E_(e,n,!1),Ji(t,e,s);r=e.stateNode,uO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&E_(e,n,!0),e.child}function JT(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),Yv(t,e.containerInfo)}function V_(t,e,n,r,i){return La(),Wv(i),e.flags|=256,Gn(t,e,n,r),e.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function ly(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZT(t,e,n){var r=e.pendingProps,i=Bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jt(Bt,i&1),t===null)return ey(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,r,0,null),t=go(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ly(n),e.memoizedState=ay,t):i0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=js(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=js(a,s):(s=go(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ly(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ay,r}return s=t.child,t=s.sibling,r=js(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function i0(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ld(t,e,n,r){return r!==null&&Wv(r),Da(e,t.child,null,n),t=i0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dm(Error(ce(422))),ld(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ah({mode:"visible",children:r.children},i,0,null),s=go(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=ly(o),e.memoizedState=ay,s);if(!(e.mode&1))return ld(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ce(419)),r=Dm(s,r,void 0),ld(t,e,o,r)}if(a=(o&t.childLanes)!==0,rr||a){if(r=bn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xi(t,i),ei(r,t,i,-1))}return u0(),r=Dm(Error(ce(421))),ld(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fr=ks(i.nextSibling),mr=e,Ft=!0,Xr=null,t!==null&&(jr[Or++]=Fi,jr[Or++]=Vi,jr[Or++]=bo,Fi=t.id,Vi=t.overflow,bo=e),e=i0(e,r.children),e.flags|=4096,e)}function z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ty(t.return,e,n)}function $m(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=Bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z_(t,n,e);else if(t.tag===19)z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(Bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$m(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$m(e,!0,n,null,s);break;case"together":$m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fO(t,e,n){switch(e.tag){case 3:JT(e),La();break;case 5:CT(e);break;case 1:sr(e.type)&&pf(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jt(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(Bt,Bt.current&1),e.flags|=128,null):n&e.child.childLanes?ZT(t,e,n):(jt(Bt,Bt.current&1),t=Ji(t,e,n),t!==null?t.sibling:null);jt(Bt,Bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(Bt,Bt.current),r)break;return null;case 22:case 23:return e.lanes=0,YT(t,e,n)}return Ji(t,e,n)}var tC,cy,nC,rC;tC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cy=function(){};nC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fo(pi.current);var s=null;switch(n){case"input":i=Ag(t,i),r=Ag(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=Ng(t,i),r=Ng(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}Lg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ol(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hO(t,e,n){var r=e.pendingProps;switch(Uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return sr(e.type)&&hf(),Mn(e),null;case 3:return r=e.stateNode,$a(),Lt(ir),Lt(Wn),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xr!==null&&(yy(Xr),Xr=null))),cy(t,e),Mn(e),null;case 5:Xv(e);var i=fo(jc.current);if(n=e.type,t!==null&&e.stateNode!=null)nC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Mn(e),null}if(t=fo(pi.current),od(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[di]=e,r[Pc]=s,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)Nt(Kl[i],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Yb(r,s),Nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",r);break;case"textarea":Jb(r,s),Nt("invalid",r)}Lg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),i=["children",""+a]):bc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",r)}switch(n){case"input":Xu(r),Xb(r,s,!0);break;case"textarea":Xu(r),Zb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[di]=e,t[Pc]=r,tC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dg(n,r),n){case"dialog":Nt("cancel",t),Nt("close",t),i=r;break;case"iframe":case"object":case"embed":Nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)Nt(Kl[i],t);i=r;break;case"source":Nt("error",t),i=r;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),i=r;break;case"details":Nt("toggle",t),i=r;break;case"input":Yb(t,r),i=Ag(t,r),Nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Nt("invalid",t);break;case"textarea":Jb(t,r),i=Ng(t,r),Nt("invalid",t);break;default:i=r}Lg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?NE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_c(t,c):typeof c=="number"&&_c(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Nt("scroll",t):c!=null&&kv(t,s,c,o))}switch(n){case"input":Xu(t),Xb(t,r,!1);break;case"textarea":Xu(t),Zb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ls(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)rC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=fo(jc.current),fo(pi.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:sd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Mn(e),null;case 13:if(Lt(Bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&fr!==null&&e.mode&1&&!(e.flags&128))_T(),La(),e.flags|=98560,s=!1;else if(s=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[di]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Xr!==null&&(yy(Xr),Xr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?gn===0&&(gn=3):u0())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return $a(),cy(t,e),t===null&&kc(e.stateNode.containerInfo),Mn(e),null;case 10:return Kv(e.type._context),Mn(e),null;case 17:return sr(e.type)&&hf(),Mn(e),null;case 19:if(Lt(Bt),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ol(s,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bf(t),o!==null){for(e.flags|=128,Ol(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&en()>Va&&(e.flags|=128,r=!0,Ol(s,!1),e.lanes=4194304)}else{if(!r)if(t=bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return Mn(e),null}else 2*en()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Ol(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=en(),e.sibling=null,n=Bt.current,jt(Bt,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return c0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function pO(t,e){switch(Uv(e),e.tag){case 1:return sr(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Lt(ir),Lt(Wn),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Lt(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Bt),null;case 4:return $a(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var cd=!1,Bn=!1,mO=typeof WeakSet=="function"?WeakSet:Set,xe=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xt(t,e,r)}else n.current=null}function uy(t,e,n){try{n()}catch(r){Xt(t,e,r)}}var B_=!1;function gO(t,e){if(Kg=cf,t=lT(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++f===r&&(c=o),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gg={focusedElem:t,selectionRange:n},cf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,I=T.memoizedState,C=e.stateNode,v=C.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qr(e.type,w),I);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(k){Xt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return T=B_,B_=!1,T}function ac(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uy(e,n,s)}i=i.next}while(i!==r)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iC(t){var e=t.alternate;e!==null&&(t.alternate=null,iC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Pc],delete e[Xg],delete e[Jj],delete e[Zj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sC(t){return t.tag===5||t.tag===3||t.tag===4}function U_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(fy(t,e,n),t=t.sibling;t!==null;)fy(t,e,n),t=t.sibling}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}var En=null,Yr=!1;function fs(t,e,n){for(n=n.child;n!==null;)oC(t,e,n),n=n.sibling}function oC(t,e,n){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:Bn||pa(n,e);case 6:var r=En,i=Yr;En=null,fs(t,e,n),En=r,Yr=i,En!==null&&(Yr?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Yr?(t=En,n=n.stateNode,t.nodeType===8?Am(t.parentNode,n):t.nodeType===1&&Am(t,n),Tc(t)):Am(En,n.stateNode));break;case 4:r=En,i=Yr,En=n.stateNode.containerInfo,Yr=!0,fs(t,e,n),En=r,Yr=i;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uy(n,e,o),i=i.next}while(i!==r)}fs(t,e,n);break;case 1:if(!Bn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xt(n,e,a)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,fs(t,e,n),Bn=r):fs(t,e,n);break;default:fs(t,e,n)}}function W_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mO),e.forEach(function(r){var i=TO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Yr=!1;break e;case 3:En=a.stateNode.containerInfo,Yr=!0;break e;case 4:En=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(En===null)throw Error(ce(160));oC(s,o,i),En=null,Yr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aC(e,t),e=e.sibling}function aC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),ai(t),r&4){try{ac(3,t,t.return),Rh(3,t)}catch(w){Xt(t,t.return,w)}try{ac(5,t,t.return)}catch(w){Xt(t,t.return,w)}}break;case 1:Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(w){Xt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RE(i,s),Dg(a,o);var u=Dg(a,s);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?NE(i,h):f==="dangerouslySetInnerHTML"?jE(i,h):f==="children"?_c(i,h):kv(i,f,h,u)}switch(a){case"input":jg(i,s);break;case"textarea":PE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?va(i,!!s.multiple,E,!1):m!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pc]=s}catch(w){Xt(t,t.return,w)}}break;case 6:if(Gr(e,t),ai(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Xt(t,t.return,w)}}break;case 3:if(Gr(e,t),ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(w){Xt(t,t.return,w)}break;case 4:Gr(e,t),ai(t);break;case 13:Gr(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(a0=en())),r&4&&W_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Bn=(u=Bn)||f,Gr(e,t),Bn=u):Gr(e,t),ai(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(h=xe=f;xe!==null;){switch(m=xe,E=m.child,m.tag){case 0:case 11:case 14:case 15:ac(4,m,m.return);break;case 1:pa(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){Xt(r,n,w)}}break;case 5:pa(m,m.return);break;case 22:if(m.memoizedState!==null){q_(h);continue}}E!==null?(E.return=m,xe=E):q_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=OE("display",o))}catch(w){Xt(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Xt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gr(e,t),ai(t),r&4&&W_(t);break;case 21:break;default:Gr(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sC(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var s=U_(t);hy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=U_(t);fy(t,a,o);break;default:throw Error(ce(161))}}catch(c){Xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yO(t,e,n){xe=t,lC(t)}function lC(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cd;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Bn;a=cd;var u=Bn;if(cd=o,(Bn=c)&&!u)for(xe=i;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?K_(i):c!==null?(c.return=o,xe=c):K_(i);for(;s!==null;)xe=s,lC(s),s=s.sibling;xe=i,cd=a,Bn=u}H_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):H_(t)}}function H_(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bn||Rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&R_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}R_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Bn||e.flags&512&&dy(e)}catch(m){Xt(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function q_(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function K_(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(c){Xt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Xt(e,i,c)}}var s=e.return;try{dy(e)}catch(c){Xt(e,s,c)}break;case 5:var o=e.return;try{dy(e)}catch(c){Xt(e,o,c)}}}catch(c){Xt(e,e.return,c)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var vO=Math.ceil,Sf=is.ReactCurrentDispatcher,s0=is.ReactCurrentOwner,Lr=is.ReactCurrentBatchConfig,mt=0,bn=null,cn=null,In=0,ur=0,ma=Hs(0),gn=0,Lc=null,wo=0,Ph=0,o0=0,lc=null,tr=null,a0=0,Va=1/0,ji=null,Ef=!1,py=null,Ps=null,ud=!1,_s=null,Tf=0,cc=0,my=null,Dd=-1,$d=0;function Yn(){return mt&6?en():Dd!==-1?Dd:Dd=en()}function As(t){return t.mode&1?mt&2&&In!==0?In&-In:tO.transition!==null?($d===0&&($d=qE()),$d):(t=Et,t!==0||(t=window.event,t=t===void 0?16:ZE(t.type)),t):1}function ei(t,e,n,r){if(50<cc)throw cc=0,my=null,Error(ce(185));su(t,n,r),(!(mt&2)||t!==bn)&&(t===bn&&(!(mt&2)&&(Ph|=n),gn===4&&xs(t,In)),or(t,r),n===1&&mt===0&&!(e.mode&1)&&(Va=en()+500,Ch&&qs()))}function or(t,e){var n=t.callbackNode;tj(t,e);var r=lf(t,t===bn?In:0);if(r===0)n!==null&&n_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n_(n),e===1)t.tag===0?eO(G_.bind(null,t)):vT(G_.bind(null,t)),Yj(function(){!(mt&6)&&qs()}),n=null;else{switch(KE(r)){case 1:n=Ov;break;case 4:n=WE;break;case 16:n=af;break;case 536870912:n=HE;break;default:n=af}n=gC(n,cC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cC(t,e){if(Dd=-1,$d=0,mt&6)throw Error(ce(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=lf(t,t===bn?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=mt;mt|=2;var s=dC();(bn!==t||In!==e)&&(ji=null,Va=en()+500,mo(t,e));do try{_O();break}catch(a){uC(t,a)}while(!0);qv(),Sf.current=s,mt=i,cn!==null?e=0:(bn=null,In=0,e=gn)}if(e!==0){if(e===2&&(i=Bg(t),i!==0&&(r=i,e=gy(t,i))),e===1)throw n=Lc,mo(t,0),xs(t,r),or(t,en()),n;if(e===6)xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!xO(i)&&(e=Cf(t,r),e===2&&(s=Bg(t),s!==0&&(r=s,e=gy(t,s))),e===1))throw n=Lc,mo(t,0),xs(t,r),or(t,en()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:io(t,tr,ji);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=a0+500-en(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yg(io.bind(null,t,tr,ji),e);break}io(t,tr,ji);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vO(r/1960))-r,10<r){t.timeoutHandle=Yg(io.bind(null,t,tr,ji),r);break}io(t,tr,ji);break;case 5:io(t,tr,ji);break;default:throw Error(ce(329))}}}return or(t,en()),t.callbackNode===n?cC.bind(null,t):null}function gy(t,e){var n=lc;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=tr,tr=n,e!==null&&yy(e)),t}function yy(t){tr===null?tr=t:tr.push.apply(tr,t)}function xO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ti(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~o0,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zr(e),r=1<<n;t[n]=-1,e&=~r}}function G_(t){if(mt&6)throw Error(ce(327));Sa();var e=lf(t,0);if(!(e&1))return or(t,en()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=Bg(t);r!==0&&(e=r,n=gy(t,r))}if(n===1)throw n=Lc,mo(t,0),xs(t,e),or(t,en()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,tr,ji),or(t,en()),null}function l0(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(Va=en()+500,Ch&&qs())}}function So(t){_s!==null&&_s.tag===0&&!(mt&6)&&Sa();var e=mt;mt|=1;var n=Lr.transition,r=Et;try{if(Lr.transition=null,Et=1,t)return t()}finally{Et=r,Lr.transition=n,mt=e,!(mt&6)&&qs()}}function c0(){ur=ma.current,Lt(ma)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qj(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:$a(),Lt(ir),Lt(Wn),Jv();break;case 5:Xv(r);break;case 4:$a();break;case 13:Lt(Bt);break;case 19:Lt(Bt);break;case 10:Kv(r.type._context);break;case 22:case 23:c0()}n=n.return}if(bn=t,cn=t=js(t.current,null),In=ur=e,gn=0,Lc=null,o0=Ph=wo=0,tr=lc=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}uo=null}return t}function uC(t,e){do{var n=cn;try{if(qv(),Nd.current=wf,_f){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_f=!1}if(_o=0,vn=mn=Wt=null,oc=!1,Oc=0,s0.current=null,n===null||n.return===null){gn=1,Lc=e,cn=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=In,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=M_(o);if(E!==null){E.flags&=-257,L_(E,o,a,s,e),E.mode&1&&N_(s,u,e),e=E,c=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(c),e.updateQueue=w}else T.add(c);break e}else{if(!(e&1)){N_(s,u,e),u0();break e}c=Error(ce(426))}}else if(Ft&&a.mode&1){var I=M_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),L_(I,o,a,s,e),Wv(Fa(c,a));break e}}s=c=Fa(c,a),gn!==4&&(gn=2),lc===null?lc=[s]:lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=KT(s,c,e);k_(s,C);break e;case 1:a=c;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ps===null||!Ps.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=GT(s,a,e);k_(s,k);break e}}s=s.return}while(s!==null)}hC(n)}catch(M){e=M,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function dC(){var t=Sf.current;return Sf.current=wf,t===null?wf:t}function u0(){(gn===0||gn===3||gn===2)&&(gn=4),bn===null||!(wo&268435455)&&!(Ph&268435455)||xs(bn,In)}function Cf(t,e){var n=mt;mt|=2;var r=dC();(bn!==t||In!==e)&&(ji=null,mo(t,e));do try{bO();break}catch(i){uC(t,i)}while(!0);if(qv(),mt=n,Sf.current=r,cn!==null)throw Error(ce(261));return bn=null,In=0,gn}function bO(){for(;cn!==null;)fC(cn)}function _O(){for(;cn!==null&&!qA();)fC(cn)}function fC(t){var e=mC(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?hC(t):cn=e,s0.current=null}function hC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pO(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,cn=null;return}}else if(n=hO(n,e,ur),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);gn===0&&(gn=5)}function io(t,e,n){var r=Et,i=Lr.transition;try{Lr.transition=null,Et=1,wO(t,e,n,r)}finally{Lr.transition=i,Et=r}return null}function wO(t,e,n,r){do Sa();while(_s!==null);if(mt&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nj(t,s),t===bn&&(cn=bn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,gC(af,function(){return Sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=Et;Et=1;var a=mt;mt|=4,s0.current=null,gO(t,n),aC(n,t),Bj(Gg),cf=!!Kg,Gg=Kg=null,t.current=n,yO(n),KA(),mt=a,Et=o,Lr.transition=s}else t.current=n;if(ud&&(ud=!1,_s=t,Tf=i),s=t.pendingLanes,s===0&&(Ps=null),YA(n.stateNode),or(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=py,py=null,t;return Tf&1&&t.tag!==0&&Sa(),s=t.pendingLanes,s&1?t===my?cc++:(cc=0,my=t):cc=0,qs(),null}function Sa(){if(_s!==null){var t=KE(Tf),e=Lr.transition,n=Et;try{if(Lr.transition=null,Et=16>t?16:t,_s===null)var r=!1;else{if(t=_s,_s=null,Tf=0,mt&6)throw Error(ce(331));var i=mt;for(mt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(xe=u;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:ac(8,f,s)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var m=f.sibling,E=f.return;if(iC(f),f===u){xe=null;break}if(m!==null){m.return=E,xe=m;break}xe=E}}}var T=s.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,xe=C;break e}xe=s.return}}var v=t.current;for(xe=v;xe!==null;){o=xe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xe=_;else e:for(o=v;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rh(9,a)}}catch(M){Xt(a,a.return,M)}if(a===o){xe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,xe=k;break e}xe=a.return}}if(mt=i,qs(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(_h,t)}catch{}r=!0}return r}finally{Et=n,Lr.transition=e}}return!1}function Q_(t,e,n){e=Fa(n,e),e=KT(t,e,1),t=Rs(t,e,1),e=Yn(),t!==null&&(su(t,1,e),or(t,e))}function Xt(t,e,n){if(t.tag===3)Q_(t,t,n);else for(;e!==null;){if(e.tag===3){Q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=Fa(n,t),t=GT(e,t,1),e=Rs(e,t,1),t=Yn(),e!==null&&(su(e,1,t),or(e,t));break}}e=e.return}}function SO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,bn===t&&(In&n)===n&&(gn===4||gn===3&&(In&130023424)===In&&500>en()-a0?mo(t,0):o0|=n),or(t,e)}function pC(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var n=Yn();t=Xi(t,e),t!==null&&(su(t,e,n),or(t,n))}function EO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pC(t,n)}function TO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),pC(t,n)}var mC;mC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rr=!1,fO(t,e,n);rr=!!(t.flags&131072)}else rr=!1,Ft&&e.flags&1048576&&xT(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ld(t,e),t=e.pendingProps;var i=Ma(e,Wn.current);wa(e,n),i=e0(null,e,r,t,i,n);var s=t0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(e),i.updater=kh,e.stateNode=i,i._reactInternals=e,ry(e,r,t,n),e=oy(null,e,r,!0,s,n)):(e.tag=0,Ft&&s&&Bv(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ld(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IO(r),t=Qr(r,t),i){case 0:e=sy(null,e,r,t,n);break e;case 1:e=F_(null,e,r,t,n);break e;case 11:e=D_(null,e,r,t,n);break e;case 14:e=$_(null,e,r,Qr(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),sy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),F_(t,e,r,i,n);case 3:e:{if(JT(e),t===null)throw Error(ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TT(t,e),xf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fa(Error(ce(423)),e),e=V_(t,e,r,n,i);break e}else if(r!==i){i=Fa(Error(ce(424)),e),e=V_(t,e,r,n,i);break e}else for(fr=ks(e.stateNode.containerInfo.firstChild),mr=e,Ft=!0,Xr=null,n=ST(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Ji(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return CT(e),t===null&&ey(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qg(r,i)?o=null:s!==null&&Qg(r,s)&&(e.flags|=32),XT(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&ey(e),null;case 13:return ZT(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),D_(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jt(yf,r._currentValue),r._currentValue=o,s!==null)if(ti(s.value,o)){if(s.children===i.children&&!ir.current){e=Ji(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Wi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ty(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ty(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wa(e,n),i=Fr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Qr(r,e.pendingProps),i=Qr(r.type,i),$_(t,e,r,i,n);case 15:return QT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),Ld(t,e),e.tag=1,sr(r)?(t=!0,pf(e)):t=!1,wa(e,n),qT(e,r,i),ry(e,r,i,n),oy(null,e,r,!0,t,n);case 19:return eC(t,e,n);case 22:return YT(t,e,n)}throw Error(ce(156,e.tag))};function gC(t,e){return UE(t,e)}function CO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new CO(t,e,n,r)}function d0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IO(t){if(typeof t=="function")return d0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pv)return 11;if(t===Av)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")d0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return go(n.children,i,s,e);case Rv:o=8,i|=8;break;case Ig:return t=Mr(12,n,e,i|2),t.elementType=Ig,t.lanes=s,t;case kg:return t=Mr(13,n,e,i),t.elementType=kg,t.lanes=s,t;case Rg:return t=Mr(19,n,e,i),t.elementType=Rg,t.lanes=s,t;case CE:return Ah(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:o=10;break e;case TE:o=9;break e;case Pv:o=11;break e;case Av:o=14;break e;case ms:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function go(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=CE,t.lanes=n,t.stateNode={isHidden:!1},t}function Fm(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function Vm(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bm(0),this.expirationTimes=bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f0(t,e,n,r,i,s,o,a,c){return t=new kO(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(s),t}function RO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yC(t){if(!t)return Ds;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(sr(n))return yT(t,n,e)}return e}function vC(t,e,n,r,i,s,o,a,c){return t=f0(n,r,!0,t,i,s,o,a,c),t.context=yC(null),n=t.current,r=Yn(),i=As(n),s=Wi(r,i),s.callback=e??null,Rs(n,s,i),t.current.lanes=i,su(t,i,r),or(t,r),t}function jh(t,e,n,r){var i=e.current,s=Yn(),o=As(i);return n=yC(n),e.context===null?e.context=n:e.pendingContext=n,e=Wi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rs(i,e,o),t!==null&&(ei(t,i,o,s),Od(t,i,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h0(t,e){Y_(t,e),(t=t.alternate)&&Y_(t,e)}function PO(){return null}var xC=typeof reportError=="function"?reportError:function(t){console.error(t)};function p0(t){this._internalRoot=t}Oh.prototype.render=p0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));jh(t,e,null,null)};Oh.prototype.unmount=p0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){jh(null,t,null,null)}),e[Yi]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=YE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vs.length&&e!==0&&e<vs[n].priority;n++);vs.splice(n,0,t),n===0&&JE(t)}};function m0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X_(){}function AO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=If(o);s.call(u)}}var o=vC(e,r,t,0,null,!1,!1,"",X_);return t._reactRootContainer=o,t[Yi]=o.current,kc(t.nodeType===8?t.parentNode:t),So(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=If(c);a.call(u)}}var c=f0(t,0,!1,null,null,!1,!1,"",X_);return t._reactRootContainer=c,t[Yi]=c.current,kc(t.nodeType===8?t.parentNode:t),So(function(){jh(e,c,n,r)}),c}function Mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=If(o);a.call(c)}}jh(e,o,t,i)}else o=AO(n,e,t,i,r);return If(o)}GE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(Nv(e,n|1),or(e,en()),!(mt&6)&&(Va=en()+500,qs()))}break;case 13:So(function(){var r=Xi(t,1);if(r!==null){var i=Yn();ei(r,t,1,i)}}),h0(t,1)}};Mv=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var n=Yn();ei(e,t,134217728,n)}h0(t,134217728)}};QE=function(t){if(t.tag===13){var e=As(t),n=Xi(t,e);if(n!==null){var r=Yn();ei(n,t,e,r)}h0(t,e)}};YE=function(){return Et};XE=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};Fg=function(t,e,n){switch(e){case"input":if(jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Th(r);if(!i)throw Error(ce(90));kE(r),jg(r,i)}}}break;case"textarea":PE(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};DE=l0;$E=So;var jO={usingClientEntryPoint:!1,Events:[au,ca,Th,ME,LE,l0]},Nl={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OO={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zE(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||PO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{_h=dd.inject(OO),hi=dd}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(e))throw Error(ce(200));return RO(t,e,null,n)};wr.createRoot=function(t,e){if(!m0(t))throw Error(ce(299));var n=!1,r="",i=xC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f0(t,1,!1,null,null,n,!1,r,i),t[Yi]=e.current,kc(t.nodeType===8?t.parentNode:t),new p0(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=zE(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return So(t)};wr.hydrate=function(t,e,n){if(!Nh(e))throw Error(ce(200));return Mh(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!m0(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vC(e,null,t,1,n??null,i,!1,s,o),t[Yi]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oh(e)};wr.render=function(t,e,n){if(!Nh(e))throw Error(ce(200));return Mh(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!Nh(t))throw Error(ce(40));return t._reactRootContainer?(So(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};wr.unstable_batchedUpdates=l0;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nh(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Mh(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function bC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bC)}catch(t){console.error(t)}}bC(),bE.exports=wr;var g0=bE.exports;const fd=gh(g0);var J_=g0;Tg.createRoot=J_.createRoot,Tg.hydrateRoot=J_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}var ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ws||(ws={}));const Z_="popstate";function NO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=Mo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),vy("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof s=="string"?s:kf(s))}function r(i,s){y0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return LO(e,n,r,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MO(){return Math.random().toString(36).substr(2,8)}function e1(t,e){return{usr:t.state,key:t.key,idx:e}}function vy(t,e,n,r){return n===void 0&&(n=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||r||MO()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ws.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Dc({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=ws.Pop;let I=f(),C=I==null?null:I-u;u=I,c&&c({action:a,location:w.location,delta:C})}function m(I,C){a=ws.Push;let v=vy(w.location,I,C);n&&n(v,I),u=f()+1;let _=e1(v,u),k=w.createHref(v);try{o.pushState(_,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&c&&c({action:a,location:w.location,delta:1})}function E(I,C){a=ws.Replace;let v=vy(w.location,I,C);n&&n(v,I),u=f();let _=e1(v,u),k=w.createHref(v);o.replaceState(_,"",k),s&&c&&c({action:a,location:w.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:kf(I);return v=v.replace(/ $/,"%20"),nn(C,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,C)}let w={get action(){return a},get location(){return t(i,o)},listen(I){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Z_,h),c=I,()=>{i.removeEventListener(Z_,h),c=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:E,go(I){return o.go(I)}};return w}var t1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t1||(t1={}));function DO(t,e,n){return n===void 0&&(n="/"),$O(t,e,n)}function $O(t,e,n,r){let i=typeof e=="string"?Mo(e):e,s=v0(i.pathname||"/",n);if(s==null)return null;let o=_C(t);FO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=XO(s);a=GO(o[c],u)}return a}function _C(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(nn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Os([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_C(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:qO(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of wC(s.path))i(s,o,c)}),e}function wC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wC(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function FO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VO=/^:[\w-]+$/,zO=3,BO=2,UO=1,WO=10,HO=-2,n1=t=>t==="*";function qO(t,e){let n=t.split("/"),r=n.length;return n.some(n1)&&(r+=HO),e&&(r+=BO),n.filter(i=>!n1(i)).reduce((i,s)=>i+(VO.test(s)?zO:s===""?UO:WO),r)}function KO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=QO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Os([s,h.pathname]),pathnameBase:tN(Os([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Os([s,h.pathnameBase]))}return o}function QO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return E&&!T?u[m]=void 0:u[m]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function YO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),y0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return y0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function v0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:ZO(n,e):e,search:nN(r),hash:rN(i)}}function ZO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t,e){let n=eN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mo(t):(i=Dc({},t),nn(!i.pathname||!i.pathname.includes("?"),zm("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),zm("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),zm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let c=JO(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),tN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SC=["post","put","patch","delete"];new Set(SC);const sN=["get",...SC];new Set(sN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}const _0=x.createContext(null),oN=x.createContext(null),Ks=x.createContext(null),Lh=x.createContext(null),ss=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EC=x.createContext(null);function aN(t,e){let{relative:n}=e===void 0?{}:e;ol()||nn(!1);let{basename:r,navigator:i}=x.useContext(Ks),{hash:s,pathname:o,search:a}=CC(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Os([r,o])),i.createHref({pathname:c,search:a,hash:s})}function ol(){return x.useContext(Lh)!=null}function Lo(){return ol()||nn(!1),x.useContext(Lh).location}function TC(t){x.useContext(Ks).static||x.useLayoutEffect(t)}function Er(){let{isDataRoute:t}=x.useContext(ss);return t?bN():lN()}function lN(){ol()||nn(!1);let t=x.useContext(_0),{basename:e,future:n,navigator:r}=x.useContext(Ks),{matches:i}=x.useContext(ss),{pathname:s}=Lo(),o=JSON.stringify(x0(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return TC(()=>{a.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=b0(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Os([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function cu(){let{matches:t}=x.useContext(ss),e=t[t.length-1];return e?e.params:{}}function CC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Ks),{matches:i}=x.useContext(ss),{pathname:s}=Lo(),o=JSON.stringify(x0(i,r.v7_relativeSplatPath));return x.useMemo(()=>b0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cN(t,e){return uN(t,e)}function uN(t,e,n,r){ol()||nn(!1);let{navigator:i}=x.useContext(Ks),{matches:s}=x.useContext(ss),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lo(),f;if(e){var h;let I=typeof e=="string"?Mo(e):e;c==="/"||(h=I.pathname)!=null&&h.startsWith(c)||nn(!1),f=I}else f=u;let m=f.pathname||"/",E=m;if(c!=="/"){let I=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=DO(t,{pathname:E}),w=mN(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Os([c,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Os([c,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&w?x.createElement(Lh.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ws.Pop}},w):w}function dN(){let t=xN(),e=iN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const fN=x.createElement(dN,null);class hN extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ss.Provider,{value:this.props.routeContext},x.createElement(EC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pN(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(_0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ss.Provider,{value:e},r)}function mN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||nn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:E}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||T){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let E,T=!1,w=null,I=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||fN,c&&(u<0&&m===0?(_N("route-fallback"),T=!0,I=null):u===m&&(T=!0,I=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),v=()=>{let _;return E?_=w:T?_=I:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,x.createElement(pN,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(hN,{location:n.location,revalidation:n.revalidation,component:w,error:E,children:v(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):v()},null)}var IC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IC||{}),kC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kC||{});function gN(t){let e=x.useContext(_0);return e||nn(!1),e}function yN(t){let e=x.useContext(oN);return e||nn(!1),e}function vN(t){let e=x.useContext(ss);return e||nn(!1),e}function RC(t){let e=vN(),n=e.matches[e.matches.length-1];return n.route.id||nn(!1),n.route.id}function xN(){var t;let e=x.useContext(EC),n=yN(),r=RC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bN(){let{router:t}=gN(IC.UseNavigateStable),e=RC(kC.UseNavigateStable),n=x.useRef(!1);return TC(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$c({fromRouteId:e},s)))},[t,e])}const r1={};function _N(t,e,n){r1[t]||(r1[t]=!0)}function wN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function SN(t){let{to:e,replace:n,state:r,relative:i}=t;ol()||nn(!1);let{future:s,static:o}=x.useContext(Ks),{matches:a}=x.useContext(ss),{pathname:c}=Lo(),u=Er(),f=b0(e,x0(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Gt(t){nn(!1)}function EN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ws.Pop,navigator:s,static:o=!1,future:a}=t;ol()&&nn(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:$c({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Mo(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:T="default"}=r,w=x.useMemo(()=>{let I=v0(f,c);return I==null?null:{location:{pathname:I,search:h,hash:m,state:E,key:T},navigationType:i}},[c,f,h,m,E,T,i]);return w==null?null:x.createElement(Ks.Provider,{value:u},x.createElement(Lh.Provider,{children:n,value:w}))}function TN(t){let{children:e,location:n}=t;return cN(xy(e),n)}new Promise(()=>{});function xy(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,xy(r.props.children,s));return}r.type!==Gt&&nn(!1),!r.props.index||!r.props.children||nn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function CN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function IN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kN(t,e){return t.button===0&&(!e||e==="_self")&&!IN(t)}const RN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const AN="startTransition",i1=nf[AN];function jN(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=NO({window:i,v5Compat:!0}));let o=s.current,[a,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=x.useCallback(h=>{u&&i1?i1(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>wN(r),[r]),x.createElement(EN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=e,m=CN(e,RN),{basename:E}=x.useContext(Ks),T,w=!1;if(typeof u=="string"&&NN.test(u)&&(T=u,ON))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),M=v0(k.pathname,E);k.origin===_.origin&&M!=null?u=M+k.search+k.hash:w=!0}catch{}let I=aN(u,{relative:i}),C=MN(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function v(_){r&&r(_),_.defaultPrevented||C(_)}return x.createElement("a",by({},m,{href:T||I,onClick:w||s?r:v,ref:n,target:c}))});var s1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s1||(s1={}));var o1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o1||(o1={}));function MN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Er(),u=Lo(),f=CC(t,{relative:o});return x.useCallback(h=>{if(kN(h,n)){h.preventDefault();let m=r!==void 0?r:kf(u)===kf(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,f,r,i,n,t,s,o,a])}var a1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,E=u&63;c||(E=64,o||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new DN;const m=s<<2|a>>4;if(r.push(m),u!==64){const E=a<<4&240|u>>2;if(r.push(E),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=PC(t);return AC.encodeByteArray(e,!0)},Rf=function(t){return $N(t).replace(/\./g,"")},jC=function(t){try{return AC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=()=>FN().__FIREBASE_DEFAULTS__,zN=()=>{if(typeof process>"u"||typeof a1>"u")return;const t=a1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jC(t[1]);return e&&JSON.parse(e)},$h=()=>{try{return VN()||zN()||BN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OC=t=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NC=t=>{const e=OC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MC=()=>{var t;return(t=$h())===null||t===void 0?void 0:t.config},LC=t=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function HN(){var t;const e=(t=$h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QN(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YN(){return!HN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function JN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZN,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ci(i,a,r)}}function eM(t,e){return t.replace(tM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tM=/\{\$([^}]+)}/g;function nM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(l1(s)&&l1(o)){if(!Pf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rM(t,e){const n=new iM(t,e);return n.subscribe.bind(n)}class iM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bm),i.error===void 0&&(i.error=Bm),i.complete===void 0&&(i.complete=Bm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class $s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lM(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(t){return t===so?void 0:t}function lM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const uM={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},dM=ut.INFO,fM={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},hM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w0{constructor(e){this.name=e,this._logLevel=dM,this._logHandler=hM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const pM=(t,e)=>e.some(n=>t instanceof n);let c1,u1;function mM(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gM(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,_y=new WeakMap,FC=new WeakMap,Um=new WeakMap,S0=new WeakMap;function yM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$C.set(n,t)}).catch(()=>{}),S0.set(e,t),e}function vM(t){if(_y.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_y.set(t,e)}let wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xM(t){wy=t(wy)}function bM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wm(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),Ns(r)}:gM().includes(t)?function(...e){return t.apply(Wm(this),e),Ns($C.get(this))}:function(...e){return Ns(t.apply(Wm(this),e))}}function _M(t){return typeof t=="function"?bM(t):(t instanceof IDBTransaction&&vM(t),pM(t,mM())?new Proxy(t,wy):t)}function Ns(t){if(t instanceof IDBRequest)return yM(t);if(Um.has(t))return Um.get(t);const e=_M(t);return e!==t&&(Um.set(t,e),S0.set(e,t)),e}const Wm=t=>S0.get(t);function wM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ns(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ns(o.result),c.oldVersion,c.newVersion,Ns(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const SM=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],Hm=new Map;function d1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SM.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Hm.set(e,s),s}xM(t=>({...t,get:(e,n,r)=>d1(e,n)||t.get(e,n,r),has:(e,n)=>!!d1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sy="@firebase/app",f1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new w0("@firebase/app"),IM="@firebase/app-compat",kM="@firebase/analytics-compat",RM="@firebase/analytics",PM="@firebase/app-check-compat",AM="@firebase/app-check",jM="@firebase/auth",OM="@firebase/auth-compat",NM="@firebase/database",MM="@firebase/data-connect",LM="@firebase/database-compat",DM="@firebase/functions",$M="@firebase/functions-compat",FM="@firebase/installations",VM="@firebase/installations-compat",zM="@firebase/messaging",BM="@firebase/messaging-compat",UM="@firebase/performance",WM="@firebase/performance-compat",HM="@firebase/remote-config",qM="@firebase/remote-config-compat",KM="@firebase/storage",GM="@firebase/storage-compat",QM="@firebase/firestore",YM="@firebase/vertexai-preview",XM="@firebase/firestore-compat",JM="firebase",ZM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="[DEFAULT]",eL={[Sy]:"fire-core",[IM]:"fire-core-compat",[RM]:"fire-analytics",[kM]:"fire-analytics-compat",[AM]:"fire-app-check",[PM]:"fire-app-check-compat",[jM]:"fire-auth",[OM]:"fire-auth-compat",[NM]:"fire-rtdb",[MM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[DM]:"fire-fn",[$M]:"fire-fn-compat",[FM]:"fire-iid",[VM]:"fire-iid-compat",[zM]:"fire-fcm",[BM]:"fire-fcm-compat",[UM]:"fire-perf",[WM]:"fire-perf-compat",[HM]:"fire-rc",[qM]:"fire-rc-compat",[KM]:"fire-gcs",[GM]:"fire-gcs-compat",[QM]:"fire-fst",[XM]:"fire-fst-compat",[YM]:"fire-vertex","fire-js":"fire-js",[JM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,tL=new Map,Ty=new Map;function h1(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eo(t){const e=t.name;if(Ty.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of Af.values())h1(n,t);for(const n of tL.values())h1(n,t);return!0}function Fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new uu("app","Firebase",nL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=ZM;function VC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(n||(n=MC()),!n)throw Ms.create("no-options");const s=Af.get(i);if(s){if(Pf(n,s.options)&&Pf(r,s.config))return s;throw Ms.create("duplicate-app",{appName:i})}const o=new cM(i);for(const c of Ty.values())o.addComponent(c);const a=new rL(n,r,o);return Af.set(i,a),a}function E0(t=Ey){const e=Af.get(t);if(!e&&t===Ey&&MC())return VC();if(!e)throw Ms.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=eL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(a.join(" "));return}Eo(new $s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firebase-heartbeat-database",sL=1,Fc="firebase-heartbeat-store";let qm=null;function zC(){return qm||(qm=wM(iL,sL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),qm}async function oL(t){try{const n=(await zC()).transaction(Fc),r=await n.objectStore(Fc).get(BC(t));return await n.done,r}catch(e){if(e instanceof Ci)Zi.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function p1(t,e){try{const r=(await zC()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,BC(t)),await r.done}catch(n){if(n instanceof Ci)Zi.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=1024,lL=30*24*60*60*1e3;class cL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m1(),{heartbeatsToSend:r,unsentEntries:i}=uL(this._heartbeatsCache.heartbeats),s=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zi.warn(n),""}}}function m1(){return new Date().toISOString().substring(0,10)}function uL(t,e=aL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?JN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g1(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){Eo(new $s("platform-logger",e=>new TM(e),"PRIVATE")),Eo(new $s("heartbeat",e=>new cL(e),"PRIVATE")),mi(Sy,f1,t),mi(Sy,f1,"esm2017"),mi("fire-js","")}fL("");var hL="firebase",pL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(hL,pL,"app");var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,UC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,p){function g(){}g.prototype=p.prototype,S.D=p.prototype,S.prototype=new g,S.prototype.constructor=S,S.C=function(b,O,A){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return p.prototype[O].apply(b,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,p,g){g||(g=0);var b=Array(16);if(typeof p=="string")for(var O=0;16>O;++O)b[O]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(O=0;16>O;++O)b[O]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=S.g[0],g=S.g[1],O=S.g[2];var A=S.g[3],P=p+(A^g&(O^A))+b[0]+3614090360&4294967295;p=g+(P<<7&4294967295|P>>>25),P=A+(O^p&(g^O))+b[1]+3905402710&4294967295,A=p+(P<<12&4294967295|P>>>20),P=O+(g^A&(p^g))+b[2]+606105819&4294967295,O=A+(P<<17&4294967295|P>>>15),P=g+(p^O&(A^p))+b[3]+3250441966&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(A^g&(O^A))+b[4]+4118548399&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(O^p&(g^O))+b[5]+1200080426&4294967295,A=p+(P<<12&4294967295|P>>>20),P=O+(g^A&(p^g))+b[6]+2821735955&4294967295,O=A+(P<<17&4294967295|P>>>15),P=g+(p^O&(A^p))+b[7]+4249261313&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(A^g&(O^A))+b[8]+1770035416&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(O^p&(g^O))+b[9]+2336552879&4294967295,A=p+(P<<12&4294967295|P>>>20),P=O+(g^A&(p^g))+b[10]+4294925233&4294967295,O=A+(P<<17&4294967295|P>>>15),P=g+(p^O&(A^p))+b[11]+2304563134&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(A^g&(O^A))+b[12]+1804603682&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(O^p&(g^O))+b[13]+4254626195&4294967295,A=p+(P<<12&4294967295|P>>>20),P=O+(g^A&(p^g))+b[14]+2792965006&4294967295,O=A+(P<<17&4294967295|P>>>15),P=g+(p^O&(A^p))+b[15]+1236535329&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(O^A&(g^O))+b[1]+4129170786&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^O&(p^g))+b[6]+3225465664&4294967295,A=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(A^p))+b[11]+643717713&4294967295,O=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(O^A))+b[0]+3921069994&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^A&(g^O))+b[5]+3593408605&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^O&(p^g))+b[10]+38016083&4294967295,A=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(A^p))+b[15]+3634488961&4294967295,O=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(O^A))+b[4]+3889429448&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^A&(g^O))+b[9]+568446438&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^O&(p^g))+b[14]+3275163606&4294967295,A=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(A^p))+b[3]+4107603335&4294967295,O=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(O^A))+b[8]+1163531501&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^A&(g^O))+b[13]+2850285829&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^O&(p^g))+b[2]+4243563512&4294967295,A=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(A^p))+b[7]+1735328473&4294967295,O=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(O^A))+b[12]+2368359562&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(g^O^A)+b[5]+4294588738&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^O)+b[8]+2272392833&4294967295,A=p+(P<<11&4294967295|P>>>21),P=O+(A^p^g)+b[11]+1839030562&4294967295,O=A+(P<<16&4294967295|P>>>16),P=g+(O^A^p)+b[14]+4259657740&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^A)+b[1]+2763975236&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^O)+b[4]+1272893353&4294967295,A=p+(P<<11&4294967295|P>>>21),P=O+(A^p^g)+b[7]+4139469664&4294967295,O=A+(P<<16&4294967295|P>>>16),P=g+(O^A^p)+b[10]+3200236656&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^A)+b[13]+681279174&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^O)+b[0]+3936430074&4294967295,A=p+(P<<11&4294967295|P>>>21),P=O+(A^p^g)+b[3]+3572445317&4294967295,O=A+(P<<16&4294967295|P>>>16),P=g+(O^A^p)+b[6]+76029189&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^A)+b[9]+3654602809&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^O)+b[12]+3873151461&4294967295,A=p+(P<<11&4294967295|P>>>21),P=O+(A^p^g)+b[15]+530742520&4294967295,O=A+(P<<16&4294967295|P>>>16),P=g+(O^A^p)+b[2]+3299628645&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(O^(g|~A))+b[0]+4096336452&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~O))+b[7]+1126891415&4294967295,A=p+(P<<10&4294967295|P>>>22),P=O+(p^(A|~g))+b[14]+2878612391&4294967295,O=A+(P<<15&4294967295|P>>>17),P=g+(A^(O|~p))+b[5]+4237533241&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~A))+b[12]+1700485571&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~O))+b[3]+2399980690&4294967295,A=p+(P<<10&4294967295|P>>>22),P=O+(p^(A|~g))+b[10]+4293915773&4294967295,O=A+(P<<15&4294967295|P>>>17),P=g+(A^(O|~p))+b[1]+2240044497&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~A))+b[8]+1873313359&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~O))+b[15]+4264355552&4294967295,A=p+(P<<10&4294967295|P>>>22),P=O+(p^(A|~g))+b[6]+2734768916&4294967295,O=A+(P<<15&4294967295|P>>>17),P=g+(A^(O|~p))+b[13]+1309151649&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~A))+b[4]+4149444226&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~O))+b[11]+3174756917&4294967295,A=p+(P<<10&4294967295|P>>>22),P=O+(p^(A|~g))+b[2]+718787259&4294967295,O=A+(P<<15&4294967295|P>>>17),P=g+(A^(O|~p))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var g=p-this.blockSize,b=this.B,O=this.h,A=0;A<p;){if(O==0)for(;A<=g;)i(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<p;)if(b[O++]=S.charCodeAt(A++),O==this.blockSize){i(this,b),O=0;break}}else for(;A<p;)if(b[O++]=S[A++],O==this.blockSize){i(this,b),O=0;break}}this.h=O,this.o+=p},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var g=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=g&255,g/=256;for(this.u(S),S=Array(16),p=g=0;4>p;++p)for(var b=0;32>b;b+=8)S[g++]=this.g[p]>>>b&255;return S};function s(S,p){var g=a;return Object.prototype.hasOwnProperty.call(g,S)?g[S]:g[S]=p(S)}function o(S,p){this.h=p;for(var g=[],b=!0,O=S.length-1;0<=O;O--){var A=S[O]|0;b&&A==p||(g[O]=A,b=!1)}this.g=g}var a={};function c(S){return-128<=S&&128>S?s(S,function(p){return new o([p|0],0>p?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(u(-S));for(var p=[],g=1,b=0;S>=g;b++)p[b]=S/g|0,g*=4294967296;return new o(p,0)}function f(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return I(f(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=u(Math.pow(p,8)),b=h,O=0;O<S.length;O+=8){var A=Math.min(8,S.length-O),P=parseInt(S.substring(O,O+A),p);8>A?(A=u(Math.pow(p,A)),b=b.j(A).add(u(P))):(b=b.j(g),b=b.add(u(P)))}return b}var h=c(0),m=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var S=0,p=1,g=0;g<this.g.length;g++){var b=this.i(g);S+=(0<=b?b:4294967296+b)*p,p*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(w(this))return"-"+I(this).toString(S);for(var p=u(Math.pow(S,6)),g=this,b="";;){var O=k(g,p).g;g=C(g,O.j(p));var A=((0<g.g.length?g.g[0]:g.h)>>>0).toString(S);if(g=O,T(g))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=C(this,S),w(S)?-1:T(S)?0:1};function I(S){for(var p=S.g.length,g=[],b=0;b<p;b++)g[b]=~S.g[b];return new o(g,~S.h).add(m)}t.abs=function(){return w(this)?I(this):this},t.add=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],b=0,O=0;O<=p;O++){var A=b+(this.i(O)&65535)+(S.i(O)&65535),P=(A>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);b=P>>>16,A&=65535,P&=65535,g[O]=P<<16|A}return new o(g,g[g.length-1]&-2147483648?-1:0)};function C(S,p){return S.add(I(p))}t.j=function(S){if(T(this)||T(S))return h;if(w(this))return w(S)?I(this).j(I(S)):I(I(this).j(S));if(w(S))return I(this.j(I(S)));if(0>this.l(E)&&0>S.l(E))return u(this.m()*S.m());for(var p=this.g.length+S.g.length,g=[],b=0;b<2*p;b++)g[b]=0;for(b=0;b<this.g.length;b++)for(var O=0;O<S.g.length;O++){var A=this.i(b)>>>16,P=this.i(b)&65535,B=S.i(O)>>>16,V=S.i(O)&65535;g[2*b+2*O]+=P*V,v(g,2*b+2*O),g[2*b+2*O+1]+=A*V,v(g,2*b+2*O+1),g[2*b+2*O+1]+=P*B,v(g,2*b+2*O+1),g[2*b+2*O+2]+=A*B,v(g,2*b+2*O+2)}for(b=0;b<p;b++)g[b]=g[2*b+1]<<16|g[2*b];for(b=p;b<2*p;b++)g[b]=0;return new o(g,0)};function v(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function _(S,p){this.g=S,this.h=p}function k(S,p){if(T(p))throw Error("division by zero");if(T(S))return new _(h,h);if(w(S))return p=k(I(S),p),new _(I(p.g),I(p.h));if(w(p))return p=k(S,I(p)),new _(I(p.g),p.h);if(30<S.g.length){if(w(S)||w(p))throw Error("slowDivide_ only works with positive integers.");for(var g=m,b=p;0>=b.l(S);)g=M(g),b=M(b);var O=N(g,1),A=N(b,1);for(b=N(b,2),g=N(g,2);!T(b);){var P=A.add(b);0>=P.l(S)&&(O=O.add(g),A=P),b=N(b,1),g=N(g,1)}return p=C(S,O.j(p)),new _(O,p)}for(O=h;0<=S.l(p);){for(g=Math.max(1,Math.floor(S.m()/p.m())),b=Math.ceil(Math.log(g)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=u(g),P=A.j(p);w(P)||0<P.l(S);)g-=b,A=u(g),P=A.j(p);T(A)&&(A=m),O=O.add(A),S=C(S,P)}return new _(O,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],b=0;b<p;b++)g[b]=this.i(b)&S.i(b);return new o(g,this.h&S.h)},t.or=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],b=0;b<p;b++)g[b]=this.i(b)|S.i(b);return new o(g,this.h|S.h)},t.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],b=0;b<p;b++)g[b]=this.i(b)^S.i(b);return new o(g,this.h^S.h)};function M(S){for(var p=S.g.length+1,g=[],b=0;b<p;b++)g[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(g,S.h)}function N(S,p){var g=p>>5;p%=32;for(var b=S.g.length-g,O=[],A=0;A<b;A++)O[A]=0<p?S.i(A+g)>>>p|S.i(A+g+1)<<32-p:S.i(A+g);return new o(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,yo=o}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WC,Yl,HC,Vd,Cy,qC,KC,GC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,R){return d==Array.prototype||d==Object.prototype||(d[y]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var y=0;y<d.length;++y){var R=d[y];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var R=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Y=d[D];if(!(Y in R))break e;R=R[Y]}d=d[d.length-1],D=R[d],y=y(D),y!=D&&y!=null&&e(R,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var R=0,D=!1,Y={next:function(){if(!D&&R<d.length){var J=R++;return{value:y(J,d[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,R){return d.call.apply(d.bind,arguments)}function h(d,y,R){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),d.apply(y,Y)}}return function(){return d.apply(y,arguments)}}function m(d,y,R){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,y){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function T(d,y){function R(){}R.prototype=y.prototype,d.aa=y.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(D,Y,J){for(var fe=Array(arguments.length-2),It=2;It<arguments.length;It++)fe[It-2]=arguments[It];return y.prototype[Y].apply(D,fe)}}function w(d){const y=d.length;if(0<y){const R=Array(y);for(let D=0;D<y;D++)R[D]=d[D];return R}return[]}function I(d,y){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(c(D)){const Y=d.length||0,J=D.length||0;d.length=Y+J;for(let fe=0;fe<J;fe++)d[Y+fe]=D[fe]}else d.push(D)}}class C{constructor(y,R){this.i=y,this.j=R,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var M=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,y,R){for(const D in d)y.call(R,d[D],D,d)}function S(d,y){for(const R in d)y.call(void 0,d[R],R,d)}function p(d){const y={};for(const R in d)y[R]=d[R];return y}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(d,y){let R,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(R in D)d[R]=D[R];for(let J=0;J<g.length;J++)R=g[J],Object.prototype.hasOwnProperty.call(D,R)&&(d[R]=D[R])}}function O(d){var y=1;d=d.split(":");const R=[];for(;0<y&&d.length;)R.push(d.shift()),y--;return d.length&&R.push(d.join(":")),R}function A(d){a.setTimeout(()=>{throw d},0)}function P(){var d=z;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,R){const D=V.get();D.set(y,R),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new C(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,R){this.h=y,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,z=new B,K=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then($)}};var $=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(R){A(R)}var y=V;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}L=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};a.addEventListener("test",R,y),a.removeEventListener("test",R,y)}catch{}return d}();function oe(d,y){if(Q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(M){e:{try{k(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else R=="mouseover"?y=d.fromElement:R=="mouseout"&&(y=d.toElement);this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&oe.aa.h.call(this)}}T(oe,Q);var ue={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),ee=0;function W(d,y,R,D,Y){this.listener=d,this.proxy=null,this.src=y,this.type=R,this.capture=!!D,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d){this.src=d,this.g={},this.h=0}te.prototype.add=function(d,y,R,D,Y){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var fe=pe(d,y,D,Y);return-1<fe?(y=d[fe],R||(y.fa=!1)):(y=new W(y,this.src,J,!!D,Y),y.fa=R,d.push(y)),y};function ie(d,y){var R=y.type;if(R in d.g){var D=d.g[R],Y=Array.prototype.indexOf.call(D,y,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(D,Y,1),J&&(ae(y),d.g[R].length==0&&(delete d.g[R],d.h--))}}function pe(d,y,R,D){for(var Y=0;Y<d.length;++Y){var J=d[Y];if(!J.da&&J.listener==y&&J.capture==!!R&&J.ha==D)return Y}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),ve={};function be(d,y,R,D,Y){if(Array.isArray(y)){for(var J=0;J<y.length;J++)be(d,y[J],R,D,Y);return null}return R=xt(R),d&&d[G]?d.K(y,R,u(D)?!!D.capture:!1,Y):Je(d,y,R,!1,D,Y)}function Je(d,y,R,D,Y,J){if(!y)throw Error("Invalid event type");var fe=u(Y)?!!Y.capture:!!Y,It=dt(d);if(It||(d[ge]=It=new te(d)),R=It.add(y,R,D,fe,J),R.proxy)return R;if(D=_e(),R.proxy=D,D.src=d,D.listener=R,d.addEventListener)X||(Y=fe),Y===void 0&&(Y=!1),d.addEventListener(y.toString(),D,Y);else if(d.attachEvent)d.attachEvent(Xe(y.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function _e(){function d(R){return y.call(d.src,d.listener,R)}const y=at;return d}function ze(d,y,R,D,Y){if(Array.isArray(y))for(var J=0;J<y.length;J++)ze(d,y[J],R,D,Y);else D=u(D)?!!D.capture:!!D,R=xt(R),d&&d[G]?(d=d.i,y=String(y).toString(),y in d.g&&(J=d.g[y],R=pe(J,R,D,Y),-1<R&&(ae(J[R]),Array.prototype.splice.call(J,R,1),J.length==0&&(delete d.g[y],d.h--)))):d&&(d=dt(d))&&(y=d.g[y.toString()],d=-1,y&&(d=pe(y,R,D,Y)),(R=-1<d?y[d]:null)&&Ae(R))}function Ae(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[G])ie(y.i,d);else{var R=d.type,D=d.proxy;y.removeEventListener?y.removeEventListener(R,D,d.capture):y.detachEvent?y.detachEvent(Xe(R),D):y.addListener&&y.removeListener&&y.removeListener(D),(R=dt(y))?(ie(R,d),R.h==0&&(R.src=null,y[ge]=null)):ae(d)}}}function Xe(d){return d in ve?ve[d]:ve[d]="on"+d}function at(d,y){if(d.da)d=!0;else{y=new oe(y,this);var R=d.listener,D=d.ha||d.src;d.fa&&Ae(d),d=R.call(D,y)}return d}function dt(d){return d=d[ge],d instanceof te?d:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(d){return typeof d=="function"?d:(d[De]||(d[De]=function(y){return d.handleEvent(y)}),d[De])}function Pe(){U.call(this),this.i=new te(this),this.M=this,this.F=null}T(Pe,U),Pe.prototype[G]=!0,Pe.prototype.removeEventListener=function(d,y,R,D){ze(this,d,y,R,D)};function He(d,y){var R,D=d.F;if(D)for(R=[];D;D=D.F)R.push(D);if(d=d.M,D=y.type||y,typeof y=="string")y=new Q(y,d);else if(y instanceof Q)y.target=y.target||d;else{var Y=y;y=new Q(D,d),b(y,Y)}if(Y=!0,R)for(var J=R.length-1;0<=J;J--){var fe=y.g=R[J];Y=$e(fe,D,!0,y)&&Y}if(fe=y.g=d,Y=$e(fe,D,!0,y)&&Y,Y=$e(fe,D,!1,y)&&Y,R)for(J=0;J<R.length;J++)fe=y.g=R[J],Y=$e(fe,D,!1,y)&&Y}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var R=d.g[y],D=0;D<R.length;D++)ae(R[D]);delete d.g[y],d.h--}}this.F=null},Pe.prototype.K=function(d,y,R,D){return this.i.add(String(d),y,!1,R,D)},Pe.prototype.L=function(d,y,R,D){return this.i.add(String(d),y,!0,R,D)};function $e(d,y,R,D){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,J=0;J<y.length;++J){var fe=y[J];if(fe&&!fe.da&&fe.capture==R){var It=fe.listener,Sn=fe.ha||fe.src;fe.fa&&ie(d.i,fe),Y=It.call(Sn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Te(d,y,R){if(typeof d=="function")R&&(d=m(d,R));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function wt(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,wt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Pt extends U{constructor(y,R){super(),this.m=y,this.l=R,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(d){U.call(this),this.h=d,this.g={}}T(Ze,U);var we=[];function rt(d){N(d.g,function(y,R){this.g.hasOwnProperty(R)&&Ae(y)},d),d.g={}}Ze.prototype.N=function(){Ze.aa.N.call(this),rt(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ge=a.JSON.stringify,Cr=a.JSON.parse,as=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Js(){}Js.prototype.h=null;function Ir(d){return d.h||(d.h=d.i())}function si(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){Q.call(this,"d")}T(ls,Q);function Z(){Q.call(this,"c")}T(Z,Q);var Fe={},j=null;function re(){return j=j||new Pe}Fe.La="serverreachability";function de(d){Q.call(this,Fe.La,d)}T(de,Q);function Ve(d){const y=re();He(y,new de(y))}Fe.STAT_EVENT="statevent";function lt(d,y){Q.call(this,Fe.STAT_EVENT,d),this.stat=y}T(lt,Q);function it(d){const y=re();He(y,new lt(y,d))}Fe.Ma="timingevent";function St(d,y){Q.call(this,Fe.Ma,d),this.size=y}T(St,Q);function je(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function ct(){this.g=!0}ct.prototype.xa=function(){this.g=!1};function Rr(d,y,R,D,Y,J){d.info(function(){if(d.g)if(J)for(var fe="",It=J.split("&"),Sn=0;Sn<It.length;Sn++){var yt=It[Sn].split("=");if(1<yt.length){var jn=yt[0];yt=yt[1];var On=jn.split("_");fe=2<=On.length&&On[1]=="type"?fe+(jn+"="+yt+"&"):fe+(jn+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+y+`
`+R+`
`+fe})}function oi(d,y,R,D,Y,J,fe){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+y+`
`+R+`
`+J+" "+fe})}function qn(d,y,R,D){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jt(d,R)+(D?" "+D:"")})}function on(d,y){d.info(function(){return"TIMEOUT: "+y})}ct.prototype.info=function(){};function Jt(d,y){if(!d.g)return y;if(!y)return null;try{var R=JSON.parse(y);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var D=R[d];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return Ge(R)}catch{return y}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Bo(){}T(Bo,Js),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Vt=new Bo;function cs(d,y,R,D){this.j=d,this.i=y,this.l=R,this.R=D||1,this.U=new Ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}var ob={},im={};function sm(d,y,R){d.L=1,d.v=Vu(Pi(y)),d.m=R,d.P=!0,ab(d,null)}function ab(d,y){d.F=Date.now(),Du(d),d.A=Pi(d.v);var R=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),_b(R.i,"t",D),d.C=0,R=d.j.J,d.h=new sb,d.g=Fb(d.j,R?y:null,!d.m),0<d.O&&(d.M=new Pt(m(d.Y,d,d.g),d.O)),y=d.U,R=d.g,D=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(we[0]=Y.toString()),Y=we);for(var J=0;J<Y.length;J++){var fe=be(R,Y[J],D||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ve(),Rr(d.i,d.u,d.A,d.l,d.R,d.m)}cs.prototype.ca=function(d){d=d.target;const y=this.M;y&&Ai(d)==3?y.j():this.Y(d)},cs.prototype.Y=function(d){try{if(d==this.g)e:{const On=Ai(this.g);var y=this.g.Ba();const Ho=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||kb(this.g)))){this.J||On!=4||y==7||(y==8||0>=Ho?Ve(3):Ve(2)),om(this);var R=this.g.Z();this.X=R;t:if(lb(this)){var D=kb(this.g);d="";var Y=D.length,J=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),xl(this);var fe="";break t}this.h.i=new a.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,d+=this.h.i.decode(D[y],{stream:!(J&&y==Y-1)});D.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=R==200,oi(this.i,this.u,this.A,this.l,this.R,On,R),this.o){if(this.T&&!this.K){t:{if(this.g){var It,Sn=this.g;if((It=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(It)){var yt=It;break t}}yt=null}if(R=yt)qn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,am(this,R);else{this.o=!1,this.s=3,it(12),Zs(this),xl(this);break e}}if(this.P){R=!0;let Kr;for(;!this.J&&this.C<fe.length;)if(Kr=lP(this,fe),Kr==im){On==4&&(this.s=4,it(14),R=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==ob){this.s=4,it(15),qn(this.i,this.l,fe,"[Invalid Chunk]"),R=!1;break}else qn(this.i,this.l,Kr,null),am(this,Kr);if(lb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||fe.length!=0||this.h.h||(this.s=1,it(16),R=!1),this.o=this.o&&R,!R)qn(this.i,this.l,fe,"[Invalid Chunked Response]"),Zs(this),xl(this);else if(0<fe.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),hm(jn),jn.M=!0,it(11))}}else qn(this.i,this.l,fe,null),am(this,fe);On==4&&Zs(this),this.o&&!this.J&&(On==4?Mb(this.j,this):(this.o=!1,Du(this)))}else TP(this.g),R==400&&0<fe.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Zs(this),xl(this)}}}catch{}finally{}};function lb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function lP(d,y){var R=d.C,D=y.indexOf(`
`,R);return D==-1?im:(R=Number(y.substring(R,D)),isNaN(R)?ob:(D+=1,D+R>y.length?im:(y=y.slice(D,D+R),d.C=D+R,y)))}cs.prototype.cancel=function(){this.J=!0,Zs(this)};function Du(d){d.S=Date.now()+d.I,cb(d,d.I)}function cb(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=je(m(d.ba,d),y)}function om(d){d.B&&(a.clearTimeout(d.B),d.B=null)}cs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(on(this.i,this.A),this.L!=2&&(Ve(),it(17)),Zs(this),this.s=2,xl(this)):cb(this,this.S-d)};function xl(d){d.j.G==0||d.J||Mb(d.j,d)}function Zs(d){om(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,rt(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function am(d,y){try{var R=d.j;if(R.G!=0&&(R.g==d||lm(R.h,d))){if(!d.K&&lm(R.h,d)&&R.G==3){try{var D=R.Da.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)qu(R),Wu(R);else break e;fm(R),it(18)}}else R.za=Y[1],0<R.za-R.T&&37500>Y[2]&&R.F&&R.v==0&&!R.C&&(R.C=je(m(R.Za,R),6e3));if(1>=fb(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else to(R,11)}else if((d.K||R.g==d)&&qu(R),!v(y))for(Y=R.Da.g.parse(y),y=0;y<Y.length;y++){let yt=Y[y];if(R.T=yt[0],yt=yt[1],R.G==2)if(yt[0]=="c"){R.K=yt[1],R.ia=yt[2];const jn=yt[3];jn!=null&&(R.la=jn,R.j.info("VER="+R.la));const On=yt[4];On!=null&&(R.Aa=On,R.j.info("SVER="+R.Aa));const Ho=yt[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(D=1.5*Ho,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const Kr=d.g;if(Kr){const Gu=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var J=D.h;J.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(cm(J,J.h),J.h=null))}if(D.D){const pm=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;pm&&(D.ya=pm,Ot(D.I,D.D,pm))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var fe=d;if(D.qa=$b(D,D.J?D.ia:null,D.W),fe.K){hb(D.h,fe);var It=fe,Sn=D.L;Sn&&(It.I=Sn),It.B&&(om(It),Du(It)),D.g=fe}else Ob(D);0<R.i.length&&Hu(R)}else yt[0]!="stop"&&yt[0]!="close"||to(R,7);else R.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?to(R,7):dm(R):yt[0]!="noop"&&R.l&&R.l.ta(yt),R.v=0)}}Ve(4)}catch{}}var cP=class{constructor(d,y){this.g=d,this.map=y}};function ub(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function db(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fb(d){return d.h?1:d.g?d.g.size:0}function lm(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function cm(d,y){d.g?d.g.add(y):d.h=y}function hb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ub.prototype.cancel=function(){if(this.i=pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const R of d.g.values())y=y.concat(R.D);return y}return w(d.i)}function uP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var y=[],R=d.length,D=0;D<R;D++)y.push(d[D]);return y}y=[],R=0;for(D in d)y[R++]=d[D];return y}function dP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var y=[];d=d.length;for(var R=0;R<d;R++)y.push(R);return y}y=[],R=0;for(const D in d)y[R++]=D;return y}}}function mb(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var R=dP(d),D=uP(d),Y=D.length,J=0;J<Y;J++)y.call(void 0,D[J],R&&R[J],d)}var gb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fP(d,y){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var D=d[R].indexOf("="),Y=null;if(0<=D){var J=d[R].substring(0,D);Y=d[R].substring(D+1)}else J=d[R];y(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function eo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof eo){this.h=d.h,$u(this,d.j),this.o=d.o,this.g=d.g,Fu(this,d.s),this.l=d.l;var y=d.i,R=new wl;R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),yb(this,R),this.m=d.m}else d&&(y=String(d).match(gb))?(this.h=!1,$u(this,y[1]||"",!0),this.o=bl(y[2]||""),this.g=bl(y[3]||"",!0),Fu(this,y[4]),this.l=bl(y[5]||"",!0),yb(this,y[6]||"",!0),this.m=bl(y[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}eo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(_l(y,vb,!0),":");var R=this.g;return(R||y=="file")&&(d.push("//"),(y=this.o)&&d.push(_l(y,vb,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(_l(R,R.charAt(0)=="/"?mP:pP,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",_l(R,yP)),d.join("")};function Pi(d){return new eo(d)}function $u(d,y,R){d.j=R?bl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Fu(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function yb(d,y,R){y instanceof wl?(d.i=y,vP(d.i,d.h)):(R||(y=_l(y,gP)),d.i=new wl(y,d.h))}function Ot(d,y,R){d.i.set(y,R)}function Vu(d){return Ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function bl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _l(d,y,R){return typeof d=="string"?(d=encodeURI(d).replace(y,hP),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function hP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vb=/[#\/\?@]/g,pP=/[#\?:]/g,mP=/[#\?]/g,gP=/[#\?@]/g,yP=/#/g;function wl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&fP(d.i,function(y,R){d.add(decodeURIComponent(y.replace(/\+/g," ")),R)}))}t=wl.prototype,t.add=function(d,y){us(this),this.i=null,d=Uo(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(y),this.h+=1,this};function xb(d,y){us(d),y=Uo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function bb(d,y){return us(d),y=Uo(d,y),d.g.has(y)}t.forEach=function(d,y){us(this),this.g.forEach(function(R,D){R.forEach(function(Y){d.call(y,Y,D,this)},this)},this)},t.na=function(){us(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),R=[];for(let D=0;D<y.length;D++){const Y=d[D];for(let J=0;J<Y.length;J++)R.push(y[D])}return R},t.V=function(d){us(this);let y=[];if(typeof d=="string")bb(this,d)&&(y=y.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)y=y.concat(d[R])}return y},t.set=function(d,y){return us(this),this.i=null,d=Uo(this,d),bb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function _b(d,y,R){xb(d,y),0<R.length&&(d.i=null,d.g.set(Uo(d,y),w(R)),d.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var R=0;R<y.length;R++){var D=y[R];const J=encodeURIComponent(String(D)),fe=this.V(D);for(D=0;D<fe.length;D++){var Y=J;fe[D]!==""&&(Y+="="+encodeURIComponent(String(fe[D]))),d.push(Y)}}return this.i=d.join("&")};function Uo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function vP(d,y){y&&!d.j&&(us(d),d.i=null,d.g.forEach(function(R,D){var Y=D.toLowerCase();D!=Y&&(xb(this,D),_b(this,Y,R))},d)),d.j=y}function xP(d,y){const R=new ct;if(a.Image){const D=new Image;D.onload=E(ds,R,"TestLoadImage: loaded",!0,y,D),D.onerror=E(ds,R,"TestLoadImage: error",!1,y,D),D.onabort=E(ds,R,"TestLoadImage: abort",!1,y,D),D.ontimeout=E(ds,R,"TestLoadImage: timeout",!1,y,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else y(!1)}function bP(d,y){const R=new ct,D=new AbortController,Y=setTimeout(()=>{D.abort(),ds(R,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:D.signal}).then(J=>{clearTimeout(Y),J.ok?ds(R,"TestPingServer: ok",!0,y):ds(R,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),ds(R,"TestPingServer: error",!1,y)})}function ds(d,y,R,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(R)}catch{}}function _P(){this.g=new as}function wP(d,y,R){const D=R||"";try{mb(d,function(Y,J){let fe=Y;u(Y)&&(fe=Ge(Y)),y.push(D+J+"="+encodeURIComponent(fe))})}catch(Y){throw y.push(D+"type="+encodeURIComponent("_badmap")),Y}}function zu(d){this.l=d.Ub||null,this.j=d.eb||!1}T(zu,Js),zu.prototype.g=function(){return new Bu(this.l,this.j)},zu.prototype.i=function(d){return function(){return d}}({});function Bu(d,y){Pe.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bu,Pe),t=Bu.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,El(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Sl(this):El(this),this.readyState==3&&wb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Sl(this))},t.Qa=function(d){this.g&&(this.response=d,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,El(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var R=y.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=y.next();return d.join(`\r
`)};function El(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sb(d){let y="";return N(d,function(R,D){y+=D,y+=":",y+=R,y+=`\r
`}),y}function um(d,y,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=Sb(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Ot(d,y,R))}function Kt(d){Pe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Kt,Pe);var SP=/^https?$/i,EP=["POST","PUT"];t=Kt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?Ir(this.o):Ir(Vt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(J){Eb(this,J);return}if(d=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)R.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())R.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(J=>J.toLowerCase()=="content-type"),Y=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EP,y,void 0))||D||Y||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of R)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ib(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Eb(this,J)}};function Eb(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Tb(d),Uu(d)}function Tb(d){d.A||(d.A=!0,He(d,"complete"),He(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,He(this,"complete"),He(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cb(this):this.bb())},t.bb=function(){Cb(this)};function Cb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ai(d)!=4||d.Z()!=2)){if(d.u&&Ai(d)==4)Te(d.Ea,0,d);else if(He(d,"readystatechange"),Ai(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var R;if(!(R=y)){var D;if(D=fe===0){var Y=String(d.D).match(gb)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),D=!SP.test(Y?Y.toLowerCase():"")}R=D}if(R)He(d,"complete"),He(d,"success");else{d.m=6;try{var J=2<Ai(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Tb(d)}}finally{Uu(d)}}}}function Uu(d,y){if(d.g){Ib(d);const R=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||He(d,"ready");try{R.onreadystatechange=D}catch{}}}function Ib(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ai(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Cr(y)}};function kb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function TP(d){const y={};d=(d.g&&2<=Ai(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(v(d[D]))continue;var R=O(d[D]);const Y=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const J=y[Y]||[];y[Y]=J,J.push(R)}S(y,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(d,y,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||y}function Rb(d){this.Aa=0,this.i=[],this.j=new ct,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,d),this.cb=Tl("retryDelaySeedMs",1e4,d),this.Wa=Tl("forwardChannelMaxRetries",2,d),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ub(d&&d.concurrentRequestLimit),this.Da=new _P,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rb.prototype,t.la=8,t.G=1,t.connect=function(d,y,R,D){it(0),this.W=d,this.H=y||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=$b(this,null,this.W),Hu(this)};function dm(d){if(Pb(d),d.G==3){var y=d.U++,R=Pi(d.I);if(Ot(R,"SID",d.K),Ot(R,"RID",y),Ot(R,"TYPE","terminate"),Cl(d,R),y=new cs(d,d.j,y),y.L=2,y.v=Vu(Pi(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=y.v,R=!0),R||(y.g=Fb(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Du(y)}Db(d)}function Wu(d){d.g&&(hm(d),d.g.cancel(),d.g=null)}function Pb(d){Wu(d),d.u&&(a.clearTimeout(d.u),d.u=null),qu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Hu(d){if(!db(d.h)&&!d.s){d.s=!0;var y=d.Ga;q||K(),L||(q(),L=!0),z.add(y,d),d.B=0}}function CP(d,y){return fb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=je(m(d.Ga,d,y),Lb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new cs(this,this.j,d);let J=this.o;if(this.S&&(J?(J=p(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var y=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,4096<y){y=R;break e}if(y===4096||R===this.i.length-1){y=R+1;break e}}y=1e3}else y=1e3;y=jb(this,Y,y),R=Pi(this.I),Ot(R,"RID",d),Ot(R,"CVER",22),this.D&&Ot(R,"X-HTTP-Session-Id",this.D),Cl(this,R),J&&(this.O?y="headers="+encodeURIComponent(String(Sb(J)))+"&"+y:this.m&&um(R,this.m,J)),cm(this.h,Y),this.Ua&&Ot(R,"TYPE","init"),this.P?(Ot(R,"$req",y),Ot(R,"SID","null"),Y.T=!0,sm(Y,R,null)):sm(Y,R,y),this.G=2}}else this.G==3&&(d?Ab(this,d):this.i.length==0||db(this.h)||Ab(this))};function Ab(d,y){var R;y?R=y.l:R=d.U++;const D=Pi(d.I);Ot(D,"SID",d.K),Ot(D,"RID",R),Ot(D,"AID",d.T),Cl(d,D),d.m&&d.o&&um(D,d.m,d.o),R=new cs(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),y&&(d.i=y.D.concat(d.i)),y=jb(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),cm(d.h,R),sm(R,D,y)}function Cl(d,y){d.H&&N(d.H,function(R,D){Ot(y,D,R)}),d.l&&mb({},function(R,D){Ot(y,D,R)})}function jb(d,y,R){R=Math.min(d.i.length,R);var D=d.l?m(d.l.Na,d.l,d):null;e:{var Y=d.i;let J=-1;for(;;){const fe=["count="+R];J==-1?0<R?(J=Y[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let It=!0;for(let Sn=0;Sn<R;Sn++){let yt=Y[Sn].g;const jn=Y[Sn].map;if(yt-=J,0>yt)J=Math.max(0,Y[Sn].g-100),It=!1;else try{wP(jn,fe,"req"+yt+"_")}catch{D&&D(jn)}}if(It){D=fe.join("&");break e}}}return d=d.i.splice(0,R),y.D=d,D}function Ob(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;q||K(),L||(q(),L=!0),z.add(y,d),d.v=0}}function fm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=je(m(d.Fa,d),Lb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Nb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=je(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Wu(this),Nb(this))};function hm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Nb(d){d.g=new cs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Pi(d.qa);Ot(y,"RID","rpc"),Ot(y,"SID",d.K),Ot(y,"AID",d.T),Ot(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ot(y,"TO",d.ja),Ot(y,"TYPE","xmlhttp"),Cl(d,y),d.m&&d.o&&um(y,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Vu(Pi(y)),R.m=null,R.P=!0,ab(R,d)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),fm(this),it(19))};function qu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Mb(d,y){var R=null;if(d.g==y){qu(d),hm(d),d.g=null;var D=2}else if(lm(d.h,y))R=y.D,hb(d.h,y),D=1;else return;if(d.G!=0){if(y.o)if(D==1){R=y.m?y.m.length:0,y=Date.now()-y.F;var Y=d.B;D=re(),He(D,new St(D,R)),Hu(d)}else Ob(d);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(D==1&&CP(d,y)||D==2&&fm(d)))switch(R&&0<R.length&&(y=d.h,y.i=y.i.concat(R)),Y){case 1:to(d,5);break;case 4:to(d,10);break;case 3:to(d,6);break;default:to(d,2)}}}function Lb(d,y){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*y}function to(d,y){if(d.j.info("Error code "+y),y==2){var R=m(d.fb,d),D=d.Xa;const Y=!D;D=new eo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(D,"https"),Vu(D),Y?xP(D.toString(),R):bP(D.toString(),R)}else it(2);d.G=0,d.l&&d.l.sa(y),Db(d),Pb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Db(d){if(d.G=0,d.ka=[],d.l){const y=pb(d.h);(y.length!=0||d.i.length!=0)&&(I(d.ka,y),I(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function $b(d,y,R){var D=R instanceof eo?Pi(R):new eo(R);if(D.g!="")y&&(D.g=y+"."+D.g),Fu(D,D.s);else{var Y=a.location;D=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new eo(null);D&&$u(J,D),y&&(J.g=y),Y&&Fu(J,Y),R&&(J.l=R),D=J}return R=d.D,y=d.ya,R&&y&&Ot(D,R,y),Ot(D,"VER",d.la),Cl(d,D),D}function Fb(d,y,R){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Kt(new zu({eb:R})):new Kt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vb(){}t=Vb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(d,y){return new cr(d,y)};function cr(d,y){Pe.call(this),this.g=new Rb(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!v(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!v(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Wo(this)}T(cr,Pe),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){dm(this.g)},cr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=Ge(d),d=R);y.i.push(new cP(y.Ya++,d)),y.G==3&&Hu(y)},cr.prototype.N=function(){this.g.l=null,delete this.j,dm(this.g),delete this.g,cr.aa.N.call(this)};function zb(d){ls.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const R in y){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}T(zb,ls);function Bb(){Z.call(this),this.status=1}T(Bb,Z);function Wo(d){this.g=d}T(Wo,Vb),Wo.prototype.ua=function(){He(this.g,"a")},Wo.prototype.ta=function(d){He(this.g,new zb(d))},Wo.prototype.sa=function(d){He(this.g,new Bb)},Wo.prototype.ra=function(){He(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,GC=function(){return new Ku},KC=function(){return re()},qC=Fe,Cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Vd=Ri,Le.COMPLETE="complete",HC=Le,si.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,Yl=si,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,WC=Kt}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const v1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new w0("@firebase/firestore");function Ml(){return To.logLevel}function Ce(t,...e){if(To.logLevel<=ut.DEBUG){const n=e.map(T0);To.debug(`Firestore (${al}): ${t}`,...n)}}function es(t,...e){if(To.logLevel<=ut.ERROR){const n=e.map(T0);To.error(`Firestore (${al}): ${t}`,...n)}}function Co(t,...e){if(To.logLevel<=ut.WARN){const n=e.map(T0);To.warn(`Firestore (${al}): ${t}`,...n)}}function T0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw es(e),new Error(e)}function Tt(t,e){t||Ke()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class mL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new QC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new zn(e)}}class yL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Tt(this.o===void 0);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new xL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_L(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new fn(0,0))}static max(){return new Qe(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Mt extends Vc{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const wL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Vc{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return wL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Mt.fromString(e))}static fromName(e){return new Me(Mt.fromString(e).popFirst(5))}static empty(){return new Me(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Mt(e.slice()))}}function SL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Fs(i,Me.empty(),e)}function EL(t){return new Fs(t.readTime,t.key,-1)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(Qe.min(),Me.empty(),-1)}static max(){return new Fs(Qe.max(),Me.empty(),-1)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==CL)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new le((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}I0.oe=-1;function Vh(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function RL(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new kn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JC("Invalid base64 string: "+s):s}}(e);return new _n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Tt(!!t),typeof t=="string"){let e=0;const n=PL.exec(t);if(Tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R0(t){const e=t.mapValue.fields.__previous_value__;return k0(e)?R0(e):e}function zc(t){const e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md={mapValue:{}};function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k0(t)?4:OL(t)?9007199254740991:jL(t)?10:11:Ke()}function _i(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vs(i.timestampValue),a=Vs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Io(i.bytesValue).isEqual(Io(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zt(i.doubleValue),a=Zt(s.doubleValue);return o===a?jf(o)===jf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(x1(o)!==x1(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_i(o[c],a[c])))return!1;return!0}(t,e);default:return Ke()}}function Bc(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zt(s.integerValue||s.doubleValue),c=Zt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return _1(t.timestampValue,e.timestampValue);case 4:return _1(zc(t),zc(e));case 5:return vt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Io(s),c=Io(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=vt(a[u],c[u]);if(f!==0)return f}return vt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=vt(Zt(s.latitude),Zt(o.latitude));return a!==0?a:vt(Zt(s.longitude),Zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,f;const h=s.fields||{},m=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,w=vt(((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:w1(E,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=vt(c[h],f[h]);if(m!==0)return m;const E=Ua(a[c[h]],u[f[h]]);if(E!==0)return E}return vt(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function _1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=Vs(t),r=Vs(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function w1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ua(n[i],r[i]);if(s)return s}return vt(n.length,r.length)}function Wa(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Iy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Iy(n.fields[o])}`;return i+"}"}(t.mapValue):Ke()}function S1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function E1(t){return!!t&&"nullValue"in t}function T1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function jL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(uc(this.value))}}function ZC(t){const e=[];return $o(t.fields,(n,r)=>{const i=new xn([n]);if(zd(r)){const s=ZC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Un(e,0,Qe.min(),Qe.min(),Qe.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new Un(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new Un(e,2,n,Qe.min(),Qe.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Qe.min(),Qe.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function C1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Me.comparator(Me.fromName(o.referenceValue),n.key):r=Ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function I1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class un extends eI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LL(e,n,r):n==="array-contains"?new FL(e,r):n==="in"?new VL(e,r):n==="not-in"?new zL(e,r):n==="array-contains-any"?new BL(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DL(e,r):new $L(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ua(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends eI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ni(e,n)}matches(e){return tI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tI(t){return t.op==="and"}function nI(t){return ML(t)&&tI(t)}function ML(t){for(const e of t.filters)if(e instanceof ni)return!1;return!0}function Ry(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(nI(t))return t.filters.map(e=>Ry(e)).join(",");{const e=t.filters.map(n=>Ry(n)).join(",");return`${t.op}(${e})`}}function rI(t,e){return t instanceof un?function(r,i){return i instanceof un&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)}(t,e):t instanceof ni?function(r,i){return i instanceof ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rI(o,i.filters[a]),!0):!1}(t,e):void Ke()}function iI(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof ni?function(n){return n.op.toString()+" {"+n.getFilters().map(iI).join(" ,")+"}"}(t):"Filter"}class LL extends un{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class DL extends un{constructor(e,n){super(e,"in",n),this.keys=sI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $L extends un{constructor(e,n){super(e,"not-in",n),this.keys=sI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Me.fromName(r.referenceValue))}class FL extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&Bc(n.arrayValue,this.value)}}class VL extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class zL extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bc(this.value.arrayValue,n)}}class BL extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function k1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UL(t,e,n,r,i,s,o)}function A0(t){const e=Ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.ue=n}return e.ue}function j0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I1(t.startAt,e.startAt)&&I1(t.endAt,e.endAt)}function Py(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WL(t,e,n,r,i,s,o,a){return new ll(t,e,n,r,i,s,o,a)}function zh(t){return new ll(t)}function R1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oI(t){return t.collectionGroup!==null}function dc(t){const e=Ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kn(xn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Uc(s,r))}),n.has(xn.keyField().canonicalString())||e.ce.push(new Uc(xn.keyField(),r))}return e.ce}function gi(t){const e=Ye(t);return e.le||(e.le=HL(e,dc(t))),e.le}function HL(t,e){if(t.limitType==="F")return k1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Uc(i.field,s)});const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return k1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jy(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return j0(gi(t),gi(e))&&t.limitType===e.limitType}function aI(t){return`${A0(gi(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iI(i)).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=C1(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,dc(r),i)||r.endAt&&!function(o,a,c){const u=C1(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,dc(r),i))}(t,e)}function qL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lI(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const s=KL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KL(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ua(c,u):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new qt(Me.comparator);function ts(){return GL}const cI=new qt(Me.comparator);function Xl(...t){let e=cI;for(const n of t)e=e.insert(n.key,n);return e}function uI(t){let e=cI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ho(){return fc()}function dI(){return fc()}function fc(){return new cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const QL=new qt(Me.comparator),YL=new kn(Me.comparator);function st(...t){let e=YL;for(const n of t)e=e.add(n);return e}const XL=new kn(vt);function JL(){return XL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function fI(t){return{integerValue:""+t}}function ZL(t,e){return RL(e)?fI(e):O0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function eD(t,e,n){return t instanceof Wc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k0(s)&&(s=R0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hc?pI(t,e):t instanceof qc?mI(t,e):function(i,s){const o=hI(i,s),a=P1(o)+P1(i.Pe);return ky(o)&&ky(i.Pe)?fI(a):O0(i.serializer,a)}(t,e)}function tD(t,e,n){return t instanceof Hc?pI(t,e):t instanceof qc?mI(t,e):n}function hI(t,e){return t instanceof Nf?function(r){return ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wc extends Wh{}class Hc extends Wh{constructor(e){super(),this.elements=e}}function pI(t,e){const n=gI(e);for(const r of t.elements)n.some(i=>_i(i,r))||n.push(r);return{arrayValue:{values:n}}}class qc extends Wh{constructor(e){super(),this.elements=e}}function mI(t,e){let n=gI(e);for(const r of t.elements)n=n.filter(i=>!_i(i,r));return{arrayValue:{values:n}}}class Nf extends Wh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P1(t){return Zt(t.integerValue||t.doubleValue)}function gI(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.field=e,this.transform=n}}function rD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof qc&&i instanceof qc?za(r.elements,i.elements,_i):r instanceof Nf&&i instanceof Nf?_i(r.Pe,i.Pe):r instanceof Wc&&i instanceof Wc}(t.transform,e.transform)}class iD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function yI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N0(t.key,Dr.none()):new pu(t.key,t.data,Dr.none());{const n=t.data,r=nr.empty();let i=new kn(xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gs(t.key,r,new hr(i.toArray()),Dr.none())}}function sD(t,e,n){t instanceof pu?function(i,s,o){const a=i.value.clone(),c=j1(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(i,s,o){if(!Bd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=j1(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(vI(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof pu?function(s,o,a,c){if(!Bd(s.precondition,o))return a;const u=s.value.clone(),f=O1(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gs?function(s,o,a,c){if(!Bd(s.precondition,o))return a;const u=O1(s.fieldTransforms,c,o),f=o.data;return f.setAll(vI(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Bd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function oD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hI(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,(s,o)=>rD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends Hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gs extends Hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j1(t,e,n){const r=new Map;Tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tD(o,a,n[i]))}return r}function O1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eD(s,o,e))}return r}class N0 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=yI(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,r)=>A1(n,r))&&za(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class M0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length);let i=function(){return QL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new M0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,ft;function dD(t){switch(t){default:return Ke();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function xI(t){if(t===void 0)return es("GRPC error has no .code"),se.UNKNOWN;switch(t){case an.OK:return se.OK;case an.CANCELLED:return se.CANCELLED;case an.UNKNOWN:return se.UNKNOWN;case an.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case an.INTERNAL:return se.INTERNAL;case an.UNAVAILABLE:return se.UNAVAILABLE;case an.UNAUTHENTICATED:return se.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case an.NOT_FOUND:return se.NOT_FOUND;case an.ALREADY_EXISTS:return se.ALREADY_EXISTS;case an.PERMISSION_DENIED:return se.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case an.ABORTED:return se.ABORTED;case an.OUT_OF_RANGE:return se.OUT_OF_RANGE;case an.UNIMPLEMENTED:return se.UNIMPLEMENTED;case an.DATA_LOSS:return se.DATA_LOSS;default:return Ke()}}(ft=an||(an={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new yo([4294967295,4294967295],0);function N1(t){const e=fD().encode(t),n=new UC;return n.update(e),new Uint8Array(n.digest())}function M1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yo([n,r],0),new yo([i,s],0)]}class L0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yo.fromNumber(r)));return i.compare(hD)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=N1(e),[r,i]=M1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=N1(e),[r,i]=M1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(Qe.min(),i,new qt(vt),ts(),st())}}class mu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mu(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bI{constructor(e,n){this.targetId=e,this.me=n}}class _I{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L1{constructor(){this.fe=0,this.ge=$1(),this.pe=_n.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),n=st(),r=st();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new mu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ts(),this.qe=D1(),this.Qe=new qt(vt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Py(s))if(r===0){const o=new Me(s.path);this.Ue(n,o,Un.newNoDocument(o,Qe.min()))}else Tt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Io(r).toUint8Array()}catch(c){if(c instanceof JC)return Co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new L0(o,i,s)}catch(c){return Co(c instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Py(a.target)){const c=new Me(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Un.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=st();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qh(e,n,this.Qe,this.ke,r);return this.ke=ts(),this.qe=D1(),this.Qe=new qt(vt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new L1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kn(vt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D1(){return new qt(Me.comparator)}function $1(){return new qt(Me.comparator)}const mD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"};class vD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xD(t,e){return Mf(t,e.toTimestamp())}function yi(t){return Tt(!!t),Qe.fromTimestamp(function(n){const r=Vs(n);return new fn(r.seconds,r.nanos)}(t))}function D0(t,e){return Ny(t,e).canonicalString()}function Ny(t,e){const n=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SI(t){const e=Mt.fromString(t);return Tt(kI(e)),e}function My(t,e){return D0(t.databaseId,e.path)}function Km(t,e){const n=SI(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(TI(n))}function EI(t,e){return D0(t.databaseId,e)}function bD(t){const e=SI(t);return e.length===4?Mt.emptyPath():TI(e)}function Ly(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TI(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F1(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Tt(f===void 0||typeof f=="string"),_n.fromBase64String(f||"")):(Tt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?se.UNKNOWN:xI(u.code);return new ye(f,u.message||"")}(o);n=new _I(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Km(t,r.document.name),s=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):Qe.min(),a=new nr({mapValue:{fields:r.document.fields}}),c=Un.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Ud(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Km(t,r.document),s=r.readTime?yi(r.readTime):Qe.min(),o=Un.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Km(t,r.document),s=r.removedTargetIds||[];n=new Ud([],s,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uD(i,s),a=r.targetId;n=new bI(a,o)}}return n}function wD(t,e){let n;if(e instanceof pu)n={update:F1(t,e.key,e.value)};else if(e instanceof N0)n={delete:My(t,e.key)};else if(e instanceof Gs)n={update:F1(t,e.key,e.data),updateMask:AD(e.fieldMask)};else{if(!(e instanceof aD))return Ke();n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ke()}(t,e.precondition)),n}function SD(t,e){return t&&t.length>0?(Tt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yi(i.updateTime):yi(s);return o.isEqual(Qe.min())&&(o=yi(s)),new iD(o,i.transformResults||[])}(n,e))):[]}function ED(t,e){return{documents:[EI(t,e.path)]}}function TD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EI(t,i);const s=function(u){if(u.length!==0)return II(ni.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:ta(m.field),direction:kD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Oy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function CD(t){let e=bD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=CI(h);return m instanceof ni&&nI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(T){return new Uc(na(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Vh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,E=h.values||[];return new Of(E,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,E=h.values||[];return new Of(E,m)}(n.endAt)),WL(e,i,o,s,a,"F",c,u)}function ID(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return un.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ni.create(n.compositeFilter.filters.map(r=>CI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function kD(t){return mD[t]}function RD(t){return gD[t]}function PD(t){return yD[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return xn.fromServerFormat(t.fieldPath)}function II(t){return t instanceof un?function(n){if(n.op==="=="){if(T1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(E1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(E1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:RD(n.op),value:n.value}}}(t):t instanceof ni?function(n){const r=n.getFilters().map(i=>II(i));return r.length===1?r[0]:{compositeFilter:{op:PD(n.op),filters:r}}}(t):Ke()}function AD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,s=Qe.min(),o=Qe.min(),a=_n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.ct=e}}function OD(t){const e=CD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.un=new MD}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Fs.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class MD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(Mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changes=new cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,hr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ts();const o=fc(),a=function(){return fc()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Gs)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),hc(f.mutation,u,f.mutation.getFieldMask(),fn.now())):o.set(u.key,hr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new DD(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fc();let i=new qt((o,a)=>o-a),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||hr.empty();f=a.applyToLocalView(u,f),r.set(c,f);const h=(i.get(a.batchId)||st()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,h=dI();f.forEach(m=>{if(!s.has(m)){const E=yI(n.get(m),r.get(m));E!==null&&h.set(m,E),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(ho());let a=-1,c=s;return o.next(u=>le.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,st())).next(f=>({batchId:a,changes:uI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xl();return this.indexManager.getCollectionParents(e,s).next(a=>le.forEach(a,c=>{const u=function(h,m){return new ll(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Un.newInvalidDocument(f)))});let a=Xl();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&hc(f.mutation,u,hr.empty(),fn.now()),Uh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:OD(i.bundledQuery),readTime:yi(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.overlays=new qt(Me.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return le.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=ho(),s=n.length+1,o=new Me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=ho(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=ho(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cD(n,r));let s=this.Ir.get(n);s===void 0&&(s=st(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Tr=new kn(yn.Er),this.dr=new kn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Me(new Mt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Me(new Mt([])),r=new yn(n,e),i=new yn(n,e+1);let s=st();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Me.comparator(e.key,n.key)||vt(e.wr,n.wr)}static Ar(e,n){return vt(e.wr,n.wr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kn(yn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(vt);return n.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Me.isDocumentKey(s)||(s=s.child(""));const o=new yn(new Me(s),0);let a=new kn(vt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yn(n,0),i=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Mr=e,this.docs=function(){return new qt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Un.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ts();const o=n.path,a=new Me(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TL(EL(f),r)<=0||(i.has(f.key)||Uh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ke()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WD(this)}getSize(e){return le.resolve(this.size)}}class WD extends LD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.Nr=new cl(n=>A0(n),j0),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $0,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(s).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new I0(0),this.Kr=!1,this.Kr=!0,this.$r=new zD,this.referenceDelegate=e(this),this.Ur=new HD(this),this.indexManager=new ND,this.remoteDocumentCache=function(i){return new UD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jD(n),this.Gr=new FD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new BD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new KD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class KD extends IL{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Jr=new $0,this.Yr=null}static Zr(e){return new F0(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const i=Me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YN()?8:kL(Hn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new GD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ml()<=ut.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ml()<=ut.DEBUG&&Ce("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ml()<=ut.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):le.resolve())}Yi(e,n){if(R1(n))return le.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jy(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=st(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,jy(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return R1(n)||i.isEqual(Qe.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?le.resolve(null):(Ml()<=ut.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,o,n,SL(i,-1)).next(a=>a))})}ts(e,n){let r=new kn(lI(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ml()<=ut.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qt(vt),this._s=new cl(s=>A0(s),j0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $D(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function XD(t,e,n,r){return new YD(t,e,n,r)}async function RI(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=st();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function JD(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){const h=u.batch,m=h.keys();let E=le.resolve();return m.forEach(T=>{E=E.next(()=>f.getEntry(c,T)).next(w=>{const I=u.docVersions.get(T);Tt(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),f.addEntry(w)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=st();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PI(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZD(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let E=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(_n.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(w,I,C){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(s,E))});let c=ts(),u=st();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(e6(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(Qe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return le.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function e6(t,e,n){let r=st(),i=st();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ts();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function t6(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n6(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,le.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=Ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hu(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function V1(t,e,n){const r=Ye(t);let i=Qe.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const h=Ye(c),m=h._s.get(f);return m!==void 0?le.resolve(h.os.get(m)):h.Ur.getTargetData(u,f)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Qe.min(),n?s:st())).next(a=>(r6(r,qL(e),a),{documents:a,Ts:s})))}function r6(t,e,n){let r=t.us.get(e)||Qe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class z1{constructor(){this.activeTargetIds=JL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.so=new z1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function Gm(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class l6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Gm(),c=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(f=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Co("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=o6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Gm();return new Promise((o,a)=>{const c=new WC;c.setWithCredentials(!0),c.listenOnce(HC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vd.NO_ERROR:const f=c.getResponseJson();Ce(Ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Vd.TIMEOUT:Ce(Ln,`RPC '${e}' ${s} timed out`),a(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const h=c.getStatus();if(Ce(Ln,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const T=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(C)>=0?C:se.UNKNOWN}(E.status);a(new ye(T,E.message))}else a(new ye(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ce(Ln,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ce(Ln,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Gm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GC(),a=KC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Ce(Ln,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);let m=!1,E=!1;const T=new a6({Io:I=>{E?Ce(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ce(Ln,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ce(Ln,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),w=(I,C,v)=>{I.listen(C,_=>{try{v(_)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,Yl.EventType.OPEN,()=>{E||(Ce(Ln,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),w(h,Yl.EventType.CLOSE,()=>{E||(E=!0,Ce(Ln,`RPC '${e}' stream ${i} transport closed`),T.So())}),w(h,Yl.EventType.ERROR,I=>{E||(E=!0,Co(Ln,`RPC '${e}' stream ${i} transport errored:`,I),T.So(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),w(h,Yl.EventType.MESSAGE,I=>{var C;if(!E){const v=I.data[0];Tt(!!v);const _=v,k=_.error||((C=_[0])===null||C===void 0?void 0:C.error);if(k){Ce(Ln,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let N=function(g){const b=an[g];if(b!==void 0)return xI(b)}(M),S=k.message;N===void 0&&(N=se.INTERNAL,S="Unknown error status: "+M+" with message "+k.message),E=!0,T.So(new ye(N,S)),h.close()}else Ce(Ln,`RPC '${e}' stream ${i} received:`,v),T.bo(v)}}),w(a,qC.STAT_EVENT,I=>{I.stat===Cy.PROXY?Ce(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Cy.NOPROXY&&Ce(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new vD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new AI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ye(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends jI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_D(this.serializer,e),r=function(s){if(!("targetChange"in s))return Qe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Qe.min():o.readTime?yi(o.readTime):Qe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ly(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Py(c)?{documents:ED(s,c)}:{query:TD(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wI(s,o.resumeToken);const u=Oy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Qe.min())>0){a.readTime=Mf(s,o.snapshotVersion.toTimestamp());const u=Oy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ID(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ly(this.serializer),n.removeTarget=e,this.a_(n)}}class u6 extends jI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SD(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ly(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ny(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(se.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ny(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class f6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(es(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Fo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Ye(c);u.L_.add(4),await gu(u),u.q_.set("Unknown"),u.L_.delete(4),await Gh(u)}(this))})}),this.q_=new f6(r,i)}}async function Gh(t){if(Fo(t))for(const e of t.B_)await e(!0)}async function gu(t){for(const e of t.B_)await e(!1)}function OI(t,e){const n=Ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),W0(n)?U0(n):ul(n).r_()&&B0(n,e))}function z0(t,e){const n=Ye(t),r=ul(n);n.N_.delete(e),r.r_()&&NI(n,e),n.N_.size===0&&(r.r_()?r.o_():Fo(n)&&n.q_.set("Unknown"))}function B0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).A_(e)}function NI(t,e){t.Q_.xe(e),ul(t).R_(e)}function U0(t){t.Q_=new pD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.q_.v_()}function W0(t){return Fo(t)&&!ul(t).n_()&&t.N_.size>0}function Fo(t){return Ye(t).L_.size===0}function MI(t){t.Q_=void 0}async function p6(t){t.q_.set("Online")}async function m6(t){t.N_.forEach((e,n)=>{B0(t,e)})}async function g6(t,e){MI(t),W0(t)?(t.q_.M_(e),U0(t)):t.q_.set("Unknown")}async function y6(t,e,n){if(t.q_.set("Online"),e instanceof _I&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lf(t,r)}else if(e instanceof Ud?t.Q_.Ke(e):e instanceof bI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Qe.min()))try{const r=await PI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(_n.EMPTY_BYTE_STRING,f.snapshotVersion)),NI(s,c);const h=new Ss(f.target,c,u,f.sequenceNumber);B0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await Lf(t,r)}}async function Lf(t,e,n){if(!hu(e))throw e;t.L_.add(1),await gu(t),t.q_.set("Offline"),n||(n=()=>PI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gh(t)})}function LI(t,e){return e().catch(n=>Lf(t,n,e))}async function Qh(t){const e=Ye(t),n=zs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v6(e);)try{const i=await t6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,x6(e,i)}catch(i){await Lf(e,i)}DI(e)&&$I(e)}function v6(t){return Fo(t)&&t.O_.length<10}function x6(t,e){t.O_.push(e);const n=zs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DI(t){return Fo(t)&&!zs(t).n_()&&t.O_.length>0}function $I(t){zs(t).start()}async function b6(t){zs(t).p_()}async function _6(t){const e=zs(t);for(const n of t.O_)e.m_(n.mutations)}async function w6(t,e,n){const r=t.O_.shift(),i=M0.from(r,e,n);await LI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qh(t)}async function S6(t,e){e&&zs(t).V_&&await async function(r,i){if(function(o){return dD(o)&&o!==se.ABORTED}(i.code)){const s=r.O_.shift();zs(r).s_(),await LI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qh(r)}}(t,e),DI(t)&&$I(t)}async function U1(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.L_.add(3),await gu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gh(n)}async function E6(t,e){const n=Ye(t);e?(n.L_.delete(2),await Gh(n)):e||(n.L_.add(2),await gu(n),n.q_.set("Unknown"))}function ul(t){return t.K_||(t.K_=function(n,r,i){const s=Ye(n);return s.w_(),new c6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:p6.bind(null,t),Ro:m6.bind(null,t),mo:g6.bind(null,t),d_:y6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),W0(t)?U0(t):t.q_.set("Unknown")):(await t.K_.stop(),MI(t))})),t.K_}function zs(t){return t.U_||(t.U_=function(n,r,i){const s=Ye(n);return s.w_(),new u6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:b6.bind(null,t),mo:S6.bind(null,t),f_:_6.bind(null,t),g_:w6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qh(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new H0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q0(t,e){if(es("AsyncQueue",`${e}: ${t}`),hu(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.W_=new qt(Me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qa{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qa(e,n,Ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C6{constructor(){this.queries=H1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ye(n),s=i.queries;i.queries=H1(),s.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function H1(){return new cl(t=>aI(t),Bh)}async function K0(t,e){const n=Ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new T6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q0(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Q0(n)}async function G0(t,e){const n=Ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I6(t,e){const n=Ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Q0(n)}function k6(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Q0(t){t.Y_.forEach(e=>{e.next()})}var $y,q1;(q1=$y||($y={})).ea="default",q1.Cache="cache";class Y0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class VI{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=lI(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=Uh(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;m&&E?m.data.isEqual(E.data)?T!==w&&(r.track({type:3,doc:E}),I=!0):this.ga(m,E)||(r.track({type:2,doc:E}),I=!0,(c&&this.Aa(E,c)>0||u&&this.Aa(E,u)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),I=!0):m&&!E&&(r.track({type:1,doc:m}),I=!0,(c||u)&&(a=!0)),I&&(E?(o=o.add(E),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(E,T){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return w(E)-w(T)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new qa(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=st(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new VI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new FI(r))}),n}ba(e){this.Ta=e.Ts,this.da=st();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A6{constructor(e){this.key=e,this.va=!1}}class j6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cl(a=>aI(a),Bh),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(Me.comparator),this.Na=new Map,this.La=new $0,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function O6(t,e,n=!0){const r=qI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await zI(r,e,n,!0),i}async function N6(t,e){const n=qI(t);await zI(n,e,!0,!1)}async function zI(t,e,n,r){const i=await n6(t.localStore,gi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await M6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OI(t.remoteStore,i),a}async function M6(t,e,n,r,i){t.Ka=(h,m,E)=>async function(w,I,C,v){let _=I.view.ma(C);_.ns&&(_=await V1(w.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,_)));const k=v&&v.targetChanges.get(I.targetId),M=v&&v.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(_,w.isPrimaryClient,k,M);return G1(w,I.targetId,N.wa),N.snapshot}(t,h,m,E);const s=await V1(t.localStore,e,!0),o=new R6(e,s.Ts),a=o.ma(s.documents),c=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);G1(t,n,u.wa);const f=new P6(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function L6(t,e,n){const r=Ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Bh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z0(r.remoteStore,i.targetId),Fy(r,i.targetId)}).catch(fu)):(Fy(r,i.targetId),await Dy(r.localStore,i.targetId,!0))}async function D6(t,e){const n=Ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z0(n.remoteStore,r.targetId))}async function $6(t,e,n){const r=H6(t);try{const i=await function(o,a){const c=Ye(o),u=fn.now(),f=a.reduce((E,T)=>E.add(T.key),st());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=ts(),w=st();return c.cs.getEntries(E,f).next(I=>{T=I,T.forEach((C,v)=>{v.isValidDocument()||(w=w.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,T)).next(I=>{h=I;const C=[];for(const v of a){const _=oD(v,h.get(v.key).overlayedDocument);_!=null&&C.push(new Gs(v.key,_,ZC(_.value.mapValue),Dr.exists(!0)))}return c.mutationQueue.addMutationBatch(E,u,C,a)}).next(I=>{m=I;const C=I.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(E,I.batchId,C)})}).then(()=>({batchId:m.batchId,changes:uI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new qt(vt)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await yu(r,i.changes),await Qh(r.remoteStore)}catch(i){const s=q0(i,"Failed to persist write");n.reject(s)}}async function BI(t,e){const n=Ye(t);try{const r=await ZD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Tt(o.va):i.removedDocuments.size>0&&(Tt(o.va),o.va=!1))}),await yu(n,r,e)}catch(r){await fu(r)}}function K1(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Ye(o);c.onlineState=a;let u=!1;c.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(u=!0)}),u&&Q0(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F6(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new qt(Me.comparator);o=o.insert(s,Un.newNoDocument(s,Qe.min()));const a=st().add(s),c=new qh(Qe.min(),new Map,new qt(vt),o,a);await BI(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),X0(r)}else await Dy(r.localStore,e,!1).then(()=>Fy(r,e,n)).catch(fu)}async function V6(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await JD(n.localStore,e);WI(n,r,null),UI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,i)}catch(i){await fu(i)}}async function z6(t,e,n){const r=Ye(t);try{const i=await function(o,a){const c=Ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Tt(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);WI(r,e,n),UI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,i)}catch(i){await fu(i)}}function UI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WI(t,e,n){const r=Ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HI(t,r)})}function HI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(z0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),X0(t))}function G1(t,e,n){for(const r of n)r instanceof FI?(t.La.addReference(r.key,e),B6(t,r)):r instanceof VI?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HI(t,r.key)):Ke()}function B6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),X0(t))}function X0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Me(Mt.fromString(e)),r=t.qa.next();t.Na.set(r,new A6(n)),t.Oa=t.Oa.insert(n,r),OI(t.remoteStore,new Ss(gi(zh(n.path)),r,"TargetPurposeLimboResolution",I0.oe))}}async function yu(t,e,n){const r=Ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=V0.Wi(c.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const f=Ye(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(u,m=>le.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>le.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!hu(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),T=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(m,w)}}}(r.localStore,s))}async function U6(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new ye(se.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.hs)}}function W6(t,e){const n=Ye(t),r=n.Na.get(e);if(r&&r.va)return st().add(r.key);{let i=st();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function qI(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F6.bind(null,e),e.Ca.d_=I6.bind(null,e.eventManager),e.Ca.$a=k6.bind(null,e.eventManager),e}function H6(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XD(this.persistence,new QD,e.initialUser,this.serializer)}Ga(e){return new qD(F0.Zr,this.serializer)}Wa(e){return new i6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U6.bind(null,this.syncEngine),await E6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C6}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=function(s){return new l6(s)}(e.databaseInfo);return function(s,o,a,c){return new d6(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new h6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return B1.D()?new B1:new s6}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,f){const h=new j6(i,s,o,a,c,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ye(i);Ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await gu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ym(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ym(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Ym(t,new Df)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Ym(t,new Df);return t._offlineComponents}async function KI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Q1(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await Q1(t,new Vy))),t._onlineComponents}function G6(t){return KI(t).then(e=>e.syncEngine)}async function $f(t){const e=await KI(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=L6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D6.bind(null,e.syncEngine),n}function Q6(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const f=new J0({next:m=>{f.Za(),o.enqueueAndForget(()=>G0(s,h));const E=m.docs.has(a);!E&&m.fromCache?u.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&c&&c.source==="server"?u.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Y0(zh(a.path),f,{includeMetadataChanges:!0,_a:!0});return K0(s,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}function Y6(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const f=new J0({next:m=>{f.Za(),o.enqueueAndForget(()=>G0(s,h)),m.fromCache&&c.source==="server"?u.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Y0(a,f,{includeMetadataChanges:!0,_a:!0});return K0(s,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YI(t,e,n,r){if(e===!0&&r===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X1(t){if(!Me.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J1(t){if(Me.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YC;switch(r.type){case"firstParty":return new vL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y1.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),Y1.delete(n),r.terminate())}(this),Promise.resolve()}}function XI(t,e,n,r={}){var i;const s=(t=Xn(t,Xh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=zn.MOCK_USER;else{a=DC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zn(u)}t._authCredentials=new mL(new QC(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class qi extends os{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Me(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function Re(t,e,...n){if(t=hn(t),QI("collection","path",e),t instanceof Xh){const r=Mt.fromString(e,...n);return J1(r),new qi(t,null,r)}{if(!(t instanceof Rn||t instanceof qi))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return J1(r),new qi(t.firestore,null,r)}}function Ie(t,e,...n){if(t=hn(t),arguments.length===1&&(e=C0.newId()),QI("doc","path",e),t instanceof Xh){const r=Mt.fromString(e,...n);return X1(r),new Rn(t,null,new Me(r))}{if(!(t instanceof Rn||t instanceof qi))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return X1(r),new Rn(t.firestore,t instanceof qi?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new AI(this,"async_queue_retry"),this.Vu=()=>{const r=Qm();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw es("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=H0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function tw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ew,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ew(e),this._firestoreClient=void 0,await e}}}function JI(t,e){const n=typeof t=="object"?t:E0(),r=typeof t=="string"?t:"(default)",i=Fh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NC("firestore");s&&XI(i,...s)}return i}function vu(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X6(t),t._firestoreClient}function X6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,f){return new AL(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,GI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new q6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(_n.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^__.*__$/;class Z6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class ZI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class Z0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ff(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(e2(this.Cu)&&J6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class e5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Qu(e,n,r,i=!1){return new Z0({Cu:e,methodName:n,qu:r,path:xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new e5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t2(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);tx("Data must be an object, but it was:",o,r);const a=n2(r,o);let c,u;if(s.merge)c=new hr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=zy(e,h,n);if(!o.contains(m))throw new ye(se.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);i2(f,m)||f.push(m)}c=new hr(f),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Z6(new nr(a),c,u)}class tp extends bu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}class ex extends bu{_toFieldTransform(e){return new nD(e.path,new Wc)}isEqual(e){return e instanceof ex}}function t5(t,e,n,r){const i=t.Qu(1,e,n);tx("Data must be an object, but it was:",i,r);const s=[],o=nr.empty();$o(r,(c,u)=>{const f=nx(e,c,n);u=hn(u);const h=i.Nu(f);if(u instanceof tp)s.push(f);else{const m=_u(u,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new hr(s);return new ZI(o,a,i.fieldTransforms)}function n5(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[zy(e,r,n)],c=[i];if(s.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(zy(e,s[m])),c.push(s[m+1]);const u=[],f=nr.empty();for(let m=a.length-1;m>=0;--m)if(!i2(u,a[m])){const E=a[m];let T=c[m];T=hn(T);const w=o.Nu(E);if(T instanceof tp)u.push(E);else{const I=_u(T,w);I!=null&&(u.push(E),f.set(E,I))}}const h=new hr(u);return new ZI(f,h,o.fieldTransforms)}function r5(t,e,n,r=!1){return _u(n,t.Qu(r?4:3,e))}function _u(t,e){if(r2(t=hn(t)))return tx("Unsupported field value:",e,t),n2(t,e);if(t instanceof bu)return function(r,i){if(!e2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=_u(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fn.fromDate(r);return{timestampValue:Mf(i.serializer,s)}}if(r instanceof fn){const s=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(i.serializer,s)}}if(r instanceof Jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:wI(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return O0(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function n2(t,e){const n={};return XC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const s=_u(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof Jh||t instanceof Ro||t instanceof Rn||t instanceof bu||t instanceof Zh)}function tx(t,e,n){if(!r2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function zy(t,e,n){if((e=hn(e))instanceof xu)return e._internalPath;if(typeof e=="string")return nx(t,e);throw Ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const i5=new RegExp("[~\\*/\\[\\]]");function nx(t,e,n){if(e.search(i5)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ff(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ye(se.INVALID_ARGUMENT,a+t+c)}function i2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s5 extends s2{data(){return super.data()}}function np(t,e){return typeof e=="string"?nx(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class ix extends rx{}function xr(t,e,...n){let r=[];e instanceof rx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof rp).length,a=s.filter(c=>c instanceof wu).length;if(o>1||o>0&&a>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wu extends ix{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wu(e,n,r)}_apply(e){const n=this._parse(e);return l2(e._query,n),new os(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=ep(e.firestore);return function(s,o,a,c,u,f,h){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){rw(h,f);const E=[];for(const T of h)E.push(nw(c,s,T));m={arrayValue:{values:E}}}else m=nw(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||rw(h,f),m=r5(a,o,h,f==="in"||f==="not-in");return un.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const r=e,i=np("where",t);return wu._create(i,r,n)}class rp extends rx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)l2(o,c),o=Ay(o,c)}(e._query,n),new os(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ip extends ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ip(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(s,o)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ll(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function a2(t,e="asc"){const n=e,r=np("orderBy",t);return ip._create(r,n)}function nw(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oI(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Me.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S1(t,new Me(r))}if(n instanceof Rn)return S1(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function rw(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c2{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Zt(o.doubleValue));return new Zh(s)}convertGeoPoint(e){return new Jh(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=R0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);Tt(kI(r));const i=new Ba(r.get(1),r.get(3)),s=new Me(r.popFirst(5));return i.isEqual(n)||es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sx extends s2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pc extends sx{data(e={}){return super.data(e)}}class ox{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pc(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:o5(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){t=Xn(t,Rn);const e=Xn(t.firestore,wi);return Q6(vu(e),t._key).then(n=>d2(e,t,n))}class ax extends c2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function Ut(t){t=Xn(t,os);const e=Xn(t.firestore,wi),n=vu(e),r=new ax(e);return o2(t._query),Y6(n,t._query).then(i=>new ox(e,r,t,i))}function _r(t,e,n){t=Xn(t,Rn);const r=Xn(t.firestore,wi),i=u2(t.converter,e,n);return Su(r,[t2(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function tn(t,e,n,...r){t=Xn(t,Rn);const i=Xn(t.firestore,wi),s=ep(i);let o;return o=typeof(e=hn(e))=="string"||e instanceof xu?n5(s,"updateDoc",t._key,e,n,r):t5(s,"updateDoc",t._key,e),Su(i,[o.toMutation(t._key,Dr.exists(!0))])}function $r(t){return Su(Xn(t.firestore,wi),[new N0(t._key,Dr.none())])}function ns(t,e){const n=Xn(t.firestore,wi),r=Ie(t),i=u2(t.converter,e);return Su(n,[t2(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function kt(t,...e){var n,r,i;t=hn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,f;if(t instanceof Rn)u=Xn(t.firestore,wi),f=zh(t._key.path),c={next:h=>{e[o]&&e[o](d2(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Xn(t,os);u=Xn(h.firestore,wi),f=h._query;const m=new ax(u);c={next:E=>{e[o]&&e[o](new ox(u,m,h,E))},error:e[o+1],complete:e[o+2]},o2(t._query)}return function(m,E,T,w){const I=new J0(w),C=new Y0(E,I,T);return m.asyncQueue.enqueueAndForget(async()=>K0(await $f(m),C)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>G0(await $f(m),C))}}(vu(u),f,a,c)}function Su(t,e){return function(r,i){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>$6(await G6(r),i,s)),s.promise}(vu(t),e)}function d2(t,e,n){const r=n.docs.get(e._key),i=new ax(t);return new sx(t,i,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}function By(){return new ex("serverTimestamp")}(function(e,n=!0){(function(i){al=i})(Do),Eo(new $s("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wi(new gL(r.getProvider("auth-internal")),new bL(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(v1,"4.7.3",e),mi(v1,"4.7.3","esm2017")})();const lx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:c2,Bytes:Ro,CollectionReference:qi,DocumentReference:Rn,DocumentSnapshot:sx,FieldPath:xu,FieldValue:bu,Firestore:wi,FirestoreError:ye,GeoPoint:Jh,Query:os,QueryCompositeFilterConstraint:rp,QueryConstraint:ix,QueryDocumentSnapshot:pc,QueryFieldFilterConstraint:wu,QueryOrderByConstraint:ip,QuerySnapshot:ox,SnapshotMetadata:ga,Timestamp:fn,VectorValue:Zh,_AutoId:C0,_ByteString:_n,_DatabaseId:Ba,_DocumentKey:Me,_EmptyAuthCredentialsProvider:YC,_FieldPath:xn,_cast:Xn,_logWarn:Co,_validateIsNotUsedTogether:YI,addDoc:ns,collection:Re,connectFirestoreEmulator:XI,deleteDoc:$r,doc:Ie,ensureFirestoreConfigured:vu,executeWrite:Su,getDoc:dn,getDocs:Ut,getFirestore:JI,onSnapshot:kt,orderBy:a2,query:xr,serverTimestamp:By,setDoc:_r,updateDoc:tn,where:br},Symbol.toStringTag,{value:"Module"}));function cx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=f2,p2=new uu("auth","Firebase",f2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new w0("@firebase/auth");function a5(t,...e){Vf.logLevel<=ut.WARN&&Vf.warn(`Auth (${Do}): ${t}`,...e)}function Wd(t,...e){Vf.logLevel<=ut.ERROR&&Vf.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw ux(t,...e)}function vi(t,...e){return ux(t,...e)}function m2(t,e,n){const r=Object.assign(Object.assign({},h2()),{[e]:n});return new uu("auth","Firebase",r).create(e,{appName:t.name})}function Ki(t){return m2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ux(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p2.create(t,...e)}function We(t,e,...n){if(!t)throw ux(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function rs(t,e){t||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function l5(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l5()||KN()||"connection"in navigator)?navigator.onLine:!0}function u5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=WN()||GN()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new Eu(3e4,6e4);function Qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ys(t,e,n,r,i={}){return y2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=du(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return qN()||(u.referrerPolicy="no-referrer"),g2.fetch()(v2(t,t.config.apiHost,n,a),u)})}async function y2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d5),e);try{const i=new p5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw yd(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw m2(t,f,u);ri(t,f)}}catch(i){if(i instanceof Ci)throw i;ri(t,"network-request-failed",{message:String(i)})}}async function Tu(t,e,n,r,i={}){const s=await Ys(t,e,n,r,i);return"mfaPendingCredential"in s&&ri(t,"multi-factor-auth-required",{_serverResponse:s}),s}function v2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dx(t.config,i):`${t.config.apiScheme}://${i}`}function h5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),f5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}function sw(t){return t!==void 0&&t.enterprise!==void 0}class m5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function g5(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function x2(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b2(t,e=!1){const n=hn(t),r=await n.getIdToken(e),i=fx(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mc(Xm(i.auth_time)),issuedAtTime:mc(Xm(i.iat)),expirationTime:mc(Xm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xm(t){return Number(t)*1e3}function fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=jC(n);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ow(t){const e=fx(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&v5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kc(t,x2(n,{idToken:r}));We(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?w2(s.providerUserInfo):[],a=b5(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function _2(t){const e=hn(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function w2(t){return t.map(e=>{var{providerId:n}=e,r=cx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){const n=await y2(t,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=v2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",g2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w5(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ta;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(We(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b2(this,e)}reload(){return _2(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Kc(this,y5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:k,isAnonymous:M,providerData:N,stsTokenManager:S}=n;We(_&&S,e,"internal-error");const p=Ta.fromJSON(this.name,S);We(typeof _=="string",e,"internal-error"),hs(h,e.name),hs(m,e.name),We(typeof k=="boolean",e,"internal-error"),We(typeof M=="boolean",e,"internal-error"),hs(E,e.name),hs(T,e.name),hs(w,e.name),hs(I,e.name),hs(C,e.name),hs(v,e.name);const g=new Bi({uid:_,auth:e,email:m,emailVerified:k,displayName:h,isAnonymous:M,photoURL:T,phoneNumber:E,tenantId:w,stsTokenManager:p,createdAt:C,lastLoginAt:v});return N&&Array.isArray(N)&&(g.providerData=N.map(b=>Object.assign({},b))),I&&(g._redirectEventId=I),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const s=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?w2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ta;a.updateFromIdToken(r);const c=new Bi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;function Ui(t){rs(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S2.type="NONE";const Hy=S2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(Ui(Hy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ui(Hy);const o=Hd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const h=Bi._fromJSON(e,f);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ca(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ca(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R2(e))return"Blackberry";if(P2(e))return"Webos";if(T2(e))return"Safari";if((e.includes("chrome/")||C2(e))&&!e.includes("edge/"))return"Chrome";if(k2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E2(t=Hn()){return/firefox\//i.test(t)}function T2(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C2(t=Hn()){return/crios\//i.test(t)}function I2(t=Hn()){return/iemobile/i.test(t)}function k2(t=Hn()){return/android/i.test(t)}function R2(t=Hn()){return/blackberry/i.test(t)}function P2(t=Hn()){return/webos/i.test(t)}function hx(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S5(t=Hn()){var e;return hx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E5(){return QN()&&document.documentMode===10}function A2(t=Hn()){return hx(t)||k2(t)||P2(t)||R2(t)||/windows phone/i.test(t)||I2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t,e=[]){let n;switch(t){case"Browser":n=lw(Hn());break;case"Worker":n=`${lw(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=6;class k5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:I5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new T5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x2(this,{idToken:e}),r=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Ki(this));const n=e?hn(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C5(this),n=new k5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await w5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&a5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return hn(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rM(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P5(t){sp=t}function O2(t){return sp.loadJS(t)}function A5(){return sp.recaptchaEnterpriseScript}function j5(){return sp.gapiScript}function O5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const N5="recaptcha-enterprise",M5="NO_RECAPTCHA";class L5{constructor(e){this.type=N5,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{g5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new m5(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;sw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(M5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=A5();c.length!==0&&(c+=a),O2(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function uw(t,e,n,r=!1){const i=new L5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){const n=Fh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pf(s,e??{}))return i;ri(i,"already-initialized")}return n.initialize({options:e})}function D5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M2(t,e,n){const r=Vo(t);We(r._canInitEmulator,r,"emulator-config-failed"),We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=L2(e),{host:o,port:a}=$5(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),F5()}function L2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $5(t){const e=L2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dw(o)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function V5(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e){return Tu(t,"POST","/v1/accounts:signInWithPassword",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}async function U5(t,e){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends op{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",z5);case"emailLink":return B5(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",V5);case"emailLink":return U5(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return Tu(t,"POST","/v1/accounts:signInWithIdp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="http://localhost";class Bs extends op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cx(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:W5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q5(t){const e=Gl(Ql(t)).link,n=e?Gl(Ql(e)).deep_link_id:null,r=Gl(Ql(t)).deep_link_id;return(r?Gl(Ql(r)).link:null)||r||n||e||t}class ap{constructor(e){var n,r,i,s,o,a;const c=Gl(Ql(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=H5((i=c.mode)!==null&&i!==void 0?i:null);We(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=q5(e);try{return new ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ap.parseLink(n);return We(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends D2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Cu{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Cu{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return Tu(t,"POST","/v1/accounts:signUp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bi._fromIdTokenResponse(e,r,i),o=fw(r);return new Po({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fw(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Ci{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bf(e,n,r,i)}}function $2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(t,s,e,r):s})}async function G5(t,e,n=!1){const r=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Ki(r));const i="reauthenticate";try{const s=await Kc(t,$2(r,i,e,t),n);We(s.idToken,r,"internal-error");const o=fx(s.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Po._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ri(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e,n=!1){if(fi(t.app))return Promise.reject(Ki(t));const r="signIn",i=await $2(t,r,e),s=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V2(t,e){return F2(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zl(t,e,n){if(fi(t.app))return Promise.reject(Ki(t));const r=Vo(t),o=await qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&z2(t),c}),a=await Po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function B2(t,e,n){return fi(t.app)?Promise.reject(Ki(t)):V2(hn(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z2(t),r})}function U2(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function W2(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function ii(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function H2(t){return hn(t).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=1e3,X5=10;class K2 extends q2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);E5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K2.type="LOCAL";const G2=K2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends q2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q2.type="SESSION";const px=Q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await J5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=mx("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function e3(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function t3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r3(){return Y2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebaseLocalStorageDb",i3=1,Wf="firebaseLocalStorage",J2="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function s3(){const t=indexedDB.deleteDatabase(X2);return new Iu(t).toPromise()}function Ky(){const t=indexedDB.open(X2,i3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wf,{keyPath:J2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wf)?e(r):(r.close(),await s3(),e(await Ky()))})})}async function hw(t,e,n){const r=cp(t,!0).put({[J2]:e,value:n});return new Iu(r).toPromise()}async function o3(t,e){const n=cp(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function pw(t,e){const n=cp(t,!0).delete(e);return new Iu(n).toPromise()}const a3=800,l3=3;class Z2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(r3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t3(),!this.activeServiceWorker)return;this.sender=new Z5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await hw(e,Uf,"1"),await pw(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cp(i,!1).getAll();return new Iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z2.type="LOCAL";const ek=Z2;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e){return e?Ui(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u3(t){return F2(t.auth,new gx(t),t.bypassAuthState)}function d3(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Q5(n,new gx(t),t.bypassAuthState)}async function f3(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),G5(n,new gx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u3;case"linkViaPopup":case"linkViaRedirect":return f3;case"reauthViaPopup":case"reauthViaRedirect":return d3;default:ri(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Eu(2e3,1e4);class ya extends tk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=mx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h3.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="pendingRedirect",qd=new Map;class m3 extends tk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await g3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g3(t,e){const n=x3(e),r=v3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function y3(t,e){qd.set(t._key(),e)}function v3(t){return Ui(t._redirectPersistence)}function x3(t){return Hd(p3,t.config.apiKey,t.name)}async function b3(t,e,n=!1){if(fi(t.app))return Promise.reject(Ki(t));const r=Vo(t),i=c3(r,e),o=await new m3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=10*60*1e3;class w3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_3&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;async function I3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E3(t);for(const n of e)try{if(k3(n))return}catch{}ri(t,"unauthorized-domain")}function k3(t){const e=Uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C3.test(n))return!1;if(T3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new Eu(3e4,6e4);function gw(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P3(t){return new Promise((e,n)=>{var r,i,s;function o(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),n(vi(t,"network-request-failed"))},timeout:R3.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xi().gapi)===null||s===void 0)&&s.load)o();else{const a=O5("iframefcb");return xi()[a]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},O2(`${j5()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function A3(t){return Kd=Kd||P3(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Eu(5e3,15e3),O3="__/auth/iframe",N3="emulator/auth/iframe",M3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D3(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dx(e,N3):`https://${t.config.authDomain}/${O3}`,r={apiKey:e.apiKey,appName:t.name,v:Do},i=L3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${du(r).slice(1)}`}async function $3(t){const e=await A3(t),n=xi().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:D3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),a=xi().setTimeout(()=>{s(o)},j3.get());function c(){xi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V3=500,z3=600,B3="_blank",U3="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W3(t,e,n,r=V3,i=z3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},F3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Hn().toLowerCase();n&&(a=C2(u)?B3:n),E2(u)&&(e=e||U3,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[E,T])=>`${m}${E}=${T},`,"");if(S5(u)&&a!=="_self")return H3(e||"",a),new yw(null);const h=window.open(e||"",a,f);We(h,t,"popup-blocked");try{h.focus()}catch{}return new yw(h)}function H3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="__/auth/handler",K3="emulator/auth/handler",G3=encodeURIComponent("fac");async function vw(t,e,n,r,i,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:i};if(e instanceof D2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Cu){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${G3}=${encodeURIComponent(c)}`:"";return`${Q3(t)}?${du(a).slice(1)}${u}`}function Q3({config:t}){return t.emulator?dx(t,K3):`https://${t.authDomain}/${q3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class Y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=px,this._completeRedirectFn=b3,this._overrideRedirectResult=y3}async _openPopup(e,n,r,i){var s;rs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vw(e,n,r,Uy(),i);return W3(e,o,mx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vw(e,n,r,Uy(),i);return e3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $3(e),r=new w3(e);return n.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jm];o!==void 0&&n(!!o),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A2()||T2()||hx()}}const rk=Y3;var xw="@firebase/auth",bw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z3(t){Eo(new $s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j2(t)},u=new R5(r,i,s,c);return D5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new $s("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new X3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(xw,bw,J3(t)),mi(xw,bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=5*60,t4=LC("authIdTokenMaxAge")||e4;let _w=null;const n4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t4)return;const i=n==null?void 0:n.token;_w!==i&&(_w=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ur(t=E0()){const e=Fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N2(t,{popupRedirectResolver:rk,persistence:[ek,G2,px]}),r=LC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=n4(s.toString());W2(n,o,()=>o(n.currentUser)),U2(n,a=>o(a))}}const i=OC("auth");return i&&M2(n,`http://${i}`),n}function r4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}P5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",r4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z3("Browser");const ik=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:ap,AuthCredential:op,EmailAuthCredential:Ka,EmailAuthProvider:zo,FacebookAuthProvider:Ni,GithubAuthProvider:Li,GoogleAuthProvider:Mi,OAuthCredential:Bs,TwitterAuthProvider:Di,beforeAuthStateChanged:W2,browserLocalPersistence:G2,browserPopupRedirectResolver:rk,browserSessionPersistence:px,connectAuthEmulator:M2,createUserWithEmailAndPassword:Zl,getAuth:Ur,getIdTokenResult:b2,inMemoryPersistence:Hy,indexedDBLocalPersistence:ek,initializeAuth:N2,onAuthStateChanged:ii,onIdTokenChanged:U2,prodErrorMap:h2,reload:_2,signInWithCredential:V2,signInWithEmailAndPassword:B2,signOut:H2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebasestorage.googleapis.com",i4="storageBucket",s4=2*60*1e3,o4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ci{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Zm(t){return"storage/"+t}function a4(){const t="An unknown error occurred, please check the error payload for server response.";return new Ii(Si.UNKNOWN,t)}function l4(){return new Ii(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c4(){return new Ii(Si.CANCELED,"User canceled the upload/download.")}function u4(t){return new Ii(Si.INVALID_URL,"Invalid URL '"+t+"'.")}function d4(t){return new Ii(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ww(t){return new Ii(Si.INVALID_ARGUMENT,t)}function ok(){return new Ii(Si.APP_DELETED,"The Firebase app was deleted.")}function f4(t){return new Ii(Si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Jr.makeFromUrl(e,n)}catch{return new Jr(e,"")}if(r.path==="")return r;throw d4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},w=n===sk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",C=new RegExp(`^https?://${w}/${i}/${I}`,"i"),_=[{regex:a,indices:c,postModify:s},{regex:E,indices:T,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<_.length;k++){const M=_[k],N=M.regex.exec(e);if(N){const S=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new Jr(S,p),M.postModify(r);break}}if(r==null)throw u4(e);return r}}class h4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function f(...I){u||(u=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(E,c())},I)}function m(){s&&clearTimeout(s)}function E(I,...C){if(u){m();return}if(I){m(),f.call(null,I,...C);return}if(c()||o){m(),f.call(null,I,...C);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let T=!1;function w(I){T||(T=!0,m(),!u&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function m4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){return t!==void 0}function Sw(t,e,n,r){if(r<e)throw ww(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ww(`Invalid value for '${t}'. Expected ${n} or less.`)}function y4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Hf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hf||(Hf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,r,i,s,o,a,c,u,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Hf.NO_ERROR,c=s.getStatus();if(!a||v4(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Hf.ABORT;r(!1,new vd(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new vd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());g4(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=a4();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?ok():c4();o(c)}else{const c=l4();o(c)}};this.canceled_?n(!1,new vd(!1,null,!0)):this.backoffId_=p4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function b4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function S4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E4(t,e,n,r,i,s,o=!0){const a=y4(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return w4(u,e),b4(u,n),_4(u,s),S4(u,r),new x4(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this._service=e,n instanceof Jr?this._location=n:this._location=Jr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qf(e,n)}get root(){const e=new Jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C4(this._location.path)}get storage(){return this._service}get parent(){const e=T4(this._location.path);if(e===null)return null;const n=new Jr(this._location.bucket,e);return new qf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f4(e)}}function Ew(t,e){const n=e==null?void 0:e[i4];return n==null?null:Jr.makeFromBucketSpec(n,t)}function I4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:DC(i,t.app.options.projectId))}class k4{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=sk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s4,this._maxUploadRetryTime=o4,this._requests=new Set,i!=null?this._bucket=Jr.makeFromBucketSpec(i,this._host):this._bucket=Ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jr.makeFromBucketSpec(this._url,e):this._bucket=Ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new h4(ok());{const o=E4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Tw="@firebase/storage",Cw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="storage";function R4(t=E0(),e){t=hn(t);const r=Fh(t,ak).getImmediate({identifier:e}),i=NC("storage");return i&&P4(r,...i),r}function P4(t,e,n,r={}){I4(t,e,n,r)}function A4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new k4(n,r,i,e,Do)}function j4(){Eo(new $s(ak,A4,"PUBLIC").setMultipleInstances(!0)),mi(Tw,Cw,""),mi(Tw,Cw,"esm2017")}j4();const O4={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},up=VC(O4),ne=JI(up),oo=Ur(up);R4(up);const N4=Object.freeze(Object.defineProperty({__proto__:null,app:up,auth:oo,db:ne},Symbol.toStringTag,{value:"Module"}));function M4(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),c=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function L4(){const[t,e]=x.useState([]),[n,r]=x.useState(null),[i,s]=x.useState(""),o=Er();x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>r({lat:u.coords.latitude,lng:u.coords.longitude}),()=>r(null))},[]),x.useEffect(()=>{async function u(){const h=(await Ut(Re(ne,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}u()},[]);const c=t.map(u=>{let f=1/0;return n&&u.location&&u.location.latitude&&u.location.longitude&&(f=M4(n.lat,n.lng,u.location.latitude,u.location.longitude)),{...u,distance:f}}).sort((u,f)=>u.distance-f.distance).filter(u=>{var f;return(f=u.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:u=>s(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:c.map(u=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:u.slug?"pointer":"not-allowed",opacity:u.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>u.slug&&o(`/store/${u.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:u.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:u.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),u.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:u.distance<1?"📍 Very close":`~${u.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",u.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!u.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},u.id))}),c.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}const Gc={black:"#000",white:"#fff"},Ko={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Go={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Qo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Yo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ll={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},D4={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ao(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const $4=Object.freeze(Object.defineProperty({__proto__:null,default:Ao},Symbol.toStringTag,{value:"Module"})),Ga="$$material";function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F.apply(null,arguments)}function Ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function F4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function V4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var z4=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(V4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=F4(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$n="-ms-",Kf="-moz-",bt="-webkit-",lk="comm",yx="rule",vx="decl",B4="@import",ck="@keyframes",U4="@layer",W4=Math.abs,dp=String.fromCharCode,H4=Object.assign;function q4(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function uk(t){return t.trim()}function K4(t,e){return(t=e.exec(t))?t[0]:t}function _t(t,e,n){return t.replace(e,n)}function Gy(t,e){return t.indexOf(e)}function Cn(t,e){return t.charCodeAt(e)|0}function Qc(t,e,n){return t.slice(e,n)}function ci(t){return t.length}function xx(t){return t.length}function xd(t,e){return e.push(t),t}function G4(t,e){return t.map(e).join("")}var fp=1,Qa=1,dk=0,lr=0,ln=0,dl="";function hp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:fp,column:Qa,length:o,return:""}}function Dl(t,e){return H4(hp("",null,null,"",null,null,0),t,{length:-t.length},e)}function Q4(){return ln}function Y4(){return ln=lr>0?Cn(dl,--lr):0,Qa--,ln===10&&(Qa=1,fp--),ln}function gr(){return ln=lr<dk?Cn(dl,lr++):0,Qa++,ln===10&&(Qa=1,fp++),ln}function bi(){return Cn(dl,lr)}function Gd(){return lr}function ku(t,e){return Qc(dl,t,e)}function Yc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fk(t){return fp=Qa=1,dk=ci(dl=t),lr=0,[]}function hk(t){return dl="",t}function Qd(t){return uk(ku(lr-1,Qy(t===91?t+2:t===40?t+1:t)))}function X4(t){for(;(ln=bi())&&ln<33;)gr();return Yc(t)>2||Yc(ln)>3?"":" "}function J4(t,e){for(;--e&&gr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return ku(t,Gd()+(e<6&&bi()==32&&gr()==32))}function Qy(t){for(;gr();)switch(ln){case t:return lr;case 34:case 39:t!==34&&t!==39&&Qy(ln);break;case 40:t===41&&Qy(t);break;case 92:gr();break}return lr}function Z4(t,e){for(;gr()&&t+ln!==57;)if(t+ln===84&&bi()===47)break;return"/*"+ku(e,lr-1)+"*"+dp(t===47?t:gr())}function e$(t){for(;!Yc(bi());)gr();return ku(t,lr)}function t$(t){return hk(Yd("",null,null,null,[""],t=fk(t),0,[0],t))}function Yd(t,e,n,r,i,s,o,a,c){for(var u=0,f=0,h=o,m=0,E=0,T=0,w=1,I=1,C=1,v=0,_="",k=i,M=s,N=r,S=_;I;)switch(T=v,v=gr()){case 40:if(T!=108&&Cn(S,h-1)==58){Gy(S+=_t(Qd(v),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:S+=Qd(v);break;case 9:case 10:case 13:case 32:S+=X4(T);break;case 92:S+=J4(Gd()-1,7);continue;case 47:switch(bi()){case 42:case 47:xd(n$(Z4(gr(),Gd()),e,n),c);break;default:S+="/"}break;case 123*w:a[u++]=ci(S)*C;case 125*w:case 59:case 0:switch(v){case 0:case 125:I=0;case 59+f:C==-1&&(S=_t(S,/\f/g,"")),E>0&&ci(S)-h&&xd(E>32?kw(S+";",r,n,h-1):kw(_t(S," ","")+";",r,n,h-2),c);break;case 59:S+=";";default:if(xd(N=Iw(S,e,n,u,f,i,a,_,k=[],M=[],h),s),v===123)if(f===0)Yd(S,e,N,N,k,s,h,a,M);else switch(m===99&&Cn(S,3)===110?100:m){case 100:case 108:case 109:case 115:Yd(t,N,N,r&&xd(Iw(t,N,N,0,0,i,a,_,i,k=[],h),M),i,M,h,a,r?k:M);break;default:Yd(S,N,N,N,[""],M,0,a,M)}}u=f=E=0,w=C=1,_=S="",h=o;break;case 58:h=1+ci(S),E=T;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&Y4()==125)continue}switch(S+=dp(v),v*w){case 38:C=f>0?1:(S+="\f",-1);break;case 44:a[u++]=(ci(S)-1)*C,C=1;break;case 64:bi()===45&&(S+=Qd(gr())),m=bi(),f=h=ci(_=S+=e$(Gd())),v++;break;case 45:T===45&&ci(S)==2&&(w=0)}}return s}function Iw(t,e,n,r,i,s,o,a,c,u,f){for(var h=i-1,m=i===0?s:[""],E=xx(m),T=0,w=0,I=0;T<r;++T)for(var C=0,v=Qc(t,h+1,h=W4(w=o[T])),_=t;C<E;++C)(_=uk(w>0?m[C]+" "+v:_t(v,/&\f/g,m[C])))&&(c[I++]=_);return hp(t,e,n,i===0?yx:a,c,u,f)}function n$(t,e,n){return hp(t,e,n,lk,dp(Q4()),Qc(t,2,-2),0)}function kw(t,e,n,r){return hp(t,e,n,vx,Qc(t,0,r),Qc(t,r+1,-1),r)}function ka(t,e){for(var n="",r=xx(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function r$(t,e,n,r){switch(t.type){case U4:if(t.children.length)break;case B4:case vx:return t.return=t.return||t.value;case lk:return"";case ck:return t.return=t.value+"{"+ka(t.children,r)+"}";case yx:t.value=t.props.join(",")}return ci(n=ka(t.children,r))?t.return=t.value+"{"+n+"}":""}function i$(t){var e=xx(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function s$(t){return function(e){e.root||(e=e.return)&&t(e)}}function pk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var o$=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!Yc(s);)gr();return ku(e,lr)},a$=function(e,n){var r=-1,i=44;do switch(Yc(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=o$(lr-1,n,r);break;case 2:e[r]+=Qd(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=dp(i)}while(i=gr());return e},l$=function(e,n){return hk(a$(fk(e),n))},Rw=new WeakMap,c$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Rw.get(r))&&!i){Rw.set(e,!0);for(var s=[],o=l$(n,s),a=r.props,c=0,u=0;c<o.length;c++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[c]?o[c].replace(/&\f/g,a[f]):a[f]+" "+o[c]}}},u$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function mk(t,e){switch(q4(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+Kf+t+$n+t+t;case 6828:case 4268:return bt+t+$n+t+t;case 6165:return bt+t+$n+"flex-"+t+t;case 5187:return bt+t+_t(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+$n+"flex-$1$2")+t;case 5443:return bt+t+$n+"flex-item-"+_t(t,/flex-|-self/,"")+t;case 4675:return bt+t+$n+"flex-line-pack"+_t(t,/align-content|flex-|-self/,"")+t;case 5548:return bt+t+$n+_t(t,"shrink","negative")+t;case 5292:return bt+t+$n+_t(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+_t(t,"-grow","")+bt+t+$n+_t(t,"grow","positive")+t;case 4554:return bt+_t(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return _t(_t(_t(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return _t(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return _t(_t(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+$n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+t+t;case 4095:case 3583:case 4068:case 2532:return _t(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ci(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return _t(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Kf+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gy(t,"stretch")?mk(_t(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cn(t,e+1)!==115)break;case 6444:switch(Cn(t,ci(t)-3-(~Gy(t,"!important")&&10))){case 107:return _t(t,":",":"+bt)+t;case 101:return _t(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(Cn(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+$n+"$2box$3")+t}break;case 5936:switch(Cn(t,e+11)){case 114:return bt+t+$n+_t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+$n+_t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+$n+_t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return bt+t+$n+t+t}return t}var d$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case vx:e.return=mk(e.value,e.length);break;case ck:return ka([Dl(e,{value:_t(e.value,"@","@"+bt)})],i);case yx:if(e.length)return G4(e.props,function(s){switch(K4(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ka([Dl(e,{props:[_t(s,/:(read-\w+)/,":"+Kf+"$1")]})],i);case"::placeholder":return ka([Dl(e,{props:[_t(s,/:(plac\w+)/,":"+bt+"input-$1")]}),Dl(e,{props:[_t(s,/:(plac\w+)/,":"+Kf+"$1")]}),Dl(e,{props:[_t(s,/:(plac\w+)/,$n+"input-$1")]})],i)}return""})}},f$=[d$],gk=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var I=w.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||f$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var I=w.getAttribute("data-emotion").split(" "),C=1;C<I.length;C++)s[I[C]]=!0;a.push(w)});var c,u=[c$,u$];{var f,h=[r$,s$(function(w){f.insert(w)})],m=i$(u.concat(i,h)),E=function(I){return ka(t$(I),m)};c=function(I,C,v,_){f=v,E(I?I+"{"+C.styles+"}":C.styles),_&&(T.inserted[C.name]=!0)}}var T={key:n,sheet:new z4({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return T.sheet.hydrate(a),T},yk={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,bx=wn?Symbol.for("react.element"):60103,_x=wn?Symbol.for("react.portal"):60106,pp=wn?Symbol.for("react.fragment"):60107,mp=wn?Symbol.for("react.strict_mode"):60108,gp=wn?Symbol.for("react.profiler"):60114,yp=wn?Symbol.for("react.provider"):60109,vp=wn?Symbol.for("react.context"):60110,wx=wn?Symbol.for("react.async_mode"):60111,xp=wn?Symbol.for("react.concurrent_mode"):60111,bp=wn?Symbol.for("react.forward_ref"):60112,_p=wn?Symbol.for("react.suspense"):60113,h$=wn?Symbol.for("react.suspense_list"):60120,wp=wn?Symbol.for("react.memo"):60115,Sp=wn?Symbol.for("react.lazy"):60116,p$=wn?Symbol.for("react.block"):60121,m$=wn?Symbol.for("react.fundamental"):60117,g$=wn?Symbol.for("react.responder"):60118,y$=wn?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bx:switch(t=t.type,t){case wx:case xp:case pp:case gp:case mp:case _p:return t;default:switch(t=t&&t.$$typeof,t){case vp:case bp:case Sp:case wp:case yp:return t;default:return e}}case _x:return e}}}function vk(t){return Tr(t)===xp}Ct.AsyncMode=wx;Ct.ConcurrentMode=xp;Ct.ContextConsumer=vp;Ct.ContextProvider=yp;Ct.Element=bx;Ct.ForwardRef=bp;Ct.Fragment=pp;Ct.Lazy=Sp;Ct.Memo=wp;Ct.Portal=_x;Ct.Profiler=gp;Ct.StrictMode=mp;Ct.Suspense=_p;Ct.isAsyncMode=function(t){return vk(t)||Tr(t)===wx};Ct.isConcurrentMode=vk;Ct.isContextConsumer=function(t){return Tr(t)===vp};Ct.isContextProvider=function(t){return Tr(t)===yp};Ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bx};Ct.isForwardRef=function(t){return Tr(t)===bp};Ct.isFragment=function(t){return Tr(t)===pp};Ct.isLazy=function(t){return Tr(t)===Sp};Ct.isMemo=function(t){return Tr(t)===wp};Ct.isPortal=function(t){return Tr(t)===_x};Ct.isProfiler=function(t){return Tr(t)===gp};Ct.isStrictMode=function(t){return Tr(t)===mp};Ct.isSuspense=function(t){return Tr(t)===_p};Ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pp||t===xp||t===gp||t===mp||t===_p||t===h$||typeof t=="object"&&t!==null&&(t.$$typeof===Sp||t.$$typeof===wp||t.$$typeof===yp||t.$$typeof===vp||t.$$typeof===bp||t.$$typeof===m$||t.$$typeof===g$||t.$$typeof===y$||t.$$typeof===p$)};Ct.typeOf=Tr;yk.exports=Ct;var v$=yk.exports,xk=v$,x$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bk={};bk[xk.ForwardRef]=x$;bk[xk.Memo]=b$;var _$=!0;function _k(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Sx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||_$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Ex=function(e,n,r){Sx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function w$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var S$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},E$=/[A-Z]|^ms/g,T$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wk=function(e){return e.charCodeAt(1)===45},Pw=function(e){return e!=null&&typeof e!="boolean"},eg=pk(function(t){return wk(t)?t:t.replace(E$,"-$&").toLowerCase()}),Aw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(T$,function(r,i,s){return ui={name:i,styles:s,next:ui},i})}return S$[e]!==1&&!wk(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ui={name:i.name,styles:i.styles,next:ui},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ui={name:o.name,styles:o.styles,next:ui},o=o.next;var a=s.styles+";";return a}return C$(t,e,n)}case"function":{if(t!==void 0){var c=ui,u=n(t);return ui=c,Xc(t,e,u)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function C$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Pw(a)&&(r+=eg(s)+":"+Aw(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)Pw(o[c])&&(r+=eg(s)+":"+Aw(s,o[c])+";");else{var u=Xc(t,e,o);switch(s){case"animation":case"animationName":{r+=eg(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var jw=/label:\s*([^\s;{]+)\s*(;|$)/g,ui;function Ru(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ui=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Xc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Xc(n,e,t[a]),r){var c=s;i+=c[a]}jw.lastIndex=0;for(var u="",f;(f=jw.exec(i))!==null;)u+="-"+f[1];var h=w$(i)+u;return{name:h,styles:i,next:ui}}var I$=function(e){return e()},Sk=nf.useInsertionEffect?nf.useInsertionEffect:!1,Ek=Sk||I$,Ow=Sk||x.useLayoutEffect,Tk=x.createContext(typeof HTMLElement<"u"?gk({key:"css"}):null),k$=Tk.Provider,Tx=function(e){return x.forwardRef(function(n,r){var i=x.useContext(Tk);return e(n,i,r)})},fl=x.createContext({}),Cx={}.hasOwnProperty,Yy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R$=function(e,n){var r={};for(var i in n)Cx.call(n,i)&&(r[i]=n[i]);return r[Yy]=e,r},P$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Sx(n,r,i),Ek(function(){return Ex(n,r,i)}),null},A$=Tx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Yy],s=[r],o="";typeof t.className=="string"?o=_k(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Ru(s,void 0,x.useContext(fl));o+=e.key+"-"+a.name;var c={};for(var u in t)Cx.call(t,u)&&u!=="css"&&u!==Yy&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),x.createElement(x.Fragment,null,x.createElement(P$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),x.createElement(i,c))}),j$=A$,tg={exports:{}},Nw;function Ck(){return Nw||(Nw=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(tg)),tg.exports}Ck();var Mw=function(e,n){var r=arguments;if(n==null||!Cx.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=j$,s[1]=R$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return x.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Mw||(Mw={}));var O$=Tx(function(t,e){var n=t.styles,r=Ru([n],void 0,x.useContext(fl)),i=x.useRef();return Ow(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",s),o.hydrate([c])),i.current=[o,a],function(){o.flush()}},[e]),Ow(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Ex(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Ik(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ru(e)}function Ep(){var t=Ik.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var N$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,M$=pk(function(t){return N$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),L$=M$,D$=function(e){return e!=="theme"},Lw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?L$:D$},Dw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},$$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Sx(n,r,i),Ek(function(){return Ex(n,r,i)}),null},F$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Dw(e,n,r),c=a||Lw(i),u=!c("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,T=1;T<E;T++)h.push(f[T],m[T])}var w=Tx(function(I,C,v){var _=u&&I.as||i,k="",M=[],N=I;if(I.theme==null){N={};for(var S in I)N[S]=I[S];N.theme=x.useContext(fl)}typeof I.className=="string"?k=_k(C.registered,M,I.className):I.className!=null&&(k=I.className+" ");var p=Ru(h.concat(M),C.registered,N);k+=C.key+"-"+p.name,o!==void 0&&(k+=" "+o);var g=u&&a===void 0?Lw(_):c,b={};for(var O in I)u&&O==="as"||g(O)&&(b[O]=I[O]);return b.className=k,v&&(b.ref=v),x.createElement(x.Fragment,null,x.createElement($$,{cache:C,serialized:p,isStringTag:typeof _=="string"}),x.createElement(_,b))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=h,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(I,C){var v=t(I,F({},n,C,{shouldForwardProp:Dw(w,C,!0)}));return v.apply(void 0,h)},w}},V$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xy=F$.bind(null);V$.forEach(function(t){Xy[t]=Xy(t)});function z$(t,e){const n=gk({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const ng=new Map;function B$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=x.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&ng.has(s))return ng.get(s);const o=z$(e,n);return ng.set(s,o),o},[e,n]);return e||n?l.jsx(k$,{value:i,children:r}):r}function U$(t){return t==null||Object.keys(t).length===0}function kk(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(U$(i)?n:i):e;return l.jsx(O$,{styles:r})}function Ix(t,e){return Xy(t,e)}const Rk=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},$w=[];function Gf(t){return $w[0]=t,Ru($w)}const W$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:kk,StyledEngineProvider:B$,ThemeContext:fl,css:Ik,default:Ix,internal_processStyles:Rk,internal_serializeStyles:Gf,keyframes:Ep},Symbol.toStringTag,{value:"Module"}));function $i(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Pk(t){if(x.isValidElement(t)||!$i(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Pk(t[n])}),e}function yr(t,e,n={clone:!0}){const r=n.clone?F({},t):t;return $i(t)&&$i(e)&&Object.keys(e).forEach(i=>{x.isValidElement(e[i])?r[i]=e[i]:$i(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&$i(t[i])?r[i]=yr(t[i],e[i],n):n.clone?r[i]=$i(e[i])?Pk(e[i]):e[i]:r[i]=e[i]}),r}const H$=Object.freeze(Object.defineProperty({__proto__:null,default:yr,isPlainObject:$i},Symbol.toStringTag,{value:"Module"})),q$=["values","unit","step"],K$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>F({},n,{[r.key]:r.val}),{})};function Ak(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ee(t,q$),s=K$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,E){const T=o.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:E)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):a(m)}function h(m){const E=o.indexOf(m);return E===0?a(o[1]):E===o.length-1?c(o[E]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return F({keys:o,values:s,up:a,down:c,between:u,only:f,not:h,unit:n},i)}const G$={borderRadius:4};function gc(t,e){return e?yr(t,e,{clone:!1}):t}const kx={xs:0,sm:600,md:900,lg:1200,xl:1536},Fw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${kx[t]}px)`};function zr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Fw;return e.reduce((o,a,c)=>(o[s.up(s.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Fw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||kx).indexOf(a)!==-1){const c=s.up(a);o[c]=n(e[a],a)}else{const c=a;o[c]=e[c]}return o},{})}return n(e)}function Q$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Vw(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Y$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Tp({values:t,breakpoints:e,base:n}){const r=n||Y$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,c)=>(Array.isArray(t)?(o[a]=t[c]!=null?t[c]:t[s],s=c):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ue(t){if(typeof t!="string")throw new Error(Ao(7));return t.charAt(0).toUpperCase()+t.slice(1)}const X$=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));function Cp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Qf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Cp(t,n)||r,e&&(i=e(i,r,t)),i}function rn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],c=o.theme,u=Cp(c,r)||{};return zr(o,a,h=>{let m=Qf(u,i,h);return h===m&&typeof h=="string"&&(m=Qf(u,i,`${e}${h==="default"?"":Ue(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function J$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Z$={m:"margin",p:"padding"},eF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},tF=J$(t=>{if(t.length>2)if(zw[t])t=zw[t];else return[t];const[e,n]=t.split(""),r=Z$[e],i=eF[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Rx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Px=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Rx,...Px];function Pu(t,e,n,r){var i;const s=(i=Cp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function jk(t){return Pu(t,"spacing",8)}function Au(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function nF(t,e){return n=>t.reduce((r,i)=>(r[i]=Au(e,n),r),{})}function rF(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=tF(n),s=nF(i,r),o=t[n];return zr(t,o,s)}function Ok(t,e){const n=jk(t.theme);return Object.keys(t).map(r=>rF(t,e,r,n)).reduce(gc,{})}function Qt(t){return Ok(t,Rx)}Qt.propTypes={};Qt.filterProps=Rx;function Yt(t){return Ok(t,Px)}Yt.propTypes={};Yt.filterProps=Px;function iF(t=8){if(t.mui)return t;const e=jk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Ip(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?gc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Wr(t,e){return rn({prop:t,themeKey:"borders",transform:e})}const sF=Wr("border",Nr),oF=Wr("borderTop",Nr),aF=Wr("borderRight",Nr),lF=Wr("borderBottom",Nr),cF=Wr("borderLeft",Nr),uF=Wr("borderColor"),dF=Wr("borderTopColor"),fF=Wr("borderRightColor"),hF=Wr("borderBottomColor"),pF=Wr("borderLeftColor"),mF=Wr("outline",Nr),gF=Wr("outlineColor"),kp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Pu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Au(e,r)});return zr(t,t.borderRadius,n)}return null};kp.propTypes={};kp.filterProps=["borderRadius"];Ip(sF,oF,aF,lF,cF,uF,dF,fF,hF,pF,kp,mF,gF);const Rp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Pu(t.theme,"spacing",8),n=r=>({gap:Au(e,r)});return zr(t,t.gap,n)}return null};Rp.propTypes={};Rp.filterProps=["gap"];const Pp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Pu(t.theme,"spacing",8),n=r=>({columnGap:Au(e,r)});return zr(t,t.columnGap,n)}return null};Pp.propTypes={};Pp.filterProps=["columnGap"];const Ap=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Pu(t.theme,"spacing",8),n=r=>({rowGap:Au(e,r)});return zr(t,t.rowGap,n)}return null};Ap.propTypes={};Ap.filterProps=["rowGap"];const yF=rn({prop:"gridColumn"}),vF=rn({prop:"gridRow"}),xF=rn({prop:"gridAutoFlow"}),bF=rn({prop:"gridAutoColumns"}),_F=rn({prop:"gridAutoRows"}),wF=rn({prop:"gridTemplateColumns"}),SF=rn({prop:"gridTemplateRows"}),EF=rn({prop:"gridTemplateAreas"}),TF=rn({prop:"gridArea"});Ip(Rp,Pp,Ap,yF,vF,xF,bF,_F,wF,SF,EF,TF);function Ra(t,e){return e==="grey"?e:t}const CF=rn({prop:"color",themeKey:"palette",transform:Ra}),IF=rn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ra}),kF=rn({prop:"backgroundColor",themeKey:"palette",transform:Ra});Ip(CF,IF,kF);function dr(t){return t<=1&&t!==0?`${t*100}%`:t}const RF=rn({prop:"width",transform:dr}),Ax=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||kx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:dr(n)}};return zr(t,t.maxWidth,e)}return null};Ax.filterProps=["maxWidth"];const PF=rn({prop:"minWidth",transform:dr}),AF=rn({prop:"height",transform:dr}),jF=rn({prop:"maxHeight",transform:dr}),OF=rn({prop:"minHeight",transform:dr});rn({prop:"size",cssProperty:"width",transform:dr});rn({prop:"size",cssProperty:"height",transform:dr});const NF=rn({prop:"boxSizing"});Ip(RF,Ax,PF,AF,jF,OF,NF);const ju={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kp},color:{themeKey:"palette",transform:Ra},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ra},backgroundColor:{themeKey:"palette",transform:Ra},p:{style:Yt},pt:{style:Yt},pr:{style:Yt},pb:{style:Yt},pl:{style:Yt},px:{style:Yt},py:{style:Yt},padding:{style:Yt},paddingTop:{style:Yt},paddingRight:{style:Yt},paddingBottom:{style:Yt},paddingLeft:{style:Yt},paddingX:{style:Yt},paddingY:{style:Yt},paddingInline:{style:Yt},paddingInlineStart:{style:Yt},paddingInlineEnd:{style:Yt},paddingBlock:{style:Yt},paddingBlockStart:{style:Yt},paddingBlockEnd:{style:Yt},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rp},rowGap:{style:Ap},columnGap:{style:Pp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dr},maxWidth:{style:Ax},minWidth:{transform:dr},height:{transform:dr},maxHeight:{transform:dr},minHeight:{transform:dr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function MF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function LF(t,e){return typeof t=="function"?t(e):t}function Nk(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:f,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=Cp(i,u)||{};return h?h(o):zr(o,r,T=>{let w=Qf(m,f,T);return T===w&&typeof T=="string"&&(w=Qf(m,f,`${n}${T==="default"?"":Ue(T)}`,T)),c===!1?w:{[c]:w}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:ju;function c(u){let f=u;if(typeof u=="function")f=u(s);else if(typeof u!="object")return u;if(!f)return null;const h=Q$(s.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(T=>{const w=LF(f[T],s);if(w!=null)if(typeof w=="object")if(a[T])E=gc(E,t(T,w,s,a));else{const I=zr({theme:s},w,C=>({[T]:C}));MF(I,w)?E[T]=e({sx:w,theme:s,nested:!0}):E=gc(E,I)}else E=gc(E,t(T,w,s,a))}),!o&&s.modularCssLayers?{"@layer sx":Vw(m,E)}:Vw(m,E)}return Array.isArray(i)?i.map(c):c(i)}return e}const hl=Nk();hl.filterProps=["sx"];function Mk(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const DF=["breakpoints","palette","spacing","shape"];function Ou(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ee(t,DF),a=Ak(n),c=iF(i);let u=yr({breakpoints:a,direction:"ltr",components:{},palette:F({mode:"light"},r),spacing:c,shape:F({},G$,s)},o);return u.applyStyles=Mk,u=e.reduce((f,h)=>yr(f,h),u),u.unstable_sxConfig=F({},ju,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return hl({sx:h,theme:this})},u}const $F=Object.freeze(Object.defineProperty({__proto__:null,default:Ou,private_createBreakpoints:Ak,unstable_applyStyles:Mk},Symbol.toStringTag,{value:"Module"}));function FF(t){return Object.keys(t).length===0}function jx(t=null){const e=x.useContext(fl);return!e||FF(e)?t:e}const VF=Ou();function jp(t=VF){return jx(t)}function rg(t){const e=Gf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function Lk({styles:t,themeId:e,defaultTheme:n={}}){const r=jp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>rg(typeof o=="function"?o(i):o)):s=rg(s)),l.jsx(kk,{styles:s})}const zF=["sx"],BF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ju;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Op(t){const{sx:e}=t,n=Ee(t,zF),{systemProps:r,otherProps:i}=BF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return $i(a)?F({},r,a):r}:s=F({},r,e),F({},i,{sx:s})}const UF=Object.freeze(Object.defineProperty({__proto__:null,default:hl,extendSxProp:Op,unstable_createStyleFunctionSx:Nk,unstable_defaultSxConfig:ju},Symbol.toStringTag,{value:"Module"})),Bw=t=>t,WF=()=>{let t=Bw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Bw}}},Ox=WF(),HF=["className","component"];function qF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Ix("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(hl);return x.forwardRef(function(c,u){const f=jp(n),h=Op(c),{className:m,component:E="div"}=h,T=Ee(h,HF);return l.jsx(s,F({as:E,ref:u,className:Ne(m,i?i(r):r),theme:e&&f[e]||f},T))})}const KF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ht(t,e,n="Mui"){const r=KF[e];return r?`${n}-${r}`:`${Ox.generate(t)}-${e}`}function ot(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ht(t,i,n)}),r}var Dk={exports:{}},Rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=Symbol.for("react.transitional.element"),Mx=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Dp=Symbol.for("react.consumer"),$p=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),GF=Symbol.for("react.view_transition"),QF=Symbol.for("react.client.reference");function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nx:switch(t=t.type,t){case Np:case Lp:case Mp:case Vp:case zp:case GF:return t;default:switch(t=t&&t.$$typeof,t){case $p:case Fp:case Up:case Bp:return t;case Dp:return t;default:return e}}case Mx:return e}}}Rt.ContextConsumer=Dp;Rt.ContextProvider=$p;Rt.Element=Nx;Rt.ForwardRef=Fp;Rt.Fragment=Np;Rt.Lazy=Up;Rt.Memo=Bp;Rt.Portal=Mx;Rt.Profiler=Lp;Rt.StrictMode=Mp;Rt.Suspense=Vp;Rt.SuspenseList=zp;Rt.isContextConsumer=function(t){return Hr(t)===Dp};Rt.isContextProvider=function(t){return Hr(t)===$p};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nx};Rt.isForwardRef=function(t){return Hr(t)===Fp};Rt.isFragment=function(t){return Hr(t)===Np};Rt.isLazy=function(t){return Hr(t)===Up};Rt.isMemo=function(t){return Hr(t)===Bp};Rt.isPortal=function(t){return Hr(t)===Mx};Rt.isProfiler=function(t){return Hr(t)===Lp};Rt.isStrictMode=function(t){return Hr(t)===Mp};Rt.isSuspense=function(t){return Hr(t)===Vp};Rt.isSuspenseList=function(t){return Hr(t)===zp};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Np||t===Lp||t===Mp||t===Vp||t===zp||typeof t=="object"&&t!==null&&(t.$$typeof===Up||t.$$typeof===Bp||t.$$typeof===$p||t.$$typeof===Dp||t.$$typeof===Fp||t.$$typeof===QF||t.getModuleId!==void 0)};Rt.typeOf=Hr;Dk.exports=Rt;var Uw=Dk.exports;const YF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function $k(t){const e=`${t}`.match(YF);return e&&e[1]||""}function Fk(t,e=""){return t.displayName||t.name||$k(t)||e}function Ww(t,e,n){const r=Fk(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function XF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Fk(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Uw.ForwardRef:return Ww(t,t.render,"ForwardRef");case Uw.Memo:return Ww(t,t.type,"memo");default:return}}}const JF=Object.freeze(Object.defineProperty({__proto__:null,default:XF,getFunctionName:$k},Symbol.toStringTag,{value:"Module"})),ZF=["ownerState"],e8=["variants"],t8=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function n8(t){return Object.keys(t).length===0}function r8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ig(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Hw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const i8=Ou(),s8=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function bd({defaultTheme:t,theme:e,themeId:n}){return n8(e)?t:e[n]||e}function o8(t){return t?(e,n)=>n[t]:null}function Xd(t,e,n){let{ownerState:r}=e,i=Ee(e,ZF);const s=typeof t=="function"?t(F({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Xd(o,F({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let c=Ee(s,e8);return o.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props(F({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style(F({ownerState:r},i,r)):u.style;c.push(n?Hw(Gf(h),n):h)}}),c}return n?Hw(Gf(s),n):s}function a8(t={}){const{themeId:e,defaultTheme:n=i8,rootShouldForwardProp:r=ig,slotShouldForwardProp:i=ig}=t,s=o=>hl(F({},o,{theme:bd(F({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Rk(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=o8(s8(u))}=a,E=Ee(a,t8),T=c&&c.startsWith("Mui")||u?"components":"custom",w=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,I=h||!1;let C,v=ig;u==="Root"||u==="root"?v=r:u?v=i:r8(o)&&(v=void 0);const _=Ix(o,F({shouldForwardProp:v,label:C},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||$i(N)?S=>{const p=bd({theme:S.theme,defaultTheme:n,themeId:e});return Xd(N,F({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...S)=>{let p=k(N);const g=S?S.map(k):[];c&&m&&g.push(A=>{const P=bd(F({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[c]||!P.components[c].styleOverrides)return null;const B=P.components[c].styleOverrides,V={};return Object.entries(B).forEach(([H,q])=>{V[H]=Xd(q,F({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,V)}),c&&!w&&g.push(A=>{var P;const B=bd(F({},A,{defaultTheme:n,themeId:e})),V=B==null||(P=B.components)==null||(P=P[c])==null?void 0:P.variants;return Xd({variants:V},F({},A,{theme:B}),B.modularCssLayers?"theme":void 0)}),I||g.push(s);const b=g.length-S.length;if(Array.isArray(N)&&b>0){const A=new Array(b).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const O=_(p,...g);return o.muiName&&(O.muiName=o.muiName),O};return _.withConfig&&(M.withConfig=_.withConfig),M}}const l8=a8();function Jc(t,e){const n=F({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=F({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=F({},s),Object.keys(i).forEach(o=>{n[r][o]=Jc(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function c8(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Jc(e.components[n].defaultProps,r)}function u8({props:t,name:e,defaultTheme:n,themeId:r}){let i=jp(n);return r&&(i=i[r]||i),c8({theme:i,name:e,props:t})}const Ei=typeof window<"u"?x.useLayoutEffect:x.useEffect;function d8(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const f8=Object.freeze(Object.defineProperty({__proto__:null,default:d8},Symbol.toStringTag,{value:"Module"}));function Jy(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Lx(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function h8(t,e){return()=>null}function Jd(t,e){var n,r;return x.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ar(t){return t&&t.ownerDocument||document}function Us(t){return ar(t).defaultView||window}function p8(t,e){return()=>null}function Yf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let qw=0;function m8(t){const[e,n]=x.useState(t),r=t||e;return x.useEffect(()=>{e==null&&(qw+=1,n(`mui-${qw}`))},[e]),r}const Kw=nf.useId;function Wp(t){if(Kw!==void 0){const e=Kw();return t??e}return m8(t)}function g8(t,e,n,r,i){return null}function Zy({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=x.useRef(t!==void 0),[s,o]=x.useState(e),a=i?t:s,c=x.useCallback(u=>{i||o(u)},[]);return[a,c]}function Es(t){const e=x.useRef(t);return Ei(()=>{e.current=t}),x.useRef((...n)=>(0,e.current)(...n)).current}function An(...t){return x.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Yf(n,e)})},t)}const Gw={};function y8(t,e){const n=x.useRef(Gw);return n.current===Gw&&(n.current=t(e)),n}const v8=[];function x8(t){x.useEffect(t,v8)}class Hp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Hp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Vk(){const t=y8(Hp.create).current;return x8(t.disposeEffect),t}let qp=!0,ev=!1;const b8=new Hp,_8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function w8(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&_8[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function S8(t){t.metaKey||t.altKey||t.ctrlKey||(qp=!0)}function sg(){qp=!1}function E8(){this.visibilityState==="hidden"&&ev&&(qp=!0)}function T8(t){t.addEventListener("keydown",S8,!0),t.addEventListener("mousedown",sg,!0),t.addEventListener("pointerdown",sg,!0),t.addEventListener("touchstart",sg,!0),t.addEventListener("visibilitychange",E8,!0)}function C8(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return qp||w8(e)}function zk(){const t=x.useCallback(i=>{i!=null&&T8(i.ownerDocument)},[]),e=x.useRef(!1);function n(){return e.current?(ev=!0,b8.start(100,()=>{ev=!1}),e.current=!1,!0):!1}function r(i){return C8(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Bk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function gt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function Xf(t){return typeof t=="string"}function Uk(t,e,n){return t===void 0||Xf(t)?e:F({},e,{ownerState:F({},e.ownerState,n)})}function Wk(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Qw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Hk(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const E=Ne(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),T=F({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),w=F({},n,i,r);return E.length>0&&(w.className=E),Object.keys(T).length>0&&(w.style=T),{props:w,internalRef:void 0}}const o=Wk(F({},i,r)),a=Qw(r),c=Qw(i),u=e(o),f=Ne(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=F({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=F({},u,n,c,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function qk(t,e,n){return typeof t=="function"?t(e,n):t}const I8=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ya(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ee(t,I8),a=s?{}:qk(r,i),{props:c,internalRef:u}=Hk(F({},o,{externalSlotProps:a})),f=An(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Uk(n,F({},c,{ref:f}),i)}function Nu(t){if(parseInt(x.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const Kk=x.createContext(null);function Gk(){return x.useContext(Kk)}const k8=typeof Symbol=="function"&&Symbol.for,R8=k8?Symbol.for("mui.nested"):"__THEME_NESTED__";function P8(t,e){return typeof e=="function"?e(t):F({},t,e)}function A8(t){const{children:e,theme:n}=t,r=Gk(),i=x.useMemo(()=>{const s=r===null?n:P8(r,n);return s!=null&&(s[R8]=r!==null),s},[n,r]);return l.jsx(Kk.Provider,{value:i,children:e})}const j8=["value"],Qk=x.createContext();function O8(t){let{value:e}=t,n=Ee(t,j8);return l.jsx(Qk.Provider,F({value:e??!0},n))}const N8=()=>{const t=x.useContext(Qk);return t??!1},Yk=x.createContext(void 0);function M8({value:t,children:e}){return l.jsx(Yk.Provider,{value:t,children:e})}function L8(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Jc(i.defaultProps,r):!i.styleOverrides&&!i.variants?Jc(i,r):r}function D8({props:t,name:e}){const n=x.useContext(Yk);return L8({props:t,name:e,theme:{components:n}})}function $8(t){const e=jx(),n=Wp()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Ei(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=i,s.prepend(u)}else{var c;(c=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?l.jsx(Lk,{styles:i}):null}const Yw={};function Xw(t,e,n,r=!1){return x.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?F({},e,{[t]:s}):s;return r?()=>o:o}return t?F({},e,{[t]:n}):F({},e,n)},[t,e,n,r])}function F8(t){const{children:e,theme:n,themeId:r}=t,i=jx(Yw),s=Gk()||Yw,o=Xw(r,i,n),a=Xw(r,s,n,!0),c=o.direction==="rtl",u=$8(o);return l.jsx(A8,{theme:a,children:l.jsx(fl.Provider,{value:o,children:l.jsx(O8,{value:c,children:l.jsxs(M8,{value:o==null?void 0:o.components,children:[u,e]})})})})}const V8=["className","component","disableGutters","fixed","maxWidth","classes"],z8=Ou(),B8=l8("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),U8=t=>u8({props:t,name:"MuiContainer",defaultTheme:z8}),W8=(t,e)=>{const n=c=>ht(e,c),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Ue(String(o))}`,i&&"fixed",s&&"disableGutters"]};return gt(a,n,r)};function H8(t={}){const{createStyledComponent:e=B8,useThemeProps:n=U8,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>F({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((c,u)=>{const f=u,h=o.breakpoints.values[f];return h!==0&&(c[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:a})=>F({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return x.forwardRef(function(a,c){const u=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:T="lg"}=u,w=Ee(u,V8),I=F({},u,{component:h,disableGutters:m,fixed:E,maxWidth:T}),C=W8(I,r);return l.jsx(i,F({as:h,ownerState:I,className:Ne(C.root,f),ref:c},w))})}function q8(t,e){return F({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var sn={},Xk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Xk);var Kp=Xk.exports;const K8=Ti($4),G8=Ti(f8);var Jk=Kp;Object.defineProperty(sn,"__esModule",{value:!0});var pr=sn.alpha=nR;sn.blend=s9;sn.colorChannel=void 0;var tv=sn.darken=$x;sn.decomposeColor=Br;sn.emphasize=rR;var Q8=sn.getContrastRatio=e9;sn.getLuminance=Jf;sn.hexToRgb=Zk;sn.hslToRgb=tR;var nv=sn.lighten=Fx;sn.private_safeAlpha=t9;sn.private_safeColorChannel=void 0;sn.private_safeDarken=n9;sn.private_safeEmphasize=i9;sn.private_safeLighten=r9;sn.recomposeColor=pl;sn.rgbToHex=Z8;var Jw=Jk(K8),Y8=Jk(G8);function Dx(t,e=0,n=1){return(0,Y8.default)(t,e,n)}function Zk(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function X8(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Br(t){if(t.type)return t;if(t.charAt(0)==="#")return Br(Zk(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Jw.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Jw.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const eR=t=>{const e=Br(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};sn.colorChannel=eR;const J8=(t,e)=>{try{return eR(t)}catch{return t}};sn.private_safeColorChannel=J8;function pl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Z8(t){if(t.indexOf("#")===0)return t;const{values:e}=Br(t);return`#${e.map((n,r)=>X8(r===3?Math.round(255*n):n)).join("")}`}function tR(t){t=Br(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),pl({type:a,values:c})}function Jf(t){t=Br(t);let e=t.type==="hsl"||t.type==="hsla"?Br(tR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function e9(t,e){const n=Jf(t),r=Jf(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function nR(t,e){return t=Br(t),e=Dx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pl(t)}function t9(t,e,n){try{return nR(t,e)}catch{return t}}function $x(t,e){if(t=Br(t),e=Dx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return pl(t)}function n9(t,e,n){try{return $x(t,e)}catch{return t}}function Fx(t,e){if(t=Br(t),e=Dx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return pl(t)}function r9(t,e,n){try{return Fx(t,e)}catch{return t}}function rR(t,e=.15){return Jf(t)>.5?$x(t,e):Fx(t,e)}function i9(t,e,n){try{return rR(t,e)}catch{return t}}function s9(t,e,n,r=1){const i=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),s=Br(t),o=Br(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return pl({type:"rgb",values:a})}const o9=["mode","contrastThreshold","tonalOffset"],Zw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gc.white,default:Gc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},og={text:{primary:Gc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function eS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=nv(t.main,i):e==="dark"&&(t.dark=tv(t.main,s)))}function a9(t="light"){return t==="dark"?{main:Qo[200],light:Qo[50],dark:Qo[400]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function l9(t="light"){return t==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[500],light:Go[300],dark:Go[700]}}function c9(t="light"){return t==="dark"?{main:Ko[500],light:Ko[300],dark:Ko[700]}:{main:Ko[700],light:Ko[400],dark:Ko[800]}}function u9(t="light"){return t==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[700],light:Yo[500],dark:Yo[900]}}function d9(t="light"){return t==="dark"?{main:Xo[400],light:Xo[300],dark:Xo[700]}:{main:Xo[800],light:Xo[500],dark:Xo[900]}}function f9(t="light"){return t==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:"#ed6c02",light:Ll[500],dark:Ll[900]}}function h9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ee(t,o9),s=t.primary||a9(e),o=t.secondary||l9(e),a=t.error||c9(e),c=t.info||u9(e),u=t.success||d9(e),f=t.warning||f9(e);function h(w){return Q8(w,og.text.primary)>=n?og.text.primary:Zw.text.primary}const m=({color:w,name:I,mainShade:C=500,lightShade:v=300,darkShade:_=700})=>{if(w=F({},w),!w.main&&w[C]&&(w.main=w[C]),!w.hasOwnProperty("main"))throw new Error(Ao(11,I?` (${I})`:"",C));if(typeof w.main!="string")throw new Error(Ao(12,I?` (${I})`:"",JSON.stringify(w.main)));return eS(w,"light",v,r),eS(w,"dark",_,r),w.contrastText||(w.contrastText=h(w.main)),w},E={dark:og,light:Zw};return yr(F({common:F({},Gc),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:u,name:"success"}),grey:D4,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const p9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function m9(t){return Math.round(t*1e5)/1e5}const tS={textTransform:"uppercase"},nS='"Roboto", "Helvetica", "Arial", sans-serif';function g9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=nS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:f,pxToRem:h}=n,m=Ee(n,p9),E=i/14,T=h||(C=>`${C/u*E}rem`),w=(C,v,_,k,M)=>F({fontFamily:r,fontWeight:C,fontSize:T(v),lineHeight:_},r===nS?{letterSpacing:`${m9(k/v)}em`}:{},M,f),I={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(a,14,1.75,.4,tS),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,tS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr(F({htmlFontSize:u,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:c},I),m,{clone:!1})}const y9=.2,v9=.14,x9=.12;function Dt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${y9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${v9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${x9})`].join(",")}const b9=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],_9=["duration","easing","delay"],w9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},S9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rS(t){return`${Math.round(t)}ms`}function E9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function T9(t){const e=F({},w9,t.easing),n=F({},S9,t.duration);return F({getAutoHeightDuration:E9,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:c=0}=s;return Ee(s,_9),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:rS(o)} ${a} ${typeof c=="string"?c:rS(c)}`).join(",")}},t,{easing:e,duration:n})}const C9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},I9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Vx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ee(t,I9);if(t.vars&&t.generateCssVars===void 0)throw new Error(Ao(18));const a=h9(r),c=Ou(t);let u=yr(c,{mixins:q8(c.breakpoints,n),palette:a,shadows:b9.slice(),typography:g9(a,s),transitions:T9(i),zIndex:F({},C9)});return u=yr(u,o),u=e.reduce((f,h)=>yr(f,h),u),u.unstable_sxConfig=F({},ju,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return hl({sx:h,theme:this})},u}const zx=Vx();function Bx(){const t=jp(zx);return t[Ga]||t}var Mu={},ag={exports:{}},iS;function k9(){return iS||(iS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ag)),ag.exports}const R9=Ti(W$),P9=Ti(H$),A9=Ti(X$),j9=Ti(JF),O9=Ti($F),N9=Ti(UF);var ml=Kp;Object.defineProperty(Mu,"__esModule",{value:!0});var M9=Mu.default=G9;Mu.shouldForwardProp=Zd;Mu.systemDefaultTheme=void 0;var Pr=ml(Ck()),rv=ml(k9()),Zf=B9(R9),L9=P9;ml(A9);ml(j9);var D9=ml(O9),$9=ml(N9);const F9=["ownerState"],V9=["variants"],z9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(iR=function(r){return r?n:e})(t)}function B9(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=iR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function U9(t){return Object.keys(t).length===0}function W9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Zd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function sS(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const H9=Mu.systemDefaultTheme=(0,D9.default)(),q9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function _d({defaultTheme:t,theme:e,themeId:n}){return U9(e)?t:e[n]||e}function K9(t){return t?(e,n)=>n[t]:null}function ef(t,e,n){let{ownerState:r}=e,i=(0,rv.default)(e,F9);const s=typeof t=="function"?t((0,Pr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>ef(o,(0,Pr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let c=(0,rv.default)(s,V9);return o.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props((0,Pr.default)({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style((0,Pr.default)({ownerState:r},i,r)):u.style;c.push(n?sS((0,Zf.internal_serializeStyles)(h),n):h)}}),c}return n?sS((0,Zf.internal_serializeStyles)(s),n):s}function G9(t={}){const{themeId:e,defaultTheme:n=H9,rootShouldForwardProp:r=Zd,slotShouldForwardProp:i=Zd}=t,s=o=>(0,$9.default)((0,Pr.default)({},o,{theme:_d((0,Pr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Zf.internal_processStyles)(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=K9(q9(u))}=a,E=(0,rv.default)(a,z9),T=c&&c.startsWith("Mui")||u?"components":"custom",w=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,I=h||!1;let C,v=Zd;u==="Root"||u==="root"?v=r:u?v=i:W9(o)&&(v=void 0);const _=(0,Zf.default)(o,(0,Pr.default)({shouldForwardProp:v,label:C},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||(0,L9.isPlainObject)(N)?S=>{const p=_d({theme:S.theme,defaultTheme:n,themeId:e});return ef(N,(0,Pr.default)({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...S)=>{let p=k(N);const g=S?S.map(k):[];c&&m&&g.push(A=>{const P=_d((0,Pr.default)({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[c]||!P.components[c].styleOverrides)return null;const B=P.components[c].styleOverrides,V={};return Object.entries(B).forEach(([H,q])=>{V[H]=ef(q,(0,Pr.default)({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,V)}),c&&!w&&g.push(A=>{var P;const B=_d((0,Pr.default)({},A,{defaultTheme:n,themeId:e})),V=B==null||(P=B.components)==null||(P=P[c])==null?void 0:P.variants;return ef({variants:V},(0,Pr.default)({},A,{theme:B}),B.modularCssLayers?"theme":void 0)}),I||g.push(s);const b=g.length-S.length;if(Array.isArray(N)&&b>0){const A=new Array(b).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const O=_(p,...g);return o.muiName&&(O.muiName=o.muiName),O};return _.withConfig&&(M.withConfig=_.withConfig),M}}function sR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qr=t=>sR(t)&&t!=="classes",ke=M9({themeId:Ga,defaultTheme:zx,rootShouldForwardProp:qr}),Q9=["theme"];function Y9(t){let{theme:e}=t,n=Ee(t,Q9);const r=e[Ga];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=F({},r,{vars:null}):e&&!e.vars&&(i=F({},e,{vars:null}))),l.jsx(F8,F({},n,{themeId:r?Ga:void 0,theme:i}))}const oS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function pt(t){return D8(t)}function X9(t){return ht("MuiSvgIcon",t)}ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Z9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(n)}`]};return gt(i,X9,r)},eV=ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ue(n.color)}`],e[`fontSize${Ue(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,c,u,f,h,m,E,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(c=a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem",large:((u=t.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),iv=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=Ee(r,J9),T=x.isValidElement(i)&&i.type==="svg",w=F({},r,{color:o,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:T}),I={};f||(I.viewBox=m);const C=Z9(w);return l.jsxs(eV,F({as:a,className:Ne(C.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,E,T&&i.props,{ownerState:w,children:[T?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});iv.muiName="SvgIcon";function Xs(t,e){function n(r,i){return l.jsx(iv,F({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=iv.muiName,x.memo(x.forwardRef(n))}const tV={configure:t=>{Ox.configure(t)}},nV=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ue,createChainedFunction:Jy,createSvgIcon:Xs,debounce:Lx,deprecatedPropType:h8,isMuiElement:Jd,ownerDocument:ar,ownerWindow:Us,requirePropFactory:p8,setRef:Yf,unstable_ClassNameGenerator:tV,unstable_useEnhancedEffect:Ei,unstable_useId:Wp,unsupportedProp:g8,useControlled:Zy,useEventCallback:Es,useForkRef:An,useIsFocusVisible:zk},Symbol.toStringTag,{value:"Module"}));function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sv(t,e)}function oR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sv(t,e)}const aS={disabled:!1},eh=me.createContext(null);var rV=function(e){return e.scrollTop},ec="unmounted",ao="exited",lo="entering",ra="entered",ov="exiting",ki=function(t){oR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=ao,s.appearStatus=lo):c=ra:r.unmountOnExit||r.mountOnEnter?c=ec:c=ao,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ec?{status:ao}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==lo&&o!==ra&&(s=lo):(o===lo||o===ra)&&(s=ov)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===lo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this);o&&rV(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ao&&this.setState({status:ec})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[fd.findDOMNode(this),a],u=c[0],f=c[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||aS.disabled){this.safeSetState({status:ra},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:lo},function(){s.props.onEntering(u,f),s.onTransitionEnd(m,function(){s.safeSetState({status:ra},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:fd.findDOMNode(this);if(!s||aS.disabled){this.safeSetState({status:ao},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ov},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ao},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ec)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ee(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(eh.Provider,{value:null},typeof o=="function"?o(i,a):me.cloneElement(me.Children.only(o),a))},e}(me.Component);ki.contextType=eh;ki.propTypes={};function Jo(){}ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jo,onEntering:Jo,onEntered:Jo,onExit:Jo,onExiting:Jo,onExited:Jo};ki.UNMOUNTED=ec;ki.EXITED=ao;ki.ENTERING=lo;ki.ENTERED=ra;ki.EXITING=ov;function iV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ux(t,e){var n=function(s){return e&&x.isValidElement(s)?e(s):s},r=Object.create(null);return t&&x.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function sV(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var u=r[c][o];a[r[c][o]]=n(u)}a[c]=n(c)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function po(t,e,n){return n[e]!=null?n[e]:t.props[e]}function oV(t,e){return Ux(t.children,function(n){return x.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:po(n,"appear",t),enter:po(n,"enter",t),exit:po(n,"exit",t)})})}function aV(t,e,n){var r=Ux(t.children),i=sV(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(x.isValidElement(o)){var a=s in e,c=s in r,u=e[s],f=x.isValidElement(u)&&!u.props.in;c&&(!a||f)?i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:po(o,"exit",t),enter:po(o,"enter",t)}):!c&&a&&!f?i[s]=x.cloneElement(o,{in:!1}):c&&a&&x.isValidElement(u)&&(i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:po(o,"exit",t),enter:po(o,"enter",t)}))}}),i}var lV=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},cV={component:"div",childFactory:function(e){return e}},Wx=function(t){oR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(iV(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,c=s.firstRender;return{children:c?oV(i,a):aV(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Ux(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var c=F({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ee(i,["component","childFactory"]),c=this.state.contextValue,u=lV(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?me.createElement(eh.Provider,{value:c},u):me.createElement(eh.Provider,{value:c},me.createElement(s,a,u))},e}(me.Component);Wx.propTypes={};Wx.defaultProps=cV;const aR=t=>t.scrollTop;function th(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function uV(t){return ht("MuiPaper",t)}ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const dV=["className","component","elevation","square","variant"],fV=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(s,uV,i)},hV=ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return F({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&F({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${pr("#fff",oS(e.elevation))}, ${pr("#fff",oS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),gl=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:c="elevation"}=r,u=Ee(r,dV),f=F({},r,{component:s,elevation:o,square:a,variant:c}),h=fV(f);return l.jsx(hV,F({as:s,ownerState:f,className:Ne(h.root,i),ref:n},u))}),pV=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],mV=["component","slots","slotProps"],gV=["component"];function av(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,c=Ee(e,pV),{component:u,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=s,m=Ee(s,mV),E=f[t]||r,T=qk(h[t],i),w=Hk(F({className:n},c,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:T})),{props:{component:I},internalRef:C}=w,v=Ee(w.props,gV),_=An(C,T==null?void 0:T.ref,e.ref),k=o?o(v):{},M=F({},i,k),N=t==="root"?I||u:I,S=Uk(E,F({},t==="root"&&!u&&!f[t]&&a,t!=="root"&&!f[t]&&a,v,N&&{as:N},{ref:_}),M);return Object.keys(k).forEach(p=>{delete S[p]}),[E,S]}function yV(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:c,timeout:u}=t,[f,h]=x.useState(!1),m=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},T=Ne(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),x.useEffect(()=>{if(!a&&c!=null){const w=setTimeout(c,u);return()=>{clearTimeout(w)}}},[c,a,u]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:T})})}const Ar=ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vV=["center","classes","className"];let Gp=t=>t,lS,cS,uS,dS;const lv=550,xV=80,bV=Ep(lS||(lS=Gp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),_V=Ep(cS||(cS=Gp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),wV=Ep(uS||(uS=Gp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),SV=ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),EV=ke(yV,{name:"MuiTouchRipple",slot:"Ripple"})(dS||(dS=Gp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ar.rippleVisible,bV,lv,({theme:t})=>t.transitions.easing.easeInOut,Ar.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ar.child,Ar.childLeaving,_V,lv,({theme:t})=>t.transitions.easing.easeInOut,Ar.childPulsate,wV,({theme:t})=>t.transitions.easing.easeInOut),TV=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ee(r,vV),[c,u]=x.useState([]),f=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const m=x.useRef(!1),E=Vk(),T=x.useRef(null),w=x.useRef(null),I=x.useCallback(k=>{const{pulsate:M,rippleX:N,rippleY:S,rippleSize:p,cb:g}=k;u(b=>[...b,l.jsx(EV,{classes:{ripple:Ne(s.ripple,Ar.ripple),rippleVisible:Ne(s.rippleVisible,Ar.rippleVisible),ripplePulsate:Ne(s.ripplePulsate,Ar.ripplePulsate),child:Ne(s.child,Ar.child),childLeaving:Ne(s.childLeaving,Ar.childLeaving),childPulsate:Ne(s.childPulsate,Ar.childPulsate)},timeout:lv,pulsate:M,rippleX:N,rippleY:S,rippleSize:p},f.current)]),f.current+=1,h.current=g},[s]),C=x.useCallback((k={},M={},N=()=>{})=>{const{pulsate:S=!1,center:p=i||M.pulsate,fakeElement:g=!1}=M;if((k==null?void 0:k.type)==="mousedown"&&m.current){m.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(m.current=!0);const b=g?null:w.current,O=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,P,B;if(p||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)A=Math.round(O.width/2),P=Math.round(O.height/2);else{const{clientX:V,clientY:H}=k.touches&&k.touches.length>0?k.touches[0]:k;A=Math.round(V-O.left),P=Math.round(H-O.top)}if(p)B=Math.sqrt((2*O.width**2+O.height**2)/3),B%2===0&&(B+=1);else{const V=Math.max(Math.abs((b?b.clientWidth:0)-A),A)*2+2,H=Math.max(Math.abs((b?b.clientHeight:0)-P),P)*2+2;B=Math.sqrt(V**2+H**2)}k!=null&&k.touches?T.current===null&&(T.current=()=>{I({pulsate:S,rippleX:A,rippleY:P,rippleSize:B,cb:N})},E.start(xV,()=>{T.current&&(T.current(),T.current=null)})):I({pulsate:S,rippleX:A,rippleY:P,rippleSize:B,cb:N})},[i,I,E]),v=x.useCallback(()=>{C({},{pulsate:!0})},[C]),_=x.useCallback((k,M)=>{if(E.clear(),(k==null?void 0:k.type)==="touchend"&&T.current){T.current(),T.current=null,E.start(0,()=>{_(k,M)});return}T.current=null,u(N=>N.length>0?N.slice(1):N),h.current=M},[E]);return x.useImperativeHandle(n,()=>({pulsate:v,start:C,stop:_}),[v,C,_]),l.jsx(SV,F({className:Ne(Ar.root,s.root,o),ref:w},a,{children:l.jsx(Wx,{component:null,exit:!0,children:c})}))});function CV(t){return ht("MuiButtonBase",t)}const IV=ot("MuiButtonBase",["root","disabled","focusVisible"]),kV=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],RV=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=gt({root:["root",e&&"disabled",n&&"focusVisible"]},CV,i);return n&&r&&(o.root+=` ${r}`),o},PV=ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${IV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Hx=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:c="button",disabled:u=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:T,onClick:w,onContextMenu:I,onDragLeave:C,onFocus:v,onFocusVisible:_,onKeyDown:k,onKeyUp:M,onMouseDown:N,onMouseLeave:S,onMouseUp:p,onTouchEnd:g,onTouchMove:b,onTouchStart:O,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:B,type:V}=r,H=Ee(r,kV),q=x.useRef(null),L=x.useRef(null),z=An(L,B),{isFocusVisibleRef:K,onFocus:$,onBlur:U,ref:Q}=zk(),[X,oe]=x.useState(!1);u&&X&&oe(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{oe(!0),q.current.focus()}}),[]);const[ue,G]=x.useState(!1);x.useEffect(()=>{G(!0)},[]);const ee=ue&&!f&&!u;x.useEffect(()=>{X&&m&&!f&&ue&&L.current.pulsate()},[f,m,X,ue]);function W(Te,wt,Pt=h){return Es(Ze=>(wt&&wt(Ze),!Pt&&L.current&&L.current[Te](Ze),!0))}const ae=W("start",N),te=W("stop",I),ie=W("stop",C),pe=W("stop",p),ge=W("stop",Te=>{X&&Te.preventDefault(),S&&S(Te)}),ve=W("start",O),be=W("stop",g),Je=W("stop",b),_e=W("stop",Te=>{U(Te),K.current===!1&&oe(!1),T&&T(Te)},!1),ze=Es(Te=>{q.current||(q.current=Te.currentTarget),$(Te),K.current===!0&&(oe(!0),_&&_(Te)),v&&v(Te)}),Ae=()=>{const Te=q.current;return c&&c!=="button"&&!(Te.tagName==="A"&&Te.href)},Xe=x.useRef(!1),at=Es(Te=>{m&&!Xe.current&&X&&L.current&&Te.key===" "&&(Xe.current=!0,L.current.stop(Te,()=>{L.current.start(Te)})),Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&Te.preventDefault(),k&&k(Te),Te.target===Te.currentTarget&&Ae()&&Te.key==="Enter"&&!u&&(Te.preventDefault(),w&&w(Te))}),dt=Es(Te=>{m&&Te.key===" "&&L.current&&X&&!Te.defaultPrevented&&(Xe.current=!1,L.current.stop(Te,()=>{L.current.pulsate(Te)})),M&&M(Te),w&&Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&!Te.defaultPrevented&&w(Te)});let De=c;De==="button"&&(H.href||H.to)&&(De=E);const xt={};De==="button"?(xt.type=V===void 0?"button":V,xt.disabled=u):(!H.href&&!H.to&&(xt.role="button"),u&&(xt["aria-disabled"]=u));const Pe=An(n,Q,q),He=F({},r,{centerRipple:s,component:c,disabled:u,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:A,focusVisible:X}),$e=RV(He);return l.jsxs(PV,F({as:De,className:Ne($e.root,a),ownerState:He,onBlur:_e,onClick:w,onContextMenu:te,onFocus:ze,onKeyDown:at,onKeyUp:dt,onMouseDown:ae,onMouseLeave:ge,onMouseUp:pe,onDragLeave:ie,onTouchEnd:be,onTouchMove:Je,onTouchStart:ve,ref:Pe,tabIndex:u?-1:A,type:V},xt,H,{children:[o,ee?l.jsx(TV,F({ref:z,center:s},P)):null]}))});function AV(t){return ht("MuiAlert",t)}const fS=ot("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function jV(t){return ht("MuiIconButton",t)}const OV=ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),NV=["edge","children","className","color","disabled","disableFocusRipple","size"],MV=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Ue(r)}`,i&&`edge${Ue(i)}`,`size${Ue(s)}`]};return gt(o,jV,e)},LV=ke(Hx,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ue(n.color)}`],n.edge&&e[`edge${Ue(n.edge)}`],e[`size${Ue(n.size)}`]]}})(({theme:t,ownerState:e})=>F({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:pr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return F({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&F({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":F({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${OV.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),cv=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:f="medium"}=r,h=Ee(r,NV),m=F({},r,{edge:i,color:a,disabled:c,disableFocusRipple:u,size:f}),E=MV(m);return l.jsx(LV,F({className:Ne(E.root,o),centerRipple:!0,focusRipple:!u,disabled:c,ref:n},h,{ownerState:m,children:s}))}),DV=Xs(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),$V=Xs(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),FV=Xs(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),VV=Xs(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),zV=Xs(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),BV=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],UV=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${Ue(n||r)}`,`${e}${Ue(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return gt(s,AV,i)},WV=ke(gl,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?tv:nv,n=t.palette.mode==="light"?nv:tv;return F({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${fS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${fS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:F({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),HV=ke("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),qV=ke("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),hS=ke("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pS={success:l.jsx(DV,{fontSize:"inherit"}),warning:l.jsx($V,{fontSize:"inherit"}),error:l.jsx(FV,{fontSize:"inherit"}),info:l.jsx(VV,{fontSize:"inherit"})},mS=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:c,components:u={},componentsProps:f={},icon:h,iconMapping:m=pS,onClose:E,role:T="alert",severity:w="success",slotProps:I={},slots:C={},variant:v="standard"}=r,_=Ee(r,BV),k=F({},r,{color:c,severity:w,variant:v,colorSeverity:c||w}),M=UV(k),N={slots:F({closeButton:u.CloseButton,closeIcon:u.CloseIcon},C),slotProps:F({},f,I)},[S,p]=av("closeButton",{elementType:cv,externalForwardedProps:N,ownerState:k}),[g,b]=av("closeIcon",{elementType:zV,externalForwardedProps:N,ownerState:k});return l.jsxs(WV,F({role:T,elevation:0,ownerState:k,className:Ne(M.root,o),ref:n},_,{children:[h!==!1?l.jsx(HV,{ownerState:k,className:M.icon,children:h||m[w]||pS[w]}):null,l.jsx(qV,{ownerState:k,className:M.message,children:s}),i!=null?l.jsx(hS,{ownerState:k,className:M.action,children:i}):null,i==null&&E?l.jsx(hS,{ownerState:k,className:M.action,children:l.jsx(S,F({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(g,F({fontSize:"small"},b))}))}):null]}))});function KV(t){return ht("MuiTypography",t)}ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const GV=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],QV=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ue(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(a,KV,o)},YV=ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ue(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>F({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),gS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},XV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},JV=t=>XV[t]||t,Oe=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTypography"}),i=JV(r.color),s=Op(F({},r,{color:i})),{align:o="inherit",className:a,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=gS}=s,T=Ee(s,GV),w=F({},s,{align:o,color:i,className:a,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:m,variantMapping:E}),I=c||(h?"p":E[m]||gS[m])||"span",C=QV(w);return l.jsx(YV,F({as:I,ref:n,ownerState:w,className:Ne(C.root,a)},T))});function ZV(t){return ht("MuiAppBar",t)}ot("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const ez=["className","color","enableColorOnDark","position"],tz=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Ue(e)}`,`position${Ue(n)}`]};return gt(i,ZV,r)},wd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,nz=ke(gl,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ue(n.position)}`],e[`color${Ue(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return F({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&F({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&F({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&F({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:wd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:wd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:wd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:wd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),rz=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,c=Ee(r,ez),u=F({},r,{color:s,position:a,enableColorOnDark:o}),f=tz(u);return l.jsx(nz,F({square:!0,component:"header",ownerState:u,elevation:4,className:Ne(f.root,i,a==="fixed"&&"mui-fixed"),ref:n},c))});function iz(t){return typeof t=="function"?t():t}const sz=x.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=x.useState(null),c=An(x.isValidElement(r)?Nu(r):null,n);if(Ei(()=>{s||a(iz(i)||document.body)},[i,s]),Ei(()=>{if(o&&!s)return Yf(n,o),()=>{Yf(n,null)}},[n,o,s]),s){if(x.isValidElement(r)){const u={ref:c};return x.cloneElement(r,u)}return l.jsx(x.Fragment,{children:r})}return l.jsx(x.Fragment,{children:o&&g0.createPortal(r,o)})}),oz=["onChange","maxRows","minRows","style","value"];function Sd(t){return parseInt(t,10)||0}const az={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function lz(t){for(const e in t)return!1;return!0}function yS(t){return lz(t)||t.outerHeightStyle===0&&!t.overflowing}const cz=x.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,c=Ee(e,oz),{current:u}=x.useRef(a!=null),f=x.useRef(null),h=An(n,f),m=x.useRef(null),E=x.useRef(null),T=x.useCallback(()=>{const _=f.current,k=E.current;if(!_||!k)return;const N=Us(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=N.width,k.value=_.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const S=N.boxSizing,p=Sd(N.paddingBottom)+Sd(N.paddingTop),g=Sd(N.borderBottomWidth)+Sd(N.borderTopWidth),b=k.scrollHeight;k.value="x";const O=k.scrollHeight;let A=b;s&&(A=Math.max(Number(s)*O,A)),i&&(A=Math.min(Number(i)*O,A)),A=Math.max(A,O);const P=A+(S==="border-box"?p+g:0),B=Math.abs(A-b)<=1;return{outerHeightStyle:P,overflowing:B}},[i,s,e.placeholder]),w=Es(()=>{const _=f.current,k=T();if(!_||!k||yS(k))return!1;const M=k.outerHeightStyle;return m.current!=null&&m.current!==M}),I=x.useCallback(()=>{const _=f.current,k=T();if(!_||!k||yS(k))return;const M=k.outerHeightStyle;m.current!==M&&(m.current=M,_.style.height=`${M}px`),_.style.overflow=k.overflowing?"hidden":""},[T]),C=x.useRef(-1);Ei(()=>{const _=Lx(I),k=f==null?void 0:f.current;if(!k)return;const M=Us(k);M.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{w()&&(N.unobserve(k),cancelAnimationFrame(C.current),I(),C.current=requestAnimationFrame(()=>{N.observe(k)}))}),N.observe(k)),()=>{_.clear(),cancelAnimationFrame(C.current),M.removeEventListener("resize",_),N&&N.disconnect()}},[T,I,w]),Ei(()=>{I()});const v=_=>{u||I(),r&&r(_)};return l.jsxs(x.Fragment,{children:[l.jsx("textarea",F({value:a,onChange:v,ref:h,rows:s,style:o},c)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:F({},az.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function yl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const qx=x.createContext(void 0);function vl(){return x.useContext(qx)}function lR(t){return l.jsx(Lk,F({},t,{defaultTheme:zx,themeId:Ga}))}function vS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function nh(t,e=!1){return t&&(vS(t.value)&&t.value!==""||e&&vS(t.defaultValue)&&t.defaultValue!=="")}function uz(t){return t.startAdornment}function dz(t){return ht("MuiInputBase",t)}const Xa=ot("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),fz=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Qp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ue(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Yp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},hz=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:c,hiddenLabel:u,multiline:f,readOnly:h,size:m,startAdornment:E,type:T}=t,w={root:["root",`color${Ue(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Ue(m)}`,f&&"multiline",E&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",T==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",E&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return gt(w,dz,e)},Xp=ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qp})(({theme:t,ownerState:e})=>F({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&F({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Jp=ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Yp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=F({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return F({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xa.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Xa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),pz=l.jsx(lR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Kx=x.forwardRef(function(e,n){var r;const i=pt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:c,components:u={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:T,fullWidth:w=!1,id:I,inputComponent:C="input",inputProps:v={},inputRef:_,maxRows:k,minRows:M,multiline:N=!1,name:S,onBlur:p,onChange:g,onClick:b,onFocus:O,onKeyDown:A,onKeyUp:P,placeholder:B,readOnly:V,renderSuffix:H,rows:q,slotProps:L={},slots:z={},startAdornment:K,type:$="text",value:U}=i,Q=Ee(i,fz),X=v.value!=null?v.value:U,{current:oe}=x.useRef(X!=null),ue=x.useRef(),G=x.useCallback($e=>{},[]),ee=An(ue,_,v.ref,G),[W,ae]=x.useState(!1),te=vl(),ie=yl({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=te?te.focused:W,x.useEffect(()=>{!te&&m&&W&&(ae(!1),p&&p())},[te,m,W,p]);const pe=te&&te.onFilled,ge=te&&te.onEmpty,ve=x.useCallback($e=>{nh($e)?pe&&pe():ge&&ge()},[pe,ge]);Ei(()=>{oe&&ve({value:X})},[X,ve,oe]);const be=$e=>{if(ie.disabled){$e.stopPropagation();return}O&&O($e),v.onFocus&&v.onFocus($e),te&&te.onFocus?te.onFocus($e):ae(!0)},Je=$e=>{p&&p($e),v.onBlur&&v.onBlur($e),te&&te.onBlur?te.onBlur($e):ae(!1)},_e=($e,...Te)=>{if(!oe){const wt=$e.target||ue.current;if(wt==null)throw new Error(Ao(1));ve({value:wt.value})}v.onChange&&v.onChange($e,...Te),g&&g($e,...Te)};x.useEffect(()=>{ve(ue.current)},[]);const ze=$e=>{ue.current&&$e.currentTarget===$e.target&&ue.current.focus(),b&&b($e)};let Ae=C,Xe=v;N&&Ae==="input"&&(q?Xe=F({type:void 0,minRows:q,maxRows:q},Xe):Xe=F({type:void 0,maxRows:k,minRows:M},Xe),Ae=cz);const at=$e=>{ve($e.animationName==="mui-auto-fill-cancel"?ue.current:{value:"x"})};x.useEffect(()=>{te&&te.setAdornedStart(!!K)},[te,K]);const dt=F({},i,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:T,error:ie.error,focused:ie.focused,formControl:te,fullWidth:w,hiddenLabel:ie.hiddenLabel,multiline:N,size:ie.size,startAdornment:K,type:$}),De=hz(dt),xt=z.root||u.Root||Xp,Pe=L.root||f.root||{},He=z.input||u.Input||Jp;return Xe=F({},Xe,(r=L.input)!=null?r:f.input),l.jsxs(x.Fragment,{children:[!E&&pz,l.jsxs(xt,F({},Pe,!Xf(xt)&&{ownerState:F({},dt,Pe.ownerState)},{ref:n,onClick:ze},Q,{className:Ne(De.root,Pe.className,c,V&&"MuiInputBase-readOnly"),children:[K,l.jsx(qx.Provider,{value:null,children:l.jsx(He,F({ownerState:dt,"aria-invalid":ie.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:ie.disabled,id:I,onAnimationStart:at,name:S,placeholder:B,readOnly:V,required:ie.required,rows:q,value:X,onKeyDown:A,onKeyUp:P,type:$},Xe,!Xf(He)&&{as:Ae,ownerState:F({},dt,Xe.ownerState)},{ref:ee,className:Ne(De.input,Xe.className,V&&"MuiInputBase-readOnly"),onBlur:Je,onChange:_e,onFocus:be}))}),T,H?H(F({},ie,{startAdornment:K})):null]}))]})});function mz(t){return ht("MuiInput",t)}const $l=F({},Xa,ot("MuiInput",["root","underline","input"]));function gz(t){return ht("MuiOutlinedInput",t)}const ps=F({},Xa,ot("MuiOutlinedInput",["root","notchedOutline","input"]));function yz(t){return ht("MuiFilledInput",t)}const no=F({},Xa,ot("MuiFilledInput",["root","underline","input"])),vz=Xs(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),xz=Xs(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function bz(t){return ht("MuiAvatar",t)}ot("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _z=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],wz=t=>{const{classes:e,variant:n,colorDefault:r}=t;return gt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},bz,e)},Sz=ke("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:F({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:F({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),Ez=ke("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Tz=ke(xz,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Cz({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=x.useState(!1);return x.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const Iz=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:c={},slotProps:u={},imgProps:f,sizes:h,src:m,srcSet:E,variant:T="circular"}=r,w=Ee(r,_z);let I=null;const C=Cz(F({},f,{src:m,srcSet:E})),v=m||E,_=v&&C!=="error",k=F({},r,{colorDefault:!_,component:a,variant:T}),M=wz(k),[N,S]=av("img",{className:M.img,elementType:Ez,externalForwardedProps:{slots:c,slotProps:{img:F({},f,u.img)}},additionalProps:{alt:i,src:m,srcSet:E,sizes:h},ownerState:k});return _?I=l.jsx(N,F({},S)):s||s===0?I=s:v&&i?I=i[0]:I=l.jsx(Tz,{ownerState:k,className:M.fallback}),l.jsx(Sz,F({as:a,ownerState:k,className:Ne(M.root,o),ref:n},w,{children:I}))}),kz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rz={entering:{opacity:1},entered:{opacity:1}},cR=x.forwardRef(function(e,n){const r=Bx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:c,in:u,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:T,onExiting:w,style:I,timeout:C=i,TransitionComponent:v=ki}=e,_=Ee(e,kz),k=x.useRef(null),M=An(k,Nu(a),n),N=B=>V=>{if(B){const H=k.current;V===void 0?B(H):B(H,V)}},S=N(m),p=N((B,V)=>{aR(B);const H=th({style:I,timeout:C,easing:c},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",H),B.style.transition=r.transitions.create("opacity",H),f&&f(B,V)}),g=N(h),b=N(w),O=N(B=>{const V=th({style:I,timeout:C,easing:c},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",V),B.style.transition=r.transitions.create("opacity",V),E&&E(B)}),A=N(T),P=B=>{s&&s(k.current,B)};return l.jsx(v,F({appear:o,in:u,nodeRef:k,onEnter:p,onEntered:g,onEntering:S,onExit:O,onExited:A,onExiting:b,addEndListener:P,timeout:C},_,{children:(B,V)=>x.cloneElement(a,F({style:F({opacity:0,visibility:B==="exited"&&!u?"hidden":void 0},Rz[B],I,a.props.style),ref:M},V))}))});function Pz(t){return ht("MuiBackdrop",t)}ot("MuiBackdrop",["root","invisible"]);const Az=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],jz=t=>{const{classes:e,invisible:n}=t;return gt({root:["root",n&&"invisible"]},Pz,e)},Oz=ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>F({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Nz=x.forwardRef(function(e,n){var r,i,s;const o=pt({props:e,name:"MuiBackdrop"}),{children:a,className:c,component:u="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:T={},slots:w={},TransitionComponent:I=cR,transitionDuration:C}=o,v=Ee(o,Az),_=F({},o,{component:u,invisible:m}),k=jz(_),M=(r=T.root)!=null?r:h.root;return l.jsx(I,F({in:E,timeout:C},v,{children:l.jsx(Oz,F({"aria-hidden":!0},M,{as:(i=(s=w.root)!=null?s:f.Root)!=null?i:u,className:Ne(k.root,c,M==null?void 0:M.className),ownerState:F({},_,M==null?void 0:M.ownerState),classes:k,ref:n,children:a}))}))}),Mz=ot("MuiBox",["root"]),Lz=Vx(),qe=qF({themeId:Ga,defaultTheme:Lz,defaultClassName:Mz.root,generateClassName:Ox.generate});function Dz(t){return ht("MuiButton",t)}const Ed=ot("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$z=x.createContext({}),Fz=x.createContext(void 0),Vz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],zz=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ue(e)}`,`size${Ue(i)}`,`${s}Size${Ue(i)}`,`color${Ue(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ue(i)}`],endIcon:["icon","endIcon",`iconSize${Ue(i)}`]},c=gt(a,Dz,o);return F({},o,c)},uR=t=>F({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Bz=ke(Hx,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ue(n.color)}`],e[`size${Ue(n.size)}`],e[`${n.variant}Size${Ue(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return F({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":F({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:pr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:pr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":F({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Ed.focusVisible}`]:F({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Ed.disabled}`]:F({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${pr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ed.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ed.disabled}`]:{boxShadow:"none"}}),Uz=ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ue(n.size)}`]]}})(({ownerState:t})=>F({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},uR(t))),Wz=ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ue(n.size)}`]]}})(({ownerState:t})=>F({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},uR(t))),Vn=x.forwardRef(function(e,n){const r=x.useContext($z),i=x.useContext(Fz),s=Jc(r,e),o=pt({props:s,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:T,focusVisibleClassName:w,fullWidth:I=!1,size:C="medium",startIcon:v,type:_,variant:k="text"}=o,M=Ee(o,Vz),N=F({},o,{color:c,component:u,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:I,size:C,type:_,variant:k}),S=zz(N),p=v&&l.jsx(Uz,{className:S.startIcon,ownerState:N,children:v}),g=T&&l.jsx(Wz,{className:S.endIcon,ownerState:N,children:T}),b=i||"";return l.jsxs(Bz,F({ownerState:N,className:Ne(r.className,S.root,f,b),component:u,disabled:h,focusRipple:!E,focusVisibleClassName:Ne(S.focusVisible,w),ref:n,type:_},M,{classes:S,children:[p,a,g]}))});function Hz(t){return ht("MuiCard",t)}ot("MuiCard",["root"]);const qz=["className","raised"],Kz=t=>{const{classes:e}=t;return gt({root:["root"]},Hz,e)},Gz=ke(gl,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),rh=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ee(r,qz),a=F({},r,{raised:s}),c=Kz(a);return l.jsx(Gz,F({className:Ne(c.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function Qz(t){return ht("MuiCardContent",t)}ot("MuiCardContent",["root"]);const Yz=["className","component"],Xz=t=>{const{classes:e}=t;return gt({root:["root"]},Qz,e)},Jz=ke("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ih=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ee(r,Yz),a=F({},r,{component:s}),c=Xz(a);return l.jsx(Jz,F({as:s,className:Ne(c.root,i),ownerState:a,ref:n},o))});function Zz(t){return ht("MuiCardMedia",t)}ot("MuiCardMedia",["root","media","img"]);const eB=["children","className","component","image","src","style"],tB=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return gt({root:["root",n&&"media",r&&"img"]},Zz,e)},nB=ke("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>F({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),rB=["video","audio","picture","iframe","img"],iB=["picture","img"],xS=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:c,style:u}=r,f=Ee(r,eB),h=rB.indexOf(o)!==-1,m=!h&&a?F({backgroundImage:`url("${a}")`},u):u,E=F({},r,{component:o,isMediaComponent:h,isImageComponent:iB.indexOf(o)!==-1}),T=tB(E);return l.jsx(nB,F({className:Ne(T.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||c:void 0},f,{children:i}))}),dR=H8({createStyledComponent:ke("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ue(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>pt({props:t,name:"MuiContainer"})}),sB=(t,e)=>F({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),oB=t=>F({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),aB=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var c;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(c=a.palette)==null?void 0:c.mode}});let i=F({html:sB(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:F({margin:0},oB(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function lB(t){const e=pt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(x.Fragment,{children:[l.jsx(lR,{styles:i=>aB(i,r)}),n]})}function cB(t){const e=ar(t);return e.body===t?Us(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bS(t){return parseInt(Us(t).getComputedStyle(t).paddingRight,10)||0}function uB(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function _S(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,c=!uB(o);a&&c&&yc(o,i)})}function lg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function dB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(cB(r)){const o=Bk(ar(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bS(r)+o}px`;const a=ar(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${bS(c)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ar(r).body;else{const o=r.parentElement,a=Us(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function fB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class hB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&yc(e.modalRef,!1);const i=fB(n);_S(n,e.mount,e.modalRef,i,!0);const s=lg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=lg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=dB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=lg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&yc(e.modalRef,n),_S(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&yc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const pB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function mB(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function gB(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function yB(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||gB(t))}function vB(t){const e=[],n=[];return Array.from(t.querySelectorAll(pB)).forEach((r,i)=>{const s=mB(r);s===-1||!yB(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function xB(){return!0}function bB(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=vB,isEnabled:o=xB,open:a}=t,c=x.useRef(!1),u=x.useRef(null),f=x.useRef(null),h=x.useRef(null),m=x.useRef(null),E=x.useRef(!1),T=x.useRef(null),w=An(Nu(e),T),I=x.useRef(null);x.useEffect(()=>{!a||!T.current||(E.current=!n)},[n,a]),x.useEffect(()=>{if(!a||!T.current)return;const _=ar(T.current);return T.current.contains(_.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),E.current&&T.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[a]),x.useEffect(()=>{if(!a||!T.current)return;const _=ar(T.current),k=S=>{I.current=S,!(r||!o()||S.key!=="Tab")&&_.activeElement===T.current&&S.shiftKey&&(c.current=!0,f.current&&f.current.focus())},M=()=>{const S=T.current;if(S===null)return;if(!_.hasFocus()||!o()||c.current){c.current=!1;return}if(S.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==f.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((_.activeElement===u.current||_.activeElement===f.current)&&(p=s(T.current)),p.length>0){var g,b;const O=!!((g=I.current)!=null&&g.shiftKey&&((b=I.current)==null?void 0:b.key)==="Tab"),A=p[0],P=p[p.length-1];typeof A!="string"&&typeof P!="string"&&(O?P.focus():A.focus())}else S.focus()};_.addEventListener("focusin",M),_.addEventListener("keydown",k,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",M),_.removeEventListener("keydown",k,!0)}},[n,r,i,o,a,s]);const C=_=>{h.current===null&&(h.current=_.relatedTarget),E.current=!0,m.current=_.target;const k=e.props.onFocus;k&&k(_)},v=_=>{h.current===null&&(h.current=_.relatedTarget),E.current=!0};return l.jsxs(x.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:w,onFocus:C}),l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:f,"data-testid":"sentinelEnd"})]})}function _B(t){return typeof t=="function"?t():t}function wB(t){return t?t.props.hasOwnProperty("in"):!1}const SB=new hB;function EB(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=SB,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:c,onClose:u,open:f,rootRef:h}=t,m=x.useRef({}),E=x.useRef(null),T=x.useRef(null),w=An(T,h),[I,C]=x.useState(!f),v=wB(c);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const k=()=>ar(E.current),M=()=>(m.current.modalRef=T.current,m.current.mount=E.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},S=Es(()=>{const H=_B(e)||k().body;i.add(M(),H),T.current&&N()}),p=x.useCallback(()=>i.isTopModal(M()),[i]),g=Es(H=>{E.current=H,H&&(f&&p()?N():T.current&&yc(T.current,_))}),b=x.useCallback(()=>{i.remove(M(),_)},[_,i]);x.useEffect(()=>()=>{b()},[b]),x.useEffect(()=>{f?S():(!v||!s)&&b()},[f,b,v,s,S]);const O=H=>q=>{var L;(L=H.onKeyDown)==null||L.call(H,q),!(q.key!=="Escape"||q.which===229||!p())&&(n||(q.stopPropagation(),u&&u(q,"escapeKeyDown")))},A=H=>q=>{var L;(L=H.onClick)==null||L.call(H,q),q.target===q.currentTarget&&u&&u(q,"backdropClick")};return{getRootProps:(H={})=>{const q=Wk(t);delete q.onTransitionEnter,delete q.onTransitionExited;const L=F({},q,H);return F({role:"presentation"},L,{onKeyDown:O(L),ref:w})},getBackdropProps:(H={})=>{const q=H;return F({"aria-hidden":!0},q,{onClick:A(q),open:f})},getTransitionProps:()=>{const H=()=>{C(!1),o&&o()},q=()=>{C(!0),a&&a(),s&&b()};return{onEnter:Jy(H,c==null?void 0:c.props.onEnter),onExited:Jy(q,c==null?void 0:c.props.onExited)}},rootRef:w,portalRef:g,isTopModal:p,exited:I,hasTransition:v}}function TB(t){return ht("MuiModal",t)}ot("MuiModal",["root","hidden","backdrop"]);const CB=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],IB=t=>{const{open:e,exited:n,classes:r}=t;return gt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},TB,r)},kB=ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>F({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),RB=ke(Nz,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),PB=x.forwardRef(function(e,n){var r,i,s,o,a,c;const u=pt({name:"MuiModal",props:e}),{BackdropComponent:f=RB,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:T,container:w,component:I,components:C={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:S=!1,disableScrollLock:p=!1,hideBackdrop:g=!1,keepMounted:b=!1,onBackdropClick:O,open:A,slotProps:P,slots:B}=u,V=Ee(u,CB),H=F({},u,{closeAfterTransition:E,disableAutoFocus:_,disableEnforceFocus:k,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:S,disableScrollLock:p,hideBackdrop:g,keepMounted:b}),{getRootProps:q,getBackdropProps:L,getTransitionProps:z,portalRef:K,isTopModal:$,exited:U,hasTransition:Q}=EB(F({},H,{rootRef:n})),X=F({},H,{exited:U}),oe=IB(X),ue={};if(T.props.tabIndex===void 0&&(ue.tabIndex="-1"),Q){const{onEnter:pe,onExited:ge}=z();ue.onEnter=pe,ue.onExited=ge}const G=(r=(i=B==null?void 0:B.root)!=null?i:C.Root)!=null?r:kB,ee=(s=(o=B==null?void 0:B.backdrop)!=null?o:C.Backdrop)!=null?s:f,W=(a=P==null?void 0:P.root)!=null?a:v.root,ae=(c=P==null?void 0:P.backdrop)!=null?c:v.backdrop,te=Ya({elementType:G,externalSlotProps:W,externalForwardedProps:V,getSlotProps:q,additionalProps:{ref:n,as:I},ownerState:X,className:Ne(m,W==null?void 0:W.className,oe==null?void 0:oe.root,!X.open&&X.exited&&(oe==null?void 0:oe.hidden))}),ie=Ya({elementType:ee,externalSlotProps:ae,additionalProps:h,getSlotProps:pe=>L(F({},pe,{onClick:ge=>{O&&O(ge),pe!=null&&pe.onClick&&pe.onClick(ge)}})),className:Ne(ae==null?void 0:ae.className,h==null?void 0:h.className,oe==null?void 0:oe.backdrop),ownerState:X});return!b&&!A&&(!Q||U)?null:l.jsx(sz,{ref:K,container:w,disablePortal:N,children:l.jsxs(G,F({},te,{children:[!g&&f?l.jsx(ee,F({},ie)):null,l.jsx(bB,{disableEnforceFocus:k,disableAutoFocus:_,disableRestoreFocus:S,isEnabled:$,open:A,children:x.cloneElement(T,ue)})]}))})});function AB(t){return ht("MuiDivider",t)}const wS=ot("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jB=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],OB=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:c}=t;return gt({root:["root",e&&"absolute",c,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},AB,r)},NB=ke("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>F({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:pr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>F({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>F({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>F({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>F({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),MB=ke("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>F({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),fR=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:c=!1,light:u=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,T=Ee(r,jB),w=F({},r,{absolute:i,component:a,flexItem:c,light:u,orientation:f,role:h,textAlign:m,variant:E}),I=OB(w);return l.jsx(NB,F({as:a,className:Ne(I.root,o),role:h,ref:n,ownerState:w},T,{children:s?l.jsx(MB,{className:I.wrapper,ownerState:w,children:s}):null}))});fR.muiSkipListHighlight=!0;const LB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],DB=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},yz,e);return F({},e,i)},$B=ke(Xp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Qp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return F({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${no.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${no.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${no.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${no.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${no.disabled}, .${no.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${no.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&F({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FB=ke(Jp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Yp})(({theme:t,ownerState:e})=>F({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Gx=x.forwardRef(function(e,n){var r,i,s,o;const a=pt({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:u,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:T={},type:w="text"}=a,I=Ee(a,LB),C=F({},a,{fullWidth:f,inputComponent:h,multiline:m,type:w}),v=DB(a),_={root:{ownerState:C},input:{ownerState:C}},k=E??u?yr(_,E??u):_,M=(r=(i=T.root)!=null?i:c.Root)!=null?r:$B,N=(s=(o=T.input)!=null?o:c.Input)!=null?s:FB;return l.jsx(Kx,F({slots:{root:M,input:N},componentsProps:k,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:w},I,{classes:v}))});Gx.muiName="Input";function VB(t){return ht("MuiFormControl",t)}ot("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],BB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ue(n)}`,r&&"fullWidth"]};return gt(i,VB,e)},UB=ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>F({},e.root,e[`margin${Ue(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>F({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),hR=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:c=!1,error:u=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:T=!1,size:w="medium",variant:I="outlined"}=r,C=Ee(r,zB),v=F({},r,{color:o,component:a,disabled:c,error:u,fullWidth:h,hiddenLabel:m,margin:E,required:T,size:w,variant:I}),_=BB(v),[k,M]=x.useState(()=>{let P=!1;return i&&x.Children.forEach(i,B=>{if(!Jd(B,["Input","Select"]))return;const V=Jd(B,["Select"])?B.props.input:B;V&&uz(V.props)&&(P=!0)}),P}),[N,S]=x.useState(()=>{let P=!1;return i&&x.Children.forEach(i,B=>{Jd(B,["Input","Select"])&&(nh(B.props,!0)||nh(B.props.inputProps,!0))&&(P=!0)}),P}),[p,g]=x.useState(!1);c&&p&&g(!1);const b=f!==void 0&&!c?f:p;let O;const A=x.useMemo(()=>({adornedStart:k,setAdornedStart:M,color:o,disabled:c,error:u,filled:N,focused:b,fullWidth:h,hiddenLabel:m,size:w,onBlur:()=>{g(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{g(!0)},registerEffect:O,required:T,variant:I}),[k,o,c,u,N,b,h,m,O,T,w,I]);return l.jsx(qx.Provider,{value:A,children:l.jsx(UB,F({as:a,ownerState:v,className:Ne(_.root,s),ref:n},C,{children:i}))})});function WB(t){return ht("MuiFormHelperText",t)}const SS=ot("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ES;const HB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qB=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:c}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${Ue(r)}`,n&&"contained",a&&"focused",o&&"filled",c&&"required"]};return gt(u,WB,e)},KB=ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ue(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>F({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${SS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${SS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),GB=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ee(r,HB),c=vl(),u=yl({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),f=F({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=qB(f);return l.jsx(KB,F({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:i===" "?ES||(ES=l.jsx("span",{className:"notranslate",children:"​"})):i}))});function QB(t){return ht("MuiFormLabel",t)}const vc=ot("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),YB=["children","className","color","component","disabled","error","filled","focused","required"],XB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,c={root:["root",`color${Ue(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return gt(c,QB,e)},JB=ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>F({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>F({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${vc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${vc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${vc.error}`]:{color:(t.vars||t).palette.error.main}})),ZB=ke("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${vc.error}`]:{color:(t.vars||t).palette.error.main}})),eU=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ee(r,YB),c=vl(),u=yl({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),f=F({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=XB(f);return l.jsxs(JB,F({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:[i,u.required&&l.jsxs(ZB,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),TS=x.createContext();function tU(t){return ht("MuiGrid",t)}const nU=[0,1,2,3,4,5,6,7,8,9,10],rU=["column-reverse","column","row-reverse","row"],iU=["nowrap","wrap-reverse","wrap"],Fl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zc=ot("MuiGrid",["root","container","item","zeroMinWidth",...nU.map(t=>`spacing-xs-${t}`),...rU.map(t=>`direction-xs-${t}`),...iU.map(t=>`wrap-xs-${t}`),...Fl.map(t=>`grid-xs-${t}`),...Fl.map(t=>`grid-sm-${t}`),...Fl.map(t=>`grid-md-${t}`),...Fl.map(t=>`grid-lg-${t}`),...Fl.map(t=>`grid-xl-${t}`)]),sU=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Pa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function oU({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Tp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const c=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${c} + ${Pa(f)})`;u={flexBasis:h,maxWidth:h}}}s=F({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function aU({theme:t,ownerState:e}){const n=Tp({values:e.direction,breakpoints:t.breakpoints.values});return zr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Zc.item}`]={maxWidth:"none"}),i})}function pR({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function lU({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Tp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=pR({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Pa(f)}`,[`& > .${Zc.item}`]:{paddingTop:Pa(f)}}:(u=o)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${Zc.item}`]:{paddingTop:0}}})}return i}function cU({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Tp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=pR({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Pa(f)})`,marginLeft:`-${Pa(f)}`,[`& > .${Zc.item}`]:{paddingLeft:Pa(f)}}:(u=o)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Zc.item}`]:{paddingLeft:0}}})}return i}function uU(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const dU=ke("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:c,breakpoints:u}=n;let f=[];r&&(f=uU(o,u,e));const h=[];return u.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,s&&e.item,c&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>F({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),aU,lU,cU,oU);function fU(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const hU=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:c}=t;let u=[];n&&(u=fU(s,c));const f=[];c.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return gt(h,tU,e)},At=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiGrid"}),{breakpoints:i}=Bx(),s=Op(r),{className:o,columns:a,columnSpacing:c,component:u="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:T=0,wrap:w="wrap",zeroMinWidth:I=!1}=s,C=Ee(s,sU),v=E||T,_=c||T,k=x.useContext(TS),M=f?a||12:k,N={},S=F({},C);i.keys.forEach(b=>{C[b]!=null&&(N[b]=C[b],delete S[b])});const p=F({},s,{columns:M,container:f,direction:h,item:m,rowSpacing:v,columnSpacing:_,wrap:w,zeroMinWidth:I,spacing:T},N,{breakpoints:i.keys}),g=hU(p);return l.jsx(TS.Provider,{value:M,children:l.jsx(dU,F({ownerState:p,className:Ne(g.root,o),as:u,ref:n},S))})}),pU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function uv(t){return`scale(${t}, ${t**2})`}const mU={entering:{opacity:1,transform:uv(1)},entered:{opacity:1,transform:"none"}},cg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mR=x.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:c,onEntered:u,onEntering:f,onExit:h,onExited:m,onExiting:E,style:T,timeout:w="auto",TransitionComponent:I=ki}=e,C=Ee(e,pU),v=Vk(),_=x.useRef(),k=Bx(),M=x.useRef(null),N=An(M,Nu(s),n),S=V=>H=>{if(V){const q=M.current;H===void 0?V(q):V(q,H)}},p=S(f),g=S((V,H)=>{aR(V);const{duration:q,delay:L,easing:z}=th({style:T,timeout:w,easing:o},{mode:"enter"});let K;w==="auto"?(K=k.transitions.getAutoHeightDuration(V.clientHeight),_.current=K):K=q,V.style.transition=[k.transitions.create("opacity",{duration:K,delay:L}),k.transitions.create("transform",{duration:cg?K:K*.666,delay:L,easing:z})].join(","),c&&c(V,H)}),b=S(u),O=S(E),A=S(V=>{const{duration:H,delay:q,easing:L}=th({style:T,timeout:w,easing:o},{mode:"exit"});let z;w==="auto"?(z=k.transitions.getAutoHeightDuration(V.clientHeight),_.current=z):z=H,V.style.transition=[k.transitions.create("opacity",{duration:z,delay:q}),k.transitions.create("transform",{duration:cg?z:z*.666,delay:cg?q:q||z*.333,easing:L})].join(","),V.style.opacity=0,V.style.transform=uv(.75),h&&h(V)}),P=S(m),B=V=>{w==="auto"&&v.start(_.current||0,V),r&&r(M.current,V)};return l.jsx(I,F({appear:i,in:a,nodeRef:M,onEnter:g,onEntered:b,onEntering:p,onExit:A,onExited:P,onExiting:O,addEndListener:B,timeout:w==="auto"?null:w},C,{children:(V,H)=>x.cloneElement(s,F({style:F({opacity:0,transform:uv(.75),visibility:V==="exited"&&!a?"hidden":void 0},mU[V],T,s.props.style),ref:N},H))}))});mR.muiSupportAuto=!0;const gU=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],yU=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},mz,e);return F({},e,i)},vU=ke(Xp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Qp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),F({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$l.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$l.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$l.disabled}, .${$l.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${$l.disabled}:before`]:{borderBottomStyle:"dotted"}})}),xU=ke(Jp,{name:"MuiInput",slot:"Input",overridesResolver:Yp})({}),Qx=x.forwardRef(function(e,n){var r,i,s,o;const a=pt({props:e,name:"MuiInput"}),{disableUnderline:c,components:u={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:T,slots:w={},type:I="text"}=a,C=Ee(a,gU),v=yU(a),k={root:{ownerState:{disableUnderline:c}}},M=T??f?yr(T??f,k):k,N=(r=(i=w.root)!=null?i:u.Root)!=null?r:vU,S=(s=(o=w.input)!=null?o:u.Input)!=null?s:xU;return l.jsx(Kx,F({slots:{root:N,input:S},slotProps:M,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:I},C,{classes:v}))});Qx.muiName="Input";function bU(t){return ht("MuiInputLabel",t)}ot("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _U=["disableAnimation","margin","shrink","variant","className"],wU=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ue(r)}`,o],asterisk:[a&&"asterisk"]},u=gt(c,bU,e);return F({},e,u)},SU=ke(eU,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${vc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>F({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&F({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&F({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&F({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),EU=x.forwardRef(function(e,n){const r=pt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ee(r,_U),c=vl();let u=s;typeof u>"u"&&c&&(u=c.filled||c.focused||c.adornedStart);const f=yl({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),h=F({},r,{disableAnimation:i,formControl:c,shrink:u,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=wU(h);return l.jsx(SU,F({"data-shrink":u,ownerState:h,ref:n,className:Ne(m.root,o)},a,{classes:m}))}),dv=x.createContext({});function TU(t){return ht("MuiList",t)}ot("MuiList",["root","padding","dense","subheader"]);const CU=["children","className","component","dense","disablePadding","subheader"],IU=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return gt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},TU,e)},kU=ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>F({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),RU=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:c=!1,subheader:u}=r,f=Ee(r,CU),h=x.useMemo(()=>({dense:a}),[a]),m=F({},r,{component:o,dense:a,disablePadding:c}),E=IU(m);return l.jsx(dv.Provider,{value:h,children:l.jsxs(kU,F({as:o,className:Ne(E.root,s),ref:n,ownerState:m},f,{children:[u,i]}))})}),CS=ot("MuiListItemIcon",["root","alignItemsFlexStart"]),IS=ot("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),PU=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ug(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function kS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function gR(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Vl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!gR(a,s)||c)a=i(t,a,n);else return a.focus(),!0}return!1}const AU=x.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ee(e,PU),E=x.useRef(null),T=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ei(()=>{i&&E.current.focus()},[i]),x.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:k})=>{const M=!E.current.style.width;if(_.clientHeight<E.current.clientHeight&&M){const N=`${Bk(ar(_))}px`;E.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const w=_=>{const k=E.current,M=_.key,N=ar(k).activeElement;if(M==="ArrowDown")_.preventDefault(),Vl(k,N,u,c,ug);else if(M==="ArrowUp")_.preventDefault(),Vl(k,N,u,c,kS);else if(M==="Home")_.preventDefault(),Vl(k,null,u,c,ug);else if(M==="End")_.preventDefault(),Vl(k,null,u,c,kS);else if(M.length===1){const S=T.current,p=M.toLowerCase(),g=performance.now();S.keys.length>0&&(g-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&p!==S.keys[0]&&(S.repeating=!1)),S.lastTime=g,S.keys.push(p);const b=N&&!S.repeating&&gR(N,S);S.previousKeyMatched&&(b||Vl(k,N,!1,c,ug,S))?_.preventDefault():S.previousKeyMatched=!1}f&&f(_)},I=An(E,n);let C=-1;x.Children.forEach(o,(_,k)=>{if(!x.isValidElement(_)){C===k&&(C+=1,C>=o.length&&(C=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||C===-1)&&(C=k),C===k&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const v=x.Children.map(o,(_,k)=>{if(k===C){const M={};return s&&(M.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),x.cloneElement(_,M)}return _});return l.jsx(RU,F({role:"menu",ref:I,className:a,onKeyDown:w,tabIndex:i?0:-1},m,{children:v}))});function jU(t){return ht("MuiPopover",t)}ot("MuiPopover",["root","paper"]);const OU=["onEntering"],NU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],MU=["slotProps"];function RS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function PS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function AS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function dg(t){return typeof t=="function"?t():t}const LU=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"]},jU,e)},DU=ke(PB,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),yR=ke(gl,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),$U=x.forwardRef(function(e,n){var r,i,s;const o=pt({props:e,name:"MuiPopover"}),{action:a,anchorEl:c,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:T,elevation:w=8,marginThreshold:I=16,open:C,PaperProps:v={},slots:_,slotProps:k,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=mR,transitionDuration:S="auto",TransitionProps:{onEntering:p}={},disableScrollLock:g=!1}=o,b=Ee(o.TransitionProps,OU),O=Ee(o,NU),A=(r=k==null?void 0:k.paper)!=null?r:v,P=x.useRef(),B=An(P,A.ref),V=F({},o,{anchorOrigin:u,anchorReference:h,elevation:w,marginThreshold:I,externalPaperSlotProps:A,transformOrigin:M,TransitionComponent:N,transitionDuration:S,TransitionProps:b}),H=LU(V),q=x.useCallback(()=>{if(h==="anchorPosition")return f;const pe=dg(c),ve=(pe&&pe.nodeType===1?pe:ar(P.current).body).getBoundingClientRect();return{top:ve.top+RS(ve,u.vertical),left:ve.left+PS(ve,u.horizontal)}},[c,u.horizontal,u.vertical,f,h]),L=x.useCallback(pe=>({vertical:RS(pe,M.vertical),horizontal:PS(pe,M.horizontal)}),[M.horizontal,M.vertical]),z=x.useCallback(pe=>{const ge={width:pe.offsetWidth,height:pe.offsetHeight},ve=L(ge);if(h==="none")return{top:null,left:null,transformOrigin:AS(ve)};const be=q();let Je=be.top-ve.vertical,_e=be.left-ve.horizontal;const ze=Je+ge.height,Ae=_e+ge.width,Xe=Us(dg(c)),at=Xe.innerHeight-I,dt=Xe.innerWidth-I;if(I!==null&&Je<I){const De=Je-I;Je-=De,ve.vertical+=De}else if(I!==null&&ze>at){const De=ze-at;Je-=De,ve.vertical+=De}if(I!==null&&_e<I){const De=_e-I;_e-=De,ve.horizontal+=De}else if(Ae>dt){const De=Ae-dt;_e-=De,ve.horizontal+=De}return{top:`${Math.round(Je)}px`,left:`${Math.round(_e)}px`,transformOrigin:AS(ve)}},[c,h,q,L,I]),[K,$]=x.useState(C),U=x.useCallback(()=>{const pe=P.current;if(!pe)return;const ge=z(pe);ge.top!==null&&(pe.style.top=ge.top),ge.left!==null&&(pe.style.left=ge.left),pe.style.transformOrigin=ge.transformOrigin,$(!0)},[z]);x.useEffect(()=>(g&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[c,g,U]);const Q=(pe,ge)=>{p&&p(pe,ge),U()},X=()=>{$(!1)};x.useEffect(()=>{C&&U()}),x.useImperativeHandle(a,()=>C?{updatePosition:()=>{U()}}:null,[C,U]),x.useEffect(()=>{if(!C)return;const pe=Lx(()=>{U()}),ge=Us(c);return ge.addEventListener("resize",pe),()=>{pe.clear(),ge.removeEventListener("resize",pe)}},[c,C,U]);let oe=S;S==="auto"&&!N.muiSupportAuto&&(oe=void 0);const ue=T||(c?ar(dg(c)).body:void 0),G=(i=_==null?void 0:_.root)!=null?i:DU,ee=(s=_==null?void 0:_.paper)!=null?s:yR,W=Ya({elementType:ee,externalSlotProps:F({},A,{style:K?A.style:F({},A.style,{opacity:0})}),additionalProps:{elevation:w,ref:B},ownerState:V,className:Ne(H.paper,A==null?void 0:A.className)}),ae=Ya({elementType:G,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ue,open:C},ownerState:V,className:Ne(H.root,E)}),{slotProps:te}=ae,ie=Ee(ae,MU);return l.jsx(G,F({},ie,!Xf(G)&&{slotProps:te,disableScrollLock:g},{children:l.jsx(N,F({appear:!0,in:C,onEntering:Q,onExited:X,timeout:oe},b,{children:l.jsx(ee,F({},W,{children:m}))}))}))});function FU(t){return ht("MuiMenu",t)}ot("MuiMenu",["root","paper","list"]);const VU=["onEntering"],zU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],BU={vertical:"top",horizontal:"right"},UU={vertical:"top",horizontal:"left"},WU=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"],list:["list"]},FU,e)},HU=ke($U,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qU=ke(yR,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),KU=ke(AU,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),GU=x.forwardRef(function(e,n){var r,i;const s=pt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:c,disableAutoFocusItem:u=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:T,transitionDuration:w="auto",TransitionProps:{onEntering:I}={},variant:C="selectedMenu",slots:v={},slotProps:_={}}=s,k=Ee(s.TransitionProps,VU),M=Ee(s,zU),N=N8(),S=F({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:f,onEntering:I,PaperProps:E,transitionDuration:w,TransitionProps:k,variant:C}),p=WU(S),g=o&&!u&&m,b=x.useRef(null),O=(L,z)=>{b.current&&b.current.adjustStyleForScrollbar(L,{direction:N?"rtl":"ltr"}),I&&I(L,z)},A=L=>{L.key==="Tab"&&(L.preventDefault(),h&&h(L,"tabKeyDown"))};let P=-1;x.Children.map(a,(L,z)=>{x.isValidElement(L)&&(L.props.disabled||(C==="selectedMenu"&&L.props.selected||P===-1)&&(P=z))});const B=(r=v.paper)!=null?r:qU,V=(i=_.paper)!=null?i:E,H=Ya({elementType:v.root,externalSlotProps:_.root,ownerState:S,className:[p.root,c]}),q=Ya({elementType:B,externalSlotProps:V,ownerState:S,className:p.paper});return l.jsx(HU,F({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?BU:UU,slots:{paper:B,root:v.root},slotProps:{root:H,paper:q},open:m,ref:n,transitionDuration:w,TransitionProps:F({onEntering:O},k),ownerState:S},M,{classes:T,children:l.jsx(KU,F({onKeyDown:A,actions:b,autoFocus:o&&(P===-1||u),autoFocusItem:g,variant:C},f,{className:Ne(p.list,f.className),children:a}))}))});function QU(t){return ht("MuiMenuItem",t)}const zl=ot("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),YU=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],XU=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},JU=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,c=gt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},QU,o);return F({},o,c)},ZU=ke(Hx,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:XU})(({theme:t,ownerState:e})=>F({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:pr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${zl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:pr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${zl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:pr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:pr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${zl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${wS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${wS.inset}`]:{marginLeft:52},[`& .${IS.root}`]:{marginTop:0,marginBottom:0},[`& .${IS.inset}`]:{paddingLeft:36},[`& .${CS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&F({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${CS.root} svg`]:{fontSize:"1.25rem"}}))),jS=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:f="menuitem",tabIndex:h,className:m}=r,E=Ee(r,YU),T=x.useContext(dv),w=x.useMemo(()=>({dense:o||T.dense||!1,disableGutters:c}),[T.dense,o,c]),I=x.useRef(null);Ei(()=>{i&&I.current&&I.current.focus()},[i]);const C=F({},r,{dense:w.dense,divider:a,disableGutters:c}),v=JU(r),_=An(I,n);let k;return r.disabled||(k=h!==void 0?h:-1),l.jsx(dv.Provider,{value:w,children:l.jsx(ZU,F({ref:_,role:f,tabIndex:k,component:s,focusVisibleClassName:Ne(v.focusVisible,u),className:Ne(v.root,m)},E,{ownerState:C,classes:v}))})});function eW(t){return ht("MuiNativeSelect",t)}const Yx=ot("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tW=["className","disabled","error","IconComponent","inputRef","variant"],nW=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ue(n)}`,s&&"iconOpen",r&&"disabled"]};return gt(a,eW,e)},vR=({ownerState:t,theme:e})=>F({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":F({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Yx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),rW=ke("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Yx.multiple}`]:e.multiple}]}})(vR),xR=({ownerState:t,theme:e})=>F({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Yx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),iW=ke("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})(xR),sW=x.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:c="standard"}=e,u=Ee(e,tW),f=F({},e,{disabled:i,variant:c,error:s}),h=nW(f);return l.jsxs(x.Fragment,{children:[l.jsx(rW,F({ownerState:f,className:Ne(h.select,r),disabled:i,ref:a||n},u)),e.multiple?null:l.jsx(iW,{as:o,ownerState:f,className:h.icon})]})});var OS;const oW=["children","classes","className","label","notched"],aW=ke("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),lW=ke("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qr})(({ownerState:t,theme:e})=>F({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&F({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function cW(t){const{className:e,label:n,notched:r}=t,i=Ee(t,oW),s=n!=null&&n!=="",o=F({},t,{notched:r,withLabel:s});return l.jsx(aW,F({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(lW,{ownerState:o,children:s?l.jsx("span",{children:n}):OS||(OS=l.jsx("span",{className:"notranslate",children:"​"}))})}))}const uW=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],dW=t=>{const{classes:e}=t,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gz,e);return F({},e,r)},fW=ke(Xp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return F({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ps.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ps.focused} .${ps.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ps.error} .${ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ps.disabled} .${ps.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&F({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),hW=ke(cW,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),pW=ke(Jp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Yp})(({theme:t,ownerState:e})=>F({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Xx=x.forwardRef(function(e,n){var r,i,s,o,a;const c=pt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:T,slots:w={},type:I="text"}=c,C=Ee(c,uW),v=dW(c),_=vl(),k=yl({props:c,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=F({},c,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:_,fullWidth:f,hiddenLabel:k.hiddenLabel,multiline:E,size:k.size,type:I}),N=(r=(i=w.root)!=null?i:u.Root)!=null?r:fW,S=(s=(o=w.input)!=null?o:u.Input)!=null?s:pW;return l.jsx(Kx,F({slots:{root:N,input:S},renderSuffix:p=>l.jsx(hW,{ownerState:M,className:v.notchedOutline,label:m!=null&&m!==""&&k.required?a||(a=l.jsxs(x.Fragment,{children:[m," ","*"]})):m,notched:typeof T<"u"?T:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:I},C,{classes:F({},v,{notchedOutline:null})}))});Xx.muiName="Input";function mW(t){return ht("MuiSelect",t)}const Bl=ot("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var NS;const gW=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],yW=ke("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Bl.select}`]:e.select},{[`&.${Bl.select}`]:e[n.variant]},{[`&.${Bl.error}`]:e.error},{[`&.${Bl.multiple}`]:e.multiple}]}})(vR,{[`&.${Bl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),vW=ke("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ue(n.variant)}`],n.open&&e.iconOpen]}})(xR),xW=ke("input",{shouldForwardProp:t=>sR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function MS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function bW(t){return t==null||typeof t=="string"&&!t.trim()}const _W=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ue(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(a,mW,e)},wW=x.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:c,className:u,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:T=!1,IconComponent:w,inputRef:I,labelId:C,MenuProps:v={},multiple:_,name:k,onBlur:M,onChange:N,onClose:S,onFocus:p,onOpen:g,open:b,readOnly:O,renderValue:A,SelectDisplayProps:P={},tabIndex:B,value:V,variant:H="standard"}=e,q=Ee(e,gW),[L,z]=Zy({controlled:V,default:h,name:"Select"}),[K,$]=Zy({controlled:b,default:f,name:"Select"}),U=x.useRef(null),Q=x.useRef(null),[X,oe]=x.useState(null),{current:ue}=x.useRef(b!=null),[G,ee]=x.useState(),W=An(n,I),ae=x.useCallback(we=>{Q.current=we,we&&oe(we)},[]),te=X==null?void 0:X.parentNode;x.useImperativeHandle(W,()=>({focus:()=>{Q.current.focus()},node:U.current,value:L}),[L]),x.useEffect(()=>{f&&K&&X&&!ue&&(ee(a?null:te.clientWidth),Q.current.focus())},[X,a]),x.useEffect(()=>{o&&Q.current.focus()},[o]),x.useEffect(()=>{if(!C)return;const we=ar(Q.current).getElementById(C);if(we){const rt=()=>{getSelection().isCollapsed&&Q.current.focus()};return we.addEventListener("click",rt),()=>{we.removeEventListener("click",rt)}}},[C]);const ie=(we,rt)=>{we?g&&g(rt):S&&S(rt),ue||(ee(a?null:te.clientWidth),$(we))},pe=we=>{we.button===0&&(we.preventDefault(),Q.current.focus(),ie(!0,we))},ge=we=>{ie(!1,we)},ve=x.Children.toArray(c),be=we=>{const rt=ve.find(Ge=>Ge.props.value===we.target.value);rt!==void 0&&(z(rt.props.value),N&&N(we,rt))},Je=we=>rt=>{let Ge;if(rt.currentTarget.hasAttribute("tabindex")){if(_){Ge=Array.isArray(L)?L.slice():[];const Cr=L.indexOf(we.props.value);Cr===-1?Ge.push(we.props.value):Ge.splice(Cr,1)}else Ge=we.props.value;if(we.props.onClick&&we.props.onClick(rt),L!==Ge&&(z(Ge),N)){const Cr=rt.nativeEvent||rt,as=new Cr.constructor(Cr.type,Cr);Object.defineProperty(as,"target",{writable:!0,value:{value:Ge,name:k}}),N(as,we)}_||ie(!1,rt)}},_e=we=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),ie(!0,we))},ze=X!==null&&K,Ae=we=>{!ze&&M&&(Object.defineProperty(we,"target",{writable:!0,value:{value:L,name:k}}),M(we))};delete q["aria-invalid"];let Xe,at;const dt=[];let De=!1;(nh({value:L})||E)&&(A?Xe=A(L):De=!0);const xt=ve.map(we=>{if(!x.isValidElement(we))return null;let rt;if(_){if(!Array.isArray(L))throw new Error(Ao(2));rt=L.some(Ge=>MS(Ge,we.props.value)),rt&&De&&dt.push(we.props.children)}else rt=MS(L,we.props.value),rt&&De&&(at=we.props.children);return x.cloneElement(we,{"aria-selected":rt?"true":"false",onClick:Je(we),onKeyUp:Ge=>{Ge.key===" "&&Ge.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(Ge)},role:"option",selected:rt,value:void 0,"data-value":we.props.value})});De&&(_?dt.length===0?Xe=null:Xe=dt.reduce((we,rt,Ge)=>(we.push(rt),Ge<dt.length-1&&we.push(", "),we),[]):Xe=at);let Pe=G;!a&&ue&&X&&(Pe=te.clientWidth);let He;typeof B<"u"?He=B:He=m?null:0;const $e=P.id||(k?`mui-component-select-${k}`:void 0),Te=F({},e,{variant:H,value:L,open:ze,error:T}),wt=_W(Te),Pt=F({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Ze=Wp();return l.jsxs(x.Fragment,{children:[l.jsx(yW,F({ref:ae,tabIndex:He,role:"combobox","aria-controls":Ze,"aria-disabled":m?"true":void 0,"aria-expanded":ze?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:_e,onMouseDown:m||O?null:pe,onBlur:Ae,onFocus:p},P,{ownerState:Te,className:Ne(P.className,wt.select,u),id:$e,children:bW(Xe)?NS||(NS=l.jsx("span",{className:"notranslate",children:"​"})):Xe})),l.jsx(xW,F({"aria-invalid":T,value:Array.isArray(L)?L.join(","):L,name:k,ref:U,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:m,className:wt.nativeInput,autoFocus:o,ownerState:Te},q)),l.jsx(vW,{as:w,className:wt.icon,ownerState:Te}),l.jsx(GU,F({id:`menu-${k||""}`,anchorEl:te,open:ze,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:F({"aria-labelledby":C,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Ze},v.MenuListProps),slotProps:F({},v.slotProps,{paper:F({},Pt,{style:F({minWidth:Pe},Pt!=null?Pt.style:null)})}),children:xt}))]})}),SW=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],EW=["root"],TW=t=>{const{classes:e}=t;return e},Jx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qr(t)&&t!=="variant",slot:"Root"},CW=ke(Qx,Jx)(""),IW=ke(Xx,Jx)(""),kW=ke(Gx,Jx)(""),Zx=x.forwardRef(function(e,n){const r=pt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:f=vz,id:h,input:m,inputProps:E,label:T,labelId:w,MenuProps:I,multiple:C=!1,native:v=!1,onClose:_,onOpen:k,open:M,renderValue:N,SelectDisplayProps:S,variant:p="outlined"}=r,g=Ee(r,SW),b=v?sW:wW,O=vl(),A=yl({props:r,muiFormControl:O,states:["variant","error"]}),P=A.variant||p,B=F({},r,{variant:P,classes:o}),V=TW(B),H=Ee(V,EW),q=m||{standard:l.jsx(CW,{ownerState:B}),outlined:l.jsx(IW,{label:T,ownerState:B}),filled:l.jsx(kW,{ownerState:B})}[P],L=An(n,Nu(q));return l.jsx(x.Fragment,{children:x.cloneElement(q,F({inputComponent:b,inputProps:F({children:s,error:A.error,IconComponent:f,variant:P,type:void 0,multiple:C},v?{id:h}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:w,MenuProps:I,onClose:_,onOpen:k,open:M,renderValue:N,SelectDisplayProps:F({id:h},S)},E,{classes:E?yr(H,E.classes):H},m?m.props.inputProps:{})},(C&&v||u)&&P==="outlined"?{notched:!0}:{},{ref:L,className:Ne(q.props.className,a,V.root)},!m&&{variant:P},g))})});Zx.muiName="Select";function RW(t){return ht("MuiToolbar",t)}ot("MuiToolbar",["root","gutters","regular","dense"]);const PW=["className","component","disableGutters","variant"],AW=t=>{const{classes:e,disableGutters:n,variant:r}=t;return gt({root:["root",!n&&"gutters",r]},RW,e)},jW=ke("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>F({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),OW=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,c=Ee(r,PW),u=F({},r,{component:s,disableGutters:o,variant:a}),f=AW(u);return l.jsx(jW,F({as:s,className:Ne(f.root,i),ref:n,ownerState:u},c))});function NW(t){return ht("MuiTextField",t)}ot("MuiTextField",["root"]);const MW=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],LW={standard:Qx,filled:Gx,outlined:Xx},DW=t=>{const{classes:e}=t;return gt({root:["root"]},NW,e)},$W=ke(hR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Fn=x.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:c="primary",defaultValue:u,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:T,id:w,InputLabelProps:I,inputProps:C,InputProps:v,inputRef:_,label:k,maxRows:M,minRows:N,multiline:S=!1,name:p,onBlur:g,onChange:b,onFocus:O,placeholder:A,required:P=!1,rows:B,select:V=!1,SelectProps:H,type:q,value:L,variant:z="outlined"}=r,K=Ee(r,MW),$=F({},r,{autoFocus:s,color:c,disabled:f,error:h,fullWidth:E,multiline:S,required:P,select:V,variant:z}),U=DW($),Q={};z==="outlined"&&(I&&typeof I.shrink<"u"&&(Q.notched=I.shrink),Q.label=k),V&&((!H||!H.native)&&(Q.id=void 0),Q["aria-describedby"]=void 0);const X=Wp(w),oe=T&&X?`${X}-helper-text`:void 0,ue=k&&X?`${X}-label`:void 0,G=LW[z],ee=l.jsx(G,F({"aria-describedby":oe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:E,multiline:S,name:p,rows:B,maxRows:M,minRows:N,type:q,value:L,id:X,inputRef:_,onBlur:g,onChange:b,onFocus:O,placeholder:A,inputProps:C},Q,v));return l.jsxs($W,F({className:Ne(U.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:P,color:c,variant:z,ownerState:$},K,{children:[k!=null&&k!==""&&l.jsx(EU,F({htmlFor:X,id:ue},I,{children:k})),V?l.jsx(Zx,F({"aria-describedby":oe,id:X,labelId:ue,value:L,input:ee},H,{children:o})):ee,T&&l.jsx(GB,F({id:oe},m,{children:T}))]}))});function FW(){return x.useEffect(()=>{if(!document.getElementById("about-shine-style")){const t=document.createElement("style");t.id="about-shine-style",t.innerHTML=`
        .about-shine-effect {
          position: relative;
          overflow: hidden;
        }
        .about-shine-effect::after {
          content: '';
          position: absolute;
          top: 0;
          left: -80px;
          width: 54px;
          height: 100%;
          background: linear-gradient(120deg, transparent 55%, rgba(255,255,255,0.32) 75%, rgba(255,255,255,0.18) 90%, transparent 100%);
          pointer-events: none;
          animation: about-shine-sweep 2.8s cubic-bezier(.4,1.6,.6,1) infinite;
          opacity: 0.95;
          filter: blur(0.5px);
        }
        @keyframes about-shine-sweep {
          0% { left: -80px; opacity: 0.18; }
          10% { opacity: 0.32; }
          40% { left: 100%; opacity: 0.18; }
          100% { left: 100%; opacity: 0; }
        }
      `,document.head.appendChild(t)}},[]),l.jsx(dR,{maxWidth:"md",sx:{py:6},children:l.jsxs(gl,{elevation:3,className:"about-shine-effect",sx:{p:{xs:2,sm:4},borderRadius:4,background:"#f8fafc",position:"relative",overflow:"hidden"},children:[l.jsx(Oe,{variant:"h4",fontWeight:700,align:"center",sx:{color:"#D5007D"},children:"About PharmaStackX: The Fulfillment Engine"}),l.jsx(Oe,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Mission: Closing Africa's Access Gap."}),l.jsx(Oe,{paragraph:!0,children:"PharmaStackX is building the essential digital infrastructure required for modern healthcare in Africa. Our mission is to end the devastating public health problem caused by inventory invisibility. When a patient needs life-saving medication, they should never be turned away. We achieve this by transforming every local community pharmacy into a node of a real-time fulfillment network."}),l.jsx(Oe,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"The Problem We Solve"}),l.jsx(Oe,{paragraph:!0,children:"The challenge is not a lack of medicine; it is a lack of information. Patients, doctors, and hospitals suffer devastating delays when they cannot confirm stock levels before making a purchase. This stock-out gap is a logistical crisis that leads to wasted time, lost revenue for pharmacists, and poor patient outcomes."}),l.jsx(Oe,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Solution: The Intelligent Fulfillment Stack"}),l.jsx(Oe,{paragraph:!0,children:"PharmaStackX is not just a directory; we are a technology stack that guarantees reliability through data and automation."}),l.jsxs(Oe,{paragraph:!0,children:[l.jsx("b",{children:"For the Patient:"})," We provide guaranteed, real-time access to essential and scarce medicines with urgent fulfillment powered by unique model."]}),l.jsxs(Oe,{paragraph:!0,children:[l.jsx("b",{children:"For the Pharmacist:"})," We automate growth and eliminate the burden of manual work. We provide a free, branded online store and leverage technology to guarantee immediate stock accuracy. This unlocks a consistent pipeline of high-value, exclusive customer orders, giving the pharmacy the competitive edge and reliability needed for long-term growth."]}),l.jsxs(Oe,{paragraph:!0,children:[l.jsx("b",{children:"For the Sector:"})," We generate the first reliable, Demand and Scarcity Data for the Nigerian pharmaceutical market, providing the insight necessary for manufacturers and policymakers to stabilize the supply chain."]}),l.jsx(Oe,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Vision"}),l.jsx(Oe,{paragraph:!0,children:"We are committed to building the most reliable and data-rich platform for medicine fulfillment, turning every pharmacy in Africa into a digitally empowered, reliable access point. We are building the future of African health, one fulfilled prescription at a time."})]})})}var bR={},_R={},Zp={},wR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(wR);var VW="Expected a function",LS=NaN,zW="[object Symbol]",BW=/^\s+|\s+$/g,UW=/^[-+]0x[0-9a-f]+$/i,WW=/^0b[01]+$/i,HW=/^0o[0-7]+$/i,qW=parseInt,KW=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul,GW=typeof self=="object"&&self&&self.Object===Object&&self,QW=KW||GW||Function("return this")(),YW=Object.prototype,XW=YW.toString,JW=Math.max,ZW=Math.min,fg=function(){return QW.Date.now()};function e7(t,e,n){var r,i,s,o,a,c,u=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(VW);e=DS(e)||0,fv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?JW(DS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(N){var S=r,p=i;return r=i=void 0,u=N,o=t.apply(p,S),o}function T(N){return u=N,a=setTimeout(C,e),f?E(N):o}function w(N){var S=N-c,p=N-u,g=e-S;return h?ZW(g,s-p):g}function I(N){var S=N-c,p=N-u;return c===void 0||S>=e||S<0||h&&p>=s}function C(){var N=fg();if(I(N))return v(N);a=setTimeout(C,w(N))}function v(N){return a=void 0,m&&r?E(N):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function k(){return a===void 0?o:v(fg())}function M(){var N=fg(),S=I(N);if(r=arguments,i=this,c=N,S){if(a===void 0)return T(c);if(h)return a=setTimeout(C,e),E(c)}return a===void 0&&(a=setTimeout(C,e)),o}return M.cancel=_,M.flush=k,M}function fv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function t7(t){return!!t&&typeof t=="object"}function n7(t){return typeof t=="symbol"||t7(t)&&XW.call(t)==zW}function DS(t){if(typeof t=="number")return t;if(n7(t))return LS;if(fv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(BW,"");var n=WW.test(t);return n||HW.test(t)?qW(t.slice(2),n?2:8):UW.test(t)?LS:+t}var r7=e7,SR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(SR);var em=SR.exports,he={},eb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(x);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(eb);Object.defineProperty(he,"__esModule",{value:!0});he.checkSpecKeys=he.checkNavigable=he.changeSlide=he.canUseDOM=he.canGoNext=void 0;he.clamp=TR;he.extractObject=void 0;he.filterSettings=v7;he.validSettings=he.swipeStart=he.swipeMove=he.swipeEnd=he.slidesOnRight=he.slidesOnLeft=he.slideHandler=he.siblingDirection=he.safePreventDefault=he.lazyStartIndex=he.lazySlidesOnRight=he.lazySlidesOnLeft=he.lazyEndIndex=he.keyHandler=he.initializedState=he.getWidth=he.getTrackLeft=he.getTrackCSS=he.getTrackAnimateCSS=he.getTotalSlides=he.getSwipeDirection=he.getSlideCount=he.getRequiredLazySlides=he.getPreClones=he.getPostClones=he.getOnDemandLazySlides=he.getNavigableIndexes=he.getHeight=void 0;var i7=ER(x),s7=ER(eb);function ER(t){return t&&t.__esModule?t:{default:t}}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){o7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o7(t,e,n){return(e=a7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a7(t){var e=l7(t,"string");return eu(e)=="symbol"?e:e+""}function l7(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TR(t,e,n){return Math.max(e,Math.min(t,n))}var Aa=he.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},CR=he.getOnDemandLazySlides=function(e){for(var n=[],r=IR(e),i=kR(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};he.getRequiredLazySlides=function(e){for(var n=[],r=IR(e),i=kR(e),s=r;s<i;s++)n.push(s);return n};var IR=he.lazyStartIndex=function(e){return e.currentSlide-c7(e)},kR=he.lazyEndIndex=function(e){return e.currentSlide+u7(e)},c7=he.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},u7=he.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},hv=he.getWidth=function(e){return e&&e.offsetWidth||0},RR=he.getHeight=function(e){return e&&e.offsetHeight||0},PR=he.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},AR=he.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};he.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};he.initializedState=function(e){var n=i7.default.Children.count(e.children),r=e.listRef,i=Math.ceil(hv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(hv(s)),a;if(e.vertical)a=i;else{var c=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(c*=i/100),a=Math.ceil((i-c)/e.slidesToShow)}var u=r&&RR(r.querySelector('[data-index="0"]')),f=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=CR($t($t({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var T={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:u,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(T.autoplaying="playing"),T};he.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,c=e.lazyLoad,u=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,T=e.lazyLoadedList;if(n&&r)return{};var w=o,I,C,v,_={},k={},M=s?o:TR(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?w=o+a:o>=a&&(w=o-a),c&&T.indexOf(w)<0&&(T=T.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:T,targetSlide:w},k={animating:!1,targetSlide:w}}else I=w,w<0?(I=w+a,s?a%h!==0&&(I=a-a%h):I=0):!AR(e)&&w>u?w=I=u:f&&w>=a?(w=s?a:a-1,I=s?0:a-1):w>=a&&(I=w-a,s?a%h!==0&&(I=0):I=a-m),!s&&w+m>=a&&(I=a-m),C=oh($t($t({},e),{},{slideIndex:w})),v=oh($t($t({},e),{},{slideIndex:I})),s||(C===v&&(w=I),C=v),c&&(T=T.concat(CR($t($t({},e),{},{currentSlide:w})))),E?(_={animating:!0,currentSlide:I,trackStyle:jR($t($t({},e),{},{left:C})),lazyLoadedList:T,targetSlide:M},k={animating:!1,currentSlide:I,trackStyle:sh($t($t({},e),{},{left:v})),swipeLeft:null,targetSlide:M}):_={currentSlide:I,trackStyle:sh($t($t({},e),{},{left:v})),lazyLoadedList:T,targetSlide:M};return{state:_,nextState:k}};he.changeSlide=function(e,n){var r,i,s,o,a,c=e.slidesToScroll,u=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,T=e.infinite;if(o=f%c!==0,r=o?0:(f-h)%c,n.message==="previous")s=r===0?c:u-r,a=h-s,E&&!T&&(i=h-s,a=i===-1?f-1:i),T||(a=m-c);else if(n.message==="next")s=r===0?c:r,a=h+s,E&&!T&&(a=(h+c)%f+r),T||(a=m+c);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,T){var w=p7($t($t({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-f:a<n.currentSlide&&w==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};he.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};he.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Aa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};he.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,c=n.rtl,u=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,T=n.swiping,w=n.slideCount,I=n.slidesToScroll,C=n.infinite,v=n.touchObject,_=n.swipeEvent,k=n.listHeight,M=n.listWidth;if(!r){if(i)return Aa(e);s&&o&&a&&Aa(e);var N,S={},p=oh(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var g=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!T&&g>10)return{scrolling:!0};a&&(v.swipeLength=g);var b=(c?-1:1)*(v.curX>v.startX?1:-1);a&&(b=v.curY>v.startY?1:-1);var O=Math.ceil(w/I),A=PR(n.touchObject,a),P=v.swipeLength;return C||(u===0&&(A==="right"||A==="down")||u+1>=O&&(A==="left"||A==="up")||!AR(n)&&(A==="left"||A==="up"))&&(P=v.swipeLength*f,h===!1&&m&&(m(A),S.edgeDragged=!0)),!E&&_&&(_(A),S.swiped=!0),s?N=p+P*(k/M)*b:c?N=p-P*b:N=p+P*b,a&&(N=p+P*b),S=$t($t({},S),{},{touchObject:v,swipeLeft:N,trackStyle:sh($t($t({},n),{},{left:N}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(S.swiping=!0,Aa(e)),S}};he.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,c=n.verticalSwiping,u=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,T=n.currentSlide,w=n.infinite;if(!r)return i&&Aa(e),{};var I=c?u/a:o/a,C=PR(s,c),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>I){Aa(e),m&&m(C);var _,k,M=w?T:E;switch(C){case"left":case"up":k=M+VS(n),_=f?FS(n,k):k,v.currentDirection=0;break;case"right":case"down":k=M-VS(n),_=f?FS(n,k):k,v.currentDirection=1;break;default:_=M}v.triggerSlideHandler=_}else{var N=oh(n);v.trackStyle=jR($t($t({},n),{},{left:N}))}return v};var d7=he.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},FS=he.checkNavigable=function(e,n){var r=d7(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},VS=he.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(c){if(e.vertical){if(c.offsetTop+RR(c)/2>e.swipeLeft*-1)return r=c,!1}else if(c.offsetLeft-n+hv(c)/2>e.swipeLeft*-1)return r=c,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},tb=he.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},sh=he.getTrackCSS=function(e){tb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=h7(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=$t($t({},s),{},{WebkitTransform:o,transform:a,msTransform:c})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},jR=he.getTrackAnimateCSS=function(e){tb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=sh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},oh=he.getTrackLeft=function(e){if(e.unslick)return 0;tb(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,T=e.vertical,w=0,I,C,v=0;if(E||e.slideCount===1)return 0;var _=0;if(i?(_=-tf(e),o%c!==0&&n+c>o&&(_=-(n>o?a-(n-o):o%c)),s&&(_+=parseInt(a/2))):(o%c!==0&&n+c>o&&(_=a-o%c),s&&(_=parseInt(a/2))),w=_*u,v=_*m,T?I=n*m*-1+v:I=n*u*-1+w,h===!0){var k,M=r&&r.node;if(k=n+tf(e),C=M&&M.childNodes[k],I=C?C.offsetLeft*-1:0,s===!0){k=i?n+tf(e):n,C=M&&M.children[k],I=0;for(var N=0;N<k;N++)I-=M&&M.children[N]&&M.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=C&&(f-C.offsetWidth)/2}}return I},tf=he.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},f7=he.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},h7=he.getTotalSlides=function(e){return e.slideCount===1?1:tf(e)+e.slideCount+f7(e)},p7=he.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+m7(e)?"left":"right":e.targetSlide<e.currentSlide-g7(e)?"right":"left"},m7=he.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},g7=he.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};he.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var y7=he.validSettings=Object.keys(s7.default);function v7(t){return y7.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var tm={};Object.defineProperty(tm,"__esModule",{value:!0});tm.Track=void 0;var ys=OR(x),hg=OR(em),Td=he;function OR(t){return t&&t.__esModule?t:{default:t}}function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(null,arguments)}function x7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function _7(t,e,n){return e&&b7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mv(t,e)}function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mv(t,e)}function S7(t){var e=NR();return function(){var n,r=ah(t);if(e){var i=ah(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E7(this,n)}}function E7(t,e){if(e&&(Ja(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gv(t)}function gv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yv(t,e,n){return(e=MR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=T7(t,"string");return Ja(e)=="symbol"?e:e+""}function T7(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var c=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":c}},C7=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},mg=function(e,n){return e.key||n},I7=function(e){var n,r=[],i=[],s=[],o=ys.default.Children.count(e.children),a=(0,Td.lazyStartIndex)(e),c=(0,Td.lazyEndIndex)(e);return ys.default.Children.forEach(e.children,function(u,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=u:h=ys.default.createElement("div",null);var E=C7(er(er({},e),{},{index:f})),T=h.props.className||"",w=pg(er(er({},e),{},{index:f}));if(r.push(ys.default.cloneElement(h,{key:"original"+mg(h,f),"data-index":f,className:(0,hg.default)(w,T),tabIndex:"-1","aria-hidden":!w["slick-active"],style:er(er({outline:"none"},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Td.getPreClones)(e)&&(n=-I,n>=a&&(h=u),w=pg(er(er({},e),{},{index:n})),i.push(ys.default.cloneElement(h,{key:"precloned"+mg(h,n),"data-index":n,tabIndex:"-1",className:(0,hg.default)(w,T),"aria-hidden":!w["slick-active"],style:er(er({},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Td.getPostClones)(e)&&(n=o+f,n<c&&(h=u),w=pg(er(er({},e),{},{index:n})),s.push(ys.default.cloneElement(h,{key:"postcloned"+mg(h,n),"data-index":n,tabIndex:"-1",className:(0,hg.default)(w,T),"aria-hidden":!w["slick-active"],style:er(er({},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};tm.Track=function(t){w7(n,t);var e=S7(n);function n(){var r;x7(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),yv(gv(r),"node",null),yv(gv(r),"handleRef",function(a){r.node=a}),r}return _7(n,[{key:"render",value:function(){var i=I7(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,c=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:c};return ys.default.createElement("div",pv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(ys.default.PureComponent);var nm={};function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}Object.defineProperty(nm,"__esModule",{value:!0});nm.Dots=void 0;var Cd=LR(x),k7=LR(em),BS=he;function LR(t){return t&&t.__esModule?t:{default:t}}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){P7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P7(t,e,n){return(e=DR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function O7(t,e,n){return e&&j7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DR(t){var e=N7(t,"string");return Za(e)=="symbol"?e:e+""}function N7(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vv(t,e)}function L7(t){var e=$R();return function(){var n,r=lh(t);if(e){var i=lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D7(this,n)}}function D7(t,e){if(e&&(Za(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7(t)}function $7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($R=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}var F7=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};nm.Dots=function(t){M7(n,t);var e=L7(n);function n(){return A7(this,n),e.apply(this,arguments)}return O7(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,c=i.infinite,u=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=F7({slideCount:h,slidesToScroll:u,slidesToShow:f,infinite:c}),T={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},w=[],I=0;I<E;I++){var C=(I+1)*u-1,v=c?C:(0,BS.clamp)(C,0,h-1),_=v-(u-1),k=c?_:(0,BS.clamp)(_,0,h-1),M=(0,k7.default)({"slick-active":c?m>=k&&m<=v:m===k}),N={message:"dots",index:I,slidesToScroll:u,currentSlide:m},S=this.clickHandler.bind(this,N);w=w.concat(Cd.default.createElement("li",{key:I,className:M},Cd.default.cloneElement(this.props.customPaging(I),{onClick:S})))}return Cd.default.cloneElement(this.props.appendDots(w),R7({className:this.props.dotsClass},T))}}]),n}(Cd.default.PureComponent);var el={};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}Object.defineProperty(el,"__esModule",{value:!0});el.PrevArrow=el.NextArrow=void 0;var ja=VR(x),FR=VR(em),V7=he;function VR(t){return t&&t.__esModule?t:{default:t}}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7(t,e,n){return(e=UR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function BR(t,e,n){return e&&B7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UR(t){var e=U7(t,"string");return tl(e)=="symbol"?e:e+""}function U7(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xv(t,e)}function xv(t,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xv(t,e)}function HR(t){var e=qR();return function(){var n,r=dh(t);if(e){var i=dh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W7(this,n)}}function W7(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H7(t)}function H7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}el.PrevArrow=function(t){WR(n,t);var e=HR(n);function n(){return zR(this,n),e.apply(this,arguments)}return BR(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,FR.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=ja.default.cloneElement(this.props.prevArrow,uh(uh({},o),a)):c=ja.default.createElement("button",ch({key:"0",type:"button"},o)," ","Previous"),c}}]),n}(ja.default.PureComponent);el.NextArrow=function(t){WR(n,t);var e=HR(n);function n(){return zR(this,n),e.apply(this,arguments)}return BR(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,V7.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,FR.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=ja.default.cloneElement(this.props.nextArrow,uh(uh({},o),a)):c=ja.default.createElement("button",ch({key:"1",type:"button"},o)," ","Next"),c}}]),n}(ja.default.PureComponent);var KR=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),bv=typeof window<"u"&&typeof document<"u"&&window.document===document,fh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),q7=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(fh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),K7=2;function G7(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){q7(s)}function a(){var c=Date.now();if(n){if(c-i<K7)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=c}return a}var Q7=20,Y7=["top","right","bottom","left","width","height","size","weight"],X7=typeof MutationObserver<"u",J7=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=G7(this.refresh.bind(this),Q7)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!bv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),X7?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!bv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Y7.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),GR=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},nl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||fh},QR=rm(0,0,0,0);function hh(t){return parseFloat(t)||0}function HS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+hh(s)},0)}function Z7(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=hh(o)}return n}function eH(t){var e=t.getBBox();return rm(0,0,e.width,e.height)}function tH(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return QR;var r=nl(t).getComputedStyle(t),i=Z7(r),s=i.left+i.right,o=i.top+i.bottom,a=hh(r.width),c=hh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=HS(r,"left","right")+s),Math.round(c+o)!==n&&(c-=HS(r,"top","bottom")+o)),!rH(t)){var u=Math.round(a+s)-e,f=Math.round(c+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(c-=f)}return rm(i.left,i.top,a,c)}var nH=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof nl(t).SVGGraphicsElement}:function(t){return t instanceof nl(t).SVGElement&&typeof t.getBBox=="function"}}();function rH(t){return t===nl(t).document.documentElement}function iH(t){return bv?nH(t)?eH(t):tH(t):QR}function sH(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return GR(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function rm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var oH=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=iH(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),aH=function(){function t(e,n){var r=sH(n);GR(this,{target:e,contentRect:r})}return t}(),lH=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new KR,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new oH(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new aH(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),YR=typeof WeakMap<"u"?new WeakMap:new KR,XR=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=J7.getInstance(),r=new lH(e,n,this);YR.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){XR.prototype[t]=function(){var e;return(e=YR.get(this))[t].apply(e,arguments)}});var cH=function(){return typeof fh.ResizeObserver<"u"?fh.ResizeObserver:XR}();const uH=Object.freeze(Object.defineProperty({__proto__:null,default:cH},Symbol.toStringTag,{value:"Module"})),dH=Ti(uH);Object.defineProperty(Zp,"__esModule",{value:!0});Zp.InnerSlider=void 0;var Kn=Lu(x),fH=Lu(wR),hH=Lu(r7),pH=Lu(em),zt=he,mH=tm,gH=nm,qS=el,yH=Lu(dH);function Lu(t){return t&&t.__esModule?t:{default:t}}function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(null,arguments)}function vH(t,e){if(t==null)return{};var n,r,i=xH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function wH(t,e,n){return e&&_H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_v(t,e)}function EH(t){var e=JR();return function(){var n,r=mh(t);if(e){var i=mh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TH(this,n)}}function TH(t,e){if(e&&(jo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(t)}function tt(t,e,n){return(e=ZR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=CH(t,"string");return jo(e)=="symbol"?e:e+""}function CH(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Zp.InnerSlider=function(t){SH(n,t);var e=EH(n);function n(r){var i;bH(this,n),i=e.call(this,r),tt(et(i),"listRefHandler",function(o){return i.list=o}),tt(et(i),"trackRefHandler",function(o){return i.track=o}),tt(et(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,zt.getHeight)(o)+"px"}}),tt(et(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,zt.getOnDemandLazySlides)(Be(Be({},i.props),i.state));o.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Be({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new yH.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,c.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),tt(et(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),tt(et(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,zt.getOnDemandLazySlides)(Be(Be({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var c=Be(Be({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(c,u,function(){i.state.currentSlide>=Kn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Kn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),tt(et(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,hH.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),tt(et(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var c=Be(Be({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(c,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),tt(et(i),"updateState",function(o,a,c){var u=(0,zt.initializedState)(o);o=Be(Be(Be({},o),u),{},{slideIndex:u.currentSlide});var f=(0,zt.getTrackLeft)(o);o=Be(Be({},o),{},{left:f});var h=(0,zt.getTrackCSS)(o);(a||Kn.default.Children.count(i.props.children)!==Kn.default.Children.count(o.children))&&(u.trackStyle=h),i.setState(u,c)}),tt(et(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,c=[],u=(0,zt.getPreClones)(Be(Be(Be({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,zt.getPostClones)(Be(Be(Be({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(S){c.push(S.props.style.width),o+=S.props.style.width});for(var h=0;h<u;h++)a+=c[c.length-1-h],o+=c[c.length-1-h];for(var m=0;m<f;m++)o+=c[m];for(var E=0;E<i.state.currentSlide;E++)a+=c[E];var T={width:o+"px",left:-a+"px"};if(i.props.centerMode){var w="".concat(c[i.state.currentSlide],"px");T.left="calc(".concat(T.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:T}}var I=Kn.default.Children.count(i.props.children),C=Be(Be(Be({},i.props),i.state),{},{slideCount:I}),v=(0,zt.getPreClones)(C)+(0,zt.getPostClones)(C)+I,_=100/i.props.slidesToShow*v,k=100/v,M=-k*((0,zt.getPreClones)(C)+i.state.currentSlide)*_/100;i.props.centerMode&&(M+=(100-k*_/100)/2);var N={width:_+"%",left:M+"%"};return{slideWidth:k+"%",trackStyle:N}}),tt(et(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,c=0;Array.prototype.forEach.call(o,function(u){var f=function(){return++c&&c>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(m){h(m),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=f,u.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),tt(et(i),"progressiveLazyLoad",function(){for(var o=[],a=Be(Be({},i.props),i.state),c=i.state.currentSlide;c<i.state.slideCount+(0,zt.getPostClones)(a);c++)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}for(var u=i.state.currentSlide-1;u>=-(0,zt.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),tt(et(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i.props,u=c.asNavFor,f=c.beforeChange,h=c.onLazyLoad,m=c.speed,E=c.afterChange,T=i.state.currentSlide,w=(0,zt.slideHandler)(Be(Be(Be({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=w.state,C=w.nextState;if(I){f&&f(T,I.currentSlide);var v=I.lazyLoadedList.filter(function(_){return i.state.lazyLoadedList.indexOf(_)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(T),delete i.animationEndCallback),i.setState(I,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),C&&(i.animationEndCallback=setTimeout(function(){var _=C.animating,k=vH(C,["animating"]);i.setState(k,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:_})},10)),E&&E(I.currentSlide),delete i.animationEndCallback})},m))})}}),tt(et(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=Be(Be({},i.props),i.state),u=(0,zt.changeSlide)(c,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),tt(et(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),tt(et(i),"keyHandler",function(o){var a=(0,zt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),tt(et(i),"selectHandler",function(o){i.changeSlide(o)}),tt(et(i),"disableBodyScroll",function(){var o=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=o}),tt(et(i),"enableBodyScroll",function(){window.ontouchmove=null}),tt(et(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,zt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),tt(et(i),"swipeMove",function(o){var a=(0,zt.swipeMove)(o,Be(Be(Be({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),tt(et(i),"swipeEnd",function(o){var a=(0,zt.swipeEnd)(o,Be(Be(Be({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var c=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),c!==void 0&&(i.slideHandler(c),i.props.verticalSwiping&&i.enableBodyScroll())}}),tt(et(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),tt(et(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),tt(et(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),tt(et(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),tt(et(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,zt.canGoNext)(Be(Be({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),tt(et(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),tt(et(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),tt(et(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),tt(et(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),tt(et(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),tt(et(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),tt(et(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),tt(et(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),tt(et(i),"render",function(){var o=(0,pH.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Be(Be({},i.props),i.state),c=(0,zt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;c=Be(Be({},c),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,zt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=Be(Be({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=Kn.default.createElement(gH.Dots,h)}var E,T,w=(0,zt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=i.changeSlide,i.props.arrows&&(E=Kn.default.createElement(qS.PrevArrow,w),T=Kn.default.createElement(qS.NextArrow,w));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var C=null;i.props.vertical===!1?i.props.centerMode===!0&&(C={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(C={padding:i.props.centerPadding+" 0px"});var v=Be(Be({},I),C),_=i.props.touchMove,k={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:_?i.swipeStart:null,onMouseMove:i.state.dragging&&_?i.swipeMove:null,onMouseUp:_?i.swipeEnd:null,onMouseLeave:i.state.dragging&&_?i.swipeEnd:null,onTouchStart:_?i.swipeStart:null,onTouchMove:i.state.dragging&&_?i.swipeMove:null,onTouchEnd:_?i.touchEnd:null,onTouchCancel:i.state.dragging&&_?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(k={className:"slick-list"},M={className:o,style:i.props.style}),Kn.default.createElement("div",M,i.props.unslick?"":E,Kn.default.createElement("div",ph({ref:i.listRefHandler},k),Kn.default.createElement(mH.Track,ph({ref:i.trackRefHandler},c),i.props.children)),i.props.unslick?"":T,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Be(Be({},fH.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Kn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Be(Be({},i.state),s),i}return wH(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var c=a[o];if(!i.hasOwnProperty(c)){s=!0;break}if(!(jo(i[c])==="object"||typeof i[c]=="function"||isNaN(i[c]))&&i[c]!==this.props[c]){s=!0;break}}return s||Kn.default.Children.count(this.props.children)!==Kn.default.Children.count(i.children)}}]),n}(Kn.default.Component);var IH=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},kH=IH,RH=kH,PH=function(t){var e=/[height|width]$/;return e.test(t)},GS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=RH(r),PH(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},AH=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=GS(n),r<t.length-1&&(e+=", ")}),e):GS(t)},jH=AH;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(x),n=Zp,r=o(jH),i=o(eb),s=he;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var O in b)({}).hasOwnProperty.call(b,O)&&(p[O]=b[O])}return p},c.apply(null,arguments)}function u(p,g){var b=Object.keys(p);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(p);g&&(O=O.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),b.push.apply(b,O)}return b}function f(p){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?u(Object(b),!0).forEach(function(O){M(p,O,b[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(O){Object.defineProperty(p,O,Object.getOwnPropertyDescriptor(b,O))})}return p}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){for(var b=0;b<g.length;b++){var O=g[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,N(O.key),O)}}function E(p,g,b){return g&&m(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function T(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&w(p,g)}function w(p,g){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,O){return b.__proto__=O,b},w(p,g)}function I(p){var g=_();return function(){var b,O=k(p);if(g){var A=k(this).constructor;b=Reflect.construct(O,arguments,A)}else b=O.apply(this,arguments);return C(this,b)}}function C(p,g){if(g&&(a(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(p)}function v(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function _(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!p})()}function k(p){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},k(p)}function M(p,g,b){return(g=N(g))in p?Object.defineProperty(p,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[g]=b,p}function N(p){var g=S(p,"string");return a(g)=="symbol"?g:g+""}function S(p,g){if(a(p)!="object"||!p)return p;var b=p[Symbol.toPrimitive];if(b!==void 0){var O=b.call(p,g);if(a(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}t.default=function(p){T(b,p);var g=I(b);function b(O){var A;return h(this,b),A=g.call(this,O),M(v(A),"innerSliderRefHandler",function(P){return A.innerSlider=P}),M(v(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),M(v(A),"slickNext",function(){return A.innerSlider.slickNext()}),M(v(A),"slickGoTo",function(P){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(P,B)}),M(v(A),"slickPause",function(){return A.innerSlider.pause("paused")}),M(v(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return E(b,[{key:"media",value:function(A,P){var B=window.matchMedia(A),V=function(q){var L=q.matches;L&&P()};B.addListener(V),this._responsiveMediaHandlers.push({mql:B,query:A,listener:V})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var P=this.props.responsive.map(function(V){return V.breakpoint});P.sort(function(V,H){return V-H}),P.forEach(function(V,H){var q;H===0?q=(0,r.default)({minWidth:0,maxWidth:V}):q=(0,r.default)({minWidth:P[H-1]+1,maxWidth:V}),(0,s.canUseDOM)()&&A.media(q,function(){A.setState({breakpoint:V})})});var B=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(B,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){A.mql.removeListener(A.listener)})}},{key:"render",value:function(){var A=this,P,B;this.state.breakpoint?(B=this.props.responsive.filter(function(X){return X.breakpoint===A.state.breakpoint}),P=B[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),B[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var V=e.default.Children.toArray(this.props.children);V=V.filter(function(X){return typeof X=="string"?!!X.trim():!!X}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var H=[],q=null,L=0;L<V.length;L+=P.rows*P.slidesPerRow){for(var z=[],K=L;K<L+P.rows*P.slidesPerRow;K+=P.slidesPerRow){for(var $=[],U=K;U<K+P.slidesPerRow&&(P.variableWidth&&V[U].props.style&&(q=V[U].props.style.width),!(U>=V.length));U+=1)$.push(e.default.cloneElement(V[U],{key:100*L+10*K+U,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));z.push(e.default.createElement("div",{key:10*L+K},$))}P.variableWidth?H.push(e.default.createElement("div",{key:L,style:{width:q}},z)):H.push(e.default.createElement("div",{key:L},z))}if(P==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},V)}else H.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),H)}}]),b}(e.default.Component)})(_R);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(_R);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(bR);const OH=gh(bR);function NH({onClick:t}){const[e,n]=x.useState(!1),r=i=>{n(!0),setTimeout(()=>n(!1),220),t&&t(i)};return l.jsx(Vn,{variant:"contained",color:"primary",onClick:r,sx:{position:"fixed",bottom:96,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",transform:e?"scale(0.96) rotate(2deg)":void 0,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":void 0,"&:hover":{transform:"scale(1.13) rotate(-6deg)",boxShadow:"0 8px 32px 0 rgba(37,211,102,0.25)"},"&:active":{transform:"scale(0.96) rotate(2deg)",boxShadow:"0 2px 8px 0 rgba(18,140,126,0.18)"}},"aria-label":"WhatsApp Chat",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),l.jsx("path",{d:"M25.472 21.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]})})}function MH({drugClasses:t,previewProducts:e,navigate:n}){const[r,i]=x.useState(0),s=4,o=t.length,a=t.slice(r,r+s).concat(r+s>o?t.slice(0,(r+s)%o):[]),c=()=>{i(f=>(f-s+o)%o)},u=()=>{i(f=>(f+s)%o)};return l.jsxs(qe,{sx:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",minWidth:0,maxWidth:"100vw"},children:[l.jsx(Vn,{onClick:c,sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(qe,{sx:{display:"flex",gap:2,flex:"1 1 auto",justifyContent:"center",flexWrap:"nowrap",overflowX:"auto",minWidth:0,maxWidth:"100vw",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:a.map(f=>{const h=e.find(m=>m.class&&m.class.trim()===f);return l.jsxs(rh,{sx:{width:120,height:120,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)",background:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)",background:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>n(`/shop?category=${encodeURIComponent(f)}`),children:[h&&l.jsx(qe,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:h.image||"/default-medicine.png",alt:h.name||f,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(ih,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(Oe,{variant:"h6",fontWeight:900,sx:{color:"#004d40",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"0.85rem",lineHeight:1.1},children:f})})]},f)})}),l.jsx(Vn,{onClick:u,sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{onClick:u,sx:{minWidth:0,px:1,fontSize:22,color:"#009688",flex:"0 0 auto",zIndex:3},children:">"})]})}function LH(){var z,K;const[t,e]=x.useState(!1),[n,r]=x.useState(""),[i,s]=x.useState([]);x.useEffect(()=>{async function $(){let Q=(await Ut(Re(ne,"verifyMedics"))).docs.map(oe=>({id:oe.id,...oe.data()}));(await Ut(Re(ne,"users"))).docs.forEach(oe=>{const ue=oe.data();ue.role==="medicine-manager"&&ue.pharmacist&&Q.push({...ue.pharmacist,id:oe.id,online:!0})}),s(Q)}$()},[]);const o=600;x.useEffect(()=>{if(typeof document<"u"){document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)";const $=document.getElementById("mission-shine-style");$&&$.remove();const U=document.createElement("style");U.id="mission-shine-style",U.innerHTML=`
        .top-shine-effect-global {
          position: absolute;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
          filter: blur(6px) brightness(1.01);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.012;
          z-index: 1000;
        }
        .top-shine-effect {
          position: absolute;
          top: 0; left: 0;
          width: 220%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
          filter: blur(3.5px) brightness(1.05);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.13;
          z-index: 1000;
        }
        @keyframes shine-move-top {
          0% { transform: translateX(-60%); opacity: 0; }
          10% { opacity: 0.7; }
          50% { opacity: 0.95; }
          100% { transform: translateX(60%); opacity: 0; }
        }
        .mission-shine-text {
          position: relative;
          text-align: right;
          color: #fff;
          font-size: 2.1rem;
          font-weight: 700;
          font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
          overflow: visible;
          line-height: 1.2;
        }
        @media (max-width: 900px) {
          .mission-shine-text {
            font-size: 2.1rem !important;
            max-width: 540px !important;
            line-height: 1.2 !important;
            text-align: right !important;
            margin: 0 !important;
            display: inline !important;
            padding: 0 2vw !important;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: unset !important;
          }
          @media (max-width: 900px) {
            .mission-shine-text {
              font-size: 1.1rem !important;
              max-width: 100vw !important;
              line-height: 1.25 !important;
              padding: 0 0.5vw 0 0 !important;
              margin: 0 !important;
              text-align: right !important;
              display: block !important;
            }
            .top-shine-effect-container {
              min-height: 180px;
            }
            .top-shine-effect-container > .MuiBox-root {
              margin-left: 2vw !important;
            }
            .top-shine-effect-container > .MuiBox-root:last-child {
              margin-left: 2vw !important;
            }
          }
          .top-shine-effect-container {
            min-height: 180px;
          }
        }
      `,document.head.appendChild(U)}},[]);const[a,c]=x.useState([]),[u,f]=x.useState(0),[h,m]=x.useState(!0),[E,T]=x.useState([]),[w,I]=x.useState([]),[C,v]=x.useState(null),[_,k]=x.useState(""),[M,N]=x.useState(""),[S,p]=x.useState(""),g=Er(),b=w.filter($=>!S||$.name&&$.name.toLowerCase().includes(S.toLowerCase())).sort(($,U)=>C&&$.minutesAway!=null&&U.minutesAway!=null?$.minutesAway-U.minutesAway:0);function O($,U){return $>6&&$<7&&U>3&&U<4?"Lagos":$>8&&$<10&&U>7&&U<8?"Abuja":$>4&&$<5.5&&U>6&&U<8?"Rivers":$>11&&$<13&&U>8&&U<9?"Kano":"Unknown"}function A($,U){if($==null)return"Distance unknown";if($==="loading")return"Calculating...";let Q="",X="";if(C&&U&&U.location&&typeof U.location.latitude=="number"&&typeof U.location.longitude=="number"){const oe=O(C.lat,C.lng),ue=O(U.location.latitude,U.location.longitude);oe!=="Unknown"&&ue!=="Unknown"&&oe!==ue&&(Q=ue)}if($>60)X=$>120?`${$} min away`:"Over 1 hr away";else if(C&&U&&U.location&&typeof U.location.latitude=="number"&&typeof U.location.longitude=="number"){const oe=O(C.lat,C.lng),ue=O(U.location.latitude,U.location.longitude);oe!=="Unknown"&&ue!=="Unknown"&&oe===ue&&$>30?X="30 min away":X=`${$} min away`}else X=`${$} min away`;return Q&&X?`${Q} • ${X}`:X}const P=a.filter($=>{var Q,X;const U=($.name||"").toLowerCase();return!!(U.includes("paracetamol")||U.includes("shalartem")||U.includes("gestid")&&((Q=$.image)!=null&&Q.toLowerCase().includes("trans")||(X=$.image)!=null&&X.toLowerCase().includes("clear")))});x.useEffect(()=>{const $=kt(Re(ne,"products"),U=>{const Q=U.docs.map(X=>({id:X.id,...X.data()}));c(Q)});return()=>$()},[]);function B($,U,Q,X){const oe=ae=>ae*Math.PI/180,G=oe(Q-$),ee=oe(X-U),W=Math.sin(G/2)**2+Math.cos(oe($))*Math.cos(oe(Q))*Math.sin(ee/2)**2;return 6371*2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W))}async function V($,U){const Q=window.GOOGLE_MAPS_API_KEY;if(!Q)return null;try{const X=`https://maps.googleapis.com/maps/api/directions/json?origin=${$.lat},${$.lng}&destination=${U.lat},${U.lng}&mode=driving&key=${Q}`,ue=await(await fetch(X)).json();if(ue.routes&&ue.routes[0]&&ue.routes[0].legs&&ue.routes[0].legs[0])return Math.round(ue.routes[0].legs[0].duration.value/60)}catch{}return null}function H($){return!$||isNaN($)||$===1/0?null:Math.round($/40*60)}x.useEffect(()=>{let $=!1;const U=kt(Re(ne,"users"),async Q=>{const X=[],oe=new Set,ue=[];Q.docs.forEach(ee=>{const W=ee.data();if(W.businessSlug&&!oe.has(W.businessSlug)){let ae=null;C&&W.location&&typeof W.location.latitude=="number"&&typeof W.location.longitude=="number"&&(ae=B(C.lat,C.lng,W.location.latitude,W.location.longitude),ue.push((async()=>{let te=await V(C,{lat:W.location.latitude,lng:W.location.longitude});return te||(te=H(ae)),{slug:W.businessSlug,minutesAway:te}})())),X.push({name:W.businessName||W.businessSlug,img:W.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",minutesAway:null,slug:W.businessSlug}),oe.add(W.businessSlug)}});const G=await Promise.all(ue);for(const ee of G){const W=X.findIndex(ae=>ae.slug===ee.slug);W!==-1&&(X[W].minutesAway=ee.minutesAway)}X.sort((ee,W)=>ee.minutesAway==null?1:W.minutesAway==null?-1:ee.minutesAway-W.minutesAway),$||(console.log("Fetched pharmacy stores:",X),I(X))});return()=>{$=!0,U()}},[C]);const q={infinite:!0,speed:1e3,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]};x.useEffect(()=>{const $=kt(Re(ne,"products"),U=>{const Q=new Set;U.docs.forEach(X=>{const oe=X.data().class;oe&&typeof oe=="string"&&oe.trim()&&Q.add(oe.trim())}),T(Array.from(Q).sort())});return()=>$()},[]),x.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition($=>{const U={lat:$.coords.latitude,lng:$.coords.longitude};v(U),localStorage.setItem("customerLocation",JSON.stringify(U))},$=>{k("Location access denied. Please enable location services.")})},[]);const L=$=>{$.preventDefault(),M.trim()?g(`/shop?search=${encodeURIComponent(M.trim())}`):g("/shop")};return l.jsx(dR,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(gl,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden",minHeight:0,height:"auto",display:"block"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(qe,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(qe,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),P.length>0&&l.jsx(cR,{in:h,timeout:o,children:l.jsx("img",{src:((z=P[u])==null?void 0:z.image)||"/default-medicine.png",alt:((K=P[u])==null?void 0:K.name)||"Medicine",style:{width:"min(28vw, 220px)",height:"min(28vw, 220px)",minWidth:90,minHeight:90,maxWidth:220,maxHeight:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},u),l.jsx(qe,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(qe,{component:"form",onSubmit:L,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(Fn,{variant:"outlined",placeholder:"Search drugs...",value:M,onChange:$=>N($.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(Vn,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #FF4081 60%, #FF6F61 100%)","&:hover":{background:"linear-gradient(90deg, #FF6F61 60%, #FF4081 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(qe,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:C?l.jsxs(Oe,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[C.lat.toFixed(4),", ",C.lng.toFixed(4)]}):l.jsx(Oe,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:_||"Detecting location..."})}),l.jsxs(qe,{sx:{mt:3,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Oe,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Featured Brands"}),l.jsx(Oe,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Access several brands and medicine alternatives"})]}),l.jsx(qe,{sx:{mt:1,mb:2,background:"none",backgroundSize:"unset",borderRadius:0,minHeight:180,px:0,py:0,pt:1,position:"relative"},children:a.length===0?null:l.jsx(OH,{...q,children:a.map(($,U)=>l.jsx(qe,{sx:{px:1},children:l.jsxs(rh,{sx:{height:{xs:170,sm:190,md:210},width:{xs:135,sm:160,md:200},minWidth:0,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",p:0,background:"#fff",boxShadow:"0 2px 12px 0 #00968822",borderRadius:4,position:"relative",mx:"auto",overflow:"hidden"},children:[l.jsx(xS,{component:"img",image:$.image||"/default-medicine.png",alt:$.name,sx:{width:{xs:60,sm:90,md:128},height:{xs:60,sm:90,md:128},objectFit:"contain",mt:{xs:1,sm:1,md:1},mb:1,mx:"auto"}}),l.jsxs(ih,{sx:{p:0,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[l.jsx(Oe,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center",color:"#222",fontSize:14,mb:.3,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:$.name||"Unnamed",children:$.name||"Unnamed"}),l.jsx(Vn,{variant:"contained",size:"small",sx:{borderRadius:2,fontSize:"0.82em",fontWeight:600,px:1.2,py:.3,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:60,minHeight:28,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:()=>window.location.href=`/shop?search=${encodeURIComponent($.name)}`,children:l.jsx("span",{className:"button-content",children:"REQUEST"})})]})]})},$.id||U))})}),l.jsxs(qe,{sx:{mt:6,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Oe,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Drug Classes"}),l.jsx(Oe,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Find Medicines by sorting drug classes"})]}),l.jsx(qe,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2,position:"relative"},children:l.jsx(MH,{drugClasses:E,previewProducts:a,navigate:g})}),l.jsxs(qe,{sx:{mt:6,mb:2,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Oe,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Pharmacy outlets near you"}),l.jsx(Oe,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Search for drugs from pharmacy outlets closest to you, and discover the best options for your needs."}),l.jsx(qe,{sx:{mb:2,width:"100%",display:"flex",justifyContent:"flex-start"},children:l.jsx(Fn,{variant:"outlined",placeholder:"Search for a pharmacy store...",value:S||"",onChange:$=>p($.target.value),size:"small",sx:{width:{xs:180,sm:260,md:320},background:"#fff",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"},"& input":{padding:"8px 14px",fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},InputProps:{style:{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"}}})}),l.jsx(qe,{sx:{mb:2,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:b.length===0?l.jsx(qe,{sx:{color:"#bbb",fontStyle:"italic",fontSize:18,textAlign:"center",py:4},children:"No providers found."}):l.jsxs(qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(qe,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",gap:2,width:"100%",pb:1,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},id:"pharmacy-scroll-box",children:b.map($=>l.jsx(qe,{sx:{px:1,minWidth:250,maxWidth:270,width:250,flex:"0 0 250px",scrollSnapAlign:"start"},children:l.jsxs(rh,{sx:{minWidth:250,maxWidth:270,width:250,mx:"auto",borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>g(`/store/${$.slug}`),children:[l.jsx(xS,{component:"img",height:"80",image:$.img,alt:$.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(ih,{sx:{textAlign:"center",pb:2},children:[l.jsx(Oe,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:$.name}),l.jsx(Oe,{variant:"body2",color:"text.secondary",children:A($.minutesAway,$)}),l.jsx(Vn,{size:"small",variant:"contained",sx:{mt:1,borderRadius:2,fontSize:"0.92em",fontWeight:600,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:0,minHeight:0,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:U=>{U.stopPropagation(),g(`/store/${$.slug}`)},children:l.jsx("span",{className:"button-content",children:"Visit"})})]})]})},$.slug))}),l.jsx(Vn,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const $=document.getElementById("pharmacy-scroll-box");$&&$.scrollBy({left:-260,behavior:"smooth"})},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const $=document.getElementById("pharmacy-scroll-box");$&&$.scrollBy({left:260,behavior:"smooth"})},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),l.jsx(qe,{sx:{width:"100%",display:"flex",justifyContent:"center",mt:1,mb:2},children:l.jsx(Vn,{component:Dh,to:"/store",size:"small",variant:"contained",sx:{px:2.5,py:.7,fontWeight:600,fontSize:"0.98em",borderRadius:2,boxShadow:2,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",minWidth:0,minHeight:0,"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},children:"🔎 Find a pharmacy store near you"})}),l.jsxs(qe,{sx:{width:"100%",maxWidth:1100,mx:"auto",mt:6,mb:4,px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Oe,{variant:"h5",fontWeight:700,sx:{mb:1,color:"#222",textAlign:"left"},children:"Med Interface"}),l.jsx(Oe,{variant:"subtitle1",sx:{mb:3,color:"#555",textAlign:"left"},children:"Converse with verified health professionals, review prescriptions, and get consultations for your health needs."}),l.jsx(qe,{sx:{maxWidth:340,mb:2},children:l.jsx(Fn,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search by name, pharmacy, or profession",value:n,onChange:$=>r($.target.value),sx:{background:"#fff",borderRadius:2},InputProps:{style:{fontSize:15}}})}),l.jsx(qe,{sx:{width:"100%"},children:l.jsxs(qe,{sx:{position:"relative",width:"100%"},children:[l.jsx(Vn,{onClick:()=>{const $=document.getElementById("medics-scroll-box");$&&$.scrollBy({left:-220,behavior:"smooth"})},sx:{position:"absolute",left:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll left",children:"◀"}),l.jsx(qe,{id:"medics-scroll-box",sx:{display:"flex",gap:2,overflowX:"auto",scrollBehavior:"smooth",py:1,px:.5},children:i.filter($=>{var Q,X,oe;const U=n.toLowerCase();return((Q=$.name)==null?void 0:Q.toLowerCase().includes(U))||""||((X=$.profession)==null?void 0:X.toLowerCase().includes(U))||""||((oe=$.pharmacyName)==null?void 0:oe.toLowerCase().includes(U))||""}).map($=>l.jsxs(qe,{sx:{width:180,flex:"0 0 auto",p:2,border:"1px solid #eee",borderRadius:2,background:"#fafbfc",boxShadow:1,display:"flex",flexDirection:"column",alignItems:"center",mb:2,cursor:$.pharmacySlug?"pointer":"default",transition:"box-shadow 0.2s, border 0.2s","&:hover":$.pharmacySlug?{boxShadow:3,border:"1.5px solid #FF4081"}:{}},onClick:()=>{$.pharmacySlug&&g(`/store/${$.pharmacySlug}`)},children:[l.jsx(Iz,{src:$.photo,alt:$.name,sx:{width:56,height:56,mb:1}}),l.jsx(Oe,{variant:"subtitle1",fontWeight:600,sx:{textAlign:"center",fontSize:16},children:$.name}),l.jsx(Oe,{variant:"body2",sx:{color:"#555",textAlign:"center",fontSize:14,mb:.5},children:$.profession}),$.pharmacyName&&l.jsx(Oe,{variant:"caption",sx:{color:"#D5007D",textAlign:"center",fontWeight:500},children:$.pharmacyName})]},$.id))}),l.jsx(Vn,{onClick:()=>{const $=document.getElementById("medics-scroll-box");$&&$.scrollBy({left:220,behavior:"smooth"})},sx:{position:"absolute",right:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll right",children:"▶"})]})})]}),l.jsxs(qe,{sx:{width:"100%",maxWidth:600,mx:"auto",my:6,p:{xs:2,sm:4},background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderRadius:3,boxShadow:2,textAlign:"center"},children:[l.jsx(Oe,{variant:"h6",fontWeight:700,sx:{mb:1,color:"#009688"},children:"Stay Updated!"}),l.jsx(Oe,{variant:"body1",sx:{mb:2,color:"#444"},children:"Subscribe to our newsletter for health tips, new features, and exclusive offers."}),l.jsxs(qe,{component:"form",onSubmit:$=>{$.preventDefault(),alert("Thank you for subscribing!")},sx:{display:"flex",gap:1,justifyContent:"center",flexWrap:"wrap"},children:[l.jsx(Fn,{type:"email",required:!0,size:"small",placeholder:"Enter your email",sx:{background:"#fff",borderRadius:2,minWidth:220}}),l.jsx(Vn,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",fontWeight:600,px:3,borderRadius:2,boxShadow:1},children:"Subscribe"})]})]}),l.jsx(qe,{component:"footer",sx:{width:"100%",mt:6,py:4,background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderTop:"1.5px solid #e0e0e0"},children:l.jsx(qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:3},children:l.jsxs(qe,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},width:"100%"},children:[l.jsxs(qe,{sx:{textAlign:"center",mb:2},children:[l.jsx(Oe,{variant:"h6",fontWeight:700,sx:{color:"#1976d2",mb:.5},children:l.jsx("span",{style:{color:"#009688"},children:"Pharmastackx"})}),l.jsx(Oe,{variant:"body2",sx:{color:"#666",maxWidth:420,mx:"auto"},children:"Building Africa's essential digital infrastructure for real-time, reliable access to medicines and healthcare."})]}),l.jsxs(qe,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:"100%",mb:2,gap:2,flexWrap:"wrap"},children:[l.jsxs(qe,{sx:{minWidth:100,flex:1},children:[l.jsx(Oe,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"left",letterSpacing:.2,cursor:"pointer",transition:"color 0.2s","&:hover":{color:"#00796b",textDecoration:"underline"}},onClick:()=>g("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:"About Us"}),l.jsxs(Oe,{variant:"body2",sx:{color:"#666",maxWidth:260,mt:.5,cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center","&:hover":{color:"#009688",textDecoration:"underline"}},onClick:()=>g("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:["Read our about section, find our mission, vision and how we are impacting lives positively...",l.jsx("span",{style:{marginLeft:2,fontWeight:700,fontSize:"1.3em",color:"#009688",lineHeight:1},children:"→"})]})]}),l.jsxs(qe,{id:"footer-contact-section",sx:{minWidth:220,flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,overflow:"hidden","&::after":t?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle at 50% 50%, rgba(37,211,102,0.13) 0%, rgba(25,118,210,0.09) 60%, transparent 100%)",animation:"footer-contact-wave 0.7s cubic-bezier(.4,1.6,.6,1) 1",zIndex:2}:{},"@keyframes footer-contact-wave":{"0%":{opacity:0,transform:"scale(0.7)"},"40%":{opacity:1,transform:"scale(1.05)"},"100%":{opacity:0,transform:"scale(1.25)"}}},children:[l.jsx(Oe,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"right",letterSpacing:.2,cursor:"default"},children:"Contact"}),l.jsxs(qe,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},children:[l.jsxs("a",{href:"mailto:pharmastackx@gmail.com",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M6 8l6 5 6-5",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2",stroke:"#fff",strokeWidth:"1.5"})]}),"pharmastackx@gmail.com"]}),l.jsxs("a",{href:"tel:2349050006638",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M17.472 15.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]}),"234 90 5000 6638"]}),l.jsxs("a",{href:"https://instagram.com/pharmastackx",target:"_blank",rel:"noopener noreferrer",style:{color:"#d6249f",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#d6249f"}),l.jsx("path",{d:"M16.98 7.02A2.98 2.98 0 0 0 14 4H10A2.98 2.98 0 0 0 7.02 7.02V17A2.98 2.98 0 0 0 10 20h4a2.98 2.98 0 0 0 2.98-2.98V7.02zM12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm4.25-.75a.75.75 0 1 1-.75-.75.75.75 0 0 1 .75.75zM12 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2z",fill:"#fff"})]}),"@pharmastackx"]})]})]})]}),l.jsx(qe,{sx:{width:"100%",mt:3},children:l.jsxs(Oe,{variant:"caption",sx:{color:"#888",display:"block",textAlign:"center"},children:["© ",new Date().getFullYear()," Pharmastackx. All rights reserved."]})})]})})})]})})}const DH=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Dn(){return typeof window<"u"&&window.innerWidth<=600}function $H(){const[t,e]=x.useState(!1),{slug:n}=cu(),[r,i]=x.useState(null),[s,o]=x.useState([]),[a,c]=x.useState([]),[u,f]=x.useState(""),[h,m]=x.useState(null),[E,T]=x.useState(null),[w,I]=x.useState(""),[C,v]=x.useState(!0),[_,k]=x.useState(typeof window<"u"?window.innerWidth:1200),M=Ur(),N=(g,b,O,A)=>{const P=z=>z*Math.PI/180,V=P(O-g),H=P(A-b),q=Math.sin(V/2)**2+Math.cos(P(g))*Math.cos(P(O))*Math.sin(H/2)**2;return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},S=g=>{const A=g*1.64,P=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:P}};x.useEffect(()=>{if(!navigator.geolocation){T("denied");return}navigator.geolocation.getCurrentPosition(g=>{const b={lat:g.coords.latitude,lng:g.coords.longitude};T(b);const O=M.currentUser;if(O){const A=Ie(ne,"users",O.uid);dn(A).then(P=>{const B=P.data();B&&B.role==="customer"&&_r(A,{lat:b.lat,lng:b.lng},{merge:!0})})}},()=>T("denied"))},[M]),x.useEffect(()=>{const g=ii(M,b=>{i(b)});return()=>g()},[M]),x.useEffect(()=>{v(!0);const g=kt(Re(ne,"products"),async b=>{const A=(await Promise.all(b.docs.map(async P=>{var V,H;const B={id:P.id,...P.data()};if(B.ownerId){const q=Ie(ne,"users",B.ownerId),L=await dn(q);if(L.exists()){const z=L.data();B.businessName=z.businessName||"Unknown Pharmacy",B.ownerSlug=z.slug||null,B.ownerRole=z.role||null,(V=z.location)!=null&&V.latitude&&((H=z.location)!=null&&H.longitude)&&(B.businessLat=z.location.latitude,B.businessLng=z.location.longitude),B.businessState=z.businessState||z.state||""}}return B}))).filter(P=>P.ownerRole!=="distributor");o(A),v(!1)});return()=>g()},[]),x.useEffect(()=>{const g=()=>k(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),x.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(L=>L.ownerSlug===n):s;w&&(g=g.filter(L=>L.businessState===w));const b={};for(const L of g){const z=(L.normalizedName||L.name||"").toLowerCase().trim();b[z]||(b[z]=[]),b[z].push(L)}const O=Object.values(b).map(L=>(E&&E!=="denied"&&(L=L.map(z=>{if(z.businessLat&&z.businessLng){const K=N(E.lat,E.lng,z.businessLat,z.businessLng),{minutes:$}=S(K);return{...z,minutesAway:$}}return{...z,minutesAway:1/0}}),L.sort((z,K)=>z.minutesAway-K.minutesAway)),L)).flat(),A=(L="")=>L.toLowerCase().trim().replace(/\s+/g," "),P={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},B=A(u),V=(P[B]||B).split(" "),H=(L,z)=>L.includes(z)||z.length>3&&L.startsWith(z.slice(0,3))||z.length>3&&L.endsWith(z.slice(-3)),q=O.filter(L=>{const z=A(L.name),K=A(L.ingredient),$=A(L.class);return V.some(U=>z.includes(U)||K.includes(U)||$.includes(U)||H(z,U)||H(K,U)||H($,U))});c(q)},[s,E,u,n]);const p=async g=>{if(!r)return alert("Please log in first");let b={...g};if((!b.businessPhone||!b.businessWhatsapp)&&b.ownerId)try{const V=Ie(ne,"users",b.ownerId),H=await dn(V);if(H.exists()){const q=H.data();b.businessPhone=q.businessPhone||"",b.businessWhatsapp=q.businessWhatsapp||""}}catch{}const O=Ie(ne,"carts",r.uid),A=await dn(O);let P=A.exists()?A.data().items||[]:[];const B=P.findIndex(V=>V.name===b.name);B>=0?P[B].quantity+=1:P.push({...b,quantity:1}),await _r(O,{items:P}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:Dn()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:Dn()?22:32,marginBottom:8,letterSpacing:1},children:["🩺 ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Dn()?8:16,margin:Dn()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:Dn()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:u,onChange:g=>f(g.target.value),style:{padding:Dn()?"8px":"12px",width:"100%",maxWidth:Dn()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:Dn()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:w,onChange:g=>I(g.target.value),style:{padding:Dn()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:Dn()?15:17,minWidth:Dn()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),DH.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),C?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:_<=420?"repeat(3, 1fr)":_<=800?"repeat(2, 1fr)":"repeat(auto-fill, minmax(260px, 1fr))",gap:_<=420?8:_<=800?14:28,marginTop:18,alignItems:"start"},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:_<=420?"8px 6px":_<=800?"12px 10px":"18px 16px",borderRadius:"12px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:_<=420?"140px":_<=800?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:b=>{Dn()||(b.currentTarget.style.boxShadow="0 8px 32px #6366f133",b.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:b=>{Dn()||(b.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",b.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:_<=420?70:_<=800?110:150,objectFit:"cover",borderRadius:"8px",marginBottom:_<=420?6:10,background:"#f4f6fb"},onError:b=>{b.target.onerror=null,b.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Dn()?90:150,borderRadius:10,marginBottom:Dn()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:Dn()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:_<=420?12:_<=800?15:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:_<=420?10:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:_<=420?9:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:_<=420?11:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["₦",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:["🏥 ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:b=>b.currentTarget.style.background="#4f46e5",onMouseLeave:b=>b.currentTarget.style.background="#6366f1",disabled:typeof p!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?"📍 Right here":`💨 ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function eP(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[i,s]=x.useState(0),[o,a]=x.useState(!1),[c,u]=x.useState({}),[f,h]=x.useState([]),[m,E]=x.useState(null),T=Ur(),w=Er();x.useEffect(()=>{t&&dn(Ie(ne,"users",t.uid)).then(N=>{N.exists()&&E(N.data())})},[t]),x.useEffect(()=>{const N=Array.from(new Set(n.filter(S=>S.registeredOnly&&S.ownerId).map(S=>S.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const S of f)await _r(Ie(ne,"businessRegistrations",`${S}_${t.uid}`),{distributorId:S,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===S),status:"pending",date:new Date().toISOString()});Se.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};x.useEffect(()=>ii(T,S=>{e(S),S&&C(S.uid)}),[T]);const C=async N=>{try{const S=Ie(ne,"carts",N),p=await dn(S);p.exists()?r(p.data().items||[]):r([])}catch(S){console.error("Error loading cart:",S)}},v=async(N,S)=>{try{await _r(Ie(ne,"carts",N),{items:S})}catch(p){console.error("Error saving cart:",p)}};x.useEffect(()=>{const N=n.reduce((S,p)=>S+p.price*(p.quantity||1),0);s(N)},[n]);const _=N=>{if(!t)return Se.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N.name);p>=0?S[p].quantity+=1:S.push({...N,quantity:1}),r(S),v(t.uid,S)},k=N=>{if(!t)return Se.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N);p>=0&&(S[p].quantity>1?S[p].quantity-=1:S.splice(p,1)),r(S),v(t.uid,S)},M=()=>{if(!t)return Se.error("Please login to proceed to payment");if(n.length===0)return Se.info("Cart is empty");w("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:"🛒 Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,S)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",S+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,S)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["₦",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>_(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>k(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},S)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,S)=>N+(S.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ₦",i]}),!o&&l.jsx("button",{onClick:M,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const FH=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function VH(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[i,s]=x.useState("Pending"),[o,a]=x.useState({}),c=Ur();if(x.useEffect(()=>{const T=ii(c,w=>{if(e(w),w){const I=xr(Re(ne,"orders"),br("userId","==",w.uid)),C=kt(I,v=>{const _=v.docs.map(k=>({id:k.id,...k.data()}));_.sort((k,M)=>new Date(M.date)-new Date(k.date)),r(_)});return()=>C()}});return()=>T()},[c]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const u=async T=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=Ie(ne,"orders",T);await tn(I,{status:"Cancelled"}),alert("✅ Order cancelled and moved to Cancelled tab")},f=T=>{a(w=>({...w,[T]:!w[T]}))},h=T=>T.reduce((w,I)=>w+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],E=m.reduce((T,w)=>(w==="Processing"?T[w]=n.filter(I=>{const C=I.status||"Pending";return C==="Processing"||C==="In-Progress"}):T[w]=n.filter(I=>(I.status||"Pending")===w),T),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"📦 Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(T=>{var w;return l.jsxs("button",{onClick:()=>s(T),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===T?"#007bff":"#eee",color:i===T?"#fff":"#000",fontWeight:i===T?"bold":"normal"},children:[T," (",((w=E[T])==null?void 0:w.length)||0,")"]},T)})}),E[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):E[i].map(T=>{var w;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",FH(T.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),T.items&&T.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(T.items.reduce((I,C)=>{const v=C.businessName||"Unknown",_=C.businessPhone||C.phoneNumber||"N/A",k=C.businessWhatsapp||C.whatsappNumber||"N/A";return I.set(v+"__"+_+"__"+k,{name:v,phone:_,whatsapp:k}),I},new Map).values()).map(({name:I,phone:C,whatsapp:v})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",C&&C!=="N/A"?l.jsxs("a",{href:`tel:${C}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",v&&v!=="N/A"?l.jsxs("a",{href:`https://wa.me/${v.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:v}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+C+v))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId||"Not assigned",(T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId)&&(T.agentPhoneNumber||T.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",T.agentPhoneNumber?l.jsxs("a",{href:`tel:${T.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",T.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${T.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(T.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[T.id]?"#ede9fe":"#7c3aed",color:o[T.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[T.id]?"0 2px 8px #ede9fe":"none"},children:o[T.id]?"Hide Items":"View Items"}),o[T.id]&&((w=T.items)==null?void 0:w.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:T.items.map((I,C)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:v=>{v.target.onerror=null,v.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name," – ₦",I.price," x ",I.quantity||1]})]},C))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ₦",h(T.items||[])]}),(T.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>u(T.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},T.id)})]})}const zH="modulepreload",BH=function(t){return"/"+t},QS={},Oa=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=BH(c),c in QS)return;QS[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":zH,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},UH=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function WH(){const t=Er(),[e,n]=x.useState(null),[r,i]=x.useState(""),[s,o]=x.useState(""),[a,c]=x.useState(""),[u,f]=x.useState(""),[h,m]=x.useState(""),[E,T]=x.useState(""),[w,I]=x.useState(""),[C,v]=x.useState(!1),[_,k]=x.useState(!1),[M,N]=x.useState(!1),[S,p]=x.useState({}),[g,b]=x.useState(!1),O={},[A,P]=x.useState(""),[B,V]=x.useState(""),[H,q]=x.useState(""),[L,z]=x.useState(""),[K,$]=x.useState(""),[U,Q]=x.useState(""),[X,oe]=x.useState(""),[ue,G]=x.useState(""),[ee,W]=x.useState(""),[ae,te]=x.useState(""),[ie,pe]=x.useState(""),[ge,ve]=x.useState(""),[be,Je]=x.useState(null),[_e,ze]=x.useState(!1),[Ae,Xe]=x.useState(null),[at,dt]=x.useState(!1),[De,xt]=x.useState(""),[Pe,He]=x.useState("");me.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const $e=async()=>{try{if(!ue||!ee){alert("Please provide distributor name and license number.");return}const Z=await captureDistributorLocation();if(!Z){alert("📍 Location required to complete distributor signup.");return}const j=(await Zl(oo,r,s)).user,re=await wt(ue),de={email:j.email,role:"distributor",businessName:ue,licenseNumber:ee,location:Z,slug:re,businessSlug:re,createdAt:new Date().toISOString()};await Pt(j.uid,de),n({...j,...de}),alert(`✅ Distributor signup successful!
Your distributor link: pharmastack.com/store/${re}`),k(!1),G(""),W(""),Je(null)}catch(Z){console.error("Distributor signup error:",Z),alert(Z.message||"Distributor signup failed")}},Te=Z=>Z.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),wt=async Z=>{let Fe=Te(Z);const j=Re(ne,"users");let re=Fe,de=1;for(;;){const Ve=xr(j,br("slug","==",re));if((await Ut(Ve)).empty)break;re=`${Fe}${de++}`}return re},Pt=async(Z,Fe)=>{console.log("Writing user doc for:",Z,Fe),await _r(Ie(ne,"users",Z),Fe)},Ze=async()=>{try{if(!H||!L||!K){alert("Please provide address, state, and city.");return}const Fe=(await Zl(oo,r,s)).user,j={email:Fe.email,role:"customer",address:H,state:L,city:K,landmark:U,createdAt:new Date().toISOString()};await Pt(Fe.uid,j),n({...Fe,...j}),alert("✅ Customer signup successful!")}catch(Z){console.error("Customer signup error:",Z),alert(Z.message)}},we=async()=>navigator.geolocation?(dt(!0),new Promise((Z,Fe)=>{navigator.geolocation.getCurrentPosition(j=>{const re={latitude:j.coords.latitude,longitude:j.coords.longitude};Xe(re),dt(!1),Z(re)},j=>{dt(!1),alert("⚠️ Location access denied or unavailable."),Fe(j)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert("❌ Geolocation is not supported by your browser."),null),rt=async()=>{try{if(!a||!X||!u){alert("Please provide business name, address, and license number.");return}const Z=await we();if(!Z){alert("📍 Location required to complete business signup.");return}const j=(await Zl(oo,r,s)).user;console.log("Business user created:",j.uid);const re=await wt(a);console.log("Generated unique slug:",re);const de={email:j.email,role:"medicine-manager",businessName:a,address:u,city:E,state:h,landmark:w,licenseNumber:X,location:Z,lat:Z.latitude,lng:Z.longitude,slug:re,businessSlug:re,businessPhone:De,businessWhatsapp:Pe,createdAt:new Date().toISOString()};await Pt(j.uid,de),console.log("Firestore user record created for business:",de),n({...j,...de}),alert(`✅ Business signup successful!
Your store link: pharmastack.com/store/${re}`),v(!1),c(""),f(""),oe(""),Xe(null)}catch(Z){console.error("Business signup error:",Z),alert(Z.message||"Business signup failed")}},Ge=async()=>{try{const Fe=(await B2(oo,r,s)).user,j=await dn(Ie(ne,"users",Fe.uid));j.exists()?(n({...Fe,...j.data()}),j.data().role==="delivery-agent"&&j.data().slug&&t(`/agent/${j.data().slug}`)):(alert("⚠️ No Firestore user record found. Please contact admin."),n({...Fe}))}catch(Z){console.error("Login error:",Z),alert(Z.message||"Login failed")}},Cr=async()=>{await H2(oo),n(null)},as=async()=>{try{b(!0);const Z=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const St of Z)if(!S[St]){alert(`Please fill the ${St} field.`),b(!1);return}const j=(await Zl(oo,S.email,s)).user,re=await wt(S.companyName),de={...S,role:"delivery-agent",slug:re,createdAt:new Date().toISOString()};await Pt(j.uid,de);const Ve={companyName:S.companyName,phoneNumber:S.phoneNumber,whatsappNumber:S.whatsappNumber,rcNumber:S.rcNumber,businessAddress:S.businessAddress,email:S.email,coverageArea:S.coverageArea,operatingHours:S.operatingHours,logoUrl:S.logoUrl,state:S.state,city:S.city,landmark:S.landmark,userId:j.uid,createdAt:new Date().toISOString(),slug:re},{addDoc:lt,collection:it}=await Oa(async()=>{const{addDoc:St,collection:je}=await Promise.resolve().then(()=>lx);return{addDoc:St,collection:je}},void 0);await lt(it(ne,"deliveryAgents"),Ve),n({...j,...de}),alert("✅ Delivery agent signup successful!"),N(!1),p(O)}catch(Z){console.error("Delivery agent signup error:",Z),alert(Z.message||"Delivery agent signup failed")}finally{b(!1)}},[Js,Ir]=x.useState(!1),[si,kr]=x.useState("customer"),ls=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:"🔐 Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Cr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:["🏪 Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Js?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:si,onChange:Z=>kr(Z.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:ls.map(Z=>l.jsx("option",{value:Z.key,children:Z.label},Z.key))})}),si==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:A,onChange:Z=>P(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:B,onChange:Z=>V(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:H,onChange:Z=>q(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:L,onChange:Z=>z(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:K,onChange:Z=>$(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:U,onChange:Z=>Q(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Ze,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:at,children:at?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:Z=>c(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:u,onChange:Z=>f(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:X,onChange:Z=>oe(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:Z=>m(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),UH.map(Z=>l.jsx("option",{value:Z,children:Z},Z))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:Z=>T(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:w,onChange:Z=>I(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:De,onChange:Z=>xt(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Pe,onChange:Z=>He(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:rt,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:at,children:at?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:ue,onChange:Z=>G(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ee,onChange:Z=>W(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:ae,onChange:Z=>te(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:ie,onChange:Z=>pe(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:ge,onChange:Z=>ve(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:$e,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:_e,children:_e?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),be&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",be.latitude.toFixed(5),", ",be.longitude.toFixed(5)]})]}),si==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:S.companyName,onChange:Z=>p(Fe=>({...Fe,companyName:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:S.phoneNumber,onChange:Z=>p(Fe=>({...Fe,phoneNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:S.whatsappNumber,onChange:Z=>p(Fe=>({...Fe,whatsappNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:S.rcNumber,onChange:Z=>p(Fe=>({...Fe,rcNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:S.businessAddress,onChange:Z=>p(Fe=>({...Fe,businessAddress:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:S.state,onChange:Z=>p(Fe=>({...Fe,state:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:S.city,onChange:Z=>p(Fe=>({...Fe,city:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S.landmark,onChange:Z=>p(Fe=>({...Fe,landmark:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:S.coverageArea,onChange:Z=>p(Fe=>({...Fe,coverageArea:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:S.operatingHours,onChange:Z=>p(Fe=>({...Fe,operatingHours:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:S.logoUrl,onChange:Z=>p(Fe=>({...Fe,logoUrl:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:S.email,onChange:Z=>p(Fe=>({...Fe,email:Z.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:as,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:g,children:g?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:Ge,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Ir(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var tP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Ul,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var b=M(g);b.chunkSize=parseInt(b.chunkSize),g.step||g.chunk||(b.chunkSize=null),this._handle=new w(b),(this._handle.streamer=this)._config=b}).call(this,p),this.parseChunk=function(g,b){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let P=this._config.newline;P||(A=this._config.quoteChar||'"',P=this._handle.guessLineEndings(g,A)),g=[...g.split(P).slice(O)].join(P)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(g))!==void 0&&(g=A),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+g,A=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=A.meta.cursor,O=(this._finished||(this._partialLine=O.substring(g-this._baseIndex),this._baseIndex=g),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:A,workerId:u.WORKER_ID,finished:O});else if(S(this._config.chunk)&&!b){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!O||!S(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(g){S(this._config.error)?this._config.error(g):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:g,finished:!1})}}function h(p){var g;(p=p||{}).chunkSize||(p.chunkSize=u.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var b,O=this._config.downloadRequestHeaders;for(b in O)g.setRequestHeader(b,O[b])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+A));try{g.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(b=>(b=b.getResponseHeader("Content-Range"))!==null?parseInt(b.substring(b.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(b){b=g.statusText||b,this._sendError(new Error(b))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=u.LocalChunkSize),f.call(this,p);var g,b,O=typeof FileReader<"u";this.stream=function(A){this._input=A,b=A.slice||A.webkitSlice||A.mozSlice,O?((g=new FileReader).onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),A=b.call(A,this._start,P)),g.readAsText(A,this._config.encoding));O||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(g.error)}}function E(p){var g;f.call(this,p=p||{}),this.stream=function(b){return g=b,this._nextChunk()},this._nextChunk=function(){var b,O;if(!this._finished)return b=this._config.chunkSize,g=b?(O=g.substring(0,b),g.substring(b)):(O=g,""),this._finished=!g,this.parseChunk(O)}}function T(p){f.call(this,p=p||{});var g=[],b=!0,O=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):b=!0},this._streamData=N(function(A){try{g.push(typeof A=="string"?A:A.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(p){var g,b,O,A,P=Math.pow(2,53),B=-P,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,L=0,z=0,K=!1,$=!1,U=[],Q={data:[],errors:[],meta:{}};function X(ee){return p.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function oe(){if(Q&&O&&(G("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),p.skipEmptyLines&&(Q.data=Q.data.filter(function(ie){return!X(ie)})),ue()){let ie=function(pe,ge){S(p.transformHeader)&&(pe=p.transformHeader(pe,ge)),U.push(pe)};var te=ie;if(Q)if(Array.isArray(Q.data[0])){for(var ee=0;ue()&&ee<Q.data.length;ee++)Q.data[ee].forEach(ie);Q.data.splice(0,1)}else Q.data.forEach(ie)}function W(ie,pe){for(var ge=p.header?{}:[],ve=0;ve<ie.length;ve++){var be=ve,Je=ie[ve],Je=((_e,ze)=>(Ae=>(p.dynamicTypingFunction&&p.dynamicTyping[Ae]===void 0&&(p.dynamicTyping[Ae]=p.dynamicTypingFunction(Ae)),(p.dynamicTyping[Ae]||p.dynamicTyping)===!0))(_e)?ze==="true"||ze==="TRUE"||ze!=="false"&&ze!=="FALSE"&&((Ae=>{if(V.test(Ae)&&(Ae=parseFloat(Ae),B<Ae&&Ae<P))return 1})(ze)?parseFloat(ze):H.test(ze)?new Date(ze):ze===""?null:ze):ze)(be=p.header?ve>=U.length?"__parsed_extra":U[ve]:be,Je=p.transform?p.transform(Je,be):Je);be==="__parsed_extra"?(ge[be]=ge[be]||[],ge[be].push(Je)):ge[be]=Je}return p.header&&(ve>U.length?G("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+ve,z+pe):ve<U.length&&G("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+ve,z+pe)),ge}var ae;Q&&(p.header||p.dynamicTyping||p.transform)&&(ae=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(W),ae=Q.data.length):Q.data=W(Q.data,0),p.header&&Q.meta&&(Q.meta.fields=U),z+=ae)}function ue(){return p.header&&U.length===0}function G(ee,W,ae,te){ee={type:ee,code:W,message:ae},te!==void 0&&(ee.row=te),Q.errors.push(ee)}S(p.step)&&(A=p.step,p.step=function(ee){Q=ee,ue()?oe():(oe(),Q.data.length!==0&&(L+=ee.data.length,p.preview&&L>p.preview?b.abort():(Q.data=Q.data[0],A(Q,q))))}),this.parse=function(ee,W,ae){var te=p.quoteChar||'"',te=(p.newline||(p.newline=this.guessLineEndings(ee,te)),O=!1,p.delimiter?S(p.delimiter)&&(p.delimiter=p.delimiter(ee),Q.meta.delimiter=p.delimiter):((te=((ie,pe,ge,ve,be)=>{var Je,_e,ze,Ae;be=be||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Xe=0;Xe<be.length;Xe++){for(var at,dt=be[Xe],De=0,xt=0,Pe=0,He=(ze=void 0,new C({comments:ve,delimiter:dt,newline:pe,preview:10}).parse(ie)),$e=0;$e<He.data.length;$e++)ge&&X(He.data[$e])?Pe++:(at=He.data[$e].length,xt+=at,ze===void 0?ze=at:0<at&&(De+=Math.abs(at-ze),ze=at));0<He.data.length&&(xt/=He.data.length-Pe),(_e===void 0||De<=_e)&&(Ae===void 0||Ae<xt)&&1.99<xt&&(_e=De,Je=dt,Ae=xt)}return{successful:!!(p.delimiter=Je),bestDelimiter:Je}})(ee,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=te.bestDelimiter:(O=!0,p.delimiter=u.DefaultDelimiter),Q.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&te.preview++,g=ee,b=new C(te),Q=b.parse(g,W,ae),oe(),K?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,b.abort(),g=S(p.chunk)?"":g.substring(b.getCharIndex())},this.resume=function(){q.streamer._halted?(K=!1,q.streamer.parseChunk(g,!0)):setTimeout(q.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,b.abort(),Q.meta.aborted=!0,S(p.complete)&&p.complete(Q),g=""},this.guessLineEndings=function(ie,te){ie=ie.substring(0,1048576);var te=new RegExp(I(te)+"([^]*?)"+I(te),"gm"),ae=(ie=ie.replace(te,"")).split("\r"),te=ie.split(`
`),ie=1<te.length&&te[0].length<ae[0].length;if(ae.length===1||ie)return`
`;for(var pe=0,ge=0;ge<ae.length;ge++)ae[ge][0]===`
`&&pe++;return pe>=ae.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(p){var g=(p=p||{}).delimiter,b=p.newline,O=p.comments,A=p.step,P=p.preview,B=p.fastMode,V=null,H=!1,q=p.quoteChar==null?'"':p.quoteChar,L=q;if(p.escapeChar!==void 0&&(L=p.escapeChar),(typeof g!="string"||-1<u.BAD_DELIMITERS.indexOf(g))&&(g=","),O===g)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),b!==`
`&&b!=="\r"&&b!==`\r
`&&(b=`
`);var z=0,K=!1;this.parse=function($,U,Q){if(typeof $!="string")throw new Error("Input must be a string");var X=$.length,oe=g.length,ue=b.length,G=O.length,ee=S(A),W=[],ae=[],te=[],ie=z=0;if(!$)return De();if(B||B!==!1&&$.indexOf(q)===-1){for(var pe=$.split(b),ge=0;ge<pe.length;ge++){if(te=pe[ge],z+=te.length,ge!==pe.length-1)z+=b.length;else if(Q)return De();if(!O||te.substring(0,G)!==O){if(ee){if(W=[],Ae(te.split(g)),xt(),K)return De()}else Ae(te.split(g));if(P&&P<=ge)return W=W.slice(0,P),De(!0)}}return De()}for(var ve=$.indexOf(g,z),be=$.indexOf(b,z),Je=new RegExp(I(L)+I(q),"g"),_e=$.indexOf(q,z);;)if($[z]===q)for(_e=z,z++;;){if((_e=$.indexOf(q,_e+1))===-1)return Q||ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:z}),at();if(_e===X-1)return at($.substring(z,_e).replace(Je,q));if(q===L&&$[_e+1]===L)_e++;else if(q===L||_e===0||$[_e-1]!==L){ve!==-1&&ve<_e+1&&(ve=$.indexOf(g,_e+1));var ze=Xe((be=be!==-1&&be<_e+1?$.indexOf(b,_e+1):be)===-1?ve:Math.min(ve,be));if($.substr(_e+1+ze,oe)===g){te.push($.substring(z,_e).replace(Je,q)),$[z=_e+1+ze+oe]!==q&&(_e=$.indexOf(q,z)),ve=$.indexOf(g,z),be=$.indexOf(b,z);break}if(ze=Xe(be),$.substring(_e+1+ze,_e+1+ze+ue)===b){if(te.push($.substring(z,_e).replace(Je,q)),dt(_e+1+ze+ue),ve=$.indexOf(g,z),_e=$.indexOf(q,z),ee&&(xt(),K))return De();if(P&&W.length>=P)return De(!0);break}ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:z}),_e++}}else if(O&&te.length===0&&$.substring(z,z+G)===O){if(be===-1)return De();z=be+ue,be=$.indexOf(b,z),ve=$.indexOf(g,z)}else if(ve!==-1&&(ve<be||be===-1))te.push($.substring(z,ve)),z=ve+oe,ve=$.indexOf(g,z);else{if(be===-1)break;if(te.push($.substring(z,be)),dt(be+ue),ee&&(xt(),K))return De();if(P&&W.length>=P)return De(!0)}return at();function Ae(Pe){W.push(Pe),ie=z}function Xe(Pe){var He=0;return He=Pe!==-1&&(Pe=$.substring(_e+1,Pe))&&Pe.trim()===""?Pe.length:He}function at(Pe){return Q||(Pe===void 0&&(Pe=$.substring(z)),te.push(Pe),z=X,Ae(te),ee&&xt()),De()}function dt(Pe){z=Pe,Ae(te),te=[],be=$.indexOf(b,z)}function De(Pe){if(p.header&&!U&&W.length&&!H){var He=W[0],$e=Object.create(null),Te=new Set(He);let wt=!1;for(let Pt=0;Pt<He.length;Pt++){let Ze=He[Pt];if($e[Ze=S(p.transformHeader)?p.transformHeader(Ze,Pt):Ze]){let we,rt=$e[Ze];for(;we=Ze+"_"+rt,rt++,Te.has(we););Te.add(we),He[Pt]=we,$e[Ze]++,wt=!0,(V=V===null?{}:V)[we]=Ze}else $e[Ze]=1,He[Pt]=Ze;Te.add(Ze)}wt&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:W,errors:ae,meta:{delimiter:g,linebreak:b,aborted:K,truncated:!!Pe,cursor:ie+(U||0),renamedHeaders:V}}}function xt(){A(De()),W=[],ae=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return z}}function v(p){var g=p.data,b=a[g.workerId],O=!1;if(g.error)b.userError(g.error,g.file);else if(g.results&&g.results.data){var A={abort:function(){O=!0,_(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(S(b.userStep)){for(var P=0;P<g.results.data.length&&(b.userStep({data:g.results.data[P],errors:g.results.errors,meta:g.results.meta},A),!O);P++);delete g.results}else S(b.userChunk)&&(b.userChunk(g.results,A,g.file),delete g.results)}g.finished&&!O&&_(g.workerId,g.results)}function _(p,g){var b=a[p];S(b.userComplete)&&b.userComplete(g),b.terminate(),delete a[p]}function k(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var g,b=Array.isArray(p)?[]:{};for(g in p)b[g]=M(p[g]);return b}function N(p,g){return function(){p.apply(g,arguments)}}function S(p){return typeof p=="function"}return u.parse=function(p,g){var b=(g=g||{}).dynamicTyping||!1;if(S(b)&&(g.dynamicTypingFunction=b,b={}),g.dynamicTyping=b,g.transform=!!S(g.transform)&&g.transform,!g.worker||!u.WORKERS_SUPPORTED)return b=null,u.NODE_STREAM_INPUT,typeof p=="string"?(p=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(p),b=new(g.download?h:E)(g)):p.readable===!0&&S(p.read)&&S(p.on)?b=new T(g):(r.File&&p instanceof File||p instanceof Object)&&(b=new m(g)),b.stream(p);(b=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var A=r.URL||r.webkitURL||null,P=n.toString();return u.BLOB_URL||(u.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=v,O.id=c++,a[O.id]=O)})()).userStep=g.step,b.userChunk=g.chunk,b.userComplete=g.complete,b.userError=g.error,g.step=S(g.step),g.chunk=S(g.chunk),g.complete=S(g.complete),g.error=S(g.error),delete g.worker,b.postMessage({input:p,config:g,workerId:b.id})},u.unparse=function(p,g){var b=!1,O=!0,A=",",P=`\r
`,B='"',V=B+B,H=!1,q=null,L=!1,z=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||u.BAD_DELIMITERS.filter(function(U){return g.delimiter.indexOf(U)!==-1}).length||(A=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(b=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(H=g.skipEmptyLines),typeof g.newline=="string"&&(P=g.newline),typeof g.quoteChar=="string"&&(B=g.quoteChar),typeof g.header=="boolean"&&(O=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");q=g.columns}g.escapeChar!==void 0&&(V=g.escapeChar+B),g.escapeFormulae instanceof RegExp?L=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(B),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return K(null,p,H);if(typeof p[0]=="object")return K(q||Object.keys(p[0]),p,H)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||q),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),K(p.fields||[],p.data||[],H);throw new Error("Unable to serialize unrecognized input");function K(U,Q,X){var oe="",ue=(typeof U=="string"&&(U=JSON.parse(U)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(U)&&0<U.length),G=!Array.isArray(Q[0]);if(ue&&O){for(var ee=0;ee<U.length;ee++)0<ee&&(oe+=A),oe+=$(U[ee],ee);0<Q.length&&(oe+=P)}for(var W=0;W<Q.length;W++){var ae=(ue?U:Q[W]).length,te=!1,ie=ue?Object.keys(Q[W]).length===0:Q[W].length===0;if(X&&!ue&&(te=X==="greedy"?Q[W].join("").trim()==="":Q[W].length===1&&Q[W][0].length===0),X==="greedy"&&ue){for(var pe=[],ge=0;ge<ae;ge++){var ve=G?U[ge]:ge;pe.push(Q[W][ve])}te=pe.join("").trim()===""}if(!te){for(var be=0;be<ae;be++){0<be&&!ie&&(oe+=A);var Je=ue&&G?U[be]:be;oe+=$(Q[W][Je],be)}W<Q.length-1&&(!X||0<ae&&!ie)&&(oe+=P)}}return oe}function $(U,Q){var X,oe;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(oe=!1,L&&typeof U=="string"&&L.test(U)&&(U="'"+U,oe=!0),X=U.toString().replace(z,V),(oe=oe||b===!0||typeof b=="function"&&b(U,Q)||Array.isArray(b)&&b[Q]||((ue,G)=>{for(var ee=0;ee<G.length;ee++)if(-1<ue.indexOf(G[ee]))return!0;return!1})(X,u.BAD_DELIMITERS)||-1<X.indexOf(A)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?B+X+B:X)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=C,u.ParserHandle=w,u.NetworkStreamer=h,u.FileStreamer=m,u.StringStreamer=E,u.ReadableStreamStreamer=T,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var g=p.config||{},b=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)b.push({file:this.files[B],inputElem:this,instanceConfig:i.extend({},g)})}),O(),this;function O(){if(b.length===0)S(p.complete)&&p.complete();else{var P,B,V,H,q=b[0];if(S(p.before)){var L=p.before(q.file,q.inputElem);if(typeof L=="object"){if(L.action==="abort")return P="AbortError",B=q.file,V=q.inputElem,H=L.reason,void(S(p.error)&&p.error({name:P},B,V,H));if(L.action==="skip")return void A();typeof L.config=="object"&&(q.instanceConfig=i.extend(q.instanceConfig,L.config))}else if(L==="skip")return void A()}var z=q.instanceConfig.complete;q.instanceConfig.complete=function(K){S(z)&&z(K,q.file,q.inputElem),A()},u.parse(q.file,q.instanceConfig)}}function A(){b.splice(0,1),O()}}),o&&(r.onmessage=function(p){p=p.data,u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=u.parse(p.input,p.config))&&r.postMessage({workerId:u.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(T.prototype=Object.create(f.prototype)).constructor=T,u})})(tP);var HH=tP.exports;const nP=gh(HH);function qH({businessId:t}){const[e,n]=x.useState([]),[r,i]=x.useState(!0),[s,o]=x.useState({}),a=Er();return x.useEffect(()=>{if(!t)return;const c=xr(Re(ne,"chats"),br("participants","array-contains",t)),u=kt(c,async f=>{const h=[],m=new Set;f.forEach(T=>{const w=T.data(),I=w.participants.find(C=>C!==t);I&&(h.push({id:T.id,...w,customerId:I}),m.add(I))}),n(h);const E={};await Promise.all(Array.from(m).map(async T=>{const w=await dn(Ie(ne,"users",T));w.exists()&&(E[T]=w.data())})),o(E),i(!1)});return()=>u()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(c=>{const u=s[c.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:u.photo||"https://ui-avatars.com/api/?name="+(u.name||u.email||"Customer"),alt:u.name||u.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:u.name||u.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:u.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:c.customerId,chatId:c.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},c.id)})})]})}const gg=["name","ingredient","class","price","image"];function KH(){const[t,e]=x.useState(""),[n,r]=x.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=x.useState(null);if(x.useEffect(()=>{Oa(async()=>{const{getAuth:V,onAuthStateChanged:H}=await Promise.resolve().then(()=>ik);return{getAuth:V,onAuthStateChanged:H}},void 0).then(({getAuth:V,onAuthStateChanged:H})=>{const q=V();H(q,async L=>{if(L){const{getDoc:z,doc:K}=await Oa(async()=>{const{getDoc:U,doc:Q}=await Promise.resolve().then(()=>lx);return{getDoc:U,doc:Q}},void 0),$=await z(K(ne,"users",L.uid));a($.exists()?$.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[c,u]=x.useState(null),[f,h]=x.useState(null),[m,E]=x.useState([]),[T,w]=x.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,C]=x.useState(null),[v,_]=x.useState([]),[k,M]=x.useState([]),N=m.filter(V=>{var q,L,z;const H=t.toLowerCase();return((q=V.name)==null?void 0:q.toLowerCase().includes(H))||((L=V.ingredient)==null?void 0:L.toLowerCase().includes(H))||((z=V.class)==null?void 0:z.toLowerCase().includes(H))}),S=Ur();x.useEffect(()=>{const V=ii(S,async H=>{if(H){u(H);try{const q=await dn(Ie(ne,"users",H.uid));q.exists()?h(q.data()):h({role:"customer"})}catch(q){console.error("Error fetching user doc:",q),h({role:"customer"})}}else u(null),h(null)});return()=>V()},[S]),x.useEffect(()=>{if(!c)return;const V=kt(Re(ne,"products"),H=>{const q=H.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.ownerId===c.uid);E(q)});return()=>V()},[c]),x.useEffect(()=>{if(!c)return;const V=kt(Re(ne,"batches"),H=>{const q=H.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.uploadedBy===c.uid);M(q)});return()=>V()},[c]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),g=async V=>{if(V.preventDefault(),!c)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const{name:H,ingredient:q,class:L,price:z,image:K}=T;if(!H||!q||!L||!z)return Se.warn("Please fill all required fields");const $=parseInt(z,10);if(isNaN($)||$<0)return Se.warn("Price must be a positive number");const{ownerSlug:U,businessName:Q}=p(),X=(f==null?void 0:f.pharmacist)||null;try{I?(await tn(Ie(ne,"products",I),{name:H,ingredient:q,class:L,price:$,image:K||"",ownerSlug:U||"",businessName:Q||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:X||null}),C(null)):await ns(Re(ne,"products"),{name:H,ingredient:q,class:L,price:$,image:K||"",ownerId:c.uid,ownerSlug:U||"",businessName:Q||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:X||null}),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(oe){console.error(oe),Se.error("Error saving medicine")}},b=V=>{const H=V.target.files[0];H&&nP.parse(H,{header:!0,skipEmptyLines:!0,complete:q=>{const L=q.data.map(z=>{const K={};return gg.forEach($=>K[$]=z[$]||($==="price"?0:"N/A")),K});_(L)}})},O=async()=>{if(!v.length)return Se.info("No CSV data to upload");if(!c)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const V=Ie(Re(ne,"batches")),H=[],{ownerSlug:q,businessName:L}=p(),z=(f==null?void 0:f.pharmacist)||null;for(let K of v)try{const $=await ns(Re(ne,"products"),{name:K.name,ingredient:K.ingredient,class:K.class,price:parseInt(K.price,10)||0,image:K.image==="N/A"?"":K.image,batchId:V.id,ownerId:c.uid,ownerSlug:q||"",businessName:L||"",isPOM:!!K.isPOM,pharmacist:z||null});H.push($.id)}catch($){console.error("CSV upload error for row:",K,$)}try{await _r(V,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:c.uid,date:new Date().toISOString(),medicineIds:H})}catch(K){console.error("Failed to create batch doc:",K)}alert(`✅ ${H.length} medicines uploaded`),Se.success(`✅ ${H.length} medicines uploaded`),_([])},A=V=>{w({name:V.name,ingredient:V.ingredient,class:V.class,price:V.price,image:V.image||"",isPOM:!!V.isPOM}),C(V.id),r("add")},P=async V=>{if(window.confirm("Delete this medicine?"))try{await $r(Ie(ne,"products",V.id)),Se.success("Medicine deleted.")}catch(H){console.error(H),Se.error("Error deleting medicine")}},B=async V=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let H of V.medicineIds)await $r(Ie(ne,"products",H));await $r(Ie(ne,"batches",V.id)),Se.success("Batch deleted.")}catch(H){console.error(H),Se.error("Error deleting batch")}};return c?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",c.email]}),l.jsx(QH,{user:c,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:g,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:T.name,onChange:V=>w({...T,name:V.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:T.ingredient,onChange:V=>w({...T,ingredient:V.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:T.class,onChange:V=>w({...T,class:V.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price (₦)",value:T.price,onChange:V=>w({...T,price:V.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:T.image,onChange:V=>w({...T,image:V.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:T.isPOM,onChange:V=>w({...T,isPOM:V.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{C(null),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:b,style:{marginBottom:"10px"}}),v.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:gg.map(V=>l.jsx("th",{children:V},V))})}),l.jsx("tbody",{children:v.map((V,H)=>l.jsx("tr",{children:gg.map(q=>l.jsx("td",{children:V[q]},q))},H))})]}),l.jsx("button",{onClick:O,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),k.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:k.map(V=>{var H;return l.jsxs("tr",{children:[l.jsx("td",{children:V.name}),l.jsx("td",{children:new Date(V.date).toLocaleString()}),l.jsx("td",{children:((H=V.medicineIds)==null?void 0:H.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>B(V),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},V.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:V=>e(V.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price (₦)"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(V=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:V.name}),l.jsx("td",{children:V.ingredient}),l.jsx("td",{children:V.class}),l.jsx("td",{children:V.price}),l.jsx("td",{children:V.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:V.image&&l.jsx("img",{src:V.image,alt:V.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(V),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(V),children:"Delete"})]})]},V.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(GH,{userId:c.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(qH,{businessId:c.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function GH({userId:t}){const[e,n]=me.useState(null),[r,i]=me.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=me.useState(!1),[a,c]=me.useState(!1);me.useEffect(()=>{const h=Ie(ne,"users",t);dn(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),o(!0))})},[t]);const u=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),c(!0),await tn(Ie(ne,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),c(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:u,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:u,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:u,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:u,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:u,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:u,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function QH({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=me.useState(!1),[s,o]=me.useState(!1),[a,c]=me.useState(""),u=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),c(""),o(!1),!navigator.geolocation){c("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async T=>{const w={latitude:T.coords.latitude,longitude:T.coords.longitude};try{await tn(Ie(ne,"users",t.uid),{location:w,lat:w.latitude,lng:w.longitude}),n(I=>({...I,location:w,lat:w.latitude,lng:w.longitude})),o(!0)}catch{c("Failed to update location.")}i(!1)},T=>{c("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",u&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",u.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}var tu=function(){return tu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tu.apply(this,arguments)};function nb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Id=[];function YH(){var t="https://js.paystack.co/v1/inline.js",e=x.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return x.useEffect(function(){if(Id.includes(t))r({loaded:!0,error:!1});else{Id.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Id.indexOf(t);a>=0&&Id.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var XH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function rP(t){var e=YH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,c=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var u=tu(tu({},t),o),f=u.publicKey,h=u.firstname,m=u.lastname,E=u.phone,T=u.email,w=u.amount,I=u.reference,C=u.metadata,v=C===void 0?{}:C,_=u.currency,k=_===void 0?"NGN":_,M=u.channels,N=u.label,S=N===void 0?"":N,p=u.plan,g=p===void 0?"":p,b=u.quantity,O=b===void 0?"":b,A=u.subaccount,P=A===void 0?"":A,B=u.transaction_charge,V=B===void 0?0:B,H=u.bearer,q=H===void 0?"account":H,L=u.split,z=u.split_code;if(n){var K={callback:a||function(){return null},onClose:c||function(){return null},key:f,ref:I,email:T,firstname:h,lastname:m,phone:E,amount:w,currency:k,plan:g,quantity:O,channels:M,subaccount:P,transaction_charge:V,bearer:q,label:S,metadata:v,split:L,split_code:z,"data-custom-button":u["data-custom-button"]||""};XH(K)}}return x.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var JH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=nb(t,["text","className","children","onSuccess","onClose"]),a=rP(o);return me.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},iP=x.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),ZH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=nb(t,["children","onSuccess","onClose"]),s=rP(i);return me.createElement(iP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},eq=function(t){var e=t.children,n=t.ref,r=x.useContext(iP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,c=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:c,ref:n})};x.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=nb(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return me.createElement(ZH,tu({},s,{onSuccess:o,onClose:a}),me.createElement(eq,{ref:e},n))});async function tq(t){if(!t)return null;const e=xr(Re(ne,"coupons"),br("code","==",t)),n=await Ut(e);return n.empty?null:n.docs[0].data()}function nq(){var L,z,K;const[t,e]=x.useState(""),[n,r]=x.useState(null),[i,s]=x.useState(""),o=Ur(),a=Er(),c=Lo(),[u,f]=x.useState(null),[h,m]=x.useState(((L=c.state)==null?void 0:L.cart)||[]),[E,T]=x.useState(((z=c.state)==null?void 0:z.total)||0),w=h.length===1&&((K=h[0])==null?void 0:K.isConsultation),[I,C]=x.useState("standard"),[v,_]=x.useState(w?0:500),[k,M]=x.useState(1e3),[N,S]=x.useState(E+(w?0:v)),[p,g]=x.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),b="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";x.useEffect(()=>ii(o,async U=>{if(!U)return a("/auth");if(f(U),h.length===0){const Q=Ie(ne,"carts",U.uid),X=await dn(Q);if(X.exists()){const oe=X.data().items||[];m(oe);const ue=oe.reduce((G,ee)=>G+ee.price*(ee.quantity||1),0);T(ue),S(ue+v)}}}),[o,h.length,v,a]),x.useEffect(()=>{let $=h.some(oe=>oe.isPOM)?500:0,U=v,Q=E,X=0;n&&(n.removePOM&&($=0),n.removeDelivery&&(U=0),n.percent>0&&(X=Math.round((Q+$+U)*(n.percent/100)))),M($),S(Q+$+U-X)},[E,v,h,n]),x.useEffect(()=>{_(w?0:I==="standard"?500:3e3)},[I,w]);const O=async()=>{s("");const $=await tq(t.trim().toUpperCase());$?(r($),s("")):(r(null),s("Invalid coupon code"))},A=()=>w?["name","phone","address","age","complaint"].every(U=>{var Q;return(Q=p[U])==null?void 0:Q.trim()}):["name","phone","address","city","state"].every(U=>{var Q;return(Q=p[U])==null?void 0:Q.trim()}),P={reference:new Date().getTime().toString(),email:u==null?void 0:u.email,amount:N*100,publicKey:b},B=async $=>{if(!u||h.length===0)return;const U=Ie(Re(ne,"orders"));await _r(U,{userId:u.uid,items:h,subtotal:E,deliveryFee:v,pomFee:k,total:N,status:"Processing",date:new Date().toISOString(),paymentReference:($==null?void 0:$.reference)||"COUPON_FREE",deliveryInfo:p,coupon:n||null,deliveryType:I}),await _r(Ie(ne,"carts",u.uid),{items:[]}),m([]),T(0),S(0),Se.success("✅ Payment successful! Order created.");const Q=h.find(oe=>oe.isConsultation&&oe.whatsapp);if(Q){window.location.href=`https://wa.me/${Q.whatsapp}`;return}const X=h.find(oe=>oe.isPOM&&oe.pharmacist&&oe.ownerId);if(X&&X.pharmacist&&X.ownerId){a(`/chat/${X.ownerId}`,{state:{pharmacist:X.pharmacist,businessName:X.businessName}});return}h.some(oe=>oe.isPOM)?a("/medinterface"):a("/orders")},V=()=>{Se.info("Payment cancelled.")},H=$=>{g({...p,[$.target.name]:$.target.value})},q=()=>{alert("⚠️ Please complete all delivery information before proceeding.")};return u?l.jsx(qe,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(rh,{children:l.jsxs(ih,{children:[l.jsx(Oe,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"💳 Checkout"}),h.length===0?l.jsx(Oe,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(Oe,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"🛒 Order Summary"}),l.jsx(qe,{sx:{mb:2},children:h.map(($,U)=>l.jsxs(qe,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(Oe,{children:[$.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",$.quantity||1]})]}),l.jsxs(Oe,{fontWeight:500,children:["₦",$.price*($.quantity||1)]})]},U))}),l.jsxs(At,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{children:"Subtotal:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsxs(Oe,{fontWeight:500,children:["₦",E]})}),!w&&l.jsxs(l.Fragment,{children:[l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{children:"Delivery Type:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsx(hR,{fullWidth:!0,size:"small",children:l.jsxs(Zx,{value:I,onChange:$=>C($.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(jS,{value:"standard",children:"Standard (1-2 days) - ₦500"}),l.jsx(jS,{value:"express",children:"Express (30mins-3hrs) - ₦3000"})]})})}),l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{children:"Delivery Fee:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsxs(Oe,{fontWeight:500,children:["₦",n!=null&&n.removeDelivery?0:v]})})]}),l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{color:k>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsxs(Oe,{fontWeight:500,color:k>0?"error":"inherit",children:["₦",n!=null&&n.removePOM?0:k]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{color:"primary",children:"Discount:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsxs(Oe,{color:"primary",children:["-₦",Math.round((E+k+(n!=null&&n.removeDelivery?0:v))*(n.percent/100))]})})]}),l.jsx(At,{item:!0,xs:7,children:l.jsx(Oe,{fontWeight:700,children:"Grand Total:"})}),l.jsx(At,{item:!0,xs:5,children:l.jsxs(Oe,{fontWeight:700,children:["₦",N]})})]}),l.jsxs(qe,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(Fn,{size:"small",label:"Coupon code",value:t,onChange:$=>e($.target.value),sx:{mr:1,flex:1}}),l.jsx(Vn,{variant:"outlined",onClick:O,children:"Apply"})]}),i&&l.jsx(mS,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(mS,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(fR,{sx:{my:3}}),w?l.jsxs(l.Fragment,{children:[l.jsx(Oe,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"🩺 Consultation Information"}),l.jsxs(At,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:H})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:H})}),l.jsx(At,{item:!0,xs:12,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:p.address,onChange:H})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:p.age,onChange:H,type:"number"})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:p.complaint,onChange:H,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Oe,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"�📍 Delivery Information"}),l.jsxs(At,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:H})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:H})}),l.jsx(At,{item:!0,xs:12,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:p.address,onChange:H})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"City",name:"city",value:p.city,onChange:H})}),l.jsx(At,{item:!0,xs:12,sm:6,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"State",name:"state",value:p.state,onChange:H})}),l.jsx(At,{item:!0,xs:12,children:l.jsx(Fn,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:p.instructions,onChange:H,multiline:!0,minRows:2})})]})]}),l.jsx(qe,{sx:{mt:2,textAlign:"center"},children:A()?N>0?l.jsx(JH,{text:"Pay Now 💳",className:"paystack-button",...P,callback:B,close:V,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(Vn,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>B({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(Vn,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:q,disabled:!0,children:"Pay Now 💳"})})]})]})})}):l.jsx("p",{children:"Loading..."})}function rq(){const[t,e]=x.useState([]),[n,r]=x.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=x.useState(null);x.useEffect(()=>{const u=kt(Re(ne,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>u()},[]);const o=async u=>{if(u.preventDefault(),!n.code)return alert("Coupon code required");i?(await tn(Ie(ne,"coupons",i),n),s(null)):await ns(Re(ne,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=u=>{r({code:u.code,percent:u.percent,removePOM:!!u.removePOM,removeDelivery:!!u.removeDelivery}),s(u.id)},c=async u=>{window.confirm("Delete coupon?")&&await $r(Ie(ne,"coupons",u))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:"🎟 Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:u=>r({...n,code:u.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:u=>r({...n,percent:parseInt(u.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:u=>r({...n,removePOM:u.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:u=>r({...n,removeDelivery:u.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.code}),l.jsxs("td",{children:[u.percent,"%"]}),l.jsx("td",{children:u.removePOM?"Removed":"-"}),l.jsx("td",{children:u.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(u),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})]})}function iq(){const[t,e]=x.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=x.useState([]),[i,s]=x.useState(null),[o,a]=x.useState({}),[c,u]=x.useState(!1),[f,h]=x.useState("");x.useEffect(()=>{const v=kt(Re(ne,"deliveryAgents"),_=>{r(_.docs.map(k=>({id:k.id,...k.data()})))});return()=>v()},[]),x.useEffect(()=>{async function v(){const _=xr(Re(ne,"deliveryAgents"));(await Ut(_)).forEach(async M=>{typeof M.data().approved>"u"&&await Ie(ne,"deliveryAgents",M.id).update({approved:!1})})}v()},[]);const m=v=>{a({...o,[v.target.name]:v.target.value})},E=v=>{s(v.id),a(v)},T=async v=>{await tn(Ie(ne,"deliveryAgents",v),o),s(null),a({})},w=async v=>{window.confirm("Delete this delivery agent?")&&await $r(Ie(ne,"deliveryAgents",v))},I=async v=>{u(!0),h(""),await tn(Ie(ne,"deliveryAgents",v),{approved:!0}),u(!1),h("Agent approved and now visible to public.")},C=async v=>{u(!0),h(""),await tn(Ie(ne,"deliveryAgents",v),{approved:!1}),u(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[c&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(v=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===v.id?l.jsxs("form",{onSubmit:_=>{_.preventDefault(),T(v.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(me.Fragment,{children:[l.jsx("img",{src:v.logoUrl,alt:v.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:v.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:v.businessAddress}),l.jsxs("div",{children:["RC Number: ",v.rcNumber]}),l.jsxs("div",{children:["Phone: ",v.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",v.whatsappNumber]}),l.jsxs("div",{children:["Email: ",v.email]}),l.jsxs("div",{children:["Coverage: ",v.coverageArea]}),l.jsxs("div",{children:["Hours: ",v.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(v),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>w(v.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!v.approved&&l.jsx("button",{onClick:()=>I(v.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),v.approved&&l.jsx("button",{onClick:()=>C(v.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),v.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:"✅ Approved"})]})},v.id))]})})}function sq(){const[t,e]=x.useState([]);x.useEffect(()=>{(async()=>{try{const re=await Ut(Re(ne,"deliveryAgents"));e(re.docs.map(de=>({id:de.id,...de.data()})))}catch{e([])}})()},[]);const[n,r]=x.useState({}),i=async(j,re)=>{try{const de=t.find(lt=>lt.id===re),Ve=(de==null?void 0:de.userId)||"";await tn(Ie(ne,"orders",j),{riderId:Ve,assignedAgentId:Ve,assignedAgentName:de?de.companyName||de.name||de.email||de.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(lt=>({...lt,[j]:!1})),Se.success("Order reassigned successfully.")}catch{Se.error("Failed to reassign order.")}},s=async j=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await tn(Ie(ne,"orders",j.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),Se.success("Order cancelled.")}catch{Se.error("Failed to cancel order.")}},[o,a]=x.useState({pending:!0,completed:!0,cancelled:!0}),[c,u]=x.useState(""),[f,h]=x.useState(""),[m,E]=x.useState(""),[T,w]=x.useState(""),[I,C]=x.useState({}),[v,_]=x.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,S]=me.useState(null);if(x.useEffect(()=>{Oa(async()=>{const{getAuth:j,onAuthStateChanged:re}=await Promise.resolve().then(()=>ik);return{getAuth:j,onAuthStateChanged:re}},void 0).then(({getAuth:j,onAuthStateChanged:re})=>{const de=j();re(de,async Ve=>{if(Ve){const{getDoc:lt,doc:it}=await Oa(async()=>{const{getDoc:ct,doc:Rr}=await Promise.resolve().then(()=>lx);return{getDoc:ct,doc:Rr}},void 0),{db:St}=await Oa(async()=>{const{db:ct}=await Promise.resolve().then(()=>N4);return{db:ct}},void 0),je=await lt(it(St,"users",Ve.uid));S(je.exists()?je.data().role:null)}else S(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,g]=x.useState([]);x.useEffect(()=>{const j=kt(Re(ne,"businessRegistrations"),re=>{g(re.docs.map(de=>({id:de.id,...de.data()})))});return()=>j()},[]);const b=async(j,re)=>{if(await tn(Ie(ne,"businessRegistrations",j.id),{status:re}),re==="declined"){const de=xr(Re(ne,"orders"),br("userId","==",j.businessId),br("items","array-contains-any",j.cart)),Ve=await Ut(de);for(const lt of Ve.docs)await tn(Ie(ne,"orders",lt.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}Se.info(`Registration ${re}`)},[O,A]=x.useState(""),[P,B]=x.useState(""),[V,H]=x.useState(""),[q,L]=x.useState(""),[z,K]=x.useState(""),$=()=>{let j=Z;O&&(j=j.filter(je=>new Date(je.completedAt||je.date)>=new Date(O))),P&&(j=j.filter(je=>new Date(je.completedAt||je.date)<=new Date(P))),V&&(j=j.filter(je=>je.medicVerifiedBy===V)),q&&(j=j.filter(je=>je.items&&je.items.some(ct=>ct.name&&ct.name.toLowerCase().includes(q.toLowerCase())))),z==="true"&&(j=j.filter(je=>je.items&&je.items.some(ct=>ct.isPOM))),z==="false"&&(j=j.filter(je=>je.items&&!je.items.some(ct=>ct.isPOM)));const re=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],de=j.map(je=>[je.id,new Date(je.completedAt||je.date).toLocaleString(),Ge[je.userId]&&Ge[je.userId].email?Ge[je.userId].email:je.userId,je.medicVerifiedBy?(Pe.concat($e).find(ct=>ct.id===je.medicVerifiedBy)||{}).name||je.medicVerifiedBy:"",je.total||kr(je.items||[]),je.items?je.items.map(ct=>`${ct.name} (${ct.quantity||1})`).join("; "):"",je.items?je.items.filter(ct=>ct.isPOM).map(ct=>ct.name).join("; "):""]),Ve=[re,...de].map(je=>je.map(ct=>`"${String(ct).replace(/"/g,'""')}"`).join(",")).join(`\r
`),lt=new Blob([Ve],{type:"text/csv"}),it=URL.createObjectURL(lt),St=document.createElement("a");St.href=it,St.download=`orders_${Date.now()}.csv`,document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(it)},[U,Q]=x.useState(""),[X,oe]=x.useState(null),[ue,G]=x.useState(null),[ee,W]=x.useState([]),[ae,te]=x.useState([]),[ie,pe]=x.useState(""),[ge,ve]=x.useState([]),[be,Je]=x.useState([]),[_e,ze]=x.useState("products"),[Ae,Xe]=x.useState({}),[at,dt]=x.useState(null),[De,xt]=x.useState(!0),[Pe,He]=x.useState([]),[$e,Te]=x.useState([]),[wt,Pt]=x.useState(""),[Ze,we]=x.useState("date-desc"),rt=Ur();x.useEffect(()=>{const j=ii(rt,async re=>{if(re){oe(re);const de=await dn(Ie(ne,"users",re.uid));G(de.exists()?de.data():{role:"customer"})}else oe(null),G(null)});return()=>j()},[rt]),x.useEffect(()=>{const j=kt(Re(ne,"products"),de=>W(de.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),re=kt(Re(ne,"batches"),de=>{te(de.docs.map(Ve=>({id:Ve.id,...Ve.data()}))),xt(!1)});return()=>{j(),re()}},[]),x.useEffect(()=>{if(!ue)return;const j=kt(Re(ne,"users"),re=>ve(re.docs.map(de=>({id:de.id,...de.data()}))));return()=>j()},[ue]),x.useEffect(()=>{const j=kt(Re(ne,"orders"),re=>{const de=re.docs.map(Ve=>({id:Ve.id,...Ve.data()}));de.sort((Ve,lt)=>new Date(lt.date)-new Date(Ve.date)),Je(de)});return()=>j()},[]);const Ge={};ge.forEach(j=>Ge[j.id]=j);const Cr=async j=>{if(window.confirm(`Delete medicine: ${j.name}?`))try{await $r(Ie(ne,"products",j.id)),Se.success("Medicine deleted.")}catch(re){console.error(re),Se.error("Error deleting medicine")}},as=async j=>{if(window.confirm(`Delete batch: ${j.name}?`))try{for(let re of j.medicineIds)await $r(Ie(ne,"products",re));await $r(Ie(ne,"batches",j.id))}catch(re){console.error(re),alert("Error deleting batch")}},Js=async(j,re)=>{try{await tn(Ie(ne,"users",j),{role:re}),alert("Role updated!")}catch(de){console.error(de),alert("Error updating role")}},Ir=j=>Xe(re=>({...re,[j]:!re[j]}));x.useEffect(()=>{Ut(Re(ne,"verifyMedics")).then(j=>{He(j.docs.map(re=>({id:re.id,...re.data(),type:"Prescription Verification"})))}),Ut(Re(ne,"consultMedics")).then(j=>{Te(j.docs.map(re=>({id:re.id,...re.data(),type:"Consultation"})))})},[]);const si=async j=>{var Ve;const re=(Ve=j.items)==null?void 0:Ve.some(lt=>lt.isPOM);let de=null;if(re){if(!U)return alert("Select a verifying medic before completing POM order.");de=U}window.confirm("Mark order as completed?")&&(await tn(Ie(ne,"orders",j.id),{status:"Completed",completedBy:X.uid,completedAt:new Date().toISOString(),medicVerifiedBy:de||null}),alert("✅ Order marked completed"),Q(""))},kr=j=>j.reduce((re,de)=>re+de.price*(de.quantity||1),0);if(!X)return l.jsx("p",{children:"Please log in to access admin."});if(!ue)return l.jsx("p",{children:"Loading user data..."});if(ue.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(De)return l.jsx("p",{children:"Loading dashboard..."});const ls=be.filter(j=>j.status==="Processing"||j.status==="In-Progress").filter(j=>{var de,Ve;if(!wt)return!0;const re=wt.toLowerCase();return(((de=Ge[j.userId])==null?void 0:de.email)||j.userId).toLowerCase().includes(re)||((Ve=j.items)==null?void 0:Ve.some(lt=>lt.name.toLowerCase().includes(re)))}).sort((j,re)=>Ze==="date-desc"?new Date(re.date)-new Date(j.date):Ze==="date-asc"?new Date(j.date)-new Date(re.date):Ze==="amount-desc"?(re.total||0)-(j.total||0):Ze==="amount-asc"?(j.total||0)-(re.total||0):0),Z=be.filter(j=>j.status==="Completed"),Fe=Z.filter(j=>{var de,Ve;if(!wt)return!0;const re=wt.toLowerCase();return(((de=Ge[j.userId])==null?void 0:de.email)||j.userId).toLowerCase().includes(re)||((Ve=j.items)==null?void 0:Ve.some(lt=>lt.name.toLowerCase().includes(re)))}).sort((j,re)=>Ze==="date-desc"?new Date(re.completedAt||re.date)-new Date(j.completedAt||j.date):Ze==="date-asc"?new Date(j.completedAt||j.date)-new Date(re.completedAt||re.date):Ze==="amount-desc"?(re.total||0)-(j.total||0):Ze==="amount-asc"?(j.total||0)-(re.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((j,re)=>{var de,Ve,lt,it,St;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((de=j.businessInfo)==null?void 0:de.businessName)||j.businessId]}),l.jsxs("p",{children:["Email: ",((Ve=j.businessInfo)==null?void 0:Ve.email)||""]}),l.jsxs("p",{children:["Phone: ",((lt=j.businessInfo)==null?void 0:lt.phone)||""]}),l.jsxs("p",{children:["Address: ",((it=j.businessInfo)==null?void 0:it.address)||""]}),l.jsxs("p",{children:["Products: ",(St=j.cart)==null?void 0:St.map(je=>je.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:j.status})]}),j.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>b(j,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>b(j,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},j.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>ze("products"),style:Zo(_e==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>ze("users"),style:Zo(_e==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>ze("orders"),style:Zo(_e==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>ze("medics"),style:Zo(_e==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>ze("deliveryagents"),style:Zo(_e==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>ze("coupons"),style:Zo(_e==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:"🛠 Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",X.email]}),_e==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"🚚 Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(iq,{})]})]})]}),_e==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"📂 CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:ie,onChange:j=>pe(j.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),ae.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ae.filter(j=>{var de;return ie?(((de=Ge[j.uploadedBy])==null?void 0:de.businessName)||"").toLowerCase().includes(ie.toLowerCase()):!0}).map(j=>{var re,de;return l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:j.name}),l.jsx("td",{children:new Date(j.date).toLocaleString()}),l.jsx("td",{children:((re=Ge[j.uploadedBy])==null?void 0:re.businessName)||j.uploadedBy}),l.jsx("td",{children:((de=j.medicineIds)==null?void 0:de.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>as(j),children:"Delete"})})]},j.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:"💊 Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:c||"",onChange:j=>u(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:j=>h(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:j=>E(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(ee.map(j=>j.class).filter(Boolean))].sort().map(j=>l.jsx("option",{value:j,children:j},j))]}),l.jsxs("select",{value:T||"",onChange:j=>w(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(ee.map(j=>j.ownerId).filter(Boolean))].map(j=>{var re;return l.jsx("option",{value:j,children:((re=Ge[j])==null?void 0:re.businessName)||j},j)})]})]}),ee.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price (₦)"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ee.filter(j=>{var re,de;return!(c&&!((re=j.name)!=null&&re.toLowerCase().includes(c.toLowerCase()))||f&&!((de=j.ingredient)!=null&&de.toLowerCase().includes(f.toLowerCase()))||m&&j.class!==m||T&&j.ownerId!==T)}).map(j=>{var re;return l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:j.name}),l.jsx("td",{children:j.ingredient}),l.jsx("td",{children:j.class}),l.jsx("td",{children:j.price}),l.jsx("td",{children:((re=Ge[j.ownerId])==null?void 0:re.businessName)||j.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Cr(j),children:"Delete"})})]},j.id)})})]})]}),_e==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"👥 All Users"}),ge.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:ge.map(j=>l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:j.email}),l.jsx("td",{children:j.role}),l.jsx("td",{children:l.jsxs("select",{value:j.role||"customer",onChange:re=>Js(j.id,re.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>dt(j),children:"View Details"})})]},j.id))})]}),at&&l.jsx(oq,{user:at,medicines:ee.filter(j=>j.ownerId===at.id),orders:be.filter(j=>j.userId===at.id),onClose:()=>dt(null)})]}),_e==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(j=>({...j,pending:!j.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"▼":"▶"}),"📦 Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:wt,onChange:j=>Pt(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ze,onChange:j=>we(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:j=>A(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:j=>B(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:j=>H(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Pe,...$e].map(j=>l.jsxs("option",{value:j.id,children:[j.name," (",j.profession,")"]},j.id))]}),l.jsx("input",{type:"text",value:q,onChange:j=>L(j.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:j=>K(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:$,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),ls.length===0?l.jsx("p",{children:"No pending orders."}):ls.map(j=>{var oi,qn,on,Jt,Ri;const re=(oi=j.items)==null?void 0:oi.some(Le=>Le.isPOM),de=j.deliveryInfo?`${j.deliveryInfo.address||""}, ${j.deliveryInfo.city||""}, ${j.deliveryInfo.state||""}`:"N/A",Ve=j.deliveryInfo&&j.deliveryInfo.lat?j.deliveryInfo.lat:null,lt=j.deliveryInfo&&j.deliveryInfo.lng?j.deliveryInfo.lng:null;let it="N/A",St=null,je=null;if(j.businessId&&Ge[j.businessId]){const Le=Ge[j.businessId];it=`${Le.address||""}, ${Le.city||""}, ${Le.state||""}`,St=Le.lat||null,je=Le.lng||null}const ct=Ae[j.id]?I[j.id]?j.items:(qn=j.items)==null?void 0:qn.slice(0,3):[],Rr=j.items&&j.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",j.deliveryType?j.deliveryType.charAt(0).toUpperCase()+j.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(j.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(j.id),children:Ae[j.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((on=Ge[j.userId])==null?void 0:on.email)||j.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!j.deliveryInfo||!j.deliveryInfo.address&&!j.deliveryInfo.city&&!j.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):de]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Ve&&lt?`${Ve}, ${lt}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",it]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",St&&je?`${St}, ${je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Le=j.riderId||j.assignedAgentId;let Vt=null;return Le&&Ge[Le]?(Vt=Ge[Le],`${Vt.companyName||Vt.name||Vt.email||Le}${Vt.phoneNumber||Vt.whatsappNumber?` (${[Vt.phoneNumber,Vt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Le&&t.length?(Vt=t.find(Bo=>Bo.id===Le),Vt?`${Vt.companyName||Vt.name||Vt.id}${Vt.phoneNumber||Vt.whatsappNumber?` (${[Vt.phoneNumber,Vt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Le):Le||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Le=>({...Le,[j.id]:!Le[j.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:"↻"})," reassign order"]}),n[j.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Le=>{Le.target.value&&i(j.id,Le.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Le=>l.jsxs("option",{value:Le.id,children:[Le.companyName||Le.name||Le.email||Le.id,Le.phoneNumber||Le.whatsappNumber?` (${[Le.phoneNumber,Le.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Le.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!j.riderId&&!j.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):j.status==="cancelled"&&j.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):j.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):j.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(j.riderId||j.assignedAgentId)&&j.status!=="Completed"&&j.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):j.status]})]}),Ae[j.id]&&((Jt=j.items)==null?void 0:Jt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[j.id]?"none":120,overflowY:Rr&&!I[j.id]?"hidden":"auto",marginBottom:4},children:ct.map((Le,Vt)=>l.jsxs("li",{children:[Le.name," - ₦",Le.price," x ",Le.quantity||1]},Vt))}),Rr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>C(Le=>({...Le,[j.id]:!Le[j.id]})),children:I[j.id]?"Show Less":`Show All (${j.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",kr(j.items||[]),re&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),re&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:U,onChange:Le=>Q(Le.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Pe,...$e].map(Le=>l.jsxs("option",{value:Le.id,children:[Le.name," (",Le.profession,") - ",Le.type]},Le.id))]})]}),l.jsx("button",{onClick:()=>si(j),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(j),children:"Cancel Order"}),j.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(j.completedAt).toLocaleString(),l.jsx("br",{}),j.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Ri=Pe.find(Le=>Le.id===j.medicVerifiedBy))==null?void 0:Ri.name)||j.medicVerifiedBy]})]})]},j.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(j=>({...j,completed:!j.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"▼":"▶"}),"✅ Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:wt,onChange:j=>Pt(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ze,onChange:j=>we(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:j=>A(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:j=>B(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:j=>H(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Pe,...$e].map(j=>l.jsxs("option",{value:j.id,children:[j.name," (",j.profession,")"]},j.id))]}),l.jsx("input",{type:"text",value:q,onChange:j=>L(j.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:j=>K(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:$,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Fe.length===0?l.jsx("p",{children:"No completed orders found."}):Fe.map(j=>{var Rr,oi,qn,on;const re=j.deliveryInfo?`${j.deliveryInfo.address||""}, ${j.deliveryInfo.city||""}, ${j.deliveryInfo.state||""}`:"N/A",de=j.deliveryInfo&&j.deliveryInfo.lat?j.deliveryInfo.lat:null,Ve=j.deliveryInfo&&j.deliveryInfo.lng?j.deliveryInfo.lng:null;let lt="N/A",it=null,St=null;if(j.businessId&&Ge[j.businessId]){const Jt=Ge[j.businessId];lt=`${Jt.address||""}, ${Jt.city||""}, ${Jt.state||""}`,it=Jt.lat||null,St=Jt.lng||null}const je=Ae[j.id]?v[j.id]?j.items:(Rr=j.items)==null?void 0:Rr.slice(0,3):[],ct=j.items&&j.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",j.deliveryType?j.deliveryType.charAt(0).toUpperCase()+j.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(j.completedAt||j.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(j.id),children:Ae[j.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=Ge[j.userId])==null?void 0:oi.email)||j.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!j.deliveryInfo||!j.deliveryInfo.address&&!j.deliveryInfo.city&&!j.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):re]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",lt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",it&&St?`${it}, ${St}`:"N/A"]}),Ae[j.id]&&((qn=j.items)==null?void 0:qn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[j.id]?"none":120,overflowY:ct&&!v[j.id]?"hidden":"auto",marginBottom:4},children:je.map((Jt,Ri)=>l.jsxs("li",{children:[Jt.name," - ₦",Jt.price," x ",Jt.quantity||1]},Ri))}),ct&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(Jt=>({...Jt,[j.id]:!Jt[j.id]})),children:v[j.id]?"Show Less":`Show All (${j.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",j.total||kr(j.items||[])]}),j.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((on=Pe.concat($e).find(Jt=>Jt.id===j.medicVerifiedBy))==null?void 0:on.name)||j.medicVerifiedBy]}),j.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(j.completedAt).toLocaleString()]})]},j.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(j=>({...j,cancelled:!j.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"▼":"▶"}),"❌ Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:wt,onChange:j=>Pt(j.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Ze,onChange:j=>we(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:j=>A(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:j=>B(j.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:j=>H(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Pe,...$e].map(j=>l.jsxs("option",{value:j.id,children:[j.name," (",j.profession,")"]},j.id))]}),l.jsx("input",{type:"text",value:q,onChange:j=>L(j.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:j=>K(j.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:$,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),be.filter(j=>j.status==="cancelled"&&j.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):be.filter(j=>j.status==="cancelled"&&j.cancelledBy==="admin").map(j=>{var Rr,oi,qn;const re=j.deliveryInfo?`${j.deliveryInfo.address||""}, ${j.deliveryInfo.city||""}, ${j.deliveryInfo.state||""}`:"N/A",de=j.deliveryInfo&&j.deliveryInfo.lat?j.deliveryInfo.lat:null,Ve=j.deliveryInfo&&j.deliveryInfo.lng?j.deliveryInfo.lng:null;let lt="N/A",it=null,St=null;if(j.businessId&&Ge[j.businessId]){const on=Ge[j.businessId];lt=`${on.address||""}, ${on.city||""}, ${on.state||""}`,it=on.lat||null,St=on.lng||null}const je=Ae[j.id]?v[j.id]?j.items:(Rr=j.items)==null?void 0:Rr.slice(0,3):[],ct=j.items&&j.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",j.deliveryType?j.deliveryType.charAt(0).toUpperCase()+j.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(j.cancelledAt||j.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(j.id),children:Ae[j.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=Ge[j.userId])==null?void 0:oi.email)||j.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!j.deliveryInfo||!j.deliveryInfo.address&&!j.deliveryInfo.city&&!j.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):re]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",lt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",it&&St?`${it}, ${St}`:"N/A"]}),Ae[j.id]&&((qn=j.items)==null?void 0:qn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[j.id]?"none":120,overflowY:ct&&!v[j.id]?"hidden":"auto",marginBottom:4},children:je.map((on,Jt)=>l.jsxs("li",{children:[on.name," - ₦",on.price," x ",on.quantity||1]},Jt))}),ct&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(on=>({...on,[j.id]:!on[j.id]})),children:v[j.id]?"Show Less":`Show All (${j.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",j.total||kr(j.items||[])]}),j.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(j.cancelledAt).toLocaleString()]})]},j.id)})]})]})]}),_e==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"🩺 Medical Interface Profiles"}),l.jsx(aq,{})]}),_e==="coupons"&&l.jsx(rq,{})]})}const Zo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),yg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},vg={borderBottom:"1px solid #eee"},xg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function oq({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:["👤 ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:"📦 Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ₦",i.price]},i.id))}),l.jsx("h5",{children:"🛒 Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ₦",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function aq(){const[t,e]=me.useState([]),[n,r]=me.useState([]),[i,s]=me.useState([]),[o,a]=me.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[c,u]=me.useState(!1),[f,h]=me.useState(null);me.useEffect(()=>{(async()=>{const I=await Ut(Re(ne,"verifyMedics"));e(I.docs.map(k=>({id:k.id,...k.data()})));const C=await Ut(Re(ne,"consultMedics"));r(C.docs.map(k=>({id:k.id,...k.data()})));const v=await Ut(Re(ne,"users")),_=[];v.docs.forEach(k=>{const M=k.data();M.role==="medicine-manager"&&M.pharmacist&&_.push({...M.pharmacist,id:k.id,online:!0})}),s(_)})()},[]);const m=async(w,I)=>{await tn(Ie(ne,w==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),w==="verify"?e(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_)):r(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_))},E=w=>{a({...o,[w.target.name]:w.target.value})},T=async w=>{w.preventDefault(),u(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(v=>v.trim()),whatsapp:o.whatsapp},C=o.section==="verify"?"verifyMedics":"consultMedics";f?await tn(Ie(ne,C,f.id),I):await ns(Re(ne,C),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),u(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:T,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:c,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["Pharmacy: ",w.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"verify"}),a({section:"verify",photo:w.photo,name:w.name,profession:w.profession,license:w.license,pharmacyName:w.pharmacyName,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"consult"}),a({section:"consult",photo:w.photo,name:w.name,profession:w.profession,license:w.license,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})})]})}function lq(){const{slug:t}=cu();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(eP,{storeSlug:t})]})}function cq(){const[t,e]=x.useState([]),[n,r]=x.useState(!1),i=Er(),s=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:b,photo:O}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!o)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:A=>A.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:A=>A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[O&&l.jsx("img",{src:O,alt:b,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",b]})},[o,a]=x.useState(null),[c,u]=x.useState(null),f=Ur(),{slug:h}=cu(),[m,E]=x.useState(null),[T,w]=x.useState(!0),[I,C]=x.useState([]),[v,_]=x.useState([]),[k,M]=x.useState(""),[N,S]=x.useState(null),p=(b,O,A,P)=>{const B=K=>K*Math.PI/180,H=B(A-b),q=B(P-O),L=Math.sin(H/2)**2+Math.cos(B(b))*Math.cos(B(A))*Math.sin(q/2)**2;return 6371*(2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)))},g=b=>{const P=b*1.64,B=Math.max(1,Math.round(P/25*60));return{drivingKm:P,minutes:B}};return x.useEffect(()=>{const b=ii(f,O=>{a(O)});return()=>b()},[f]),x.useEffect(()=>{if(!m||!o||o.uid!==m.uid)return;const b=kt(Re(ne,"orders"),O=>{const B=O.docs.map(V=>({id:V.id,...V.data()})).filter(V=>Array.isArray(V.items)&&V.items.some(H=>H.ownerId===m.uid)).filter(V=>!t.includes(V.id));B.length>0&&(B.forEach(V=>{Se.info(`🛒 New order received! Order ID: ${V.id}`)}),e(V=>[...V,...B.map(H=>H.id)]))});return()=>b()},[m,o,t]),x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(b=>S({lat:b.coords.latitude,lng:b.coords.longitude}),()=>S(null))},[]),x.useEffect(()=>{if(!h)return;w(!0),(async()=>{const O=xr(Re(ne,"users"),br("slug","==",h)),A=await Ut(O);if(A.empty)E(null);else{const P=A.docs[0];E({uid:P.id,...P.data()})}w(!1)})()},[h]),x.useEffect(()=>{if(!m)return;const b=xr(Re(ne,"products"),br("ownerId","==",m.uid)),O=kt(b,A=>{const P=A.docs.map(B=>({id:B.id,...B.data()}));C(P)});return()=>O()},[m]),x.useEffect(()=>{if(!I)return;const b=(V="")=>V.toLowerCase().trim().replace(/\s+/g," "),O={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},A=b(k),P=(O[A]||A).split(" "),B=I.map(V=>{var H,q;if(N&&((H=m.location)!=null&&H.latitude)&&((q=m.location)!=null&&q.longitude)){const L=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:z}=g(L);return{...V,minutesAway:z}}return{...V,minutesAway:1/0}}).filter(V=>{const H=b(V.name),q=b(V.ingredient),L=b(V.class);return P.some(z=>H.includes(z)||q.includes(z)||L.includes(z))}).sort((V,H)=>V.minutesAway-H.minutesAway);_(B)},[I,k,N,m]),T?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(s,{}),l.jsxs("h2",{children:["🩺 ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:k,onChange:b=>M(b.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),v.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:v.map(b=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[b.image&&l.jsx("img",{src:b.image,alt:b.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:b.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:b.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",b.class||"No class listed"]}),l.jsxs("p",{children:["Price: ₦",b.price!==void 0?b.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:["🏥 ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!o)return alert("Please log in first");const O=Ie(ne,"carts",o.uid),A=await dn(O);let P=A.exists()?A.data().items||[]:[];const B=P.findIndex(V=>V.name===b.name);B>=0?P[B].quantity+=1:P.push({...b,quantity:1}),await _r(O,{items:P}),u(b.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),c===b.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),b.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:b.minutesAway<=1?"📍 Right here":`💨 ~${b.minutesAway} mins away`})]},b.id))})]})}function pn(){return typeof window<"u"&&window.innerWidth<=600}function uq(){const[t,e]=x.useState([]),[n,r]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{async function a(){const c=await Ut(Re(ne,"users")),u=[];c.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&u.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(u),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:pn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:pn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:pn()?15:16,width:pn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:pn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:pn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:pn()?14:32},children:o.map(a=>l.jsxs(Dh,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:pn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:pn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:pn()?50:80,height:pn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:pn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:pn()?50:80,height:pn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:pn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:pn()?18:32,color:"#7c3aed"},children:"🏪"}),l.jsx("div",{style:{fontWeight:600,fontSize:pn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:pn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:pn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const dq=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),c=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},fq=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},YS=["admin","medicine-manager","distributor"],XS=["admin","distributor"];function hq(){const[t,e]=x.useState(null),[n,r]=x.useState(null),[i,s]=x.useState("shop"),[o,a]=x.useState([]),[c,u]=x.useState([]),[f,h]=x.useState(""),[m,E]=x.useState(null),[T,w]=x.useState(null);x.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(_=>E({lat:_.coords.latitude,lng:_.coords.longitude}),()=>E("denied"))},[]),x.useEffect(()=>{const _=kt(Re(ne,"products"),async k=>{const M=await Promise.all(k.docs.map(async N=>{var p,g;const S={id:N.id,...N.data()};if(S.ownerId){const b=Ie(ne,"users",S.ownerId),O=await dn(b);if(O.exists()){const A=O.data();S.businessName=A.businessName||"Unknown Distributor",S.ownerSlug=A.slug||null,S.ownerRole=A.role||null,(p=A.location)!=null&&p.latitude&&((g=A.location)!=null&&g.longitude)&&(S.businessLat=A.location.latitude,S.businessLng=A.location.longitude)}}return S}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>_()},[]),x.useEffect(()=>{if(o.length===0)return;let _=o;if(f.trim()){const k=f.toLowerCase();_=o.filter(M=>M.name&&M.name.toLowerCase().includes(k)||M.ingredient&&M.ingredient.toLowerCase().includes(k)||M.class&&M.class.toLowerCase().includes(k))}m&&m!=="denied"&&(_=_.map(k=>{if(k.businessLat&&k.businessLng){const M=dq(m.lat,m.lng,k.businessLat,k.businessLng),{minutes:N}=fq(M);return{...k,minutesAway:N}}return{...k,minutesAway:1/0}}),_.sort((k,M)=>k.minutesAway-M.minutesAway)),u(_)},[o,f,m]);const I=async _=>{if(!t)return alert("Please login first");try{const k=Ie(ne,"carts",t.uid),M=await dn(k);let N=[];M.exists()&&(N=M.data().items||[]);const S=N.findIndex(p=>p.id===_.id);S>=0?N[S].quantity+=1:N.push({..._,quantity:1}),await _r(k,{items:N}),w(`Added ${_.name} to cart!`),setTimeout(()=>w(null),1500)}catch{alert("Error adding to cart")}};if(x.useEffect(()=>{const _=Ur(),k=ii(_,async M=>{if(!M){e(null),r(null);return}e(M);const N=Ie(ne,"users",M.uid),S=await dn(N);r(S.exists()?S.data().role:null)});return()=>k()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!YS.includes(n)&&!XS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const C=YS.includes(n),v=XS.includes(n);return i==="shop"&&!C||i==="add"&&!v?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[C&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),v&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&C&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:_=>h(_.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T&&l.jsx("div",{style:{color:"green",marginBottom:10},children:T}),c.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:c.map(_=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[_.registeredOnly&&_.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),_.image&&l.jsx("img",{src:_.image,alt:_.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:_.name}),l.jsx("p",{children:l.jsx("em",{children:_.ingredient})}),l.jsxs("p",{children:["Class: ",_.class]}),l.jsxs("p",{children:["Price: ₦",_.price]}),Array.isArray(_.moqs)&&_.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",_.moqs.map((k,M)=>l.jsx("span",{style:{marginRight:8},children:k.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",_.businessName]}),_.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:_.minutesAway<=1?"📍 Right here":`💨 ~${_.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(_),children:"Add to Cart"})]},_.id))})]}),i==="add"&&v&&l.jsx(pq,{user:t,role:n})]})}function pq({user:t,role:e}){const[n,r]=me.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=me.useState([]),[o,a]=me.useState(!1);me.useEffect(()=>{if(e!=="distributor")return;const L=kt(Re(ne,"businessRegistrations"),z=>{s(z.docs.filter(K=>K.data().distributorId===t.uid&&K.data().status==="approved").map(K=>K.data()))});return()=>L()},[t,e]);const c=(L,z)=>{const K=n.moqs.map(($,U)=>U===L?{type:z.target.value}:$);r({...n,moqs:K})},u=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=L=>{r({...n,moqs:n.moqs.filter((z,K)=>K!==L)})},[h,m]=me.useState(null),[E,T]=me.useState([]),[w,I]=me.useState([]),[C,v]=me.useState([]),[_,k]=me.useState(!1),[M,N]=me.useState(null),[S,p]=me.useState(null);me.useEffect(()=>{if(!t)return;const L=kt(Re(ne,"products"),z=>{let K=z.docs.map($=>({id:$.id,...$.data()}));g()||(K=K.filter($=>$.ownerId===t.uid)),T(K)});return()=>L()},[t]),me.useEffect(()=>{if(!t)return;const L=kt(Re(ne,"batches"),z=>{let K=z.docs.map($=>({id:$.id,...$.data()}));g()||(K=K.filter($=>$.uploadedBy===t.uid)),I(K)});return()=>L()},[t]);function g(){var L;return(L=t==null?void 0:t.email)==null?void 0:L.includes("admin")}const b=L=>r({...n,[L.target.name]:L.target.value}),O=async()=>{const L=!n.registeredOnly;if(r({...n,registeredOnly:L}),e==="distributor"&&(t!=null&&t.uid)){const z=Re(ne,"products"),K=await getDocs(z),$=[];K.docs.forEach(U=>{if(U.data().ownerId===t.uid){const X={registeredOnly:L};L?X.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:X.registeredUniqueId=null,$.push(updateDoc(Ie(ne,"products",U.id),X))}}),await Promise.all($),window.location.reload()}},A=async L=>{L.preventDefault(),k(!0),p(null),N(null);try{let z=e,K=null,$=null;if(e==="distributor"){const Q=Ie(ne,"users",t.uid),X=await dn(Q);X.exists()&&(K=X.data().slug||X.data().businessSlug||null),n.registeredOnly&&($=`${t.uid}_${Date.now()}`)}const U={...n,ownerId:t.uid,ownerRole:z,ownerSlug:K};$&&(U.registeredUniqueId=$),h?(await _r(Ie(ne,"products",h),U,{merge:!0}),m(null),N("Medicine updated!")):(await ns(Re(ne,"products"),U),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}k(!1)},P=L=>{r({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",moqs:L.moqs||[{type:"sachet",value:"",price:""}]}),m(L.id)},B=async L=>{if(window.confirm("Delete this medicine?")){k(!0);try{await $r(Ie(ne,"products",L.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}k(!1)}},V=L=>{const z=L.target.files[0];z&&nP.parse(z,{header:!0,skipEmptyLines:!0,complete:K=>{v(K.data)},error:()=>p("Failed to parse CSV")})},H=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!C.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),k(!1);return}k(!0),p(null),N(null);const L=Ie(Re(ne,"batches")),z=[];let K=e,$=null;if(e==="distributor"){const U=Ie(ne,"users",t.uid),Q=await dn(U);Q.exists()&&($=Q.data().slug||Q.data().businessSlug||null)}for(let U of C)try{let Q=[];if(U.moqs)try{Q=JSON.parse(U.moqs)}catch{}let X=null;e==="distributor"&&U.registeredOnly===!0&&(X=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const oe=await ns(Re(ne,"products"),{name:U.name,ingredient:U.ingredient,class:U.class,price:parseInt(U.price,10)||0,image:U.image||"",batchId:L.id,ownerId:t.uid,ownerRole:K,ownerSlug:$,moqs:Q,registeredOnly:!!U.registeredOnly,...X?{registeredUniqueId:X}:{}});z.push(oe.id)}catch{}await _r(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:z}),N(`${z.length} medicines uploaded`),v([]),k(!1)},q=async L=>{if(window.confirm("Delete this batch and its medicines?")){k(!0);try{for(let z of L.medicineIds)await $r(Ie(ne,"products",z));await $r(Ie(ne,"batches",L.id)),N("Batch deleted")}catch{p("Error deleting batch")}k(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(L=>!L),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((L,z)=>{var K,$,U;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((K=L.businessInfo)==null?void 0:K.businessName)||L.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:(($=L.businessInfo)==null?void 0:$.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((U=L.businessInfo)==null?void 0:U.phone)||""})]},z)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:A,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:b,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:b,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:b,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:b,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:b,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:O,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((L,z)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:L.type,onChange:K=>c(z,K),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(z),style:{color:"red"},children:"✕"})]},z)),l.jsx("button",{type:"button",onClick:u,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:_,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:V}),C.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:H,disabled:_,children:["Submit CSV (",C.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",g()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:Array.isArray(L.moqs)&&L.moqs.length>0?L.moqs.map((z,K)=>l.jsx("span",{style:{marginRight:8},children:z.type},K)):"-"}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>B(L),children:"Delete"})]})]},L.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",g()&&"(All Users)"]}),w.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:w.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:L.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>q(L),children:"Delete Batch"})})]},L.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),S&&l.jsx("div",{style:{color:"red",marginTop:10},children:S})]})}function JS({medics:t}){const e=Er();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(s=>s.trim()).filter(Boolean));const i=()=>{e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:i,children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:n.name}),l.jsx("div",{children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:n.pharmacyName}),l.jsxs("div",{children:["License: ",n.license]}),l.jsxs("div",{children:["Languages: ",r.join(", ")]})]},n.id)})})}function mq(){const[t,e]=x.useState([]),[n,r]=x.useState([]),[i,s]=x.useState("verify"),[o,a]=x.useState("");return x.useEffect(()=>{(async()=>{let f=(await Ut(Re(ne,"verifyMedics"))).docs.map(E=>({id:E.id,...E.data()}));(await Ut(Re(ne,"users"))).docs.forEach(E=>{const T=E.data();T.role==="medicine-manager"&&T.pharmacist&&f.push({...T.pharmacist,id:E.id,online:!0})}),e(f);const m=await Ut(Re(ne,"consultMedics"));r(m.docs.map(E=>({id:E.id,...E.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:"🩺 Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:c=>a(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(JS,{medics:t.filter(c=>{var m,E;const u=((m=c.name)==null?void 0:m.toLowerCase())||"",f=((E=c.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return u.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(JS,{medics:n.filter(c=>{var m,E;const u=((m=c.name)==null?void 0:m.toLowerCase())||"",f=((E=c.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return u.includes(h)||f.includes(h)})})]})]})}var bg={};const gq=Ti(nV);var ZS;function sP(){return ZS||(ZS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=gq}(bg)),bg}var rb={},yq=Kp;Object.defineProperty(rb,"__esModule",{value:!0});var oP=rb.default=void 0,vq=yq(sP()),xq=l,bq=(0,vq.default)((0,xq.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");oP=rb.default=bq;var ib={},_q=Kp;Object.defineProperty(ib,"__esModule",{value:!0});var aP=ib.default=void 0,wq=_q(sP()),Sq=l,Eq=(0,wq.default)((0,Sq.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");aP=ib.default=Eq;const Tq="/psx_logo.svg",Cq=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function Iq(){const t=Er();return l.jsx(rz,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(OW,{sx:{minWidth:0,p:0},children:l.jsxs(qe,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:0},children:[l.jsx(qe,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer"},onClick:()=>t("/"),children:l.jsx("img",{src:Tq,alt:"Logo",style:{height:40}})}),l.jsxs(qe,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1.2,md:2},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"}},children:[Cq.map(e=>l.jsx(Oe,{component:Dh,to:e.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.2,sm:1},fontSize:{xs:13,sm:15,md:16},px:{xs:.5,sm:1},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap"},children:e.label},e.to)),l.jsx(cv,{color:"inherit",onClick:()=>t("/cart"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(oP,{fontSize:"small"})}),l.jsx(cv,{color:"inherit",onClick:()=>t("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(aP,{fontSize:"small"})})]})]})})})}function kq(){const[t,e]=x.useState(null),[n,r]=x.useState([]),[i,s]=x.useState("");function o(G){if(!i.trim())return G;const ee=i.trim().toLowerCase();return G.filter(W=>{var be,Je,_e,ze,Ae,Xe,at,dt,De,xt,Pe,He,$e,Te,wt,Pt;const ae=(((be=E[W.userId])==null?void 0:be.email)||"").toLowerCase(),te=(W.items&&W.items[0]&&((Je=u[W.items[0].ownerId])==null?void 0:Je.name)||"").toLowerCase(),ie=((((_e=W.deliveryInfo)==null?void 0:_e.address)||"")+" "+(((ze=W.deliveryInfo)==null?void 0:ze.city)||"")+" "+(((Ae=W.deliveryInfo)==null?void 0:Ae.state)||"")).toLowerCase(),pe=W.items&&W.items[0]&&((((Xe=u[W.items[0].ownerId])==null?void 0:Xe.address)||"")+" "+(((at=u[W.items[0].ownerId])==null?void 0:at.city)||"")+" "+(((dt=u[W.items[0].ownerId])==null?void 0:dt.state)||"")).toLowerCase()||"",ge=[(De=W.deliveryInfo)==null?void 0:De.lat,(xt=W.deliveryInfo)==null?void 0:xt.lng,($e=u[(He=(Pe=W.items)==null?void 0:Pe[0])==null?void 0:He.ownerId])==null?void 0:$e.lat,(Pt=u[(wt=(Te=W.items)==null?void 0:Te[0])==null?void 0:wt.ownerId])==null?void 0:Pt.lng].filter(Boolean).join(",").toLowerCase(),ve=(W.items||[]).map(Ze=>Ze.name).join(", ").toLowerCase();return ae.includes(ee)||te.includes(ee)||ie.includes(ee)||pe.includes(ee)||ge.includes(ee)||ve.includes(ee)})}const[a,c]=me.useState("processing"),[u,f]=x.useState({});x.useEffect(()=>{const G=kt(Re(ne,"users"),ee=>{const W={};ee.docs.forEach(ae=>{const te=ae.data();te.role==="medicine-manager"&&(W[ae.id]={name:te.businessName||ae.id,address:te.businessAddress||te.address||"-",lat:te.lat||te.latitude||null,lng:te.lng||te.longitude||null})}),f(W)});return()=>G()},[]);const[h,m]=x.useState(!0);x.useEffect(()=>{const G=Ur(),ee=ii(G,W=>{e(W),m(!1)});return()=>ee()},[]),x.useEffect(()=>{if(h||!t)return;const G=kt(Re(ne,"orders"),ee=>{const te=ee.docs.map(ie=>({id:ie.id,...ie.data()})).filter(ie=>ie.status==="Processing"&&!ie.assignedAgentId&&ie.deliveryType&&ie.deliveryType.toLowerCase()==="express").filter(ie=>!n.includes(ie.id));te.length>0&&(te.forEach(ie=>{Se.info(`🚚 New express delivery order! Order ID: ${ie.id}`)}),r(ie=>[...ie,...te.map(pe=>pe.id)]))});return()=>G()},[h,t,n]);const[E,T]=x.useState({});x.useEffect(()=>{const G=kt(Re(ne,"users"),ee=>{const W={};ee.docs.forEach(ae=>{const te=ae.data();W[ae.id]=te.email||ae.id}),T(W)});return()=>G()},[]);const[w,I]=x.useState([]),[C,v]=x.useState([]),[_,k]=x.useState([]),[M,N]=x.useState(()=>{const G=localStorage.getItem("agentCanceledOrders");return G?JSON.parse(G):[]}),[S,p]=x.useState({}),[g,b]=x.useState({}),[O,A]=x.useState(null),{slug:P}=cu(),[B,V]=x.useState(null),[H,q]=x.useState(!1),[L,z]=x.useState(!0),[K,$]=x.useState("availability");x.useEffect(()=>{if(h||!t)return;const G=kt(Re(ne,"orders"),ee=>{const W=ee.docs.map(ae=>({id:ae.id,...ae.data()}));I(W.filter(ae=>ae.status==="Completed"&&ae.assignedAgentId===t.uid)),k(W.filter(ae=>ae.status==="In-Progress"&&ae.assignedAgentId===t.uid)),v(W.filter(ae=>ae.status==="Processing"&&!ae.assignedAgentId&&!M.some(te=>te.id===ae.id)&&ae.deliveryType&&ae.deliveryType.toLowerCase()==="express"))});return()=>G()},[h,t,M]);const U=async G=>{A(G);try{await tn(Ie(ne,"orders",G),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:B.slug,assignedAgentName:B.companyName,companyName:B.companyName,agentPhoneNumber:B.phoneNumber||"",agentWhatsappNumber:B.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),Se.success("Order accepted!")}catch{Se.error("Failed to accept order")}A(null)},Q=async G=>{try{await tn(Ie(ne,"orders",G),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),Se.success("Order marked as delivered!")}catch{Se.error("Failed to mark as delivered")}},X=async G=>{try{await tn(Ie(ne,"orders",G),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),Se.info("Order moved back to processing.")}catch{Se.error("Failed to move order back to processing")}},oe=G=>{const ee=C.find(W=>W.id===G)||_.find(W=>W.id===G);ee&&(N(W=>{const ae=[...W,ee];return localStorage.setItem("agentCanceledOrders",JSON.stringify(ae)),ae}),c("canceled"))};x.useEffect(()=>{const G=ee=>{ee.key==="agentCanceledOrders"&&N(ee.newValue?JSON.parse(ee.newValue):[])};return window.addEventListener("storage",G),()=>window.removeEventListener("storage",G)},[]);const ue=async()=>{if(B){q(!0);try{const G=Ie(ne,"deliveryAgents",B.id);await tn(G,{available:!B.available}),V({...B,available:!B.available}),Se.success("Availability updated.")}catch{Se.error("Failed to update availability")}q(!1)}};return x.useEffect(()=>{async function G(){z(!0);const W=(await Ut(Re(ne,"deliveryAgents"))).docs.map(ie=>ie.data());console.log("All agent slugs:",W.map(ie=>ie.slug));const ae=xr(Re(ne,"deliveryAgents"),br("slug","==",P),br("approved","==",!0)),te=await Ut(ae);te.empty?V(null):V({id:te.docs[0].id,...te.docs[0].data()}),z(!1)}G()},[P]),L||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):B?!t||t.uid!==B.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:"🚚 Delivery Agent Profile"}),l.jsx("img",{src:B.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:B.companyName}),l.jsxs("div",{children:["Phone: ",B.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",B.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",B.rcNumber]}),l.jsxs("div",{children:["Address: ",B.businessAddress]}),l.jsxs("div",{children:["Email: ",B.email]}),l.jsxs("div",{children:["Coverage: ",B.coverageArea]}),l.jsxs("div",{children:["Hours: ",B.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:K==="availability"?"2px solid #1976d2":"1px solid #ccc",background:K==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>$("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:K==="orders"?"2px solid #1976d2":"1px solid #ccc",background:K==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>$("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[K==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",B.available?"✅ Available":"❌ Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ue,disabled:H,children:B.available?"Set Not Available":"Set Available"})]})]}),K==="orders"&&(B.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:G=>s(G.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>c("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"📦 Orders (Processing)"}),l.jsx("button",{onClick:()=>c("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"⏳ Order Progression"}),l.jsx("button",{onClick:()=>c("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"✅ Completed Orders (You)"}),l.jsx("button",{onClick:()=>c("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"❌ Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(M).map(G=>{var ee;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ae}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ae}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=G.items)==null?void 0:ee.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},G.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(C).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(C).map(G=>{var ee;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof G.deliveryType," | ",JSON.stringify(G.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ae}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;let ie=W.lat,pe=W.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ae}),ie&&pe?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ie,", ",pe]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=G.items)==null?void 0:ee.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>U(G.id),disabled:O===G.id,children:O===G.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>oe(G.id),children:"Cancel Order"})]})]},G.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(_).map(G=>{var te;const ee=!!S[G.id],W=!!g[G.id],ae=async()=>{await Q(G.id),p(ie=>({...ie,[G.id]:!0})),b(ie=>({...ie,[G.id]:!0})),setTimeout(()=>b(ie=>({...ie,[G.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const ie=u[G.items[0].ownerId],pe=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,ge=!ie.address&&!ie.city&&!ie.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:ie.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ge?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):pe}),ie.lat&&ie.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",ie.lat,", ",ie.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const ie=G.deliveryInfo||{},pe=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,ge=!ie.address&&!ie.city&&!ie.state;let ve=ie.lat,be=ie.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ge?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):pe}),ve&&be?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ve,", ",be]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(te=G.items)==null?void 0:te.map(ie=>`${ie.name} x${ie.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ee?"not-allowed":"pointer",opacity:ee?.5:1},onClick:ae,disabled:ee,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ee?"not-allowed":"pointer",opacity:ee?.5:1},onClick:()=>X(G.id),disabled:ee,children:"Failed"})]}),W&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),ee&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},G.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(w).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(w).map(G=>{var ee;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ae}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ae=`${W.address||""}, ${W.city||""}, ${W.state||""}`,te=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ae}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=G.items)==null?void 0:ee.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",G.completedAt?new Date(G.completedAt).toLocaleString():"-"]})]},G.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function eE(){const[t,e]=x.useState([]),[n,r]=x.useState(!0);return x.useEffect(()=>{async function i(){r(!0);const s=xr(Re(ne,"deliveryAgents"),br("approved","==",!0)),o=await Ut(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"🚚 All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Dh,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const Rq=Vx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function Pq(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function Aq(){var p,g;const{businessId:t}=cu(),e=Lo(),n=Er(),[r,i]=x.useState(null),[s,o]=x.useState(null),[a,c]=x.useState([]),[u,f]=x.useState(""),[h,m]=x.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,T]=x.useState(((g=e.state)==null?void 0:g.businessName)||"Pharmacy"),[w,I]=x.useState(null),[C,v]=x.useState(null),[_,k]=x.useState(!1),M=x.useRef(null);x.useEffect(()=>{const b=Ur(),O=ii(b,A=>{A?i(A):n("/auth")});return()=>O()},[n]),x.useEffect(()=>{h&&E||t&&dn(Ie(ne,"users",t)).then(b=>{if(b.exists()){const O=b.data();m(O.pharmacist||null),T(O.businessName||"Pharmacy")}})},[t,h,E]),x.useEffect(()=>{if(!r||!t)return;const b=Re(ne,"chats"),O=xr(b,br("participants","array-contains",r.uid));Ut(O).then(A=>{let P=null;A.forEach(B=>{B.data().participants.includes(t)&&(P=B.id)}),P?o(P):ns(b,{participants:[r.uid,t],createdAt:By()}).then(B=>o(B.id))})},[r,t]),x.useEffect(()=>{if(!s)return;const b=xr(Re(ne,"chats",s,"messages"),a2("timestamp","asc")),O=kt(b,A=>{c(A.docs.map(P=>({id:P.id,...P.data()})))});return()=>O()},[s]),x.useEffect(()=>{var b;(b=M.current)==null||b.scrollIntoView({behavior:"smooth"})},[a]);const N=async b=>{if(b.preventDefault(),!u.trim()&&!w||!r||!s)return;let O=null,A=!1;if(w){k(!0);try{const{url:P,isBase64:B}=await Pq(w);O=P,A=B}catch{alert("Image upload failed")}k(!1)}await ns(Re(ne,"chats",s,"messages"),{text:u,image:O||null,isBase64:A,sender:r.uid,senderName:r.displayName||r.email,timestamp:By()}),f(""),I(null),v(null)},S=b=>{const O=b.target.files[0];O&&(I(O),v(URL.createObjectURL(O)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(b=>l.jsxs("div",{style:{marginBottom:10,textAlign:b.sender===(r==null?void 0:r.uid)?"right":"left"},children:[b.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:b.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),b.text&&l.jsx("span",{style:{background:b.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:b.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:b.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:b.senderName})]},b.id)),l.jsx("div",{ref:M})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:S}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:"📷"})]}),C&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:C,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{I(null),v(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:"×"})]}),l.jsx("button",{type:"submit",style:{background:_?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:_?"not-allowed":"pointer"},disabled:_,children:_?"Sending...":"Send"})]})]}):null}function tE(){return l.jsx(SN,{to:"/auth",replace:!0})}Tg.createRoot(document.getElementById("root")).render(l.jsx(me.StrictMode,{children:l.jsxs(Y9,{theme:Rq,children:[l.jsx(lB,{}),l.jsx(jN,{children:l.jsxs(l.Fragment,{children:[l.jsx(Iq,{}),l.jsx(jq,{}),l.jsx(NH,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(TN,{children:[l.jsx(Gt,{path:"/signup",element:l.jsx(tE,{})}),l.jsx(Gt,{path:"/login",element:l.jsx(tE,{})}),l.jsx(Gt,{path:"/agent/:slug",element:l.jsx(kq,{})}),l.jsx(Gt,{path:"/agents",element:l.jsx(eE,{})}),l.jsx(Gt,{path:"/",element:l.jsx(LH,{})}),l.jsx(Gt,{path:"/shop",element:l.jsx($H,{})}),l.jsx(Gt,{path:"/cart",element:l.jsx(eP,{})}),l.jsx(Gt,{path:"/auth",element:l.jsx(WH,{})}),l.jsx(Gt,{path:"/orders",element:l.jsx(VH,{})}),l.jsx(Gt,{path:"/add-medicine",element:l.jsx(KH,{})}),l.jsx(Gt,{path:"/payment",element:l.jsx(nq,{})}),l.jsx(Gt,{path:"/admin",element:l.jsx(sq,{})}),l.jsx(Gt,{path:"/store",element:l.jsx(uq,{})}),l.jsx(Gt,{path:"/store/:slug",element:l.jsx(cq,{})}),l.jsx(Gt,{path:"/store/:slug/cart",element:l.jsx(lq,{})}),l.jsx(Gt,{path:"/restock",element:l.jsx(hq,{})}),l.jsx(Gt,{path:"/medinterface",element:l.jsx(mq,{})}),l.jsx(Gt,{path:"/about",element:l.jsx(FW,{})}),l.jsx(Gt,{path:"/businesses",element:l.jsx(L4,{})}),l.jsx(Gt,{path:"/agents",element:l.jsx(eE,{})}),l.jsx(Gt,{path:"/chat/:businessId",element:l.jsx(Aq,{})})]}),l.jsx(RA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function jq(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Er();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
