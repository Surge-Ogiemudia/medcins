function T2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rs(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JS={exports:{}},vh={},ZS={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),C2=Symbol.for("react.portal"),I2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),R2=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),A2=Symbol.for("react.context"),j2=Symbol.for("react.forward_ref"),O2=Symbol.for("react.suspense"),N2=Symbol.for("react.memo"),L2=Symbol.for("react.lazy"),Lb=Symbol.iterator;function M2(t){return t===null||typeof t!="object"?null:(t=Lb&&t[Lb]||t["@@iterator"],typeof t=="function"?t:null)}var eE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tE=Object.assign,nE={};function sl(t,e,n){this.props=t,this.context=e,this.refs=nE,this.updater=n||eE}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rE(){}rE.prototype=sl.prototype;function xv(t,e,n){this.props=t,this.context=e,this.refs=nE,this.updater=n||eE}var bv=xv.prototype=new rE;bv.constructor=xv;tE(bv,sl.prototype);bv.isPureReactComponent=!0;var Mb=Array.isArray,iE=Object.prototype.hasOwnProperty,_v={current:null},sE={key:!0,ref:!0,__self:!0,__source:!0};function oE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iE.call(e,r)&&!sE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ic,type:t,key:s,ref:o,props:i,_owner:_v.current}}function D2(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function $2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Db=/\/+/g;function hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$2(""+t.key):e.toString(36)}function Pd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case C2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hm(o,0):r,Mb(i)?(n="",t!=null&&(n=t.replace(Db,"$&/")+"/"),Pd(i,e,n,"",function(c){return c})):i!=null&&(wv(i)&&(i=D2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Db,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Mb(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+hm(s,a);o+=Pd(s,e,n,u,i)}else if(u=M2(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+hm(s,a++),o+=Pd(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return Pd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function F2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Ad={transition:null},V2={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:_v};function aE(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!wv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=sl;et.Fragment=I2;et.Profiler=R2;et.PureComponent=xv;et.StrictMode=k2;et.Suspense=O2;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2;et.act=aE;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_v.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)iE.call(e,u)&&!sE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ic,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:A2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P2,_context:t},t.Consumer=t};et.createElement=oE;et.createFactory=function(t){var e=oE.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:j2,render:t}};et.isValidElement=wv;et.lazy=function(t){return{$$typeof:L2,_payload:{_status:-1,_result:t},_init:F2}};et.memo=function(t,e){return{$$typeof:N2,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};et.unstable_act=aE;et.useCallback=function(t,e){return Xn.current.useCallback(t,e)};et.useContext=function(t){return Xn.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};et.useEffect=function(t,e){return Xn.current.useEffect(t,e)};et.useId=function(){return Xn.current.useId()};et.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Xn.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};et.useRef=function(t){return Xn.current.useRef(t)};et.useState=function(t){return Xn.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Xn.current.useTransition()};et.version="18.3.1";ZS.exports=et;var _=ZS.exports;const pe=yh(_),af=T2({__proto__:null,default:pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2=_,B2=Symbol.for("react.element"),U2=Symbol.for("react.fragment"),W2=Object.prototype.hasOwnProperty,H2=z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q2={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)W2.call(e,r)&&!q2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B2,type:t,key:s,ref:o,props:i,_owner:H2.current}}vh.Fragment=U2;vh.jsx=lE;vh.jsxs=lE;JS.exports=vh;var l=JS.exports;function uE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uE(t))&&(r&&(r+=" "),r+=e);return r}function K2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}K2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var sc=t=>typeof t=="number"&&!isNaN(t),yo=t=>typeof t=="string",qi=t=>typeof t=="function",G2=t=>yo(t)||sc(t),_g=t=>yo(t)||qi(t)?t:null,Q2=(t,e)=>t===!1||sc(t)&&t>0?t:e,wg=t=>_.isValidElement(t)||yo(t)||qi(t)||sc(t);function Y2(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function X2({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,E=n?`${e}--${o}`:e,T=_.useRef(0);return _.useLayoutEffect(()=>{let w=c.current,I=m.split(" "),C=y=>{y.target===c.current&&(h(),w.removeEventListener("animationend",C),w.removeEventListener("animationcancel",C),T.current===0&&y.type!=="animationcancel"&&w.classList.remove(...I))};w.classList.add(...I),w.addEventListener("animationend",C),w.addEventListener("animationcancel",C)},[]),_.useEffect(()=>{let w=c.current,I=()=>{w.removeEventListener("animationend",I),r?Y2(w,u,i):u()};f||(a?I():(T.current=1,w.className+=` ${E}`,w.addEventListener("animationend",I)))},[f]),pe.createElement(pe.Fragment,null,s)}}function $b(t,e){return{content:cE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function cE(t,e,n=!1){return _.isValidElement(t)&&!yo(t.type)?_.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):qi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function J2({closeToast:t,theme:e,ariaLabel:n="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Z2({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let E=$e("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),T=qi(s)?s({rtl:u,type:r,defaultClassName:E}):$e(E,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:m,...w}))}var eA=1,dE=()=>`${eA++}`;function tA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=y=>(c.add(y),()=>c.delete(y)),h=()=>{o=Array.from(u.values()),c.forEach(y=>y())},m=({containerId:y,toastId:b,updateId:k})=>{let L=y?y!==t:t!==1,N=u.has(b)&&k==null;return L||N},E=(y,b)=>{u.forEach(k=>{var L;(b==null||b===k.props.toastId)&&((L=k.toggle)==null||L.call(k,y))})},T=y=>{var b,k;(k=(b=y.props)==null?void 0:b.onClose)==null||k.call(b,y.removalReason),y.isActive=!1},w=y=>{if(y==null)u.forEach(T);else{let b=u.get(y);b&&T(b)}h()},I=()=>{i-=s.length,s=[]},C=y=>{var b,k;let{toastId:L,updateId:N}=y.props,S=N==null;y.staleId&&u.delete(y.staleId),y.isActive=!0,u.set(L,y),h(),n($b(y,S?"added":"updated")),S&&((k=(b=y.props).onOpen)==null||k.call(b))};return{id:t,props:a,observe:f,toggle:E,removeToast:w,toasts:u,clearQueue:I,buildToast:(y,b)=>{if(m(b))return;let{toastId:k,updateId:L,data:N,staleId:S,delay:p}=b,g=L==null;g&&i++;let x={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([A,P])=>P!=null)),toastId:k,updateId:L,data:N,isIn:!1,className:_g(b.className||a.toastClassName),progressClassName:_g(b.progressClassName||a.progressClassName),autoClose:b.isLoading?!1:Q2(b.autoClose,a.autoClose),closeToast(A){u.get(k).removalReason=A,w(k)},deleteToast(){let A=u.get(k);if(A!=null){if(n($b(A,"removed")),u.delete(k),i--,i<0&&(i=0),s.length>0){C(s.shift());return}h()}}};x.closeButton=a.closeButton,b.closeButton===!1||wg(b.closeButton)?x.closeButton=b.closeButton:b.closeButton===!0&&(x.closeButton=wg(a.closeButton)?a.closeButton:!0);let j={content:y,props:x,staleId:S};a.limit&&a.limit>0&&i>a.limit&&g?s.push(j):sc(p)?setTimeout(()=>{C(j)},p):C(j)},setProps(y){a=y},setToggle:(y,b)=>{let k=u.get(y);k&&(k.toggle=b)},isToastActive:y=>{var b;return(b=u.get(y))==null?void 0:b.isActive},getSnapshot:()=>o}}var Gn=new Map,_u=[],Sg=new Set,nA=t=>Sg.forEach(e=>e(t)),fE=()=>Gn.size>0;function rA(){_u.forEach(t=>pE(t.content,t.options)),_u=[]}var iA=(t,{containerId:e})=>{var n;return(n=Gn.get(e||1))==null?void 0:n.toasts.get(t)};function hE(t,e){var n;if(e)return!!((n=Gn.get(e))!=null&&n.isToastActive(t));let r=!1;return Gn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function sA(t){if(!fE()){_u=_u.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||G2(t))Gn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Gn.get(t.containerId);e?e.removeToast(t.id):Gn.forEach(n=>{n.removeToast(t.id)})}}var oA=(t={})=>{Gn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function pE(t,e){wg(t)&&(fE()||_u.push({content:t,options:e}),Gn.forEach(n=>{n.buildToast(t,e)}))}function aA(t){var e;(e=Gn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function mE(t,e){Gn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function lA(t){let e=t.containerId||1;return{subscribe(n){let r=tA(e,t,nA);Gn.set(e,r);let i=r.observe(n);return rA(),()=>{i(),Gn.delete(e)}},setProps(n){var r;(r=Gn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Gn.get(e))==null?void 0:n.getSnapshot()}}}function uA(t){return Sg.add(t),()=>{Sg.delete(t)}}function cA(t){return t&&(yo(t.toastId)||sc(t.toastId))?t.toastId:dE()}function oc(t,e){return pE(t,e),e.toastId}function xh(t,e){return{...e,type:e&&e.type||t,toastId:cA(e)}}function bh(t){return(e,n)=>oc(e,xh(t,n))}function Ee(t,e){return oc(t,xh("default",e))}Ee.loading=(t,e)=>oc(t,xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function dA(t,{pending:e,error:n,success:r},i){let s;e&&(s=yo(e)?Ee.loading(e,i):Ee.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){Ee.dismiss(s);return}let m={type:c,...o,...i,data:h},E=yo(f)?{render:f}:f;return s?Ee.update(s,{...m,...E}):Ee(E.render,{...m,...E}),h},u=qi(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}Ee.promise=dA;Ee.success=bh("success");Ee.info=bh("info");Ee.error=bh("error");Ee.warning=bh("warning");Ee.warn=Ee.warning;Ee.dark=(t,e)=>oc(t,xh("default",{theme:"dark",...e}));function fA(t){sA(t)}Ee.dismiss=fA;Ee.clearWaitingQueue=oA;Ee.isActive=hE;Ee.update=(t,e={})=>{let n=iA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:dE()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,oc(o,s)}};Ee.done=t=>{Ee.update(t,{progress:1})};Ee.onChange=uA;Ee.play=t=>mE(!0,t);Ee.pause=t=>mE(!1,t);function hA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=_.useRef(lA(t)).current;i(t);let s=(e=_.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:hE,count:s==null?void 0:s.length}}function pA(t){let[e,n]=_.useState(!1),[r,i]=_.useState(!1),s=_.useRef(null),o=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;aA({id:t.toastId,containerId:t.containerId,fn:n}),_.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||C(),window.addEventListener("focus",I),window.addEventListener("blur",C)}function E(){window.removeEventListener("focus",I),window.removeEventListener("blur",C)}function T(S){if(t.draggable===!0||t.draggable===S.pointerType){y();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(S){let{top:p,bottom:g,left:x,right:j}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=x&&S.clientX<=j&&S.clientY>=p&&S.clientY<=g?C():I()}function I(){n(!0)}function C(){n(!1)}function y(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",L)}function b(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",L)}function k(S){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&C(),t.draggableDirection==="x"?o.delta=S.clientX-o.start:o.delta=S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1);let g=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${g},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function L(){b();let S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let N={onPointerDown:T,onPointerUp:w};return a&&u&&(N.onMouseEnter=C,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=S=>{f&&f(S),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var mA=typeof window<"u"?_.useLayoutEffect:_.useEffect,_h=({theme:t,type:e,isLoading:n,...r})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function gA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function bA(){return pe.createElement("div",{className:"Toastify__spinner"})}var Eg={info:yA,warning:gA,success:vA,error:xA,spinner:bA},_A=t=>t in Eg;function wA({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(qi(r)?i=r({...s,isLoading:n}):_.isValidElement(r)?i=_.cloneElement(r,s):n?i=Eg.spinner():_A(e)&&(i=Eg[e](s))),i}var SA=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=pA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:E,position:T,className:w,style:I,progressClassName:C,updateId:y,role:b,progress:k,rtl:L,toastId:N,deleteToast:S,isIn:p,isLoading:g,closeOnClick:x,theme:j,ariaLabel:A}=t,P=$e("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":x}),z=qi(w)?w({rtl:L,position:T,type:f,defaultClassName:P}):$e(P,w),F=wA(t),B=!!k||!u,U={closeToast:m,type:f,theme:j},M=null;return o===!1||(qi(o)?M=o(U):_.isValidElement(o)?M=_.cloneElement(o,U):M=J2(U)),pe.createElement(E,{isIn:p,done:S,position:T,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:z,...i,style:I,ref:r,...p&&{role:b,"aria-label":A}},F!=null&&pe.createElement("div",{className:$e("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!g})},F),cE(a,t,!e),M,!t.customProgressBar&&pe.createElement(Z2,{...y&&!B?{key:`p-${y}`}:{},rtl:L,theme:j,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:C,controlledProgress:B,progress:k||0})))},EA=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),TA=X2(EA("bounce",!0)),CA={position:"top-right",transition:TA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function IA(t){let e={...CA,...t},n=t.stacked,[r,i]=_.useState(!0),s=_.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=hA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:E}=e;function T(I){let C=$e("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return qi(c)?c({position:I,rtl:h,defaultClassName:C}):$e(C,_g(c))}function w(){n&&(i(!0),Ee.play())}return mA(()=>{var I;if(n){let C=s.current.querySelectorAll('[data-in="true"]'),y=12,b=(I=e.position)==null?void 0:I.includes("top"),k=0,L=0;Array.from(C).reverse().forEach((N,S)=>{let p=N;p.classList.add("Toastify__toast--stacked"),S>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=b?"top":"bot");let g=k*(r?.2:1)+(r?0:y*S);p.style.setProperty("--y",`${b?g:g*-1}px`),p.style.setProperty("--g",`${y}`),p.style.setProperty("--s",`${1-(r?L:0)}`),k+=p.offsetHeight,L+=.025})}},[r,u,n]),_.useEffect(()=>{function I(C){var y;let b=s.current;E(C)&&((y=b.querySelector('[tabIndex="0"]'))==null||y.focus(),i(!1),Ee.pause()),C.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(i(!0),Ee.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[E]),pe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Ee.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,C)=>{let y=C.length?{...f}:{...f,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:T(I),"data-stacked":n,style:y,key:`c-${I}`},C.map(({content:b,props:k})=>pe.createElement(SA,{...k,stacked:n,collapseAll:w,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},b)))}))}var Tg={},gE={exports:{}},Sr={},yE={exports:{}},vE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var H=M.length;M.push(V);e:for(;0<H;){var K=H-1>>>1,Q=M[K];if(0<i(Q,V))M[K]=V,M[H]=Q,H=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],H=M.pop();if(H!==V){M[0]=H;e:for(var K=0,Q=M.length,Y=Q>>>1;K<Y;){var se=2*(K+1)-1,ce=M[se],ye=se+1,q=M[ye];if(0>i(ce,H))ye<Q&&0>i(q,ce)?(M[K]=q,M[ye]=H,K=ye):(M[K]=ce,M[se]=H,K=se);else if(ye<Q&&0>i(q,H))M[K]=q,M[ye]=H,K=ye;else break e}}return V}function i(M,V){var H=M.sortIndex-V.sortIndex;return H!==0?H:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,E=!1,T=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=M)r(c),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(c)}}function k(M){if(w=!1,b(M),!T)if(n(u)!==null)T=!0,B(L);else{var V=n(c);V!==null&&U(k,V.startTime-M)}}function L(M,V){T=!1,w&&(w=!1,C(p),p=-1),E=!0;var H=m;try{for(b(V),h=n(u);h!==null&&(!(h.expirationTime>V)||M&&!j());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var Q=K(h.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(u)&&r(u),b(V)}else r(u);h=n(u)}if(h!==null)var Y=!0;else{var se=n(c);se!==null&&U(k,se.startTime-V),Y=!1}return Y}finally{h=null,m=H,E=!1}}var N=!1,S=null,p=-1,g=5,x=-1;function j(){return!(t.unstable_now()-x<g)}function A(){if(S!==null){var M=t.unstable_now();x=M;var V=!0;try{V=S(!0,M)}finally{V?P():(N=!1,S=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=A,P=function(){F.postMessage(null)}}else P=function(){I(A,0)};function B(M){S=M,N||(N=!0,P())}function U(M,V){p=I(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,B(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var H=m;m=V;try{return M()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=m;m=M;try{return V()}finally{m=H}},t.unstable_scheduleCallback=function(M,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,M={id:f++,callback:V,priorityLevel:M,startTime:H,expirationTime:Q,sortIndex:-1},H>K?(M.sortIndex=H,e(c,M),n(u)===null&&M===n(c)&&(w?(C(p),p=-1):w=!0,U(k,H-K))):(M.sortIndex=Q,e(u,M),T||E||(T=!0,B(L))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var V=m;return function(){var H=m;m=V;try{return M.apply(this,arguments)}finally{m=H}}}})(vE);yE.exports=vE;var kA=yE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA=_,xr=kA;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xE=new Set,wu={};function Oo(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(wu[t]=e,t=0;t<e.length;t++)xE.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cg=Object.prototype.hasOwnProperty,PA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fb={},Vb={};function AA(t){return Cg.call(Vb,t)?!0:Cg.call(Fb,t)?!1:PA.test(t)?Vb[t]=!0:(Fb[t]=!0,!1)}function jA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OA(t,e,n,r){if(e===null||typeof e>"u"||jA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sv,Ev);An[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sv,Ev);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sv,Ev);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tv(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OA(e,n,i,r)&&(n=null),r||i===null?AA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=RA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),wE=Symbol.for("react.offscreen"),zb=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=zb&&t[zb]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,pm;function ql(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function NA(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function Pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case Ig:return"Profiler";case Cv:return"StrictMode";case kg:return"Suspense";case Rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _E:return(t.displayName||"Context")+".Consumer";case bE:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kv:return e=t.displayName||null,e!==null?e:Pg(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Pg(t(e))}catch{}}return null}function LA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(e);case 8:return e===Cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MA(t){var e=SE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=MA(t))}function EE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ag(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&Tv(t,"checked",e,!1)}function jg(t,e){TE(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Og(t,e.type,n):e.hasOwnProperty("defaultValue")&&Og(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ub(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Og(t,e,n){(e!=="number"||lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Kl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function CE(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,kE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DA=["Webkit","ms","Moz","O"];Object.keys(ru).forEach(function(t){DA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ru[e]=ru[t]})});function RE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ru.hasOwnProperty(t)&&ru[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $A=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mg(t,e){if(e){if($A[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function Rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fg=null,xa=null,ba=null;function qb(t){if(t=uc(t)){if(typeof Fg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Ch(e),Fg(t.stateNode,t.type,e))}}function AE(t){xa?ba?ba.push(t):ba=[t]:xa=t}function jE(){if(xa){var t=xa,e=ba;if(ba=xa=null,qb(t),e)for(t=0;t<e.length;t++)qb(e[t])}}function OE(t,e){return t(e)}function NE(){}var ym=!1;function LE(t,e,n){if(ym)return t(e,n);ym=!0;try{return OE(t,e,n)}finally{ym=!1,(xa!==null||ba!==null)&&(NE(),jE())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Vg=!1;if(Ki)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Vg=!1}function FA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var iu=!1,uf=null,cf=!1,zg=null,VA={onError:function(t){iu=!0,uf=t}};function zA(t,e,n,r,i,s,o,a,u){iu=!1,uf=null,FA.apply(VA,arguments)}function BA(t,e,n,r,i,s,o,a,u){if(zA.apply(this,arguments),iu){if(iu){var c=uf;iu=!1,uf=null}else throw Error(ae(198));cf||(cf=!0,zg=c)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ME(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kb(t){if(No(t)!==t)throw Error(ae(188))}function UA(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kb(i),t;if(s===r)return Kb(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function DE(t){return t=UA(t),t!==null?$E(t):null}function $E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$E(t);if(e!==null)return e;t=t.sibling}return null}var FE=xr.unstable_scheduleCallback,Gb=xr.unstable_cancelCallback,WA=xr.unstable_shouldYield,HA=xr.unstable_requestPaint,Jt=xr.unstable_now,qA=xr.unstable_getCurrentPriorityLevel,Pv=xr.unstable_ImmediatePriority,VE=xr.unstable_UserBlockingPriority,df=xr.unstable_NormalPriority,KA=xr.unstable_LowPriority,zE=xr.unstable_IdlePriority,wh=null,hi=null;function GA(t){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:XA,QA=Math.log,YA=Math.LN2;function XA(t){return t>>>=0,t===0?32:31-(QA(t)/YA|0)|0}var nd=64,rd=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gl(a):(s&=o,s!==0&&(r=Gl(s)))}else o=n&~i,o!==0?r=Gl(o):s!==0&&(r=Gl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ei(e),i=1<<n,r|=t[n],e&=~i;return r}function JA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ei(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=JA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BE(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=n}function ej(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ei(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ei(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var St=0;function UE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WE,jv,HE,qE,KE,Ug=!1,id=[],Ss=null,Es=null,Ts=null,Tu=new Map,Cu=new Map,ys=[],tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qb(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function Pl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nj(t,e,n,r,i){switch(e){case"focusin":return Ss=Pl(Ss,t,e,n,r,i),!0;case"dragenter":return Es=Pl(Es,t,e,n,r,i),!0;case"mouseover":return Ts=Pl(Ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,Pl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cu.set(s,Pl(Cu.get(s)||null,t,e,n,r,i)),!0}return!1}function GE(t){var e=oo(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=ME(n),e!==null){t.blockedOn=e,KE(t.priority,function(){HE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return e=uc(n),e!==null&&jv(e),t.blockedOn=n,!1;e.shift()}return!0}function Yb(t,e,n){jd(t)&&n.delete(e)}function rj(){Ug=!1,Ss!==null&&jd(Ss)&&(Ss=null),Es!==null&&jd(Es)&&(Es=null),Ts!==null&&jd(Ts)&&(Ts=null),Tu.forEach(Yb),Cu.forEach(Yb)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,Ug||(Ug=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,rj)))}function Iu(t){function e(i){return Al(i,t)}if(0<id.length){Al(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&Al(Ss,t),Es!==null&&Al(Es,t),Ts!==null&&Al(Ts,t),Tu.forEach(e),Cu.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&ys.shift()}var _a=is.ReactCurrentBatchConfig,hf=!0;function ij(t,e,n,r){var i=St,s=_a.transition;_a.transition=null;try{St=1,Ov(t,e,n,r)}finally{St=i,_a.transition=s}}function sj(t,e,n,r){var i=St,s=_a.transition;_a.transition=null;try{St=4,Ov(t,e,n,r)}finally{St=i,_a.transition=s}}function Ov(t,e,n,r){if(hf){var i=Wg(t,e,n,r);if(i===null)km(t,e,r,pf,n),Qb(t,r);else if(nj(i,t,e,n,r))r.stopPropagation();else if(Qb(t,r),e&4&&-1<tj.indexOf(t)){for(;i!==null;){var s=uc(i);if(s!==null&&WE(s),s=Wg(t,e,n,r),s===null&&km(t,e,r,pf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else km(t,e,r,null,n)}}var pf=null;function Wg(t,e,n,r){if(pf=null,t=Rv(r),t=oo(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ME(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function QE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qA()){case Pv:return 1;case VE:return 4;case df:case KA:return 16;case zE:return 536870912;default:return 16}default:return 16}}var xs=null,Nv=null,Od=null;function YE(){if(Od)return Od;var t,e=Nv,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Od=i.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function Xb(){return!1}function Er(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:Xb,this.isPropagationStopped=Xb,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=Er(ol),lc=Ut({},ol,{view:0,detail:0}),oj=Er(lc),xm,bm,jl,Sh=Ut({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(xm=t.screenX-jl.screenX,bm=t.screenY-jl.screenY):bm=xm=0,jl=t),xm)},movementY:function(t){return"movementY"in t?t.movementY:bm}}),Jb=Er(Sh),aj=Ut({},Sh,{dataTransfer:0}),lj=Er(aj),uj=Ut({},lc,{relatedTarget:0}),_m=Er(uj),cj=Ut({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),dj=Er(cj),fj=Ut({},ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hj=Er(fj),pj=Ut({},ol,{data:0}),Zb=Er(pj),mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yj[t])?!!e[t]:!1}function Mv(){return vj}var xj=Ut({},lc,{key:function(t){if(t.key){var e=mj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mv,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bj=Er(xj),_j=Ut({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Er(_j),wj=Ut({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mv}),Sj=Er(wj),Ej=Ut({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tj=Er(Ej),Cj=Ut({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ij=Er(Cj),kj=[9,13,27,32],Dv=Ki&&"CompositionEvent"in window,su=null;Ki&&"documentMode"in document&&(su=document.documentMode);var Rj=Ki&&"TextEvent"in window&&!su,XE=Ki&&(!Dv||su&&8<su&&11>=su),t_=" ",n_=!1;function JE(t,e){switch(t){case"keyup":return kj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Pj(t,e){switch(t){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function Aj(t,e){if(oa)return t==="compositionend"||!Dv&&JE(t,e)?(t=YE(),Od=Nv=xs=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XE&&e.locale!=="ko"?null:e.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jj[t.type]:e==="textarea"}function eT(t,e,n,r){AE(r),e=mf(e,"onChange"),0<e.length&&(n=new Lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ou=null,ku=null;function Oj(t){dT(t,0)}function Eh(t){var e=ua(t);if(EE(e))return t}function Nj(t,e){if(t==="change")return e}var tT=!1;if(Ki){var wm;if(Ki){var Sm="oninput"in document;if(!Sm){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),Sm=typeof i_.oninput=="function"}wm=Sm}else wm=!1;tT=wm&&(!document.documentMode||9<document.documentMode)}function s_(){ou&&(ou.detachEvent("onpropertychange",nT),ku=ou=null)}function nT(t){if(t.propertyName==="value"&&Eh(ku)){var e=[];eT(e,ku,t,Rv(t)),LE(Oj,e)}}function Lj(t,e,n){t==="focusin"?(s_(),ou=e,ku=n,ou.attachEvent("onpropertychange",nT)):t==="focusout"&&s_()}function Mj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(ku)}function Dj(t,e){if(t==="click")return Eh(e)}function $j(t,e){if(t==="input"||t==="change")return Eh(e)}function Fj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:Fj;function Ru(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cg.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=o_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o_(n)}}function rT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iT(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lf(t.document)}return e}function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vj(t){var e=iT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rT(n.ownerDocument.documentElement,n)){if(r!==null&&$v(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a_(n,s);var o=a_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zj=Ki&&"documentMode"in document&&11>=document.documentMode,aa=null,Hg=null,au=null,qg=!1;function l_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qg||aa==null||aa!==lf(r)||(r=aa,"selectionStart"in r&&$v(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),au&&Ru(au,r)||(au=r,r=mf(Hg,"onSelect"),0<r.length&&(e=new Lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Em={},sT={};Ki&&(sT=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Th(t){if(Em[t])return Em[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sT)return Em[t]=e[n];return t}var oT=Th("animationend"),aT=Th("animationiteration"),lT=Th("animationstart"),uT=Th("transitionend"),cT=new Map,u_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){cT.set(t,e),Oo(e,[t])}for(var Tm=0;Tm<u_.length;Tm++){var Cm=u_[Tm],Bj=Cm.toLowerCase(),Uj=Cm[0].toUpperCase()+Cm.slice(1);zs(Bj,"on"+Uj)}zs(oT,"onAnimationEnd");zs(aT,"onAnimationIteration");zs(lT,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(uT,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BA(r,e,void 0,t),t.currentTarget=null}function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;c_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;c_(i,a,c),s=u}}}if(cf)throw t=zg,cf=!1,zg=null,t}function Ot(t,e){var n=e[Xg];n===void 0&&(n=e[Xg]=new Set);var r=t+"__bubble";n.has(r)||(fT(e,t,2,!1),n.add(r))}function Im(t,e,n){var r=0;e&&(r|=4),fT(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[ad]){t[ad]=!0,xE.forEach(function(n){n!=="selectionchange"&&(Wj.has(n)||Im(n,!1,t),Im(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,Im("selectionchange",!1,e))}}function fT(t,e,n,r){switch(QE(e)){case 1:var i=ij;break;case 4:i=sj;break;default:i=Ov}n=i.bind(null,e,n,t),i=void 0,!Vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function km(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=oo(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LE(function(){var c=s,f=Rv(n),h=[];e:{var m=cT.get(t);if(m!==void 0){var E=Lv,T=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":E=bj;break;case"focusin":T="focus",E=_m;break;case"focusout":T="blur",E=_m;break;case"beforeblur":case"afterblur":E=_m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Sj;break;case oT:case aT:case lT:E=dj;break;case uT:E=Tj;break;case"scroll":E=oj;break;case"wheel":E=Ij;break;case"copy":case"cut":case"paste":E=hj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=e_}var w=(e&4)!==0,I=!w&&t==="scroll",C=w?m!==null?m+"Capture":null:m;w=[];for(var y=c,b;y!==null;){b=y;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,C!==null&&(k=Eu(y,C),k!=null&&w.push(Au(y,k,b)))),I)break;y=y.return}0<w.length&&(m=new E(m,T,null,n,f),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==$g&&(T=n.relatedTarget||n.fromElement)&&(oo(T)||T[Gi]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=c,T=T?oo(T):null,T!==null&&(I=No(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=c),E!==T)){if(w=Jb,k="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=e_,k="onPointerLeave",C="onPointerEnter",y="pointer"),I=E==null?m:ua(E),b=T==null?m:ua(T),m=new w(k,y+"leave",E,n,f),m.target=I,m.relatedTarget=b,k=null,oo(f)===c&&(w=new w(C,y+"enter",T,n,f),w.target=b,w.relatedTarget=I,k=w),I=k,E&&T)t:{for(w=E,C=T,y=0,b=w;b;b=qo(b))y++;for(b=0,k=C;k;k=qo(k))b++;for(;0<y-b;)w=qo(w),y--;for(;0<b-y;)C=qo(C),b--;for(;y--;){if(w===C||C!==null&&w===C.alternate)break t;w=qo(w),C=qo(C)}w=null}else w=null;E!==null&&d_(h,m,E,w,!1),T!==null&&I!==null&&d_(h,I,T,w,!0)}}e:{if(m=c?ua(c):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var L=Nj;else if(r_(m))if(tT)L=$j;else{L=Mj;var N=Lj}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=Dj);if(L&&(L=L(t,c))){eT(h,L,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Og(m,"number",m.value)}switch(N=c?ua(c):window,t){case"focusin":(r_(N)||N.contentEditable==="true")&&(aa=N,Hg=c,au=null);break;case"focusout":au=Hg=aa=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,l_(h,n,f);break;case"selectionchange":if(zj)break;case"keydown":case"keyup":l_(h,n,f)}var S;if(Dv)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else oa?JE(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(XE&&n.locale!=="ko"&&(oa||p!=="onCompositionStart"?p==="onCompositionEnd"&&oa&&(S=YE()):(xs=f,Nv="value"in xs?xs.value:xs.textContent,oa=!0)),N=mf(c,p),0<N.length&&(p=new Zb(p,t,null,n,f),h.push({event:p,listeners:N}),S?p.data=S:(S=ZE(n),S!==null&&(p.data=S)))),(S=Rj?Pj(t,n):Aj(t,n))&&(c=mf(c,"onBeforeInput"),0<c.length&&(f=new Zb("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=S))}dT(h,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,n),s!=null&&r.unshift(Au(t,s,i)),s=Eu(t,e),s!=null&&r.push(Au(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Eu(n,s),u!=null&&o.unshift(Au(n,u,a))):i||(u=Eu(n,s),u!=null&&o.push(Au(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(Hj,`
`).replace(qj,"")}function ld(t,e,n){if(e=f_(e),f_(t)!==e&&n)throw Error(ae(425))}function gf(){}var Kg=null,Gg=null;function Qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Gj=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(Qj)}:Yg;function Qj(t){setTimeout(function(){throw t})}function Rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var al=Math.random().toString(36).slice(2),di="__reactFiber$"+al,ju="__reactProps$"+al,Gi="__reactContainer$"+al,Xg="__reactEvents$"+al,Yj="__reactListeners$"+al,Xj="__reactHandles$"+al;function oo(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gi]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p_(t);t!==null;){if(n=t[di])return n;t=p_(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[di]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Ch(t){return t[ju]||null}var Jg=[],ca=-1;function Bs(t){return{current:t}}function Lt(t){0>ca||(t.current=Jg[ca],Jg[ca]=null,ca--)}function At(t,e){ca++,Jg[ca]=t.current,t.current=e}var Ls={},Un=Bs(Ls),ir=Bs(!1),vo=Ls;function La(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function yf(){Lt(ir),Lt(Un)}function m_(t,e,n){if(Un.current!==Ls)throw Error(ae(168));At(Un,e),At(ir,n)}function hT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,LA(t)||"Unknown",i));return Ut({},n,r)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,vo=Un.current,At(Un,t),At(ir,ir.current),!0}function g_(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=hT(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Lt(ir),Lt(Un),At(Un,t)):Lt(ir),At(ir,n)}var Ai=null,Ih=!1,Pm=!1;function pT(t){Ai===null?Ai=[t]:Ai.push(t)}function Jj(t){Ih=!0,pT(t)}function Us(){if(!Pm&&Ai!==null){Pm=!0;var t=0,e=St;try{var n=Ai;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ai=null,Ih=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(t+1)),FE(Pv,Us),i}finally{St=e,Pm=!1}}return null}var da=[],fa=0,xf=null,bf=0,jr=[],Or=0,xo=null,Di=1,$i="";function eo(t,e){da[fa++]=bf,da[fa++]=xf,xf=t,bf=e}function mT(t,e,n){jr[Or++]=Di,jr[Or++]=$i,jr[Or++]=xo,xo=t;var r=Di;t=$i;var i=32-ei(r)-1;r&=~(1<<i),n+=1;var s=32-ei(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Di=1<<32-ei(e)+i|n<<i|r,$i=s+t}else Di=1<<s|n<<i|r,$i=t}function Fv(t){t.return!==null&&(eo(t,1),mT(t,1,0))}function Vv(t){for(;t===xf;)xf=da[--fa],da[fa]=null,bf=da[--fa],da[fa]=null;for(;t===xo;)xo=jr[--Or],jr[Or]=null,$i=jr[--Or],jr[Or]=null,Di=jr[--Or],jr[Or]=null}var mr=null,hr=null,$t=!1,Jr=null;function gT(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,hr=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:Di,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,hr=null,!0):!1;default:return!1}}function Zg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ey(t){if($t){var e=hr;if(e){var n=e;if(!y_(t,e)){if(Zg(t))throw Error(ae(418));e=Cs(n.nextSibling);var r=mr;e&&y_(t,e)?gT(r,n):(t.flags=t.flags&-4097|2,$t=!1,mr=t)}}else{if(Zg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,$t=!1,mr=t}}}function v_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function ud(t){if(t!==mr)return!1;if(!$t)return v_(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qg(t.type,t.memoizedProps)),e&&(e=hr)){if(Zg(t))throw yT(),Error(ae(418));for(;e;)gT(t,e),e=Cs(e.nextSibling)}if(v_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=mr?Cs(t.stateNode.nextSibling):null;return!0}function yT(){for(var t=hr;t;)t=Cs(t.nextSibling)}function Ma(){hr=mr=null,$t=!1}function zv(t){Jr===null?Jr=[t]:Jr.push(t)}var Zj=is.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function x_(t){var e=t._init;return e(t._payload)}function vT(t){function e(C,y){if(t){var b=C.deletions;b===null?(C.deletions=[y],C.flags|=16):b.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function r(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function i(C,y){return C=Ps(C,y),C.index=0,C.sibling=null,C}function s(C,y,b){return C.index=b,t?(b=C.alternate,b!==null?(b=b.index,b<y?(C.flags|=2,y):b):(C.flags|=2,y)):(C.flags|=1048576,y)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,y,b,k){return y===null||y.tag!==6?(y=Dm(b,C.mode,k),y.return=C,y):(y=i(y,b),y.return=C,y)}function u(C,y,b,k){var L=b.type;return L===sa?f(C,y,b.props.children,k,b.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ps&&x_(L)===y.type)?(k=i(y,b.props),k.ref=Ol(C,y,b),k.return=C,k):(k=zd(b.type,b.key,b.props,null,C.mode,k),k.ref=Ol(C,y,b),k.return=C,k)}function c(C,y,b,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=$m(b,C.mode,k),y.return=C,y):(y=i(y,b.children||[]),y.return=C,y)}function f(C,y,b,k,L){return y===null||y.tag!==7?(y=po(b,C.mode,k,L),y.return=C,y):(y=i(y,b),y.return=C,y)}function h(C,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dm(""+y,C.mode,b),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:return b=zd(y.type,y.key,y.props,null,C.mode,b),b.ref=Ol(C,null,y),b.return=C,b;case ia:return y=$m(y,C.mode,b),y.return=C,y;case ps:var k=y._init;return h(C,k(y._payload),b)}if(Kl(y)||kl(y))return y=po(y,C.mode,b,null),y.return=C,y;cd(C,y)}return null}function m(C,y,b,k){var L=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:a(C,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===L?u(C,y,b,k):null;case ia:return b.key===L?c(C,y,b,k):null;case ps:return L=b._init,m(C,y,L(b._payload),k)}if(Kl(b)||kl(b))return L!==null?null:f(C,y,b,k,null);cd(C,b)}return null}function E(C,y,b,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return C=C.get(b)||null,a(y,C,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zc:return C=C.get(k.key===null?b:k.key)||null,u(y,C,k,L);case ia:return C=C.get(k.key===null?b:k.key)||null,c(y,C,k,L);case ps:var N=k._init;return E(C,y,b,N(k._payload),L)}if(Kl(k)||kl(k))return C=C.get(b)||null,f(y,C,k,L,null);cd(y,k)}return null}function T(C,y,b,k){for(var L=null,N=null,S=y,p=y=0,g=null;S!==null&&p<b.length;p++){S.index>p?(g=S,S=null):g=S.sibling;var x=m(C,S,b[p],k);if(x===null){S===null&&(S=g);break}t&&S&&x.alternate===null&&e(C,S),y=s(x,y,p),N===null?L=x:N.sibling=x,N=x,S=g}if(p===b.length)return n(C,S),$t&&eo(C,p),L;if(S===null){for(;p<b.length;p++)S=h(C,b[p],k),S!==null&&(y=s(S,y,p),N===null?L=S:N.sibling=S,N=S);return $t&&eo(C,p),L}for(S=r(C,S);p<b.length;p++)g=E(S,C,p,b[p],k),g!==null&&(t&&g.alternate!==null&&S.delete(g.key===null?p:g.key),y=s(g,y,p),N===null?L=g:N.sibling=g,N=g);return t&&S.forEach(function(j){return e(C,j)}),$t&&eo(C,p),L}function w(C,y,b,k){var L=kl(b);if(typeof L!="function")throw Error(ae(150));if(b=L.call(b),b==null)throw Error(ae(151));for(var N=L=null,S=y,p=y=0,g=null,x=b.next();S!==null&&!x.done;p++,x=b.next()){S.index>p?(g=S,S=null):g=S.sibling;var j=m(C,S,x.value,k);if(j===null){S===null&&(S=g);break}t&&S&&j.alternate===null&&e(C,S),y=s(j,y,p),N===null?L=j:N.sibling=j,N=j,S=g}if(x.done)return n(C,S),$t&&eo(C,p),L;if(S===null){for(;!x.done;p++,x=b.next())x=h(C,x.value,k),x!==null&&(y=s(x,y,p),N===null?L=x:N.sibling=x,N=x);return $t&&eo(C,p),L}for(S=r(C,S);!x.done;p++,x=b.next())x=E(S,C,p,x.value,k),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?p:x.key),y=s(x,y,p),N===null?L=x:N.sibling=x,N=x);return t&&S.forEach(function(A){return e(C,A)}),$t&&eo(C,p),L}function I(C,y,b,k){if(typeof b=="object"&&b!==null&&b.type===sa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var L=b.key,N=y;N!==null;){if(N.key===L){if(L=b.type,L===sa){if(N.tag===7){n(C,N.sibling),y=i(N,b.props.children),y.return=C,C=y;break e}}else if(N.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ps&&x_(L)===N.type){n(C,N.sibling),y=i(N,b.props),y.ref=Ol(C,N,b),y.return=C,C=y;break e}n(C,N);break}else e(C,N);N=N.sibling}b.type===sa?(y=po(b.props.children,C.mode,k,b.key),y.return=C,C=y):(k=zd(b.type,b.key,b.props,null,C.mode,k),k.ref=Ol(C,y,b),k.return=C,C=k)}return o(C);case ia:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(C,y.sibling),y=i(y,b.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=$m(b,C.mode,k),y.return=C,C=y}return o(C);case ps:return N=b._init,I(C,y,N(b._payload),k)}if(Kl(b))return T(C,y,b,k);if(kl(b))return w(C,y,b,k);cd(C,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(C,y.sibling),y=i(y,b),y.return=C,C=y):(n(C,y),y=Dm(b,C.mode,k),y.return=C,C=y),o(C)):n(C,y)}return I}var Da=vT(!0),xT=vT(!1),_f=Bs(null),wf=null,ha=null,Bv=null;function Uv(){Bv=ha=wf=null}function Wv(t){var e=_f.current;Lt(_f),t._currentValue=e}function ty(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wa(t,e){wf=t,Bv=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(Bv!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(wf===null)throw Error(ae(308));ha=t,wf.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var ao=null;function Hv(t){ao===null?ao=[t]:ao.push(t)}function bT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qi(t,r)}function Qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _T(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qi(t,n)}return i=r.interleaved,i===null?(e.next=e,Hv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qi(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}function b_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,r){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(m=e,E=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=Ut({},h,m);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=E,u=h):f=f.next=E,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function __(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var cc={},pi=Bs(cc),Ou=Bs(cc),Nu=Bs(cc);function lo(t){if(t===cc)throw Error(ae(174));return t}function Kv(t,e){switch(At(Nu,e),At(Ou,t),At(pi,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lg(e,t)}Lt(pi),At(pi,e)}function $a(){Lt(pi),Lt(Ou),Lt(Nu)}function wT(t){lo(Nu.current);var e=lo(pi.current),n=Lg(e,t.type);e!==n&&(At(Ou,t),At(pi,n))}function Gv(t){Ou.current===t&&(Lt(pi),Lt(Ou))}var zt=Bs(0);function Ef(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Am=[];function Qv(){for(var t=0;t<Am.length;t++)Am[t]._workInProgressVersionPrimary=null;Am.length=0}var Md=is.ReactCurrentDispatcher,jm=is.ReactCurrentBatchConfig,bo=0,Bt=null,pn=null,yn=null,Tf=!1,lu=!1,Lu=0,eO=0;function Ln(){throw Error(ae(321))}function Yv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function Xv(t,e,n,r,i,s){if(bo=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?iO:sO,t=n(r,i),lu){s=0;do{if(lu=!1,Lu=0,25<=s)throw Error(ae(301));s+=1,yn=pn=null,e.updateQueue=null,Md.current=oO,t=n(r,i)}while(lu)}if(Md.current=Cf,e=pn!==null&&pn.next!==null,bo=0,yn=pn=Bt=null,Tf=!1,e)throw Error(ae(300));return t}function Jv(){var t=Lu!==0;return Lu=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Bt.memoizedState=yn=t:yn=yn.next=t,yn}function Vr(){if(pn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=yn===null?Bt.memoizedState:yn.next;if(e!==null)yn=e,pn=t;else{if(t===null)throw Error(ae(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},yn===null?Bt.memoizedState=yn=t:yn=yn.next=t}return yn}function Mu(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((bo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Bt.lanes|=f,_o|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,ni(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ni(s,e.memoizedState)||(nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ST(){}function ET(t,e){var n=Bt,r=Vr(),i=e(),s=!ni(r.memoizedState,i);if(s&&(r.memoizedState=i,nr=!0),r=r.queue,Zv(IT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,Du(9,CT.bind(null,n,r,i,e),void 0,null),xn===null)throw Error(ae(349));bo&30||TT(n,e,i)}return i}function TT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&RT(t)}function IT(t,e,n){return n(function(){kT(e)&&RT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function RT(t){var e=Qi(t,1);e!==null&&ti(e,t,1,-1)}function w_(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=rO.bind(null,Bt,t),[e.memoizedState,t]}function Du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PT(){return Vr().memoizedState}function Dd(t,e,n,r){var i=li();Bt.flags|=t,i.memoizedState=Du(1|e,n,void 0,r===void 0?null:r)}function kh(t,e,n,r){var i=Vr();r=r===void 0?null:r;var s=void 0;if(pn!==null){var o=pn.memoizedState;if(s=o.destroy,r!==null&&Yv(r,o.deps)){i.memoizedState=Du(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=Du(1|e,n,s,r)}function S_(t,e){return Dd(8390656,8,t,e)}function Zv(t,e){return kh(2048,8,t,e)}function AT(t,e){return kh(4,2,t,e)}function jT(t,e){return kh(4,4,t,e)}function OT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NT(t,e,n){return n=n!=null?n.concat([t]):null,kh(4,4,OT.bind(null,e,t),n)}function e0(){}function LT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DT(t,e,n){return bo&21?(ni(n,e)||(n=BE(),Bt.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function tO(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=jm.transition;jm.transition={};try{t(!1),e()}finally{St=n,jm.transition=r}}function $T(){return Vr().memoizedState}function nO(t,e,n){var r=Rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FT(t))VT(e,n);else if(n=bT(t,e,n,r),n!==null){var i=Qn();ti(n,t,r,i),zT(n,e,r)}}function rO(t,e,n){var r=Rs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FT(t))VT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ni(a,o)){var u=e.interleaved;u===null?(i.next=i,Hv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=bT(t,e,i,r),n!==null&&(i=Qn(),ti(n,t,r,i),zT(n,e,r))}}function FT(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function VT(t,e){lu=Tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Av(t,n)}}var Cf={readContext:Fr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},iO={readContext:Fr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:S_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4194308,4,OT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dd(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nO.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:w_,useDebugValue:e0,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=w_(!1),e=t[0];return t=tO.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=li();if($t){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),xn===null)throw Error(ae(349));bo&30||TT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S_(IT.bind(null,r,s,t),[t]),r.flags|=2048,Du(9,CT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=li(),e=xn.identifierPrefix;if($t){var n=$i,r=Di;n=(r&~(1<<32-ei(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sO={readContext:Fr,useCallback:LT,useContext:Fr,useEffect:Zv,useImperativeHandle:NT,useInsertionEffect:AT,useLayoutEffect:jT,useMemo:MT,useReducer:Om,useRef:PT,useState:function(){return Om(Mu)},useDebugValue:e0,useDeferredValue:function(t){var e=Vr();return DT(e,pn.memoizedState,t)},useTransition:function(){var t=Om(Mu)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:ET,useId:$T,unstable_isNewReconciler:!1},oO={readContext:Fr,useCallback:LT,useContext:Fr,useEffect:Zv,useImperativeHandle:NT,useInsertionEffect:AT,useLayoutEffect:jT,useMemo:MT,useReducer:Nm,useRef:PT,useState:function(){return Nm(Mu)},useDebugValue:e0,useDeferredValue:function(t){var e=Vr();return pn===null?e.memoizedState=t:DT(e,pn.memoizedState,t)},useTransition:function(){var t=Nm(Mu)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:ET,useId:$T,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ny(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rh={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Rs(t),s=Bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Rs(t),s=Bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Rs(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&(ti(e,t,r,n),Ld(e,t,r))}};function E_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function BT(t,e,n){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Fr(s):(i=sr(e)?vo:Un.current,r=e.contextTypes,s=(r=r!=null)?La(t,i):Ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function T_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rh.enqueueReplaceState(e,e.state,null)}function ry(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fr(s):(s=sr(e)?vo:Un.current,i.context=La(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ny(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rh.enqueueReplaceState(i,i.state,null),Sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=NA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aO=typeof WeakMap=="function"?WeakMap:Map;function UT(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,py=r),iy(t,e)},n}function WT(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){iy(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_O.bind(null,t,e,n),e.then(t,t))}function I_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function k_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var lO=is.ReactCurrentOwner,nr=!1;function Kn(t,e,n,r){e.child=t===null?xT(e,null,n,r):Da(e,t.child,n,r)}function R_(t,e,n,r,i){n=n.render;var s=e.ref;return wa(e,i),r=Xv(t,e,n,r,s,i),n=Jv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):($t&&n&&Fv(e),e.flags|=1,Kn(t,e,r,i),e.child)}function P_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!l0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,HT(t,e,s,r,i)):(t=zd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function HT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return sy(t,e,n,r,i)}function qT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(ma,dr),dr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(ma,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,At(ma,dr),dr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,At(ma,dr),dr|=r;return Kn(t,e,i,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sy(t,e,n,r,i){var s=sr(n)?vo:Un.current;return s=La(e,s),wa(e,i),n=Xv(t,e,n,r,s,i),r=Jv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):($t&&r&&Fv(e),e.flags|=1,Kn(t,e,n,i),e.child)}function A_(t,e,n,r,i){if(sr(n)){var s=!0;vf(e)}else s=!1;if(wa(e,i),e.stateNode===null)$d(t,e),BT(e,n,r),ry(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fr(c):(c=sr(n)?vo:Un.current,c=La(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&T_(e,o,r,c),ms=!1;var m=e.memoizedState;o.state=m,Sf(e,r,o,i),u=e.memoizedState,a!==r||m!==u||ir.current||ms?(typeof f=="function"&&(ny(e,n,f,r),u=e.memoizedState),(a=ms||E_(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_T(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fr(u):(u=sr(n)?vo:Un.current,u=La(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&T_(e,o,r,u),ms=!1,m=e.memoizedState,o.state=m,Sf(e,r,o,i);var T=e.memoizedState;a!==h||m!==T||ir.current||ms?(typeof E=="function"&&(ny(e,n,E,r),T=e.memoizedState),(c=ms||E_(e,n,c,r,m,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return oy(t,e,n,r,s,i)}function oy(t,e,n,r,i,s){KT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g_(e,n,!1),Yi(t,e,s);r=e.stateNode,lO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&g_(e,n,!0),e.child}function GT(t){var e=t.stateNode;e.pendingContext?m_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m_(t,e.context,!1),Kv(t,e.containerInfo)}function j_(t,e,n,r,i){return Ma(),zv(i),e.flags|=256,Kn(t,e,n,r),e.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function ly(t){return{baseLanes:t,cachePool:null,transitions:null}}function QT(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(zt,i&1),t===null)return ey(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jh(o,r,0,null),t=po(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ly(n),e.memoizedState=ay,t):t0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ps(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ps(a,s):(s=po(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ly(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ay,r}return s=t.child,t=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t0(t,e){return e=jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&zv(r),Da(e,t.child,null,n),t=t0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lm(Error(ae(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jh({mode:"visible",children:r.children},i,0,null),s=po(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=ly(o),e.memoizedState=ay,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Lm(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),ti(r,t,i,-1))}return a0(),r=Lm(Error(ae(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hr=Cs(i.nextSibling),mr=e,$t=!0,Jr=null,t!==null&&(jr[Or++]=Di,jr[Or++]=$i,jr[Or++]=xo,Di=t.id,$i=t.overflow,xo=e),e=t0(e,r.children),e.flags|=4096,e)}function O_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ty(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function YT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O_(t,n,e);else if(t.tag===19)O_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(At(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ef(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ef(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cO(t,e,n){switch(e.tag){case 3:GT(e),Ma();break;case 5:wT(e);break;case 1:sr(e.type)&&vf(e);break;case 4:Kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;At(_f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(At(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?QT(t,e,n):(At(zt,zt.current&1),t=Yi(t,e,n),t!==null?t.sibling:null);At(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,qT(t,e,n)}return Yi(t,e,n)}var XT,uy,JT,ZT;XT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uy=function(){};JT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lo(pi.current);var s=null;switch(n){case"input":i=Ag(t,i),r=Ag(t,r),s=[];break;case"select":i=Ut({},i,{value:void 0}),r=Ut({},r,{value:void 0}),s=[];break;case"textarea":i=Ng(t,i),r=Ng(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gf)}Mg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ZT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nl(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dO(t,e,n){var r=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return sr(e.type)&&yf(),Mn(e),null;case 3:return r=e.stateNode,$a(),Lt(ir),Lt(Un),Qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(yy(Jr),Jr=null))),uy(t,e),Mn(e),null;case 5:Gv(e);var i=lo(Nu.current);if(n=e.type,t!==null&&e.stateNode!=null)JT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Mn(e),null}if(t=lo(pi.current),ud(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[di]=e,r[ju]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)Ot(Ql[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Bb(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":Wb(r,s),Ot("invalid",r)}Mg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":ed(r),Ub(r,s,!0);break;case"textarea":ed(r),Hb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[di]=e,t[ju]=r,XT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dg(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)Ot(Ql[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":Bb(t,r),i=Ag(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ut({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":Wb(t,r),i=Ng(t,r),Ot("invalid",t);break;default:i=r}Mg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?PE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Su(t,u):typeof u=="number"&&Su(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&Tv(t,s,u,o))}switch(n){case"input":ed(t),Ub(t,r,!1);break;case"textarea":ed(t),Hb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)ZT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=lo(Nu.current),lo(pi.current),ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Mn(e),null;case 13:if(Lt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&hr!==null&&e.mode&1&&!(e.flags&128))yT(),Ma(),e.flags|=98560,s=!1;else if(s=ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[di]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Jr!==null&&(yy(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?mn===0&&(mn=3):a0())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return $a(),uy(t,e),t===null&&Pu(e.stateNode.containerInfo),Mn(e),null;case 10:return Wv(e.type._context),Mn(e),null;case 17:return sr(e.type)&&yf(),Mn(e),null;case 19:if(Lt(zt),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nl(s,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ef(t),o!==null){for(e.flags|=128,Nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return At(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jt()>Va&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ef(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Mn(e),null}else 2*Jt()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=zt.current,At(zt,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return o0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dr&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function fO(t,e){switch(Vv(e),e.tag){case 1:return sr(e.type)&&yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Lt(ir),Lt(Un),Qv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(Lt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(zt),null;case 4:return $a(),null;case 10:return Wv(e.type._context),null;case 22:case 23:return o0(),null;case 24:return null;default:return null}}var fd=!1,zn=!1,hO=typeof WeakSet=="function"?WeakSet:Set,xe=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function cy(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var N_=!1;function pO(t,e){if(Kg=hf,t=iT(),$v(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gg={focusedElem:t,selectionRange:n},hf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,I=T.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?w:Yr(e.type,w),I);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(k){Gt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return T=N_,N_=!1,T}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cy(e,n,s)}i=i.next}while(i!==r)}}function Ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eC(t){var e=t.alternate;e!==null&&(t.alternate=null,eC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[ju],delete e[Xg],delete e[Yj],delete e[Xj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tC(t){return t.tag===5||t.tag===3||t.tag===4}function L_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gf));else if(r!==4&&(t=t.child,t!==null))for(fy(t,e,n),t=t.sibling;t!==null;)fy(t,e,n),t=t.sibling}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}var Sn=null,Xr=!1;function ds(t,e,n){for(n=n.child;n!==null;)nC(t,e,n),n=n.sibling}function nC(t,e,n){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:zn||pa(n,e);case 6:var r=Sn,i=Xr;Sn=null,ds(t,e,n),Sn=r,Xr=i,Sn!==null&&(Xr?(t=Sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(Xr?(t=Sn,n=n.stateNode,t.nodeType===8?Rm(t.parentNode,n):t.nodeType===1&&Rm(t,n),Iu(t)):Rm(Sn,n.stateNode));break;case 4:r=Sn,i=Xr,Sn=n.stateNode.containerInfo,Xr=!0,ds(t,e,n),Sn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cy(n,e,o),i=i.next}while(i!==r)}ds(t,e,n);break;case 1:if(!zn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,ds(t,e,n),zn=r):ds(t,e,n);break;default:ds(t,e,n)}}function M_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hO),e.forEach(function(r){var i=SO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sn=a.stateNode,Xr=!1;break e;case 3:Sn=a.stateNode.containerInfo,Xr=!0;break e;case 4:Sn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(Sn===null)throw Error(ae(160));nC(s,o,i),Sn=null,Xr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rC(e,t),e=e.sibling}function rC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),ai(t),r&4){try{uu(3,t,t.return),Ph(3,t)}catch(w){Gt(t,t.return,w)}try{uu(5,t,t.return)}catch(w){Gt(t,t.return,w)}}break;case 1:Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{Su(i,"")}catch(w){Gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TE(i,s),Dg(a,o);var c=Dg(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?PE(i,h):f==="dangerouslySetInnerHTML"?kE(i,h):f==="children"?Su(i,h):Tv(i,f,h,c)}switch(a){case"input":jg(i,s);break;case"textarea":CE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?va(i,!!s.multiple,E,!1):m!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[ju]=s}catch(w){Gt(t,t.return,w)}}break;case 6:if(Gr(e,t),ai(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Gt(t,t.return,w)}}break;case 3:if(Gr(e,t),ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(w){Gt(t,t.return,w)}break;case 4:Gr(e,t),ai(t);break;case 13:Gr(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(i0=Jt())),r&4&&M_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(c=zn)||f,Gr(e,t),zn=c):Gr(e,t),ai(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(h=xe=f;xe!==null;){switch(m=xe,E=m.child,m.tag){case 0:case 11:case 14:case 15:uu(4,m,m.return);break;case 1:pa(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){Gt(r,n,w)}}break;case 5:pa(m,m.return);break;case 22:if(m.memoizedState!==null){$_(h);continue}}E!==null?(E.return=m,xe=E):$_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=RE("display",o))}catch(w){Gt(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Gt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gr(e,t),ai(t),r&4&&M_(t);break;case 21:break;default:Gr(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tC(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Su(i,""),r.flags&=-33);var s=L_(t);hy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L_(t);fy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mO(t,e,n){xe=t,iC(t)}function iC(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fd;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||zn;a=fd;var c=zn;if(fd=o,(zn=u)&&!c)for(xe=i;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?F_(i):u!==null?(u.return=o,xe=u):F_(i);for(;s!==null;)xe=s,iC(s),s=s.sibling;xe=i,fd=a,zn=c}D_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):D_(t)}}function D_(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||Ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&__(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}__(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}zn||e.flags&512&&dy(e)}catch(m){Gt(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function $_(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function F_(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ph(4,e)}catch(u){Gt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Gt(e,i,u)}}var s=e.return;try{dy(e)}catch(u){Gt(e,s,u)}break;case 5:var o=e.return;try{dy(e)}catch(u){Gt(e,o,u)}}}catch(u){Gt(e,e.return,u)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var gO=Math.ceil,If=is.ReactCurrentDispatcher,n0=is.ReactCurrentOwner,Mr=is.ReactCurrentBatchConfig,dt=0,xn=null,an=null,In=0,dr=0,ma=Bs(0),mn=0,$u=null,_o=0,Ah=0,r0=0,cu=null,er=null,i0=0,Va=1/0,Pi=null,kf=!1,py=null,ks=null,hd=!1,bs=null,Rf=0,du=0,my=null,Fd=-1,Vd=0;function Qn(){return dt&6?Jt():Fd!==-1?Fd:Fd=Jt()}function Rs(t){return t.mode&1?dt&2&&In!==0?In&-In:Zj.transition!==null?(Vd===0&&(Vd=BE()),Vd):(t=St,t!==0||(t=window.event,t=t===void 0?16:QE(t.type)),t):1}function ti(t,e,n,r){if(50<du)throw du=0,my=null,Error(ae(185));ac(t,n,r),(!(dt&2)||t!==xn)&&(t===xn&&(!(dt&2)&&(Ah|=n),mn===4&&vs(t,In)),or(t,r),n===1&&dt===0&&!(e.mode&1)&&(Va=Jt()+500,Ih&&Us()))}function or(t,e){var n=t.callbackNode;ZA(t,e);var r=ff(t,t===xn?In:0);if(r===0)n!==null&&Gb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gb(n),e===1)t.tag===0?Jj(V_.bind(null,t)):pT(V_.bind(null,t)),Gj(function(){!(dt&6)&&Us()}),n=null;else{switch(UE(r)){case 1:n=Pv;break;case 4:n=VE;break;case 16:n=df;break;case 536870912:n=zE;break;default:n=df}n=fC(n,sC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sC(t,e){if(Fd=-1,Vd=0,dt&6)throw Error(ae(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=ff(t,t===xn?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pf(t,r);else{e=r;var i=dt;dt|=2;var s=aC();(xn!==t||In!==e)&&(Pi=null,Va=Jt()+500,ho(t,e));do try{xO();break}catch(a){oC(t,a)}while(!0);Uv(),If.current=s,dt=i,an!==null?e=0:(xn=null,In=0,e=mn)}if(e!==0){if(e===2&&(i=Bg(t),i!==0&&(r=i,e=gy(t,i))),e===1)throw n=$u,ho(t,0),vs(t,r),or(t,Jt()),n;if(e===6)vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!yO(i)&&(e=Pf(t,r),e===2&&(s=Bg(t),s!==0&&(r=s,e=gy(t,s))),e===1))throw n=$u,ho(t,0),vs(t,r),or(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:to(t,er,Pi);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=i0+500-Jt(),10<e)){if(ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yg(to.bind(null,t,er,Pi),e);break}to(t,er,Pi);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ei(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gO(r/1960))-r,10<r){t.timeoutHandle=Yg(to.bind(null,t,er,Pi),r);break}to(t,er,Pi);break;case 5:to(t,er,Pi);break;default:throw Error(ae(329))}}}return or(t,Jt()),t.callbackNode===n?sC.bind(null,t):null}function gy(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=Pf(t,e),t!==2&&(e=er,er=n,e!==null&&yy(e)),t}function yy(t){er===null?er=t:er.push.apply(er,t)}function yO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~r0,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ei(e),r=1<<n;t[n]=-1,e&=~r}}function V_(t){if(dt&6)throw Error(ae(327));Sa();var e=ff(t,0);if(!(e&1))return or(t,Jt()),null;var n=Pf(t,e);if(t.tag!==0&&n===2){var r=Bg(t);r!==0&&(e=r,n=gy(t,r))}if(n===1)throw n=$u,ho(t,0),vs(t,e),or(t,Jt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,er,Pi),or(t,Jt()),null}function s0(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(Va=Jt()+500,Ih&&Us())}}function wo(t){bs!==null&&bs.tag===0&&!(dt&6)&&Sa();var e=dt;dt|=1;var n=Mr.transition,r=St;try{if(Mr.transition=null,St=1,t)return t()}finally{St=r,Mr.transition=n,dt=e,!(dt&6)&&Us()}}function o0(){dr=ma.current,Lt(ma)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kj(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(Vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:$a(),Lt(ir),Lt(Un),Qv();break;case 5:Gv(r);break;case 4:$a();break;case 13:Lt(zt);break;case 19:Lt(zt);break;case 10:Wv(r.type._context);break;case 22:case 23:o0()}n=n.return}if(xn=t,an=t=Ps(t.current,null),In=dr=e,mn=0,$u=null,r0=Ah=_o=0,er=cu=null,ao!==null){for(e=0;e<ao.length;e++)if(n=ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ao=null}return t}function oC(t,e){do{var n=an;try{if(Uv(),Md.current=Cf,Tf){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tf=!1}if(bo=0,yn=pn=Bt=null,lu=!1,Lu=0,n0.current=null,n===null||n.return===null){mn=1,$u=e,an=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=In,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=I_(o);if(E!==null){E.flags&=-257,k_(E,o,a,s,e),E.mode&1&&C_(s,c,e),e=E,u=c;var T=e.updateQueue;if(T===null){var w=new Set;w.add(u),e.updateQueue=w}else T.add(u);break e}else{if(!(e&1)){C_(s,c,e),a0();break e}u=Error(ae(426))}}else if($t&&a.mode&1){var I=I_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),k_(I,o,a,s,e),zv(Fa(u,a));break e}}s=u=Fa(u,a),mn!==4&&(mn=2),cu===null?cu=[s]:cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=UT(s,u,e);b_(s,C);break e;case 1:a=u;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=WT(s,a,e);b_(s,k);break e}}s=s.return}while(s!==null)}uC(n)}catch(L){e=L,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function aC(){var t=If.current;return If.current=Cf,t===null?Cf:t}function a0(){(mn===0||mn===3||mn===2)&&(mn=4),xn===null||!(_o&268435455)&&!(Ah&268435455)||vs(xn,In)}function Pf(t,e){var n=dt;dt|=2;var r=aC();(xn!==t||In!==e)&&(Pi=null,ho(t,e));do try{vO();break}catch(i){oC(t,i)}while(!0);if(Uv(),dt=n,If.current=r,an!==null)throw Error(ae(261));return xn=null,In=0,mn}function vO(){for(;an!==null;)lC(an)}function xO(){for(;an!==null&&!WA();)lC(an)}function lC(t){var e=dC(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?uC(t):an=e,n0.current=null}function uC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fO(n,e),n!==null){n.flags&=32767,an=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,an=null;return}}else if(n=dO(n,e,dr),n!==null){an=n;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);mn===0&&(mn=5)}function to(t,e,n){var r=St,i=Mr.transition;try{Mr.transition=null,St=1,bO(t,e,n,r)}finally{Mr.transition=i,St=r}return null}function bO(t,e,n,r){do Sa();while(bs!==null);if(dt&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ej(t,s),t===xn&&(an=xn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,fC(df,function(){return Sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mr.transition,Mr.transition=null;var o=St;St=1;var a=dt;dt|=4,n0.current=null,pO(t,n),rC(n,t),Vj(Gg),hf=!!Kg,Gg=Kg=null,t.current=n,mO(n),HA(),dt=a,St=o,Mr.transition=s}else t.current=n;if(hd&&(hd=!1,bs=t,Rf=i),s=t.pendingLanes,s===0&&(ks=null),GA(n.stateNode),or(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,t=py,py=null,t;return Rf&1&&t.tag!==0&&Sa(),s=t.pendingLanes,s&1?t===my?du++:(du=0,my=t):du=0,Us(),null}function Sa(){if(bs!==null){var t=UE(Rf),e=Mr.transition,n=St;try{if(Mr.transition=null,St=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,Rf=0,dt&6)throw Error(ae(331));var i=dt;for(dt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:uu(8,f,s)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var m=f.sibling,E=f.return;if(eC(f),f===c){xe=null;break}if(m!==null){m.return=E,xe=m;break}xe=E}}}var T=s.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,xe=C;break e}xe=s.return}}var y=t.current;for(xe=y;xe!==null;){o=xe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,xe=b;else e:for(o=y;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ph(9,a)}}catch(L){Gt(a,a.return,L)}if(a===o){xe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,xe=k;break e}xe=a.return}}if(dt=i,Us(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(wh,t)}catch{}r=!0}return r}finally{St=n,Mr.transition=e}}return!1}function z_(t,e,n){e=Fa(n,e),e=UT(t,e,1),t=Is(t,e,1),e=Qn(),t!==null&&(ac(t,1,e),or(t,e))}function Gt(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Fa(n,t),t=WT(e,t,1),e=Is(e,t,1),t=Qn(),e!==null&&(ac(e,1,t),or(e,t));break}}e=e.return}}function _O(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,xn===t&&(In&n)===n&&(mn===4||mn===3&&(In&130023424)===In&&500>Jt()-i0?ho(t,0):r0|=n),or(t,e)}function cC(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Qn();t=Qi(t,e),t!==null&&(ac(t,e,n),or(t,n))}function wO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cC(t,n)}function SO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),cC(t,n)}var dC;dC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,cO(t,e,n);nr=!!(t.flags&131072)}else nr=!1,$t&&e.flags&1048576&&mT(e,bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$d(t,e),t=e.pendingProps;var i=La(e,Un.current);wa(e,n),i=Xv(null,e,r,t,i,n);var s=Jv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(s=!0,vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qv(e),i.updater=Rh,e.stateNode=i,i._reactInternals=e,ry(e,r,t,n),e=oy(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&Fv(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TO(r),t=Yr(r,t),i){case 0:e=sy(null,e,r,t,n);break e;case 1:e=A_(null,e,r,t,n);break e;case 11:e=R_(null,e,r,t,n);break e;case 14:e=P_(null,e,r,Yr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),sy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),A_(t,e,r,i,n);case 3:e:{if(GT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_T(t,e),Sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fa(Error(ae(423)),e),e=j_(t,e,r,n,i);break e}else if(r!==i){i=Fa(Error(ae(424)),e),e=j_(t,e,r,n,i);break e}else for(hr=Cs(e.stateNode.containerInfo.firstChild),mr=e,$t=!0,Jr=null,n=xT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===i){e=Yi(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return wT(e),t===null&&ey(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qg(r,i)?o=null:s!==null&&Qg(r,s)&&(e.flags|=32),KT(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&ey(e),null;case 13:return QT(t,e,n);case 4:return Kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),R_(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,At(_f,r._currentValue),r._currentValue=o,s!==null)if(ni(s.value,o)){if(s.children===i.children&&!ir.current){e=Yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Bi(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ty(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ty(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wa(e,n),i=Fr(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),P_(t,e,r,i,n);case 15:return HT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),$d(t,e),e.tag=1,sr(r)?(t=!0,vf(e)):t=!1,wa(e,n),BT(e,r,i),ry(e,r,i,n),oy(null,e,r,!0,t,n);case 19:return YT(t,e,n);case 22:return qT(t,e,n)}throw Error(ae(156,e.tag))};function fC(t,e){return FE(t,e)}function EO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new EO(t,e,n,r)}function l0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TO(t){if(typeof t=="function")return l0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===kv)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")l0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return po(n.children,i,s,e);case Cv:o=8,i|=8;break;case Ig:return t=Lr(12,n,e,i|2),t.elementType=Ig,t.lanes=s,t;case kg:return t=Lr(13,n,e,i),t.elementType=kg,t.lanes=s,t;case Rg:return t=Lr(19,n,e,i),t.elementType=Rg,t.lanes=s,t;case wE:return jh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bE:o=10;break e;case _E:o=9;break e;case Iv:o=11;break e;case kv:o=14;break e;case ps:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Lr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function po(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function jh(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=wE,t.lanes=n,t.stateNode={isHidden:!1},t}function Dm(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function $m(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function u0(t,e,n,r,i,s,o,a,u){return t=new CO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(s),t}function IO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hC(t){if(!t)return Ls;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(sr(n))return hT(t,n,e)}return e}function pC(t,e,n,r,i,s,o,a,u){return t=u0(n,r,!0,t,i,s,o,a,u),t.context=hC(null),n=t.current,r=Qn(),i=Rs(n),s=Bi(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,ac(t,i,r),or(t,r),t}function Oh(t,e,n,r){var i=e.current,s=Qn(),o=Rs(i);return n=hC(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&(ti(t,i,o,s),Ld(t,i,o)),o}function Af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c0(t,e){B_(t,e),(t=t.alternate)&&B_(t,e)}function kO(){return null}var mC=typeof reportError=="function"?reportError:function(t){console.error(t)};function d0(t){this._internalRoot=t}Nh.prototype.render=d0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Oh(t,e,null,null)};Nh.prototype.unmount=d0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Oh(null,t,null,null)}),e[Gi]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=qE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&GE(t)}};function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function RO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Af(o);s.call(c)}}var o=pC(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=o,t[Gi]=o.current,Pu(t.nodeType===8?t.parentNode:t),wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Af(u);a.call(c)}}var u=u0(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=u,t[Gi]=u.current,Pu(t.nodeType===8?t.parentNode:t),wo(function(){Oh(e,u,n,r)}),u}function Mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Af(o);a.call(u)}}Oh(e,o,t,i)}else o=RO(n,e,t,i,r);return Af(o)}WE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gl(e.pendingLanes);n!==0&&(Av(e,n|1),or(e,Jt()),!(dt&6)&&(Va=Jt()+500,Us()))}break;case 13:wo(function(){var r=Qi(t,1);if(r!==null){var i=Qn();ti(r,t,1,i)}}),c0(t,1)}};jv=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var n=Qn();ti(e,t,134217728,n)}c0(t,134217728)}};HE=function(t){if(t.tag===13){var e=Rs(t),n=Qi(t,e);if(n!==null){var r=Qn();ti(n,t,e,r)}c0(t,e)}};qE=function(){return St};KE=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};Fg=function(t,e,n){switch(e){case"input":if(jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ch(r);if(!i)throw Error(ae(90));EE(r),jg(r,i)}}}break;case"textarea":CE(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};OE=s0;NE=wo;var PO={usingClientEntryPoint:!1,Events:[uc,ua,Ch,AE,jE,s0]},Ll={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AO={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{wh=pd.inject(AO),hi=pd}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PO;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f0(e))throw Error(ae(200));return IO(t,e,null,n)};Sr.createRoot=function(t,e){if(!f0(t))throw Error(ae(299));var n=!1,r="",i=mC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=u0(t,1,!1,null,null,n,!1,r,i),t[Gi]=e.current,Pu(t.nodeType===8?t.parentNode:t),new d0(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=DE(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return wo(t)};Sr.hydrate=function(t,e,n){if(!Lh(e))throw Error(ae(200));return Mh(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!f0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pC(e,null,t,1,n??null,i,!1,s,o),t[Gi]=e.current,Pu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nh(e)};Sr.render=function(t,e,n){if(!Lh(e))throw Error(ae(200));return Mh(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!Lh(t))throw Error(ae(40));return t._reactRootContainer?(wo(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};Sr.unstable_batchedUpdates=s0;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lh(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Mh(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function gC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gC)}catch(t){console.error(t)}}gC(),gE.exports=Sr;var h0=gE.exports;const md=yh(h0);var W_=h0;Tg.createRoot=W_.createRoot,Tg.hydrateRoot=W_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const H_="popstate";function jO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Lo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),vy("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:jf(s))}function r(i,s){p0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return NO(e,n,r,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OO(){return Math.random().toString(36).substr(2,8)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function vy(t,e,n,r){return n===void 0&&(n=null),Fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||r||OO()})}function jf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_s.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Fu({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=_s.Pop;let I=f(),C=I==null?null:I-c;c=I,u&&u({action:a,location:w.location,delta:C})}function m(I,C){a=_s.Push;let y=vy(w.location,I,C);n&&n(y,I),c=f()+1;let b=q_(y,c),k=w.createHref(y);try{o.pushState(b,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(k)}s&&u&&u({action:a,location:w.location,delta:1})}function E(I,C){a=_s.Replace;let y=vy(w.location,I,C);n&&n(y,I),c=f();let b=q_(y,c),k=w.createHref(y);o.replaceState(b,"",k),s&&u&&u({action:a,location:w.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof I=="string"?I:jf(I);return y=y.replace(/ $/,"%20"),un(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let w={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(H_,h),u=I,()=>{i.removeEventListener(H_,h),u=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:E,go(I){return o.go(I)}};return w}var K_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K_||(K_={}));function LO(t,e,n){return n===void 0&&(n="/"),MO(t,e,n)}function MO(t,e,n,r){let i=typeof e=="string"?Lo(e):e,s=m0(i.pathname||"/",n);if(s==null)return null;let o=yC(t);DO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=QO(s);a=qO(o[u],c)}return a}function yC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(un(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=As([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:WO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of vC(s.path))i(s,o,u)}),e}function vC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function DO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $O=/^:[\w-]+$/,FO=3,VO=2,zO=1,BO=10,UO=-2,G_=t=>t==="*";function WO(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=UO),e&&(r+=VO),n.filter(i=>!G_(i)).reduce((i,s)=>i+($O.test(s)?FO:s===""?zO:BO),r)}function HO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=KO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:As([s,h.pathname]),pathnameBase:ZO(As([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=As([s,h.pathnameBase]))}return o}function KO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return E&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function GO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function m0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:XO(n,e):e,search:eN(r),hash:tN(i)}}function XO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let n=JO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Lo(t):(i=Fu({},t),un(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=YO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const As=t=>t.join("/").replace(/\/\/+/g,"/"),ZO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _C=["post","put","patch","delete"];new Set(_C);const rN=["get",..._C];new Set(rN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}const g0=_.createContext(null),iN=_.createContext(null),Mo=_.createContext(null),Dh=_.createContext(null),Ws=_.createContext({outlet:null,matches:[],isDataRoute:!1}),wC=_.createContext(null);function sN(t,e){let{relative:n}=e===void 0?{}:e;dc()||un(!1);let{basename:r,navigator:i}=_.useContext(Mo),{hash:s,pathname:o,search:a}=EC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:As([r,o])),i.createHref({pathname:u,search:a,hash:s})}function dc(){return _.useContext(Dh)!=null}function Hs(){return dc()||un(!1),_.useContext(Dh).location}function SC(t){_.useContext(Mo).static||_.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=_.useContext(Ws);return t?vN():oN()}function oN(){dc()||un(!1);let t=_.useContext(g0),{basename:e,future:n,navigator:r}=_.useContext(Mo),{matches:i}=_.useContext(Ws),{pathname:s}=Hs(),o=JSON.stringify(xC(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return SC(()=>{a.current=!0}),_.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=bC(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:As([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function fc(){let{matches:t}=_.useContext(Ws),e=t[t.length-1];return e?e.params:{}}function EC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Mo),{matches:i}=_.useContext(Ws),{pathname:s}=Hs(),o=JSON.stringify(xC(i,r.v7_relativeSplatPath));return _.useMemo(()=>bC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function aN(t,e){return lN(t,e)}function lN(t,e,n,r){dc()||un(!1);let{navigator:i}=_.useContext(Mo),{matches:s}=_.useContext(Ws),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Hs(),f;if(e){var h;let I=typeof e=="string"?Lo(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||un(!1),f=I}else f=c;let m=f.pathname||"/",E=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=LO(t,{pathname:E}),w=hN(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:As([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:As([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&w?_.createElement(Dh.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_s.Pop}},w):w}function uN(){let t=yN(),e=nN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const cN=_.createElement(uN,null);class dN extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Ws.Provider,{value:this.props.routeContext},_.createElement(wC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fN(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(g0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Ws.Provider,{value:e},r)}function hN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||un(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:E}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let E,T=!1,w=null,I=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||cN,u&&(c<0&&m===0?(xN("route-fallback"),T=!0,I=null):c===m&&(T=!0,I=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),y=()=>{let b;return E?b=w:T?b=I:h.route.Component?b=_.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,_.createElement(fN,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(dN,{location:n.location,revalidation:n.revalidation,component:w,error:E,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):y()},null)}var TC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TC||{}),CC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(CC||{});function pN(t){let e=_.useContext(g0);return e||un(!1),e}function mN(t){let e=_.useContext(iN);return e||un(!1),e}function gN(t){let e=_.useContext(Ws);return e||un(!1),e}function IC(t){let e=gN(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function yN(){var t;let e=_.useContext(wC),n=mN(),r=IC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vN(){let{router:t}=pN(TC.UseNavigateStable),e=IC(CC.UseNavigateStable),n=_.useRef(!1);return SC(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vu({fromRouteId:e},s)))},[t,e])}const Q_={};function xN(t,e,n){Q_[t]||(Q_[t]=!0)}function bN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hn(t){un(!1)}function _N(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_s.Pop,navigator:s,static:o=!1,future:a}=t;dc()&&un(!1);let u=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:s,static:o,future:Vu({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Lo(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:T="default"}=r,w=_.useMemo(()=>{let I=m0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:E,key:T},navigationType:i}},[u,f,h,m,E,T,i]);return w==null?null:_.createElement(Mo.Provider,{value:c},_.createElement(Dh.Provider,{children:n,value:w}))}function wN(t){let{children:e,location:n}=t;return aN(xy(e),n)}new Promise(()=>{});function xy(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,xy(r.props.children,s));return}r.type!==hn&&un(!1),!r.props.index||!r.props.children||un(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function SN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TN(t,e){return t.button===0&&(!e||e==="_self")&&!EN(t)}const CN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IN="6";try{window.__reactRouterVersion=IN}catch{}const kN="startTransition",Y_=af[kN];function RN(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=jO({window:i,v5Compat:!0}));let o=s.current,[a,u]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=_.useCallback(h=>{c&&Y_?Y_(()=>u(h)):u(h)},[u,c]);return _.useLayoutEffect(()=>o.listen(f),[o,f]),_.useEffect(()=>bN(r),[r]),_.createElement(_N,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const PN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,za=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=SN(e,CN),{basename:E}=_.useContext(Mo),T,w=!1;if(typeof c=="string"&&AN.test(c)&&(T=c,PN))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),L=m0(k.pathname,E);k.origin===b.origin&&L!=null?c=L+k.search+k.hash:w=!0}catch{}let I=sN(c,{relative:i}),C=jN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||C(b)}return _.createElement("a",by({},m,{href:T||I,onClick:w||s?r:y,ref:n,target:u}))});var X_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X_||(X_={}));var J_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function jN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Ur(),c=Hs(),f=EC(t,{relative:o});return _.useCallback(h=>{if(TN(h,n)){h.preventDefault();let m=r!==void 0?r:jf(c)===jf(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ON=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,E=c&63;u||(E=64,o||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ON(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new NN;const m=s<<2|a>>4;if(r.push(m),c!==64){const E=a<<4&240|c>>2;if(r.push(E),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(t){const e=kC(t);return RC.encodeByteArray(e,!0)},Of=function(t){return LN(t).replace(/\./g,"")},PC=function(t){try{return RC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>MN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof Z_>"u")return;const t=Z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PC(t[1]);return e&&JSON.parse(e)},$h=()=>{try{return DN()||$N()||FN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AC=t=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jC=t=>{const e=AC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OC=()=>{var t;return(t=$h())===null||t===void 0?void 0:t.config},NC=t=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Of(JSON.stringify(n)),Of(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function BN(){var t;const e=(t=$h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qN(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KN(){return!BN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ei(i,a,r)}}function XN(t,e){return t.replace(JN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function ZN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(e1(s)&&e1(o)){if(!Nf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eL(t,e){const n=new tL(t,e);return n.subscribe.bind(n)}class tL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sL(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iL(t){return t===no?void 0:t}function sL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const aL={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},lL=at.INFO,uL={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},cL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y0{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=cL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const dL=(t,e)=>e.some(n=>t instanceof n);let t1,n1;function fL(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hL(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MC=new WeakMap,_y=new WeakMap,DC=new WeakMap,zm=new WeakMap,v0=new WeakMap;function pL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(js(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MC.set(n,t)}).catch(()=>{}),v0.set(e,t),e}function mL(t){if(_y.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_y.set(t,e)}let wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gL(t){wy=t(wy)}function yL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bm(this),e,...n);return DC.set(r,e.sort?e.sort():[e]),js(r)}:hL().includes(t)?function(...e){return t.apply(Bm(this),e),js(MC.get(this))}:function(...e){return js(t.apply(Bm(this),e))}}function vL(t){return typeof t=="function"?yL(t):(t instanceof IDBTransaction&&mL(t),dL(t,fL())?new Proxy(t,wy):t)}function js(t){if(t instanceof IDBRequest)return pL(t);if(zm.has(t))return zm.get(t);const e=vL(t);return e!==t&&(zm.set(t,e),v0.set(e,t)),e}const Bm=t=>v0.get(t);function xL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(js(o.result),u.oldVersion,u.newVersion,js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],Um=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bL.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Um.set(e,s),s}gL(t=>({...t,get:(e,n,r)=>r1(e,n)||t.get(e,n,r),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sy="@firebase/app",i1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new y0("@firebase/app"),EL="@firebase/app-compat",TL="@firebase/analytics-compat",CL="@firebase/analytics",IL="@firebase/app-check-compat",kL="@firebase/app-check",RL="@firebase/auth",PL="@firebase/auth-compat",AL="@firebase/database",jL="@firebase/data-connect",OL="@firebase/database-compat",NL="@firebase/functions",LL="@firebase/functions-compat",ML="@firebase/installations",DL="@firebase/installations-compat",$L="@firebase/messaging",FL="@firebase/messaging-compat",VL="@firebase/performance",zL="@firebase/performance-compat",BL="@firebase/remote-config",UL="@firebase/remote-config-compat",WL="@firebase/storage",HL="@firebase/storage-compat",qL="@firebase/firestore",KL="@firebase/vertexai-preview",GL="@firebase/firestore-compat",QL="firebase",YL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="[DEFAULT]",XL={[Sy]:"fire-core",[EL]:"fire-core-compat",[CL]:"fire-analytics",[TL]:"fire-analytics-compat",[kL]:"fire-app-check",[IL]:"fire-app-check-compat",[RL]:"fire-auth",[PL]:"fire-auth-compat",[AL]:"fire-rtdb",[jL]:"fire-data-connect",[OL]:"fire-rtdb-compat",[NL]:"fire-fn",[LL]:"fire-fn-compat",[ML]:"fire-iid",[DL]:"fire-iid-compat",[$L]:"fire-fcm",[FL]:"fire-fcm-compat",[VL]:"fire-perf",[zL]:"fire-perf-compat",[BL]:"fire-rc",[UL]:"fire-rc-compat",[WL]:"fire-gcs",[HL]:"fire-gcs-compat",[qL]:"fire-fst",[GL]:"fire-fst-compat",[KL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,JL=new Map,Ty=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Ty.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of Lf.values())s1(n,t);for(const n of JL.values())s1(n,t);return!0}function Fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new hc("app","Firebase",ZL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=YL;function $C(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(n||(n=OC()),!n)throw Os.create("no-options");const s=Lf.get(i);if(s){if(Nf(n,s.options)&&Nf(r,s.config))return s;throw Os.create("duplicate-app",{appName:i})}const o=new oL(i);for(const u of Ty.values())o.addComponent(u);const a=new eM(n,r,o);return Lf.set(i,a),a}function x0(t=Ey){const e=Lf.get(t);if(!e&&t===Ey&&OC())return $C();if(!e)throw Os.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=XL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(a.join(" "));return}So(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firebase-heartbeat-database",nM=1,zu="firebase-heartbeat-store";let Wm=null;function FC(){return Wm||(Wm=xL(tM,nM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Wm}async function rM(t){try{const n=(await FC()).transaction(zu),r=await n.objectStore(zu).get(VC(t));return await n.done,r}catch(e){if(e instanceof Ei)Xi.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function o1(t,e){try{const r=(await FC()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,VC(t)),await r.done}catch(n){if(n instanceof Ei)Xi.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function VC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1024,sM=30*24*60*60*1e3;class oM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a1(),{heartbeatsToSend:r,unsentEntries:i}=aM(this._heartbeatsCache.heartbeats),s=Of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xi.warn(n),""}}}function a1(){return new Date().toISOString().substring(0,10)}function aM(t,e=iM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l1(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){So(new Ms("platform-logger",e=>new wL(e),"PRIVATE")),So(new Ms("heartbeat",e=>new oM(e),"PRIVATE")),mi(Sy,i1,t),mi(Sy,i1,"esm2017"),mi("fire-js","")}uM("");var cM="firebase",dM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(cM,dM,"app");var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,zC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,p){function g(){}g.prototype=p.prototype,S.D=p.prototype,S.prototype=new g,S.prototype.constructor=S,S.C=function(x,j,A){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return p.prototype[j].apply(x,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,p,g){g||(g=0);var x=Array(16);if(typeof p=="string")for(var j=0;16>j;++j)x[j]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(j=0;16>j;++j)x[j]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=S.g[0],g=S.g[1],j=S.g[2];var A=S.g[3],P=p+(A^g&(j^A))+x[0]+3614090360&4294967295;p=g+(P<<7&4294967295|P>>>25),P=A+(j^p&(g^j))+x[1]+3905402710&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(g^A&(p^g))+x[2]+606105819&4294967295,j=A+(P<<17&4294967295|P>>>15),P=g+(p^j&(A^p))+x[3]+3250441966&4294967295,g=j+(P<<22&4294967295|P>>>10),P=p+(A^g&(j^A))+x[4]+4118548399&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(j^p&(g^j))+x[5]+1200080426&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(g^A&(p^g))+x[6]+2821735955&4294967295,j=A+(P<<17&4294967295|P>>>15),P=g+(p^j&(A^p))+x[7]+4249261313&4294967295,g=j+(P<<22&4294967295|P>>>10),P=p+(A^g&(j^A))+x[8]+1770035416&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(j^p&(g^j))+x[9]+2336552879&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(g^A&(p^g))+x[10]+4294925233&4294967295,j=A+(P<<17&4294967295|P>>>15),P=g+(p^j&(A^p))+x[11]+2304563134&4294967295,g=j+(P<<22&4294967295|P>>>10),P=p+(A^g&(j^A))+x[12]+1804603682&4294967295,p=g+(P<<7&4294967295|P>>>25),P=A+(j^p&(g^j))+x[13]+4254626195&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(g^A&(p^g))+x[14]+2792965006&4294967295,j=A+(P<<17&4294967295|P>>>15),P=g+(p^j&(A^p))+x[15]+1236535329&4294967295,g=j+(P<<22&4294967295|P>>>10),P=p+(j^A&(g^j))+x[1]+4129170786&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^j&(p^g))+x[6]+3225465664&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^g&(A^p))+x[11]+643717713&4294967295,j=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(j^A))+x[0]+3921069994&4294967295,g=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(g^j))+x[5]+3593408605&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^j&(p^g))+x[10]+38016083&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^g&(A^p))+x[15]+3634488961&4294967295,j=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(j^A))+x[4]+3889429448&4294967295,g=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(g^j))+x[9]+568446438&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^j&(p^g))+x[14]+3275163606&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^g&(A^p))+x[3]+4107603335&4294967295,j=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(j^A))+x[8]+1163531501&4294967295,g=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(g^j))+x[13]+2850285829&4294967295,p=g+(P<<5&4294967295|P>>>27),P=A+(g^j&(p^g))+x[2]+4243563512&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^g&(A^p))+x[7]+1735328473&4294967295,j=A+(P<<14&4294967295|P>>>18),P=g+(A^p&(j^A))+x[12]+2368359562&4294967295,g=j+(P<<20&4294967295|P>>>12),P=p+(g^j^A)+x[5]+4294588738&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^j)+x[8]+2272392833&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^g)+x[11]+1839030562&4294967295,j=A+(P<<16&4294967295|P>>>16),P=g+(j^A^p)+x[14]+4259657740&4294967295,g=j+(P<<23&4294967295|P>>>9),P=p+(g^j^A)+x[1]+2763975236&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^j)+x[4]+1272893353&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^g)+x[7]+4139469664&4294967295,j=A+(P<<16&4294967295|P>>>16),P=g+(j^A^p)+x[10]+3200236656&4294967295,g=j+(P<<23&4294967295|P>>>9),P=p+(g^j^A)+x[13]+681279174&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^j)+x[0]+3936430074&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^g)+x[3]+3572445317&4294967295,j=A+(P<<16&4294967295|P>>>16),P=g+(j^A^p)+x[6]+76029189&4294967295,g=j+(P<<23&4294967295|P>>>9),P=p+(g^j^A)+x[9]+3654602809&4294967295,p=g+(P<<4&4294967295|P>>>28),P=A+(p^g^j)+x[12]+3873151461&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^g)+x[15]+530742520&4294967295,j=A+(P<<16&4294967295|P>>>16),P=g+(j^A^p)+x[2]+3299628645&4294967295,g=j+(P<<23&4294967295|P>>>9),P=p+(j^(g|~A))+x[0]+4096336452&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~j))+x[7]+1126891415&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~g))+x[14]+2878612391&4294967295,j=A+(P<<15&4294967295|P>>>17),P=g+(A^(j|~p))+x[5]+4237533241&4294967295,g=j+(P<<21&4294967295|P>>>11),P=p+(j^(g|~A))+x[12]+1700485571&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~j))+x[3]+2399980690&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~g))+x[10]+4293915773&4294967295,j=A+(P<<15&4294967295|P>>>17),P=g+(A^(j|~p))+x[1]+2240044497&4294967295,g=j+(P<<21&4294967295|P>>>11),P=p+(j^(g|~A))+x[8]+1873313359&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~j))+x[15]+4264355552&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~g))+x[6]+2734768916&4294967295,j=A+(P<<15&4294967295|P>>>17),P=g+(A^(j|~p))+x[13]+1309151649&4294967295,g=j+(P<<21&4294967295|P>>>11),P=p+(j^(g|~A))+x[4]+4149444226&4294967295,p=g+(P<<6&4294967295|P>>>26),P=A+(g^(p|~j))+x[11]+3174756917&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~g))+x[2]+718787259&4294967295,j=A+(P<<15&4294967295|P>>>17),P=g+(A^(j|~p))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var g=p-this.blockSize,x=this.B,j=this.h,A=0;A<p;){if(j==0)for(;A<=g;)i(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<p;)if(x[j++]=S.charCodeAt(A++),j==this.blockSize){i(this,x),j=0;break}}else for(;A<p;)if(x[j++]=S[A++],j==this.blockSize){i(this,x),j=0;break}}this.h=j,this.o+=p},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var g=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=g&255,g/=256;for(this.u(S),S=Array(16),p=g=0;4>p;++p)for(var x=0;32>x;x+=8)S[g++]=this.g[p]>>>x&255;return S};function s(S,p){var g=a;return Object.prototype.hasOwnProperty.call(g,S)?g[S]:g[S]=p(S)}function o(S,p){this.h=p;for(var g=[],x=!0,j=S.length-1;0<=j;j--){var A=S[j]|0;x&&A==p||(g[j]=A,x=!1)}this.g=g}var a={};function u(S){return-128<=S&&128>S?s(S,function(p){return new o([p|0],0>p?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(c(-S));for(var p=[],g=1,x=0;S>=g;x++)p[x]=S/g|0,g*=4294967296;return new o(p,0)}function f(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return I(f(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=c(Math.pow(p,8)),x=h,j=0;j<S.length;j+=8){var A=Math.min(8,S.length-j),P=parseInt(S.substring(j,j+A),p);8>A?(A=c(Math.pow(p,A)),x=x.j(A).add(c(P))):(x=x.j(g),x=x.add(c(P)))}return x}var h=u(0),m=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var S=0,p=1,g=0;g<this.g.length;g++){var x=this.i(g);S+=(0<=x?x:4294967296+x)*p,p*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(w(this))return"-"+I(this).toString(S);for(var p=c(Math.pow(S,6)),g=this,x="";;){var j=k(g,p).g;g=C(g,j.j(p));var A=((0<g.g.length?g.g[0]:g.h)>>>0).toString(S);if(g=j,T(g))return A+x;for(;6>A.length;)A="0"+A;x=A+x}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=C(this,S),w(S)?-1:T(S)?0:1};function I(S){for(var p=S.g.length,g=[],x=0;x<p;x++)g[x]=~S.g[x];return new o(g,~S.h).add(m)}t.abs=function(){return w(this)?I(this):this},t.add=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0,j=0;j<=p;j++){var A=x+(this.i(j)&65535)+(S.i(j)&65535),P=(A>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);x=P>>>16,A&=65535,P&=65535,g[j]=P<<16|A}return new o(g,g[g.length-1]&-2147483648?-1:0)};function C(S,p){return S.add(I(p))}t.j=function(S){if(T(this)||T(S))return h;if(w(this))return w(S)?I(this).j(I(S)):I(I(this).j(S));if(w(S))return I(this.j(I(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var p=this.g.length+S.g.length,g=[],x=0;x<2*p;x++)g[x]=0;for(x=0;x<this.g.length;x++)for(var j=0;j<S.g.length;j++){var A=this.i(x)>>>16,P=this.i(x)&65535,z=S.i(j)>>>16,F=S.i(j)&65535;g[2*x+2*j]+=P*F,y(g,2*x+2*j),g[2*x+2*j+1]+=A*F,y(g,2*x+2*j+1),g[2*x+2*j+1]+=P*z,y(g,2*x+2*j+1),g[2*x+2*j+2]+=A*z,y(g,2*x+2*j+2)}for(x=0;x<p;x++)g[x]=g[2*x+1]<<16|g[2*x];for(x=p;x<2*p;x++)g[x]=0;return new o(g,0)};function y(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function b(S,p){this.g=S,this.h=p}function k(S,p){if(T(p))throw Error("division by zero");if(T(S))return new b(h,h);if(w(S))return p=k(I(S),p),new b(I(p.g),I(p.h));if(w(p))return p=k(S,I(p)),new b(I(p.g),p.h);if(30<S.g.length){if(w(S)||w(p))throw Error("slowDivide_ only works with positive integers.");for(var g=m,x=p;0>=x.l(S);)g=L(g),x=L(x);var j=N(g,1),A=N(x,1);for(x=N(x,2),g=N(g,2);!T(x);){var P=A.add(x);0>=P.l(S)&&(j=j.add(g),A=P),x=N(x,1),g=N(g,1)}return p=C(S,j.j(p)),new b(j,p)}for(j=h;0<=S.l(p);){for(g=Math.max(1,Math.floor(S.m()/p.m())),x=Math.ceil(Math.log(g)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),A=c(g),P=A.j(p);w(P)||0<P.l(S);)g-=x,A=c(g),P=A.j(p);T(A)&&(A=m),j=j.add(A),S=C(S,P)}return new b(j,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)&S.i(x);return new o(g,this.h&S.h)},t.or=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)|S.i(x);return new o(g,this.h|S.h)},t.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)^S.i(x);return new o(g,this.h^S.h)};function L(S){for(var p=S.g.length+1,g=[],x=0;x<p;x++)g[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(g,S.h)}function N(S,p){var g=p>>5;p%=32;for(var x=S.g.length-g,j=[],A=0;A<x;A++)j[A]=0<p?S.i(A+g)>>>p|S.i(A+g+1)<<32-p:S.i(A+g);return new o(j,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,mo=o}).apply(typeof u1<"u"?u1:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BC,Jl,UC,Bd,Cy,WC,HC,qC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,R){return d==Array.prototype||d==Object.prototype||(d[v]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<d.length;++v){var R=d[v];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var R=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var G=d[D];if(!(G in R))break e;R=R[G]}d=d[d.length-1],D=R[d],v=v(D),v!=D&&v!=null&&e(R,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var R=0,D=!1,G={next:function(){if(!D&&R<d.length){var X=R++;return{value:v(X,d[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return s(this,function(v,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function c(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,R){return d.call.apply(d.bind,arguments)}function h(d,v,R){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function m(d,v,R){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,v){var R=Array.prototype.slice.call(arguments,1);return function(){var D=R.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function T(d,v){function R(){}R.prototype=v.prototype,d.aa=v.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(D,G,X){for(var de=Array(arguments.length-2),It=2;It<arguments.length;It++)de[It-2]=arguments[It];return v.prototype[G].apply(D,de)}}function w(d){const v=d.length;if(0<v){const R=Array(v);for(let D=0;D<v;D++)R[D]=d[D];return R}return[]}function I(d,v){for(let R=1;R<arguments.length;R++){const D=arguments[R];if(u(D)){const G=d.length||0,X=D.length||0;d.length=G+X;for(let de=0;de<X;de++)d[G+de]=D[de]}else d.push(D)}}class C{constructor(v,R){this.i=v,this.j=R,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var L=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function N(d,v,R){for(const D in d)v.call(R,d[D],D,d)}function S(d,v){for(const R in d)v.call(void 0,d[R],R,d)}function p(d){const v={};for(const R in d)v[R]=d[R];return v}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,v){let R,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(R in D)d[R]=D[R];for(let X=0;X<g.length;X++)R=g[X],Object.prototype.hasOwnProperty.call(D,R)&&(d[R]=D[R])}}function j(d){var v=1;d=d.split(":");const R=[];for(;0<v&&d.length;)R.push(d.shift()),v--;return d.length&&R.push(d.join(":")),R}function A(d){a.setTimeout(()=>{throw d},0)}function P(){var d=V;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,R){const D=F.get();D.set(v,R),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new C(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,R){this.h=v,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let U,M=!1,V=new z,H=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(K)}};var K=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(R){A(R)}var v=F;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}M=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};a.addEventListener("test",R,v),a.removeEventListener("test",R,v)}catch{}return d}();function ce(d,v){if(Y.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(L){e:{try{k(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else R=="mouseover"?v=d.fromElement:R=="mouseout"&&(v=d.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ce.aa.h.call(this)}}T(ce,Y);var ye={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),ne=0;function W(d,v,R,D,G){this.listener=d,this.proxy=null,this.src=v,this.type=R,this.capture=!!D,this.ha=G,this.key=++ne,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ee(d){this.src=d,this.g={},this.h=0}ee.prototype.add=function(d,v,R,D,G){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var de=he(d,v,D,G);return-1<de?(v=d[de],R||(v.fa=!1)):(v=new W(v,this.src,X,!!D,G),v.fa=R,d.push(v)),v};function re(d,v){var R=v.type;if(R in d.g){var D=d.g[R],G=Array.prototype.indexOf.call(D,v,void 0),X;(X=0<=G)&&Array.prototype.splice.call(D,G,1),X&&(le(v),d.g[R].length==0&&(delete d.g[R],d.h--))}}function he(d,v,R,D){for(var G=0;G<d.length;++G){var X=d[G];if(!X.da&&X.listener==v&&X.capture==!!R&&X.ha==D)return G}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ve={};function _e(d,v,R,D,G){if(Array.isArray(v)){for(var X=0;X<v.length;X++)_e(d,v[X],R,D,G);return null}return R=gt(R),d&&d[q]?d.K(v,R,c(D)?!!D.capture:!1,G):Ye(d,v,R,!1,D,G)}function Ye(d,v,R,D,G,X){if(!v)throw Error("Invalid event type");var de=c(G)?!!G.capture:!!G,It=lt(d);if(It||(d[me]=It=new ee(d)),R=It.add(v,R,D,de,X),R.proxy)return R;if(D=we(),R.proxy=D,D.src=d,D.listener=R,d.addEventListener)se||(G=de),G===void 0&&(G=!1),d.addEventListener(v.toString(),D,G);else if(d.attachEvent)d.attachEvent(Qe(v.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return R}function we(){function d(R){return v.call(d.src,d.listener,R)}const v=it;return d}function Ve(d,v,R,D,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ve(d,v[X],R,D,G);else D=c(D)?!!D.capture:!!D,R=gt(R),d&&d[q]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],R=he(X,R,D,G),-1<R&&(le(X[R]),Array.prototype.splice.call(X,R,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=lt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=he(v,R,D,G)),(R=-1<d?v[d]:null)&&Ae(R))}function Ae(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[q])re(v.i,d);else{var R=d.type,D=d.proxy;v.removeEventListener?v.removeEventListener(R,D,d.capture):v.detachEvent?v.detachEvent(Qe(R),D):v.addListener&&v.removeListener&&v.removeListener(D),(R=lt(v))?(re(R,d),R.h==0&&(R.src=null,v[me]=null)):le(d)}}}function Qe(d){return d in ve?ve[d]:ve[d]="on"+d}function it(d,v){if(d.da)d=!0;else{v=new ce(v,this);var R=d.listener,D=d.ha||d.src;d.fa&&Ae(d),d=R.call(D,v)}return d}function lt(d){return d=d[me],d instanceof ee?d:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(d){return typeof d=="function"?d:(d[Le]||(d[Le]=function(v){return d.handleEvent(v)}),d[Le])}function ke(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}T(ke,Q),ke.prototype[q]=!0,ke.prototype.removeEventListener=function(d,v,R,D){Ve(this,d,v,R,D)};function Ue(d,v){var R,D=d.F;if(D)for(R=[];D;D=D.F)R.push(D);if(d=d.M,D=v.type||v,typeof v=="string")v=new Y(v,d);else if(v instanceof Y)v.target=v.target||d;else{var G=v;v=new Y(D,d),x(v,G)}if(G=!0,R)for(var X=R.length-1;0<=X;X--){var de=v.g=R[X];G=Me(de,D,!0,v)&&G}if(de=v.g=d,G=Me(de,D,!0,v)&&G,G=Me(de,D,!1,v)&&G,R)for(X=0;X<R.length;X++)de=v.g=R[X],G=Me(de,D,!1,v)&&G}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var R=d.g[v],D=0;D<R.length;D++)le(R[D]);delete d.g[v],d.h--}}this.F=null},ke.prototype.K=function(d,v,R,D){return this.i.add(String(d),v,!1,R,D)},ke.prototype.L=function(d,v,R,D){return this.i.add(String(d),v,!0,R,D)};function Me(d,v,R,D){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,X=0;X<v.length;++X){var de=v[X];if(de&&!de.da&&de.capture==R){var It=de.listener,wn=de.ha||de.src;de.fa&&re(d.i,de),G=It.call(wn,D)!==!1&&G}}return G&&!D.defaultPrevented}function Te(d,v,R){if(typeof d=="function")R&&(d=m(d,R));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function bt(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,bt(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Rt extends Q{constructor(v,R){super(),this.m=v,this.l=R,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(d){Q.call(this),this.h=d,this.g={}}T(Xe,Q);var Se=[];function tt(d){N(d.g,function(v,R){this.g.hasOwnProperty(R)&&Ae(v)},d),d.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),tt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Cr=a.JSON.parse,os=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Qs(){}Qs.prototype.h=null;function Ir(d){return d.h||(d.h=d.i())}function si(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){Y.call(this,"d")}T(as,Y);function J(){Y.call(this,"c")}T(J,Y);var De={},O=null;function te(){return O=O||new ke}De.La="serverreachability";function ue(d){Y.call(this,De.La,d)}T(ue,Y);function Fe(d){const v=te();Ue(v,new ue(v))}De.STAT_EVENT="statevent";function st(d,v){Y.call(this,De.STAT_EVENT,d),this.stat=v}T(st,Y);function nt(d){const v=te();Ue(v,new st(v,d))}De.Ma="timingevent";function _t(d,v){Y.call(this,De.Ma,d),this.size=v}T(_t,Y);function je(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function ot(){this.g=!0}ot.prototype.xa=function(){this.g=!1};function Rr(d,v,R,D,G,X){d.info(function(){if(d.g)if(X)for(var de="",It=X.split("&"),wn=0;wn<It.length;wn++){var ft=It[wn].split("=");if(1<ft.length){var On=ft[0];ft=ft[1];var Nn=On.split("_");de=2<=Nn.length&&Nn[1]=="type"?de+(On+"="+ft+"&"):de+(On+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+v+`
`+R+`
`+de})}function oi(d,v,R,D,G,X,de){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+v+`
`+R+`
`+X+" "+de})}function Hn(d,v,R,D){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Yt(d,R)+(D?" "+D:"")})}function rn(d,v){d.info(function(){return"TIMEOUT: "+v})}ot.prototype.info=function(){};function Yt(d,v){if(!d.g)return v;if(!v)return null;try{var R=JSON.parse(v);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var D=R[d];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return qe(R)}catch{return v}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ft;function Bo(){}T(Bo,Qs),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Ft=new Bo;function ls(d,v,R,D){this.j=d,this.i=v,this.l=R,this.R=D||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xx}function Xx(){this.i=null,this.g="",this.h=!1}var Jx={},nm={};function rm(d,v,R){d.L=1,d.v=Uc(ki(v)),d.m=R,d.P=!0,Zx(d,null)}function Zx(d,v){d.F=Date.now(),Vc(d),d.A=ki(d.v);var R=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),hb(R.i,"t",D),d.C=0,R=d.j.J,d.h=new Xx,d.g=Ab(d.j,R?v:null,!d.m),0<d.O&&(d.M=new Rt(m(d.Y,d,d.g),d.O)),v=d.U,R=d.g,D=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Se[0]=G.toString()),G=Se);for(var X=0;X<G.length;X++){var de=_e(R,G[X],D||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Fe(),Rr(d.i,d.u,d.A,d.l,d.R,d.m)}ls.prototype.ca=function(d){d=d.target;const v=this.M;v&&Ri(d)==3?v.j():this.Y(d)},ls.prototype.Y=function(d){try{if(d==this.g)e:{const Nn=Ri(this.g);var v=this.g.Ba();const Ho=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||bb(this.g)))){this.J||Nn!=4||v==7||(v==8||0>=Ho?Fe(3):Fe(2)),im(this);var R=this.g.Z();this.X=R;t:if(eb(this)){var D=bb(this.g);d="";var G=D.length,X=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),bl(this);var de="";break t}this.h.i=new a.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(D[v],{stream:!(X&&v==G-1)});D.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=R==200,oi(this.i,this.u,this.A,this.l,this.R,Nn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var It,wn=this.g;if((It=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(It)){var ft=It;break t}}ft=null}if(R=ft)Hn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,R);else{this.o=!1,this.s=3,nt(12),Ys(this),bl(this);break e}}if(this.P){R=!0;let Kr;for(;!this.J&&this.C<de.length;)if(Kr=o2(this,de),Kr==nm){Nn==4&&(this.s=4,nt(14),R=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==Jx){this.s=4,nt(15),Hn(this.i,this.l,de,"[Invalid Chunk]"),R=!1;break}else Hn(this.i,this.l,Kr,null),sm(this,Kr);if(eb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||de.length!=0||this.h.h||(this.s=1,nt(16),R=!1),this.o=this.o&&R,!R)Hn(this.i,this.l,de,"[Invalid Chunked Response]"),Ys(this),bl(this);else if(0<de.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),dm(On),On.M=!0,nt(11))}}else Hn(this.i,this.l,de,null),sm(this,de);Nn==4&&Ys(this),this.o&&!this.J&&(Nn==4?Ib(this.j,this):(this.o=!1,Vc(this)))}else S2(this.g),R==400&&0<de.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ys(this),bl(this)}}}catch{}finally{}};function eb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function o2(d,v){var R=d.C,D=v.indexOf(`
`,R);return D==-1?nm:(R=Number(v.substring(R,D)),isNaN(R)?Jx:(D+=1,D+R>v.length?nm:(v=v.slice(D,D+R),d.C=D+R,v)))}ls.prototype.cancel=function(){this.J=!0,Ys(this)};function Vc(d){d.S=Date.now()+d.I,tb(d,d.I)}function tb(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=je(m(d.ba,d),v)}function im(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(rn(this.i,this.A),this.L!=2&&(Fe(),nt(17)),Ys(this),this.s=2,bl(this)):tb(this,this.S-d)};function bl(d){d.j.G==0||d.J||Ib(d.j,d)}function Ys(d){im(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,tt(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function sm(d,v){try{var R=d.j;if(R.G!=0&&(R.g==d||om(R.h,d))){if(!d.K&&om(R.h,d)&&R.G==3){try{var D=R.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Qc(R),Kc(R);else break e;cm(R),nt(18)}}else R.za=G[1],0<R.za-R.T&&37500>G[2]&&R.F&&R.v==0&&!R.C&&(R.C=je(m(R.Za,R),6e3));if(1>=ib(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Js(R,11)}else if((d.K||R.g==d)&&Qc(R),!y(v))for(G=R.Da.g.parse(v),v=0;v<G.length;v++){let ft=G[v];if(R.T=ft[0],ft=ft[1],R.G==2)if(ft[0]=="c"){R.K=ft[1],R.ia=ft[2];const On=ft[3];On!=null&&(R.la=On,R.j.info("VER="+R.la));const Nn=ft[4];Nn!=null&&(R.Aa=Nn,R.j.info("SVER="+R.Aa));const Ho=ft[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(D=1.5*Ho,R.L=D,R.j.info("backChannelRequestTimeoutMs_="+D)),D=R;const Kr=d.g;if(Kr){const Xc=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var X=D.h;X.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(am(X,X.h),X.h=null))}if(D.D){const fm=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;fm&&(D.ya=fm,jt(D.I,D.D,fm))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),D=R;var de=d;if(D.qa=Pb(D,D.J?D.ia:null,D.W),de.K){sb(D.h,de);var It=de,wn=D.L;wn&&(It.I=wn),It.B&&(im(It),Vc(It)),D.g=de}else Tb(D);0<R.i.length&&Gc(R)}else ft[0]!="stop"&&ft[0]!="close"||Js(R,7);else R.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Js(R,7):um(R):ft[0]!="noop"&&R.l&&R.l.ta(ft),R.v=0)}}Fe(4)}catch{}}var a2=class{constructor(d,v){this.g=d,this.map=v}};function nb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ib(d){return d.h?1:d.g?d.g.size:0}function om(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function am(d,v){d.g?d.g.add(v):d.h=v}function sb(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}nb.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ob(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const R of d.g.values())v=v.concat(R.D);return v}return w(d.i)}function l2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var v=[],R=d.length,D=0;D<R;D++)v.push(d[D]);return v}v=[],R=0;for(D in d)v[R++]=d[D];return v}function u2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var v=[];d=d.length;for(var R=0;R<d;R++)v.push(R);return v}v=[],R=0;for(const D in d)v[R++]=D;return v}}}function ab(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var R=u2(d),D=l2(d),G=D.length,X=0;X<G;X++)v.call(void 0,D[X],R&&R[X],d)}var lb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c2(d,v){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var D=d[R].indexOf("="),G=null;if(0<=D){var X=d[R].substring(0,D);G=d[R].substring(D+1)}else X=d[R];v(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xs){this.h=d.h,zc(this,d.j),this.o=d.o,this.g=d.g,Bc(this,d.s),this.l=d.l;var v=d.i,R=new Sl;R.i=v.i,v.g&&(R.g=new Map(v.g),R.h=v.h),ub(this,R),this.m=d.m}else d&&(v=String(d).match(lb))?(this.h=!1,zc(this,v[1]||"",!0),this.o=_l(v[2]||""),this.g=_l(v[3]||"",!0),Bc(this,v[4]),this.l=_l(v[5]||"",!0),ub(this,v[6]||"",!0),this.m=_l(v[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}Xs.prototype.toString=function(){var d=[],v=this.j;v&&d.push(wl(v,cb,!0),":");var R=this.g;return(R||v=="file")&&(d.push("//"),(v=this.o)&&d.push(wl(v,cb,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(wl(R,R.charAt(0)=="/"?h2:f2,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",wl(R,m2)),d.join("")};function ki(d){return new Xs(d)}function zc(d,v,R){d.j=R?_l(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Bc(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ub(d,v,R){v instanceof Sl?(d.i=v,g2(d.i,d.h)):(R||(v=wl(v,p2)),d.i=new Sl(v,d.h))}function jt(d,v,R){d.i.set(v,R)}function Uc(d){return jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _l(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wl(d,v,R){return typeof d=="string"?(d=encodeURI(d).replace(v,d2),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function d2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var cb=/[#\/\?@]/g,f2=/[#\?:]/g,h2=/[#\?]/g,p2=/[#\?@]/g,m2=/#/g;function Sl(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&c2(d.i,function(v,R){d.add(decodeURIComponent(v.replace(/\+/g," ")),R)}))}t=Sl.prototype,t.add=function(d,v){us(this),this.i=null,d=Uo(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(v),this.h+=1,this};function db(d,v){us(d),v=Uo(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function fb(d,v){return us(d),v=Uo(d,v),d.g.has(v)}t.forEach=function(d,v){us(this),this.g.forEach(function(R,D){R.forEach(function(G){d.call(v,G,D,this)},this)},this)},t.na=function(){us(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),R=[];for(let D=0;D<v.length;D++){const G=d[D];for(let X=0;X<G.length;X++)R.push(v[D])}return R},t.V=function(d){us(this);let v=[];if(typeof d=="string")fb(this,d)&&(v=v.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)v=v.concat(d[R])}return v},t.set=function(d,v){return us(this),this.i=null,d=Uo(this,d),fb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function hb(d,v,R){db(d,v),0<R.length&&(d.i=null,d.g.set(Uo(d,v),w(R)),d.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var R=0;R<v.length;R++){var D=v[R];const X=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var G=X;de[D]!==""&&(G+="="+encodeURIComponent(String(de[D]))),d.push(G)}}return this.i=d.join("&")};function Uo(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function g2(d,v){v&&!d.j&&(us(d),d.i=null,d.g.forEach(function(R,D){var G=D.toLowerCase();D!=G&&(db(this,D),hb(this,G,R))},d)),d.j=v}function y2(d,v){const R=new ot;if(a.Image){const D=new Image;D.onload=E(cs,R,"TestLoadImage: loaded",!0,v,D),D.onerror=E(cs,R,"TestLoadImage: error",!1,v,D),D.onabort=E(cs,R,"TestLoadImage: abort",!1,v,D),D.ontimeout=E(cs,R,"TestLoadImage: timeout",!1,v,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else v(!1)}function v2(d,v){const R=new ot,D=new AbortController,G=setTimeout(()=>{D.abort(),cs(R,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:D.signal}).then(X=>{clearTimeout(G),X.ok?cs(R,"TestPingServer: ok",!0,v):cs(R,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),cs(R,"TestPingServer: error",!1,v)})}function cs(d,v,R,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(R)}catch{}}function x2(){this.g=new os}function b2(d,v,R){const D=R||"";try{ab(d,function(G,X){let de=G;c(G)&&(de=qe(G)),v.push(D+X+"="+encodeURIComponent(de))})}catch(G){throw v.push(D+"type="+encodeURIComponent("_badmap")),G}}function Wc(d){this.l=d.Ub||null,this.j=d.eb||!1}T(Wc,Qs),Wc.prototype.g=function(){return new Hc(this.l,this.j)},Wc.prototype.i=function(d){return function(){return d}}({});function Hc(d,v){ke.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Hc,ke),t=Hc.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Tl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,El(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function pb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?El(this):Tl(this),this.readyState==3&&pb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,El(this))},t.Qa=function(d){this.g&&(this.response=d,El(this))},t.ga=function(){this.g&&El(this)};function El(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Tl(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var R=v.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=v.next();return d.join(`\r
`)};function Tl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function mb(d){let v="";return N(d,function(R,D){v+=D,v+=":",v+=R,v+=`\r
`}),v}function lm(d,v,R){e:{for(D in R){var D=!1;break e}D=!0}D||(R=mb(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):jt(d,v,R))}function Ht(d){ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ht,ke);var _2=/^https?$/i,w2=["POST","PUT"];t=Ht.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,R,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ft.g(),this.v=this.o?Ir(this.o):Ir(Ft),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){gb(this,X);return}if(d=R||"",R=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)R.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())R.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(R.keys()).find(X=>X.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(w2,v,void 0))||D||G||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of R)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xb(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){gb(this,X)}};function gb(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,yb(d),qc(d)}function yb(d){d.A||(d.A=!0,Ue(d,"complete"),Ue(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ue(this,"complete"),Ue(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vb(this):this.bb())},t.bb=function(){vb(this)};function vb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ri(d)!=4||d.Z()!=2)){if(d.u&&Ri(d)==4)Te(d.Ea,0,d);else if(Ue(d,"readystatechange"),Ri(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var R;if(!(R=v)){var D;if(D=de===0){var G=String(d.D).match(lb)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!_2.test(G?G.toLowerCase():"")}R=D}if(R)Ue(d,"complete"),Ue(d,"success");else{d.m=6;try{var X=2<Ri(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",yb(d)}}finally{qc(d)}}}}function qc(d,v){if(d.g){xb(d);const R=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ue(d,"ready");try{R.onreadystatechange=D}catch{}}}function xb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ri(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cr(v)}};function bb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function S2(d){const v={};d=(d.g&&2<=Ri(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(y(d[D]))continue;var R=j(d[D]);const G=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const X=v[G]||[];v[G]=X,X.push(R)}S(v,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(d,v,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||v}function _b(d){this.Aa=0,this.i=[],this.j=new ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,d),this.cb=Cl("retryDelaySeedMs",1e4,d),this.Wa=Cl("forwardChannelMaxRetries",2,d),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new nb(d&&d.concurrentRequestLimit),this.Da=new x2,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_b.prototype,t.la=8,t.G=1,t.connect=function(d,v,R,D){nt(0),this.W=d,this.H=v||{},R&&D!==void 0&&(this.H.OSID=R,this.H.OAID=D),this.F=this.X,this.I=Pb(this,null,this.W),Gc(this)};function um(d){if(wb(d),d.G==3){var v=d.U++,R=ki(d.I);if(jt(R,"SID",d.K),jt(R,"RID",v),jt(R,"TYPE","terminate"),Il(d,R),v=new ls(d,d.j,v),v.L=2,v.v=Uc(ki(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=v.v,R=!0),R||(v.g=Ab(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Vc(v)}Rb(d)}function Kc(d){d.g&&(dm(d),d.g.cancel(),d.g=null)}function wb(d){Kc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Qc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Gc(d){if(!rb(d.h)&&!d.s){d.s=!0;var v=d.Ga;U||H(),M||(U(),M=!0),V.add(v,d),d.B=0}}function E2(d,v){return ib(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=je(m(d.Ga,d,v),kb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new ls(this,this.j,d);let X=this.o;if(this.S&&(X?(X=p(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var v=0,R=0;R<this.i.length;R++){t:{var D=this.i[R];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=R;break e}if(v===4096||R===this.i.length-1){v=R+1;break e}}v=1e3}else v=1e3;v=Eb(this,G,v),R=ki(this.I),jt(R,"RID",d),jt(R,"CVER",22),this.D&&jt(R,"X-HTTP-Session-Id",this.D),Il(this,R),X&&(this.O?v="headers="+encodeURIComponent(String(mb(X)))+"&"+v:this.m&&lm(R,this.m,X)),am(this.h,G),this.Ua&&jt(R,"TYPE","init"),this.P?(jt(R,"$req",v),jt(R,"SID","null"),G.T=!0,rm(G,R,null)):rm(G,R,v),this.G=2}}else this.G==3&&(d?Sb(this,d):this.i.length==0||rb(this.h)||Sb(this))};function Sb(d,v){var R;v?R=v.l:R=d.U++;const D=ki(d.I);jt(D,"SID",d.K),jt(D,"RID",R),jt(D,"AID",d.T),Il(d,D),d.m&&d.o&&lm(D,d.m,d.o),R=new ls(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Eb(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),am(d.h,R),rm(R,D,v)}function Il(d,v){d.H&&N(d.H,function(R,D){jt(v,D,R)}),d.l&&ab({},function(R,D){jt(v,D,R)})}function Eb(d,v,R){R=Math.min(d.i.length,R);var D=d.l?m(d.l.Na,d.l,d):null;e:{var G=d.i;let X=-1;for(;;){const de=["count="+R];X==-1?0<R?(X=G[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let It=!0;for(let wn=0;wn<R;wn++){let ft=G[wn].g;const On=G[wn].map;if(ft-=X,0>ft)X=Math.max(0,G[wn].g-100),It=!1;else try{b2(On,de,"req"+ft+"_")}catch{D&&D(On)}}if(It){D=de.join("&");break e}}}return d=d.i.splice(0,R),v.D=d,D}function Tb(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;U||H(),M||(U(),M=!0),V.add(v,d),d.v=0}}function cm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=je(m(d.Fa,d),kb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Cb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=je(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Kc(this),Cb(this))};function dm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Cb(d){d.g=new ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=ki(d.qa);jt(v,"RID","rpc"),jt(v,"SID",d.K),jt(v,"AID",d.T),jt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&jt(v,"TO",d.ja),jt(v,"TYPE","xmlhttp"),Il(d,v),d.m&&d.o&&lm(v,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Uc(ki(v)),R.m=null,R.P=!0,Zx(R,d)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),cm(this),nt(19))};function Qc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Ib(d,v){var R=null;if(d.g==v){Qc(d),dm(d),d.g=null;var D=2}else if(om(d.h,v))R=v.D,sb(d.h,v),D=1;else return;if(d.G!=0){if(v.o)if(D==1){R=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;D=te(),Ue(D,new _t(D,R)),Gc(d)}else Tb(d);else if(G=v.s,G==3||G==0&&0<v.X||!(D==1&&E2(d,v)||D==2&&cm(d)))switch(R&&0<R.length&&(v=d.h,v.i=v.i.concat(R)),G){case 1:Js(d,5);break;case 4:Js(d,10);break;case 3:Js(d,6);break;default:Js(d,2)}}}function kb(d,v){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*v}function Js(d,v){if(d.j.info("Error code "+v),v==2){var R=m(d.fb,d),D=d.Xa;const G=!D;D=new Xs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zc(D,"https"),Uc(D),G?y2(D.toString(),R):v2(D.toString(),R)}else nt(2);d.G=0,d.l&&d.l.sa(v),Rb(d),wb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Rb(d){if(d.G=0,d.ka=[],d.l){const v=ob(d.h);(v.length!=0||d.i.length!=0)&&(I(d.ka,v),I(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Pb(d,v,R){var D=R instanceof Xs?ki(R):new Xs(R);if(D.g!="")v&&(D.g=v+"."+D.g),Bc(D,D.s);else{var G=a.location;D=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var X=new Xs(null);D&&zc(X,D),v&&(X.g=v),G&&Bc(X,G),R&&(X.l=R),D=X}return R=d.D,v=d.ya,R&&v&&jt(D,R,v),jt(D,"VER",d.la),Il(d,D),D}function Ab(d,v,R){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ht(new Wc({eb:R})):new Ht(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jb(){}t=jb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yc(){}Yc.prototype.g=function(d,v){return new ur(d,v)};function ur(d,v){ke.call(this),this.g=new _b(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Wo(this)}T(ur,ke),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){um(this.g)},ur.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=qe(d),d=R);v.i.push(new a2(v.Ya++,d)),v.G==3&&Gc(v)},ur.prototype.N=function(){this.g.l=null,delete this.j,um(this.g),delete this.g,ur.aa.N.call(this)};function Ob(d){as.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const R in v){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}T(Ob,as);function Nb(){J.call(this),this.status=1}T(Nb,J);function Wo(d){this.g=d}T(Wo,jb),Wo.prototype.ua=function(){Ue(this.g,"a")},Wo.prototype.ta=function(d){Ue(this.g,new Ob(d))},Wo.prototype.sa=function(d){Ue(this.g,new Nb)},Wo.prototype.ra=function(){Ue(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,qC=function(){return new Yc},HC=function(){return te()},WC=De,Cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Bd=Ii,Ne.COMPLETE="complete",UC=Ne,si.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Jl=si,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,BC=Ht}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const c1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new y0("@firebase/firestore");function Ml(){return Eo.logLevel}function Ce(t,...e){if(Eo.logLevel<=at.DEBUG){const n=e.map(b0);Eo.debug(`Firestore (${ll}): ${t}`,...n)}}function Ji(t,...e){if(Eo.logLevel<=at.ERROR){const n=e.map(b0);Eo.error(`Firestore (${ll}): ${t}`,...n)}}function To(t,...e){if(Eo.logLevel<=at.WARN){const n=e.map(b0);Eo.warn(`Firestore (${ll}): ${t}`,...n)}}function b0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function Et(t,e){t||He()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class fM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new KC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Vn(e)}}class pM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Et(this.o===void 0);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new gM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new cn(0,0))}static max(){return new Ke(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(),r===void 0?r=e.length-n:r>e.length-n&&He(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Nt extends Bu{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Bu{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return xM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Nt.fromString(e))}static fromName(e){return new Oe(Nt.fromString(e).popFirst(5))}static empty(){return new Oe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Nt(e.slice()))}}function bM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new Ds(i,Oe.empty(),e)}function _M(t){return new Ds(t.readTime,t.key,-1)}class Ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(Ke.min(),Oe.empty(),-1)}static max(){return new Ds(Ke.max(),Oe.empty(),-1)}}function wM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==SM)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function TM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}w0.oe=-1;function Vh(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function CM(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new kn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YC("Invalid base64 string: "+s):s}}(e);return new bn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(Et(!!t),typeof t=="string"){let e=0;const n=IM.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E0(t){const e=t.mapValue.fields.__previous_value__;return S0(e)?E0(e):e}function Uu(t){const e=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S0(t)?4:PM(t)?9007199254740991:RM(t)?10:11:He()}function _i(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$s(i.timestampValue),a=$s(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xt(i.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xt(i.integerValue)===Xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xt(i.doubleValue),a=Xt(s.doubleValue);return o===a?Mf(o)===Mf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d1(o)!==d1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!_i(o[u],a[u])))return!1;return!0}(t,e);default:return He()}}function Wu(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xt(s.integerValue||s.doubleValue),u=Xt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return h1(t.timestampValue,e.timestampValue);case 4:return h1(Uu(t),Uu(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Co(s),u=Co(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=ht(a[c],u[c]);if(f!==0)return f}return ht(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ht(Xt(s.latitude),Xt(o.latitude));return a!==0?a:ht(Xt(s.longitude),Xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,w=ht(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:p1(E,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vd.mapValue&&o===vd.mapValue)return 0;if(s===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=ht(u[h],f[h]);if(m!==0)return m;const E=Wa(a[u[h]],c[f[h]]);if(E!==0)return E}return ht(u.length,f.length)}(t.mapValue,e.mapValue);default:throw He()}}function h1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=$s(t),r=$s(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function p1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wa(n[i],r[i]);if(s)return s}return ht(n.length,r.length)}function Ha(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Iy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Iy(n.fields[o])}`;return i+"}"}(t.mapValue):He()}function m1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function T0(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function RM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(fu(this.value))}}function XC(t){const e=[];return $o(t.fields,(n,r)=>{const i=new vn([n]);if(Ud(r)){const s=XC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bn(e,0,Ke.min(),Ke.min(),Ke.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,Ke.min(),Ke.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Ke.min(),Ke.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function x1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function AM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{}class ln extends JC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OM(e,n,r):n==="array-contains"?new MM(e,r):n==="in"?new DM(e,r):n==="not-in"?new $M(e,r):n==="array-contains-any"?new FM(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NM(e,r):new LM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends JC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return ZC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZC(t){return t.op==="and"}function eI(t){return jM(t)&&ZC(t)}function jM(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Ry(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Ha(t.value);if(eI(t))return t.filters.map(e=>Ry(e)).join(",");{const e=t.filters.map(n=>Ry(n)).join(",");return`${t.op}(${e})`}}function tI(t,e){return t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tI(o,i.filters[a]),!0):!1}(t,e):void He()}function nI(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(nI).join(" ,")+"}"}(t):"Filter"}class OM extends ln{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class NM extends ln{constructor(e,n){super(e,"in",n),this.keys=rI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LM extends ln{constructor(e,n){super(e,"not-in",n),this.keys=rI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class MM extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T0(n)&&Wu(n.arrayValue,this.value)}}class DM extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class $M extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class FM extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function b1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new VM(t,e,n,r,i,s,o)}function C0(t){const e=Ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.ue=n}return e.ue}function I0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x1(t.startAt,e.startAt)&&x1(t.endAt,e.endAt)}function Py(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zM(t,e,n,r,i,s,o,a){return new ul(t,e,n,r,i,s,o,a)}function zh(t){return new ul(t)}function _1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iI(t){return t.collectionGroup!==null}function hu(t){const e=Ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kn(vn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Hu(s,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new Hu(vn.keyField(),r))}return e.ce}function gi(t){const e=Ge(t);return e.le||(e.le=BM(e,hu(t))),e.le}function BM(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Hu(i.field,s)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){const n=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jy(t,e,n){return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return I0(gi(t),gi(e))&&t.limitType===e.limitType}function sI(t){return`${C0(gi(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nI(i)).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ha(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ha(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=v1(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,hu(r),i)||r.endAt&&!function(o,a,u){const c=v1(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,hu(r),i))}(t,e)}function UM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oI(t){return(e,n)=>{let r=!1;for(const i of hu(t)){const s=WM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WM(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Wa(u,c):He()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Wt(Oe.comparator);function Zi(){return HM}const aI=new Wt(Oe.comparator);function Zl(...t){let e=aI;for(const n of t)e=e.insert(n.key,n);return e}function lI(t){let e=aI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return pu()}function uI(){return pu()}function pu(){return new cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const qM=new Wt(Oe.comparator),KM=new kn(Oe.comparator);function rt(...t){let e=KM;for(const n of t)e=e.add(n);return e}const GM=new kn(ht);function QM(){return GM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function cI(t){return{integerValue:""+t}}function YM(t,e){return CM(e)?cI(e):k0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function XM(t,e,n){return t instanceof qu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&S0(s)&&(s=E0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ku?fI(t,e):t instanceof Gu?hI(t,e):function(i,s){const o=dI(i,s),a=w1(o)+w1(i.Pe);return ky(o)&&ky(i.Pe)?cI(a):k0(i.serializer,a)}(t,e)}function JM(t,e,n){return t instanceof Ku?fI(t,e):t instanceof Gu?hI(t,e):n}function dI(t,e){return t instanceof $f?function(r){return ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qu extends Wh{}class Ku extends Wh{constructor(e){super(),this.elements=e}}function fI(t,e){const n=pI(e);for(const r of t.elements)n.some(i=>_i(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Wh{constructor(e){super(),this.elements=e}}function hI(t,e){let n=pI(e);for(const r of t.elements)n=n.filter(i=>!_i(i,r));return{arrayValue:{values:n}}}class $f extends Wh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w1(t){return Xt(t.integerValue||t.doubleValue)}function pI(t){return T0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.field=e,this.transform=n}}function eD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?Ba(r.elements,i.elements,_i):r instanceof $f&&i instanceof $f?_i(r.Pe,i.Pe):r instanceof qu&&i instanceof qu}(t.transform,e.transform)}class tD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function mI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R0(t.key,Dr.none()):new yc(t.key,t.data,Dr.none());{const n=t.data,r=tr.empty();let i=new kn(vn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qs(t.key,r,new pr(i.toArray()),Dr.none())}}function nD(t,e,n){t instanceof yc?function(i,s,o){const a=i.value.clone(),u=E1(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(i,s,o){if(!Wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=E1(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(gI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof yc?function(s,o,a,u){if(!Wd(s.precondition,o))return a;const c=s.value.clone(),f=T1(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(s,o,a,u){if(!Wd(s.precondition,o))return a;const c=T1(s.fieldTransforms,u,o),f=o.data;return f.setAll(gI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dI(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function S1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ba(r,i,(s,o)=>eD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends Hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends Hh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E1(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JM(o,a,n[i]))}return r}function T1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,XM(s,o,e))}return r}class R0 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=mI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>S1(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>S1(n,r))}}class P0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return qM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ut;function lD(t){switch(t){default:return He();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function yI(t){if(t===void 0)return Ji("GRPC error has no .code"),ie.UNKNOWN;switch(t){case sn.OK:return ie.OK;case sn.CANCELLED:return ie.CANCELLED;case sn.UNKNOWN:return ie.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ie.INTERNAL;case sn.UNAVAILABLE:return ie.UNAVAILABLE;case sn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case sn.NOT_FOUND:return ie.NOT_FOUND;case sn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case sn.ABORTED:return ie.ABORTED;case sn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case sn.DATA_LOSS:return ie.DATA_LOSS;default:return He()}}(ut=sn||(sn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new mo([4294967295,4294967295],0);function C1(t){const e=uD().encode(t),n=new zC;return n.update(e),new Uint8Array(n.digest())}function I1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class A0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(cD)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=C1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new A0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=C1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(Ke.min(),i,new Wt(ht),Zi(),rt())}}class vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vc(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class vI{constructor(e,n){this.targetId=e,this.me=n}}class xI{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class k1{constructor(){this.fe=0,this.ge=P1(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),n=rt(),r=rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He()}}),new vc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=P1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=R1(),this.Qe=new Wt(ht)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:He()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Py(s))if(r===0){const o=new Oe(s.path);this.Ue(n,o,Bn.newNoDocument(o,Ke.min()))}else Et(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Co(r).toUint8Array()}catch(u){if(u instanceof YC)return To("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new A0(o,i,s)}catch(u){return To(u instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Py(a.target)){const u=new Oe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Bn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=rt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qh(e,n,this.Qe,this.ke,r);return this.ke=Zi(),this.qe=R1(),this.Qe=new Wt(ht),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new k1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kn(ht),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function R1(){return new Wt(Oe.comparator)}function P1(){return new Wt(Oe.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},hD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class mD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function Ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gD(t,e){return Ff(t,e.toTimestamp())}function yi(t){return Et(!!t),Ke.fromTimestamp(function(n){const r=$s(n);return new cn(r.seconds,r.nanos)}(t))}function j0(t,e){return Ny(t,e).canonicalString()}function Ny(t,e){const n=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _I(t){const e=Nt.fromString(t);return Et(CI(e)),e}function Ly(t,e){return j0(t.databaseId,e.path)}function Hm(t,e){const n=_I(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(SI(n))}function wI(t,e){return j0(t.databaseId,e)}function yD(t){const e=_I(t);return e.length===4?Nt.emptyPath():SI(e)}function My(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SI(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function A1(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function vD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Et(f===void 0||typeof f=="string"),bn.fromBase64String(f||"")):(Et(f===void 0||f instanceof Buffer||f instanceof Uint8Array),bn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ie.UNKNOWN:yI(c.code);return new ge(f,c.message||"")}(o);n=new xI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hm(t,r.document.name),s=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):Ke.min(),a=new tr({mapValue:{fields:r.document.fields}}),u=Bn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Hd(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hm(t,r.document),s=r.readTime?yi(r.readTime):Ke.min(),o=Bn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hm(t,r.document),s=r.removedTargetIds||[];n=new Hd([],s,i,null)}else{if(!("filter"in e))return He();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aD(i,s),a=r.targetId;n=new vI(a,o)}}return n}function xD(t,e){let n;if(e instanceof yc)n={update:A1(t,e.key,e.value)};else if(e instanceof R0)n={delete:Ly(t,e.key)};else if(e instanceof qs)n={update:A1(t,e.key,e.data),updateMask:kD(e.fieldMask)};else{if(!(e instanceof iD))return He();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $f)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw He()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He()}(t,e.precondition)),n}function bD(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yi(i.updateTime):yi(s);return o.isEqual(Ke.min())&&(o=yi(s)),new tD(o,i.transformResults||[])}(n,e))):[]}function _D(t,e){return{documents:[wI(t,e.path)]}}function wD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wI(t,i);const s=function(c){if(c.length!==0)return TI(ri.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ta(m.field),direction:TD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Oy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function SD(t){let e=yD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=EI(h);return m instanceof ri&&eI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(T){return new Hu(na(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Vh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,E=h.values||[];return new Df(E,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,E=h.values||[];return new Df(E,m)}(n.endAt)),zM(e,i,o,s,a,"F",u,c)}function ED(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return ln.create(o,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(t):t.fieldFilter!==void 0?function(n){return ln.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>EI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He()}}(n.compositeFilter.op))}(t):He()}function TD(t){return fD[t]}function CD(t){return hD[t]}function ID(t){return pD[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return vn.fromServerFormat(t.fieldPath)}function TI(t){return t instanceof ln?function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:CD(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>TI(i));return r.length===1?r[0]:{compositeFilter:{op:ID(n.op),filters:r}}}(t):He()}function kD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,s=Ke.min(),o=Ke.min(),a=bn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.ct=e}}function PD(t){const e=SD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.un=new jD}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ds.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class jD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(Nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qa(0)}static kn(){return new qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.changes=new cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mu(r.mutation,i,pr.empty(),cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zi();const o=pu(),a=function(){return pu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof qs)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),mu(f.mutation,c,f.mutation.getFieldMask(),cn.now())):o.set(c.key,pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new ND(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pu();let i=new Wt((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||pr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=uI();f.forEach(m=>{if(!s.has(m)){const E=mI(n.get(m),r.get(m));E!==null&&h.set(m,E),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(uo());let a=-1,u=s;return o.next(c=>oe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?oe.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,rt())).next(f=>({batchId:a,changes:lI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zl();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{const c=function(h,m){return new ul(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Bn.newInvalidDocument(f)))});let a=Zl();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&mu(f.mutation,c,pr.empty(),cn.now()),Uh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:yi(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.overlays=new Wt(Oe.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),s=n.length+1,o=new Oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=uo(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=uo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oD(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Tr=new kn(gn.Er),this.dr=new kn(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Oe(new Nt([])),r=new gn(n,e),i=new gn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Oe(new Nt([])),r=new gn(n,e),i=new gn(n,e+1);let s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Oe.comparator(e.key,n.key)||ht(e.wr,n.wr)}static Ar(e,n){return ht(e.wr,n.wr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kn(gn.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(ht);return n.forEach(i=>{const s=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const o=new gn(new Oe(s),0);let a=new kn(ht);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const s=new gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new gn(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Mr=e,this.docs=function(){return new Wt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Zi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zi();const o=n.path,a=new Oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wM(_M(f),r)<=0||(i.has(f.key)||Uh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zD(this)}getSize(e){return oe.resolve(this.size)}}class zD extends OD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.persistence=e,this.Nr=new cl(n=>C0(n),I0),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new O0,this.targetCount=0,this.kr=qa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new w0(0),this.Kr=!1,this.Kr=!0,this.$r=new $D,this.referenceDelegate=e(this),this.Ur=new BD(this),this.indexManager=new AD,this.remoteDocumentCache=function(i){return new VD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new RD(n),this.Gr=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new WD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WD extends EM{constructor(e){super(),this.currentSequenceNumber=e}}class N0{constructor(e){this.persistence=e,this.Jr=new O0,this.Yr=null}static Zr(e){return new N0(e)}get Xr(){if(this.Yr)return this.Yr;throw He()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=Oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new L0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return KN()?8:TM(Wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ml()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Ml()<=at.DEBUG&&Ce("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ml()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):oe.resolve())}Yi(e,n){if(_1(n))return oe.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jy(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,jy(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return _1(n)||i.isEqual(Ke.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?oe.resolve(null):(Ml()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,o,n,bM(i,-1)).next(a=>a))})}ts(e,n){let r=new kn(oI(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ml()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ds.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wt(ht),this._s=new cl(s=>C0(s),I0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GD(t,e,n,r){return new KD(t,e,n,r)}async function II(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function QD(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let E=oe.resolve();return m.forEach(T=>{E=E.next(()=>f.getEntry(u,T)).next(w=>{const I=c.docVersions.get(T);Et(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),f.addEntry(w)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kI(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YD(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let E=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(w,I,C){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(s,E))});let u=Zi(),c=rt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(XD(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ke.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function XD(t,e,n){let r=rt(),i=rt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function JD(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZD(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ws(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=Ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gc(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function j1(t,e,n){const r=Ge(t);let i=Ke.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=Ge(u),m=h._s.get(f);return m!==void 0?oe.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ke.min(),n?s:rt())).next(a=>(e6(r,UM(e),a),{documents:a,Ts:s})))}function e6(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class O1{constructor(){this.activeTargetIds=QM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t6{constructor(){this.so=new O1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function qm(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class s6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=qm(),u=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw To("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=r6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=qm();return new Promise((o,a)=>{const u=new BC;u.setWithCredentials(!0),u.listenOnce(UC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bd.NO_ERROR:const f=u.getResponseJson();Ce(Dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Bd.TIMEOUT:Ce(Dn,`RPC '${e}' ${s} timed out`),a(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const h=u.getStatus();if(Ce(Dn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const T=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(C)>=0?C:ie.UNKNOWN}(E.status);a(new ge(T,E.message))}else a(new ge(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Ce(Dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ce(Dn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=qm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qC(),a=HC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Ce(Dn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,E=!1;const T=new i6({Io:I=>{E?Ce(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ce(Dn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ce(Dn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),w=(I,C,y)=>{I.listen(C,b=>{try{y(b)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,Jl.EventType.OPEN,()=>{E||(Ce(Dn,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),w(h,Jl.EventType.CLOSE,()=>{E||(E=!0,Ce(Dn,`RPC '${e}' stream ${i} transport closed`),T.So())}),w(h,Jl.EventType.ERROR,I=>{E||(E=!0,To(Dn,`RPC '${e}' stream ${i} transport errored:`,I),T.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),w(h,Jl.EventType.MESSAGE,I=>{var C;if(!E){const y=I.data[0];Et(!!y);const b=y,k=b.error||((C=b[0])===null||C===void 0?void 0:C.error);if(k){Ce(Dn,`RPC '${e}' stream ${i} received error:`,k);const L=k.status;let N=function(g){const x=sn[g];if(x!==void 0)return yI(x)}(L),S=k.message;N===void 0&&(N=ie.INTERNAL,S="Unknown error status: "+L+" with message "+k.message),E=!0,T.So(new ge(N,S)),h.close()}else Ce(Dn,`RPC '${e}' stream ${i} received:`,y),T.bo(y)}}),w(a,WC.STAT_EVENT,I=>{I.stat===Cy.PROXY?Ce(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Cy.NOPROXY&&Ce(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new mD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o6 extends PI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?yi(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=My(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Py(u)?{documents:_D(s,u)}:{query:wD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bI(s,o.resumeToken);const c=Oy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Ff(s,o.snapshotVersion.toTimestamp());const c=Oy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ED(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=My(this.serializer),n.removeTarget=e,this.a_(n)}}class a6 extends PI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=bD(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=My(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ny(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ny(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class u6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Fo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ge(u);c.L_.add(4),await xc(c),c.q_.set("Unknown"),c.L_.delete(4),await Gh(c)}(this))})}),this.q_=new u6(r,i)}}async function Gh(t){if(Fo(t))for(const e of t.B_)await e(!0)}async function xc(t){for(const e of t.B_)await e(!1)}function AI(t,e){const n=Ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),F0(n)?$0(n):dl(n).r_()&&D0(n,e))}function M0(t,e){const n=Ge(t),r=dl(n);n.N_.delete(e),r.r_()&&jI(n,e),n.N_.size===0&&(r.r_()?r.o_():Fo(n)&&n.q_.set("Unknown"))}function D0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).A_(e)}function jI(t,e){t.Q_.xe(e),dl(t).R_(e)}function $0(t){t.Q_=new dD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.q_.v_()}function F0(t){return Fo(t)&&!dl(t).n_()&&t.N_.size>0}function Fo(t){return Ge(t).L_.size===0}function OI(t){t.Q_=void 0}async function d6(t){t.q_.set("Online")}async function f6(t){t.N_.forEach((e,n)=>{D0(t,e)})}async function h6(t,e){OI(t),F0(t)?(t.q_.M_(e),$0(t)):t.q_.set("Unknown")}async function p6(t,e,n){if(t.q_.set("Online"),e instanceof xI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(t,r)}else if(e instanceof Hd?t.Q_.Ke(e):e instanceof vI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(bn.EMPTY_BYTE_STRING,f.snapshotVersion)),jI(s,u);const h=new ws(f.target,u,c,f.sequenceNumber);D0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await Vf(t,r)}}async function Vf(t,e,n){if(!gc(e))throw e;t.L_.add(1),await xc(t),t.q_.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gh(t)})}function NI(t,e){return e().catch(n=>Vf(t,n,e))}async function Qh(t){const e=Ge(t),n=Fs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;m6(e);)try{const i=await JD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,g6(e,i)}catch(i){await Vf(e,i)}LI(e)&&MI(e)}function m6(t){return Fo(t)&&t.O_.length<10}function g6(t,e){t.O_.push(e);const n=Fs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LI(t){return Fo(t)&&!Fs(t).n_()&&t.O_.length>0}function MI(t){Fs(t).start()}async function y6(t){Fs(t).p_()}async function v6(t){const e=Fs(t);for(const n of t.O_)e.m_(n.mutations)}async function x6(t,e,n){const r=t.O_.shift(),i=P0.from(r,e,n);await NI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qh(t)}async function b6(t,e){e&&Fs(t).V_&&await async function(r,i){if(function(o){return lD(o)&&o!==ie.ABORTED}(i.code)){const s=r.O_.shift();Fs(r).s_(),await NI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qh(r)}}(t,e),LI(t)&&MI(t)}async function L1(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.L_.add(3),await xc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gh(n)}async function _6(t,e){const n=Ge(t);e?(n.L_.delete(2),await Gh(n)):e||(n.L_.add(2),await xc(n),n.q_.set("Unknown"))}function dl(t){return t.K_||(t.K_=function(n,r,i){const s=Ge(n);return s.w_(),new o6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:d6.bind(null,t),Ro:f6.bind(null,t),mo:h6.bind(null,t),d_:p6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),F0(t)?$0(t):t.q_.set("Unknown")):(await t.K_.stop(),OI(t))})),t.K_}function Fs(t){return t.U_||(t.U_=function(n,r,i){const s=Ge(n);return s.w_(),new a6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y6.bind(null,t),mo:b6.bind(null,t),f_:v6.bind(null,t),g_:x6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qh(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new V0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z0(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),gc(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new Wt(Oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):He():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ka{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ka(e,n,Ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class S6{constructor(){this.queries=D1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=D1(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function D1(){return new cl(t=>sI(t),Bh)}async function B0(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new w6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=z0(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&W0(n)}async function U0(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E6(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&W0(n)}function T6(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function W0(t){t.Y_.forEach(e=>{e.next()})}var $y,$1;($1=$y||($y={})).ea="default",$1.Cache="cache";class H0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.key=e}}class $I{constructor(e){this.key=e}}class C6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=oI(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new M1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=Uh(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;m&&E?m.data.isEqual(E.data)?T!==w&&(r.track({type:3,doc:E}),I=!0):this.ga(m,E)||(r.track({type:2,doc:E}),I=!0,(u&&this.Aa(E,u)>0||c&&this.Aa(E,c)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),I=!0):m&&!E&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(E?(o=o.add(E),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(E,T){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return w(E)-w(T)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ka(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new $I(r))}),this.da.forEach(r=>{e.has(r)||n.push(new DI(r))}),n}ba(e){this.Ta=e.Ts,this.da=rt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class I6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k6{constructor(e){this.key=e,this.va=!1}}class R6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cl(a=>sI(a),Bh),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Oe.comparator),this.Na=new Map,this.La=new O0,this.Ba={},this.ka=new Map,this.qa=qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function P6(t,e,n=!0){const r=WI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await FI(r,e,n,!0),i}async function A6(t,e){const n=WI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,r){const i=await ZD(t.localStore,gi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await j6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,i),a}async function j6(t,e,n,r,i){t.Ka=(h,m,E)=>async function(w,I,C,y){let b=I.view.ma(C);b.ns&&(b=await j1(w.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,b)));const k=y&&y.targetChanges.get(I.targetId),L=y&&y.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(b,w.isPrimaryClient,k,L);return V1(w,I.targetId,N.wa),N.snapshot}(t,h,m,E);const s=await j1(t.localStore,e,!0),o=new C6(e,s.Ts),a=o.ma(s.documents),u=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);V1(t,n,c.wa);const f=new I6(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function O6(t,e,n){const r=Ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Bh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M0(r.remoteStore,i.targetId),Fy(r,i.targetId)}).catch(mc)):(Fy(r,i.targetId),await Dy(r.localStore,i.targetId,!0))}async function N6(t,e){const n=Ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M0(n.remoteStore,r.targetId))}async function L6(t,e,n){const r=B6(t);try{const i=await function(o,a){const u=Ge(o),c=cn.now(),f=a.reduce((E,T)=>E.add(T.key),rt());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Zi(),w=rt();return u.cs.getEntries(E,f).next(I=>{T=I,T.forEach((C,y)=>{y.isValidDocument()||(w=w.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(I=>{h=I;const C=[];for(const y of a){const b=rD(y,h.get(y.key).overlayedDocument);b!=null&&C.push(new qs(y.key,b,XC(b.value.mapValue),Dr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,C,a)}).next(I=>{m=I;const C=I.applyToLocalDocumentSet(h,w);return u.documentOverlayCache.saveOverlays(E,I.batchId,C)})}).then(()=>({batchId:m.batchId,changes:lI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Wt(ht)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await bc(r,i.changes),await Qh(r.remoteStore)}catch(i){const s=z0(i,"Failed to persist write");n.reject(s)}}async function VI(t,e){const n=Ge(t);try{const r=await YD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Et(o.va):i.removedDocuments.size>0&&(Et(o.va),o.va=!1))}),await bc(n,r,e)}catch(r){await mc(r)}}function F1(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ge(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&W0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M6(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Wt(Oe.comparator);o=o.insert(s,Bn.newNoDocument(s,Ke.min()));const a=rt().add(s),u=new qh(Ke.min(),new Map,new Wt(ht),o,a);await VI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),q0(r)}else await Dy(r.localStore,e,!1).then(()=>Fy(r,e,n)).catch(mc)}async function D6(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await QD(n.localStore,e);BI(n,r,null),zI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,i)}catch(i){await mc(i)}}async function $6(t,e,n){const r=Ge(t);try{const i=await function(o,a){const u=Ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Et(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);BI(r,e,n),zI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,i)}catch(i){await mc(i)}}function zI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BI(t,e,n){const r=Ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UI(t,r)})}function UI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(M0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),q0(t))}function V1(t,e,n){for(const r of n)r instanceof DI?(t.La.addReference(r.key,e),F6(t,r)):r instanceof $I?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UI(t,r.key)):He()}function F6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),q0(t))}function q0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Oe(Nt.fromString(e)),r=t.qa.next();t.Na.set(r,new k6(n)),t.Oa=t.Oa.insert(n,r),AI(t.remoteStore,new ws(gi(zh(n.path)),r,"TargetPurposeLimboResolution",w0.oe))}}async function bc(t,e,n){const r=Ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=L0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=Ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(c,m=>oe.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>oe.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!gc(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),T=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(m,w)}}}(r.localStore,s))}async function V6(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await II(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.hs)}}function z6(t,e){const n=Ge(t),r=n.Na.get(e);if(r&&r.va)return rt().add(r.key);{let i=rt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function WI(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.Ca.d_=E6.bind(null,e.eventManager),e.Ca.$a=T6.bind(null,e.eventManager),e}function B6(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$6.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GD(this.persistence,new qD,e.initialUser,this.serializer)}Ga(e){return new UD(N0.Zr,this.serializer)}Wa(e){return new t6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V6.bind(null,this.syncEngine),await _6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S6}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=function(s){return new s6(s)}(e.databaseInfo);return function(s,o,a,u){return new l6(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new c6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>F1(this.syncEngine,n,0),function(){return N1.D()?new N1:new n6}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new R6(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ge(i);Ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=_0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await II(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W6(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L1(e.remoteStore,i)),t._onlineComponents=e}async function W6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Gm(t,new zf)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Gm(t,new zf);return t._offlineComponents}async function HI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await z1(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await z1(t,new Vy))),t._onlineComponents}function H6(t){return HI(t).then(e=>e.syncEngine)}async function Bf(t){const e=await HI(t),n=e.eventManager;return n.onListen=P6.bind(null,e.syncEngine),n.onUnlisten=O6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N6.bind(null,e.syncEngine),n}function q6(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new K0({next:m=>{f.Za(),o.enqueueAndForget(()=>U0(s,h));const E=m.docs.has(a);!E&&m.fromCache?c.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new H0(zh(a.path),f,{includeMetadataChanges:!0,_a:!0});return B0(s,h)}(await Bf(t),t.asyncQueue,e,n,r)),r.promise}function K6(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new K0({next:m=>{f.Za(),o.enqueueAndForget(()=>U0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new H0(a,f,{includeMetadataChanges:!0,_a:!0});return B0(s,h)}(await Bf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GI(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W1(t){if(Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GC;switch(r.type){case"firstParty":return new mM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=B1.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),B1.delete(n),r.terminate())}(this),Promise.resolve()}}function QI(t,e,n,r={}){var i;const s=(t=Yn(t,Xh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Vn.MOCK_USER;else{a=LC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vn(c)}t._authCredentials=new fM(new KC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Wi extends ss{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Oe(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Re(t,e,...n){if(t=dn(t),KI("collection","path",e),t instanceof Xh){const r=Nt.fromString(e,...n);return W1(r),new Wi(t,null,r)}{if(!(t instanceof Rn||t instanceof Wi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return W1(r),new Wi(t.firestore,null,r)}}function be(t,e,...n){if(t=dn(t),arguments.length===1&&(e=_0.newId()),KI("doc","path",e),t instanceof Xh){const r=Nt.fromString(e,...n);return U1(r),new Rn(t,null,new Oe(r))}{if(!(t instanceof Rn||t instanceof Wi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return U1(r),new Rn(t.firestore,t instanceof Wi?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RI(this,"async_queue_retry"),this.Vu=()=>{const r=Km();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gc(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=V0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&He()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function K1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends Xh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q1(e),this._firestoreClient=void 0,await e}}}function YI(t,e){const n=typeof t=="object"?t:x0(),r=typeof t=="string"?t:"(default)",i=Fh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jC("firestore");s&&QI(i,...s)}return i}function _c(t){if(t._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G6(t),t._firestoreClient}function G6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new kM(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new U6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(bn.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=/^__.*__$/;class Y6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new yc(e,this.data,n,this.fieldTransforms)}}class XI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class G0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new G0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JI(this.Cu)&&Q6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class X6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Qu(e,n,r,i=!1){return new G0({Cu:e,methodName:n,qu:r,path:vn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new X6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Y0("Data must be an object, but it was:",o,r);const a=ek(r,o);let u,c;if(s.merge)u=new pr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=zy(e,h,n);if(!o.contains(m))throw new ge(ie.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nk(f,m)||f.push(m)}u=new pr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new Y6(new tr(a),u,c)}class tp extends Sc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}class Q0 extends Sc{_toFieldTransform(e){return new ZM(e.path,new qu)}isEqual(e){return e instanceof Q0}}function J6(t,e,n,r){const i=t.Qu(1,e,n);Y0("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();$o(r,(u,c)=>{const f=X0(e,u,n);c=dn(c);const h=i.Nu(f);if(c instanceof tp)s.push(f);else{const m=Ec(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new pr(s);return new XI(o,a,i.fieldTransforms)}function Z6(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[zy(e,r,n)],u=[i];if(s.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(zy(e,s[m])),u.push(s[m+1]);const c=[],f=tr.empty();for(let m=a.length-1;m>=0;--m)if(!nk(c,a[m])){const E=a[m];let T=u[m];T=dn(T);const w=o.Nu(E);if(T instanceof tp)c.push(E);else{const I=Ec(T,w);I!=null&&(c.push(E),f.set(E,I))}}const h=new pr(c);return new XI(f,h,o.fieldTransforms)}function e3(t,e,n,r=!1){return Ec(n,t.Qu(r?4:3,e))}function Ec(t,e){if(tk(t=dn(t)))return Y0("Unsupported field value:",e,t),ek(t,e);if(t instanceof Sc)return function(r,i){if(!JI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Ec(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cn.fromDate(r);return{timestampValue:Ff(i.serializer,s)}}if(r instanceof cn){const s=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(i.serializer,s)}}if(r instanceof Jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:bI(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:j0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return k0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function ek(t,e){const n={};return QC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const s=Ec(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof Jh||t instanceof ko||t instanceof Rn||t instanceof Sc||t instanceof Zh)}function Y0(t,e,n){if(!tk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function zy(t,e,n){if((e=dn(e))instanceof wc)return e._internalPath;if(typeof e=="string")return X0(t,e);throw Uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const t3=new RegExp("[~\\*/\\[\\]]");function X0(t,e,n){if(e.search(t3)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wc(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ge(ie.INVALID_ARGUMENT,a+t+u)}function nk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n3 extends rk{data(){return super.data()}}function np(t,e){return typeof e=="string"?X0(t,e):e instanceof wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J0{}class Z0 extends J0{}function br(t,e,...n){let r=[];e instanceof J0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof rp).length,a=s.filter(u=>u instanceof Tc).length;if(o>1||o>0&&a>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Tc extends Z0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tc(e,n,r)}_apply(e){const n=this._parse(e);return ok(e._query,n),new ss(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=ep(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Q1(h,f);const E=[];for(const T of h)E.push(G1(u,s,T));m={arrayValue:{values:E}}}else m=G1(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Q1(h,f),m=e3(a,o,h,f==="in"||f==="not-in");return ln.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _r(t,e,n){const r=e,i=np("where",t);return Tc._create(i,r,n)}class rp extends J0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)ok(o,u),o=Ay(o,u)}(e._query,n),new ss(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ip extends Z0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ip(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(s,o)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ul(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sk(t,e="asc"){const n=e,r=np("orderBy",t);return ip._create(r,n)}function G1(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Oe.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m1(t,new Oe(r))}if(n instanceof Rn)return m1(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function Q1(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ok(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ak{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xt(o.doubleValue));return new Zh(s)}convertGeoPoint(e){return new Jh(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=E0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=$s(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);Et(CI(r));const i=new Ua(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return i.isEqual(n)||Ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ex extends rk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gu extends ex{data(e={}){return super.data(e)}}class tx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gu(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new gu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:r3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){t=Yn(t,Rn);const e=Yn(t.firestore,wi);return q6(_c(e),t._key).then(n=>uk(e,t,n))}class nx extends ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function en(t){t=Yn(t,ss);const e=Yn(t.firestore,wi),n=_c(e),r=new nx(e);return ik(t._query),K6(n,t._query).then(i=>new tx(e,r,t,i))}function ar(t,e,n){t=Yn(t,Rn);const r=Yn(t.firestore,wi),i=lk(t.converter,e,n);return Cc(r,[ZI(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Zt(t,e,n,...r){t=Yn(t,Rn);const i=Yn(t.firestore,wi),s=ep(i);let o;return o=typeof(e=dn(e))=="string"||e instanceof wc?Z6(s,"updateDoc",t._key,e,n,r):J6(s,"updateDoc",t._key,e),Cc(i,[o.toMutation(t._key,Dr.exists(!0))])}function $r(t){return Cc(Yn(t.firestore,wi),[new R0(t._key,Dr.none())])}function es(t,e){const n=Yn(t.firestore,wi),r=be(t),i=lk(t.converter,e);return Cc(n,[ZI(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function Ct(t,...e){var n,r,i;t=dn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||K1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof Rn)c=Yn(t.firestore,wi),f=zh(t._key.path),u={next:h=>{e[o]&&e[o](uk(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Yn(t,ss);c=Yn(h.firestore,wi),f=h._query;const m=new nx(c);u={next:E=>{e[o]&&e[o](new tx(c,m,h,E))},error:e[o+1],complete:e[o+2]},ik(t._query)}return function(m,E,T,w){const I=new K0(w),C=new H0(E,I,T);return m.asyncQueue.enqueueAndForget(async()=>B0(await Bf(m),C)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>U0(await Bf(m),C))}}(_c(c),f,a,u)}function Cc(t,e){return function(r,i){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>L6(await H6(r),i,s)),s.promise}(_c(t),e)}function uk(t,e,n){const r=n.docs.get(e._key),i=new nx(t);return new ex(t,i,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}function By(){return new Q0("serverTimestamp")}(function(e,n=!0){(function(i){ll=i})(Do),So(new Ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wi(new hM(r.getProvider("auth-internal")),new yM(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(c1,"4.7.3",e),mi(c1,"4.7.3","esm2017")})();const rx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:ak,Bytes:ko,CollectionReference:Wi,DocumentReference:Rn,DocumentSnapshot:ex,FieldPath:wc,FieldValue:Sc,Firestore:wi,FirestoreError:ge,GeoPoint:Jh,Query:ss,QueryCompositeFilterConstraint:rp,QueryConstraint:Z0,QueryDocumentSnapshot:gu,QueryFieldFilterConstraint:Tc,QueryOrderByConstraint:ip,QuerySnapshot:tx,SnapshotMetadata:ga,Timestamp:cn,VectorValue:Zh,_AutoId:_0,_ByteString:bn,_DatabaseId:Ua,_DocumentKey:Oe,_EmptyAuthCredentialsProvider:GC,_FieldPath:vn,_cast:Yn,_logWarn:To,_validateIsNotUsedTogether:GI,addDoc:es,collection:Re,connectFirestoreEmulator:QI,deleteDoc:$r,doc:be,ensureFirestoreConfigured:_c,executeWrite:Cc,getDoc:Qt,getDocs:en,getFirestore:YI,onSnapshot:Ct,orderBy:sk,query:br,serverTimestamp:By,setDoc:ar,updateDoc:Zt,where:_r},Symbol.toStringTag,{value:"Module"}));function ix(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ck(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dk=ck,fk=new hc("auth","Firebase",ck());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new y0("@firebase/auth");function i3(t,...e){Wf.logLevel<=at.WARN&&Wf.warn(`Auth (${Do}): ${t}`,...e)}function qd(t,...e){Wf.logLevel<=at.ERROR&&Wf.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw sx(t,...e)}function vi(t,...e){return sx(t,...e)}function hk(t,e,n){const r=Object.assign(Object.assign({},dk()),{[e]:n});return new hc("auth","Firebase",r).create(e,{appName:t.name})}function Hi(t){return hk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fk.create(t,...e)}function Be(t,e,...n){if(!t)throw sx(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function ts(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function s3(){return Y1()==="http:"||Y1()==="https:"}function Y1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s3()||WN()||"connection"in navigator)?navigator.onLine:!0}function a3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=zN()||HN()}get(){return o3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new Ic(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gs(t,e,n,r,i={}){return mk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return UN()||(c.referrerPolicy="no-referrer"),pk.fetch()(gk(t,t.config.apiHost,n,a),c)})}async function mk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},l3),e);try{const i=new d3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bd(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hk(t,f,c);ii(t,f)}}catch(i){if(i instanceof Ei)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function kc(t,e,n,r,i={}){const s=await Gs(t,e,n,r,i);return"mfaPendingCredential"in s&&ii(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ox(t.config,i):`${t.config.apiScheme}://${i}`}function c3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),u3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}function X1(t){return t!==void 0&&t.enterprise!==void 0}class f3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h3(t,e){return Gs(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e){return Gs(t,"POST","/v1/accounts:delete",e)}async function yk(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vk(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=ax(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yu(Qm(i.auth_time)),issuedAtTime:yu(Qm(i.iat)),expirationTime:yu(Qm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qm(t){return Number(t)*1e3}function ax(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=PC(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J1(t){const e=ax(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&m3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qu(t,yk(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bk(s.providerUserInfo):[],a=y3(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function xk(t){const e=dn(t);await Hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bk(t){return t.map(e=>{var{providerId:n}=e,r=ix(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){const n=await mk(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x3(t,e){return Gs(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=J1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await v3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ta;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ix(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vk(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Qu(this,p3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:k,isAnonymous:L,providerData:N,stsTokenManager:S}=n;Be(b&&S,e,"internal-error");const p=Ta.fromJSON(this.name,S);Be(typeof b=="string",e,"internal-error"),fs(h,e.name),fs(m,e.name),Be(typeof k=="boolean",e,"internal-error"),Be(typeof L=="boolean",e,"internal-error"),fs(E,e.name),fs(T,e.name),fs(w,e.name),fs(I,e.name),fs(C,e.name),fs(y,e.name);const g=new Vi({uid:b,auth:e,email:m,emailVerified:k,displayName:h,isAnonymous:L,photoURL:T,phoneNumber:E,tenantId:w,stsTokenManager:p,createdAt:C,lastLoginAt:y});return N&&Array.isArray(N)&&(g.providerData=N.map(x=>Object.assign({},x))),I&&(g._redirectEventId=I),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const s=new Vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ta;a.updateFromIdToken(r);const u=new Vi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map;function zi(t){ts(t instanceof Function,"Expected a class definition");let e=Z1.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_k.type="NONE";const Hy=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(zi(Hy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zi(Hy);const o=Kd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=Vi._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ca(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ca(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ik(e))return"Blackberry";if(kk(e))return"Webos";if(Sk(e))return"Safari";if((e.includes("chrome/")||Ek(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wk(t=Wn()){return/firefox\//i.test(t)}function Sk(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ek(t=Wn()){return/crios\//i.test(t)}function Tk(t=Wn()){return/iemobile/i.test(t)}function Ck(t=Wn()){return/android/i.test(t)}function Ik(t=Wn()){return/blackberry/i.test(t)}function kk(t=Wn()){return/webos/i.test(t)}function lx(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b3(t=Wn()){var e;return lx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _3(){return qN()&&document.documentMode===10}function Rk(t=Wn()){return lx(t)||Ck(t)||kk(t)||Ik(t)||/windows phone/i.test(t)||Tk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e=[]){let n;switch(t){case"Browser":n=ew(Wn());break;case"Worker":n=`${ew(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=6;class T3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new w3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yk(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Hi(this));const n=e?dn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S3(this),n=new T3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&i3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return dn(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=eL(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I3(t){sp=t}function Ak(t){return sp.loadJS(t)}function k3(){return sp.recaptchaEnterpriseScript}function R3(){return sp.gapiScript}function P3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const A3="recaptcha-enterprise",j3="NO_RECAPTCHA";class O3{constructor(e){this.type=A3,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new f3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;X1(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(j3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&X1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k3();u.length!==0&&(u+=a),Ak(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function nw(t,e,n,r=!1){const i=new O3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){const n=Fh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Nf(s,e??{}))return i;ii(i,"already-initialized")}return n.initialize({options:e})}function N3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ok(t,e,n){const r=Vo(t);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Nk(e),{host:o,port:a}=L3(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),M3()}function Nk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L3(t){const e=Nk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rw(o)}}}function rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function D3(t,e){return Gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function V3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends op{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",$3);case"emailLink":return F3(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",D3);case"emailLink":return V3(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="http://localhost";class Vs extends op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ix(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:z3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U3(t){const e=Yl(Xl(t)).link,n=e?Yl(Xl(e)).deep_link_id:null,r=Yl(Xl(t)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||n||e||t}class ap{constructor(e){var n,r,i,s,o,a;const u=Yl(Xl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=B3((i=u.mode)!==null&&i!==void 0?i:null);Be(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=U3(e);try{return new ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ap.parseLink(n);return Be(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Lk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Rc{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Rc{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return kc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Vi._fromIdTokenResponse(e,r,i),o=iw(r);return new Ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iw(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qf(e,n,r,i)}}function Mk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(t,s,e,r):s})}async function H3(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Hi(r));const i="reauthenticate";try{const s=await Qu(t,Mk(r,i,e,t),n);Be(s.idToken,r,"internal-error");const o=ax(s.idToken);Be(o,r,"internal-error");const{sub:a}=o;return Be(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e,n=!1){if(fi(t.app))return Promise.reject(Hi(t));const r="signIn",i=await Mk(t,r,e),s=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $k(t,e){return Dk(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tu(t,e,n){if(fi(t.app))return Promise.reject(Hi(t));const r=Vo(t),o=await qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W3).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Fk(t),u}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Vk(t,e,n){return fi(t.app)?Promise.reject(Hi(t)):$k(dn(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fk(t),r})}function zk(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function Bk(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function wr(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function Uk(t){return dn(t).signOut()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1e3,G3=10;class Hk extends Wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hk.type="LOCAL";const qk=Hk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk extends Wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kk.type="SESSION";const ux=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await Q3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=cx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function X3(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function J3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e4(){return Gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebaseLocalStorageDb",t4=1,Gf="firebaseLocalStorage",Yk="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function n4(){const t=indexedDB.deleteDatabase(Qk);return new Pc(t).toPromise()}function Ky(){const t=indexedDB.open(Qk,t4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gf,{keyPath:Yk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),await n4(),e(await Ky()))})})}async function sw(t,e,n){const r=up(t,!0).put({[Yk]:e,value:n});return new Pc(r).toPromise()}async function r4(t,e){const n=up(t,!1).get(e),r=await new Pc(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=up(t,!0).delete(e);return new Pc(n).toPromise()}const i4=800,s4=3;class Xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(e4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J3(),!this.activeServiceWorker)return;this.sender=new Y3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ky();return await sw(e,Kf,"1"),await ow(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=up(i,!1).getAll();return new Pc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xk.type="LOCAL";const Jk=Xk;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e){return e?zi(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a4(t){return Dk(t.auth,new dx(t),t.bypassAuthState)}function l4(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),q3(n,new dx(t),t.bypassAuthState)}async function u4(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),H3(n,new dx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return u4;case"reauthViaPopup":case"reauthViaRedirect":return l4;default:ii(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Ic(2e3,1e4);class ya extends Zk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=cx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c4.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="pendingRedirect",Gd=new Map;class f4 extends Zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await h4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h4(t,e){const n=g4(e),r=m4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function p4(t,e){Gd.set(t._key(),e)}function m4(t){return zi(t._redirectPersistence)}function g4(t){return Kd(d4,t.config.apiKey,t.name)}async function y4(t,e,n=!1){if(fi(t.app))return Promise.reject(Hi(t));const r=Vo(t),i=o4(r,e),o=await new f4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=10*60*1e3;class x4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v4&&this.cachedEventUids.clear(),this.cachedEventUids.has(aw(e))}saveEventToCache(e){this.cachedEventUids.add(aw(e)),this.lastProcessedEventTime=Date.now()}}function aw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e={}){return Gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S4=/^https?/;async function E4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _4(t);for(const n of e)try{if(T4(n))return}catch{}ii(t,"unauthorized-domain")}function T4(t){const e=Uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!S4.test(n))return!1;if(w4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Ic(3e4,6e4);function lw(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I4(t){return new Promise((e,n)=>{var r,i,s;function o(){lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lw(),n(vi(t,"network-request-failed"))},timeout:C4.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xi().gapi)===null||s===void 0)&&s.load)o();else{const a=P3("iframefcb");return xi()[a]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},Ak(`${R3()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function k4(t){return Qd=Qd||I4(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Ic(5e3,15e3),P4="__/auth/iframe",A4="emulator/auth/iframe",j4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N4(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ox(e,A4):`https://${t.config.authDomain}/${P4}`,r={apiKey:e.apiKey,appName:t.name,v:Do},i=O4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pc(r).slice(1)}`}async function L4(t){const e=await k4(t),n=xi().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:N4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),a=xi().setTimeout(()=>{s(o)},R4.get());function u(){xi().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D4=500,$4=600,F4="_blank",V4="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z4(t,e,n,r=D4,i=$4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},M4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Wn().toLowerCase();n&&(a=Ek(c)?F4:n),wk(c)&&(e=e||V4,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[E,T])=>`${m}${E}=${T},`,"");if(b3(c)&&a!=="_self")return B4(e||"",a),new uw(null);const h=window.open(e||"",a,f);Be(h,t,"popup-blocked");try{h.focus()}catch{}return new uw(h)}function B4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="__/auth/handler",W4="emulator/auth/handler",H4=encodeURIComponent("fac");async function cw(t,e,n,r,i,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:i};if(e instanceof Lk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Rc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${H4}=${encodeURIComponent(u)}`:"";return`${q4(t)}?${pc(a).slice(1)}${c}`}function q4({config:t}){return t.emulator?ox(t,W4):`https://${t.authDomain}/${U4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ux,this._completeRedirectFn=y4,this._overrideRedirectResult=p4}async _openPopup(e,n,r,i){var s;ts((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cw(e,n,r,Uy(),i);return z4(e,o,cx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cw(e,n,r,Uy(),i);return X3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ts(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L4(e),r=new x4(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ym];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rk()||Sk()||lx()}}const tR=K4;var dw="@firebase/auth",fw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y4(t){So(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pk(t)},c=new C3(r,i,s,u);return N3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new Ms("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new G4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(dw,fw,Q4(t)),mi(dw,fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=5*60,J4=NC("authIdTokenMaxAge")||X4;let hw=null;const Z4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J4)return;const i=n==null?void 0:n.token;hw!==i&&(hw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pn(t=x0()){const e=Fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jk(t,{popupRedirectResolver:tR,persistence:[Jk,qk,ux]}),r=NC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Z4(s.toString());Bk(n,o,()=>o(n.currentUser)),zk(n,a=>o(a))}}const i=AC("auth");return i&&Ok(n,`http://${i}`),n}function e5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}I3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y4("Browser");const nR=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:ap,AuthCredential:op,EmailAuthCredential:Ga,EmailAuthProvider:zo,FacebookAuthProvider:ji,GithubAuthProvider:Ni,GoogleAuthProvider:Oi,OAuthCredential:Vs,TwitterAuthProvider:Li,beforeAuthStateChanged:Bk,browserLocalPersistence:qk,browserPopupRedirectResolver:tR,browserSessionPersistence:ux,connectAuthEmulator:Ok,createUserWithEmailAndPassword:tu,getAuth:Pn,getIdTokenResult:vk,inMemoryPersistence:Hy,indexedDBLocalPersistence:Jk,initializeAuth:jk,onAuthStateChanged:wr,onIdTokenChanged:zk,prodErrorMap:dk,reload:xk,signInWithCredential:$k,signInWithEmailAndPassword:Vk,signOut:Uk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebasestorage.googleapis.com",t5="storageBucket",n5=2*60*1e3,r5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ei{constructor(e,n,r=0){super(Xm(e),`Firebase Storage: ${n} (${Xm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Xm(t){return"storage/"+t}function i5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ti(Si.UNKNOWN,t)}function s5(){return new Ti(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o5(){return new Ti(Si.CANCELED,"User canceled the upload/download.")}function a5(t){return new Ti(Si.INVALID_URL,"Invalid URL '"+t+"'.")}function l5(t){return new Ti(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pw(t){return new Ti(Si.INVALID_ARGUMENT,t)}function iR(){return new Ti(Si.APP_DELETED,"The Firebase app was deleted.")}function u5(t){return new Ti(Si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zr.makeFromUrl(e,n)}catch{return new Zr(e,"")}if(r.path==="")return r;throw l5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},w=n===rR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",C=new RegExp(`^https?://${w}/${i}/${I}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:E,indices:T,postModify:c},{regex:C,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<b.length;k++){const L=b[k],N=L.regex.exec(e);if(N){const S=N[L.indices.bucket];let p=N[L.indices.path];p||(p=""),r=new Zr(S,p),L.postModify(r);break}}if(r==null)throw a5(e);return r}}class c5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(E,u())},I)}function m(){s&&clearTimeout(s)}function E(I,...C){if(c){m();return}if(I){m(),f.call(null,I,...C);return}if(u()||o){m(),f.call(null,I,...C);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let T=!1;function w(I){T||(T=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function f5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return t!==void 0}function mw(t,e,n,r){if(r<e)throw pw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pw(`Invalid value for '${t}'. Expected ${n} or less.`)}function p5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qf||(Qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _d(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Qf.NO_ERROR,u=s.getStatus();if(!a||m5(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Qf.ABORT;r(!1,new _d(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new _d(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());h5(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=i5();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?iR():o5();o(u)}else{const u=s5();o(u)}};this.canceled_?n(!1,new _d(!1,null,!0)):this.backoffId_=d5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function y5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _5(t,e,n,r,i,s,o=!0){const a=p5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return x5(c,e),y5(c,n),v5(c,s),b5(c,r),new g5(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function S5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this._service=e,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yf(e,n)}get root(){const e=new Zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S5(this._location.path)}get storage(){return this._service}get parent(){const e=w5(this._location.path);if(e===null)return null;const n=new Zr(this._location.bucket,e);return new Yf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u5(e)}}function gw(t,e){const n=e==null?void 0:e[t5];return n==null?null:Zr.makeFromBucketSpec(n,t)}function E5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LC(i,t.app.options.projectId))}class T5{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n5,this._maxUploadRetryTime=r5,this._requests=new Set,i!=null?this._bucket=Zr.makeFromBucketSpec(i,this._host):this._bucket=gw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,e):this._bucket=gw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new c5(iR());{const o=_5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const yw="@firebase/storage",vw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="storage";function C5(t=x0(),e){t=dn(t);const r=Fh(t,sR).getImmediate({identifier:e}),i=jC("storage");return i&&I5(r,...i),r}function I5(t,e,n,r={}){E5(t,e,n,r)}function k5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new T5(n,r,i,e,Do)}function R5(){So(new Ms(sR,k5,"PUBLIC").setMultipleInstances(!0)),mi(yw,vw,""),mi(yw,vw,"esm2017")}R5();const P5={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},cp=$C(P5),Z=YI(cp),ro=Pn(cp);C5(cp);const A5=Object.freeze(Object.defineProperty({__proto__:null,app:cp,auth:ro,db:Z},Symbol.toStringTag,{value:"Module"}));function j5(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function O5(){const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(""),o=Ur();_.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),_.useEffect(()=>{async function c(){const h=(await en(Re(Z,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=j5(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function Po(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const N5=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function L5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function M5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var D5=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=L5(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Fn="-ms-",Xf="-moz-",yt="-webkit-",oR="comm",fx="rule",hx="decl",$5="@import",aR="@keyframes",F5="@layer",V5=Math.abs,dp=String.fromCharCode,z5=Object.assign;function B5(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function lR(t){return t.trim()}function U5(t,e){return(t=e.exec(t))?t[0]:t}function vt(t,e,n){return t.replace(e,n)}function Gy(t,e){return t.indexOf(e)}function Cn(t,e){return t.charCodeAt(e)|0}function Yu(t,e,n){return t.slice(e,n)}function ui(t){return t.length}function px(t){return t.length}function wd(t,e){return e.push(t),t}function W5(t,e){return t.map(e).join("")}var fp=1,Qa=1,uR=0,lr=0,on=0,fl="";function hp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:fp,column:Qa,length:o,return:""}}function Dl(t,e){return z5(hp("",null,null,"",null,null,0),t,{length:-t.length},e)}function H5(){return on}function q5(){return on=lr>0?Cn(fl,--lr):0,Qa--,on===10&&(Qa=1,fp--),on}function gr(){return on=lr<uR?Cn(fl,lr++):0,Qa++,on===10&&(Qa=1,fp++),on}function bi(){return Cn(fl,lr)}function Yd(){return lr}function Ac(t,e){return Yu(fl,t,e)}function Xu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cR(t){return fp=Qa=1,uR=ui(fl=t),lr=0,[]}function dR(t){return fl="",t}function Xd(t){return lR(Ac(lr-1,Qy(t===91?t+2:t===40?t+1:t)))}function K5(t){for(;(on=bi())&&on<33;)gr();return Xu(t)>2||Xu(on)>3?"":" "}function G5(t,e){for(;--e&&gr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Ac(t,Yd()+(e<6&&bi()==32&&gr()==32))}function Qy(t){for(;gr();)switch(on){case t:return lr;case 34:case 39:t!==34&&t!==39&&Qy(on);break;case 40:t===41&&Qy(t);break;case 92:gr();break}return lr}function Q5(t,e){for(;gr()&&t+on!==57;)if(t+on===84&&bi()===47)break;return"/*"+Ac(e,lr-1)+"*"+dp(t===47?t:gr())}function Y5(t){for(;!Xu(bi());)gr();return Ac(t,lr)}function X5(t){return dR(Jd("",null,null,null,[""],t=cR(t),0,[0],t))}function Jd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,E=0,T=0,w=1,I=1,C=1,y=0,b="",k=i,L=s,N=r,S=b;I;)switch(T=y,y=gr()){case 40:if(T!=108&&Cn(S,h-1)==58){Gy(S+=vt(Xd(y),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:S+=Xd(y);break;case 9:case 10:case 13:case 32:S+=K5(T);break;case 92:S+=G5(Yd()-1,7);continue;case 47:switch(bi()){case 42:case 47:wd(J5(Q5(gr(),Yd()),e,n),u);break;default:S+="/"}break;case 123*w:a[c++]=ui(S)*C;case 125*w:case 59:case 0:switch(y){case 0:case 125:I=0;case 59+f:C==-1&&(S=vt(S,/\f/g,"")),E>0&&ui(S)-h&&wd(E>32?bw(S+";",r,n,h-1):bw(vt(S," ","")+";",r,n,h-2),u);break;case 59:S+=";";default:if(wd(N=xw(S,e,n,c,f,i,a,b,k=[],L=[],h),s),y===123)if(f===0)Jd(S,e,N,N,k,s,h,a,L);else switch(m===99&&Cn(S,3)===110?100:m){case 100:case 108:case 109:case 115:Jd(t,N,N,r&&wd(xw(t,N,N,0,0,i,a,b,i,k=[],h),L),i,L,h,a,r?k:L);break;default:Jd(S,N,N,N,[""],L,0,a,L)}}c=f=E=0,w=C=1,b=S="",h=o;break;case 58:h=1+ui(S),E=T;default:if(w<1){if(y==123)--w;else if(y==125&&w++==0&&q5()==125)continue}switch(S+=dp(y),y*w){case 38:C=f>0?1:(S+="\f",-1);break;case 44:a[c++]=(ui(S)-1)*C,C=1;break;case 64:bi()===45&&(S+=Xd(gr())),m=bi(),f=h=ui(b=S+=Y5(Yd())),y++;break;case 45:T===45&&ui(S)==2&&(w=0)}}return s}function xw(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],E=px(m),T=0,w=0,I=0;T<r;++T)for(var C=0,y=Yu(t,h+1,h=V5(w=o[T])),b=t;C<E;++C)(b=lR(w>0?m[C]+" "+y:vt(y,/&\f/g,m[C])))&&(u[I++]=b);return hp(t,e,n,i===0?fx:a,u,c,f)}function J5(t,e,n){return hp(t,e,n,oR,dp(H5()),Yu(t,2,-2),0)}function bw(t,e,n,r){return hp(t,e,n,hx,Yu(t,0,r),Yu(t,r+1,-1),r)}function ka(t,e){for(var n="",r=px(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Z5(t,e,n,r){switch(t.type){case F5:if(t.children.length)break;case $5:case hx:return t.return=t.return||t.value;case oR:return"";case aR:return t.return=t.value+"{"+ka(t.children,r)+"}";case fx:t.value=t.props.join(",")}return ui(n=ka(t.children,r))?t.return=t.value+"{"+n+"}":""}function e$(t){var e=px(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function t$(t){return function(e){e.root||(e=e.return)&&t(e)}}function fR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var n$=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!Xu(s);)gr();return Ac(e,lr)},r$=function(e,n){var r=-1,i=44;do switch(Xu(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=n$(lr-1,n,r);break;case 2:e[r]+=Xd(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=dp(i)}while(i=gr());return e},i$=function(e,n){return dR(r$(cR(e),n))},_w=new WeakMap,s$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_w.get(r))&&!i){_w.set(e,!0);for(var s=[],o=i$(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},o$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function hR(t,e){switch(B5(t,e)){case 5103:return yt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+t+Xf+t+Fn+t+t;case 6828:case 4268:return yt+t+Fn+t+t;case 6165:return yt+t+Fn+"flex-"+t+t;case 5187:return yt+t+vt(t,/(\w+).+(:[^]+)/,yt+"box-$1$2"+Fn+"flex-$1$2")+t;case 5443:return yt+t+Fn+"flex-item-"+vt(t,/flex-|-self/,"")+t;case 4675:return yt+t+Fn+"flex-line-pack"+vt(t,/align-content|flex-|-self/,"")+t;case 5548:return yt+t+Fn+vt(t,"shrink","negative")+t;case 5292:return yt+t+Fn+vt(t,"basis","preferred-size")+t;case 6060:return yt+"box-"+vt(t,"-grow","")+yt+t+Fn+vt(t,"grow","positive")+t;case 4554:return yt+vt(t,/([^-])(transform)/g,"$1"+yt+"$2")+t;case 6187:return vt(vt(vt(t,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),t,"")+t;case 5495:case 3959:return vt(t,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return vt(vt(t,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+Fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+t+t;case 4095:case 3583:case 4068:case 2532:return vt(t,/(.+)-inline(.+)/,yt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ui(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return vt(t,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+Xf+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gy(t,"stretch")?hR(vt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cn(t,e+1)!==115)break;case 6444:switch(Cn(t,ui(t)-3-(~Gy(t,"!important")&&10))){case 107:return vt(t,":",":"+yt)+t;case 101:return vt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(Cn(t,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+Fn+"$2box$3")+t}break;case 5936:switch(Cn(t,e+11)){case 114:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return yt+t+Fn+t+t}return t}var a$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case hx:e.return=hR(e.value,e.length);break;case aR:return ka([Dl(e,{value:vt(e.value,"@","@"+yt)})],i);case fx:if(e.length)return W5(e.props,function(s){switch(U5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ka([Dl(e,{props:[vt(s,/:(read-\w+)/,":"+Xf+"$1")]})],i);case"::placeholder":return ka([Dl(e,{props:[vt(s,/:(plac\w+)/,":"+yt+"input-$1")]}),Dl(e,{props:[vt(s,/:(plac\w+)/,":"+Xf+"$1")]}),Dl(e,{props:[vt(s,/:(plac\w+)/,Fn+"input-$1")]})],i)}return""})}},l$=[a$],pR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var I=w.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||l$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var I=w.getAttribute("data-emotion").split(" "),C=1;C<I.length;C++)s[I[C]]=!0;a.push(w)});var u,c=[s$,o$];{var f,h=[Z5,t$(function(w){f.insert(w)})],m=e$(c.concat(i,h)),E=function(I){return ka(X5(I),m)};u=function(I,C,y,b){f=y,E(I?I+"{"+C.styles+"}":C.styles),b&&(T.inserted[C.name]=!0)}}var T={key:n,sheet:new D5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return T.sheet.hydrate(a),T},mR={exports:{}},Tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,mx=_n?Symbol.for("react.element"):60103,gx=_n?Symbol.for("react.portal"):60106,pp=_n?Symbol.for("react.fragment"):60107,mp=_n?Symbol.for("react.strict_mode"):60108,gp=_n?Symbol.for("react.profiler"):60114,yp=_n?Symbol.for("react.provider"):60109,vp=_n?Symbol.for("react.context"):60110,yx=_n?Symbol.for("react.async_mode"):60111,xp=_n?Symbol.for("react.concurrent_mode"):60111,bp=_n?Symbol.for("react.forward_ref"):60112,_p=_n?Symbol.for("react.suspense"):60113,u$=_n?Symbol.for("react.suspense_list"):60120,wp=_n?Symbol.for("react.memo"):60115,Sp=_n?Symbol.for("react.lazy"):60116,c$=_n?Symbol.for("react.block"):60121,d$=_n?Symbol.for("react.fundamental"):60117,f$=_n?Symbol.for("react.responder"):60118,h$=_n?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mx:switch(t=t.type,t){case yx:case xp:case pp:case gp:case mp:case _p:return t;default:switch(t=t&&t.$$typeof,t){case vp:case bp:case Sp:case wp:case yp:return t;default:return e}}case gx:return e}}}function gR(t){return Tr(t)===xp}Tt.AsyncMode=yx;Tt.ConcurrentMode=xp;Tt.ContextConsumer=vp;Tt.ContextProvider=yp;Tt.Element=mx;Tt.ForwardRef=bp;Tt.Fragment=pp;Tt.Lazy=Sp;Tt.Memo=wp;Tt.Portal=gx;Tt.Profiler=gp;Tt.StrictMode=mp;Tt.Suspense=_p;Tt.isAsyncMode=function(t){return gR(t)||Tr(t)===yx};Tt.isConcurrentMode=gR;Tt.isContextConsumer=function(t){return Tr(t)===vp};Tt.isContextProvider=function(t){return Tr(t)===yp};Tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mx};Tt.isForwardRef=function(t){return Tr(t)===bp};Tt.isFragment=function(t){return Tr(t)===pp};Tt.isLazy=function(t){return Tr(t)===Sp};Tt.isMemo=function(t){return Tr(t)===wp};Tt.isPortal=function(t){return Tr(t)===gx};Tt.isProfiler=function(t){return Tr(t)===gp};Tt.isStrictMode=function(t){return Tr(t)===mp};Tt.isSuspense=function(t){return Tr(t)===_p};Tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pp||t===xp||t===gp||t===mp||t===_p||t===u$||typeof t=="object"&&t!==null&&(t.$$typeof===Sp||t.$$typeof===wp||t.$$typeof===yp||t.$$typeof===vp||t.$$typeof===bp||t.$$typeof===d$||t.$$typeof===f$||t.$$typeof===h$||t.$$typeof===c$)};Tt.typeOf=Tr;mR.exports=Tt;var p$=mR.exports,yR=p$,m$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vR={};vR[yR.ForwardRef]=m$;vR[yR.Memo]=g$;var y$=!0;function xR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var vx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||y$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},xx=function(e,n,r){vx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function v$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var x$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b$=/[A-Z]|^ms/g,_$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bR=function(e){return e.charCodeAt(1)===45},ww=function(e){return e!=null&&typeof e!="boolean"},Jm=fR(function(t){return bR(t)?t:t.replace(b$,"-$&").toLowerCase()}),Sw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_$,function(r,i,s){return ci={name:i,styles:s,next:ci},i})}return x$[e]!==1&&!bR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ju(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ci={name:i.name,styles:i.styles,next:ci},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ci={name:o.name,styles:o.styles,next:ci},o=o.next;var a=s.styles+";";return a}return w$(t,e,n)}case"function":{if(t!==void 0){var u=ci,c=n(t);return ci=u,Ju(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function w$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ju(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":ww(a)&&(r+=Jm(s)+":"+Sw(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)ww(o[u])&&(r+=Jm(s)+":"+Sw(s,o[u])+";");else{var c=Ju(t,e,o);switch(s){case"animation":case"animationName":{r+=Jm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var Ew=/label:\s*([^\s;{]+)\s*(;|$)/g,ci;function jc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ci=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ju(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ju(n,e,t[a]),r){var u=s;i+=u[a]}Ew.lastIndex=0;for(var c="",f;(f=Ew.exec(i))!==null;)c+="-"+f[1];var h=v$(i)+c;return{name:h,styles:i,next:ci}}var S$=function(e){return e()},_R=af.useInsertionEffect?af.useInsertionEffect:!1,wR=_R||S$,Tw=_R||_.useLayoutEffect,SR=_.createContext(typeof HTMLElement<"u"?pR({key:"css"}):null),E$=SR.Provider,bx=function(e){return _.forwardRef(function(n,r){var i=_.useContext(SR);return e(n,i,r)})},hl=_.createContext({}),_x={}.hasOwnProperty,Yy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",T$=function(e,n){var r={};for(var i in n)_x.call(n,i)&&(r[i]=n[i]);return r[Yy]=e,r},C$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vx(n,r,i),wR(function(){return xx(n,r,i)}),null},I$=bx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Yy],s=[r],o="";typeof t.className=="string"?o=xR(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=jc(s,void 0,_.useContext(hl));o+=e.key+"-"+a.name;var u={};for(var c in t)_x.call(t,c)&&c!=="css"&&c!==Yy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),_.createElement(_.Fragment,null,_.createElement(C$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,u))}),k$=I$,Zm={exports:{}},Cw;function ER(){return Cw||(Cw=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Zm)),Zm.exports}ER();var Iw=function(e,n){var r=arguments;if(n==null||!_x.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=k$,s[1]=T$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Iw||(Iw={}));var R$=bx(function(t,e){var n=t.styles,r=jc([n],void 0,_.useContext(hl)),i=_.useRef();return Tw(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),Tw(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&xx(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function TR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jc(e)}function Ep(){var t=TR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var P$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A$=fR(function(t){return P$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),j$=A$,O$=function(e){return e!=="theme"},kw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?j$:O$},Rw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},N$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vx(n,r,i),wR(function(){return xx(n,r,i)}),null},L$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Rw(e,n,r),u=a||kw(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,T=1;T<E;T++)h.push(f[T],m[T])}var w=bx(function(I,C,y){var b=c&&I.as||i,k="",L=[],N=I;if(I.theme==null){N={};for(var S in I)N[S]=I[S];N.theme=_.useContext(hl)}typeof I.className=="string"?k=xR(C.registered,L,I.className):I.className!=null&&(k=I.className+" ");var p=jc(h.concat(L),C.registered,N);k+=C.key+"-"+p.name,o!==void 0&&(k+=" "+o);var g=c&&a===void 0?kw(b):u,x={};for(var j in I)c&&j==="as"||g(j)&&(x[j]=I[j]);return x.className=k,y&&(x.ref=y),_.createElement(_.Fragment,null,_.createElement(N$,{cache:C,serialized:p,isStringTag:typeof b=="string"}),_.createElement(b,x))});return w.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=h,w.__emotion_forwardProp=a,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(I,C){var y=t(I,$({},n,C,{shouldForwardProp:Rw(w,C,!0)}));return y.apply(void 0,h)},w}},M$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xy=L$.bind(null);M$.forEach(function(t){Xy[t]=Xy(t)});function D$(t,e){const n=pR({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const eg=new Map;function $$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=_.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&eg.has(s))return eg.get(s);const o=D$(e,n);return eg.set(s,o),o},[e,n]);return e||n?l.jsx(E$,{value:i,children:r}):r}function F$(t){return t==null||Object.keys(t).length===0}function CR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(F$(i)?n:i):e;return l.jsx(R$,{styles:r})}function wx(t,e){return Xy(t,e)}const IR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Pw=[];function Jf(t){return Pw[0]=t,jc(Pw)}const V$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:CR,StyledEngineProvider:$$,ThemeContext:hl,css:TR,default:wx,internal_processStyles:IR,internal_serializeStyles:Jf,keyframes:Ep},Symbol.toStringTag,{value:"Module"}));function Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kR(t){if(_.isValidElement(t)||!Mi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=kR(t[n])}),e}function yr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return Mi(t)&&Mi(e)&&Object.keys(e).forEach(i=>{_.isValidElement(e[i])?r[i]=e[i]:Mi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Mi(t[i])?r[i]=yr(t[i],e[i],n):n.clone?r[i]=Mi(e[i])?kR(e[i]):e[i]:r[i]=e[i]}),r}const z$=Object.freeze(Object.defineProperty({__proto__:null,default:yr,isPlainObject:Mi},Symbol.toStringTag,{value:"Module"})),B$=["values","unit","step"],U$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function RR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ie(t,B$),s=U$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,E){const T=o.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:E)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const E=o.indexOf(m);return E===0?a(o[1]):E===o.length-1?u(o[E]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const W$={borderRadius:4};function vu(t,e){return e?yr(t,e,{clone:!1}):t}const Sx={xs:0,sm:600,md:900,lg:1200,xl:1536},Aw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Sx[t]}px)`};function zr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Aw;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Aw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Sx).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function H$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function jw(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function q$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Tp({values:t,breakpoints:e,base:n}){const r=n||q$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function We(t){if(typeof t!="string")throw new Error(Po(7));return t.charAt(0).toUpperCase()+t.slice(1)}const K$=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Ya(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Zf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ya(t,n)||r,e&&(i=e(i,r,t)),i}function tn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Ya(u,r)||{};return zr(o,a,h=>{let m=Zf(c,i,h);return h===m&&typeof h=="string"&&(m=Zf(c,i,`${e}${h==="default"?"":We(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function G$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Q$={m:"margin",p:"padding"},Y$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ow={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},X$=G$(t=>{if(t.length>2)if(Ow[t])t=Ow[t];else return[t];const[e,n]=t.split(""),r=Q$[e],i=Y$[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Ex=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Tx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ex,...Tx];function Oc(t,e,n,r){var i;const s=(i=Ya(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function PR(t){return Oc(t,"spacing",8)}function Nc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function J$(t,e){return n=>t.reduce((r,i)=>(r[i]=Nc(e,n),r),{})}function Z$(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=X$(n),s=J$(i,r),o=t[n];return zr(t,o,s)}function AR(t,e){const n=PR(t.theme);return Object.keys(t).map(r=>Z$(t,e,r,n)).reduce(vu,{})}function qt(t){return AR(t,Ex)}qt.propTypes={};qt.filterProps=Ex;function Kt(t){return AR(t,Tx)}Kt.propTypes={};Kt.filterProps=Tx;function eF(t=8){if(t.mui)return t;const e=PR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Cp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?vu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Wr(t,e){return tn({prop:t,themeKey:"borders",transform:e})}const tF=Wr("border",Nr),nF=Wr("borderTop",Nr),rF=Wr("borderRight",Nr),iF=Wr("borderBottom",Nr),sF=Wr("borderLeft",Nr),oF=Wr("borderColor"),aF=Wr("borderTopColor"),lF=Wr("borderRightColor"),uF=Wr("borderBottomColor"),cF=Wr("borderLeftColor"),dF=Wr("outline",Nr),fF=Wr("outlineColor"),Ip=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Oc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Nc(e,r)});return zr(t,t.borderRadius,n)}return null};Ip.propTypes={};Ip.filterProps=["borderRadius"];Cp(tF,nF,rF,iF,sF,oF,aF,lF,uF,cF,Ip,dF,fF);const kp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Oc(t.theme,"spacing",8),n=r=>({gap:Nc(e,r)});return zr(t,t.gap,n)}return null};kp.propTypes={};kp.filterProps=["gap"];const Rp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Oc(t.theme,"spacing",8),n=r=>({columnGap:Nc(e,r)});return zr(t,t.columnGap,n)}return null};Rp.propTypes={};Rp.filterProps=["columnGap"];const Pp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Oc(t.theme,"spacing",8),n=r=>({rowGap:Nc(e,r)});return zr(t,t.rowGap,n)}return null};Pp.propTypes={};Pp.filterProps=["rowGap"];const hF=tn({prop:"gridColumn"}),pF=tn({prop:"gridRow"}),mF=tn({prop:"gridAutoFlow"}),gF=tn({prop:"gridAutoColumns"}),yF=tn({prop:"gridAutoRows"}),vF=tn({prop:"gridTemplateColumns"}),xF=tn({prop:"gridTemplateRows"}),bF=tn({prop:"gridTemplateAreas"}),_F=tn({prop:"gridArea"});Cp(kp,Rp,Pp,hF,pF,mF,gF,yF,vF,xF,bF,_F);function Ra(t,e){return e==="grey"?e:t}const wF=tn({prop:"color",themeKey:"palette",transform:Ra}),SF=tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ra}),EF=tn({prop:"backgroundColor",themeKey:"palette",transform:Ra});Cp(wF,SF,EF);function fr(t){return t<=1&&t!==0?`${t*100}%`:t}const TF=tn({prop:"width",transform:fr}),Cx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Sx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:fr(n)}};return zr(t,t.maxWidth,e)}return null};Cx.filterProps=["maxWidth"];const CF=tn({prop:"minWidth",transform:fr}),IF=tn({prop:"height",transform:fr}),kF=tn({prop:"maxHeight",transform:fr}),RF=tn({prop:"minHeight",transform:fr});tn({prop:"size",cssProperty:"width",transform:fr});tn({prop:"size",cssProperty:"height",transform:fr});const PF=tn({prop:"boxSizing"});Cp(TF,Cx,CF,IF,kF,RF,PF);const Lc={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ip},color:{themeKey:"palette",transform:Ra},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ra},backgroundColor:{themeKey:"palette",transform:Ra},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kp},rowGap:{style:Pp},columnGap:{style:Rp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fr},maxWidth:{style:Cx},minWidth:{transform:fr},height:{transform:fr},maxHeight:{transform:fr},minHeight:{transform:fr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function AF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function jF(t,e){return typeof t=="function"?t(e):t}function jR(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Ya(i,c)||{};return h?h(o):zr(o,r,T=>{let w=Zf(m,f,T);return T===w&&typeof T=="string"&&(w=Zf(m,f,`${n}${T==="default"?"":We(T)}`,T)),u===!1?w:{[u]:w}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Lc;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=H$(s.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(T=>{const w=jF(f[T],s);if(w!=null)if(typeof w=="object")if(a[T])E=vu(E,t(T,w,s,a));else{const I=zr({theme:s},w,C=>({[T]:C}));AF(I,w)?E[T]=e({sx:w,theme:s,nested:!0}):E=vu(E,I)}else E=vu(E,t(T,w,s,a))}),!o&&s.modularCssLayers?{"@layer sx":jw(m,E)}:jw(m,E)}return Array.isArray(i)?i.map(u):u(i)}return e}const pl=jR();pl.filterProps=["sx"];function OR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const OF=["breakpoints","palette","spacing","shape"];function Mc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ie(t,OF),a=RR(n),u=eF(i);let c=yr({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:u,shape:$({},W$,s)},o);return c.applyStyles=OR,c=e.reduce((f,h)=>yr(f,h),c),c.unstable_sxConfig=$({},Lc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return pl({sx:h,theme:this})},c}const NF=Object.freeze(Object.defineProperty({__proto__:null,default:Mc,private_createBreakpoints:RR,unstable_applyStyles:OR},Symbol.toStringTag,{value:"Module"}));function LF(t){return Object.keys(t).length===0}function Ix(t=null){const e=_.useContext(hl);return!e||LF(e)?t:e}const MF=Mc();function Ap(t=MF){return Ix(t)}function tg(t){const e=Jf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function NR({styles:t,themeId:e,defaultTheme:n={}}){const r=Ap(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>tg(typeof o=="function"?o(i):o)):s=tg(s)),l.jsx(CR,{styles:s})}const DF=["sx"],$F=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Lc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function jp(t){const{sx:e}=t,n=Ie(t,DF),{systemProps:r,otherProps:i}=$F(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Mi(a)?$({},r,a):r}:s=$({},r,e),$({},i,{sx:s})}const FF=Object.freeze(Object.defineProperty({__proto__:null,default:pl,extendSxProp:jp,unstable_createStyleFunctionSx:jR,unstable_defaultSxConfig:Lc},Symbol.toStringTag,{value:"Module"})),Nw=t=>t,VF=()=>{let t=Nw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Nw}}},LR=VF(),zF=["className","component"];function BF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=wx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(pl);return _.forwardRef(function(u,c){const f=Ap(n),h=jp(u),{className:m,component:E="div"}=h,T=Ie(h,zF);return l.jsx(s,$({as:E,ref:c,className:$e(m,i?i(r):r),theme:e&&f[e]||f},T))})}const UF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pt(t,e,n="Mui"){const r=UF[e];return r?`${n}-${r}`:`${LR.generate(t)}-${e}`}function ct(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=pt(t,i,n)}),r}var MR={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx=Symbol.for("react.transitional.element"),Rx=Symbol.for("react.portal"),Op=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Mp=Symbol.for("react.consumer"),Dp=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),WF=Symbol.for("react.view_transition"),HF=Symbol.for("react.client.reference");function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kx:switch(t=t.type,t){case Op:case Lp:case Np:case Fp:case Vp:case WF:return t;default:switch(t=t&&t.$$typeof,t){case Dp:case $p:case Bp:case zp:return t;case Mp:return t;default:return e}}case Rx:return e}}}kt.ContextConsumer=Mp;kt.ContextProvider=Dp;kt.Element=kx;kt.ForwardRef=$p;kt.Fragment=Op;kt.Lazy=Bp;kt.Memo=zp;kt.Portal=Rx;kt.Profiler=Lp;kt.StrictMode=Np;kt.Suspense=Fp;kt.SuspenseList=Vp;kt.isContextConsumer=function(t){return Hr(t)===Mp};kt.isContextProvider=function(t){return Hr(t)===Dp};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kx};kt.isForwardRef=function(t){return Hr(t)===$p};kt.isFragment=function(t){return Hr(t)===Op};kt.isLazy=function(t){return Hr(t)===Bp};kt.isMemo=function(t){return Hr(t)===zp};kt.isPortal=function(t){return Hr(t)===Rx};kt.isProfiler=function(t){return Hr(t)===Lp};kt.isStrictMode=function(t){return Hr(t)===Np};kt.isSuspense=function(t){return Hr(t)===Fp};kt.isSuspenseList=function(t){return Hr(t)===Vp};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Op||t===Lp||t===Np||t===Fp||t===Vp||typeof t=="object"&&t!==null&&(t.$$typeof===Bp||t.$$typeof===zp||t.$$typeof===Dp||t.$$typeof===Mp||t.$$typeof===$p||t.$$typeof===HF||t.getModuleId!==void 0)};kt.typeOf=Hr;MR.exports=kt;var Lw=MR.exports;const qF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function DR(t){const e=`${t}`.match(qF);return e&&e[1]||""}function $R(t,e=""){return t.displayName||t.name||DR(t)||e}function Mw(t,e,n){const r=$R(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function KF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return $R(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Lw.ForwardRef:return Mw(t,t.render,"ForwardRef");case Lw.Memo:return Mw(t,t.type,"memo");default:return}}}const GF=Object.freeze(Object.defineProperty({__proto__:null,default:KF,getFunctionName:DR},Symbol.toStringTag,{value:"Module"})),QF=["ownerState"],YF=["variants"],XF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function JF(t){return Object.keys(t).length===0}function ZF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ng(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Dw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const eV=Mc(),tV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Sd({defaultTheme:t,theme:e,themeId:n}){return JF(e)?t:e[n]||e}function nV(t){return t?(e,n)=>n[t]:null}function Zd(t,e,n){let{ownerState:r}=e,i=Ie(e,QF);const s=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Zd(o,$({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Ie(s,YF);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props($({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style($({ownerState:r},i,r)):c.style;u.push(n?Dw(Jf(h),n):h)}}),u}return n?Dw(Jf(s),n):s}function rV(t={}){const{themeId:e,defaultTheme:n=eV,rootShouldForwardProp:r=ng,slotShouldForwardProp:i=ng}=t,s=o=>pl($({},o,{theme:Sd($({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{IR(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=nV(tV(c))}=a,E=Ie(a,XF),T=u&&u.startsWith("Mui")||c?"components":"custom",w=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,y=ng;c==="Root"||c==="root"?y=r:c?y=i:ZF(o)&&(y=void 0);const b=wx(o,$({shouldForwardProp:y,label:C},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||Mi(N)?S=>{const p=Sd({theme:S.theme,defaultTheme:n,themeId:e});return Zd(N,$({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,L=(N,...S)=>{let p=k(N);const g=S?S.map(k):[];u&&m&&g.push(A=>{const P=Sd($({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const z=P.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=Zd(U,$({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!w&&g.push(A=>{var P;const z=Sd($({},A,{defaultTheme:n,themeId:e})),F=z==null||(P=z.components)==null||(P=P[u])==null?void 0:P.variants;return Zd({variants:F},$({},A,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const x=g.length-S.length;if(Array.isArray(N)&&x>0){const A=new Array(x).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=b(p,...g);return o.muiName&&(j.muiName=o.muiName),j};return b.withConfig&&(L.withConfig=b.withConfig),L}}const iV=rV();function Zu(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=$({},s),Object.keys(i).forEach(o=>{n[r][o]=Zu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function sV(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Zu(e.components[n].defaultProps,r)}function oV({props:t,name:e,defaultTheme:n,themeId:r}){let i=Ap(n);return r&&(i=i[r]||i),sV({theme:i,name:e,props:t})}const ns=typeof window<"u"?_.useLayoutEffect:_.useEffect;function aV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const lV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"}));function $w(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function FR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function rg(t,e){var n,r;return _.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function vr(t){return t&&t.ownerDocument||document}function Ao(t){return vr(t).defaultView||window}function Jy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Fw=0;function uV(t){const[e,n]=_.useState(t),r=t||e;return _.useEffect(()=>{e==null&&(Fw+=1,n(`mui-${Fw}`))},[e]),r}const Vw=af.useId;function Px(t){if(Vw!==void 0){const e=Vw();return t??e}return uV(t)}function zw({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=_.useRef(t!==void 0),[s,o]=_.useState(e),a=i?t:s,u=_.useCallback(c=>{i||o(c)},[]);return[a,u]}function co(t){const e=_.useRef(t);return ns(()=>{e.current=t}),_.useRef((...n)=>(0,e.current)(...n)).current}function jn(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Jy(n,e)})},t)}const Bw={};function cV(t,e){const n=_.useRef(Bw);return n.current===Bw&&(n.current=t(e)),n}const dV=[];function fV(t){_.useEffect(t,dV)}class Up{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Up}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function VR(){const t=cV(Up.create).current;return fV(t.disposeEffect),t}let Wp=!0,Zy=!1;const hV=new Up,pV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&pV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function gV(t){t.metaKey||t.altKey||t.ctrlKey||(Wp=!0)}function ig(){Wp=!1}function yV(){this.visibilityState==="hidden"&&Zy&&(Wp=!0)}function vV(t){t.addEventListener("keydown",gV,!0),t.addEventListener("mousedown",ig,!0),t.addEventListener("pointerdown",ig,!0),t.addEventListener("touchstart",ig,!0),t.addEventListener("visibilitychange",yV,!0)}function xV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Wp||mV(e)}function zR(){const t=_.useCallback(i=>{i!=null&&vV(i.ownerDocument)},[]),e=_.useRef(!1);function n(){return e.current?(Zy=!0,hV.start(100,()=>{Zy=!1}),e.current=!1,!0):!1}function r(i){return xV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function BR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function xt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function eh(t){return typeof t=="string"}function UR(t,e,n){return t===void 0||eh(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function WR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Uw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function HR(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const E=$e(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),T=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),w=$({},n,i,r);return E.length>0&&(w.className=E),Object.keys(T).length>0&&(w.style=T),{props:w,internalRef:void 0}}const o=WR($({},i,r)),a=Uw(r),u=Uw(i),c=e(o),f=$e(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function qR(t,e,n){return typeof t=="function"?t(e,n):t}const bV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xa(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ie(t,bV),a=s?{}:qR(r,i),{props:u,internalRef:c}=HR($({},o,{externalSlotProps:a})),f=jn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return UR(n,$({},u,{ref:f}),i)}function Dc(t){if(parseInt(_.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const KR=_.createContext(null);function GR(){return _.useContext(KR)}const _V=typeof Symbol=="function"&&Symbol.for,wV=_V?Symbol.for("mui.nested"):"__THEME_NESTED__";function SV(t,e){return typeof e=="function"?e(t):$({},t,e)}function EV(t){const{children:e,theme:n}=t,r=GR(),i=_.useMemo(()=>{const s=r===null?n:SV(r,n);return s!=null&&(s[wV]=r!==null),s},[n,r]);return l.jsx(KR.Provider,{value:i,children:e})}const TV=["value"],QR=_.createContext();function CV(t){let{value:e}=t,n=Ie(t,TV);return l.jsx(QR.Provider,$({value:e??!0},n))}const IV=()=>{const t=_.useContext(QR);return t??!1},YR=_.createContext(void 0);function kV({value:t,children:e}){return l.jsx(YR.Provider,{value:t,children:e})}function RV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Zu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Zu(i,r):r}function PV({props:t,name:e}){const n=_.useContext(YR);return RV({props:t,name:e,theme:{components:n}})}function AV(t){const e=Ix(),n=Px()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,ns(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx(NR,{styles:i}):null}const Ww={};function Hw(t,e,n,r=!1){return _.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?$({},e,{[t]:s}):s;return r?()=>o:o}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function jV(t){const{children:e,theme:n,themeId:r}=t,i=Ix(Ww),s=GR()||Ww,o=Hw(r,i,n),a=Hw(r,s,n,!0),u=o.direction==="rtl",c=AV(o);return l.jsx(EV,{theme:a,children:l.jsx(hl.Provider,{value:o,children:l.jsx(CV,{value:u,children:l.jsxs(kV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const OV=["className","component","disableGutters","fixed","maxWidth","classes"],NV=Mc(),LV=iV("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${We(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),MV=t=>oV({props:t,name:"MuiContainer",defaultTheme:NV}),DV=(t,e)=>{const n=u=>pt(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${We(String(o))}`,i&&"fixed",s&&"disableGutters"]};return xt(a,n,r)};function $V(t={}){const{createStyledComponent:e=LV,useThemeProps:n=MV,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>$({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return _.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:T="lg"}=c,w=Ie(c,OV),I=$({},c,{component:h,disableGutters:m,fixed:E,maxWidth:T}),C=DV(I,r);return l.jsx(i,$({as:h,ownerState:I,className:$e(C.root,f),ref:u},w))})}var $c={},XR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(XR);var JR=XR.exports,sg={exports:{}},qw;function FV(){return qw||(qw=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(sg)),sg.exports}const VV=rs(V$),zV=rs(z$),BV=rs(K$),UV=rs(GF),WV=rs(NF),HV=rs(FF);var ml=JR;Object.defineProperty($c,"__esModule",{value:!0});var qV=$c.default=sz;$c.shouldForwardProp=ef;$c.systemDefaultTheme=void 0;var Pr=ml(ER()),ev=ml(FV()),th=ZV(VV),KV=zV;ml(BV);ml(UV);var GV=ml(WV),QV=ml(HV);const YV=["ownerState"],XV=["variants"],JV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ZR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ZR=function(r){return r?n:e})(t)}function ZV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=ZR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function ez(t){return Object.keys(t).length===0}function tz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ef(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Kw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const nz=$c.systemDefaultTheme=(0,GV.default)(),rz=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ed({defaultTheme:t,theme:e,themeId:n}){return ez(e)?t:e[n]||e}function iz(t){return t?(e,n)=>n[t]:null}function tf(t,e,n){let{ownerState:r}=e,i=(0,ev.default)(e,YV);const s=typeof t=="function"?t((0,Pr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>tf(o,(0,Pr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,ev.default)(s,XV);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,Pr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,Pr.default)({ownerState:r},i,r)):c.style;u.push(n?Kw((0,th.internal_serializeStyles)(h),n):h)}}),u}return n?Kw((0,th.internal_serializeStyles)(s),n):s}function sz(t={}){const{themeId:e,defaultTheme:n=nz,rootShouldForwardProp:r=ef,slotShouldForwardProp:i=ef}=t,s=o=>(0,QV.default)((0,Pr.default)({},o,{theme:Ed((0,Pr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,th.internal_processStyles)(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=iz(rz(c))}=a,E=(0,ev.default)(a,JV),T=u&&u.startsWith("Mui")||c?"components":"custom",w=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,y=ef;c==="Root"||c==="root"?y=r:c?y=i:tz(o)&&(y=void 0);const b=(0,th.default)(o,(0,Pr.default)({shouldForwardProp:y,label:C},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||(0,KV.isPlainObject)(N)?S=>{const p=Ed({theme:S.theme,defaultTheme:n,themeId:e});return tf(N,(0,Pr.default)({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,L=(N,...S)=>{let p=k(N);const g=S?S.map(k):[];u&&m&&g.push(A=>{const P=Ed((0,Pr.default)({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const z=P.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=tf(U,(0,Pr.default)({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!w&&g.push(A=>{var P;const z=Ed((0,Pr.default)({},A,{defaultTheme:n,themeId:e})),F=z==null||(P=z.components)==null||(P=P[u])==null?void 0:P.variants;return tf({variants:F},(0,Pr.default)({},A,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const x=g.length-S.length;if(Array.isArray(N)&&x>0){const A=new Array(x).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=b(p,...g);return o.muiName&&(j.muiName=o.muiName),j};return b.withConfig&&(L.withConfig=b.withConfig),L}}function oz(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var nn={};const az=rs(N5),lz=rs(lV);var eP=JR;Object.defineProperty(nn,"__esModule",{value:!0});var rr=nn.alpha=iP;nn.blend=xz;nn.colorChannel=void 0;var tv=nn.darken=jx;nn.decomposeColor=Br;nn.emphasize=sP;var uz=nn.getContrastRatio=pz;nn.getLuminance=nh;nn.hexToRgb=tP;nn.hslToRgb=rP;var nv=nn.lighten=Ox;nn.private_safeAlpha=mz;nn.private_safeColorChannel=void 0;nn.private_safeDarken=gz;nn.private_safeEmphasize=vz;nn.private_safeLighten=yz;nn.recomposeColor=gl;nn.rgbToHex=hz;var Gw=eP(az),cz=eP(lz);function Ax(t,e=0,n=1){return(0,cz.default)(t,e,n)}function tP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function dz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Br(t){if(t.type)return t;if(t.charAt(0)==="#")return Br(tP(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Gw.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Gw.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const nP=t=>{const e=Br(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};nn.colorChannel=nP;const fz=(t,e)=>{try{return nP(t)}catch{return t}};nn.private_safeColorChannel=fz;function gl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function hz(t){if(t.indexOf("#")===0)return t;const{values:e}=Br(t);return`#${e.map((n,r)=>dz(r===3?Math.round(255*n):n)).join("")}`}function rP(t){t=Br(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),gl({type:a,values:u})}function nh(t){t=Br(t);let e=t.type==="hsl"||t.type==="hsla"?Br(rP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function pz(t,e){const n=nh(t),r=nh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function iP(t,e){return t=Br(t),e=Ax(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,gl(t)}function mz(t,e,n){try{return iP(t,e)}catch{return t}}function jx(t,e){if(t=Br(t),e=Ax(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return gl(t)}function gz(t,e,n){try{return jx(t,e)}catch{return t}}function Ox(t,e){if(t=Br(t),e=Ax(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return gl(t)}function yz(t,e,n){try{return Ox(t,e)}catch{return t}}function sP(t,e=.15){return nh(t)>.5?jx(t,e):Ox(t,e)}function vz(t,e,n){try{return sP(t,e)}catch{return t}}function xz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=Br(t),o=Br(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return gl({type:"rgb",values:a})}const ec={black:"#000",white:"#fff"},bz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ko={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Go={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$l={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Qo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Yo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},_z=["mode","contrastThreshold","tonalOffset"],Qw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ec.white,default:ec.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},og={text:{primary:ec.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ec.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Yw(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=nv(t.main,i):e==="dark"&&(t.dark=tv(t.main,s)))}function wz(t="light"){return t==="dark"?{main:Qo[200],light:Qo[50],dark:Qo[400]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function Sz(t="light"){return t==="dark"?{main:Ko[200],light:Ko[50],dark:Ko[400]}:{main:Ko[500],light:Ko[300],dark:Ko[700]}}function Ez(t="light"){return t==="dark"?{main:Go[500],light:Go[300],dark:Go[700]}:{main:Go[700],light:Go[400],dark:Go[800]}}function Tz(t="light"){return t==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[700],light:Yo[500],dark:Yo[900]}}function Cz(t="light"){return t==="dark"?{main:Xo[400],light:Xo[300],dark:Xo[700]}:{main:Xo[800],light:Xo[500],dark:Xo[900]}}function Iz(t="light"){return t==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:"#ed6c02",light:$l[500],dark:$l[900]}}function kz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ie(t,_z),s=t.primary||wz(e),o=t.secondary||Sz(e),a=t.error||Ez(e),u=t.info||Tz(e),c=t.success||Cz(e),f=t.warning||Iz(e);function h(w){return uz(w,og.text.primary)>=n?og.text.primary:Qw.text.primary}const m=({color:w,name:I,mainShade:C=500,lightShade:y=300,darkShade:b=700})=>{if(w=$({},w),!w.main&&w[C]&&(w.main=w[C]),!w.hasOwnProperty("main"))throw new Error(Po(11,I?` (${I})`:"",C));if(typeof w.main!="string")throw new Error(Po(12,I?` (${I})`:"",JSON.stringify(w.main)));return Yw(w,"light",y,r),Yw(w,"dark",b,r),w.contrastText||(w.contrastText=h(w.main)),w},E={dark:og,light:Qw};return yr($({common:$({},ec),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:bz,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const Rz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Pz(t){return Math.round(t*1e5)/1e5}const Xw={textTransform:"uppercase"},Jw='"Roboto", "Helvetica", "Arial", sans-serif';function Az(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Jw,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Ie(n,Rz),E=i/14,T=h||(C=>`${C/c*E}rem`),w=(C,y,b,k,L)=>$({fontFamily:r,fontWeight:C,fontSize:T(y),lineHeight:b},r===Jw?{letterSpacing:`${Pz(k/y)}em`}:{},L,f),I={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(a,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(a,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(a,14,1.75,.4,Xw),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,Xw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr($({htmlFontSize:c,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const jz=.2,Oz=.14,Nz=.12;function Mt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${jz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Oz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Nz})`].join(",")}const Lz=["none",Mt(0,2,1,-1,0,1,1,0,0,1,3,0),Mt(0,3,1,-2,0,2,2,0,0,1,5,0),Mt(0,3,3,-2,0,3,4,0,0,1,8,0),Mt(0,2,4,-1,0,4,5,0,0,1,10,0),Mt(0,3,5,-1,0,5,8,0,0,1,14,0),Mt(0,3,5,-1,0,6,10,0,0,1,18,0),Mt(0,4,5,-2,0,7,10,1,0,2,16,1),Mt(0,5,5,-3,0,8,10,1,0,3,14,2),Mt(0,5,6,-3,0,9,12,1,0,3,16,2),Mt(0,6,6,-3,0,10,14,1,0,4,18,3),Mt(0,6,7,-4,0,11,15,1,0,4,20,3),Mt(0,7,8,-4,0,12,17,2,0,5,22,4),Mt(0,7,8,-4,0,13,19,2,0,5,24,4),Mt(0,7,9,-4,0,14,21,2,0,5,26,4),Mt(0,8,9,-5,0,15,22,2,0,6,28,5),Mt(0,8,10,-5,0,16,24,2,0,6,30,5),Mt(0,8,11,-5,0,17,26,2,0,6,32,5),Mt(0,9,11,-5,0,18,28,2,0,7,34,6),Mt(0,9,12,-6,0,19,29,2,0,7,36,6),Mt(0,10,13,-6,0,20,31,3,0,8,38,7),Mt(0,10,13,-6,0,21,33,3,0,8,40,7),Mt(0,10,14,-6,0,22,35,3,0,8,42,7),Mt(0,11,14,-7,0,23,36,3,0,9,44,8),Mt(0,11,15,-7,0,24,38,3,0,9,46,8)],Mz=["duration","easing","delay"],Dz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$z={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zw(t){return`${Math.round(t)}ms`}function Fz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Vz(t){const e=$({},Dz,t.easing),n=$({},$z,t.duration);return $({getAutoHeightDuration:Fz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Ie(s,Mz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:Zw(o)} ${a} ${typeof u=="string"?u:Zw(u)}`).join(",")}},t,{easing:e,duration:n})}const zz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Bz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Nx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ie(t,Bz);if(t.vars&&t.generateCssVars===void 0)throw new Error(Po(18));const a=kz(r),u=Mc(t);let c=yr(u,{mixins:oz(u.breakpoints,n),palette:a,shadows:Lz.slice(),typography:Az(a,s),transitions:Vz(i),zIndex:$({},zz)});return c=yr(c,o),c=e.reduce((f,h)=>yr(f,h),c),c.unstable_sxConfig=$({},Lc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return pl({sx:h,theme:this})},c}const Lx=Nx(),Ja="$$material";function oP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qr=t=>oP(t)&&t!=="classes",Pe=qV({themeId:Ja,defaultTheme:Lx,rootShouldForwardProp:qr});function mt(t){return PV(t)}const Uz=$V({createStyledComponent:Pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${We(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>mt({props:t,name:"MuiContainer"})});function Wz(t){return pt("MuiTypography",t)}ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Hz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${We(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return xt(a,Wz,o)},Kz=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${We(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),eS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Gz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Qz=t=>Gz[t]||t,wt=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTypography"}),i=Qz(r.color),s=jp($({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=eS}=s,T=Ie(s,Hz),w=$({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:E}),I=u||(h?"p":E[m]||eS[m])||"span",C=qz(w);return l.jsx(Kz,$({as:I,ref:n,ownerState:w,className:$e(C.root,a)},T))});function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rv(t,e)}function aP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,rv(t,e)}const tS={disabled:!1},rh=pe.createContext(null);var Yz=function(e){return e.scrollTop},nu="unmounted",io="exited",so="entering",ra="entered",iv="exiting",Ci=function(t){aP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=io,s.appearStatus=so):u=ra:r.unmountOnExit||r.mountOnEnter?u=nu:u=io,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===nu?{status:io}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==so&&o!==ra&&(s=so):(o===so||o===ra)&&(s=iv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===so){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this);o&&Yz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===io&&this.setState({status:nu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[md.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||tS.disabled){this.safeSetState({status:ra},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:so},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:ra},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:md.findDOMNode(this);if(!s||tS.disabled){this.safeSetState({status:io},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:iv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:io},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(rh.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},e}(pe.Component);Ci.contextType=rh;Ci.propTypes={};function Jo(){}Ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jo,onEntering:Jo,onEntered:Jo,onExit:Jo,onExiting:Jo,onExited:Jo};Ci.UNMOUNTED=nu;Ci.EXITED=io;Ci.ENTERING=so;Ci.ENTERED=ra;Ci.EXITING=iv;function Xz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mx(t,e){var n=function(s){return e&&_.isValidElement(s)?e(s):s},r=Object.create(null);return t&&_.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Jz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Zz(t,e){return Mx(t.children,function(n){return _.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fo(n,"appear",t),enter:fo(n,"enter",t),exit:fo(n,"exit",t)})})}function e8(t,e,n){var r=Mx(t.children),i=Jz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=_.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}):!u&&a&&!f?i[s]=_.cloneElement(o,{in:!1}):u&&a&&_.isValidElement(c)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}))}}),i}var t8=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},n8={component:"div",childFactory:function(e){return e}},Dx=function(t){aP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Xz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Zz(i,a):e8(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Mx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ie(i,["component","childFactory"]),u=this.state.contextValue,c=t8(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pe.createElement(rh.Provider,{value:u},c):pe.createElement(rh.Provider,{value:u},pe.createElement(s,a,c))},e}(pe.Component);Dx.propTypes={};Dx.defaultProps=n8;function r8(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=_.useState(!1),m=$e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},T=$e(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),_.useEffect(()=>{if(!a&&u!=null){const w=setTimeout(u,c);return()=>{clearTimeout(w)}}},[u,a,c]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:T})})}const Ar=ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),i8=["center","classes","className"];let Hp=t=>t,nS,rS,iS,sS;const sv=550,s8=80,o8=Ep(nS||(nS=Hp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),a8=Ep(rS||(rS=Hp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),l8=Ep(iS||(iS=Hp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),u8=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),c8=Pe(r8,{name:"MuiTouchRipple",slot:"Ripple"})(sS||(sS=Hp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ar.rippleVisible,o8,sv,({theme:t})=>t.transitions.easing.easeInOut,Ar.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ar.child,Ar.childLeaving,a8,sv,({theme:t})=>t.transitions.easing.easeInOut,Ar.childPulsate,l8,({theme:t})=>t.transitions.easing.easeInOut),d8=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ie(r,i8),[u,c]=_.useState([]),f=_.useRef(0),h=_.useRef(null);_.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=_.useRef(!1),E=VR(),T=_.useRef(null),w=_.useRef(null),I=_.useCallback(k=>{const{pulsate:L,rippleX:N,rippleY:S,rippleSize:p,cb:g}=k;c(x=>[...x,l.jsx(c8,{classes:{ripple:$e(s.ripple,Ar.ripple),rippleVisible:$e(s.rippleVisible,Ar.rippleVisible),ripplePulsate:$e(s.ripplePulsate,Ar.ripplePulsate),child:$e(s.child,Ar.child),childLeaving:$e(s.childLeaving,Ar.childLeaving),childPulsate:$e(s.childPulsate,Ar.childPulsate)},timeout:sv,pulsate:L,rippleX:N,rippleY:S,rippleSize:p},f.current)]),f.current+=1,h.current=g},[s]),C=_.useCallback((k={},L={},N=()=>{})=>{const{pulsate:S=!1,center:p=i||L.pulsate,fakeElement:g=!1}=L;if((k==null?void 0:k.type)==="mousedown"&&m.current){m.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(m.current=!0);const x=g?null:w.current,j=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,P,z;if(p||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)A=Math.round(j.width/2),P=Math.round(j.height/2);else{const{clientX:F,clientY:B}=k.touches&&k.touches.length>0?k.touches[0]:k;A=Math.round(F-j.left),P=Math.round(B-j.top)}if(p)z=Math.sqrt((2*j.width**2+j.height**2)/3),z%2===0&&(z+=1);else{const F=Math.max(Math.abs((x?x.clientWidth:0)-A),A)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-P),P)*2+2;z=Math.sqrt(F**2+B**2)}k!=null&&k.touches?T.current===null&&(T.current=()=>{I({pulsate:S,rippleX:A,rippleY:P,rippleSize:z,cb:N})},E.start(s8,()=>{T.current&&(T.current(),T.current=null)})):I({pulsate:S,rippleX:A,rippleY:P,rippleSize:z,cb:N})},[i,I,E]),y=_.useCallback(()=>{C({},{pulsate:!0})},[C]),b=_.useCallback((k,L)=>{if(E.clear(),(k==null?void 0:k.type)==="touchend"&&T.current){T.current(),T.current=null,E.start(0,()=>{b(k,L)});return}T.current=null,c(N=>N.length>0?N.slice(1):N),h.current=L},[E]);return _.useImperativeHandle(n,()=>({pulsate:y,start:C,stop:b}),[y,C,b]),l.jsx(u8,$({className:$e(Ar.root,s.root,o),ref:w},a,{children:l.jsx(Dx,{component:null,exit:!0,children:u})}))});function f8(t){return pt("MuiButtonBase",t)}const h8=ct("MuiButtonBase",["root","disabled","focusVisible"]),p8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],m8=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=xt({root:["root",e&&"disabled",n&&"focusVisible"]},f8,i);return n&&r&&(o.root+=` ${r}`),o},g8=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${h8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$x=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:T,onClick:w,onContextMenu:I,onDragLeave:C,onFocus:y,onFocusVisible:b,onKeyDown:k,onKeyUp:L,onMouseDown:N,onMouseLeave:S,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:j,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:z,type:F}=r,B=Ie(r,p8),U=_.useRef(null),M=_.useRef(null),V=jn(M,z),{isFocusVisibleRef:H,onFocus:K,onBlur:Q,ref:Y}=zR(),[se,ce]=_.useState(!1);c&&se&&ce(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),U.current.focus()}}),[]);const[ye,q]=_.useState(!1);_.useEffect(()=>{q(!0)},[]);const ne=ye&&!f&&!c;_.useEffect(()=>{se&&m&&!f&&ye&&M.current.pulsate()},[f,m,se,ye]);function W(Te,bt,Rt=h){return co(Xe=>(bt&&bt(Xe),!Rt&&M.current&&M.current[Te](Xe),!0))}const le=W("start",N),ee=W("stop",I),re=W("stop",C),he=W("stop",p),me=W("stop",Te=>{se&&Te.preventDefault(),S&&S(Te)}),ve=W("start",j),_e=W("stop",g),Ye=W("stop",x),we=W("stop",Te=>{Q(Te),H.current===!1&&ce(!1),T&&T(Te)},!1),Ve=co(Te=>{U.current||(U.current=Te.currentTarget),K(Te),H.current===!0&&(ce(!0),b&&b(Te)),y&&y(Te)}),Ae=()=>{const Te=U.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},Qe=_.useRef(!1),it=co(Te=>{m&&!Qe.current&&se&&M.current&&Te.key===" "&&(Qe.current=!0,M.current.stop(Te,()=>{M.current.start(Te)})),Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&Te.preventDefault(),k&&k(Te),Te.target===Te.currentTarget&&Ae()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),w&&w(Te))}),lt=co(Te=>{m&&Te.key===" "&&M.current&&se&&!Te.defaultPrevented&&(Qe.current=!1,M.current.stop(Te,()=>{M.current.pulsate(Te)})),L&&L(Te),w&&Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&!Te.defaultPrevented&&w(Te)});let Le=u;Le==="button"&&(B.href||B.to)&&(Le=E);const gt={};Le==="button"?(gt.type=F===void 0?"button":F,gt.disabled=c):(!B.href&&!B.to&&(gt.role="button"),c&&(gt["aria-disabled"]=c));const ke=jn(n,Y,U),Ue=$({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:A,focusVisible:se}),Me=m8(Ue);return l.jsxs(g8,$({as:Le,className:$e(Me.root,a),ownerState:Ue,onBlur:we,onClick:w,onContextMenu:ee,onFocus:Ve,onKeyDown:it,onKeyUp:lt,onMouseDown:le,onMouseLeave:me,onMouseUp:he,onDragLeave:re,onTouchEnd:_e,onTouchMove:Ye,onTouchStart:ve,ref:ke,tabIndex:c?-1:A,type:F},gt,B,{children:[o,ne?l.jsx(d8,$({ref:V,center:s},P)):null]}))});function y8(t){return pt("MuiButton",t)}const Td=ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),v8=_.createContext({}),x8=_.createContext(void 0),b8=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],_8=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${We(e)}`,`size${We(i)}`,`${s}Size${We(i)}`,`color${We(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${We(i)}`],endIcon:["icon","endIcon",`iconSize${We(i)}`]},u=xt(a,y8,o);return $({},o,u)},lP=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),w8=Pe($x,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${We(n.color)}`],e[`size${We(n.size)}`],e[`${n.variant}Size${We(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Td.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Td.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${rr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Td.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Td.disabled}`]:{boxShadow:"none"}}),S8=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${We(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},lP(t))),E8=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${We(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},lP(t))),go=_.forwardRef(function(e,n){const r=_.useContext(v8),i=_.useContext(x8),s=Zu(r,e),o=mt({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:T,focusVisibleClassName:w,fullWidth:I=!1,size:C="medium",startIcon:y,type:b,variant:k="text"}=o,L=Ie(o,b8),N=$({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:I,size:C,type:b,variant:k}),S=_8(N),p=y&&l.jsx(S8,{className:S.startIcon,ownerState:N,children:y}),g=T&&l.jsx(E8,{className:S.endIcon,ownerState:N,children:T}),x=i||"";return l.jsxs(w8,$({ownerState:N,className:$e(r.className,S.root,f,x),component:c,disabled:h,focusRipple:!E,focusVisibleClassName:$e(S.focusVisible,w),ref:n,type:b},L,{classes:S,children:[p,a,g]}))}),oS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Fx(){const t=Ap(Lx);return t[Ja]||t}function T8(t){return pt("MuiPaper",t)}ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const C8=["className","component","elevation","square","variant"],I8=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return xt(s,T8,i)},k8=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${rr("#fff",oS(e.elevation))}, ${rr("#fff",oS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),qp=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Ie(r,C8),f=$({},r,{component:s,elevation:o,square:a,variant:u}),h=I8(f);return l.jsx(k8,$({as:s,ownerState:f,className:$e(h.root,i),ref:n},c))}),R8=["theme"];function P8(t){let{theme:e}=t,n=Ie(t,R8);const r=e[Ja];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(jV,$({},n,{themeId:r?Ja:void 0,theme:i}))}const A8=ct("MuiBox",["root"]),j8=Nx(),En=BF({themeId:Ja,defaultTheme:j8,defaultClassName:A8.root,generateClassName:LR.generate}),O8=["onChange","maxRows","minRows","style","value"];function Cd(t){return parseInt(t,10)||0}const N8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function L8(t){for(const e in t)return!1;return!0}function aS(t){return L8(t)||t.outerHeightStyle===0&&!t.overflowing}const M8=_.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Ie(e,O8),{current:c}=_.useRef(a!=null),f=_.useRef(null),h=jn(n,f),m=_.useRef(null),E=_.useRef(null),T=_.useCallback(()=>{const b=f.current,k=E.current;if(!b||!k)return;const N=Ao(b).getComputedStyle(b);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=N.width,k.value=b.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const S=N.boxSizing,p=Cd(N.paddingBottom)+Cd(N.paddingTop),g=Cd(N.borderBottomWidth)+Cd(N.borderTopWidth),x=k.scrollHeight;k.value="x";const j=k.scrollHeight;let A=x;s&&(A=Math.max(Number(s)*j,A)),i&&(A=Math.min(Number(i)*j,A)),A=Math.max(A,j);const P=A+(S==="border-box"?p+g:0),z=Math.abs(A-x)<=1;return{outerHeightStyle:P,overflowing:z}},[i,s,e.placeholder]),w=co(()=>{const b=f.current,k=T();if(!b||!k||aS(k))return!1;const L=k.outerHeightStyle;return m.current!=null&&m.current!==L}),I=_.useCallback(()=>{const b=f.current,k=T();if(!b||!k||aS(k))return;const L=k.outerHeightStyle;m.current!==L&&(m.current=L,b.style.height=`${L}px`),b.style.overflow=k.overflowing?"hidden":""},[T]),C=_.useRef(-1);ns(()=>{const b=FR(I),k=f==null?void 0:f.current;if(!k)return;const L=Ao(k);L.addEventListener("resize",b);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{w()&&(N.unobserve(k),cancelAnimationFrame(C.current),I(),C.current=requestAnimationFrame(()=>{N.observe(k)}))}),N.observe(k)),()=>{b.clear(),cancelAnimationFrame(C.current),L.removeEventListener("resize",b),N&&N.disconnect()}},[T,I,w]),ns(()=>{I()});const y=b=>{c||I(),r&&r(b)};return l.jsxs(_.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:y,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:$({},N8.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function yl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Vx=_.createContext(void 0);function vl(){return _.useContext(Vx)}function uP(t){return l.jsx(NR,$({},t,{defaultTheme:Lx,themeId:Ja}))}function lS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ih(t,e=!1){return t&&(lS(t.value)&&t.value!==""||e&&lS(t.defaultValue)&&t.defaultValue!=="")}function D8(t){return t.startAdornment}function $8(t){return pt("MuiInputBase",t)}const Za=ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),F8=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Kp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${We(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Gp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},V8=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:E,type:T}=t,w={root:["root",`color${We(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${We(m)}`,f&&"multiline",E&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",T==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",E&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return xt(w,$8,e)},Qp=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Za.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Yp=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Za.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Za.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),z8=l.jsx(uP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zx=_.forwardRef(function(e,n){var r;const i=mt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:T,fullWidth:w=!1,id:I,inputComponent:C="input",inputProps:y={},inputRef:b,maxRows:k,minRows:L,multiline:N=!1,name:S,onBlur:p,onChange:g,onClick:x,onFocus:j,onKeyDown:A,onKeyUp:P,placeholder:z,readOnly:F,renderSuffix:B,rows:U,slotProps:M={},slots:V={},startAdornment:H,type:K="text",value:Q}=i,Y=Ie(i,F8),se=y.value!=null?y.value:Q,{current:ce}=_.useRef(se!=null),ye=_.useRef(),q=_.useCallback(Me=>{},[]),ne=jn(ye,b,y.ref,q),[W,le]=_.useState(!1),ee=vl(),re=yl({props:i,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ee?ee.focused:W,_.useEffect(()=>{!ee&&m&&W&&(le(!1),p&&p())},[ee,m,W,p]);const he=ee&&ee.onFilled,me=ee&&ee.onEmpty,ve=_.useCallback(Me=>{ih(Me)?he&&he():me&&me()},[he,me]);ns(()=>{ce&&ve({value:se})},[se,ve,ce]);const _e=Me=>{if(re.disabled){Me.stopPropagation();return}j&&j(Me),y.onFocus&&y.onFocus(Me),ee&&ee.onFocus?ee.onFocus(Me):le(!0)},Ye=Me=>{p&&p(Me),y.onBlur&&y.onBlur(Me),ee&&ee.onBlur?ee.onBlur(Me):le(!1)},we=(Me,...Te)=>{if(!ce){const bt=Me.target||ye.current;if(bt==null)throw new Error(Po(1));ve({value:bt.value})}y.onChange&&y.onChange(Me,...Te),g&&g(Me,...Te)};_.useEffect(()=>{ve(ye.current)},[]);const Ve=Me=>{ye.current&&Me.currentTarget===Me.target&&ye.current.focus(),x&&x(Me)};let Ae=C,Qe=y;N&&Ae==="input"&&(U?Qe=$({type:void 0,minRows:U,maxRows:U},Qe):Qe=$({type:void 0,maxRows:k,minRows:L},Qe),Ae=M8);const it=Me=>{ve(Me.animationName==="mui-auto-fill-cancel"?ye.current:{value:"x"})};_.useEffect(()=>{ee&&ee.setAdornedStart(!!H)},[ee,H]);const lt=$({},i,{color:re.color||"primary",disabled:re.disabled,endAdornment:T,error:re.error,focused:re.focused,formControl:ee,fullWidth:w,hiddenLabel:re.hiddenLabel,multiline:N,size:re.size,startAdornment:H,type:K}),Le=V8(lt),gt=V.root||c.Root||Qp,ke=M.root||f.root||{},Ue=V.input||c.Input||Yp;return Qe=$({},Qe,(r=M.input)!=null?r:f.input),l.jsxs(_.Fragment,{children:[!E&&z8,l.jsxs(gt,$({},ke,!eh(gt)&&{ownerState:$({},lt,ke.ownerState)},{ref:n,onClick:Ve},Y,{className:$e(Le.root,ke.className,u,F&&"MuiInputBase-readOnly"),children:[H,l.jsx(Vx.Provider,{value:null,children:l.jsx(Ue,$({ownerState:lt,"aria-invalid":re.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:re.disabled,id:I,onAnimationStart:it,name:S,placeholder:z,readOnly:F,required:re.required,rows:U,value:se,onKeyDown:A,onKeyUp:P,type:K},Qe,!eh(Ue)&&{as:Ae,ownerState:$({},lt,Qe.ownerState)},{ref:ne,className:$e(Le.input,Qe.className,F&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:we,onFocus:_e}))}),T,B?B($({},re,{startAdornment:H})):null]}))]})});function B8(t){return pt("MuiInput",t)}const Fl=$({},Za,ct("MuiInput",["root","underline","input"])),U8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],W8=t=>{const{classes:e,disableUnderline:n}=t,i=xt({root:["root",!n&&"underline"],input:["input"]},B8,e);return $({},e,i)},H8=Pe(Qp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fl.disabled}, .${Fl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Fl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),q8=Pe(Yp,{name:"MuiInput",slot:"Input",overridesResolver:Gp})({}),Bx=_.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:T,slots:w={},type:I="text"}=a,C=Ie(a,U8),y=W8(a),k={root:{ownerState:{disableUnderline:u}}},L=T??f?yr(T??f,k):k,N=(r=(i=w.root)!=null?i:c.Root)!=null?r:H8,S=(s=(o=w.input)!=null?o:c.Input)!=null?s:q8;return l.jsx(zx,$({slots:{root:N,input:S},slotProps:L,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:I},C,{classes:y}))});Bx.muiName="Input";function K8(t){return pt("MuiFilledInput",t)}const Zs=$({},Za,ct("MuiFilledInput",["root","underline","input"])),G8=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Q8=t=>{const{classes:e,disableUnderline:n}=t,i=xt({root:["root",!n&&"underline"],input:["input"]},K8,e);return $({},e,i)},Y8=Pe(Qp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Kp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Zs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Zs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Zs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Zs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Zs.disabled}, .${Zs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Zs.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),X8=Pe(Yp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ux=_.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:T={},type:w="text"}=a,I=Ie(a,G8),C=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:w}),y=Q8(a),b={root:{ownerState:C},input:{ownerState:C}},k=E??c?yr(b,E??c):b,L=(r=(i=T.root)!=null?i:u.Root)!=null?r:Y8,N=(s=(o=T.input)!=null?o:u.Input)!=null?s:X8;return l.jsx(zx,$({slots:{root:L,input:N},componentsProps:k,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:w},I,{classes:y}))});Ux.muiName="Input";var uS;const J8=["children","classes","className","label","notched"],Z8=Pe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),eB=Pe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qr})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function tB(t){const{className:e,label:n,notched:r}=t,i=Ie(t,J8),s=n!=null&&n!=="",o=$({},t,{notched:r,withLabel:s});return l.jsx(Z8,$({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(eB,{ownerState:o,children:s?l.jsx("span",{children:n}):uS||(uS=l.jsx("span",{className:"notranslate",children:""}))})}))}function nB(t){return pt("MuiOutlinedInput",t)}const hs=$({},Za,ct("MuiOutlinedInput",["root","notchedOutline","input"])),rB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],iB=t=>{const{classes:e}=t,r=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},nB,e);return $({},e,r)},sB=Pe(Qp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Kp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${hs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${hs.focused} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${hs.error} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${hs.disabled} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),oB=Pe(tB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),aB=Pe(Yp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gp})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Wx=_.forwardRef(function(e,n){var r,i,s,o,a;const u=mt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:T,slots:w={},type:I="text"}=u,C=Ie(u,rB),y=iB(u),b=vl(),k=yl({props:u,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=$({},u,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:b,fullWidth:f,hiddenLabel:k.hiddenLabel,multiline:E,size:k.size,type:I}),N=(r=(i=w.root)!=null?i:c.Root)!=null?r:sB,S=(s=(o=w.input)!=null?o:c.Input)!=null?s:aB;return l.jsx(zx,$({slots:{root:N,input:S},renderSuffix:p=>l.jsx(oB,{ownerState:L,className:y.notchedOutline,label:m!=null&&m!==""&&k.required?a||(a=l.jsxs(_.Fragment,{children:[m,"","*"]})):m,notched:typeof T<"u"?T:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:I},C,{classes:$({},y,{notchedOutline:null})}))});Wx.muiName="Input";function lB(t){return pt("MuiFormLabel",t)}const xu=ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uB=["children","className","color","component","disabled","error","filled","focused","required"],cB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${We(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return xt(u,lB,e)},dB=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${xu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${xu.error}`]:{color:(t.vars||t).palette.error.main}})),fB=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xu.error}`]:{color:(t.vars||t).palette.error.main}})),hB=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ie(r,uB),u=vl(),c=yl({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=cB(f);return l.jsxs(dB,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(fB,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))});function pB(t){return pt("MuiInputLabel",t)}ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const mB=["disableAnimation","margin","shrink","variant","className"],gB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${We(r)}`,o],asterisk:[a&&"asterisk"]},c=xt(u,pB,e);return $({},e,c)},yB=Pe(hB,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),vB=_.forwardRef(function(e,n){const r=mt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ie(r,mB),u=vl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=yl({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=gB(h);return l.jsx(yB,$({"data-shrink":c,ownerState:h,ref:n,className:$e(m.root,o)},a,{classes:m}))});function xB(t){return pt("MuiFormControl",t)}ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],_B=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${We(n)}`,r&&"fullWidth"]};return xt(i,xB,e)},wB=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${We(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),cP=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:T=!1,size:w="medium",variant:I="outlined"}=r,C=Ie(r,bB),y=$({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:E,required:T,size:w,variant:I}),b=_B(y),[k,L]=_.useState(()=>{let P=!1;return i&&_.Children.forEach(i,z=>{if(!rg(z,["Input","Select"]))return;const F=rg(z,["Select"])?z.props.input:z;F&&D8(F.props)&&(P=!0)}),P}),[N,S]=_.useState(()=>{let P=!1;return i&&_.Children.forEach(i,z=>{rg(z,["Input","Select"])&&(ih(z.props,!0)||ih(z.props.inputProps,!0))&&(P=!0)}),P}),[p,g]=_.useState(!1);u&&p&&g(!1);const x=f!==void 0&&!u?f:p;let j;const A=_.useMemo(()=>({adornedStart:k,setAdornedStart:L,color:o,disabled:u,error:c,filled:N,focused:x,fullWidth:h,hiddenLabel:m,size:w,onBlur:()=>{g(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{g(!0)},registerEffect:j,required:T,variant:I}),[k,o,u,c,N,x,h,m,j,T,w,I]);return l.jsx(Vx.Provider,{value:A,children:l.jsx(wB,$({as:a,ownerState:y,className:$e(b.root,s),ref:n},C,{children:i}))})});function SB(t){return pt("MuiFormHelperText",t)}const cS=ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var dS;const EB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],TB=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${We(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return xt(c,SB,e)},CB=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${We(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${cS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${cS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),IB=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ie(r,EB),u=vl(),c=yl({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=TB(f);return l.jsx(CB,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:i===" "?dS||(dS=l.jsx("span",{className:"notranslate",children:""})):i}))}),ov=_.createContext({});function kB(t){return pt("MuiList",t)}ct("MuiList",["root","padding","dense","subheader"]);const RB=["children","className","component","dense","disablePadding","subheader"],PB=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return xt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kB,e)},AB=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),jB=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Ie(r,RB),h=_.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:o,dense:a,disablePadding:u}),E=PB(m);return l.jsx(ov.Provider,{value:h,children:l.jsxs(AB,$({as:o,className:$e(E.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),OB=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ag(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function fS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function dP(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Vl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!dP(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const NB=_.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ie(e,OB),E=_.useRef(null),T=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ns(()=>{i&&E.current.focus()},[i]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:k})=>{const L=!E.current.style.width;if(b.clientHeight<E.current.clientHeight&&L){const N=`${BR(vr(b))}px`;E.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const w=b=>{const k=E.current,L=b.key,N=vr(k).activeElement;if(L==="ArrowDown")b.preventDefault(),Vl(k,N,c,u,ag);else if(L==="ArrowUp")b.preventDefault(),Vl(k,N,c,u,fS);else if(L==="Home")b.preventDefault(),Vl(k,null,c,u,ag);else if(L==="End")b.preventDefault(),Vl(k,null,c,u,fS);else if(L.length===1){const S=T.current,p=L.toLowerCase(),g=performance.now();S.keys.length>0&&(g-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&p!==S.keys[0]&&(S.repeating=!1)),S.lastTime=g,S.keys.push(p);const x=N&&!S.repeating&&dP(N,S);S.previousKeyMatched&&(x||Vl(k,N,!1,u,ag,S))?b.preventDefault():S.previousKeyMatched=!1}f&&f(b)},I=jn(E,n);let C=-1;_.Children.forEach(o,(b,k)=>{if(!_.isValidElement(b)){C===k&&(C+=1,C>=o.length&&(C=-1));return}b.props.disabled||(h==="selectedMenu"&&b.props.selected||C===-1)&&(C=k),C===k&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const y=_.Children.map(o,(b,k)=>{if(k===C){const L={};return s&&(L.autoFocus=!0),b.props.tabIndex===void 0&&h==="selectedMenu"&&(L.tabIndex=0),_.cloneElement(b,L)}return b});return l.jsx(jB,$({role:"menu",ref:I,className:a,onKeyDown:w,tabIndex:i?0:-1},m,{children:y}))}),fP=t=>t.scrollTop;function sh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const LB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function av(t){return`scale(${t}, ${t**2})`}const MB={entering:{opacity:1,transform:av(1)},entered:{opacity:1,transform:"none"}},lg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),hP=_.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:E,style:T,timeout:w="auto",TransitionComponent:I=Ci}=e,C=Ie(e,LB),y=VR(),b=_.useRef(),k=Fx(),L=_.useRef(null),N=jn(L,Dc(s),n),S=F=>B=>{if(F){const U=L.current;B===void 0?F(U):F(U,B)}},p=S(f),g=S((F,B)=>{fP(F);const{duration:U,delay:M,easing:V}=sh({style:T,timeout:w,easing:o},{mode:"enter"});let H;w==="auto"?(H=k.transitions.getAutoHeightDuration(F.clientHeight),b.current=H):H=U,F.style.transition=[k.transitions.create("opacity",{duration:H,delay:M}),k.transitions.create("transform",{duration:lg?H:H*.666,delay:M,easing:V})].join(","),u&&u(F,B)}),x=S(c),j=S(E),A=S(F=>{const{duration:B,delay:U,easing:M}=sh({style:T,timeout:w,easing:o},{mode:"exit"});let V;w==="auto"?(V=k.transitions.getAutoHeightDuration(F.clientHeight),b.current=V):V=B,F.style.transition=[k.transitions.create("opacity",{duration:V,delay:U}),k.transitions.create("transform",{duration:lg?V:V*.666,delay:lg?U:U||V*.333,easing:M})].join(","),F.style.opacity=0,F.style.transform=av(.75),h&&h(F)}),P=S(m),z=F=>{w==="auto"&&y.start(b.current||0,F),r&&r(L.current,F)};return l.jsx(I,$({appear:i,in:a,nodeRef:L,onEnter:g,onEntered:x,onEntering:p,onExit:A,onExited:P,onExiting:j,addEndListener:z,timeout:w==="auto"?null:w},C,{children:(F,B)=>_.cloneElement(s,$({style:$({opacity:0,transform:av(.75),visibility:F==="exited"&&!a?"hidden":void 0},MB[F],T,s.props.style),ref:N},B))}))});hP.muiSupportAuto=!0;function DB(t){const e=vr(t);return e.body===t?Ao(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function bu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hS(t){return parseInt(Ao(t).getComputedStyle(t).paddingRight,10)||0}function $B(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function pS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!$B(o);a&&u&&bu(o,i)})}function ug(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function FB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(DB(r)){const o=BR(vr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hS(r)+o}px`;const a=vr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${hS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=vr(r).body;else{const o=r.parentElement,a=Ao(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function VB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class zB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&bu(e.modalRef,!1);const i=VB(n);pS(n,e.mount,e.modalRef,i,!0);const s=ug(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ug(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=FB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ug(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&bu(e.modalRef,n),pS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&bu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const BB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function UB(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function WB(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function HB(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||WB(t))}function qB(t){const e=[],n=[];return Array.from(t.querySelectorAll(BB)).forEach((r,i)=>{const s=UB(r);s===-1||!HB(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function KB(){return!0}function GB(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=qB,isEnabled:o=KB,open:a}=t,u=_.useRef(!1),c=_.useRef(null),f=_.useRef(null),h=_.useRef(null),m=_.useRef(null),E=_.useRef(!1),T=_.useRef(null),w=jn(Dc(e),T),I=_.useRef(null);_.useEffect(()=>{!a||!T.current||(E.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!T.current)return;const b=vr(T.current);return T.current.contains(b.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),E.current&&T.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),_.useEffect(()=>{if(!a||!T.current)return;const b=vr(T.current),k=S=>{I.current=S,!(r||!o()||S.key!=="Tab")&&b.activeElement===T.current&&S.shiftKey&&(u.current=!0,f.current&&f.current.focus())},L=()=>{const S=T.current;if(S===null)return;if(!b.hasFocus()||!o()||u.current){u.current=!1;return}if(S.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==f.current)return;if(b.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((b.activeElement===c.current||b.activeElement===f.current)&&(p=s(T.current)),p.length>0){var g,x;const j=!!((g=I.current)!=null&&g.shiftKey&&((x=I.current)==null?void 0:x.key)==="Tab"),A=p[0],P=p[p.length-1];typeof A!="string"&&typeof P!="string"&&(j?P.focus():A.focus())}else S.focus()};b.addEventListener("focusin",L),b.addEventListener("keydown",k,!0);const N=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(N),b.removeEventListener("focusin",L),b.removeEventListener("keydown",k,!0)}},[n,r,i,o,a,s]);const C=b=>{h.current===null&&(h.current=b.relatedTarget),E.current=!0,m.current=b.target;const k=e.props.onFocus;k&&k(b)},y=b=>{h.current===null&&(h.current=b.relatedTarget),E.current=!0};return l.jsxs(_.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:w,onFocus:C}),l.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:f,"data-testid":"sentinelEnd"})]})}function QB(t){return typeof t=="function"?t():t}const YB=_.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=_.useState(null),u=jn(_.isValidElement(r)?Dc(r):null,n);if(ns(()=>{s||a(QB(i)||document.body)},[i,s]),ns(()=>{if(o&&!s)return Jy(n,o),()=>{Jy(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const c={ref:u};return _.cloneElement(r,c)}return l.jsx(_.Fragment,{children:r})}return l.jsx(_.Fragment,{children:o&&h0.createPortal(r,o)})}),XB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],JB={entering:{opacity:1},entered:{opacity:1}},ZB=_.forwardRef(function(e,n){const r=Fx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:T,onExiting:w,style:I,timeout:C=i,TransitionComponent:y=Ci}=e,b=Ie(e,XB),k=_.useRef(null),L=jn(k,Dc(a),n),N=z=>F=>{if(z){const B=k.current;F===void 0?z(B):z(B,F)}},S=N(m),p=N((z,F)=>{fP(z);const B=sh({style:I,timeout:C,easing:u},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",B),z.style.transition=r.transitions.create("opacity",B),f&&f(z,F)}),g=N(h),x=N(w),j=N(z=>{const F=sh({style:I,timeout:C,easing:u},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",F),z.style.transition=r.transitions.create("opacity",F),E&&E(z)}),A=N(T),P=z=>{s&&s(k.current,z)};return l.jsx(y,$({appear:o,in:c,nodeRef:k,onEnter:p,onEntered:g,onEntering:S,onExit:j,onExited:A,onExiting:x,addEndListener:P,timeout:C},b,{children:(z,F)=>_.cloneElement(a,$({style:$({opacity:0,visibility:z==="exited"&&!c?"hidden":void 0},JB[z],I,a.props.style),ref:L},F))}))});function e9(t){return pt("MuiBackdrop",t)}ct("MuiBackdrop",["root","invisible"]);const t9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],n9=t=>{const{classes:e,invisible:n}=t;return xt({root:["root",n&&"invisible"]},e9,e)},r9=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),i9=_.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:T={},slots:w={},TransitionComponent:I=ZB,transitionDuration:C}=o,y=Ie(o,t9),b=$({},o,{component:c,invisible:m}),k=n9(b),L=(r=T.root)!=null?r:h.root;return l.jsx(I,$({in:E,timeout:C},y,{children:l.jsx(r9,$({"aria-hidden":!0},L,{as:(i=(s=w.root)!=null?s:f.Root)!=null?i:c,className:$e(k.root,u,L==null?void 0:L.className),ownerState:$({},b,L==null?void 0:L.ownerState),classes:k,ref:n,children:a}))}))});function s9(t){return typeof t=="function"?t():t}function o9(t){return t?t.props.hasOwnProperty("in"):!1}const a9=new zB;function l9(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=a9,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=_.useRef({}),E=_.useRef(null),T=_.useRef(null),w=jn(T,h),[I,C]=_.useState(!f),y=o9(u);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const k=()=>vr(E.current),L=()=>(m.current.modalRef=T.current,m.current.mount=E.current,m.current),N=()=>{i.mount(L(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},S=co(()=>{const B=s9(e)||k().body;i.add(L(),B),T.current&&N()}),p=_.useCallback(()=>i.isTopModal(L()),[i]),g=co(B=>{E.current=B,B&&(f&&p()?N():T.current&&bu(T.current,b))}),x=_.useCallback(()=>{i.remove(L(),b)},[b,i]);_.useEffect(()=>()=>{x()},[x]),_.useEffect(()=>{f?S():(!y||!s)&&x()},[f,x,y,s,S]);const j=B=>U=>{var M;(M=B.onKeyDown)==null||M.call(B,U),!(U.key!=="Escape"||U.which===229||!p())&&(n||(U.stopPropagation(),c&&c(U,"escapeKeyDown")))},A=B=>U=>{var M;(M=B.onClick)==null||M.call(B,U),U.target===U.currentTarget&&c&&c(U,"backdropClick")};return{getRootProps:(B={})=>{const U=WR(t);delete U.onTransitionEnter,delete U.onTransitionExited;const M=$({},U,B);return $({role:"presentation"},M,{onKeyDown:j(M),ref:w})},getBackdropProps:(B={})=>{const U=B;return $({"aria-hidden":!0},U,{onClick:A(U),open:f})},getTransitionProps:()=>{const B=()=>{C(!1),o&&o()},U=()=>{C(!0),a&&a(),s&&x()};return{onEnter:$w(B,u==null?void 0:u.props.onEnter),onExited:$w(U,u==null?void 0:u.props.onExited)}},rootRef:w,portalRef:g,isTopModal:p,exited:I,hasTransition:y}}function u9(t){return pt("MuiModal",t)}ct("MuiModal",["root","hidden","backdrop"]);const c9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],d9=t=>{const{open:e,exited:n,classes:r}=t;return xt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},u9,r)},f9=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),h9=Pe(i9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),p9=_.forwardRef(function(e,n){var r,i,s,o,a,u;const c=mt({name:"MuiModal",props:e}),{BackdropComponent:f=h9,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:T,container:w,component:I,components:C={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:L=!1,disablePortal:N=!1,disableRestoreFocus:S=!1,disableScrollLock:p=!1,hideBackdrop:g=!1,keepMounted:x=!1,onBackdropClick:j,open:A,slotProps:P,slots:z}=c,F=Ie(c,c9),B=$({},c,{closeAfterTransition:E,disableAutoFocus:b,disableEnforceFocus:k,disableEscapeKeyDown:L,disablePortal:N,disableRestoreFocus:S,disableScrollLock:p,hideBackdrop:g,keepMounted:x}),{getRootProps:U,getBackdropProps:M,getTransitionProps:V,portalRef:H,isTopModal:K,exited:Q,hasTransition:Y}=l9($({},B,{rootRef:n})),se=$({},B,{exited:Q}),ce=d9(se),ye={};if(T.props.tabIndex===void 0&&(ye.tabIndex="-1"),Y){const{onEnter:he,onExited:me}=V();ye.onEnter=he,ye.onExited=me}const q=(r=(i=z==null?void 0:z.root)!=null?i:C.Root)!=null?r:f9,ne=(s=(o=z==null?void 0:z.backdrop)!=null?o:C.Backdrop)!=null?s:f,W=(a=P==null?void 0:P.root)!=null?a:y.root,le=(u=P==null?void 0:P.backdrop)!=null?u:y.backdrop,ee=Xa({elementType:q,externalSlotProps:W,externalForwardedProps:F,getSlotProps:U,additionalProps:{ref:n,as:I},ownerState:se,className:$e(m,W==null?void 0:W.className,ce==null?void 0:ce.root,!se.open&&se.exited&&(ce==null?void 0:ce.hidden))}),re=Xa({elementType:ne,externalSlotProps:le,additionalProps:h,getSlotProps:he=>M($({},he,{onClick:me=>{j&&j(me),he!=null&&he.onClick&&he.onClick(me)}})),className:$e(le==null?void 0:le.className,h==null?void 0:h.className,ce==null?void 0:ce.backdrop),ownerState:se});return!x&&!A&&(!Y||Q)?null:l.jsx(YB,{ref:H,container:w,disablePortal:N,children:l.jsxs(q,$({},ee,{children:[!g&&f?l.jsx(ne,$({},re)):null,l.jsx(GB,{disableEnforceFocus:k,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:K,open:A,children:_.cloneElement(T,ye)})]}))})});function m9(t){return pt("MuiPopover",t)}ct("MuiPopover",["root","paper"]);const g9=["onEntering"],y9=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],v9=["slotProps"];function mS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function gS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function yS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function cg(t){return typeof t=="function"?t():t}const x9=t=>{const{classes:e}=t;return xt({root:["root"],paper:["paper"]},m9,e)},b9=Pe(p9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),pP=Pe(qp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_9=_.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:T,elevation:w=8,marginThreshold:I=16,open:C,PaperProps:y={},slots:b,slotProps:k,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:N=hP,transitionDuration:S="auto",TransitionProps:{onEntering:p}={},disableScrollLock:g=!1}=o,x=Ie(o.TransitionProps,g9),j=Ie(o,y9),A=(r=k==null?void 0:k.paper)!=null?r:y,P=_.useRef(),z=jn(P,A.ref),F=$({},o,{anchorOrigin:c,anchorReference:h,elevation:w,marginThreshold:I,externalPaperSlotProps:A,transformOrigin:L,TransitionComponent:N,transitionDuration:S,TransitionProps:x}),B=x9(F),U=_.useCallback(()=>{if(h==="anchorPosition")return f;const he=cg(u),ve=(he&&he.nodeType===1?he:vr(P.current).body).getBoundingClientRect();return{top:ve.top+mS(ve,c.vertical),left:ve.left+gS(ve,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),M=_.useCallback(he=>({vertical:mS(he,L.vertical),horizontal:gS(he,L.horizontal)}),[L.horizontal,L.vertical]),V=_.useCallback(he=>{const me={width:he.offsetWidth,height:he.offsetHeight},ve=M(me);if(h==="none")return{top:null,left:null,transformOrigin:yS(ve)};const _e=U();let Ye=_e.top-ve.vertical,we=_e.left-ve.horizontal;const Ve=Ye+me.height,Ae=we+me.width,Qe=Ao(cg(u)),it=Qe.innerHeight-I,lt=Qe.innerWidth-I;if(I!==null&&Ye<I){const Le=Ye-I;Ye-=Le,ve.vertical+=Le}else if(I!==null&&Ve>it){const Le=Ve-it;Ye-=Le,ve.vertical+=Le}if(I!==null&&we<I){const Le=we-I;we-=Le,ve.horizontal+=Le}else if(Ae>lt){const Le=Ae-lt;we-=Le,ve.horizontal+=Le}return{top:`${Math.round(Ye)}px`,left:`${Math.round(we)}px`,transformOrigin:yS(ve)}},[u,h,U,M,I]),[H,K]=_.useState(C),Q=_.useCallback(()=>{const he=P.current;if(!he)return;const me=V(he);me.top!==null&&(he.style.top=me.top),me.left!==null&&(he.style.left=me.left),he.style.transformOrigin=me.transformOrigin,K(!0)},[V]);_.useEffect(()=>(g&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[u,g,Q]);const Y=(he,me)=>{p&&p(he,me),Q()},se=()=>{K(!1)};_.useEffect(()=>{C&&Q()}),_.useImperativeHandle(a,()=>C?{updatePosition:()=>{Q()}}:null,[C,Q]),_.useEffect(()=>{if(!C)return;const he=FR(()=>{Q()}),me=Ao(u);return me.addEventListener("resize",he),()=>{he.clear(),me.removeEventListener("resize",he)}},[u,C,Q]);let ce=S;S==="auto"&&!N.muiSupportAuto&&(ce=void 0);const ye=T||(u?vr(cg(u)).body:void 0),q=(i=b==null?void 0:b.root)!=null?i:b9,ne=(s=b==null?void 0:b.paper)!=null?s:pP,W=Xa({elementType:ne,externalSlotProps:$({},A,{style:H?A.style:$({},A.style,{opacity:0})}),additionalProps:{elevation:w,ref:z},ownerState:F,className:$e(B.paper,A==null?void 0:A.className)}),le=Xa({elementType:q,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ye,open:C},ownerState:F,className:$e(B.root,E)}),{slotProps:ee}=le,re=Ie(le,v9);return l.jsx(q,$({},re,!eh(q)&&{slotProps:ee,disableScrollLock:g},{children:l.jsx(N,$({appear:!0,in:C,onEntering:Y,onExited:se,timeout:ce},x,{children:l.jsx(ne,$({},W,{children:m}))}))}))});function w9(t){return pt("MuiMenu",t)}ct("MuiMenu",["root","paper","list"]);const S9=["onEntering"],E9=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],T9={vertical:"top",horizontal:"right"},C9={vertical:"top",horizontal:"left"},I9=t=>{const{classes:e}=t;return xt({root:["root"],paper:["paper"],list:["list"]},w9,e)},k9=Pe(_9,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),R9=Pe(pP,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),P9=Pe(NB,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),A9=_.forwardRef(function(e,n){var r,i;const s=mt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:T,transitionDuration:w="auto",TransitionProps:{onEntering:I}={},variant:C="selectedMenu",slots:y={},slotProps:b={}}=s,k=Ie(s.TransitionProps,S9),L=Ie(s,E9),N=IV(),S=$({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:E,transitionDuration:w,TransitionProps:k,variant:C}),p=I9(S),g=o&&!c&&m,x=_.useRef(null),j=(M,V)=>{x.current&&x.current.adjustStyleForScrollbar(M,{direction:N?"rtl":"ltr"}),I&&I(M,V)},A=M=>{M.key==="Tab"&&(M.preventDefault(),h&&h(M,"tabKeyDown"))};let P=-1;_.Children.map(a,(M,V)=>{_.isValidElement(M)&&(M.props.disabled||(C==="selectedMenu"&&M.props.selected||P===-1)&&(P=V))});const z=(r=y.paper)!=null?r:R9,F=(i=b.paper)!=null?i:E,B=Xa({elementType:y.root,externalSlotProps:b.root,ownerState:S,className:[p.root,u]}),U=Xa({elementType:z,externalSlotProps:F,ownerState:S,className:p.paper});return l.jsx(k9,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?T9:C9,slots:{paper:z,root:y.root},slotProps:{root:B,paper:U},open:m,ref:n,transitionDuration:w,TransitionProps:$({onEntering:j},k),ownerState:S},L,{classes:T,children:l.jsx(P9,$({onKeyDown:A,actions:x,autoFocus:o&&(P===-1||c),autoFocusItem:g,variant:C},f,{className:$e(p.list,f.className),children:a}))}))});function j9(t){return pt("MuiNativeSelect",t)}const Hx=ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),O9=["className","disabled","error","IconComponent","inputRef","variant"],N9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${We(n)}`,s&&"iconOpen",r&&"disabled"]};return xt(a,j9,e)},mP=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Hx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),L9=Pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Hx.multiple}`]:e.multiple}]}})(mP),gP=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Hx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),M9=Pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${We(n.variant)}`],n.open&&e.iconOpen]}})(gP),D9=_.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Ie(e,O9),f=$({},e,{disabled:i,variant:u,error:s}),h=N9(f);return l.jsxs(_.Fragment,{children:[l.jsx(L9,$({ownerState:f,className:$e(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(M9,{as:o,ownerState:f,className:h.icon})]})});function $9(t){return pt("MuiSelect",t)}const zl=ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var vS;const F9=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],V9=Pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${zl.select}`]:e.select},{[`&.${zl.select}`]:e[n.variant]},{[`&.${zl.error}`]:e.error},{[`&.${zl.multiple}`]:e.multiple}]}})(mP,{[`&.${zl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),z9=Pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${We(n.variant)}`],n.open&&e.iconOpen]}})(gP),B9=Pe("input",{shouldForwardProp:t=>oP(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function U9(t){return t==null||typeof t=="string"&&!t.trim()}const W9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${We(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return xt(a,$9,e)},H9=_.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:T=!1,IconComponent:w,inputRef:I,labelId:C,MenuProps:y={},multiple:b,name:k,onBlur:L,onChange:N,onClose:S,onFocus:p,onOpen:g,open:x,readOnly:j,renderValue:A,SelectDisplayProps:P={},tabIndex:z,value:F,variant:B="standard"}=e,U=Ie(e,F9),[M,V]=zw({controlled:F,default:h,name:"Select"}),[H,K]=zw({controlled:x,default:f,name:"Select"}),Q=_.useRef(null),Y=_.useRef(null),[se,ce]=_.useState(null),{current:ye}=_.useRef(x!=null),[q,ne]=_.useState(),W=jn(n,I),le=_.useCallback(Se=>{Y.current=Se,Se&&ce(Se)},[]),ee=se==null?void 0:se.parentNode;_.useImperativeHandle(W,()=>({focus:()=>{Y.current.focus()},node:Q.current,value:M}),[M]),_.useEffect(()=>{f&&H&&se&&!ye&&(ne(a?null:ee.clientWidth),Y.current.focus())},[se,a]),_.useEffect(()=>{o&&Y.current.focus()},[o]),_.useEffect(()=>{if(!C)return;const Se=vr(Y.current).getElementById(C);if(Se){const tt=()=>{getSelection().isCollapsed&&Y.current.focus()};return Se.addEventListener("click",tt),()=>{Se.removeEventListener("click",tt)}}},[C]);const re=(Se,tt)=>{Se?g&&g(tt):S&&S(tt),ye||(ne(a?null:ee.clientWidth),K(Se))},he=Se=>{Se.button===0&&(Se.preventDefault(),Y.current.focus(),re(!0,Se))},me=Se=>{re(!1,Se)},ve=_.Children.toArray(u),_e=Se=>{const tt=ve.find(qe=>qe.props.value===Se.target.value);tt!==void 0&&(V(tt.props.value),N&&N(Se,tt))},Ye=Se=>tt=>{let qe;if(tt.currentTarget.hasAttribute("tabindex")){if(b){qe=Array.isArray(M)?M.slice():[];const Cr=M.indexOf(Se.props.value);Cr===-1?qe.push(Se.props.value):qe.splice(Cr,1)}else qe=Se.props.value;if(Se.props.onClick&&Se.props.onClick(tt),M!==qe&&(V(qe),N)){const Cr=tt.nativeEvent||tt,os=new Cr.constructor(Cr.type,Cr);Object.defineProperty(os,"target",{writable:!0,value:{value:qe,name:k}}),N(os,Se)}b||re(!1,tt)}},we=Se=>{j||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Se.key)!==-1&&(Se.preventDefault(),re(!0,Se))},Ve=se!==null&&H,Ae=Se=>{!Ve&&L&&(Object.defineProperty(Se,"target",{writable:!0,value:{value:M,name:k}}),L(Se))};delete U["aria-invalid"];let Qe,it;const lt=[];let Le=!1;(ih({value:M})||E)&&(A?Qe=A(M):Le=!0);const gt=ve.map(Se=>{if(!_.isValidElement(Se))return null;let tt;if(b){if(!Array.isArray(M))throw new Error(Po(2));tt=M.some(qe=>xS(qe,Se.props.value)),tt&&Le&&lt.push(Se.props.children)}else tt=xS(M,Se.props.value),tt&&Le&&(it=Se.props.children);return _.cloneElement(Se,{"aria-selected":tt?"true":"false",onClick:Ye(Se),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),Se.props.onKeyUp&&Se.props.onKeyUp(qe)},role:"option",selected:tt,value:void 0,"data-value":Se.props.value})});Le&&(b?lt.length===0?Qe=null:Qe=lt.reduce((Se,tt,qe)=>(Se.push(tt),qe<lt.length-1&&Se.push(", "),Se),[]):Qe=it);let ke=q;!a&&ye&&se&&(ke=ee.clientWidth);let Ue;typeof z<"u"?Ue=z:Ue=m?null:0;const Me=P.id||(k?`mui-component-select-${k}`:void 0),Te=$({},e,{variant:B,value:M,open:Ve,error:T}),bt=W9(Te),Rt=$({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Xe=Px();return l.jsxs(_.Fragment,{children:[l.jsx(V9,$({ref:le,tabIndex:Ue,role:"combobox","aria-controls":Xe,"aria-disabled":m?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Me].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:we,onMouseDown:m||j?null:he,onBlur:Ae,onFocus:p},P,{ownerState:Te,className:$e(P.className,bt.select,c),id:Me,children:U9(Qe)?vS||(vS=l.jsx("span",{className:"notranslate",children:""})):Qe})),l.jsx(B9,$({"aria-invalid":T,value:Array.isArray(M)?M.join(","):M,name:k,ref:Q,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:m,className:bt.nativeInput,autoFocus:o,ownerState:Te},U)),l.jsx(z9,{as:w,className:bt.icon,ownerState:Te}),l.jsx(A9,$({id:`menu-${k||""}`,anchorEl:ee,open:Ve,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:$({"aria-labelledby":C,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Xe},y.MenuListProps),slotProps:$({},y.slotProps,{paper:$({},Rt,{style:$({minWidth:ke},Rt!=null?Rt.style:null)})}),children:gt}))]})});function q9(t){return pt("MuiSvgIcon",t)}ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const K9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],G9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${We(e)}`,`fontSize${We(n)}`]};return xt(i,q9,r)},Q9=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${We(n.color)}`],e[`fontSize${We(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,E,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),lv=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=Ie(r,K9),T=_.isValidElement(i)&&i.type==="svg",w=$({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:T}),I={};f||(I.viewBox=m);const C=G9(w);return l.jsxs(Q9,$({as:a,className:$e(C.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,E,T&&i.props,{ownerState:w,children:[T?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});lv.muiName="SvgIcon";function xl(t,e){function n(r,i){return l.jsx(lv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=lv.muiName,_.memo(_.forwardRef(n))}const Y9=xl(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),X9=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],J9=["root"],Z9=t=>{const{classes:e}=t;return e},qx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qr(t)&&t!=="variant",slot:"Root"},eU=Pe(Bx,qx)(""),tU=Pe(Wx,qx)(""),nU=Pe(Ux,qx)(""),Kx=_.forwardRef(function(e,n){const r=mt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=Y9,id:h,input:m,inputProps:E,label:T,labelId:w,MenuProps:I,multiple:C=!1,native:y=!1,onClose:b,onOpen:k,open:L,renderValue:N,SelectDisplayProps:S,variant:p="outlined"}=r,g=Ie(r,X9),x=y?D9:H9,j=vl(),A=yl({props:r,muiFormControl:j,states:["variant","error"]}),P=A.variant||p,z=$({},r,{variant:P,classes:o}),F=Z9(z),B=Ie(F,J9),U=m||{standard:l.jsx(eU,{ownerState:z}),outlined:l.jsx(tU,{label:T,ownerState:z}),filled:l.jsx(nU,{ownerState:z})}[P],M=jn(n,Dc(U));return l.jsx(_.Fragment,{children:_.cloneElement(U,$({inputComponent:x,inputProps:$({children:s,error:A.error,IconComponent:f,variant:P,type:void 0,multiple:C},y?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:w,MenuProps:I,onClose:b,onOpen:k,open:L,renderValue:N,SelectDisplayProps:$({id:h},S)},E,{classes:E?yr(B,E.classes):B},m?m.props.inputProps:{})},(C&&y||c)&&P==="outlined"?{notched:!0}:{},{ref:M,className:$e(U.props.className,a,F.root)},!m&&{variant:P},g))})});Kx.muiName="Select";function rU(t){return pt("MuiTextField",t)}ct("MuiTextField",["root"]);const iU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],sU={standard:Bx,filled:Ux,outlined:Wx},oU=t=>{const{classes:e}=t;return xt({root:["root"]},rU,e)},aU=Pe(cP,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cr=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:T,id:w,InputLabelProps:I,inputProps:C,InputProps:y,inputRef:b,label:k,maxRows:L,minRows:N,multiline:S=!1,name:p,onBlur:g,onChange:x,onFocus:j,placeholder:A,required:P=!1,rows:z,select:F=!1,SelectProps:B,type:U,value:M,variant:V="outlined"}=r,H=Ie(r,iU),K=$({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:E,multiline:S,required:P,select:F,variant:V}),Q=oU(K),Y={};V==="outlined"&&(I&&typeof I.shrink<"u"&&(Y.notched=I.shrink),Y.label=k),F&&((!B||!B.native)&&(Y.id=void 0),Y["aria-describedby"]=void 0);const se=Px(w),ce=T&&se?`${se}-helper-text`:void 0,ye=k&&se?`${se}-label`:void 0,q=sU[V],ne=l.jsx(q,$({"aria-describedby":ce,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:E,multiline:S,name:p,rows:z,maxRows:L,minRows:N,type:U,value:M,id:se,inputRef:b,onBlur:g,onChange:x,onFocus:j,placeholder:A,inputProps:C},Y,y));return l.jsxs(aU,$({className:$e(Q.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:P,color:u,variant:V,ownerState:K},H,{children:[k!=null&&k!==""&&l.jsx(vB,$({htmlFor:se,id:ye},I,{children:k})),F?l.jsx(Kx,$({"aria-describedby":ce,id:se,labelId:ye,value:M,input:ne},B,{children:o})):ne,T&&l.jsx(IB,$({id:ce},m,{children:T}))]}))});function lU(t){return pt("MuiCard",t)}ct("MuiCard",["root"]);const uU=["className","raised"],cU=t=>{const{classes:e}=t;return xt({root:["root"]},lU,e)},dU=Pe(qp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),nf=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ie(r,uU),a=$({},r,{raised:s}),u=cU(a);return l.jsx(dU,$({className:$e(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function fU(t){return pt("MuiCardContent",t)}ct("MuiCardContent",["root"]);const hU=["className","component"],pU=t=>{const{classes:e}=t;return xt({root:["root"]},fU,e)},mU=Pe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),rf=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ie(r,hU),a=$({},r,{component:s}),u=pU(a);return l.jsx(mU,$({as:s,className:$e(u.root,i),ownerState:a,ref:n},o))});function gU(t){return pt("MuiCardMedia",t)}ct("MuiCardMedia",["root","media","img"]);const yU=["children","className","component","image","src","style"],vU=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return xt({root:["root",n&&"media",r&&"img"]},gU,e)},xU=Pe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),bU=["video","audio","picture","iframe","img"],_U=["picture","img"],bS=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Ie(r,yU),h=bU.indexOf(o)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},c):c,E=$({},r,{component:o,isMediaComponent:h,isImageComponent:_U.indexOf(o)!==-1}),T=vU(E);return l.jsx(xU,$({className:$e(T.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||u:void 0},f,{children:i}))}),wU=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],SU=["component","slots","slotProps"],EU=["component"];function _S(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,u=Ie(e,wU),{component:c,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=s,m=Ie(s,SU),E=f[t]||r,T=qR(h[t],i),w=HR($({className:n},u,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:T})),{props:{component:I},internalRef:C}=w,y=Ie(w.props,EU),b=jn(C,T==null?void 0:T.ref,e.ref),k=o?o(y):{},L=$({},i,k),N=t==="root"?I||c:I,S=UR(E,$({},t==="root"&&!c&&!f[t]&&a,t!=="root"&&!f[t]&&a,y,N&&{as:N},{ref:b}),L);return Object.keys(k).forEach(p=>{delete S[p]}),[E,S]}var yP={},vP={},Xp={},xP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(xP);var TU="Expected a function",wS=NaN,CU="[object Symbol]",IU=/^\s+|\s+$/g,kU=/^[-+]0x[0-9a-f]+$/i,RU=/^0b[01]+$/i,PU=/^0o[0-7]+$/i,AU=parseInt,jU=typeof Hl=="object"&&Hl&&Hl.Object===Object&&Hl,OU=typeof self=="object"&&self&&self.Object===Object&&self,NU=jU||OU||Function("return this")(),LU=Object.prototype,MU=LU.toString,DU=Math.max,$U=Math.min,dg=function(){return NU.Date.now()};function FU(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(TU);e=SS(e)||0,uv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?DU(SS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(N){var S=r,p=i;return r=i=void 0,c=N,o=t.apply(p,S),o}function T(N){return c=N,a=setTimeout(C,e),f?E(N):o}function w(N){var S=N-u,p=N-c,g=e-S;return h?$U(g,s-p):g}function I(N){var S=N-u,p=N-c;return u===void 0||S>=e||S<0||h&&p>=s}function C(){var N=dg();if(I(N))return y(N);a=setTimeout(C,w(N))}function y(N){return a=void 0,m&&r?E(N):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function k(){return a===void 0?o:y(dg())}function L(){var N=dg(),S=I(N);if(r=arguments,i=this,u=N,S){if(a===void 0)return T(u);if(h)return a=setTimeout(C,e),E(u)}return a===void 0&&(a=setTimeout(C,e)),o}return L.cancel=b,L.flush=k,L}function uv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function VU(t){return!!t&&typeof t=="object"}function zU(t){return typeof t=="symbol"||VU(t)&&MU.call(t)==CU}function SS(t){if(typeof t=="number")return t;if(zU(t))return wS;if(uv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(IU,"");var n=RU.test(t);return n||PU.test(t)?AU(t.slice(2),n?2:8):kU.test(t)?wS:+t}var BU=FU,bP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(bP);var Jp=bP.exports,fe={},Gx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(_);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Gx);Object.defineProperty(fe,"__esModule",{value:!0});fe.checkSpecKeys=fe.checkNavigable=fe.changeSlide=fe.canUseDOM=fe.canGoNext=void 0;fe.clamp=wP;fe.extractObject=void 0;fe.filterSettings=rW;fe.validSettings=fe.swipeStart=fe.swipeMove=fe.swipeEnd=fe.slidesOnRight=fe.slidesOnLeft=fe.slideHandler=fe.siblingDirection=fe.safePreventDefault=fe.lazyStartIndex=fe.lazySlidesOnRight=fe.lazySlidesOnLeft=fe.lazyEndIndex=fe.keyHandler=fe.initializedState=fe.getWidth=fe.getTrackLeft=fe.getTrackCSS=fe.getTrackAnimateCSS=fe.getTotalSlides=fe.getSwipeDirection=fe.getSlideCount=fe.getRequiredLazySlides=fe.getPreClones=fe.getPostClones=fe.getOnDemandLazySlides=fe.getNavigableIndexes=fe.getHeight=void 0;var UU=_P(_),WU=_P(Gx);function _P(t){return t&&t.__esModule?t:{default:t}}function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(r){HU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HU(t,e,n){return(e=qU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qU(t){var e=KU(t,"string");return tc(e)=="symbol"?e:e+""}function KU(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wP(t,e,n){return Math.max(e,Math.min(t,n))}var Pa=fe.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},SP=fe.getOnDemandLazySlides=function(e){for(var n=[],r=EP(e),i=TP(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};fe.getRequiredLazySlides=function(e){for(var n=[],r=EP(e),i=TP(e),s=r;s<i;s++)n.push(s);return n};var EP=fe.lazyStartIndex=function(e){return e.currentSlide-GU(e)},TP=fe.lazyEndIndex=function(e){return e.currentSlide+QU(e)},GU=fe.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},QU=fe.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},cv=fe.getWidth=function(e){return e&&e.offsetWidth||0},CP=fe.getHeight=function(e){return e&&e.offsetHeight||0},IP=fe.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},kP=fe.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};fe.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};fe.initializedState=function(e){var n=UU.default.Children.count(e.children),r=e.listRef,i=Math.ceil(cv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(cv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&CP(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=SP(Dt(Dt({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var T={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(T.autoplaying="playing"),T};fe.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,T=e.lazyLoadedList;if(n&&r)return{};var w=o,I,C,y,b={},k={},L=s?o:wP(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?w=o+a:o>=a&&(w=o-a),u&&T.indexOf(w)<0&&(T=T.concat(w)),b={animating:!0,currentSlide:w,lazyLoadedList:T,targetSlide:w},k={animating:!1,targetSlide:w}}else I=w,w<0?(I=w+a,s?a%h!==0&&(I=a-a%h):I=0):!kP(e)&&w>c?w=I=c:f&&w>=a?(w=s?a:a-1,I=s?0:a-1):w>=a&&(I=w-a,s?a%h!==0&&(I=0):I=a-m),!s&&w+m>=a&&(I=a-m),C=ah(Dt(Dt({},e),{},{slideIndex:w})),y=ah(Dt(Dt({},e),{},{slideIndex:I})),s||(C===y&&(w=I),C=y),u&&(T=T.concat(SP(Dt(Dt({},e),{},{currentSlide:w})))),E?(b={animating:!0,currentSlide:I,trackStyle:RP(Dt(Dt({},e),{},{left:C})),lazyLoadedList:T,targetSlide:L},k={animating:!1,currentSlide:I,trackStyle:oh(Dt(Dt({},e),{},{left:y})),swipeLeft:null,targetSlide:L}):b={currentSlide:I,trackStyle:oh(Dt(Dt({},e),{},{left:y})),lazyLoadedList:T,targetSlide:L};return{state:b,nextState:k}};fe.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,T=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,E&&!T&&(i=h-s,a=i===-1?f-1:i),T||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,E&&!T&&(a=(h+u)%f+r),T||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,T){var w=ZU(Dt(Dt({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-f:a<n.currentSlide&&w==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};fe.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};fe.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Pa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};fe.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,T=n.swiping,w=n.slideCount,I=n.slidesToScroll,C=n.infinite,y=n.touchObject,b=n.swipeEvent,k=n.listHeight,L=n.listWidth;if(!r){if(i)return Pa(e);s&&o&&a&&Pa(e);var N,S={},p=ah(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var g=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!T&&g>10)return{scrolling:!0};a&&(y.swipeLength=g);var x=(u?-1:1)*(y.curX>y.startX?1:-1);a&&(x=y.curY>y.startY?1:-1);var j=Math.ceil(w/I),A=IP(n.touchObject,a),P=y.swipeLength;return C||(c===0&&(A==="right"||A==="down")||c+1>=j&&(A==="left"||A==="up")||!kP(n)&&(A==="left"||A==="up"))&&(P=y.swipeLength*f,h===!1&&m&&(m(A),S.edgeDragged=!0)),!E&&b&&(b(A),S.swiped=!0),s?N=p+P*(k/L)*x:u?N=p-P*x:N=p+P*x,a&&(N=p+P*x),S=Dt(Dt({},S),{},{touchObject:y,swipeLeft:N,trackStyle:oh(Dt(Dt({},n),{},{left:N}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(S.swiping=!0,Pa(e)),S}};fe.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,T=n.currentSlide,w=n.infinite;if(!r)return i&&Pa(e),{};var I=u?c/a:o/a,C=IP(s,u),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return y;if(s.swipeLength>I){Pa(e),m&&m(C);var b,k,L=w?T:E;switch(C){case"left":case"up":k=L+CS(n),b=f?TS(n,k):k,y.currentDirection=0;break;case"right":case"down":k=L-CS(n),b=f?TS(n,k):k,y.currentDirection=1;break;default:b=L}y.triggerSlideHandler=b}else{var N=ah(n);y.trackStyle=RP(Dt(Dt({},n),{},{left:N}))}return y};var YU=fe.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},TS=fe.checkNavigable=function(e,n){var r=YU(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},CS=fe.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+CP(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+cv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},Qx=fe.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},oh=fe.getTrackCSS=function(e){Qx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=JU(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Dt(Dt({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},RP=fe.getTrackAnimateCSS=function(e){Qx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=oh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},ah=fe.getTrackLeft=function(e){if(e.unslick)return 0;Qx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,T=e.vertical,w=0,I,C,y=0;if(E||e.slideCount===1)return 0;var b=0;if(i?(b=-sf(e),o%u!==0&&n+u>o&&(b=-(n>o?a-(n-o):o%u)),s&&(b+=parseInt(a/2))):(o%u!==0&&n+u>o&&(b=a-o%u),s&&(b=parseInt(a/2))),w=b*c,y=b*m,T?I=n*m*-1+y:I=n*c*-1+w,h===!0){var k,L=r&&r.node;if(k=n+sf(e),C=L&&L.childNodes[k],I=C?C.offsetLeft*-1:0,s===!0){k=i?n+sf(e):n,C=L&&L.children[k],I=0;for(var N=0;N<k;N++)I-=L&&L.children[N]&&L.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=C&&(f-C.offsetWidth)/2}}return I},sf=fe.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},XU=fe.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},JU=fe.getTotalSlides=function(e){return e.slideCount===1?1:sf(e)+e.slideCount+XU(e)},ZU=fe.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+eW(e)?"left":"right":e.targetSlide<e.currentSlide-tW(e)?"right":"left"},eW=fe.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},tW=fe.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};fe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var nW=fe.validSettings=Object.keys(WU.default);function rW(t){return nW.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.Track=void 0;var gs=PP(_),fg=PP(Jp),Id=fe;function PP(t){return t&&t.__esModule?t:{default:t}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jP(r.key),r)}}function oW(t,e,n){return e&&sW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fv(t,e)}function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fv(t,e)}function lW(t){var e=AP();return function(){var n,r=lh(t);if(e){var i=lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uW(this,n)}}function uW(t,e){if(e&&(el(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(t)}function hv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(r){pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pv(t,e,n){return(e=jP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jP(t){var e=cW(t,"string");return el(e)=="symbol"?e:e+""}function cW(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},dW=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},pg=function(e,n){return e.key||n},fW=function(e){var n,r=[],i=[],s=[],o=gs.default.Children.count(e.children),a=(0,Id.lazyStartIndex)(e),u=(0,Id.lazyEndIndex)(e);return gs.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=gs.default.createElement("div",null);var E=dW(Zn(Zn({},e),{},{index:f})),T=h.props.className||"",w=hg(Zn(Zn({},e),{},{index:f}));if(r.push(gs.default.cloneElement(h,{key:"original"+pg(h,f),"data-index":f,className:(0,fg.default)(w,T),tabIndex:"-1","aria-hidden":!w["slick-active"],style:Zn(Zn({outline:"none"},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Id.getPreClones)(e)&&(n=-I,n>=a&&(h=c),w=hg(Zn(Zn({},e),{},{index:n})),i.push(gs.default.cloneElement(h,{key:"precloned"+pg(h,n),"data-index":n,tabIndex:"-1",className:(0,fg.default)(w,T),"aria-hidden":!w["slick-active"],style:Zn(Zn({},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Id.getPostClones)(e)&&(n=o+f,n<u&&(h=c),w=hg(Zn(Zn({},e),{},{index:n})),s.push(gs.default.cloneElement(h,{key:"postcloned"+pg(h,n),"data-index":n,tabIndex:"-1",className:(0,fg.default)(w,T),"aria-hidden":!w["slick-active"],style:Zn(Zn({},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};Zp.Track=function(t){aW(n,t);var e=lW(n);function n(){var r;iW(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),pv(hv(r),"node",null),pv(hv(r),"handleRef",function(a){r.node=a}),r}return oW(n,[{key:"render",value:function(){var i=fW(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return gs.default.createElement("div",dv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(gs.default.PureComponent);var em={};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}Object.defineProperty(em,"__esModule",{value:!0});em.Dots=void 0;var kd=OP(_),hW=OP(Jp),kS=fe;function OP(t){return t&&t.__esModule?t:{default:t}}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){mW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e,n){return(e=NP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NP(r.key),r)}}function vW(t,e,n){return e&&yW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NP(t){var e=xW(t,"string");return tl(e)=="symbol"?e:e+""}function xW(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mv(t,e)}function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mv(t,e)}function _W(t){var e=LP();return function(){var n,r=uh(t);if(e){var i=uh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wW(this,n)}}function wW(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SW(t)}function SW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}var EW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};em.Dots=function(t){bW(n,t);var e=_W(n);function n(){return gW(this,n),e.apply(this,arguments)}return vW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=EW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),T={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},w=[],I=0;I<E;I++){var C=(I+1)*c-1,y=u?C:(0,kS.clamp)(C,0,h-1),b=y-(c-1),k=u?b:(0,kS.clamp)(b,0,h-1),L=(0,hW.default)({"slick-active":u?m>=k&&m<=y:m===k}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},S=this.clickHandler.bind(this,N);w=w.concat(kd.default.createElement("li",{key:I,className:L},kd.default.cloneElement(this.props.customPaging(I),{onClick:S})))}return kd.default.cloneElement(this.props.appendDots(w),pW({className:this.props.dotsClass},T))}}]),n}(kd.default.PureComponent);var nl={};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}Object.defineProperty(nl,"__esModule",{value:!0});nl.PrevArrow=nl.NextArrow=void 0;var Aa=DP(_),MP=DP(Jp),TW=fe;function DP(t){return t&&t.__esModule?t:{default:t}}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){CW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CW(t,e,n){return(e=VP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VP(r.key),r)}}function FP(t,e,n){return e&&IW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VP(t){var e=kW(t,"string");return rl(e)=="symbol"?e:e+""}function kW(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gv(t,e)}function BP(t){var e=UP();return function(){var n,r=fh(t);if(e){var i=fh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RW(this,n)}}function RW(t,e){if(e&&(rl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PW(t)}function PW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}nl.PrevArrow=function(t){zP(n,t);var e=BP(n);function n(){return $P(this,n),e.apply(this,arguments)}return FP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,MP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Aa.default.cloneElement(this.props.prevArrow,dh(dh({},o),a)):u=Aa.default.createElement("button",ch({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Aa.default.PureComponent);nl.NextArrow=function(t){zP(n,t);var e=BP(n);function n(){return $P(this,n),e.apply(this,arguments)}return FP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,TW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,MP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Aa.default.cloneElement(this.props.nextArrow,dh(dh({},o),a)):u=Aa.default.createElement("button",ch({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Aa.default.PureComponent);var WP=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),yv=typeof window<"u"&&typeof document<"u"&&window.document===document,hh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),AW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),jW=2;function OW(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){AW(s)}function a(){var u=Date.now();if(n){if(u-i<jW)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var NW=20,LW=["top","right","bottom","left","width","height","size","weight"],MW=typeof MutationObserver<"u",DW=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=OW(this.refresh.bind(this),NW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!yv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),MW?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!yv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=LW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),HP=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},il=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||hh},qP=tm(0,0,0,0);function ph(t){return parseFloat(t)||0}function AS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+ph(s)},0)}function $W(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=ph(o)}return n}function FW(t){var e=t.getBBox();return tm(0,0,e.width,e.height)}function VW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return qP;var r=il(t).getComputedStyle(t),i=$W(r),s=i.left+i.right,o=i.top+i.bottom,a=ph(r.width),u=ph(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=AS(r,"left","right")+s),Math.round(u+o)!==n&&(u-=AS(r,"top","bottom")+o)),!BW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return tm(i.left,i.top,a,u)}var zW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof il(t).SVGGraphicsElement}:function(t){return t instanceof il(t).SVGElement&&typeof t.getBBox=="function"}}();function BW(t){return t===il(t).document.documentElement}function UW(t){return yv?zW(t)?FW(t):VW(t):qP}function WW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return HP(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function tm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var HW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=UW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),qW=function(){function t(e,n){var r=WW(n);HP(this,{target:e,contentRect:r})}return t}(),KW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new WP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new HW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new qW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),KP=typeof WeakMap<"u"?new WeakMap:new WP,GP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=DW.getInstance(),r=new KW(e,n,this);KP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){GP.prototype[t]=function(){var e;return(e=KP.get(this))[t].apply(e,arguments)}});var GW=function(){return typeof hh.ResizeObserver<"u"?hh.ResizeObserver:GP}();const QW=Object.freeze(Object.defineProperty({__proto__:null,default:GW},Symbol.toStringTag,{value:"Module"})),YW=rs(QW);Object.defineProperty(Xp,"__esModule",{value:!0});Xp.InnerSlider=void 0;var qn=Fc(_),XW=Fc(xP),JW=Fc(BU),ZW=Fc(Jp),Vt=fe,e7=Zp,t7=em,jS=nl,n7=Fc(YW);function Fc(t){return t&&t.__esModule?t:{default:t}}function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(null,arguments)}function r7(t,e){if(t==null)return{};var n,r,i=i7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YP(r.key),r)}}function a7(t,e,n){return e&&o7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vv(t,e)}function u7(t){var e=QP();return function(){var n,r=gh(t);if(e){var i=gh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c7(this,n)}}function c7(t,e){if(e&&(jo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}function Ze(t,e,n){return(e=YP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YP(t){var e=d7(t,"string");return jo(e)=="symbol"?e:e+""}function d7(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Xp.InnerSlider=function(t){l7(n,t);var e=u7(n);function n(r){var i;s7(this,n),i=e.call(this,r),Ze(Je(i),"listRefHandler",function(o){return i.list=o}),Ze(Je(i),"trackRefHandler",function(o){return i.track=o}),Ze(Je(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Vt.getHeight)(o)+"px"}}),Ze(Je(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ze({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new n7.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Ze(Je(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Ze(Je(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=qn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:qn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Ze(Je(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,JW.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Ze(Je(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Ze(Je(i),"updateState",function(o,a,u){var c=(0,Vt.initializedState)(o);o=ze(ze(ze({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Vt.getTrackLeft)(o);o=ze(ze({},o),{},{left:f});var h=(0,Vt.getTrackCSS)(o);(a||qn.default.Children.count(i.props.children)!==qn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Ze(Je(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Vt.getPreClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Vt.getPostClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(S){u.push(S.props.style.width),o+=S.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var E=0;E<i.state.currentSlide;E++)a+=u[E];var T={width:o+"px",left:-a+"px"};if(i.props.centerMode){var w="".concat(u[i.state.currentSlide],"px");T.left="calc(".concat(T.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:T}}var I=qn.default.Children.count(i.props.children),C=ze(ze(ze({},i.props),i.state),{},{slideCount:I}),y=(0,Vt.getPreClones)(C)+(0,Vt.getPostClones)(C)+I,b=100/i.props.slidesToShow*y,k=100/y,L=-k*((0,Vt.getPreClones)(C)+i.state.currentSlide)*b/100;i.props.centerMode&&(L+=(100-k*b/100)/2);var N={width:b+"%",left:L+"%"};return{slideWidth:k+"%",trackStyle:N}}),Ze(Je(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Ze(Je(i),"progressiveLazyLoad",function(){for(var o=[],a=ze(ze({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Vt.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Vt.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Ze(Je(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,E=u.afterChange,T=i.state.currentSlide,w=(0,Vt.slideHandler)(ze(ze(ze({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=w.state,C=w.nextState;if(I){f&&f(T,I.currentSlide);var y=I.lazyLoadedList.filter(function(b){return i.state.lazyLoadedList.indexOf(b)<0});h&&y.length>0&&h(y),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(T),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),C&&(i.animationEndCallback=setTimeout(function(){var b=C.animating,k=r7(C,["animating"]);i.setState(k,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:b})},10)),E&&E(I.currentSlide),delete i.animationEndCallback})},m))})}}),Ze(Je(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=ze(ze({},i.props),i.state),c=(0,Vt.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Ze(Je(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Ze(Je(i),"keyHandler",function(o){var a=(0,Vt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Ze(Je(i),"selectHandler",function(o){i.changeSlide(o)}),Ze(Je(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Ze(Je(i),"enableBodyScroll",function(){window.ontouchmove=null}),Ze(Je(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Vt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Ze(Je(i),"swipeMove",function(o){var a=(0,Vt.swipeMove)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Ze(Je(i),"swipeEnd",function(o){var a=(0,Vt.swipeEnd)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Ze(Je(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Ze(Je(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Ze(Je(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Ze(Je(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Ze(Je(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Vt.canGoNext)(ze(ze({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Ze(Je(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Ze(Je(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Ze(Je(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Ze(Je(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Ze(Je(i),"render",function(){var o=(0,ZW.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ze(ze({},i.props),i.state),u=(0,Vt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=ze(ze({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Vt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=ze(ze({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=qn.default.createElement(t7.Dots,h)}var E,T,w=(0,Vt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=i.changeSlide,i.props.arrows&&(E=qn.default.createElement(jS.PrevArrow,w),T=qn.default.createElement(jS.NextArrow,w));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var C=null;i.props.vertical===!1?i.props.centerMode===!0&&(C={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(C={padding:i.props.centerPadding+" 0px"});var y=ze(ze({},I),C),b=i.props.touchMove,k={className:"slick-list",style:y,onClick:i.clickHandler,onMouseDown:b?i.swipeStart:null,onMouseMove:i.state.dragging&&b?i.swipeMove:null,onMouseUp:b?i.swipeEnd:null,onMouseLeave:i.state.dragging&&b?i.swipeEnd:null,onTouchStart:b?i.swipeStart:null,onTouchMove:i.state.dragging&&b?i.swipeMove:null,onTouchEnd:b?i.touchEnd:null,onTouchCancel:i.state.dragging&&b?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},L={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(k={className:"slick-list"},L={className:o,style:i.props.style}),qn.default.createElement("div",L,i.props.unslick?"":E,qn.default.createElement("div",mh({ref:i.listRefHandler},k),qn.default.createElement(e7.Track,mh({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":T,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=ze(ze({},XW.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:qn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ze(ze({},i.state),s),i}return a7(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(jo(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||qn.default.Children.count(this.props.children)!==qn.default.Children.count(i.children)}}]),n}(qn.default.Component);var f7=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},h7=f7,p7=h7,m7=function(t){var e=/[height|width]$/;return e.test(t)},NS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=p7(r),m7(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},g7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=NS(n),r<t.length-1&&(e+=", ")}),e):NS(t)},y7=g7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(_),n=Xp,r=o(y7),i=o(Gx),s=fe;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var x=arguments[g];for(var j in x)({}).hasOwnProperty.call(x,j)&&(p[j]=x[j])}return p},u.apply(null,arguments)}function c(p,g){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(p);g&&(j=j.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),x.push.apply(x,j)}return x}function f(p){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?c(Object(x),!0).forEach(function(j){L(p,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):c(Object(x)).forEach(function(j){Object.defineProperty(p,j,Object.getOwnPropertyDescriptor(x,j))})}return p}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){for(var x=0;x<g.length;x++){var j=g[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(p,N(j.key),j)}}function E(p,g,x){return g&&m(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function T(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&w(p,g)}function w(p,g){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,j){return x.__proto__=j,x},w(p,g)}function I(p){var g=b();return function(){var x,j=k(p);if(g){var A=k(this).constructor;x=Reflect.construct(j,arguments,A)}else x=j.apply(this,arguments);return C(this,x)}}function C(p,g){if(g&&(a(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(p)}function y(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function b(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!p})()}function k(p){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},k(p)}function L(p,g,x){return(g=N(g))in p?Object.defineProperty(p,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[g]=x,p}function N(p){var g=S(p,"string");return a(g)=="symbol"?g:g+""}function S(p,g){if(a(p)!="object"||!p)return p;var x=p[Symbol.toPrimitive];if(x!==void 0){var j=x.call(p,g);if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}t.default=function(p){T(x,p);var g=I(x);function x(j){var A;return h(this,x),A=g.call(this,j),L(y(A),"innerSliderRefHandler",function(P){return A.innerSlider=P}),L(y(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),L(y(A),"slickNext",function(){return A.innerSlider.slickNext()}),L(y(A),"slickGoTo",function(P){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(P,z)}),L(y(A),"slickPause",function(){return A.innerSlider.pause("paused")}),L(y(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return E(x,[{key:"media",value:function(A,P){var z=window.matchMedia(A),F=function(U){var M=U.matches;M&&P()};z.addListener(F),this._responsiveMediaHandlers.push({mql:z,query:A,listener:F})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var P=this.props.responsive.map(function(F){return F.breakpoint});P.sort(function(F,B){return F-B}),P.forEach(function(F,B){var U;B===0?U=(0,r.default)({minWidth:0,maxWidth:F}):U=(0,r.default)({minWidth:P[B-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&A.media(U,function(){A.setState({breakpoint:F})})});var z=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(z,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){A.mql.removeListener(A.listener)})}},{key:"render",value:function(){var A=this,P,z;this.state.breakpoint?(z=this.props.responsive.filter(function(se){return se.breakpoint===A.state.breakpoint}),P=z[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),z[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var B=[],U=null,M=0;M<F.length;M+=P.rows*P.slidesPerRow){for(var V=[],H=M;H<M+P.rows*P.slidesPerRow;H+=P.slidesPerRow){for(var K=[],Q=H;Q<H+P.slidesPerRow&&(P.variableWidth&&F[Q].props.style&&(U=F[Q].props.style.width),!(Q>=F.length));Q+=1)K.push(e.default.cloneElement(F[Q],{key:100*M+10*H+Q,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));V.push(e.default.createElement("div",{key:10*M+H},K))}P.variableWidth?B.push(e.default.createElement("div",{key:M,style:{width:U}},V)):B.push(e.default.createElement("div",{key:M},V))}if(P==="unslick"){var Y="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Y},F)}else B.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),B)}}]),x}(e.default.Component)})(vP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(vP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(yP);const of=yh(yP);function XP({onClick:t}){return l.jsx(go,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const v7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}];function x7(){const t=typeof window<"u"&&window.innerWidth<=600,e={dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!1,variableWidth:!1}}]};return l.jsx("div",{style:{maxWidth:900,margin:"0 auto",padding:t?"12px 0":"32px 0"},children:l.jsx(of,{...e,children:v7.map((n,r)=>l.jsxs("div",{style:{padding:t?12:24,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #c7d2fe22",margin:t?"0 2px":"0 8px",minHeight:t?120:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:t?15:18,fontWeight:600,color:"#2d3748",marginBottom:8},children:n.name}),l.jsx("div",{style:{fontSize:t?12:15,color:"#6366f1",marginBottom:8},children:n.city}),l.jsxs("div",{style:{fontSize:t?13:16,color:"#222",fontStyle:"italic"},children:["",n.text,""]})]},r))})})}function b7(t){return pt("MuiLink",t)}const _7=ct("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),JP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w7=t=>JP[t]||t,S7=({theme:t,ownerState:e})=>{const n=w7(e.color),r=Ya(t,`palette.${n}`,!1)||e.color,i=Ya(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:rr(r,.4)},E7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],T7=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${We(i)}`,n==="button"&&"button",r&&"focusVisible"]};return xt(s,b7,e)},C7=Pe(wt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${We(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>$({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&$({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:S7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_7.focusVisible}`]:{outline:"auto"}})),Bl=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:c,underline:f="always",variant:h="inherit",sx:m}=r,E=Ie(r,E7),{isFocusVisibleRef:T,onBlur:w,onFocus:I,ref:C}=zR(),[y,b]=_.useState(!1),k=jn(n,C),L=g=>{w(g),T.current===!1&&b(!1),a&&a(g)},N=g=>{I(g),T.current===!0&&b(!0),u&&u(g)},S=$({},r,{color:s,component:o,focusVisible:y,underline:f,variant:h}),p=T7(S);return l.jsx(C7,$({color:s,className:$e(p.root,i),classes:c,component:o,onBlur:L,onFocus:N,ref:k,ownerState:S,variant:h,sx:[...Object.keys(JP).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},E))});function I7(){return l.jsxs(En,{component:"footer",sx:{width:"100%",bgcolor:"#f4f6fa",borderTop:"1px solid #e0e7ef",py:3,mt:8,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",px:{xs:2,sm:6},fontSize:15},children:[l.jsxs(wt,{color:"primary",fontWeight:700,children:["Pharmastack  ",new Date().getFullYear()]}),l.jsxs(En,{sx:{display:"flex",gap:3,mt:{xs:2,sm:0}},children:[l.jsx(Bl,{href:"/",underline:"hover",color:"inherit",children:"Home"}),l.jsx(Bl,{href:"/shop",underline:"hover",color:"inherit",children:"Shop"}),l.jsx(Bl,{href:"/store",underline:"hover",color:"inherit",children:"Pharmacies"}),l.jsx(Bl,{href:"/auth",underline:"hover",color:"inherit",children:"Login"}),l.jsx(Bl,{href:"mailto:pharmastack@gmail.com",underline:"hover",color:"inherit",children:"Contact"})]})]})}function k7(){_.useEffect(()=>{const y=Ct(Re(Z,"products"),b=>{const k=b.docs.map(L=>({id:L.id,...L.data()}));E(k)});return()=>y()},[]);const t={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},e={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[n,r]=_.useState([]),[i,s]=_.useState([]),o=i;_.useEffect(()=>{const y=Ct(Re(Z,"users"),b=>{const k=[],L=new Set;b.docs.forEach(N=>{const S=N.data();S.businessSlug&&!L.has(S.businessSlug)&&(k.push({name:S.businessName||S.businessSlug,img:S.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:S.rating||4.5,slug:S.businessSlug}),L.add(S.businessSlug))}),s(k)});return()=>y()},[]);const a={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},[u,c]=_.useState(null),[f,h]=_.useState(""),[m,E]=_.useState([]),[T,w]=_.useState(""),I=Ur();_.useEffect(()=>{const y=Ct(Re(Z,"products"),b=>{const k=new Set;b.docs.forEach(L=>{const N=L.data().class;N&&typeof N=="string"&&N.trim()&&k.add(N.trim())}),r(Array.from(k).sort())});return()=>y()},[]),_.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(y=>{const b={lat:y.coords.latitude,lng:y.coords.longitude};c(b),localStorage.setItem("customerLocation",JSON.stringify(b))},y=>{h("Location access denied. Please enable location services.")})},[]);const C=y=>{y.preventDefault(),T.trim()?I(`/shop?search=${encodeURIComponent(T.trim())}`):I("/shop")};return l.jsxs(Uz,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0},children:[l.jsxs(qp,{elevation:3,sx:{p:5,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, #f4f6fa 60%, #e0e7ff 100%)"},children:[l.jsx(wt,{variant:"h3",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:" Welcome to Pharmastack"}),l.jsx(wt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Making Medicine Accessible, Findable, and Available to All."}),l.jsxs(En,{sx:{position:"relative",background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderLeft:"6px solid #6366f1",borderRadius:3,p:2.5,my:2.5,boxShadow:"0 2px 12px #c7d2fe22",color:"#2d3748",fontSize:18,fontWeight:500,textAlign:"center",letterSpacing:.1,lineHeight:1.6,maxWidth:600,mx:"auto",overflow:"hidden"},children:[l.jsx("span",{style:{color:"#6366f1",fontWeight:700,fontSize:20,display:"block",marginBottom:4},children:"Our Mission"}),l.jsx("span",{style:{position:"relative",zIndex:1},children:"We are solving the problem of inequitable access to medicines by building a digital map of real-time medicine availabilitya connected ecosystem ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."}),l.jsx("span",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,background:"linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 40%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)",transform:"translateX(-100%)",animation:"gloss-move 7s cubic-bezier(.4,.6,.6,1) infinite"}}),l.jsx("style",{children:`
              @keyframes gloss-move {
                0% { transform: translateX(-100%); }
                60% { transform: translateX(120%); }
                100% { transform: translateX(120%); }
              }
            `})]}),l.jsx(En,{my:3,children:u?l.jsxs(wt,{variant:"body1",color:"secondary",children:[" Your location: ",l.jsxs("b",{children:[u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}):l.jsx(wt,{variant:"body2",color:"text.disabled",children:f||"Detecting your location..."})}),l.jsxs(En,{component:"form",onSubmit:C,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mt:6,mb:2},children:[l.jsx(cr,{variant:"outlined",placeholder:"Search drugs...",value:T,onChange:y=>w(y.target.value),sx:{width:320,background:"#fff",borderRadius:2},size:"medium"}),l.jsx(go,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Search"})]}),l.jsx(En,{sx:{mb:3,background:"#f8fafc",borderRadius:2,minHeight:220,px:1,py:2},children:m.length===0?null:l.jsx(of,{...t,children:m.map((y,b)=>l.jsx(En,{sx:{px:1},children:l.jsxs(nf,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(bS,{component:"img",image:y.image||"/default-medicine.png",alt:y.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(rf,{sx:{p:0},children:l.jsx(wt,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:y.name||"Unnamed"})})]})},y.id||b))})}),l.jsx(wt,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(En,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(of,{...e,children:n.map(y=>{const b=m.find(k=>k.class&&k.class.trim()===y);return l.jsx(En,{children:l.jsxs(nf,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>I(`/shop?category=${encodeURIComponent(y)}`),children:[b&&l.jsx(En,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:b.image||"/default-medicine.png",alt:b.name||y,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(rf,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(wt,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:y})})]})},y)})})}),l.jsx(wt,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(En,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:o.length===0?null:l.jsx(of,{...a,children:o.map(y=>l.jsx(En,{sx:{px:1},children:l.jsxs(nf,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>I(`/store/${y.slug}`),children:[l.jsx(bS,{component:"img",height:"80",image:y.img,alt:y.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(rf,{sx:{textAlign:"center",pb:2},children:[l.jsx(wt,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:y.name}),l.jsxs(wt,{variant:"body2",color:"text.secondary",children:[" ",y.rating]}),l.jsx(go,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:b=>{b.stopPropagation(),I(`/store/${y.slug}`)},children:"Shop Now"})]})]})},y.slug))})}),l.jsx(go,{component:za,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:" Find a pharmacy store near you"})]}),l.jsx(x7,{}),l.jsx(XP,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsx(I7,{})]})}const R7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function $n(){return typeof window<"u"&&window.innerWidth<=600}function P7(){const[t,e]=_.useState(!1),{slug:n}=fc(),[r,i]=_.useState(null),[s,o]=_.useState([]),[a,u]=_.useState([]),[c,f]=_.useState(""),[h,m]=_.useState(null),[E,T]=_.useState(null),[w,I]=_.useState(""),[C,y]=_.useState(!0),[b,k]=_.useState(typeof window<"u"?window.innerWidth:1200),L=Pn(),N=(g,x,j,A)=>{const P=V=>V*Math.PI/180,F=P(j-g),B=P(A-x),U=Math.sin(F/2)**2+Math.cos(P(g))*Math.cos(P(j))*Math.sin(B/2)**2;return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},S=g=>{const A=g*1.64,P=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:P}};_.useEffect(()=>{if(!navigator.geolocation){T("denied");return}navigator.geolocation.getCurrentPosition(g=>{const x={lat:g.coords.latitude,lng:g.coords.longitude};T(x);const j=L.currentUser;if(j){const A=be(Z,"users",j.uid);Qt(A).then(P=>{const z=P.data();z&&z.role==="customer"&&ar(A,{lat:x.lat,lng:x.lng},{merge:!0})})}},()=>T("denied"))},[L]),_.useEffect(()=>{const g=wr(L,x=>{i(x)});return()=>g()},[L]),_.useEffect(()=>{y(!0);const g=Ct(Re(Z,"products"),async x=>{const A=(await Promise.all(x.docs.map(async P=>{var F,B;const z={id:P.id,...P.data()};if(z.ownerId){const U=be(Z,"users",z.ownerId),M=await Qt(U);if(M.exists()){const V=M.data();z.businessName=V.businessName||"Unknown Pharmacy",z.ownerSlug=V.slug||null,z.ownerRole=V.role||null,(F=V.location)!=null&&F.latitude&&((B=V.location)!=null&&B.longitude)&&(z.businessLat=V.location.latitude,z.businessLng=V.location.longitude),z.businessState=V.businessState||V.state||""}}return z}))).filter(P=>P.ownerRole!=="distributor");o(A),y(!1)});return()=>g()},[]),_.useEffect(()=>{const g=()=>k(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),_.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(M=>M.ownerSlug===n):s;w&&(g=g.filter(M=>M.businessState===w));const x={};for(const M of g){const V=(M.normalizedName||M.name||"").toLowerCase().trim();x[V]||(x[V]=[]),x[V].push(M)}const j=Object.values(x).map(M=>(E&&E!=="denied"&&(M=M.map(V=>{if(V.businessLat&&V.businessLng){const H=N(E.lat,E.lng,V.businessLat,V.businessLng),{minutes:K}=S(H);return{...V,minutesAway:K}}return{...V,minutesAway:1/0}}),M.sort((V,H)=>V.minutesAway-H.minutesAway)),M)).flat(),A=(M="")=>M.toLowerCase().trim().replace(/\s+/g," "),P={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},z=A(c),F=(P[z]||z).split(" "),B=(M,V)=>M.includes(V)||V.length>3&&M.startsWith(V.slice(0,3))||V.length>3&&M.endsWith(V.slice(-3)),U=j.filter(M=>{const V=A(M.name),H=A(M.ingredient),K=A(M.class);return F.some(Q=>V.includes(Q)||H.includes(Q)||K.includes(Q)||B(V,Q)||B(H,Q)||B(K,Q))});u(U)},[s,E,c,n]);const p=async g=>{if(!r)return alert("Please log in first");let x={...g};if((!x.businessPhone||!x.businessWhatsapp)&&x.ownerId)try{const F=be(Z,"users",x.ownerId),B=await Qt(F);if(B.exists()){const U=B.data();x.businessPhone=U.businessPhone||"",x.businessWhatsapp=U.businessWhatsapp||""}}catch{}const j=be(Z,"carts",r.uid),A=await Qt(j);let P=A.exists()?A.data().items||[]:[];const z=P.findIndex(F=>F.name===x.name);z>=0?P[z].quantity+=1:P.push({...x,quantity:1}),await ar(j,{items:P}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:$n()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:$n()?22:32,marginBottom:8,letterSpacing:1},children:[" ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:$n()?8:16,margin:$n()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:$n()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:$n()?"8px":"12px",width:"100%",maxWidth:$n()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:$n()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:w,onChange:g=>I(g.target.value),style:{padding:$n()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:$n()?15:17,minWidth:$n()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),R7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),C?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:b<=420?"repeat(3, 1fr)":b<=800?"repeat(2, 1fr)":"repeat(auto-fill, minmax(260px, 1fr))",gap:b<=420?8:b<=800?14:28,marginTop:18,alignItems:"start"},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:b<=420?"8px 6px":b<=800?"12px 10px":"18px 16px",borderRadius:"12px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:b<=420?"140px":b<=800?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:x=>{$n()||(x.currentTarget.style.boxShadow="0 8px 32px #6366f133",x.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:x=>{$n()||(x.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",x.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:b<=420?70:b<=800?110:150,objectFit:"cover",borderRadius:"8px",marginBottom:b<=420?6:10,background:"#f4f6fb"},onError:x=>{x.target.onerror=null,x.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:$n()?90:150,borderRadius:10,marginBottom:$n()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:$n()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:b<=420?12:b<=800?15:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:b<=420?10:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:b<=420?9:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:b<=420?11:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:[" ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:x=>x.currentTarget.style.background="#4f46e5",onMouseLeave:x=>x.currentTarget.style.background="#6366f1",disabled:typeof p!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?" Right here":` ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function ZP(){const[t,e]=_.useState(null),[n,r]=_.useState([]),[i,s]=_.useState(0),[o,a]=_.useState(!1),[u,c]=_.useState({}),[f,h]=_.useState([]),[m,E]=_.useState(null),T=Pn(),w=Ur();_.useEffect(()=>{t&&Qt(be(Z,"users",t.uid)).then(N=>{N.exists()&&E(N.data())})},[t]),_.useEffect(()=>{const N=Array.from(new Set(n.filter(S=>S.registeredOnly&&S.ownerId).map(S=>S.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const S of f)await ar(be(Z,"businessRegistrations",`${S}_${t.uid}`),{distributorId:S,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===S),status:"pending",date:new Date().toISOString()});Ee.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};_.useEffect(()=>wr(T,S=>{e(S),S&&C(S.uid)}),[T]);const C=async N=>{try{const S=be(Z,"carts",N),p=await Qt(S);p.exists()?r(p.data().items||[]):r([])}catch(S){console.error("Error loading cart:",S)}},y=async(N,S)=>{try{await ar(be(Z,"carts",N),{items:S})}catch(p){console.error("Error saving cart:",p)}};_.useEffect(()=>{const N=n.reduce((S,p)=>S+p.price*(p.quantity||1),0);s(N)},[n]);const b=N=>{if(!t)return Ee.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N.name);p>=0?S[p].quantity+=1:S.push({...N,quantity:1}),r(S),y(t.uid,S)},k=N=>{if(!t)return Ee.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N);p>=0&&(S[p].quantity>1?S[p].quantity-=1:S.splice(p,1)),r(S),y(t.uid,S)},L=()=>{if(!t)return Ee.error("Please login to proceed to payment");if(n.length===0)return Ee.info("Cart is empty");w("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,S)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",S+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,S)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>b(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>k(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},S)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,S)=>N+(S.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:L,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const A7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function j7(){const[t,e]=_.useState(null),[n,r]=_.useState([]),[i,s]=_.useState("Pending"),[o,a]=_.useState({}),u=Pn();if(_.useEffect(()=>{const T=wr(u,w=>{if(e(w),w){const I=br(Re(Z,"orders"),_r("userId","==",w.uid)),C=Ct(I,y=>{const b=y.docs.map(k=>({id:k.id,...k.data()}));b.sort((k,L)=>new Date(L.date)-new Date(k.date)),r(b)});return()=>C()}});return()=>T()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async T=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=be(Z,"orders",T);await Zt(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=T=>{a(w=>({...w,[T]:!w[T]}))},h=T=>T.reduce((w,I)=>w+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],E=m.reduce((T,w)=>(w==="Processing"?T[w]=n.filter(I=>{const C=I.status||"Pending";return C==="Processing"||C==="In-Progress"}):T[w]=n.filter(I=>(I.status||"Pending")===w),T),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(T=>{var w;return l.jsxs("button",{onClick:()=>s(T),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===T?"#007bff":"#eee",color:i===T?"#fff":"#000",fontWeight:i===T?"bold":"normal"},children:[T," (",((w=E[T])==null?void 0:w.length)||0,")"]},T)})}),E[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):E[i].map(T=>{var w;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",A7(T.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),T.items&&T.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(T.items.reduce((I,C)=>{const y=C.businessName||"Unknown",b=C.businessPhone||C.phoneNumber||"N/A",k=C.businessWhatsapp||C.whatsappNumber||"N/A";return I.set(y+"__"+b+"__"+k,{name:y,phone:b,whatsapp:k}),I},new Map).values()).map(({name:I,phone:C,whatsapp:y})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",C&&C!=="N/A"?l.jsxs("a",{href:`tel:${C}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",y&&y!=="N/A"?l.jsxs("a",{href:`https://wa.me/${y.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:y}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+C+y))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId||"Not assigned",(T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId)&&(T.agentPhoneNumber||T.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",T.agentPhoneNumber?l.jsxs("a",{href:`tel:${T.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",T.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${T.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(T.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[T.id]?"#ede9fe":"#7c3aed",color:o[T.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[T.id]?"0 2px 8px #ede9fe":"none"},children:o[T.id]?"Hide Items":"View Items"}),o[T.id]&&((w=T.items)==null?void 0:w.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:T.items.map((I,C)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:y=>{y.target.onerror=null,y.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},C))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(T.items||[])]}),(T.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(T.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},T.id)})]})}const O7="modulepreload",N7=function(t){return"/medcins/"+t},LS={},ja=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=N7(u),u in LS)return;LS[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":O7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},L7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function M7(){const t=Ur(),[e,n]=_.useState(null),[r,i]=_.useState(""),[s,o]=_.useState(""),[a,u]=_.useState(""),[c,f]=_.useState(""),[h,m]=_.useState(""),[E,T]=_.useState(""),[w,I]=_.useState(""),[C,y]=_.useState(!1),[b,k]=_.useState(!1),[L,N]=_.useState(!1),[S,p]=_.useState({}),[g,x]=_.useState(!1),j={},[A,P]=_.useState(""),[z,F]=_.useState(""),[B,U]=_.useState(""),[M,V]=_.useState(""),[H,K]=_.useState(""),[Q,Y]=_.useState(""),[se,ce]=_.useState(""),[ye,q]=_.useState(""),[ne,W]=_.useState(""),[le,ee]=_.useState(""),[re,he]=_.useState(""),[me,ve]=_.useState(""),[_e,Ye]=_.useState(null),[we,Ve]=_.useState(!1),[Ae,Qe]=_.useState(null),[it,lt]=_.useState(!1),[Le,gt]=_.useState(""),[ke,Ue]=_.useState("");pe.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const Me=async()=>{try{if(!ye||!ne){alert("Please provide distributor name and license number.");return}const J=await captureDistributorLocation();if(!J){alert(" Location required to complete distributor signup.");return}const O=(await tu(ro,r,s)).user,te=await bt(ye),ue={email:O.email,role:"distributor",businessName:ye,licenseNumber:ne,location:J,slug:te,businessSlug:te,createdAt:new Date().toISOString()};await Rt(O.uid,ue),n({...O,...ue}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${te}`),k(!1),q(""),W(""),Ye(null)}catch(J){console.error("Distributor signup error:",J),alert(J.message||"Distributor signup failed")}},Te=J=>J.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),bt=async J=>{let De=Te(J);const O=Re(Z,"users");let te=De,ue=1;for(;;){const Fe=br(O,_r("slug","==",te));if((await en(Fe)).empty)break;te=`${De}${ue++}`}return te},Rt=async(J,De)=>{console.log("Writing user doc for:",J,De),await ar(be(Z,"users",J),De)},Xe=async()=>{try{if(!B||!M||!H){alert("Please provide address, state, and city.");return}const De=(await tu(ro,r,s)).user,O={email:De.email,role:"customer",address:B,state:M,city:H,landmark:Q,createdAt:new Date().toISOString()};await Rt(De.uid,O),n({...De,...O}),alert(" Customer signup successful!")}catch(J){console.error("Customer signup error:",J),alert(J.message)}},Se=async()=>navigator.geolocation?(lt(!0),new Promise((J,De)=>{navigator.geolocation.getCurrentPosition(O=>{const te={latitude:O.coords.latitude,longitude:O.coords.longitude};Qe(te),lt(!1),J(te)},O=>{lt(!1),alert(" Location access denied or unavailable."),De(O)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),tt=async()=>{try{if(!a||!se||!c){alert("Please provide business name, address, and license number.");return}const J=await Se();if(!J){alert(" Location required to complete business signup.");return}const O=(await tu(ro,r,s)).user;console.log("Business user created:",O.uid);const te=await bt(a);console.log("Generated unique slug:",te);const ue={email:O.email,role:"medicine-manager",businessName:a,address:c,city:E,state:h,landmark:w,licenseNumber:se,location:J,lat:J.latitude,lng:J.longitude,slug:te,businessSlug:te,businessPhone:Le,businessWhatsapp:ke,createdAt:new Date().toISOString()};await Rt(O.uid,ue),console.log("Firestore user record created for business:",ue),n({...O,...ue}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${te}`),y(!1),u(""),f(""),ce(""),Qe(null)}catch(J){console.error("Business signup error:",J),alert(J.message||"Business signup failed")}},qe=async()=>{try{const De=(await Vk(ro,r,s)).user,O=await Qt(be(Z,"users",De.uid));O.exists()?(n({...De,...O.data()}),O.data().role==="delivery-agent"&&O.data().slug&&t(`/agent/${O.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...De}))}catch(J){console.error("Login error:",J),alert(J.message||"Login failed")}},Cr=async()=>{await Uk(ro),n(null)},os=async()=>{try{x(!0);const J=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const _t of J)if(!S[_t]){alert(`Please fill the ${_t} field.`),x(!1);return}const O=(await tu(ro,S.email,s)).user,te=await bt(S.companyName),ue={...S,role:"delivery-agent",slug:te,createdAt:new Date().toISOString()};await Rt(O.uid,ue);const Fe={companyName:S.companyName,phoneNumber:S.phoneNumber,whatsappNumber:S.whatsappNumber,rcNumber:S.rcNumber,businessAddress:S.businessAddress,email:S.email,coverageArea:S.coverageArea,operatingHours:S.operatingHours,logoUrl:S.logoUrl,state:S.state,city:S.city,landmark:S.landmark,userId:O.uid,createdAt:new Date().toISOString(),slug:te},{addDoc:st,collection:nt}=await ja(async()=>{const{addDoc:_t,collection:je}=await Promise.resolve().then(()=>rx);return{addDoc:_t,collection:je}},void 0);await st(nt(Z,"deliveryAgents"),Fe),n({...O,...ue}),alert(" Delivery agent signup successful!"),N(!1),p(j)}catch(J){console.error("Delivery agent signup error:",J),alert(J.message||"Delivery agent signup failed")}finally{x(!1)}},[Qs,Ir]=_.useState(!1),[si,kr]=_.useState("customer"),as=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Cr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Qs?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:si,onChange:J=>kr(J.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:as.map(J=>l.jsx("option",{value:J.key,children:J.label},J.key))})}),si==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:A,onChange:J=>P(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:z,onChange:J=>F(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:B,onChange:J=>U(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:M,onChange:J=>V(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:H,onChange:J=>K(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Q,onChange:J=>Y(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Xe,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:J=>u(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:J=>f(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:se,onChange:J=>ce(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:J=>m(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),L7.map(J=>l.jsx("option",{value:J,children:J},J))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:J=>T(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:w,onChange:J=>I(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Le,onChange:J=>gt(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:ke,onChange:J=>Ue(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:tt,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:ye,onChange:J=>q(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ne,onChange:J=>W(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:le,onChange:J=>ee(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:re,onChange:J=>he(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:me,onChange:J=>ve(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Me,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:we,children:we?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),_e&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",_e.latitude.toFixed(5),", ",_e.longitude.toFixed(5)]})]}),si==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:S.companyName,onChange:J=>p(De=>({...De,companyName:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:S.phoneNumber,onChange:J=>p(De=>({...De,phoneNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:S.whatsappNumber,onChange:J=>p(De=>({...De,whatsappNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:S.rcNumber,onChange:J=>p(De=>({...De,rcNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:S.businessAddress,onChange:J=>p(De=>({...De,businessAddress:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:S.state,onChange:J=>p(De=>({...De,state:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:S.city,onChange:J=>p(De=>({...De,city:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S.landmark,onChange:J=>p(De=>({...De,landmark:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:S.coverageArea,onChange:J=>p(De=>({...De,coverageArea:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:S.operatingHours,onChange:J=>p(De=>({...De,operatingHours:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:S.logoUrl,onChange:J=>p(De=>({...De,logoUrl:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:S.email,onChange:J=>p(De=>({...De,email:J.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:os,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:g,children:g?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:qe,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Ir(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var e2={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Hl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var x=L(g);x.chunkSize=parseInt(x.chunkSize),g.step||g.chunk||(x.chunkSize=null),this._handle=new w(x),(this._handle.streamer=this)._config=x}).call(this,p),this.parseChunk=function(g,x){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let P=this._config.newline;P||(A=this._config.quoteChar||'"',P=this._handle.guessLineEndings(g,A)),g=[...g.split(P).slice(j)].join(P)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(g))!==void 0&&(g=A),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+g,A=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=A.meta.cursor,j=(this._finished||(this._partialLine=j.substring(g-this._baseIndex),this._baseIndex=g),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:A,workerId:c.WORKER_ID,finished:j});else if(S(this._config.chunk)&&!x){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!j||!S(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(g){S(this._config.error)?this._config.error(g):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:g,finished:!1})}}function h(p){var g;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var x,j=this._config.downloadRequestHeaders;for(x in j)g.setRequestHeader(x,j[x])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+A));try{g.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(x){x=g.statusText||x,this._sendError(new Error(x))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var g,x,j=typeof FileReader<"u";this.stream=function(A){this._input=A,x=A.slice||A.webkitSlice||A.mozSlice,j?((g=new FileReader).onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),A=x.call(A,this._start,P)),g.readAsText(A,this._config.encoding));j||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(g.error)}}function E(p){var g;f.call(this,p=p||{}),this.stream=function(x){return g=x,this._nextChunk()},this._nextChunk=function(){var x,j;if(!this._finished)return x=this._config.chunkSize,g=x?(j=g.substring(0,x),g.substring(x)):(j=g,""),this._finished=!g,this.parseChunk(j)}}function T(p){f.call(this,p=p||{});var g=[],x=!0,j=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):x=!0},this._streamData=N(function(A){try{g.push(typeof A=="string"?A:A.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(p){var g,x,j,A,P=Math.pow(2,53),z=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,M=0,V=0,H=!1,K=!1,Q=[],Y={data:[],errors:[],meta:{}};function se(ne){return p.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function ce(){if(Y&&j&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),j=!1),p.skipEmptyLines&&(Y.data=Y.data.filter(function(re){return!se(re)})),ye()){let re=function(he,me){S(p.transformHeader)&&(he=p.transformHeader(he,me)),Q.push(he)};var ee=re;if(Y)if(Array.isArray(Y.data[0])){for(var ne=0;ye()&&ne<Y.data.length;ne++)Y.data[ne].forEach(re);Y.data.splice(0,1)}else Y.data.forEach(re)}function W(re,he){for(var me=p.header?{}:[],ve=0;ve<re.length;ve++){var _e=ve,Ye=re[ve],Ye=((we,Ve)=>(Ae=>(p.dynamicTypingFunction&&p.dynamicTyping[Ae]===void 0&&(p.dynamicTyping[Ae]=p.dynamicTypingFunction(Ae)),(p.dynamicTyping[Ae]||p.dynamicTyping)===!0))(we)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((Ae=>{if(F.test(Ae)&&(Ae=parseFloat(Ae),z<Ae&&Ae<P))return 1})(Ve)?parseFloat(Ve):B.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(_e=p.header?ve>=Q.length?"__parsed_extra":Q[ve]:_e,Ye=p.transform?p.transform(Ye,_e):Ye);_e==="__parsed_extra"?(me[_e]=me[_e]||[],me[_e].push(Ye)):me[_e]=Ye}return p.header&&(ve>Q.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+ve,V+he):ve<Q.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+ve,V+he)),me}var le;Y&&(p.header||p.dynamicTyping||p.transform)&&(le=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(W),le=Y.data.length):Y.data=W(Y.data,0),p.header&&Y.meta&&(Y.meta.fields=Q),V+=le)}function ye(){return p.header&&Q.length===0}function q(ne,W,le,ee){ne={type:ne,code:W,message:le},ee!==void 0&&(ne.row=ee),Y.errors.push(ne)}S(p.step)&&(A=p.step,p.step=function(ne){Y=ne,ye()?ce():(ce(),Y.data.length!==0&&(M+=ne.data.length,p.preview&&M>p.preview?x.abort():(Y.data=Y.data[0],A(Y,U))))}),this.parse=function(ne,W,le){var ee=p.quoteChar||'"',ee=(p.newline||(p.newline=this.guessLineEndings(ne,ee)),j=!1,p.delimiter?S(p.delimiter)&&(p.delimiter=p.delimiter(ne),Y.meta.delimiter=p.delimiter):((ee=((re,he,me,ve,_e)=>{var Ye,we,Ve,Ae;_e=_e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Qe=0;Qe<_e.length;Qe++){for(var it,lt=_e[Qe],Le=0,gt=0,ke=0,Ue=(Ve=void 0,new C({comments:ve,delimiter:lt,newline:he,preview:10}).parse(re)),Me=0;Me<Ue.data.length;Me++)me&&se(Ue.data[Me])?ke++:(it=Ue.data[Me].length,gt+=it,Ve===void 0?Ve=it:0<it&&(Le+=Math.abs(it-Ve),Ve=it));0<Ue.data.length&&(gt/=Ue.data.length-ke),(we===void 0||Le<=we)&&(Ae===void 0||Ae<gt)&&1.99<gt&&(we=Le,Ye=lt,Ae=gt)}return{successful:!!(p.delimiter=Ye),bestDelimiter:Ye}})(ne,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=ee.bestDelimiter:(j=!0,p.delimiter=c.DefaultDelimiter),Y.meta.delimiter=p.delimiter),L(p));return p.preview&&p.header&&ee.preview++,g=ne,x=new C(ee),Y=x.parse(g,W,le),ce(),H?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,x.abort(),g=S(p.chunk)?"":g.substring(x.getCharIndex())},this.resume=function(){U.streamer._halted?(H=!1,U.streamer.parseChunk(g,!0)):setTimeout(U.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,x.abort(),Y.meta.aborted=!0,S(p.complete)&&p.complete(Y),g=""},this.guessLineEndings=function(re,ee){re=re.substring(0,1048576);var ee=new RegExp(I(ee)+"([^]*?)"+I(ee),"gm"),le=(re=re.replace(ee,"")).split("\r"),ee=re.split(`
`),re=1<ee.length&&ee[0].length<le[0].length;if(le.length===1||re)return`
`;for(var he=0,me=0;me<le.length;me++)le[me][0]===`
`&&he++;return he>=le.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(p){var g=(p=p||{}).delimiter,x=p.newline,j=p.comments,A=p.step,P=p.preview,z=p.fastMode,F=null,B=!1,U=p.quoteChar==null?'"':p.quoteChar,M=U;if(p.escapeChar!==void 0&&(M=p.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),j===g)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var V=0,H=!1;this.parse=function(K,Q,Y){if(typeof K!="string")throw new Error("Input must be a string");var se=K.length,ce=g.length,ye=x.length,q=j.length,ne=S(A),W=[],le=[],ee=[],re=V=0;if(!K)return Le();if(z||z!==!1&&K.indexOf(U)===-1){for(var he=K.split(x),me=0;me<he.length;me++){if(ee=he[me],V+=ee.length,me!==he.length-1)V+=x.length;else if(Y)return Le();if(!j||ee.substring(0,q)!==j){if(ne){if(W=[],Ae(ee.split(g)),gt(),H)return Le()}else Ae(ee.split(g));if(P&&P<=me)return W=W.slice(0,P),Le(!0)}}return Le()}for(var ve=K.indexOf(g,V),_e=K.indexOf(x,V),Ye=new RegExp(I(M)+I(U),"g"),we=K.indexOf(U,V);;)if(K[V]===U)for(we=V,V++;;){if((we=K.indexOf(U,we+1))===-1)return Y||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:V}),it();if(we===se-1)return it(K.substring(V,we).replace(Ye,U));if(U===M&&K[we+1]===M)we++;else if(U===M||we===0||K[we-1]!==M){ve!==-1&&ve<we+1&&(ve=K.indexOf(g,we+1));var Ve=Qe((_e=_e!==-1&&_e<we+1?K.indexOf(x,we+1):_e)===-1?ve:Math.min(ve,_e));if(K.substr(we+1+Ve,ce)===g){ee.push(K.substring(V,we).replace(Ye,U)),K[V=we+1+Ve+ce]!==U&&(we=K.indexOf(U,V)),ve=K.indexOf(g,V),_e=K.indexOf(x,V);break}if(Ve=Qe(_e),K.substring(we+1+Ve,we+1+Ve+ye)===x){if(ee.push(K.substring(V,we).replace(Ye,U)),lt(we+1+Ve+ye),ve=K.indexOf(g,V),we=K.indexOf(U,V),ne&&(gt(),H))return Le();if(P&&W.length>=P)return Le(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:V}),we++}}else if(j&&ee.length===0&&K.substring(V,V+q)===j){if(_e===-1)return Le();V=_e+ye,_e=K.indexOf(x,V),ve=K.indexOf(g,V)}else if(ve!==-1&&(ve<_e||_e===-1))ee.push(K.substring(V,ve)),V=ve+ce,ve=K.indexOf(g,V);else{if(_e===-1)break;if(ee.push(K.substring(V,_e)),lt(_e+ye),ne&&(gt(),H))return Le();if(P&&W.length>=P)return Le(!0)}return it();function Ae(ke){W.push(ke),re=V}function Qe(ke){var Ue=0;return Ue=ke!==-1&&(ke=K.substring(we+1,ke))&&ke.trim()===""?ke.length:Ue}function it(ke){return Y||(ke===void 0&&(ke=K.substring(V)),ee.push(ke),V=se,Ae(ee),ne&&gt()),Le()}function lt(ke){V=ke,Ae(ee),ee=[],_e=K.indexOf(x,V)}function Le(ke){if(p.header&&!Q&&W.length&&!B){var Ue=W[0],Me=Object.create(null),Te=new Set(Ue);let bt=!1;for(let Rt=0;Rt<Ue.length;Rt++){let Xe=Ue[Rt];if(Me[Xe=S(p.transformHeader)?p.transformHeader(Xe,Rt):Xe]){let Se,tt=Me[Xe];for(;Se=Xe+"_"+tt,tt++,Te.has(Se););Te.add(Se),Ue[Rt]=Se,Me[Xe]++,bt=!0,(F=F===null?{}:F)[Se]=Xe}else Me[Xe]=1,Ue[Rt]=Xe;Te.add(Xe)}bt&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:W,errors:le,meta:{delimiter:g,linebreak:x,aborted:H,truncated:!!ke,cursor:re+(Q||0),renamedHeaders:F}}}function gt(){A(Le()),W=[],le=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return V}}function y(p){var g=p.data,x=a[g.workerId],j=!1;if(g.error)x.userError(g.error,g.file);else if(g.results&&g.results.data){var A={abort:function(){j=!0,b(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(S(x.userStep)){for(var P=0;P<g.results.data.length&&(x.userStep({data:g.results.data[P],errors:g.results.errors,meta:g.results.meta},A),!j);P++);delete g.results}else S(x.userChunk)&&(x.userChunk(g.results,A,g.file),delete g.results)}g.finished&&!j&&b(g.workerId,g.results)}function b(p,g){var x=a[p];S(x.userComplete)&&x.userComplete(g),x.terminate(),delete a[p]}function k(){throw new Error("Not implemented.")}function L(p){if(typeof p!="object"||p===null)return p;var g,x=Array.isArray(p)?[]:{};for(g in p)x[g]=L(p[g]);return x}function N(p,g){return function(){p.apply(g,arguments)}}function S(p){return typeof p=="function"}return c.parse=function(p,g){var x=(g=g||{}).dynamicTyping||!1;if(S(x)&&(g.dynamicTypingFunction=x,x={}),g.dynamicTyping=x,g.transform=!!S(g.transform)&&g.transform,!g.worker||!c.WORKERS_SUPPORTED)return x=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(p),x=new(g.download?h:E)(g)):p.readable===!0&&S(p.read)&&S(p.on)?x=new T(g):(r.File&&p instanceof File||p instanceof Object)&&(x=new m(g)),x.stream(p);(x=(()=>{var j;return!!c.WORKERS_SUPPORTED&&(j=(()=>{var A=r.URL||r.webkitURL||null,P=n.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(j=new r.Worker(j)).onmessage=y,j.id=u++,a[j.id]=j)})()).userStep=g.step,x.userChunk=g.chunk,x.userComplete=g.complete,x.userError=g.error,g.step=S(g.step),g.chunk=S(g.chunk),g.complete=S(g.complete),g.error=S(g.error),delete g.worker,x.postMessage({input:p,config:g,workerId:x.id})},c.unparse=function(p,g){var x=!1,j=!0,A=",",P=`\r
`,z='"',F=z+z,B=!1,U=null,M=!1,V=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Q){return g.delimiter.indexOf(Q)!==-1}).length||(A=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(x=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(B=g.skipEmptyLines),typeof g.newline=="string"&&(P=g.newline),typeof g.quoteChar=="string"&&(z=g.quoteChar),typeof g.header=="boolean"&&(j=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");U=g.columns}g.escapeChar!==void 0&&(F=g.escapeChar+z),g.escapeFormulae instanceof RegExp?M=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(z),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return H(null,p,B);if(typeof p[0]=="object")return H(U||Object.keys(p[0]),p,B)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||U),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),H(p.fields||[],p.data||[],B);throw new Error("Unable to serialize unrecognized input");function H(Q,Y,se){var ce="",ye=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(Q)&&0<Q.length),q=!Array.isArray(Y[0]);if(ye&&j){for(var ne=0;ne<Q.length;ne++)0<ne&&(ce+=A),ce+=K(Q[ne],ne);0<Y.length&&(ce+=P)}for(var W=0;W<Y.length;W++){var le=(ye?Q:Y[W]).length,ee=!1,re=ye?Object.keys(Y[W]).length===0:Y[W].length===0;if(se&&!ye&&(ee=se==="greedy"?Y[W].join("").trim()==="":Y[W].length===1&&Y[W][0].length===0),se==="greedy"&&ye){for(var he=[],me=0;me<le;me++){var ve=q?Q[me]:me;he.push(Y[W][ve])}ee=he.join("").trim()===""}if(!ee){for(var _e=0;_e<le;_e++){0<_e&&!re&&(ce+=A);var Ye=ye&&q?Q[_e]:_e;ce+=K(Y[W][Ye],_e)}W<Y.length-1&&(!se||0<le&&!re)&&(ce+=P)}}return ce}function K(Q,Y){var se,ce;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(ce=!1,M&&typeof Q=="string"&&M.test(Q)&&(Q="'"+Q,ce=!0),se=Q.toString().replace(V,F),(ce=ce||x===!0||typeof x=="function"&&x(Q,Y)||Array.isArray(x)&&x[Y]||((ye,q)=>{for(var ne=0;ne<q.length;ne++)if(-1<ye.indexOf(q[ne]))return!0;return!1})(se,c.BAD_DELIMITERS)||-1<se.indexOf(A)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?z+se+z:se)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=C,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=E,c.ReadableStreamStreamer=T,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var g=p.config||{},x=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)x.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},g)})}),j(),this;function j(){if(x.length===0)S(p.complete)&&p.complete();else{var P,z,F,B,U=x[0];if(S(p.before)){var M=p.before(U.file,U.inputElem);if(typeof M=="object"){if(M.action==="abort")return P="AbortError",z=U.file,F=U.inputElem,B=M.reason,void(S(p.error)&&p.error({name:P},z,F,B));if(M.action==="skip")return void A();typeof M.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,M.config))}else if(M==="skip")return void A()}var V=U.instanceConfig.complete;U.instanceConfig.complete=function(H){S(V)&&V(H,U.file,U.inputElem),A()},c.parse(U.file,U.instanceConfig)}}function A(){x.splice(0,1),j()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(T.prototype=Object.create(f.prototype)).constructor=T,c})})(e2);var D7=e2.exports;const t2=yh(D7);function $7({businessId:t}){const[e,n]=_.useState([]),[r,i]=_.useState(!0),[s,o]=_.useState({}),a=Ur();return _.useEffect(()=>{if(!t)return;const u=br(Re(Z,"chats"),_r("participants","array-contains",t)),c=Ct(u,async f=>{const h=[],m=new Set;f.forEach(T=>{const w=T.data(),I=w.participants.find(C=>C!==t);I&&(h.push({id:T.id,...w,customerId:I}),m.add(I))}),n(h);const E={};await Promise.all(Array.from(m).map(async T=>{const w=await Qt(be(Z,"users",T));w.exists()&&(E[T]=w.data())})),o(E),i(!1)});return()=>c()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(u=>{const c=s[u.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:c.photo||"https://ui-avatars.com/api/?name="+(c.name||c.email||"Customer"),alt:c.name||c.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:c.name||c.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:c.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:u.customerId,chatId:u.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},u.id)})})]})}const mg=["name","ingredient","class","price","image"];function F7(){const[t,e]=_.useState(""),[n,r]=_.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=_.useState(null);if(_.useEffect(()=>{ja(async()=>{const{getAuth:F,onAuthStateChanged:B}=await Promise.resolve().then(()=>nR);return{getAuth:F,onAuthStateChanged:B}},void 0).then(({getAuth:F,onAuthStateChanged:B})=>{const U=F();B(U,async M=>{if(M){const{getDoc:V,doc:H}=await ja(async()=>{const{getDoc:Q,doc:Y}=await Promise.resolve().then(()=>rx);return{getDoc:Q,doc:Y}},void 0),K=await V(H(Z,"users",M.uid));a(K.exists()?K.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=_.useState(null),[f,h]=_.useState(null),[m,E]=_.useState([]),[T,w]=_.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,C]=_.useState(null),[y,b]=_.useState([]),[k,L]=_.useState([]),N=m.filter(F=>{var U,M,V;const B=t.toLowerCase();return((U=F.name)==null?void 0:U.toLowerCase().includes(B))||((M=F.ingredient)==null?void 0:M.toLowerCase().includes(B))||((V=F.class)==null?void 0:V.toLowerCase().includes(B))}),S=Pn();_.useEffect(()=>{const F=wr(S,async B=>{if(B){c(B);try{const U=await Qt(be(Z,"users",B.uid));U.exists()?h(U.data()):h({role:"customer"})}catch(U){console.error("Error fetching user doc:",U),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[S]),_.useEffect(()=>{if(!u)return;const F=Ct(Re(Z,"products"),B=>{const U=B.docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.ownerId===u.uid);E(U)});return()=>F()},[u]),_.useEffect(()=>{if(!u)return;const F=Ct(Re(Z,"batches"),B=>{const U=B.docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.uploadedBy===u.uid);L(U)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),g=async F=>{if(F.preventDefault(),!u)return Ee.error("Please log in first");if(!f)return Ee.info("Loading user data...");const{name:B,ingredient:U,class:M,price:V,image:H}=T;if(!B||!U||!M||!V)return Ee.warn("Please fill all required fields");const K=parseInt(V,10);if(isNaN(K)||K<0)return Ee.warn("Price must be a positive number");const{ownerSlug:Q,businessName:Y}=p(),se=(f==null?void 0:f.pharmacist)||null;try{I?(await Zt(be(Z,"products",I),{name:B,ingredient:U,class:M,price:K,image:H||"",ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),C(null)):await es(Re(Z,"products"),{name:B,ingredient:U,class:M,price:K,image:H||"",ownerId:u.uid,ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(ce){console.error(ce),Ee.error("Error saving medicine")}},x=F=>{const B=F.target.files[0];B&&t2.parse(B,{header:!0,skipEmptyLines:!0,complete:U=>{const M=U.data.map(V=>{const H={};return mg.forEach(K=>H[K]=V[K]||(K==="price"?0:"N/A")),H});b(M)}})},j=async()=>{if(!y.length)return Ee.info("No CSV data to upload");if(!u)return Ee.error("Please log in first");if(!f)return Ee.info("Loading user data...");const F=be(Re(Z,"batches")),B=[],{ownerSlug:U,businessName:M}=p(),V=(f==null?void 0:f.pharmacist)||null;for(let H of y)try{const K=await es(Re(Z,"products"),{name:H.name,ingredient:H.ingredient,class:H.class,price:parseInt(H.price,10)||0,image:H.image==="N/A"?"":H.image,batchId:F.id,ownerId:u.uid,ownerSlug:U||"",businessName:M||"",isPOM:!!H.isPOM,pharmacist:V||null});B.push(K.id)}catch(K){console.error("CSV upload error for row:",H,K)}try{await ar(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:B})}catch(H){console.error("Failed to create batch doc:",H)}alert(` ${B.length} medicines uploaded`),Ee.success(` ${B.length} medicines uploaded`),b([])},A=F=>{w({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),C(F.id),r("add")},P=async F=>{if(window.confirm("Delete this medicine?"))try{await $r(be(Z,"products",F.id)),Ee.success("Medicine deleted.")}catch(B){console.error(B),Ee.error("Error deleting medicine")}},z=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let B of F.medicineIds)await $r(be(Z,"products",B));await $r(be(Z,"batches",F.id)),Ee.success("Batch deleted.")}catch(B){console.error(B),Ee.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsx(z7,{user:u,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:g,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:T.name,onChange:F=>w({...T,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:T.ingredient,onChange:F=>w({...T,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:T.class,onChange:F=>w({...T,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:T.price,onChange:F=>w({...T,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:T.image,onChange:F=>w({...T,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:T.isPOM,onChange:F=>w({...T,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{C(null),w({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:x,style:{marginBottom:"10px"}}),y.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:mg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:y.map((F,B)=>l.jsx("tr",{children:mg.map(U=>l.jsx("td",{children:F[U]},U))},B))})]}),l.jsx("button",{onClick:j,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),k.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:k.map(F=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((B=F.medicineIds)==null?void 0:B.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>z(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(V7,{userId:u.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx($7,{businessId:u.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function V7({userId:t}){const[e,n]=pe.useState(null),[r,i]=pe.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=pe.useState(!1),[a,u]=pe.useState(!1);pe.useEffect(()=>{const h=be(Z,"users",t);Qt(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await Zt(be(Z,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function z7({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=pe.useState(!1),[s,o]=pe.useState(!1),[a,u]=pe.useState(""),c=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),u(""),o(!1),!navigator.geolocation){u("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async T=>{const w={latitude:T.coords.latitude,longitude:T.coords.longitude};try{await Zt(be(Z,"users",t.uid),{location:w,lat:w.latitude,lng:w.longitude}),n(I=>({...I,location:w,lat:w.latitude,lng:w.longitude})),o(!0)}catch{u("Failed to update location.")}i(!1)},T=>{u("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",c&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",c.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}function B7(t){return pt("MuiAlert",t)}const MS=ct("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function U7(t){return pt("MuiIconButton",t)}const W7=ct("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),H7=["edge","children","className","color","disabled","disableFocusRipple","size"],q7=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${We(r)}`,i&&`edge${We(i)}`,`size${We(s)}`]};return xt(o,U7,e)},K7=Pe($x,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${We(n.color)}`],n.edge&&e[`edge${We(n.edge)}`],e[`size${We(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${W7.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),G7=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:u=!1,disableFocusRipple:c=!1,size:f="medium"}=r,h=Ie(r,H7),m=$({},r,{edge:i,color:a,disabled:u,disableFocusRipple:c,size:f}),E=q7(m);return l.jsx(K7,$({className:$e(E.root,o),centerRipple:!0,focusRipple:!c,disabled:u,ref:n},h,{ownerState:m,children:s}))}),Q7=xl(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Y7=xl(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),X7=xl(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),J7=xl(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Z7=xl(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),eH=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],tH=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${We(n||r)}`,`${e}${We(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return xt(s,B7,i)},nH=Pe(qp,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${We(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?tv:nv,n=t.palette.mode==="light"?nv:tv;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${MS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${MS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),rH=Pe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),iH=Pe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),DS=Pe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$S={success:l.jsx(Q7,{fontSize:"inherit"}),warning:l.jsx(Y7,{fontSize:"inherit"}),error:l.jsx(X7,{fontSize:"inherit"}),info:l.jsx(J7,{fontSize:"inherit"})},FS=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:u,components:c={},componentsProps:f={},icon:h,iconMapping:m=$S,onClose:E,role:T="alert",severity:w="success",slotProps:I={},slots:C={},variant:y="standard"}=r,b=Ie(r,eH),k=$({},r,{color:u,severity:w,variant:y,colorSeverity:u||w}),L=tH(k),N={slots:$({closeButton:c.CloseButton,closeIcon:c.CloseIcon},C),slotProps:$({},f,I)},[S,p]=_S("closeButton",{elementType:G7,externalForwardedProps:N,ownerState:k}),[g,x]=_S("closeIcon",{elementType:Z7,externalForwardedProps:N,ownerState:k});return l.jsxs(nH,$({role:T,elevation:0,ownerState:k,className:$e(L.root,o),ref:n},b,{children:[h!==!1?l.jsx(rH,{ownerState:k,className:L.icon,children:h||m[w]||$S[w]}):null,l.jsx(iH,{ownerState:k,className:L.message,children:s}),i!=null?l.jsx(DS,{ownerState:k,className:L.action,children:i}):null,i==null&&E?l.jsx(DS,{ownerState:k,className:L.action,children:l.jsx(S,$({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(g,$({fontSize:"small"},x))}))}):null]}))}),sH=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),oH=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),aH=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=$({html:sH(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},oH(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function lH(t){const e=mt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(_.Fragment,{children:[l.jsx(uP,{styles:i=>aH(i,r)}),n]})}function uH(t){return pt("MuiDivider",t)}const VS=ct("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),cH=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],dH=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return xt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},uH,r)},fH=Pe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:rr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),hH=Pe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),n2=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,T=Ie(r,cH),w=$({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:E}),I=dH(w);return l.jsx(fH,$({as:a,className:$e(I.root,o),role:h,ref:n,ownerState:w},T,{children:s?l.jsx(hH,{className:I.wrapper,ownerState:w,children:s}):null}))});n2.muiSkipListHighlight=!0;const zS=_.createContext();function pH(t){return pt("MuiGrid",t)}const mH=[0,1,2,3,4,5,6,7,8,9,10],gH=["column-reverse","column","row-reverse","row"],yH=["nowrap","wrap-reverse","wrap"],Ul=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],nc=ct("MuiGrid",["root","container","item","zeroMinWidth",...mH.map(t=>`spacing-xs-${t}`),...gH.map(t=>`direction-xs-${t}`),...yH.map(t=>`wrap-xs-${t}`),...Ul.map(t=>`grid-xs-${t}`),...Ul.map(t=>`grid-sm-${t}`),...Ul.map(t=>`grid-md-${t}`),...Ul.map(t=>`grid-lg-${t}`),...Ul.map(t=>`grid-xl-${t}`)]),vH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Oa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function xH({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Tp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${Oa(f)})`;c={flexBasis:h,maxWidth:h}}}s=$({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function bH({theme:t,ownerState:e}){const n=Tp({values:e.direction,breakpoints:t.breakpoints.values});return zr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${nc.item}`]={maxWidth:"none"}),i})}function r2({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function _H({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Tp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=r2({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Oa(f)}`,[`& > .${nc.item}`]:{paddingTop:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${nc.item}`]:{paddingTop:0}}})}return i}function wH({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Tp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=r2({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Oa(f)})`,marginLeft:`-${Oa(f)}`,[`& > .${nc.item}`]:{paddingLeft:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${nc.item}`]:{paddingLeft:0}}})}return i}function SH(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const EH=Pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=SH(o,c,e));const h=[];return c.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),bH,_H,wH,xH);function TH(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const CH=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=TH(s,u));const f=[];u.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return xt(h,pH,e)},Pt=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiGrid"}),{breakpoints:i}=Fx(),s=jp(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:T=0,wrap:w="wrap",zeroMinWidth:I=!1}=s,C=Ie(s,vH),y=E||T,b=u||T,k=_.useContext(zS),L=f?a||12:k,N={},S=$({},C);i.keys.forEach(x=>{C[x]!=null&&(N[x]=C[x],delete S[x])});const p=$({},s,{columns:L,container:f,direction:h,item:m,rowSpacing:y,columnSpacing:b,wrap:w,zeroMinWidth:I,spacing:T},N,{breakpoints:i.keys}),g=CH(p);return l.jsx(zS.Provider,{value:L,children:l.jsx(EH,$({ownerState:p,className:$e(g.root,o),as:c,ref:n},S))})}),BS=ct("MuiListItemIcon",["root","alignItemsFlexStart"]),US=ct("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function IH(t){return pt("MuiMenuItem",t)}const Wl=ct("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],RH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},PH=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=xt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},IH,o);return $({},o,u)},AH=Pe($x,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:RH})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Wl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Wl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Wl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Wl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${VS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${VS.inset}`]:{marginLeft:52},[`& .${US.root}`]:{marginTop:0,marginBottom:0},[`& .${US.inset}`]:{paddingLeft:36},[`& .${BS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${BS.root} svg`]:{fontSize:"1.25rem"}}))),WS=_.forwardRef(function(e,n){const r=mt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,E=Ie(r,kH),T=_.useContext(ov),w=_.useMemo(()=>({dense:o||T.dense||!1,disableGutters:u}),[T.dense,o,u]),I=_.useRef(null);ns(()=>{i&&I.current&&I.current.focus()},[i]);const C=$({},r,{dense:w.dense,divider:a,disableGutters:u}),y=PH(r),b=jn(I,n);let k;return r.disabled||(k=h!==void 0?h:-1),l.jsx(ov.Provider,{value:w,children:l.jsx(AH,$({ref:b,role:f,tabIndex:k,component:s,focusVisibleClassName:$e(y.focusVisible,c),className:$e(y.root,m)},E,{ownerState:C,classes:y}))})});var rc=function(){return rc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rc.apply(this,arguments)};function Yx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Rd=[];function jH(){var t="https://js.paystack.co/v1/inline.js",e=_.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return _.useEffect(function(){if(Rd.includes(t))r({loaded:!0,error:!1});else{Rd.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Rd.indexOf(t);a>=0&&Rd.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var OH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function i2(t){var e=jH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=rc(rc({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,E=c.phone,T=c.email,w=c.amount,I=c.reference,C=c.metadata,y=C===void 0?{}:C,b=c.currency,k=b===void 0?"NGN":b,L=c.channels,N=c.label,S=N===void 0?"":N,p=c.plan,g=p===void 0?"":p,x=c.quantity,j=x===void 0?"":x,A=c.subaccount,P=A===void 0?"":A,z=c.transaction_charge,F=z===void 0?0:z,B=c.bearer,U=B===void 0?"account":B,M=c.split,V=c.split_code;if(n){var H={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:T,firstname:h,lastname:m,phone:E,amount:w,currency:k,plan:g,quantity:j,channels:L,subaccount:P,transaction_charge:F,bearer:U,label:S,metadata:y,split:M,split_code:V,"data-custom-button":c["data-custom-button"]||""};OH(H)}}return _.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var NH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=Yx(t,["text","className","children","onSuccess","onClose"]),a=i2(o);return pe.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},s2=_.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),LH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Yx(t,["children","onSuccess","onClose"]),s=i2(i);return pe.createElement(s2.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},MH=function(t){var e=t.children,n=t.ref,r=_.useContext(s2),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};_.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=Yx(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return pe.createElement(LH,rc({},s,{onSuccess:o,onClose:a}),pe.createElement(MH,{ref:e},n))});async function DH(t){if(!t)return null;const e=br(Re(Z,"coupons"),_r("code","==",t)),n=await en(e);return n.empty?null:n.docs[0].data()}function $H(){var M,V,H;const[t,e]=_.useState(""),[n,r]=_.useState(null),[i,s]=_.useState(""),o=Pn(),a=Ur(),u=Hs(),[c,f]=_.useState(null),[h,m]=_.useState(((M=u.state)==null?void 0:M.cart)||[]),[E,T]=_.useState(((V=u.state)==null?void 0:V.total)||0),w=h.length===1&&((H=h[0])==null?void 0:H.isConsultation),[I,C]=_.useState("standard"),[y,b]=_.useState(w?0:500),[k,L]=_.useState(1e3),[N,S]=_.useState(E+(w?0:y)),[p,g]=_.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),x="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";_.useEffect(()=>wr(o,async Q=>{if(!Q)return a("/auth");if(f(Q),h.length===0){const Y=be(Z,"carts",Q.uid),se=await Qt(Y);if(se.exists()){const ce=se.data().items||[];m(ce);const ye=ce.reduce((q,ne)=>q+ne.price*(ne.quantity||1),0);T(ye),S(ye+y)}}}),[o,h.length,y,a]),_.useEffect(()=>{let K=h.some(ce=>ce.isPOM)?500:0,Q=y,Y=E,se=0;n&&(n.removePOM&&(K=0),n.removeDelivery&&(Q=0),n.percent>0&&(se=Math.round((Y+K+Q)*(n.percent/100)))),L(K),S(Y+K+Q-se)},[E,y,h,n]),_.useEffect(()=>{b(w?0:I==="standard"?500:3e3)},[I,w]);const j=async()=>{s("");const K=await DH(t.trim().toUpperCase());K?(r(K),s("")):(r(null),s("Invalid coupon code"))},A=()=>w?["name","phone","address","age","complaint"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}):["name","phone","address","city","state"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}),P={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:N*100,publicKey:x},z=async K=>{if(!c||h.length===0)return;const Q=be(Re(Z,"orders"));await ar(Q,{userId:c.uid,items:h,subtotal:E,deliveryFee:y,pomFee:k,total:N,status:"Processing",date:new Date().toISOString(),paymentReference:(K==null?void 0:K.reference)||"COUPON_FREE",deliveryInfo:p,coupon:n||null,deliveryType:I}),await ar(be(Z,"carts",c.uid),{items:[]}),m([]),T(0),S(0),Ee.success(" Payment successful! Order created.");const Y=h.find(ce=>ce.isConsultation&&ce.whatsapp);if(Y){window.location.href=`https://wa.me/${Y.whatsapp}`;return}const se=h.find(ce=>ce.isPOM&&ce.pharmacist&&ce.ownerId);if(se&&se.pharmacist&&se.ownerId){a(`/chat/${se.ownerId}`,{state:{pharmacist:se.pharmacist,businessName:se.businessName}});return}h.some(ce=>ce.isPOM)?a("/medinterface"):a("/orders")},F=()=>{Ee.info("Payment cancelled.")},B=K=>{g({...p,[K.target.name]:K.target.value})},U=()=>{alert(" Please complete all delivery information before proceeding.")};return c?l.jsx(En,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(nf,{children:l.jsxs(rf,{children:[l.jsx(wt,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(wt,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(En,{sx:{mb:2},children:h.map((K,Q)=>l.jsxs(En,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(wt,{children:[K.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",K.quantity||1]})]}),l.jsxs(wt,{fontWeight:500,children:["",K.price*(K.quantity||1)]})]},Q))}),l.jsxs(Pt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Subtotal:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,children:["",E]})}),!w&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Delivery Type:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsx(cP,{fullWidth:!0,size:"small",children:l.jsxs(Kx,{value:I,onChange:K=>C(K.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(WS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(WS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Delivery Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:y]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{color:k>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,color:k>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:k]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{color:"primary",children:"Discount:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{color:"primary",children:["-",Math.round((E+k+(n!=null&&n.removeDelivery?0:y))*(n.percent/100))]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:700,children:["",N]})})]}),l.jsxs(En,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(cr,{size:"small",label:"Coupon code",value:t,onChange:K=>e(K.target.value),sx:{mr:1,flex:1}}),l.jsx(go,{variant:"outlined",onClick:j,children:"Apply"})]}),i&&l.jsx(FS,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(FS,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(n2,{sx:{my:3}}),w?l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Consultation Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Age",name:"age",value:p.age,onChange:B,type:"number"})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:p.complaint,onChange:B,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"City",name:"city",value:p.city,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"State",name:"state",value:p.state,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:p.instructions,onChange:B,multiline:!0,minRows:2})})]})]}),l.jsx(En,{sx:{mt:2,textAlign:"center"},children:A()?N>0?l.jsx(NH,{text:"Pay Now ",className:"paystack-button",...P,callback:z,close:F,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>z({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:U,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function FH(){const[t,e]=_.useState([]),[n,r]=_.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=_.useState(null);_.useEffect(()=>{const c=Ct(Re(Z,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await Zt(be(Z,"coupons",i),n),s(null)):await es(Re(Z,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await $r(be(Z,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function VH(){const[t,e]=_.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=_.useState([]),[i,s]=_.useState(null),[o,a]=_.useState({}),[u,c]=_.useState(!1),[f,h]=_.useState("");_.useEffect(()=>{const y=Ct(Re(Z,"deliveryAgents"),b=>{r(b.docs.map(k=>({id:k.id,...k.data()})))});return()=>y()},[]),_.useEffect(()=>{async function y(){const b=br(Re(Z,"deliveryAgents"));(await en(b)).forEach(async L=>{typeof L.data().approved>"u"&&await be(Z,"deliveryAgents",L.id).update({approved:!1})})}y()},[]);const m=y=>{a({...o,[y.target.name]:y.target.value})},E=y=>{s(y.id),a(y)},T=async y=>{await Zt(be(Z,"deliveryAgents",y),o),s(null),a({})},w=async y=>{window.confirm("Delete this delivery agent?")&&await $r(be(Z,"deliveryAgents",y))},I=async y=>{c(!0),h(""),await Zt(be(Z,"deliveryAgents",y),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},C=async y=>{c(!0),h(""),await Zt(be(Z,"deliveryAgents",y),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(y=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===y.id?l.jsxs("form",{onSubmit:b=>{b.preventDefault(),T(y.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(pe.Fragment,{children:[l.jsx("img",{src:y.logoUrl,alt:y.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:y.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:y.businessAddress}),l.jsxs("div",{children:["RC Number: ",y.rcNumber]}),l.jsxs("div",{children:["Phone: ",y.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",y.whatsappNumber]}),l.jsxs("div",{children:["Email: ",y.email]}),l.jsxs("div",{children:["Coverage: ",y.coverageArea]}),l.jsxs("div",{children:["Hours: ",y.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(y),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>w(y.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!y.approved&&l.jsx("button",{onClick:()=>I(y.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),y.approved&&l.jsx("button",{onClick:()=>C(y.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),y.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},y.id))]})})}function zH(){const[t,e]=_.useState([]);_.useEffect(()=>{(async()=>{try{const te=await en(Re(Z,"deliveryAgents"));e(te.docs.map(ue=>({id:ue.id,...ue.data()})))}catch{e([])}})()},[]);const[n,r]=_.useState({}),i=async(O,te)=>{try{const ue=t.find(st=>st.id===te),Fe=(ue==null?void 0:ue.userId)||"";await Zt(be(Z,"orders",O),{riderId:Fe,assignedAgentId:Fe,assignedAgentName:ue?ue.companyName||ue.name||ue.email||ue.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(st=>({...st,[O]:!1})),Ee.success("Order reassigned successfully.")}catch{Ee.error("Failed to reassign order.")}},s=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await Zt(be(Z,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),Ee.success("Order cancelled.")}catch{Ee.error("Failed to cancel order.")}},[o,a]=_.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=_.useState(""),[f,h]=_.useState(""),[m,E]=_.useState(""),[T,w]=_.useState(""),[I,C]=_.useState({}),[y,b]=_.useState({}),L=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,S]=pe.useState(null);if(_.useEffect(()=>{ja(async()=>{const{getAuth:O,onAuthStateChanged:te}=await Promise.resolve().then(()=>nR);return{getAuth:O,onAuthStateChanged:te}},void 0).then(({getAuth:O,onAuthStateChanged:te})=>{const ue=O();te(ue,async Fe=>{if(Fe){const{getDoc:st,doc:nt}=await ja(async()=>{const{getDoc:ot,doc:Rr}=await Promise.resolve().then(()=>rx);return{getDoc:ot,doc:Rr}},void 0),{db:_t}=await ja(async()=>{const{db:ot}=await Promise.resolve().then(()=>A5);return{db:ot}},void 0),je=await st(nt(_t,"users",Fe.uid));S(je.exists()?je.data().role:null)}else S(null)})})},[]),L||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,g]=_.useState([]);_.useEffect(()=>{const O=Ct(Re(Z,"businessRegistrations"),te=>{g(te.docs.map(ue=>({id:ue.id,...ue.data()})))});return()=>O()},[]);const x=async(O,te)=>{if(await Zt(be(Z,"businessRegistrations",O.id),{status:te}),te==="declined"){const ue=br(Re(Z,"orders"),_r("userId","==",O.businessId),_r("items","array-contains-any",O.cart)),Fe=await en(ue);for(const st of Fe.docs)await Zt(be(Z,"orders",st.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}Ee.info(`Registration ${te}`)},[j,A]=_.useState(""),[P,z]=_.useState(""),[F,B]=_.useState(""),[U,M]=_.useState(""),[V,H]=_.useState(""),K=()=>{let O=J;j&&(O=O.filter(je=>new Date(je.completedAt||je.date)>=new Date(j))),P&&(O=O.filter(je=>new Date(je.completedAt||je.date)<=new Date(P))),F&&(O=O.filter(je=>je.medicVerifiedBy===F)),U&&(O=O.filter(je=>je.items&&je.items.some(ot=>ot.name&&ot.name.toLowerCase().includes(U.toLowerCase())))),V==="true"&&(O=O.filter(je=>je.items&&je.items.some(ot=>ot.isPOM))),V==="false"&&(O=O.filter(je=>je.items&&!je.items.some(ot=>ot.isPOM)));const te=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],ue=O.map(je=>[je.id,new Date(je.completedAt||je.date).toLocaleString(),qe[je.userId]&&qe[je.userId].email?qe[je.userId].email:je.userId,je.medicVerifiedBy?(ke.concat(Me).find(ot=>ot.id===je.medicVerifiedBy)||{}).name||je.medicVerifiedBy:"",je.total||kr(je.items||[]),je.items?je.items.map(ot=>`${ot.name} (${ot.quantity||1})`).join("; "):"",je.items?je.items.filter(ot=>ot.isPOM).map(ot=>ot.name).join("; "):""]),Fe=[te,...ue].map(je=>je.map(ot=>`"${String(ot).replace(/"/g,'""')}"`).join(",")).join(`\r
`),st=new Blob([Fe],{type:"text/csv"}),nt=URL.createObjectURL(st),_t=document.createElement("a");_t.href=nt,_t.download=`orders_${Date.now()}.csv`,document.body.appendChild(_t),_t.click(),document.body.removeChild(_t),URL.revokeObjectURL(nt)},[Q,Y]=_.useState(""),[se,ce]=_.useState(null),[ye,q]=_.useState(null),[ne,W]=_.useState([]),[le,ee]=_.useState([]),[re,he]=_.useState(""),[me,ve]=_.useState([]),[_e,Ye]=_.useState([]),[we,Ve]=_.useState("products"),[Ae,Qe]=_.useState({}),[it,lt]=_.useState(null),[Le,gt]=_.useState(!0),[ke,Ue]=_.useState([]),[Me,Te]=_.useState([]),[bt,Rt]=_.useState(""),[Xe,Se]=_.useState("date-desc"),tt=Pn();_.useEffect(()=>{const O=wr(tt,async te=>{if(te){ce(te);const ue=await Qt(be(Z,"users",te.uid));q(ue.exists()?ue.data():{role:"customer"})}else ce(null),q(null)});return()=>O()},[tt]),_.useEffect(()=>{const O=Ct(Re(Z,"products"),ue=>W(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()})))),te=Ct(Re(Z,"batches"),ue=>{ee(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()}))),gt(!1)});return()=>{O(),te()}},[]),_.useEffect(()=>{if(!ye)return;const O=Ct(Re(Z,"users"),te=>ve(te.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>O()},[ye]),_.useEffect(()=>{const O=Ct(Re(Z,"orders"),te=>{const ue=te.docs.map(Fe=>({id:Fe.id,...Fe.data()}));ue.sort((Fe,st)=>new Date(st.date)-new Date(Fe.date)),Ye(ue)});return()=>O()},[]);const qe={};me.forEach(O=>qe[O.id]=O);const Cr=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await $r(be(Z,"products",O.id)),Ee.success("Medicine deleted.")}catch(te){console.error(te),Ee.error("Error deleting medicine")}},os=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let te of O.medicineIds)await $r(be(Z,"products",te));await $r(be(Z,"batches",O.id))}catch(te){console.error(te),alert("Error deleting batch")}},Qs=async(O,te)=>{try{await Zt(be(Z,"users",O),{role:te}),alert("Role updated!")}catch(ue){console.error(ue),alert("Error updating role")}},Ir=O=>Qe(te=>({...te,[O]:!te[O]}));_.useEffect(()=>{en(Re(Z,"verifyMedics")).then(O=>{Ue(O.docs.map(te=>({id:te.id,...te.data(),type:"Prescription Verification"})))}),en(Re(Z,"consultMedics")).then(O=>{Te(O.docs.map(te=>({id:te.id,...te.data(),type:"Consultation"})))})},[]);const si=async O=>{var Fe;const te=(Fe=O.items)==null?void 0:Fe.some(st=>st.isPOM);let ue=null;if(te){if(!Q)return alert("Select a verifying medic before completing POM order.");ue=Q}window.confirm("Mark order as completed?")&&(await Zt(be(Z,"orders",O.id),{status:"Completed",completedBy:se.uid,completedAt:new Date().toISOString(),medicVerifiedBy:ue||null}),alert(" Order marked completed"),Y(""))},kr=O=>O.reduce((te,ue)=>te+ue.price*(ue.quantity||1),0);if(!se)return l.jsx("p",{children:"Please log in to access admin."});if(!ye)return l.jsx("p",{children:"Loading user data..."});if(ye.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Le)return l.jsx("p",{children:"Loading dashboard..."});const as=_e.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[O.userId])==null?void 0:ue.email)||O.userId).toLowerCase().includes(te)||((Fe=O.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((O,te)=>Xe==="date-desc"?new Date(te.date)-new Date(O.date):Xe==="date-asc"?new Date(O.date)-new Date(te.date):Xe==="amount-desc"?(te.total||0)-(O.total||0):Xe==="amount-asc"?(O.total||0)-(te.total||0):0),J=_e.filter(O=>O.status==="Completed"),De=J.filter(O=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[O.userId])==null?void 0:ue.email)||O.userId).toLowerCase().includes(te)||((Fe=O.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((O,te)=>Xe==="date-desc"?new Date(te.completedAt||te.date)-new Date(O.completedAt||O.date):Xe==="date-asc"?new Date(O.completedAt||O.date)-new Date(te.completedAt||te.date):Xe==="amount-desc"?(te.total||0)-(O.total||0):Xe==="amount-asc"?(O.total||0)-(te.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,te)=>{var ue,Fe,st,nt,_t;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((ue=O.businessInfo)==null?void 0:ue.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((Fe=O.businessInfo)==null?void 0:Fe.email)||""]}),l.jsxs("p",{children:["Phone: ",((st=O.businessInfo)==null?void 0:st.phone)||""]}),l.jsxs("p",{children:["Address: ",((nt=O.businessInfo)==null?void 0:nt.address)||""]}),l.jsxs("p",{children:["Products: ",(_t=O.cart)==null?void 0:_t.map(je=>je.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>x(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>Ve("products"),style:Zo(we==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>Ve("users"),style:Zo(we==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>Ve("orders"),style:Zo(we==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>Ve("medics"),style:Zo(we==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>Ve("deliveryagents"),style:Zo(we==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>Ve("coupons"),style:Zo(we==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",se.email]}),we==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(VH,{})]})]})]}),we==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:re,onChange:O=>he(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),le.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:gg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:le.filter(O=>{var ue;return re?(((ue=qe[O.uploadedBy])==null?void 0:ue.businessName)||"").toLowerCase().includes(re.toLowerCase()):!0}).map(O=>{var te,ue;return l.jsxs("tr",{style:yg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((te=qe[O.uploadedBy])==null?void 0:te.businessName)||O.uploadedBy}),l.jsx("td",{children:((ue=O.medicineIds)==null?void 0:ue.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>os(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:O=>c(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>E(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(ne.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:T||"",onChange:O=>w(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(ne.map(O=>O.ownerId).filter(Boolean))].map(O=>{var te;return l.jsx("option",{value:O,children:((te=qe[O])==null?void 0:te.businessName)||O},O)})]})]}),ne.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:gg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ne.filter(O=>{var te,ue;return!(u&&!((te=O.name)!=null&&te.toLowerCase().includes(u.toLowerCase()))||f&&!((ue=O.ingredient)!=null&&ue.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||T&&O.ownerId!==T)}).map(O=>{var te;return l.jsxs("tr",{style:yg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((te=qe[O.ownerId])==null?void 0:te.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Cr(O),children:"Delete"})})]},O.id)})})]})]}),we==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),me.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:gg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:me.map(O=>l.jsxs("tr",{style:yg,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:te=>Qs(O.id,te.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>lt(O),children:"View Details"})})]},O.id))})]}),it&&l.jsx(BH,{user:it,medicines:ne.filter(O=>O.ownerId===it.id),orders:_e.filter(O=>O.userId===it.id),onClose:()=>lt(null)})]}),we==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>Rt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>Se(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...ke,...Me].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>M(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),as.length===0?l.jsx("p",{children:"No pending orders."}):as.map(O=>{var oi,Hn,rn,Yt,Ii;const te=(oi=O.items)==null?void 0:oi.some(Ne=>Ne.isPOM),ue=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",Fe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,st=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let nt="N/A",_t=null,je=null;if(O.businessId&&qe[O.businessId]){const Ne=qe[O.businessId];nt=`${Ne.address||""}, ${Ne.city||""}, ${Ne.state||""}`,_t=Ne.lat||null,je=Ne.lng||null}const ot=Ae[O.id]?I[O.id]?O.items:(Hn=O.items)==null?void 0:Hn.slice(0,3):[],Rr=O.items&&O.items.length>3;return l.jsxs("div",{style:vg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(O.id),children:Ae[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((rn=qe[O.userId])==null?void 0:rn.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ue]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Fe&&st?`${Fe}, ${st}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",nt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",_t&&je?`${_t}, ${je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Ne=O.riderId||O.assignedAgentId;let Ft=null;return Ne&&qe[Ne]?(Ft=qe[Ne],`${Ft.companyName||Ft.name||Ft.email||Ne}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Ne&&t.length?(Ft=t.find(Bo=>Bo.id===Ne),Ft?`${Ft.companyName||Ft.name||Ft.id}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Ne):Ne||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Ne=>({...Ne,[O.id]:!Ne[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Ne=>{Ne.target.value&&i(O.id,Ne.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.companyName||Ne.name||Ne.email||Ne.id,Ne.phoneNumber||Ne.whatsappNumber?` (${[Ne.phoneNumber,Ne.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Ne.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),Ae[O.id]&&((Yt=O.items)==null?void 0:Yt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[O.id]?"none":120,overflowY:Rr&&!I[O.id]?"hidden":"auto",marginBottom:4},children:ot.map((Ne,Ft)=>l.jsxs("li",{children:[Ne.name," - ",Ne.price," x ",Ne.quantity||1]},Ft))}),Rr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>C(Ne=>({...Ne,[O.id]:!Ne[O.id]})),children:I[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",kr(O.items||[]),te&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),te&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Q,onChange:Ne=>Y(Ne.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...ke,...Me].map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.name," (",Ne.profession,") - ",Ne.type]},Ne.id))]})]}),l.jsx("button",{onClick:()=>si(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Ii=ke.find(Ne=>Ne.id===O.medicVerifiedBy))==null?void 0:Ii.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>Rt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>Se(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...ke,...Me].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>M(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),De.length===0?l.jsx("p",{children:"No completed orders found."}):De.map(O=>{var Rr,oi,Hn,rn;const te=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",ue=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Fe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(O.businessId&&qe[O.businessId]){const Yt=qe[O.businessId];st=`${Yt.address||""}, ${Yt.city||""}, ${Yt.state||""}`,nt=Yt.lat||null,_t=Yt.lng||null}const je=Ae[O.id]?y[O.id]?O.items:(Rr=O.items)==null?void 0:Rr.slice(0,3):[],ot=O.items&&O.items.length>3;return l.jsxs("div",{style:vg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(O.id),children:Ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=qe[O.userId])==null?void 0:oi.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[O.id]&&((Hn=O.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:y[O.id]?"none":120,overflowY:ot&&!y[O.id]?"hidden":"auto",marginBottom:4},children:je.map((Yt,Ii)=>l.jsxs("li",{children:[Yt.name," - ",Yt.price," x ",Yt.quantity||1]},Ii))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>b(Yt=>({...Yt,[O.id]:!Yt[O.id]})),children:y[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||kr(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((rn=ke.concat(Me).find(Yt=>Yt.id===O.medicVerifiedBy))==null?void 0:rn.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>Rt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>Se(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...ke,...Me].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>M(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var Rr,oi,Hn;const te=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",ue=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Fe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(O.businessId&&qe[O.businessId]){const rn=qe[O.businessId];st=`${rn.address||""}, ${rn.city||""}, ${rn.state||""}`,nt=rn.lat||null,_t=rn.lng||null}const je=Ae[O.id]?y[O.id]?O.items:(Rr=O.items)==null?void 0:Rr.slice(0,3):[],ot=O.items&&O.items.length>3;return l.jsxs("div",{style:vg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(O.id),children:Ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=qe[O.userId])==null?void 0:oi.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[O.id]&&((Hn=O.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:y[O.id]?"none":120,overflowY:ot&&!y[O.id]?"hidden":"auto",marginBottom:4},children:je.map((rn,Yt)=>l.jsxs("li",{children:[rn.name," - ",rn.price," x ",rn.quantity||1]},Yt))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>b(rn=>({...rn,[O.id]:!rn[O.id]})),children:y[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||kr(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),we==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(UH,{})]}),we==="coupons"&&l.jsx(FH,{})]})}const Zo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),gg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},yg={borderBottom:"1px solid #eee"},vg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function BH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function UH(){const[t,e]=pe.useState([]),[n,r]=pe.useState([]),[i,s]=pe.useState([]),[o,a]=pe.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=pe.useState(!1),[f,h]=pe.useState(null);pe.useEffect(()=>{(async()=>{const I=await en(Re(Z,"verifyMedics"));e(I.docs.map(k=>({id:k.id,...k.data()})));const C=await en(Re(Z,"consultMedics"));r(C.docs.map(k=>({id:k.id,...k.data()})));const y=await en(Re(Z,"users")),b=[];y.docs.forEach(k=>{const L=k.data();L.role==="medicine-manager"&&L.pharmacist&&b.push({...L.pharmacist,id:k.id,online:!0})}),s(b)})()},[]);const m=async(w,I)=>{await Zt(be(Z,w==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),w==="verify"?e(y=>y.map(b=>b.id===I.id?{...b,online:!I.online}:b)):r(y=>y.map(b=>b.id===I.id?{...b,online:!I.online}:b))},E=w=>{a({...o,[w.target.name]:w.target.value})},T=async w=>{w.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(y=>y.trim()),whatsapp:o.whatsapp},C=o.section==="verify"?"verifyMedics":"consultMedics";f?await Zt(be(Z,C,f.id),I):await es(Re(Z,C),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:T,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["Pharmacy: ",w.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"verify"}),a({section:"verify",photo:w.photo,name:w.name,profession:w.profession,license:w.license,pharmacyName:w.pharmacyName,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((w,I)=>(I.online===!0)-(w.online===!0)).map(w=>{let I=[];return Array.isArray(w.languages)?I=w.languages:typeof w.languages=="string"&&(I=w.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",w),title:w.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:w.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:w.photo,alt:w.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:w.name})}),l.jsx("div",{children:w.profession}),l.jsxs("div",{children:["License: ",w.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${w.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:w.id,section:"consult"}),a({section:"consult",photo:w.photo,name:w.name,profession:w.profession,license:w.license,languages:Array.isArray(w.languages)?w.languages.join(", "):w.languages,whatsapp:w.whatsapp})},children:"Edit"})]},w.id)})})]})}function WH(){const{slug:t}=fc();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(ZP,{storeSlug:t})]})}function HH(){const[t,e]=_.useState([]),[n,r]=_.useState(!1),i=Ur(),s=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:x,photo:j}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!o)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:A=>A.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:A=>A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[j&&l.jsx("img",{src:j,alt:x,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",x]})},[o,a]=_.useState(null),[u,c]=_.useState(null),f=Pn(),{slug:h}=fc(),[m,E]=_.useState(null),[T,w]=_.useState(!0),[I,C]=_.useState([]),[y,b]=_.useState([]),[k,L]=_.useState(""),[N,S]=_.useState(null),p=(x,j,A,P)=>{const z=H=>H*Math.PI/180,B=z(A-x),U=z(P-j),M=Math.sin(B/2)**2+Math.cos(z(x))*Math.cos(z(A))*Math.sin(U/2)**2;return 6371*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))},g=x=>{const P=x*1.64,z=Math.max(1,Math.round(P/25*60));return{drivingKm:P,minutes:z}};return _.useEffect(()=>{const x=wr(f,j=>{a(j)});return()=>x()},[f]),_.useEffect(()=>{if(!m)return;const x=Ct(Re(Z,"orders"),j=>{const z=j.docs.map(F=>({id:F.id,...F.data()})).filter(F=>Array.isArray(F.items)&&F.items.some(B=>B.ownerId===m.uid)).filter(F=>!t.includes(F.id));z.length>0&&(z.forEach(F=>{Ee.info(` New order received! Order ID: ${F.id}`)}),e(F=>[...F,...z.map(B=>B.id)]))});return()=>x()},[m,t]),_.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>S({lat:x.coords.latitude,lng:x.coords.longitude}),()=>S(null))},[]),_.useEffect(()=>{if(!h)return;w(!0),(async()=>{const j=br(Re(Z,"users"),_r("slug","==",h)),A=await en(j);if(A.empty)E(null);else{const P=A.docs[0];E({uid:P.id,...P.data()})}w(!1)})()},[h]),_.useEffect(()=>{if(!m)return;const x=br(Re(Z,"products"),_r("ownerId","==",m.uid)),j=Ct(x,A=>{const P=A.docs.map(z=>({id:z.id,...z.data()}));C(P)});return()=>j()},[m]),_.useEffect(()=>{if(!I)return;const x=(F="")=>F.toLowerCase().trim().replace(/\s+/g," "),j={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},A=x(k),P=(j[A]||A).split(" "),z=I.map(F=>{var B,U;if(N&&((B=m.location)!=null&&B.latitude)&&((U=m.location)!=null&&U.longitude)){const M=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:V}=g(M);return{...F,minutesAway:V}}return{...F,minutesAway:1/0}}).filter(F=>{const B=x(F.name),U=x(F.ingredient),M=x(F.class);return P.some(V=>B.includes(V)||U.includes(V)||M.includes(V))}).sort((F,B)=>F.minutesAway-B.minutesAway);b(z)},[I,k,N,m]),T?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(s,{}),l.jsxs("h2",{children:[" ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:k,onChange:x=>L(x.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),y.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:y.map(x=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[x.image&&l.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:x.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:x.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",x.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",x.price!==void 0?x.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!o)return alert("Please log in first");const j=be(Z,"carts",o.uid),A=await Qt(j);let P=A.exists()?A.data().items||[]:[];const z=P.findIndex(F=>F.name===x.name);z>=0?P[z].quantity+=1:P.push({...x,quantity:1}),await ar(j,{items:P}),c(x.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>c(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),u===x.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),x.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:x.minutesAway<=1?" Right here":` ~${x.minutesAway} mins away`})]},x.id))})]})}function fn(){return typeof window<"u"&&window.innerWidth<=600}function qH(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState("");if(_.useEffect(()=>{async function a(){const u=await en(Re(Z,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:fn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:fn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:fn()?15:16,width:fn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:fn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:fn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:fn()?14:32},children:o.map(a=>l.jsxs(za,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:fn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:fn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:fn()?50:80,height:fn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:fn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:fn()?50:80,height:fn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:fn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:fn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:fn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:fn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:fn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const KH=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},GH=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},HS=["admin","medicine-manager","distributor"],qS=["admin","distributor"];function QH(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,s]=_.useState("shop"),[o,a]=_.useState([]),[u,c]=_.useState([]),[f,h]=_.useState(""),[m,E]=_.useState(null),[T,w]=_.useState(null);_.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(b=>E({lat:b.coords.latitude,lng:b.coords.longitude}),()=>E("denied"))},[]),_.useEffect(()=>{const b=Ct(Re(Z,"products"),async k=>{const L=await Promise.all(k.docs.map(async N=>{var p,g;const S={id:N.id,...N.data()};if(S.ownerId){const x=be(Z,"users",S.ownerId),j=await Qt(x);if(j.exists()){const A=j.data();S.businessName=A.businessName||"Unknown Distributor",S.ownerSlug=A.slug||null,S.ownerRole=A.role||null,(p=A.location)!=null&&p.latitude&&((g=A.location)!=null&&g.longitude)&&(S.businessLat=A.location.latitude,S.businessLng=A.location.longitude)}}return S}));a(L.filter(N=>N.ownerRole==="distributor"))});return()=>b()},[]),_.useEffect(()=>{if(o.length===0)return;let b=o;if(f.trim()){const k=f.toLowerCase();b=o.filter(L=>L.name&&L.name.toLowerCase().includes(k)||L.ingredient&&L.ingredient.toLowerCase().includes(k)||L.class&&L.class.toLowerCase().includes(k))}m&&m!=="denied"&&(b=b.map(k=>{if(k.businessLat&&k.businessLng){const L=KH(m.lat,m.lng,k.businessLat,k.businessLng),{minutes:N}=GH(L);return{...k,minutesAway:N}}return{...k,minutesAway:1/0}}),b.sort((k,L)=>k.minutesAway-L.minutesAway)),c(b)},[o,f,m]);const I=async b=>{if(!t)return alert("Please login first");try{const k=be(Z,"carts",t.uid),L=await Qt(k);let N=[];L.exists()&&(N=L.data().items||[]);const S=N.findIndex(p=>p.id===b.id);S>=0?N[S].quantity+=1:N.push({...b,quantity:1}),await ar(k,{items:N}),w(`Added ${b.name} to cart!`),setTimeout(()=>w(null),1500)}catch{alert("Error adding to cart")}};if(_.useEffect(()=>{const b=Pn(),k=wr(b,async L=>{if(!L){e(null),r(null);return}e(L);const N=be(Z,"users",L.uid),S=await Qt(N);r(S.exists()?S.data().role:null)});return()=>k()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!HS.includes(n)&&!qS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const C=HS.includes(n),y=qS.includes(n);return i==="shop"&&!C||i==="add"&&!y?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[C&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),y&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&C&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:b=>h(b.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T&&l.jsx("div",{style:{color:"green",marginBottom:10},children:T}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(b=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[b.registeredOnly&&b.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),b.image&&l.jsx("img",{src:b.image,alt:b.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:b.name}),l.jsx("p",{children:l.jsx("em",{children:b.ingredient})}),l.jsxs("p",{children:["Class: ",b.class]}),l.jsxs("p",{children:["Price: ",b.price]}),Array.isArray(b.moqs)&&b.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",b.moqs.map((k,L)=>l.jsx("span",{style:{marginRight:8},children:k.type},L))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",b.businessName]}),b.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:b.minutesAway<=1?" Right here":` ~${b.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(b),children:"Add to Cart"})]},b.id))})]}),i==="add"&&y&&l.jsx(YH,{user:t,role:n})]})}function YH({user:t,role:e}){const[n,r]=pe.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=pe.useState([]),[o,a]=pe.useState(!1);pe.useEffect(()=>{if(e!=="distributor")return;const M=Ct(Re(Z,"businessRegistrations"),V=>{s(V.docs.filter(H=>H.data().distributorId===t.uid&&H.data().status==="approved").map(H=>H.data()))});return()=>M()},[t,e]);const u=(M,V)=>{const H=n.moqs.map((K,Q)=>Q===M?{type:V.target.value}:K);r({...n,moqs:H})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=M=>{r({...n,moqs:n.moqs.filter((V,H)=>H!==M)})},[h,m]=pe.useState(null),[E,T]=pe.useState([]),[w,I]=pe.useState([]),[C,y]=pe.useState([]),[b,k]=pe.useState(!1),[L,N]=pe.useState(null),[S,p]=pe.useState(null);pe.useEffect(()=>{if(!t)return;const M=Ct(Re(Z,"products"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.ownerId===t.uid)),T(H)});return()=>M()},[t]),pe.useEffect(()=>{if(!t)return;const M=Ct(Re(Z,"batches"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.uploadedBy===t.uid)),I(H)});return()=>M()},[t]);function g(){var M;return(M=t==null?void 0:t.email)==null?void 0:M.includes("admin")}const x=M=>r({...n,[M.target.name]:M.target.value}),j=async()=>{const M=!n.registeredOnly;if(r({...n,registeredOnly:M}),e==="distributor"&&(t!=null&&t.uid)){const V=Re(Z,"products"),H=await getDocs(V),K=[];H.docs.forEach(Q=>{if(Q.data().ownerId===t.uid){const se={registeredOnly:M};M?se.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:se.registeredUniqueId=null,K.push(updateDoc(be(Z,"products",Q.id),se))}}),await Promise.all(K),window.location.reload()}},A=async M=>{M.preventDefault(),k(!0),p(null),N(null);try{let V=e,H=null,K=null;if(e==="distributor"){const Y=be(Z,"users",t.uid),se=await Qt(Y);se.exists()&&(H=se.data().slug||se.data().businessSlug||null),n.registeredOnly&&(K=`${t.uid}_${Date.now()}`)}const Q={...n,ownerId:t.uid,ownerRole:V,ownerSlug:H};K&&(Q.registeredUniqueId=K),h?(await ar(be(Z,"products",h),Q,{merge:!0}),m(null),N("Medicine updated!")):(await es(Re(Z,"products"),Q),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}k(!1)},P=M=>{r({name:M.name,ingredient:M.ingredient,class:M.class,price:M.price,image:M.image||"",moqs:M.moqs||[{type:"sachet",value:"",price:""}]}),m(M.id)},z=async M=>{if(window.confirm("Delete this medicine?")){k(!0);try{await $r(be(Z,"products",M.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}k(!1)}},F=M=>{const V=M.target.files[0];V&&t2.parse(V,{header:!0,skipEmptyLines:!0,complete:H=>{y(H.data)},error:()=>p("Failed to parse CSV")})},B=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!C.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),k(!1);return}k(!0),p(null),N(null);const M=be(Re(Z,"batches")),V=[];let H=e,K=null;if(e==="distributor"){const Q=be(Z,"users",t.uid),Y=await Qt(Q);Y.exists()&&(K=Y.data().slug||Y.data().businessSlug||null)}for(let Q of C)try{let Y=[];if(Q.moqs)try{Y=JSON.parse(Q.moqs)}catch{}let se=null;e==="distributor"&&Q.registeredOnly===!0&&(se=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const ce=await es(Re(Z,"products"),{name:Q.name,ingredient:Q.ingredient,class:Q.class,price:parseInt(Q.price,10)||0,image:Q.image||"",batchId:M.id,ownerId:t.uid,ownerRole:H,ownerSlug:K,moqs:Y,registeredOnly:!!Q.registeredOnly,...se?{registeredUniqueId:se}:{}});V.push(ce.id)}catch{}await ar(M,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:V}),N(`${V.length} medicines uploaded`),y([]),k(!1)},U=async M=>{if(window.confirm("Delete this batch and its medicines?")){k(!0);try{for(let V of M.medicineIds)await $r(be(Z,"products",V));await $r(be(Z,"batches",M.id)),N("Batch deleted")}catch{p("Error deleting batch")}k(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(M=>!M),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((M,V)=>{var H,K,Q;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((H=M.businessInfo)==null?void 0:H.businessName)||M.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((K=M.businessInfo)==null?void 0:K.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=M.businessInfo)==null?void 0:Q.phone)||""})]},V)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:A,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:x,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:x,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:x,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:x,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:x,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:j,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((M,V)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:M.type,onChange:H=>u(V,H),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(V),style:{color:"red"},children:""})]},V)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:b,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),C.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:B,disabled:b,children:["Submit CSV (",C.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",g()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(M=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:M.name}),l.jsx("td",{children:M.ingredient}),l.jsx("td",{children:M.class}),l.jsx("td",{children:M.price}),l.jsx("td",{children:Array.isArray(M.moqs)&&M.moqs.length>0?M.moqs.map((V,H)=>l.jsx("span",{style:{marginRight:8},children:V.type},H)):"-"}),l.jsx("td",{children:M.image&&l.jsx("img",{src:M.image,alt:M.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(M),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>z(M),children:"Delete"})]})]},M.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",g()&&"(All Users)"]}),w.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:w.map(M=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:M.name}),l.jsx("td",{children:new Date(M.date).toLocaleString()}),l.jsx("td",{children:M.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>U(M),children:"Delete Batch"})})]},M.id))})]}),L&&l.jsx("div",{style:{color:"green",marginTop:10},children:L}),S&&l.jsx("div",{style:{color:"red",marginTop:10},children:S})]})}function KS({medics:t}){const e=Ur();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(s=>s.trim()).filter(Boolean));const i=()=>{e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:i,children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:n.name}),l.jsx("div",{children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:n.pharmacyName}),l.jsxs("div",{children:["License: ",n.license]}),l.jsxs("div",{children:["Languages: ",r.join(", ")]})]},n.id)})})}function XH(){const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState("verify"),[o,a]=_.useState("");return _.useEffect(()=>{(async()=>{let f=(await en(Re(Z,"verifyMedics"))).docs.map(E=>({id:E.id,...E.data()}));(await en(Re(Z,"users"))).docs.forEach(E=>{const T=E.data();T.role==="medicine-manager"&&T.pharmacist&&f.push({...T.pharmacist,id:E.id,online:!0})}),e(f);const m=await en(Re(Z,"consultMedics"));r(m.docs.map(E=>({id:E.id,...E.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(KS,{medics:t.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(KS,{medics:n.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}const xg="/pharmastack-logo.png",GS="pharmastack-config",bg="navbarLogoUrl";function JH(t){return t==="admin"}const ZH={background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderBottom:"1px solid #e0e7ff",boxShadow:"0 2px 8px #c7d2fe22",position:"sticky",top:0,zIndex:1e3,width:"100%"},eq=t=>({maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:t?"0 8px":"0 24px",minWidth:0,flexWrap:"wrap",gap:0}),tq={display:"flex",alignItems:"center",height:"100%",marginLeft:0},nq=t=>({display:"flex",alignItems:"center",gap:t?8:24,flexGrow:1,justifyContent:"center",flexWrap:"wrap",fontSize:t?13:16,minWidth:0,width:t?"100%":"auto",overflow:"visible",whiteSpace:"normal",textAlign:t?"center":"left"}),rq={display:"flex",alignItems:"center",gap:10,justifyContent:"flex-end",minWidth:120},iq=t=>({color:"#2d3748",textDecoration:"none",fontWeight:600,fontSize:t?13:16,padding:t?"4px 6px":"8px 14px",borderRadius:8,transition:"background 0.2s, color 0.2s",whiteSpace:"normal",minWidth:0,maxWidth:t?"100%":"100vw",overflow:"visible",textOverflow:"clip",marginBottom:t?2:0,flex:t?"1 1 90px":"0 0 auto"}),sq={color:"#014d4e",borderBottom:"2px solid #014d4e"},QS={fontWeight:900,fontSize:22,color:"#6366f1",letterSpacing:1.2,display:"flex",alignItems:"center",gap:8,textDecoration:"none"},YS={height:120,display:"block",objectFit:"contain",cursor:"pointer",borderRadius:5,background:"transparent"};function Qr({to:t,children:e,isMobileScreen:n,...r}){const s=Hs().pathname===t;return l.jsx(za,{to:t,style:{...iq(n),...s?sq:{}},...r,children:e})}function oq({userRole:t,storeSlug:e,cartCount:n,isMobileScreen:r}){return l.jsx(l.Fragment,{children:t!=="delivery-agent"&&l.jsxs(l.Fragment,{children:[e?l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:`/store/${e}`,isMobileScreen:r,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Qr,{to:`/store/${e}/cart`,isMobileScreen:r,children:"Cart"}),n>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:n})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:"/shop",isMobileScreen:r,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Qr,{to:"/cart",isMobileScreen:r,children:"Cart"}),n>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:n})]})]}),l.jsx(Qr,{to:"/orders",isMobileScreen:r,children:"Orders"}),t!=="medicine-manager"&&l.jsx(Qr,{to:"/medinterface",isMobileScreen:r,children:"Medinterface"}),!e&&t&&t!=="customer"&&l.jsxs(l.Fragment,{children:[(t==="medicine-manager"||t==="admin"||t==="delivery-agent")&&l.jsx(Qr,{to:"/add-medicine",isMobileScreen:r,children:"Add Medicine"}),t==="admin"&&l.jsx(Qr,{to:"/admin",isMobileScreen:r,children:"Admin"}),(t==="delivery-agent"||t==="admin")&&l.jsx(Qr,{to:"/agents",isMobileScreen:r,children:"All Agents"})]})]})})}function aq({userRole:t,userEmail:e,userInitial:n,menuOpen:r,setMenuOpen:i,isMobileScreen:s}){return l.jsx(l.Fragment,{children:t?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{onClick:()=>i(!r),style:{width:38,height:38,borderRadius:"50%",background:"#00796b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},title:e,children:n}),l.jsx("button",{onClick:async()=>{await Pn().signOut(),window.location.href="/pharmastack/#/auth"},style:{width:38,height:38,borderRadius:"50%",background:"#e53935",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"none",marginLeft:0,cursor:"pointer",fontSize:18,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"background 0.2s"},title:"Sign Out",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M13.5 13.5L17 10M17 10L13.5 6.5M17 10H7",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round"})]})})]}),r&&l.jsxs("div",{style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:e}),l.jsx("button",{onClick:async()=>{await Pn().signOut(),window.location.href="/pharmastack/#/auth"},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:"/auth",isMobileScreen:s,children:"Login"}),l.jsx(Qr,{to:"/auth",isMobileScreen:s,children:"Signup"})]})})}function lq(){var S,p;const[t,e]=_.useState(!1),[n,r]=_.useState(xg),[i,s]=_.useState(!1),o=_.useRef(),a=((S=Pn().currentUser)==null?void 0:S.email)||"",u=((p=a[0])==null?void 0:p.toUpperCase())||"?";_.useEffect(()=>{(async()=>{try{const x=await Qt(be(Z,"config",GS));x.exists()&&x.data()[bg]?r(x.data()[bg]):r(xg)}catch{r(xg)}})()},[]);const c=async g=>{const x=g.target.files&&g.target.files[0];if(x){s(!0);try{const j=new FileReader;j.onload=async A=>{const P=A.target.result;await ar(be(Z,"config",GS),{[bg]:P},{merge:!0}),r(P),s(!1)},j.readAsDataURL(x)}catch{alert("Logo upload failed. Please try again."),s(!1)}}};Ur();const[f,h]=_.useState(0),[m,E]=_.useState(null),[T,w]=_.useState(!1),[I,C]=_.useState(typeof window<"u"?window.innerWidth:1200);_.useEffect(()=>{const g=()=>C(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const y=I<=600;_.useEffect(()=>{const g=Pn();let x=null;const j=wr(g,A=>{if(x&&x(),A){const P=be(Z,"carts",A.uid);x=Ct(P,z=>{if(z.exists()){const F=z.data().items||[];h(F.length)}else h(0)})}else h(0)});return()=>{j(),x&&x()}},[]);const L=Hs().pathname.match(/^\/store\/([^\/]+)/),N=L?L[1]:null;return _.useEffect(()=>{const g=Pn(),x=wr(g,async j=>{if(j){const A=await Qt(be(Z,"users",j.uid));E(A.exists()?A.data().role:null)}else E(null)});return()=>x()},[]),l.jsx("nav",{style:ZH,children:l.jsxs("div",{style:eq(y),children:[l.jsx("div",{style:tq,children:JH(m)?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",ref:o,style:{display:"none"},onChange:c,disabled:i}),l.jsx(za,{to:"/",style:QS,onClick:g=>{g.preventDefault(),i||o.current.click()},children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:{...YS,border:i?"2px solid #fbbf24":"2px dashed #b3e5fc",opacity:i?.5:1},title:i?"Uploading...":"Click to upload new logo"})})]}):l.jsx(za,{to:"/",style:QS,children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:YS})})}),l.jsx("div",{style:nq(y),children:l.jsx(oq,{userRole:m,storeSlug:N,cartCount:f,isMobileScreen:y})}),l.jsx("div",{style:rq,children:l.jsx(aq,{userRole:m,userEmail:a,userInitial:u,menuOpen:t,setMenuOpen:e,isMobileScreen:y})})]})})}function uq(){const[t,e]=_.useState(null),[n,r]=_.useState([]),[i,s]=_.useState("");function o(q){if(!i.trim())return q;const ne=i.trim().toLowerCase();return q.filter(W=>{var _e,Ye,we,Ve,Ae,Qe,it,lt,Le,gt,ke,Ue,Me,Te,bt,Rt;const le=(((_e=E[W.userId])==null?void 0:_e.email)||"").toLowerCase(),ee=(W.items&&W.items[0]&&((Ye=c[W.items[0].ownerId])==null?void 0:Ye.name)||"").toLowerCase(),re=((((we=W.deliveryInfo)==null?void 0:we.address)||"")+" "+(((Ve=W.deliveryInfo)==null?void 0:Ve.city)||"")+" "+(((Ae=W.deliveryInfo)==null?void 0:Ae.state)||"")).toLowerCase(),he=W.items&&W.items[0]&&((((Qe=c[W.items[0].ownerId])==null?void 0:Qe.address)||"")+" "+(((it=c[W.items[0].ownerId])==null?void 0:it.city)||"")+" "+(((lt=c[W.items[0].ownerId])==null?void 0:lt.state)||"")).toLowerCase()||"",me=[(Le=W.deliveryInfo)==null?void 0:Le.lat,(gt=W.deliveryInfo)==null?void 0:gt.lng,(Me=c[(Ue=(ke=W.items)==null?void 0:ke[0])==null?void 0:Ue.ownerId])==null?void 0:Me.lat,(Rt=c[(bt=(Te=W.items)==null?void 0:Te[0])==null?void 0:bt.ownerId])==null?void 0:Rt.lng].filter(Boolean).join(",").toLowerCase(),ve=(W.items||[]).map(Xe=>Xe.name).join(", ").toLowerCase();return le.includes(ne)||ee.includes(ne)||re.includes(ne)||he.includes(ne)||me.includes(ne)||ve.includes(ne)})}const[a,u]=pe.useState("processing"),[c,f]=_.useState({});_.useEffect(()=>{const q=Ct(Re(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();ee.role==="medicine-manager"&&(W[le.id]={name:ee.businessName||le.id,address:ee.businessAddress||ee.address||"-",lat:ee.lat||ee.latitude||null,lng:ee.lng||ee.longitude||null})}),f(W)});return()=>q()},[]);const[h,m]=_.useState(!0);_.useEffect(()=>{const q=Pn(),ne=wr(q,W=>{e(W),m(!1)});return()=>ne()},[]),_.useEffect(()=>{if(h||!t)return;const q=Ct(Re(Z,"orders"),ne=>{const ee=ne.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.status==="Processing"&&!re.assignedAgentId&&re.deliveryType&&re.deliveryType.toLowerCase()==="express").filter(re=>!n.includes(re.id));ee.length>0&&(ee.forEach(re=>{Ee.info(` New express delivery order! Order ID: ${re.id}`)}),r(re=>[...re,...ee.map(he=>he.id)]))});return()=>q()},[h,t,n]);const[E,T]=_.useState({});_.useEffect(()=>{const q=Ct(Re(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();W[le.id]=ee.email||le.id}),T(W)});return()=>q()},[]);const[w,I]=_.useState([]),[C,y]=_.useState([]),[b,k]=_.useState([]),[L,N]=_.useState(()=>{const q=localStorage.getItem("agentCanceledOrders");return q?JSON.parse(q):[]}),[S,p]=_.useState({}),[g,x]=_.useState({}),[j,A]=_.useState(null),{slug:P}=fc(),[z,F]=_.useState(null),[B,U]=_.useState(!1),[M,V]=_.useState(!0),[H,K]=_.useState("availability");_.useEffect(()=>{if(h||!t)return;const q=Ct(Re(Z,"orders"),ne=>{const W=ne.docs.map(le=>({id:le.id,...le.data()}));I(W.filter(le=>le.status==="Completed"&&le.assignedAgentId===t.uid)),k(W.filter(le=>le.status==="In-Progress"&&le.assignedAgentId===t.uid)),y(W.filter(le=>le.status==="Processing"&&!le.assignedAgentId&&!L.some(ee=>ee.id===le.id)&&le.deliveryType&&le.deliveryType.toLowerCase()==="express"))});return()=>q()},[h,t,L]);const Q=async q=>{A(q);try{await Zt(be(Z,"orders",q),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:z.slug,assignedAgentName:z.companyName,companyName:z.companyName,agentPhoneNumber:z.phoneNumber||"",agentWhatsappNumber:z.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),Ee.success("Order accepted!")}catch{Ee.error("Failed to accept order")}A(null)},Y=async q=>{try{await Zt(be(Z,"orders",q),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),Ee.success("Order marked as delivered!")}catch{Ee.error("Failed to mark as delivered")}},se=async q=>{try{await Zt(be(Z,"orders",q),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),Ee.info("Order moved back to processing.")}catch{Ee.error("Failed to move order back to processing")}},ce=q=>{const ne=C.find(W=>W.id===q)||b.find(W=>W.id===q);ne&&(N(W=>{const le=[...W,ne];return localStorage.setItem("agentCanceledOrders",JSON.stringify(le)),le}),u("canceled"))};_.useEffect(()=>{const q=ne=>{ne.key==="agentCanceledOrders"&&N(ne.newValue?JSON.parse(ne.newValue):[])};return window.addEventListener("storage",q),()=>window.removeEventListener("storage",q)},[]);const ye=async()=>{if(z){U(!0);try{const q=be(Z,"deliveryAgents",z.id);await Zt(q,{available:!z.available}),F({...z,available:!z.available}),Ee.success("Availability updated.")}catch{Ee.error("Failed to update availability")}U(!1)}};return _.useEffect(()=>{async function q(){V(!0);const W=(await en(Re(Z,"deliveryAgents"))).docs.map(re=>re.data());console.log("All agent slugs:",W.map(re=>re.slug));const le=br(Re(Z,"deliveryAgents"),_r("slug","==",P),_r("approved","==",!0)),ee=await en(le);ee.empty?F(null):F({id:ee.docs[0].id,...ee.docs[0].data()}),V(!1)}q()},[P]),M||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):z?!t||t.uid!==z.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:z.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:z.companyName}),l.jsxs("div",{children:["Phone: ",z.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",z.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",z.rcNumber]}),l.jsxs("div",{children:["Address: ",z.businessAddress]}),l.jsxs("div",{children:["Email: ",z.email]}),l.jsxs("div",{children:["Coverage: ",z.coverageArea]}),l.jsxs("div",{children:["Hours: ",z.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="availability"?"2px solid #1976d2":"1px solid #ccc",background:H==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="orders"?"2px solid #1976d2":"1px solid #ccc",background:H==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[H==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",z.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ye,disabled:B,children:z.available?"Set Not Available":"Set Available"})]})]}),H==="orders"&&(z.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:q=>s(q.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(L).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(L).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},q.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(C).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(C).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof q.deliveryType," | ",JSON.stringify(q.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;let re=W.lat,he=W.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),re&&he?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",re,", ",he]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Q(q.id),disabled:j===q.id,children:j===q.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>ce(q.id),children:"Cancel Order"})]})]},q.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(b).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(b).map(q=>{var ee;const ne=!!S[q.id],W=!!g[q.id],le=async()=>{await Y(q.id),p(re=>({...re,[q.id]:!0})),x(re=>({...re,[q.id]:!0})),setTimeout(()=>x(re=>({...re,[q.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const re=c[q.items[0].ownerId],he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:re.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):he}),re.lat&&re.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",re.lat,", ",re.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const re=q.deliveryInfo||{},he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;let ve=re.lat,_e=re.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):he}),ve&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ve,", ",_e]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=q.items)==null?void 0:ee.map(re=>`${re.name} x${re.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:le,disabled:ne,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:()=>se(q.id),disabled:ne,children:"Failed"})]}),W&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),ne&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},q.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(w).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(w).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",q.completedAt?new Date(q.completedAt).toLocaleString():"-"]})]},q.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function XS(){const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{async function i(){r(!0);const s=br(Re(Z,"deliveryAgents"),_r("approved","==",!0)),o=await en(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(za,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const cq=Nx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function dq(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function fq(){var p,g;const{businessId:t}=fc(),e=Hs(),n=Ur(),[r,i]=_.useState(null),[s,o]=_.useState(null),[a,u]=_.useState([]),[c,f]=_.useState(""),[h,m]=_.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,T]=_.useState(((g=e.state)==null?void 0:g.businessName)||"Pharmacy"),[w,I]=_.useState(null),[C,y]=_.useState(null),[b,k]=_.useState(!1),L=_.useRef(null);_.useEffect(()=>{const x=Pn(),j=wr(x,A=>{A?i(A):n("/auth")});return()=>j()},[n]),_.useEffect(()=>{h&&E||t&&Qt(be(Z,"users",t)).then(x=>{if(x.exists()){const j=x.data();m(j.pharmacist||null),T(j.businessName||"Pharmacy")}})},[t,h,E]),_.useEffect(()=>{if(!r||!t)return;const x=Re(Z,"chats"),j=br(x,_r("participants","array-contains",r.uid));en(j).then(A=>{let P=null;A.forEach(z=>{z.data().participants.includes(t)&&(P=z.id)}),P?o(P):es(x,{participants:[r.uid,t],createdAt:By()}).then(z=>o(z.id))})},[r,t]),_.useEffect(()=>{if(!s)return;const x=br(Re(Z,"chats",s,"messages"),sk("timestamp","asc")),j=Ct(x,A=>{u(A.docs.map(P=>({id:P.id,...P.data()})))});return()=>j()},[s]),_.useEffect(()=>{var x;(x=L.current)==null||x.scrollIntoView({behavior:"smooth"})},[a]);const N=async x=>{if(x.preventDefault(),!c.trim()&&!w||!r||!s)return;let j=null,A=!1;if(w){k(!0);try{const{url:P,isBase64:z}=await dq(w);j=P,A=z}catch{alert("Image upload failed")}k(!1)}await es(Re(Z,"chats",s,"messages"),{text:c,image:j||null,isBase64:A,sender:r.uid,senderName:r.displayName||r.email,timestamp:By()}),f(""),I(null),y(null)},S=x=>{const j=x.target.files[0];j&&(I(j),y(URL.createObjectURL(j)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(x=>l.jsxs("div",{style:{marginBottom:10,textAlign:x.sender===(r==null?void 0:r.uid)?"right":"left"},children:[x.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:x.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),x.text&&l.jsx("span",{style:{background:x.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:x.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:x.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:x.senderName})]},x.id)),l.jsx("div",{ref:L})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:c,onChange:x=>f(x.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:S}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),C&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:C,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{I(null),y(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:b?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:b?"not-allowed":"pointer"},disabled:b,children:b?"Sending...":"Send"})]})]}):null}Tg.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsxs(P8,{theme:cq,children:[l.jsx(lH,{}),l.jsx(RN,{children:l.jsxs(l.Fragment,{children:[l.jsx(lq,{}),l.jsx(hq,{}),l.jsx(XP,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(wN,{children:[l.jsx(hn,{path:"/agent/:slug",element:l.jsx(uq,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(XS,{})}),l.jsx(hn,{path:"/",element:l.jsx(k7,{})}),l.jsx(hn,{path:"/shop",element:l.jsx(P7,{})}),l.jsx(hn,{path:"/cart",element:l.jsx(ZP,{})}),l.jsx(hn,{path:"/auth",element:l.jsx(M7,{})}),l.jsx(hn,{path:"/orders",element:l.jsx(j7,{})}),l.jsx(hn,{path:"/add-medicine",element:l.jsx(F7,{})}),l.jsx(hn,{path:"/payment",element:l.jsx($H,{})}),l.jsx(hn,{path:"/admin",element:l.jsx(zH,{})}),l.jsx(hn,{path:"/store",element:l.jsx(qH,{})}),l.jsx(hn,{path:"/store/:slug",element:l.jsx(HH,{})}),l.jsx(hn,{path:"/store/:slug/cart",element:l.jsx(WH,{})}),l.jsx(hn,{path:"/restock",element:l.jsx(QH,{})}),l.jsx(hn,{path:"/medinterface",element:l.jsx(XH,{})}),l.jsx(hn,{path:"/businesses",element:l.jsx(O5,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(XS,{})}),l.jsx(hn,{path:"/chat/:businessId",element:l.jsx(fq,{})})]}),l.jsx(IA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function hq(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Ur();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
