(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function cO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bC={exports:{}},pp={},xC={exports:{}},ft={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Wu=Symbol.for("react.element"),uO=Symbol.for("react.portal"),dO=Symbol.for("react.fragment"),hO=Symbol.for("react.strict_mode"),fO=Symbol.for("react.profiler"),pO=Symbol.for("react.provider"),mO=Symbol.for("react.context"),gO=Symbol.for("react.forward_ref"),yO=Symbol.for("react.suspense"),vO=Symbol.for("react.memo"),bO=Symbol.for("react.lazy"),V1=Symbol.iterator;function xO(e){return e===null||typeof e!="object"?null:(e=V1&&e[V1]||e["@@iterator"],typeof e=="function"?e:null)}var wC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SC=Object.assign,kC={};function Ml(e,t,n){this.props=e,this.context=t,this.refs=kC,this.updater=n||wC}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CC(){}CC.prototype=Ml.prototype;function p0(e,t,n){this.props=e,this.context=t,this.refs=kC,this.updater=n||wC}var m0=p0.prototype=new CC;m0.constructor=p0;SC(m0,Ml.prototype);m0.isPureReactComponent=!0;var q1=Array.isArray,EC=Object.prototype.hasOwnProperty,g0={current:null},_C={key:!0,ref:!0,__self:!0,__source:!0};function TC(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)EC.call(t,r)&&!_C.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Wu,type:e,key:o,ref:a,props:i,_owner:g0.current}}function wO(e,t){return{$$typeof:Wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function y0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wu}function SO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var H1=/\/+/g;function ug(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SO(""+e.key):t.toString(36)}function Sh(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Wu:case uO:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+ug(a,0):r,q1(i)?(n="",e!=null&&(n=e.replace(H1,"$&/")+"/"),Sh(i,t,n,"",function(u){return u})):i!=null&&(y0(i)&&(i=wO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(H1,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",q1(e))for(var s=0;s<e.length;s++){o=e[s];var c=r+ug(o,s);a+=Sh(o,t,n,c,i)}else if(c=xO(e),typeof c=="function")for(e=c.call(e),s=0;!(o=e.next()).done;)o=o.value,c=r+ug(o,s++),a+=Sh(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Fd(e,t,n){if(e==null)return e;var r=[],i=0;return Sh(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rr={current:null},kh={transition:null},CO={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:kh,ReactCurrentOwner:g0};function IC(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Fd,forEach:function(e,t,n){Fd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fd(e,function(){t++}),t},toArray:function(e){return Fd(e,function(t){return t})||[]},only:function(e){if(!y0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Ml;ft.Fragment=dO;ft.Profiler=fO;ft.PureComponent=p0;ft.StrictMode=hO;ft.Suspense=yO;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CO;ft.act=IC;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=SC({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=g0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)EC.call(t,c)&&!_C.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Wu,type:e.type,key:i,ref:o,props:r,_owner:a}};ft.createContext=function(e){return e={$$typeof:mO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pO,_context:e},e.Consumer=e};ft.createElement=TC;ft.createFactory=function(e){var t=TC.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:gO,render:e}};ft.isValidElement=y0;ft.lazy=function(e){return{$$typeof:bO,_payload:{_status:-1,_result:e},_init:kO}};ft.memo=function(e,t){return{$$typeof:vO,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=kh.transition;kh.transition={};try{e()}finally{kh.transition=t}};ft.unstable_act=IC;ft.useCallback=function(e,t){return rr.current.useCallback(e,t)};ft.useContext=function(e){return rr.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return rr.current.useDeferredValue(e)};ft.useEffect=function(e,t){return rr.current.useEffect(e,t)};ft.useId=function(){return rr.current.useId()};ft.useImperativeHandle=function(e,t,n){return rr.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return rr.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return rr.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return rr.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return rr.current.useReducer(e,t,n)};ft.useRef=function(e){return rr.current.useRef(e)};ft.useState=function(e){return rr.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return rr.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return rr.current.useTransition()};ft.version="18.3.1";xC.exports=ft;var x=xC.exports;const Te=fp(x),Yh=cO({__proto__:null,default:Te},[x]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var EO=x,_O=Symbol.for("react.element"),TO=Symbol.for("react.fragment"),IO=Object.prototype.hasOwnProperty,jO=EO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RO={key:!0,ref:!0,__self:!0,__source:!0};function jC(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IO.call(t,r)&&!RO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_O,type:e,key:o,ref:a,props:i,_owner:jO.current}}pp.Fragment=TO;pp.jsx=jC;pp.jsxs=jC;bC.exports=pp;var l=bC.exports;function RC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=RC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=RC(e))&&(r&&(r+=" "),r+=t);return r}function PO(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}PO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $u=e=>typeof e=="number"&&!isNaN(e),Fa=e=>typeof e=="string",uo=e=>typeof e=="function",OO=e=>Fa(e)||$u(e),py=e=>Fa(e)||uo(e)?e:null,AO=(e,t)=>e===!1||$u(e)&&e>0?e:t,my=e=>x.isValidElement(e)||Fa(e)||uo(e)||$u(e);function NO(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function MO({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:a,preventExitTransition:s,done:c,nodeRef:u,isIn:h,playToast:f}){let v=n?`${e}--${a}`:e,b=n?`${t}--${a}`:t,C=x.useRef(0);return x.useLayoutEffect(()=>{let S=u.current,T=v.split(" "),E=g=>{g.target===u.current&&(f(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),C.current===0&&g.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),x.useEffect(()=>{let S=u.current,T=()=>{S.removeEventListener("animationend",T),r?NO(S,c,i):c()};h||(s?T():(C.current=1,S.className+=` ${b}`,S.addEventListener("animationend",T)))},[h]),Te.createElement(Te.Fragment,null,o)}}function K1(e,t){return{content:PC(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function PC(e,t,n=!1){return x.isValidElement(e)&&!Fa(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):uo(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function LO({closeToast:e,theme:t,ariaLabel:n="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DO({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:a,progress:s,rtl:c,isIn:u,theme:h}){let f=i||a&&s===0,v={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(v.transform=`scaleX(${s})`);let b=Se("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),C=uo(o)?o({rtl:c,type:r,defaultClassName:b}):Se(b,o),S={[a&&s>=1?"onTransitionEnd":"onAnimationEnd"]:a&&s<1?null:()=>{u&&n()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Te.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:C,style:v,...S}))}var zO=1,OC=()=>`${zO++}`;function FO(e,t,n){let r=1,i=0,o=[],a=[],s=t,c=new Map,u=new Set,h=g=>(u.add(g),()=>u.delete(g)),f=()=>{a=Array.from(c.values()),u.forEach(g=>g())},v=({containerId:g,toastId:y,updateId:P})=>{let M=g?g!==e:e!==1,N=c.has(y)&&P==null;return M||N},b=(g,y)=>{c.forEach(P=>{var M;(y==null||y===P.props.toastId)&&((M=P.toggle)==null||M.call(P,g))})},C=g=>{var y,P;(P=(y=g.props)==null?void 0:y.onClose)==null||P.call(y,g.removalReason),g.isActive=!1},S=g=>{if(g==null)c.forEach(C);else{let y=c.get(g);y&&C(y)}f()},T=()=>{i-=o.length,o=[]},E=g=>{var y,P;let{toastId:M,updateId:N}=g.props,_=N==null;g.staleId&&c.delete(g.staleId),g.isActive=!0,c.set(M,g),f(),n(K1(g,_?"added":"updated")),_&&((P=(y=g.props).onOpen)==null||P.call(y))};return{id:e,props:s,observe:h,toggle:b,removeToast:S,toasts:c,clearQueue:T,buildToast:(g,y)=>{if(v(y))return;let{toastId:P,updateId:M,data:N,staleId:_,delay:p}=y,m=M==null;m&&i++;let w={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(y).filter(([j,I])=>I!=null)),toastId:P,updateId:M,data:N,isIn:!1,className:py(y.className||s.toastClassName),progressClassName:py(y.progressClassName||s.progressClassName),autoClose:y.isLoading?!1:AO(y.autoClose,s.autoClose),closeToast(j){c.get(P).removalReason=j,S(P)},deleteToast(){let j=c.get(P);if(j!=null){if(n(K1(j,"removed")),c.delete(P),i--,i<0&&(i=0),o.length>0){E(o.shift());return}f()}}};w.closeButton=s.closeButton,y.closeButton===!1||my(y.closeButton)?w.closeButton=y.closeButton:y.closeButton===!0&&(w.closeButton=my(s.closeButton)?s.closeButton:!0);let R={content:g,props:w,staleId:_};s.limit&&s.limit>0&&i>s.limit&&m?o.push(R):$u(p)?setTimeout(()=>{E(R)},p):E(R)},setProps(g){s=g},setToggle:(g,y)=>{let P=c.get(g);P&&(P.toggle=y)},isToastActive:g=>{var y;return(y=c.get(g))==null?void 0:y.isActive},getSnapshot:()=>a}}var er=new Map,nu=[],gy=new Set,BO=e=>gy.forEach(t=>t(e)),AC=()=>er.size>0;function WO(){nu.forEach(e=>MC(e.content,e.options)),nu=[]}var $O=(e,{containerId:t})=>{var n;return(n=er.get(t||1))==null?void 0:n.toasts.get(e)};function NC(e,t){var n;if(t)return!!((n=er.get(t))!=null&&n.isToastActive(e));let r=!1;return er.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function UO(e){if(!AC()){nu=nu.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||OO(e))er.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=er.get(e.containerId);t?t.removeToast(e.id):er.forEach(n=>{n.removeToast(e.id)})}}var VO=(e={})=>{er.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function MC(e,t){my(e)&&(AC()||nu.push({content:e,options:t}),er.forEach(n=>{n.buildToast(e,t)}))}function qO(e){var t;(t=er.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function LC(e,t){er.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function HO(e){let t=e.containerId||1;return{subscribe(n){let r=FO(t,e,BO);er.set(t,r);let i=r.observe(n);return WO(),()=>{i(),er.delete(t)}},setProps(n){var r;(r=er.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=er.get(t))==null?void 0:n.getSnapshot()}}}function KO(e){return gy.add(e),()=>{gy.delete(e)}}function GO(e){return e&&(Fa(e.toastId)||$u(e.toastId))?e.toastId:OC()}function Uu(e,t){return MC(e,t),t.toastId}function mp(e,t){return{...t,type:t&&t.type||e,toastId:GO(t)}}function gp(e){return(t,n)=>Uu(t,mp(e,n))}function ze(e,t){return Uu(e,mp("default",t))}ze.loading=(e,t)=>Uu(e,mp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function QO(e,{pending:t,error:n,success:r},i){let o;t&&(o=Fa(t)?ze.loading(t,i):ze.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(u,h,f)=>{if(h==null){ze.dismiss(o);return}let v={type:u,...a,...i,data:f},b=Fa(h)?{render:h}:h;return o?ze.update(o,{...v,...b}):ze(b.render,{...v,...b}),f},c=uo(e)?e():e;return c.then(u=>s("success",r,u)).catch(u=>s("error",n,u)),c}ze.promise=QO;ze.success=gp("success");ze.info=gp("info");ze.error=gp("error");ze.warning=gp("warning");ze.warn=ze.warning;ze.dark=(e,t)=>Uu(e,mp("default",{theme:"dark",...t}));function YO(e){UO(e)}ze.dismiss=YO;ze.clearWaitingQueue=VO;ze.isActive=NC;ze.update=(e,t={})=>{let n=$O(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:OC()};o.toastId!==e&&(o.staleId=e);let a=o.render||i;delete o.render,Uu(a,o)}};ze.done=e=>{ze.update(e,{progress:1})};ze.onChange=KO;ze.play=e=>LC(!0,e);ze.pause=e=>LC(!1,e);function XO(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(HO(e)).current;i(e);let o=(t=x.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function a(s){if(!o)return[];let c=new Map;return e.newestOnTop&&o.reverse(),o.forEach(u=>{let{position:h}=u.props;c.has(h)||c.set(h,[]),c.get(h).push(u)}),Array.from(c,u=>s(u[0],u[1]))}return{getToastToRender:a,isToastActive:NC,count:o==null?void 0:o.length}}function JO(e){let[t,n]=x.useState(!1),[r,i]=x.useState(!1),o=x.useRef(null),a=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:f}=e;qO({id:e.toastId,containerId:e.containerId,fn:n}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return v(),()=>{b()}},[e.pauseOnFocusLoss]);function v(){document.hasFocus()||E(),window.addEventListener("focus",T),window.addEventListener("blur",E)}function b(){window.removeEventListener("focus",T),window.removeEventListener("blur",E)}function C(_){if(e.draggable===!0||e.draggable===_.pointerType){g();let p=o.current;a.canCloseOnClick=!0,a.canDrag=!0,p.style.transition="none",e.draggableDirection==="x"?(a.start=_.clientX,a.removalDistance=p.offsetWidth*(e.draggablePercent/100)):(a.start=_.clientY,a.removalDistance=p.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function S(_){let{top:p,bottom:m,left:w,right:R}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=w&&_.clientX<=R&&_.clientY>=p&&_.clientY<=m?E():T()}function T(){n(!0)}function E(){n(!1)}function g(){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",M)}function y(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",M)}function P(_){let p=o.current;if(a.canDrag&&p){a.didMove=!0,t&&E(),e.draggableDirection==="x"?a.delta=_.clientX-a.start:a.delta=_.clientY-a.start,a.start!==_.clientX&&(a.canCloseOnClick=!1);let m=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;p.style.transform=`translate3d(${m},0)`,p.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function M(){y();let _=o.current;if(a.canDrag&&a.didMove&&_){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let N={onPointerDown:C,onPointerUp:S};return s&&c&&(N.onMouseEnter=E,e.stacked||(N.onMouseLeave=T)),f&&(N.onClick=_=>{h&&h(_),a.canCloseOnClick&&u(!0)}),{playToast:T,pauseToast:E,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:N}}var ZO=typeof window<"u"?x.useLayoutEffect:x.useEffect,yp=({theme:e,type:t,isLoading:n,...r})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function eA(e){return Te.createElement(yp,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tA(e){return Te.createElement(yp,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nA(e){return Te.createElement(yp,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function rA(e){return Te.createElement(yp,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function iA(){return Te.createElement("div",{className:"Toastify__spinner"})}var yy={info:tA,warning:eA,success:nA,error:rA,spinner:iA},oA=e=>e in yy;function aA({theme:e,type:t,isLoading:n,icon:r}){let i=null,o={theme:e,type:t};return r===!1||(uo(r)?i=r({...o,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,o):n?i=yy.spinner():oA(t)&&(i=yy[t](o))),i}var sA=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=JO(e),{closeButton:a,children:s,autoClose:c,onClick:u,type:h,hideProgressBar:f,closeToast:v,transition:b,position:C,className:S,style:T,progressClassName:E,updateId:g,role:y,progress:P,rtl:M,toastId:N,deleteToast:_,isIn:p,isLoading:m,closeOnClick:w,theme:R,ariaLabel:j}=e,I=Se("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":w}),L=uo(S)?S({rtl:M,position:C,type:h,defaultClassName:I}):Se(I,S),W=aA(e),K=!!P||!c,B={closeToast:v,type:h,theme:R},F=null;return a===!1||(uo(a)?F=a(B):x.isValidElement(a)?F=x.cloneElement(a,B):F=LO(B)),Te.createElement(b,{isIn:p,done:_,position:C,preventExitTransition:n,nodeRef:r,playToast:o},Te.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":p,className:L,...i,style:T,ref:r,...p&&{role:y,"aria-label":j}},W!=null&&Te.createElement("div",{className:Se("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!m})},W),PC(s,e,!t),F,!e.customProgressBar&&Te.createElement(DO,{...g&&!K?{key:`p-${g}`}:{},rtl:M,theme:R,delay:c,isRunning:t,isIn:p,closeToast:v,hide:f,type:h,className:E,controlledProgress:K,progress:P||0})))},lA=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),cA=MO(lA("bounce",!0)),uA={position:"top-right",transition:cA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function dA(e){let t={...uA,...e},n=e.stacked,[r,i]=x.useState(!0),o=x.useRef(null),{getToastToRender:a,isToastActive:s,count:c}=XO(t),{className:u,style:h,rtl:f,containerId:v,hotKeys:b}=t;function C(T){let E=Se("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":f});return uo(u)?u({position:T,rtl:f,defaultClassName:E}):Se(E,py(u))}function S(){n&&(i(!0),ze.play())}return ZO(()=>{var T;if(n){let E=o.current.querySelectorAll('[data-in="true"]'),g=12,y=(T=t.position)==null?void 0:T.includes("top"),P=0,M=0;Array.from(E).reverse().forEach((N,_)=>{let p=N;p.classList.add("Toastify__toast--stacked"),_>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=y?"top":"bot");let m=P*(r?.2:1)+(r?0:g*_);p.style.setProperty("--y",`${y?m:m*-1}px`),p.style.setProperty("--g",`${g}`),p.style.setProperty("--s",`${1-(r?M:0)}`),P+=p.offsetHeight,M+=.025})}},[r,c,n]),x.useEffect(()=>{function T(E){var g;let y=o.current;b(E)&&((g=y.querySelector('[tabIndex="0"]'))==null||g.focus(),i(!1),ze.pause()),E.key==="Escape"&&(document.activeElement===y||y!=null&&y.contains(document.activeElement))&&(i(!0),ze.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[b]),Te.createElement("section",{ref:o,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),ze.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((T,E)=>{let g=E.length?{...h}:{...h,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:C(T),"data-stacked":n,style:g,key:`c-${T}`},E.map(({content:y,props:P})=>Te.createElement(sA,{...P,stacked:n,collapseAll:S,isIn:s(P.toastId,P.containerId),key:`t-${P.key}`},y)))}))}var vy={},DC={exports:{}},Pr={},zC={exports:{}},FC={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(F,$){var q=F.length;F.push($);e:for(;0<q;){var H=q-1>>>1,G=F[H];if(0<i(G,$))F[H]=$,F[q]=G,q=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],q=F.pop();if(q!==$){F[0]=q;e:for(var H=0,G=F.length,Q=G>>>1;H<Q;){var ue=2*(H+1)-1,le=F[ue],Pe=ue+1,U=F[Pe];if(0>i(le,q))Pe<G&&0>i(U,le)?(F[H]=U,F[Pe]=q,H=Pe):(F[H]=le,F[ue]=q,H=ue);else if(Pe<G&&0>i(U,q))F[H]=U,F[Pe]=q,H=Pe;else break e}}return $}function i(F,$){var q=F.sortIndex-$.sortIndex;return q!==0?q:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var c=[],u=[],h=1,f=null,v=3,b=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function P(F){if(S=!1,y(F),!C)if(n(c)!==null)C=!0,K(M);else{var $=n(u);$!==null&&B(P,$.startTime-F)}}function M(F,$){C=!1,S&&(S=!1,E(p),p=-1),b=!0;var q=v;try{for(y($),f=n(c);f!==null&&(!(f.expirationTime>$)||F&&!R());){var H=f.callback;if(typeof H=="function"){f.callback=null,v=f.priorityLevel;var G=H(f.expirationTime<=$);$=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),y($)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var ue=n(u);ue!==null&&B(P,ue.startTime-$),Q=!1}return Q}finally{f=null,v=q,b=!1}}var N=!1,_=null,p=-1,m=5,w=-1;function R(){return!(e.unstable_now()-w<m)}function j(){if(_!==null){var F=e.unstable_now();w=F;var $=!0;try{$=_(!0,F)}finally{$?I():(N=!1,_=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=j,I=function(){W.postMessage(null)}}else I=function(){T(j,0)};function K(F){_=F,N||(N=!0,I())}function B(F,$){p=T(function(){F(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,K(M))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var q=v;v=$;try{return F()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=v;v=F;try{return $()}finally{v=q}},e.unstable_scheduleCallback=function(F,$,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,F={id:h++,callback:$,priorityLevel:F,startTime:q,expirationTime:G,sortIndex:-1},q>H?(F.sortIndex=q,t(u,F),n(c)===null&&F===n(u)&&(S?(E(p),p=-1):S=!0,B(P,q-H))):(F.sortIndex=G,t(c,F),C||b||(C=!0,K(M))),F},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(F){var $=v;return function(){var q=v;v=$;try{return F.apply(this,arguments)}finally{v=q}}}})(FC);zC.exports=FC;var hA=zC.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var fA=x,_r=hA;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BC=new Set,ru={};function ts(e,t){al(e,t),al(e+"Capture",t)}function al(e,t){for(ru[e]=t,e=0;e<t.length;e++)BC.add(t[e])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),by=Object.prototype.hasOwnProperty,pA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G1={},Q1={};function mA(e){return by.call(Q1,e)?!0:by.call(G1,e)?!1:pA.test(e)?Q1[e]=!0:(G1[e]=!0,!1)}function gA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yA(e,t,n,r){if(t===null||typeof t>"u"||gA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ln[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ln[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ln[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ln[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ln[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ln[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ln[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ln[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ln[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function b0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v0,b0);Ln[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v0,b0);Ln[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v0,b0);Ln[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ln[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ln[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function x0(e,t,n,r){var i=Ln.hasOwnProperty(t)?Ln[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yA(t,n,i,r)&&(n=null),r||i===null?mA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ko=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bd=Symbol.for("react.element"),Is=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),xy=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),Sy=Symbol.for("react.suspense_list"),k0=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),UC=Symbol.for("react.offscreen"),Y1=Symbol.iterator;function oc(e){return e===null||typeof e!="object"?null:(e=Y1&&e[Y1]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,dg;function Cc(e){if(dg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dg=t&&t[1]||""}return`
`+dg+e}var hg=!1;function fg(e,t){if(!e||hg)return"";hg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=s);break}}}finally{hg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cc(e):""}function vA(e){switch(e.tag){case 5:return Cc(e.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return e=fg(e.type,!1),e;case 11:return e=fg(e.type.render,!1),e;case 1:return e=fg(e.type,!0),e;default:return""}}function ky(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case Is:return"Portal";case xy:return"Profiler";case w0:return"StrictMode";case wy:return"Suspense";case Sy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $C:return(e.displayName||"Context")+".Consumer";case WC:return(e._context.displayName||"Context")+".Provider";case S0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k0:return t=e.displayName||null,t!==null?t:ky(e.type)||"Memo";case No:t=e._payload,e=e._init;try{return ky(e(t))}catch{}}return null}function bA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(t);case 8:return t===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xA(e){var t=VC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wd(e){e._valueTracker||(e._valueTracker=xA(e))}function qC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cy(e,t){var n=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function X1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=na(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HC(e,t){t=t.checked,t!=null&&x0(e,"checked",t,!1)}function Ey(e,t){HC(e,t);var n=na(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_y(e,t.type,n):t.hasOwnProperty("defaultValue")&&_y(e,t.type,na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function J1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _y(e,t,n){(t!=="number"||Xh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ec=Array.isArray;function Vs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+na(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(Ec(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:na(n)}}function KC(e,t){var n=na(t.value),r=na(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ew(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $d,QC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function iu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wA=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(e){wA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mc[t]=Mc[e]})});function YC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mc.hasOwnProperty(e)&&Mc[e]?(""+t).trim():t+"px"}function XC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var SA=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(e,t){if(t){if(SA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Ry(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function C0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oy=null,qs=null,Hs=null;function tw(e){if(e=Hu(e)){if(typeof Oy!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Sp(t),Oy(e.stateNode,e.type,t))}}function JC(e){qs?Hs?Hs.push(e):Hs=[e]:qs=e}function ZC(){if(qs){var e=qs,t=Hs;if(Hs=qs=null,tw(e),t)for(e=0;e<t.length;e++)tw(t[e])}}function eE(e,t){return e(t)}function tE(){}var pg=!1;function nE(e,t,n){if(pg)return e(t,n);pg=!0;try{return eE(e,t,n)}finally{pg=!1,(qs!==null||Hs!==null)&&(tE(),ZC())}}function ou(e,t){var n=e.stateNode;if(n===null)return null;var r=Sp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var Ay=!1;if(ho)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Ay=!1}function kA(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Lc=!1,Jh=null,Zh=!1,Ny=null,CA={onError:function(e){Lc=!0,Jh=e}};function EA(e,t,n,r,i,o,a,s,c){Lc=!1,Jh=null,kA.apply(CA,arguments)}function _A(e,t,n,r,i,o,a,s,c){if(EA.apply(this,arguments),Lc){if(Lc){var u=Jh;Lc=!1,Jh=null}else throw Error(fe(198));Zh||(Zh=!0,Ny=u)}}function ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nw(e){if(ns(e)!==e)throw Error(fe(188))}function TA(e){var t=e.alternate;if(!t){if(t=ns(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nw(i),e;if(o===r)return nw(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function iE(e){return e=TA(e),e!==null?oE(e):null}function oE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oE(e);if(t!==null)return t;e=e.sibling}return null}var aE=_r.unstable_scheduleCallback,rw=_r.unstable_cancelCallback,IA=_r.unstable_shouldYield,jA=_r.unstable_requestPaint,on=_r.unstable_now,RA=_r.unstable_getCurrentPriorityLevel,E0=_r.unstable_ImmediatePriority,sE=_r.unstable_UserBlockingPriority,ef=_r.unstable_NormalPriority,PA=_r.unstable_LowPriority,lE=_r.unstable_IdlePriority,vp=null,Ti=null;function OA(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(vp,e,void 0,(e.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:MA,AA=Math.log,NA=Math.LN2;function MA(e){return e>>>=0,e===0?32:31-(AA(e)/NA|0)|0}var Ud=64,Vd=4194304;function _c(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=_c(s):(o&=a,o!==0&&(r=_c(o)))}else a=n&~i,a!==0?r=_c(a):o!==0&&(r=_c(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fi(t),i=1<<n,r|=e[n],t&=~i;return r}function LA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-fi(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=LA(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}function My(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cE(){var e=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),e}function mg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fi(t),e[t]=n}function zA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fi(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function _0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function uE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dE,T0,hE,fE,pE,Ly=!1,qd=[],Vo=null,qo=null,Ho=null,au=new Map,su=new Map,Do=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iw(e,t){switch(e){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(t.pointerId)}}function sc(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Hu(t),t!==null&&T0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function BA(e,t,n,r,i){switch(t){case"focusin":return Vo=sc(Vo,e,t,n,r,i),!0;case"dragenter":return qo=sc(qo,e,t,n,r,i),!0;case"mouseover":return Ho=sc(Ho,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return au.set(o,sc(au.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,su.set(o,sc(su.get(o)||null,e,t,n,r,i)),!0}return!1}function mE(e){var t=ja(e.target);if(t!==null){var n=ns(t);if(n!==null){if(t=n.tag,t===13){if(t=rE(n),t!==null){e.blockedOn=t,pE(e.priority,function(){hE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ch(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return t=Hu(n),t!==null&&T0(t),e.blockedOn=n,!1;t.shift()}return!0}function ow(e,t,n){Ch(e)&&n.delete(t)}function WA(){Ly=!1,Vo!==null&&Ch(Vo)&&(Vo=null),qo!==null&&Ch(qo)&&(qo=null),Ho!==null&&Ch(Ho)&&(Ho=null),au.forEach(ow),su.forEach(ow)}function lc(e,t){e.blockedOn===t&&(e.blockedOn=null,Ly||(Ly=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,WA)))}function lu(e){function t(i){return lc(i,e)}if(0<qd.length){lc(qd[0],e);for(var n=1;n<qd.length;n++){var r=qd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vo!==null&&lc(Vo,e),qo!==null&&lc(qo,e),Ho!==null&&lc(Ho,e),au.forEach(t),su.forEach(t),n=0;n<Do.length;n++)r=Do[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Do.length&&(n=Do[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&Do.shift()}var Ks=ko.ReactCurrentBatchConfig,nf=!0;function $A(e,t,n,r){var i=_t,o=Ks.transition;Ks.transition=null;try{_t=1,I0(e,t,n,r)}finally{_t=i,Ks.transition=o}}function UA(e,t,n,r){var i=_t,o=Ks.transition;Ks.transition=null;try{_t=4,I0(e,t,n,r)}finally{_t=i,Ks.transition=o}}function I0(e,t,n,r){if(nf){var i=Dy(e,t,n,r);if(i===null)Eg(e,t,r,rf,n),iw(e,r);else if(BA(i,e,t,n,r))r.stopPropagation();else if(iw(e,r),t&4&&-1<FA.indexOf(e)){for(;i!==null;){var o=Hu(i);if(o!==null&&dE(o),o=Dy(e,t,n,r),o===null&&Eg(e,t,r,rf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Eg(e,t,r,null,n)}}var rf=null;function Dy(e,t,n,r){if(rf=null,e=C0(r),e=ja(e),e!==null)if(t=ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rf=e,null}function gE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RA()){case E0:return 1;case sE:return 4;case ef:case PA:return 16;case lE:return 536870912;default:return 16}default:return 16}}var Fo=null,j0=null,Eh=null;function yE(){if(Eh)return Eh;var e,t=j0,n=t.length,r,i="value"in Fo?Fo.value:Fo.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Eh=i.slice(e,1<r?1-r:void 0)}function _h(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hd(){return!0}function aw(){return!1}function Or(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hd:aw,this.isPropagationStopped=aw,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=Or(Ll),qu=Gt({},Ll,{view:0,detail:0}),VA=Or(qu),gg,yg,cc,bp=Gt({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cc&&(cc&&e.type==="mousemove"?(gg=e.screenX-cc.screenX,yg=e.screenY-cc.screenY):yg=gg=0,cc=e),gg)},movementY:function(e){return"movementY"in e?e.movementY:yg}}),sw=Or(bp),qA=Gt({},bp,{dataTransfer:0}),HA=Or(qA),KA=Gt({},qu,{relatedTarget:0}),vg=Or(KA),GA=Gt({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),QA=Or(GA),YA=Gt({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XA=Or(YA),JA=Gt({},Ll,{data:0}),lw=Or(JA),ZA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t5[e])?!!t[e]:!1}function P0(){return n5}var r5=Gt({},qu,{key:function(e){if(e.key){var t=ZA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_h(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(e){return e.type==="keypress"?_h(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_h(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i5=Or(r5),o5=Gt({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=Or(o5),a5=Gt({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),s5=Or(a5),l5=Gt({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),c5=Or(l5),u5=Gt({},bp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d5=Or(u5),h5=[9,13,27,32],O0=ho&&"CompositionEvent"in window,Dc=null;ho&&"documentMode"in document&&(Dc=document.documentMode);var f5=ho&&"TextEvent"in window&&!Dc,vE=ho&&(!O0||Dc&&8<Dc&&11>=Dc),uw=" ",dw=!1;function bE(e,t){switch(e){case"keyup":return h5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function p5(e,t){switch(e){case"compositionend":return xE(t);case"keypress":return t.which!==32?null:(dw=!0,uw);case"textInput":return e=t.data,e===uw&&dw?null:e;default:return null}}function m5(e,t){if(Rs)return e==="compositionend"||!O0&&bE(e,t)?(e=yE(),Eh=j0=Fo=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vE&&t.locale!=="ko"?null:t.data;default:return null}}var g5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g5[e.type]:t==="textarea"}function wE(e,t,n,r){JC(r),t=of(t,"onChange"),0<t.length&&(n=new R0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zc=null,cu=null;function y5(e){OE(e,0)}function xp(e){var t=As(e);if(qC(t))return e}function v5(e,t){if(e==="change")return t}var SE=!1;if(ho){var bg;if(ho){var xg="oninput"in document;if(!xg){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),xg=typeof fw.oninput=="function"}bg=xg}else bg=!1;SE=bg&&(!document.documentMode||9<document.documentMode)}function pw(){zc&&(zc.detachEvent("onpropertychange",kE),cu=zc=null)}function kE(e){if(e.propertyName==="value"&&xp(cu)){var t=[];wE(t,cu,e,C0(e)),nE(y5,t)}}function b5(e,t,n){e==="focusin"?(pw(),zc=t,cu=n,zc.attachEvent("onpropertychange",kE)):e==="focusout"&&pw()}function x5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xp(cu)}function w5(e,t){if(e==="click")return xp(t)}function S5(e,t){if(e==="input"||e==="change")return xp(t)}function k5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:k5;function uu(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!by.call(t,i)||!mi(e[i],t[i]))return!1}return!0}function mw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gw(e,t){var n=mw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mw(n)}}function CE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EE(){for(var e=window,t=Xh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xh(e.document)}return t}function A0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C5(e){var t=EE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&CE(n.ownerDocument.documentElement,n)){if(r!==null&&A0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=gw(n,o);var a=gw(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E5=ho&&"documentMode"in document&&11>=document.documentMode,Ps=null,zy=null,Fc=null,Fy=!1;function yw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Ps==null||Ps!==Xh(r)||(r=Ps,"selectionStart"in r&&A0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fc&&uu(Fc,r)||(Fc=r,r=of(zy,"onSelect"),0<r.length&&(t=new R0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ps)))}function Kd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Os={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},wg={},_E={};ho&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function wp(e){if(wg[e])return wg[e];if(!Os[e])return e;var t=Os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _E)return wg[e]=t[n];return e}var TE=wp("animationend"),IE=wp("animationiteration"),jE=wp("animationstart"),RE=wp("transitionend"),PE=new Map,vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(e,t){PE.set(e,t),ts(t,[e])}for(var Sg=0;Sg<vw.length;Sg++){var kg=vw[Sg],_5=kg.toLowerCase(),T5=kg[0].toUpperCase()+kg.slice(1);ca(_5,"on"+T5)}ca(TE,"onAnimationEnd");ca(IE,"onAnimationIteration");ca(jE,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(RE,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tc));function bw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_A(r,t,void 0,e),e.currentTarget=null}function OE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;bw(i,s,u),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;bw(i,s,u),o=c}}}if(Zh)throw e=Ny,Zh=!1,Ny=null,e}function Lt(e,t){var n=t[Vy];n===void 0&&(n=t[Vy]=new Set);var r=e+"__bubble";n.has(r)||(AE(t,e,2,!1),n.add(r))}function Cg(e,t,n){var r=0;t&&(r|=4),AE(n,e,r,t)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[Gd]){e[Gd]=!0,BC.forEach(function(n){n!=="selectionchange"&&(I5.has(n)||Cg(n,!1,e),Cg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gd]||(t[Gd]=!0,Cg("selectionchange",!1,t))}}function AE(e,t,n,r){switch(gE(t)){case 1:var i=$A;break;case 4:i=UA;break;default:i=I0}n=i.bind(null,t,n,e),i=void 0,!Ay||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eg(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ja(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}nE(function(){var u=o,h=C0(n),f=[];e:{var v=PE.get(e);if(v!==void 0){var b=R0,C=e;switch(e){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":b=i5;break;case"focusin":C="focus",b=vg;break;case"focusout":C="blur",b=vg;break;case"beforeblur":case"afterblur":b=vg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=HA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=s5;break;case TE:case IE:case jE:b=QA;break;case RE:b=c5;break;case"scroll":b=VA;break;case"wheel":b=d5;break;case"copy":case"cut":case"paste":b=XA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=cw}var S=(t&4)!==0,T=!S&&e==="scroll",E=S?v!==null?v+"Capture":null:v;S=[];for(var g=u,y;g!==null;){y=g;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,E!==null&&(P=ou(g,E),P!=null&&S.push(hu(g,P,y)))),T)break;g=g.return}0<S.length&&(v=new b(v,C,null,n,h),f.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",v&&n!==Py&&(C=n.relatedTarget||n.fromElement)&&(ja(C)||C[fo]))break e;if((b||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,b?(C=n.relatedTarget||n.toElement,b=u,C=C?ja(C):null,C!==null&&(T=ns(C),C!==T||C.tag!==5&&C.tag!==6)&&(C=null)):(b=null,C=u),b!==C)){if(S=sw,P="onMouseLeave",E="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(S=cw,P="onPointerLeave",E="onPointerEnter",g="pointer"),T=b==null?v:As(b),y=C==null?v:As(C),v=new S(P,g+"leave",b,n,h),v.target=T,v.relatedTarget=y,P=null,ja(h)===u&&(S=new S(E,g+"enter",C,n,h),S.target=y,S.relatedTarget=T,P=S),T=P,b&&C)t:{for(S=b,E=C,g=0,y=S;y;y=ms(y))g++;for(y=0,P=E;P;P=ms(P))y++;for(;0<g-y;)S=ms(S),g--;for(;0<y-g;)E=ms(E),y--;for(;g--;){if(S===E||E!==null&&S===E.alternate)break t;S=ms(S),E=ms(E)}S=null}else S=null;b!==null&&xw(f,v,b,S,!1),C!==null&&T!==null&&xw(f,T,C,S,!0)}}e:{if(v=u?As(u):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var M=v5;else if(hw(v))if(SE)M=S5;else{M=x5;var N=b5}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=w5);if(M&&(M=M(e,u))){wE(f,M,n,h);break e}N&&N(e,v,u),e==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&_y(v,"number",v.value)}switch(N=u?As(u):window,e){case"focusin":(hw(N)||N.contentEditable==="true")&&(Ps=N,zy=u,Fc=null);break;case"focusout":Fc=zy=Ps=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,yw(f,n,h);break;case"selectionchange":if(E5)break;case"keydown":case"keyup":yw(f,n,h)}var _;if(O0)e:{switch(e){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Rs?bE(e,n)&&(p="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(vE&&n.locale!=="ko"&&(Rs||p!=="onCompositionStart"?p==="onCompositionEnd"&&Rs&&(_=yE()):(Fo=h,j0="value"in Fo?Fo.value:Fo.textContent,Rs=!0)),N=of(u,p),0<N.length&&(p=new lw(p,e,null,n,h),f.push({event:p,listeners:N}),_?p.data=_:(_=xE(n),_!==null&&(p.data=_)))),(_=f5?p5(e,n):m5(e,n))&&(u=of(u,"onBeforeInput"),0<u.length&&(h=new lw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=_))}OE(f,t)})}function hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function of(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ou(e,n),o!=null&&r.unshift(hu(e,o,i)),o=ou(e,t),o!=null&&r.push(hu(e,o,i))),e=e.return}return r}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xw(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=ou(n,o),c!=null&&a.unshift(hu(n,c,s))):i||(c=ou(n,o),c!=null&&a.push(hu(n,c,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var j5=/\r\n?/g,R5=/\u0000|\uFFFD/g;function ww(e){return(typeof e=="string"?e:""+e).replace(j5,`
`).replace(R5,"")}function Qd(e,t,n){if(t=ww(t),ww(e)!==t&&n)throw Error(fe(425))}function af(){}var By=null,Wy=null;function $y(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uy=typeof setTimeout=="function"?setTimeout:void 0,P5=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,O5=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(e){return Sw.resolve(null).then(e).catch(A5)}:Uy;function A5(e){setTimeout(function(){throw e})}function _g(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lu(t)}function Ko(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Dl,fu="__reactProps$"+Dl,fo="__reactContainer$"+Dl,Vy="__reactEvents$"+Dl,N5="__reactListeners$"+Dl,M5="__reactHandles$"+Dl;function ja(e){var t=e[Ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[Ci]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kw(e);e!==null;){if(n=e[Ci])return n;e=kw(e)}return t}e=n,n=e.parentNode}return null}function Hu(e){return e=e[Ci]||e[fo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function As(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Sp(e){return e[fu]||null}var qy=[],Ns=-1;function ua(e){return{current:e}}function zt(e){0>Ns||(e.current=qy[Ns],qy[Ns]=null,Ns--)}function Pt(e,t){Ns++,qy[Ns]=e.current,e.current=t}var ra={},Qn=ua(ra),ur=ua(!1),Ba=ra;function sl(e,t){var n=e.type.contextTypes;if(!n)return ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dr(e){return e=e.childContextTypes,e!=null}function sf(){zt(ur),zt(Qn)}function Cw(e,t,n){if(Qn.current!==ra)throw Error(fe(168));Pt(Qn,t),Pt(ur,n)}function NE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,bA(e)||"Unknown",i));return Gt({},n,r)}function lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ra,Ba=Qn.current,Pt(Qn,e),Pt(ur,ur.current),!0}function Ew(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=NE(e,t,Ba),r.__reactInternalMemoizedMergedChildContext=e,zt(ur),zt(Qn),Pt(Qn,e)):zt(ur),Pt(ur,n)}var Qi=null,kp=!1,Tg=!1;function ME(e){Qi===null?Qi=[e]:Qi.push(e)}function L5(e){kp=!0,ME(e)}function da(){if(!Tg&&Qi!==null){Tg=!0;var e=0,t=_t;try{var n=Qi;for(_t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qi=null,kp=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(e+1)),aE(E0,da),i}finally{_t=t,Tg=!1}}return null}var Ms=[],Ls=0,cf=null,uf=0,Wr=[],$r=0,Wa=null,to=1,no="";function ka(e,t){Ms[Ls++]=uf,Ms[Ls++]=cf,cf=e,uf=t}function LE(e,t,n){Wr[$r++]=to,Wr[$r++]=no,Wr[$r++]=Wa,Wa=e;var r=to;e=no;var i=32-fi(r)-1;r&=~(1<<i),n+=1;var o=32-fi(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,to=1<<32-fi(t)+i|n<<i|r,no=o+e}else to=1<<o|n<<i|r,no=e}function N0(e){e.return!==null&&(ka(e,1),LE(e,1,0))}function M0(e){for(;e===cf;)cf=Ms[--Ls],Ms[Ls]=null,uf=Ms[--Ls],Ms[Ls]=null;for(;e===Wa;)Wa=Wr[--$r],Wr[$r]=null,no=Wr[--$r],Wr[$r]=null,to=Wr[--$r],Wr[$r]=null}var kr=null,wr=null,$t=!1,di=null;function DE(e,t){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _w(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kr=e,wr=Ko(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kr=e,wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wa!==null?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kr=e,wr=null,!0):!1;default:return!1}}function Hy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ky(e){if($t){var t=wr;if(t){var n=t;if(!_w(e,t)){if(Hy(e))throw Error(fe(418));t=Ko(n.nextSibling);var r=kr;t&&_w(e,t)?DE(r,n):(e.flags=e.flags&-4097|2,$t=!1,kr=e)}}else{if(Hy(e))throw Error(fe(418));e.flags=e.flags&-4097|2,$t=!1,kr=e}}}function Tw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kr=e}function Yd(e){if(e!==kr)return!1;if(!$t)return Tw(e),$t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$y(e.type,e.memoizedProps)),t&&(t=wr)){if(Hy(e))throw zE(),Error(fe(418));for(;t;)DE(e,t),t=Ko(t.nextSibling)}if(Tw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wr=Ko(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wr=null}}else wr=kr?Ko(e.stateNode.nextSibling):null;return!0}function zE(){for(var e=wr;e;)e=Ko(e.nextSibling)}function ll(){wr=kr=null,$t=!1}function L0(e){di===null?di=[e]:di.push(e)}var D5=ko.ReactCurrentBatchConfig;function uc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function Xd(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iw(e){var t=e._init;return t(e._payload)}function FE(e){function t(E,g){if(e){var y=E.deletions;y===null?(E.deletions=[g],E.flags|=16):y.push(g)}}function n(E,g){if(!e)return null;for(;g!==null;)t(E,g),g=g.sibling;return null}function r(E,g){for(E=new Map;g!==null;)g.key!==null?E.set(g.key,g):E.set(g.index,g),g=g.sibling;return E}function i(E,g){return E=Xo(E,g),E.index=0,E.sibling=null,E}function o(E,g,y){return E.index=y,e?(y=E.alternate,y!==null?(y=y.index,y<g?(E.flags|=2,g):y):(E.flags|=2,g)):(E.flags|=1048576,g)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function s(E,g,y,P){return g===null||g.tag!==6?(g=Ng(y,E.mode,P),g.return=E,g):(g=i(g,y),g.return=E,g)}function c(E,g,y,P){var M=y.type;return M===js?h(E,g,y.props.children,P,y.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===No&&Iw(M)===g.type)?(P=i(g,y.props),P.ref=uc(E,g,y),P.return=E,P):(P=Ah(y.type,y.key,y.props,null,E.mode,P),P.ref=uc(E,g,y),P.return=E,P)}function u(E,g,y,P){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Mg(y,E.mode,P),g.return=E,g):(g=i(g,y.children||[]),g.return=E,g)}function h(E,g,y,P,M){return g===null||g.tag!==7?(g=Ma(y,E.mode,P,M),g.return=E,g):(g=i(g,y),g.return=E,g)}function f(E,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ng(""+g,E.mode,y),g.return=E,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bd:return y=Ah(g.type,g.key,g.props,null,E.mode,y),y.ref=uc(E,null,g),y.return=E,y;case Is:return g=Mg(g,E.mode,y),g.return=E,g;case No:var P=g._init;return f(E,P(g._payload),y)}if(Ec(g)||oc(g))return g=Ma(g,E.mode,y,null),g.return=E,g;Xd(E,g)}return null}function v(E,g,y,P){var M=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:s(E,g,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bd:return y.key===M?c(E,g,y,P):null;case Is:return y.key===M?u(E,g,y,P):null;case No:return M=y._init,v(E,g,M(y._payload),P)}if(Ec(y)||oc(y))return M!==null?null:h(E,g,y,P,null);Xd(E,y)}return null}function b(E,g,y,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(y)||null,s(g,E,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Bd:return E=E.get(P.key===null?y:P.key)||null,c(g,E,P,M);case Is:return E=E.get(P.key===null?y:P.key)||null,u(g,E,P,M);case No:var N=P._init;return b(E,g,y,N(P._payload),M)}if(Ec(P)||oc(P))return E=E.get(y)||null,h(g,E,P,M,null);Xd(g,P)}return null}function C(E,g,y,P){for(var M=null,N=null,_=g,p=g=0,m=null;_!==null&&p<y.length;p++){_.index>p?(m=_,_=null):m=_.sibling;var w=v(E,_,y[p],P);if(w===null){_===null&&(_=m);break}e&&_&&w.alternate===null&&t(E,_),g=o(w,g,p),N===null?M=w:N.sibling=w,N=w,_=m}if(p===y.length)return n(E,_),$t&&ka(E,p),M;if(_===null){for(;p<y.length;p++)_=f(E,y[p],P),_!==null&&(g=o(_,g,p),N===null?M=_:N.sibling=_,N=_);return $t&&ka(E,p),M}for(_=r(E,_);p<y.length;p++)m=b(_,E,p,y[p],P),m!==null&&(e&&m.alternate!==null&&_.delete(m.key===null?p:m.key),g=o(m,g,p),N===null?M=m:N.sibling=m,N=m);return e&&_.forEach(function(R){return t(E,R)}),$t&&ka(E,p),M}function S(E,g,y,P){var M=oc(y);if(typeof M!="function")throw Error(fe(150));if(y=M.call(y),y==null)throw Error(fe(151));for(var N=M=null,_=g,p=g=0,m=null,w=y.next();_!==null&&!w.done;p++,w=y.next()){_.index>p?(m=_,_=null):m=_.sibling;var R=v(E,_,w.value,P);if(R===null){_===null&&(_=m);break}e&&_&&R.alternate===null&&t(E,_),g=o(R,g,p),N===null?M=R:N.sibling=R,N=R,_=m}if(w.done)return n(E,_),$t&&ka(E,p),M;if(_===null){for(;!w.done;p++,w=y.next())w=f(E,w.value,P),w!==null&&(g=o(w,g,p),N===null?M=w:N.sibling=w,N=w);return $t&&ka(E,p),M}for(_=r(E,_);!w.done;p++,w=y.next())w=b(_,E,p,w.value,P),w!==null&&(e&&w.alternate!==null&&_.delete(w.key===null?p:w.key),g=o(w,g,p),N===null?M=w:N.sibling=w,N=w);return e&&_.forEach(function(j){return t(E,j)}),$t&&ka(E,p),M}function T(E,g,y,P){if(typeof y=="object"&&y!==null&&y.type===js&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bd:e:{for(var M=y.key,N=g;N!==null;){if(N.key===M){if(M=y.type,M===js){if(N.tag===7){n(E,N.sibling),g=i(N,y.props.children),g.return=E,E=g;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===No&&Iw(M)===N.type){n(E,N.sibling),g=i(N,y.props),g.ref=uc(E,N,y),g.return=E,E=g;break e}n(E,N);break}else t(E,N);N=N.sibling}y.type===js?(g=Ma(y.props.children,E.mode,P,y.key),g.return=E,E=g):(P=Ah(y.type,y.key,y.props,null,E.mode,P),P.ref=uc(E,g,y),P.return=E,E=P)}return a(E);case Is:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(E,g.sibling),g=i(g,y.children||[]),g.return=E,E=g;break e}else{n(E,g);break}else t(E,g);g=g.sibling}g=Mg(y,E.mode,P),g.return=E,E=g}return a(E);case No:return N=y._init,T(E,g,N(y._payload),P)}if(Ec(y))return C(E,g,y,P);if(oc(y))return S(E,g,y,P);Xd(E,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(E,g.sibling),g=i(g,y),g.return=E,E=g):(n(E,g),g=Ng(y,E.mode,P),g.return=E,E=g),a(E)):n(E,g)}return T}var cl=FE(!0),BE=FE(!1),df=ua(null),hf=null,Ds=null,D0=null;function z0(){D0=Ds=hf=null}function F0(e){var t=df.current;zt(df),e._currentValue=t}function Gy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gs(e,t){hf=e,D0=Ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cr=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(D0!==e)if(e={context:e,memoizedValue:t,next:null},Ds===null){if(hf===null)throw Error(fe(308));Ds=e,hf.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Ra=null;function B0(e){Ra===null?Ra=[e]:Ra.push(e)}function WE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,B0(t)):(n.next=i.next,i.next=n),t.interleaved=n,po(e,r)}function po(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mo=!1;function W0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Go(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,po(e,n)}return i=r.interleaved,i===null?(t.next=t,B0(r)):(t.next=i.next,i.next=t),r.interleaved=t,po(e,n)}function Th(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_0(e,n)}}function jw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ff(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;a=0,h=u=c=null,s=o;do{var v=s.lane,b=s.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,S=s;switch(v=t,b=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){f=C.call(b,f,v);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,v=typeof C=="function"?C.call(b,f,v):C,v==null)break e;f=Gt({},f,v);break e;case 2:Mo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else b={eventTime:b,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=b,c=f):h=h.next=b,a|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ua|=a,e.lanes=a,e.memoizedState=f}}function Rw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ku={},Ii=ua(Ku),pu=ua(Ku),mu=ua(Ku);function Pa(e){if(e===Ku)throw Error(fe(174));return e}function $0(e,t){switch(Pt(mu,t),Pt(pu,e),Pt(Ii,Ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iy(t,e)}zt(Ii),Pt(Ii,t)}function ul(){zt(Ii),zt(pu),zt(mu)}function UE(e){Pa(mu.current);var t=Pa(Ii.current),n=Iy(t,e.type);t!==n&&(Pt(pu,e),Pt(Ii,n))}function U0(e){pu.current===e&&(zt(Ii),zt(pu))}var qt=ua(0);function pf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ig=[];function V0(){for(var e=0;e<Ig.length;e++)Ig[e]._workInProgressVersionPrimary=null;Ig.length=0}var Ih=ko.ReactCurrentDispatcher,jg=ko.ReactCurrentBatchConfig,$a=0,Kt=null,vn=null,kn=null,mf=!1,Bc=!1,gu=0,z5=0;function Fn(){throw Error(fe(321))}function q0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mi(e[n],t[n]))return!1;return!0}function H0(e,t,n,r,i,o){if($a=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ih.current=e===null||e.memoizedState===null?$5:U5,e=n(r,i),Bc){o=0;do{if(Bc=!1,gu=0,25<=o)throw Error(fe(301));o+=1,kn=vn=null,t.updateQueue=null,Ih.current=V5,e=n(r,i)}while(Bc)}if(Ih.current=gf,t=vn!==null&&vn.next!==null,$a=0,kn=vn=Kt=null,mf=!1,t)throw Error(fe(300));return e}function K0(){var e=gu!==0;return gu=0,e}function wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Kt.memoizedState=kn=e:kn=kn.next=e,kn}function Xr(){if(vn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=vn.next;var t=kn===null?Kt.memoizedState:kn.next;if(t!==null)kn=t,vn=e;else{if(e===null)throw Error(fe(310));vn=e,e={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},kn===null?Kt.memoizedState=kn=e:kn=kn.next=e}return kn}function yu(e,t){return typeof t=="function"?t(e):t}function Rg(e){var t=Xr(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=vn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,u=o;do{var h=u.lane;if(($a&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,a=r):c=c.next=f,Kt.lanes|=h,Ua|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=s,mi(r,t.memoizedState)||(cr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Kt.lanes|=o,Ua|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pg(e){var t=Xr(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);mi(o,t.memoizedState)||(cr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function VE(){}function qE(e,t){var n=Kt,r=Xr(),i=t(),o=!mi(r.memoizedState,i);if(o&&(r.memoizedState=i,cr=!0),r=r.queue,G0(GE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,vu(9,KE.bind(null,n,r,i,t),void 0,null),En===null)throw Error(fe(349));$a&30||HE(n,t,i)}return i}function HE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KE(e,t,n,r){t.value=n,t.getSnapshot=r,QE(t)&&YE(e)}function GE(e,t,n){return n(function(){QE(t)&&YE(e)})}function QE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mi(e,n)}catch{return!0}}function YE(e){var t=po(e,1);t!==null&&pi(t,e,1,-1)}function Pw(e){var t=wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:e},t.queue=e,e=e.dispatch=W5.bind(null,Kt,e),[t.memoizedState,e]}function vu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function XE(){return Xr().memoizedState}function jh(e,t,n,r){var i=wi();Kt.flags|=e,i.memoizedState=vu(1|t,n,void 0,r===void 0?null:r)}function Cp(e,t,n,r){var i=Xr();r=r===void 0?null:r;var o=void 0;if(vn!==null){var a=vn.memoizedState;if(o=a.destroy,r!==null&&q0(r,a.deps)){i.memoizedState=vu(t,n,o,r);return}}Kt.flags|=e,i.memoizedState=vu(1|t,n,o,r)}function Ow(e,t){return jh(8390656,8,e,t)}function G0(e,t){return Cp(2048,8,e,t)}function JE(e,t){return Cp(4,2,e,t)}function ZE(e,t){return Cp(4,4,e,t)}function e_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t_(e,t,n){return n=n!=null?n.concat([e]):null,Cp(4,4,e_.bind(null,t,e),n)}function Q0(){}function n_(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r_(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i_(e,t,n){return $a&21?(mi(n,t)||(n=cE(),Kt.lanes|=n,Ua|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cr=!0),e.memoizedState=n)}function F5(e,t){var n=_t;_t=n!==0&&4>n?n:4,e(!0);var r=jg.transition;jg.transition={};try{e(!1),t()}finally{_t=n,jg.transition=r}}function o_(){return Xr().memoizedState}function B5(e,t,n){var r=Yo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a_(e))s_(t,n);else if(n=WE(e,t,n,r),n!==null){var i=tr();pi(n,e,r,i),l_(n,t,r)}}function W5(e,t,n){var r=Yo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a_(e))s_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,mi(s,a)){var c=t.interleaved;c===null?(i.next=i,B0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=WE(e,t,i,r),n!==null&&(i=tr(),pi(n,e,r,i),l_(n,t,r))}}function a_(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function s_(e,t){Bc=mf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_0(e,n)}}var gf={readContext:Yr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},$5={readContext:Yr,useCallback:function(e,t){return wi().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:Ow,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jh(4194308,4,e_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jh(4194308,4,e,t)},useInsertionEffect:function(e,t){return jh(4,2,e,t)},useMemo:function(e,t){var n=wi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=B5.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=wi();return e={current:e},t.memoizedState=e},useState:Pw,useDebugValue:Q0,useDeferredValue:function(e){return wi().memoizedState=e},useTransition:function(){var e=Pw(!1),t=e[0];return e=F5.bind(null,e[1]),wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Kt,i=wi();if($t){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),En===null)throw Error(fe(349));$a&30||HE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ow(GE.bind(null,r,o,e),[e]),r.flags|=2048,vu(9,KE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wi(),t=En.identifierPrefix;if($t){var n=no,r=to;n=(r&~(1<<32-fi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=z5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},U5={readContext:Yr,useCallback:n_,useContext:Yr,useEffect:G0,useImperativeHandle:t_,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:r_,useReducer:Rg,useRef:XE,useState:function(){return Rg(yu)},useDebugValue:Q0,useDeferredValue:function(e){var t=Xr();return i_(t,vn.memoizedState,e)},useTransition:function(){var e=Rg(yu)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:VE,useSyncExternalStore:qE,useId:o_,unstable_isNewReconciler:!1},V5={readContext:Yr,useCallback:n_,useContext:Yr,useEffect:G0,useImperativeHandle:t_,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:r_,useReducer:Pg,useRef:XE,useState:function(){return Pg(yu)},useDebugValue:Q0,useDeferredValue:function(e){var t=Xr();return vn===null?t.memoizedState=e:i_(t,vn.memoizedState,e)},useTransition:function(){var e=Pg(yu)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:VE,useSyncExternalStore:qE,useId:o_,unstable_isNewReconciler:!1};function ci(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ep={isMounted:function(e){return(e=e._reactInternals)?ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tr(),i=Yo(e),o=ao(r,i);o.payload=t,n!=null&&(o.callback=n),t=Go(e,o,i),t!==null&&(pi(t,e,i,r),Th(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tr(),i=Yo(e),o=ao(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Go(e,o,i),t!==null&&(pi(t,e,i,r),Th(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tr(),r=Yo(e),i=ao(n,r);i.tag=2,t!=null&&(i.callback=t),t=Go(e,i,r),t!==null&&(pi(t,e,r,n),Th(t,e,r))}};function Aw(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!uu(n,r)||!uu(i,o):!0}function c_(e,t,n){var r=!1,i=ra,o=t.contextType;return typeof o=="object"&&o!==null?o=Yr(o):(i=dr(t)?Ba:Qn.current,r=t.contextTypes,o=(r=r!=null)?sl(e,i):ra),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ep,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ep.enqueueReplaceState(t,t.state,null)}function Yy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},W0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yr(o):(o=dr(t)?Ba:Qn.current,i.context=sl(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qy(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ep.enqueueReplaceState(i,i.state,null),ff(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var n="",r=t;do n+=vA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Og(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var q5=typeof WeakMap=="function"?WeakMap:Map;function u_(e,t,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vf||(vf=!0,av=r),Xy(e,t)},n}function d_(e,t,n){n=ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xy(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xy(e,t),typeof r!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new q5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oN.bind(null,e,t,n),t.then(e,e))}function Lw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ao(-1,1),t.tag=2,Go(n,t,1))),n.lanes|=1),e)}var H5=ko.ReactCurrentOwner,cr=!1;function Zn(e,t,n,r){t.child=e===null?BE(t,null,n,r):cl(t,e.child,n,r)}function zw(e,t,n,r,i){n=n.render;var o=t.ref;return Gs(t,i),r=H0(e,t,n,r,o,i),n=K0(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mo(e,t,i)):($t&&n&&N0(t),t.flags|=1,Zn(e,t,r,i),t.child)}function Fw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!rb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,h_(e,t,o,r,i)):(e=Ah(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(a,r)&&e.ref===t.ref)return mo(e,t,i)}return t.flags|=1,e=Xo(o,r),e.ref=t.ref,e.return=t,t.child=e}function h_(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(uu(o,r)&&e.ref===t.ref)if(cr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(cr=!0);else return t.lanes=e.lanes,mo(e,t,i)}return Jy(e,t,n,r,i)}function f_(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Fs,br),br|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Fs,br),br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pt(Fs,br),br|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pt(Fs,br),br|=r;return Zn(e,t,i,n),t.child}function p_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jy(e,t,n,r,i){var o=dr(n)?Ba:Qn.current;return o=sl(t,o),Gs(t,i),n=H0(e,t,n,r,o,i),r=K0(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mo(e,t,i)):($t&&r&&N0(t),t.flags|=1,Zn(e,t,n,i),t.child)}function Bw(e,t,n,r,i){if(dr(n)){var o=!0;lf(t)}else o=!1;if(Gs(t,i),t.stateNode===null)Rh(e,t),c_(t,n,r),Yy(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=dr(n)?Ba:Qn.current,u=sl(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==u)&&Nw(t,a,r,u),Mo=!1;var v=t.memoizedState;a.state=v,ff(t,r,a,i),c=t.memoizedState,s!==r||v!==c||ur.current||Mo?(typeof h=="function"&&(Qy(t,n,h,r),c=t.memoizedState),(s=Mo||Aw(t,n,s,r,v,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$E(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ci(t.type,s),a.props=u,f=t.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=dr(n)?Ba:Qn.current,c=sl(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||v!==c)&&Nw(t,a,r,c),Mo=!1,v=t.memoizedState,a.state=v,ff(t,r,a,i);var C=t.memoizedState;s!==f||v!==C||ur.current||Mo?(typeof b=="function"&&(Qy(t,n,b,r),C=t.memoizedState),(u=Mo||Aw(t,n,u,r,v,C,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Zy(e,t,n,r,o,i)}function Zy(e,t,n,r,i,o){p_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ew(t,n,!1),mo(e,t,o);r=t.stateNode,H5.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=cl(t,e.child,null,o),t.child=cl(t,null,s,o)):Zn(e,t,s,o),t.memoizedState=r.state,i&&Ew(t,n,!0),t.child}function m_(e){var t=e.stateNode;t.pendingContext?Cw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cw(e,t.context,!1),$0(e,t.containerInfo)}function Ww(e,t,n,r,i){return ll(),L0(i),t.flags|=256,Zn(e,t,n,r),t.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(e){return{baseLanes:e,cachePool:null,transitions:null}}function g_(e,t,n){var r=t.pendingProps,i=qt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pt(qt,i&1),e===null)return Ky(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ip(a,r,0,null),e=Ma(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tv(n),t.memoizedState=ev,e):Y0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return K5(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xo(s,o):(o=Ma(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?tv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ev,r}return o=e.child,e=o.sibling,r=Xo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Y0(e,t){return t=Ip({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jd(e,t,n,r){return r!==null&&L0(r),cl(t,e.child,null,n),e=Y0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K5(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Og(Error(fe(422))),Jd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ip({mode:"visible",children:r.children},i,0,null),o=Ma(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&cl(t,e.child,null,a),t.child.memoizedState=tv(a),t.memoizedState=ev,o);if(!(t.mode&1))return Jd(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(fe(419)),r=Og(o,r,void 0),Jd(e,t,a,r)}if(s=(a&e.childLanes)!==0,cr||s){if(r=En,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,po(e,i),pi(r,e,i,-1))}return nb(),r=Og(Error(fe(421))),Jd(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=aN.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,wr=Ko(i.nextSibling),kr=t,$t=!0,di=null,e!==null&&(Wr[$r++]=to,Wr[$r++]=no,Wr[$r++]=Wa,to=e.id,no=e.overflow,Wa=t),t=Y0(t,r.children),t.flags|=4096,t)}function $w(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gy(e.return,t,n)}function Ag(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function y_(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Zn(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$w(e,n,t);else if(e.tag===19)$w(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(qt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&pf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ag(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ag(t,!0,n,null,o);break;case"together":Ag(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=Xo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G5(e,t,n){switch(t.tag){case 3:m_(t),ll();break;case 5:UE(t);break;case 1:dr(t.type)&&lf(t);break;case 4:$0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pt(df,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?g_(e,t,n):(Pt(qt,qt.current&1),e=mo(e,t,n),e!==null?e.sibling:null);Pt(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,f_(e,t,n)}return mo(e,t,n)}var v_,nv,b_,x_;v_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};b_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Pa(Ii.current);var o=null;switch(n){case"input":i=Cy(e,i),r=Cy(e,r),o=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),o=[];break;case"textarea":i=Ty(e,i),r=Ty(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=af)}jy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ru.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ru.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Lt("scroll",e),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};x_=function(e,t,n,r){n!==r&&(t.flags|=4)};function dc(e,t){if(!$t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q5(e,t,n){var r=t.pendingProps;switch(M0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(t),null;case 1:return dr(t.type)&&sf(),Bn(t),null;case 3:return r=t.stateNode,ul(),zt(ur),zt(Qn),V0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,di!==null&&(cv(di),di=null))),nv(e,t),Bn(t),null;case 5:U0(t);var i=Pa(mu.current);if(n=t.type,e!==null&&t.stateNode!=null)b_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Bn(t),null}if(e=Pa(Ii.current),Yd(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ci]=t,r[fu]=o,e=(t.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<Tc.length;i++)Lt(Tc[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":X1(r,o),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Lt("invalid",r);break;case"textarea":Z1(r,o),Lt("invalid",r)}jy(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Qd(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Qd(r.textContent,s,e),i=["children",""+s]):ru.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Wd(r),J1(r,o,!0);break;case"textarea":Wd(r),ew(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=af)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ci]=t,e[fu]=r,v_(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ry(n,r),n){case"dialog":Lt("cancel",e),Lt("close",e),i=r;break;case"iframe":case"object":case"embed":Lt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tc.length;i++)Lt(Tc[i],e);i=r;break;case"source":Lt("error",e),i=r;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),i=r;break;case"details":Lt("toggle",e),i=r;break;case"input":X1(e,r),i=Cy(e,r),Lt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Lt("invalid",e);break;case"textarea":Z1(e,r),i=Ty(e,r),Lt("invalid",e);break;default:i=r}jy(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?XC(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QC(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&iu(e,c):typeof c=="number"&&iu(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ru.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Lt("scroll",e):c!=null&&x0(e,o,c,a))}switch(n){case"input":Wd(e),J1(e,r,!1);break;case"textarea":Wd(e),ew(e);break;case"option":r.value!=null&&e.setAttribute("value",""+na(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Vs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Vs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bn(t),null;case 6:if(e&&t.stateNode!=null)x_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=Pa(mu.current),Pa(Ii.current),Yd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ci]=t,(o=r.nodeValue!==n)&&(e=kr,e!==null))switch(e.tag){case 3:Qd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qd(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ci]=t,t.stateNode=r}return Bn(t),null;case 13:if(zt(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&wr!==null&&t.mode&1&&!(t.flags&128))zE(),ll(),t.flags|=98560,o=!1;else if(o=Yd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Ci]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bn(t),o=!1}else di!==null&&(cv(di),di=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?bn===0&&(bn=3):nb())),t.updateQueue!==null&&(t.flags|=4),Bn(t),null);case 4:return ul(),nv(e,t),e===null&&du(t.stateNode.containerInfo),Bn(t),null;case 10:return F0(t.type._context),Bn(t),null;case 17:return dr(t.type)&&sf(),Bn(t),null;case 19:if(zt(qt),o=t.memoizedState,o===null)return Bn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)dc(o,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=pf(e),a!==null){for(t.flags|=128,dc(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(qt,qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&on()>hl&&(t.flags|=128,r=!0,dc(o,!1),t.lanes=4194304)}else{if(!r)if(e=pf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$t)return Bn(t),null}else 2*on()-o.renderingStartTime>hl&&n!==1073741824&&(t.flags|=128,r=!0,dc(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,n=qt.current,Pt(qt,r?n&1|2:n&1),t):(Bn(t),null);case 22:case 23:return tb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?br&1073741824&&(Bn(t),t.subtreeFlags&6&&(t.flags|=8192)):Bn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Y5(e,t){switch(M0(t),t.tag){case 1:return dr(t.type)&&sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),zt(ur),zt(Qn),V0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return U0(t),null;case 13:if(zt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(qt),null;case 4:return ul(),null;case 10:return F0(t.type._context),null;case 22:case 23:return tb(),null;case 24:return null;default:return null}}var Zd=!1,Hn=!1,X5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function zs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(e,t,r)}else n.current=null}function w_(e,t,n){try{n()}catch(r){nn(e,t,r)}}var Uw=!1;function J5(e,t){if(By=nf,e=EE(),A0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,u=0,h=0,f=e,v=null;t:for(;;){for(var b;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(b=f.firstChild)!==null;)v=f,f=b;for(;;){if(f===e)break t;if(v===n&&++u===i&&(s=a),v===o&&++h===r&&(c=a),(b=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=b}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wy={focusedElem:e,selectionRange:n},nf=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,T=C.memoizedState,E=t.stateNode,g=E.getSnapshotBeforeUpdate(t.elementType===t.type?S:ci(t.type,S),T);E.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(P){nn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return C=Uw,Uw=!1,C}function Wc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&w_(t,n,o)}i=i.next}while(i!==r)}}function _p(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function S_(e){var t=e.alternate;t!==null&&(e.alternate=null,S_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ci],delete t[fu],delete t[Vy],delete t[N5],delete t[M5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k_(e){return e.tag===5||e.tag===3||e.tag===4}function Vw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=af));else if(r!==4&&(e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}function ov(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ov(e,t,n),e=e.sibling;e!==null;)ov(e,t,n),e=e.sibling}var Rn=null,ui=!1;function Ro(e,t,n){for(n=n.child;n!==null;)C_(e,t,n),n=n.sibling}function C_(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(vp,n)}catch{}switch(n.tag){case 5:Hn||zs(n,t);case 6:var r=Rn,i=ui;Rn=null,Ro(e,t,n),Rn=r,ui=i,Rn!==null&&(ui?(e=Rn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(ui?(e=Rn,n=n.stateNode,e.nodeType===8?_g(e.parentNode,n):e.nodeType===1&&_g(e,n),lu(e)):_g(Rn,n.stateNode));break;case 4:r=Rn,i=ui,Rn=n.stateNode.containerInfo,ui=!0,Ro(e,t,n),Rn=r,ui=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&w_(n,t,a),i=i.next}while(i!==r)}Ro(e,t,n);break;case 1:if(!Hn&&(zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){nn(n,t,s)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,Ro(e,t,n),Hn=r):Ro(e,t,n);break;default:Ro(e,t,n)}}function qw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new X5),t.forEach(function(r){var i=sN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function li(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rn=s.stateNode,ui=!1;break e;case 3:Rn=s.stateNode.containerInfo,ui=!0;break e;case 4:Rn=s.stateNode.containerInfo,ui=!0;break e}s=s.return}if(Rn===null)throw Error(fe(160));C_(o,a,i),Rn=null,ui=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E_(t,e),t=t.sibling}function E_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(li(t,e),xi(e),r&4){try{Wc(3,e,e.return),_p(3,e)}catch(S){nn(e,e.return,S)}try{Wc(5,e,e.return)}catch(S){nn(e,e.return,S)}}break;case 1:li(t,e),xi(e),r&512&&n!==null&&zs(n,n.return);break;case 5:if(li(t,e),xi(e),r&512&&n!==null&&zs(n,n.return),e.flags&32){var i=e.stateNode;try{iu(i,"")}catch(S){nn(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&HC(i,o),Ry(s,a);var u=Ry(s,o);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?XC(i,f):h==="dangerouslySetInnerHTML"?QC(i,f):h==="children"?iu(i,f):x0(i,h,f,u)}switch(s){case"input":Ey(i,o);break;case"textarea":KC(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Vs(i,!!o.multiple,b,!1):v!==!!o.multiple&&(o.defaultValue!=null?Vs(i,!!o.multiple,o.defaultValue,!0):Vs(i,!!o.multiple,o.multiple?[]:"",!1))}i[fu]=o}catch(S){nn(e,e.return,S)}}break;case 6:if(li(t,e),xi(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){nn(e,e.return,S)}}break;case 3:if(li(t,e),xi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lu(t.containerInfo)}catch(S){nn(e,e.return,S)}break;case 4:li(t,e),xi(e);break;case 13:li(t,e),xi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Z0=on())),r&4&&qw(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Hn=(u=Hn)||h,li(t,e),Hn=u):li(t,e),xi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ae=e,h=e.child;h!==null;){for(f=Ae=h;Ae!==null;){switch(v=Ae,b=v.child,v.tag){case 0:case 11:case 14:case 15:Wc(4,v,v.return);break;case 1:zs(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){nn(r,n,S)}}break;case 5:zs(v,v.return);break;case 22:if(v.memoizedState!==null){Kw(f);continue}}b!==null?(b.return=v,Ae=b):Kw(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=YC("display",a))}catch(S){nn(e,e.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){nn(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:li(t,e),xi(e),r&4&&qw(e);break;case 21:break;default:li(t,e),xi(e)}}function xi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k_(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(iu(i,""),r.flags&=-33);var o=Vw(e);ov(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Vw(e);iv(e,s,a);break;default:throw Error(fe(161))}}catch(c){nn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z5(e,t,n){Ae=e,__(e)}function __(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var i=Ae,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Zd;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Hn;s=Zd;var u=Hn;if(Zd=a,(Hn=c)&&!u)for(Ae=i;Ae!==null;)a=Ae,c=a.child,a.tag===22&&a.memoizedState!==null?Gw(i):c!==null?(c.return=a,Ae=c):Gw(i);for(;o!==null;)Ae=o,__(o),o=o.sibling;Ae=i,Zd=s,Hn=u}Hw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ae=o):Hw(e)}}function Hw(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hn||_p(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ci(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Rw(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rw(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&lu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Hn||t.flags&512&&rv(t)}catch(v){nn(t,t.return,v)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function Kw(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function Gw(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_p(4,t)}catch(c){nn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){nn(t,i,c)}}var o=t.return;try{rv(t)}catch(c){nn(t,o,c)}break;case 5:var a=t.return;try{rv(t)}catch(c){nn(t,a,c)}}}catch(c){nn(t,t.return,c)}if(t===e){Ae=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}var eN=Math.ceil,yf=ko.ReactCurrentDispatcher,X0=ko.ReactCurrentOwner,qr=ko.ReactCurrentBatchConfig,yt=0,En=null,hn=null,An=0,br=0,Fs=ua(0),bn=0,bu=null,Ua=0,Tp=0,J0=0,$c=null,sr=null,Z0=0,hl=1/0,Gi=null,vf=!1,av=null,Qo=null,eh=!1,Bo=null,bf=0,Uc=0,sv=null,Ph=-1,Oh=0;function tr(){return yt&6?on():Ph!==-1?Ph:Ph=on()}function Yo(e){return e.mode&1?yt&2&&An!==0?An&-An:D5.transition!==null?(Oh===0&&(Oh=cE()),Oh):(e=_t,e!==0||(e=window.event,e=e===void 0?16:gE(e.type)),e):1}function pi(e,t,n,r){if(50<Uc)throw Uc=0,sv=null,Error(fe(185));Vu(e,n,r),(!(yt&2)||e!==En)&&(e===En&&(!(yt&2)&&(Tp|=n),bn===4&&zo(e,An)),hr(e,r),n===1&&yt===0&&!(t.mode&1)&&(hl=on()+500,kp&&da()))}function hr(e,t){var n=e.callbackNode;DA(e,t);var r=tf(e,e===En?An:0);if(r===0)n!==null&&rw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rw(n),t===1)e.tag===0?L5(Qw.bind(null,e)):ME(Qw.bind(null,e)),O5(function(){!(yt&6)&&da()}),n=null;else{switch(uE(r)){case 1:n=E0;break;case 4:n=sE;break;case 16:n=ef;break;case 536870912:n=lE;break;default:n=ef}n=N_(n,T_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function T_(e,t){if(Ph=-1,Oh=0,yt&6)throw Error(fe(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=tf(e,e===En?An:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xf(e,r);else{t=r;var i=yt;yt|=2;var o=j_();(En!==e||An!==t)&&(Gi=null,hl=on()+500,Na(e,t));do try{rN();break}catch(s){I_(e,s)}while(!0);z0(),yf.current=o,yt=i,hn!==null?t=0:(En=null,An=0,t=bn)}if(t!==0){if(t===2&&(i=My(e),i!==0&&(r=i,t=lv(e,i))),t===1)throw n=bu,Na(e,0),zo(e,r),hr(e,on()),n;if(t===6)zo(e,r);else{if(i=e.current.alternate,!(r&30)&&!tN(i)&&(t=xf(e,r),t===2&&(o=My(e),o!==0&&(r=o,t=lv(e,o))),t===1))throw n=bu,Na(e,0),zo(e,r),hr(e,on()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:Ca(e,sr,Gi);break;case 3:if(zo(e,r),(r&130023424)===r&&(t=Z0+500-on(),10<t)){if(tf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Uy(Ca.bind(null,e,sr,Gi),t);break}Ca(e,sr,Gi);break;case 4:if(zo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-fi(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eN(r/1960))-r,10<r){e.timeoutHandle=Uy(Ca.bind(null,e,sr,Gi),r);break}Ca(e,sr,Gi);break;case 5:Ca(e,sr,Gi);break;default:throw Error(fe(329))}}}return hr(e,on()),e.callbackNode===n?T_.bind(null,e):null}function lv(e,t){var n=$c;return e.current.memoizedState.isDehydrated&&(Na(e,t).flags|=256),e=xf(e,t),e!==2&&(t=sr,sr=n,t!==null&&cv(t)),e}function cv(e){sr===null?sr=e:sr.push.apply(sr,e)}function tN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zo(e,t){for(t&=~J0,t&=~Tp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fi(t),r=1<<n;e[n]=-1,t&=~r}}function Qw(e){if(yt&6)throw Error(fe(327));Qs();var t=tf(e,0);if(!(t&1))return hr(e,on()),null;var n=xf(e,t);if(e.tag!==0&&n===2){var r=My(e);r!==0&&(t=r,n=lv(e,r))}if(n===1)throw n=bu,Na(e,0),zo(e,t),hr(e,on()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ca(e,sr,Gi),hr(e,on()),null}function eb(e,t){var n=yt;yt|=1;try{return e(t)}finally{yt=n,yt===0&&(hl=on()+500,kp&&da())}}function Va(e){Bo!==null&&Bo.tag===0&&!(yt&6)&&Qs();var t=yt;yt|=1;var n=qr.transition,r=_t;try{if(qr.transition=null,_t=1,e)return e()}finally{_t=r,qr.transition=n,yt=t,!(yt&6)&&da()}}function tb(){br=Fs.current,zt(Fs)}function Na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,P5(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(M0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sf();break;case 3:ul(),zt(ur),zt(Qn),V0();break;case 5:U0(r);break;case 4:ul();break;case 13:zt(qt);break;case 19:zt(qt);break;case 10:F0(r.type._context);break;case 22:case 23:tb()}n=n.return}if(En=e,hn=e=Xo(e.current,null),An=br=t,bn=0,bu=null,J0=Tp=Ua=0,sr=$c=null,Ra!==null){for(t=0;t<Ra.length;t++)if(n=Ra[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ra=null}return e}function I_(e,t){do{var n=hn;try{if(z0(),Ih.current=gf,mf){for(var r=Kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mf=!1}if($a=0,kn=vn=Kt=null,Bc=!1,gu=0,X0.current=null,n===null||n.return===null){bn=1,bu=t,hn=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=An,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=Lw(a);if(b!==null){b.flags&=-257,Dw(b,a,s,o,t),b.mode&1&&Mw(o,u,t),t=b,c=u;var C=t.updateQueue;if(C===null){var S=new Set;S.add(c),t.updateQueue=S}else C.add(c);break e}else{if(!(t&1)){Mw(o,u,t),nb();break e}c=Error(fe(426))}}else if($t&&s.mode&1){var T=Lw(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Dw(T,a,s,o,t),L0(dl(c,s));break e}}o=c=dl(c,s),bn!==4&&(bn=2),$c===null?$c=[o]:$c.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var E=u_(o,c,t);jw(o,E);break e;case 1:s=c;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qo===null||!Qo.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=d_(o,s,t);jw(o,P);break e}}o=o.return}while(o!==null)}P_(n)}catch(M){t=M,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function j_(){var e=yf.current;return yf.current=gf,e===null?gf:e}function nb(){(bn===0||bn===3||bn===2)&&(bn=4),En===null||!(Ua&268435455)&&!(Tp&268435455)||zo(En,An)}function xf(e,t){var n=yt;yt|=2;var r=j_();(En!==e||An!==t)&&(Gi=null,Na(e,t));do try{nN();break}catch(i){I_(e,i)}while(!0);if(z0(),yt=n,yf.current=r,hn!==null)throw Error(fe(261));return En=null,An=0,bn}function nN(){for(;hn!==null;)R_(hn)}function rN(){for(;hn!==null&&!IA();)R_(hn)}function R_(e){var t=A_(e.alternate,e,br);e.memoizedProps=e.pendingProps,t===null?P_(e):hn=t,X0.current=null}function P_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y5(n,t),n!==null){n.flags&=32767,hn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,hn=null;return}}else if(n=Q5(n,t,br),n!==null){hn=n;return}if(t=t.sibling,t!==null){hn=t;return}hn=t=e}while(t!==null);bn===0&&(bn=5)}function Ca(e,t,n){var r=_t,i=qr.transition;try{qr.transition=null,_t=1,iN(e,t,n,r)}finally{qr.transition=i,_t=r}return null}function iN(e,t,n,r){do Qs();while(Bo!==null);if(yt&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zA(e,o),e===En&&(hn=En=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eh||(eh=!0,N_(ef,function(){return Qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qr.transition,qr.transition=null;var a=_t;_t=1;var s=yt;yt|=4,X0.current=null,J5(e,n),E_(n,e),C5(Wy),nf=!!By,Wy=By=null,e.current=n,Z5(n),jA(),yt=s,_t=a,qr.transition=o}else e.current=n;if(eh&&(eh=!1,Bo=e,bf=i),o=e.pendingLanes,o===0&&(Qo=null),OA(n.stateNode),hr(e,on()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vf)throw vf=!1,e=av,av=null,e;return bf&1&&e.tag!==0&&Qs(),o=e.pendingLanes,o&1?e===sv?Uc++:(Uc=0,sv=e):Uc=0,da(),null}function Qs(){if(Bo!==null){var e=uE(bf),t=qr.transition,n=_t;try{if(qr.transition=null,_t=16>e?16:e,Bo===null)var r=!1;else{if(e=Bo,Bo=null,bf=0,yt&6)throw Error(fe(331));var i=yt;for(yt|=4,Ae=e.current;Ae!==null;){var o=Ae,a=o.child;if(Ae.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Ae=u;Ae!==null;){var h=Ae;switch(h.tag){case 0:case 11:case 15:Wc(8,h,o)}var f=h.child;if(f!==null)f.return=h,Ae=f;else for(;Ae!==null;){h=Ae;var v=h.sibling,b=h.return;if(S_(h),h===u){Ae=null;break}if(v!==null){v.return=b,Ae=v;break}Ae=b}}}var C=o.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ae=a;else e:for(;Ae!==null;){if(o=Ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wc(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,Ae=E;break e}Ae=o.return}}var g=e.current;for(Ae=g;Ae!==null;){a=Ae;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Ae=y;else e:for(a=g;Ae!==null;){if(s=Ae,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:_p(9,s)}}catch(M){nn(s,s.return,M)}if(s===a){Ae=null;break e}var P=s.sibling;if(P!==null){P.return=s.return,Ae=P;break e}Ae=s.return}}if(yt=i,da(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(vp,e)}catch{}r=!0}return r}finally{_t=n,qr.transition=t}}return!1}function Yw(e,t,n){t=dl(n,t),t=u_(e,t,1),e=Go(e,t,1),t=tr(),e!==null&&(Vu(e,1,t),hr(e,t))}function nn(e,t,n){if(e.tag===3)Yw(e,e,n);else for(;t!==null;){if(t.tag===3){Yw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qo===null||!Qo.has(r))){e=dl(n,e),e=d_(t,e,1),t=Go(t,e,1),e=tr(),t!==null&&(Vu(t,1,e),hr(t,e));break}}t=t.return}}function oN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tr(),e.pingedLanes|=e.suspendedLanes&n,En===e&&(An&n)===n&&(bn===4||bn===3&&(An&130023424)===An&&500>on()-Z0?Na(e,0):J0|=n),hr(e,t)}function O_(e,t){t===0&&(e.mode&1?(t=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):t=1);var n=tr();e=po(e,t),e!==null&&(Vu(e,t,n),hr(e,n))}function aN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),O_(e,n)}function sN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),O_(e,n)}var A_;A_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ur.current)cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cr=!1,G5(e,t,n);cr=!!(e.flags&131072)}else cr=!1,$t&&t.flags&1048576&&LE(t,uf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rh(e,t),e=t.pendingProps;var i=sl(t,Qn.current);Gs(t,n),i=H0(null,t,r,e,i,n);var o=K0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dr(r)?(o=!0,lf(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W0(t),i.updater=Ep,t.stateNode=i,i._reactInternals=t,Yy(t,r,e,n),t=Zy(null,t,r,!0,o,n)):(t.tag=0,$t&&o&&N0(t),Zn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cN(r),e=ci(r,e),i){case 0:t=Jy(null,t,r,e,n);break e;case 1:t=Bw(null,t,r,e,n);break e;case 11:t=zw(null,t,r,e,n);break e;case 14:t=Fw(null,t,r,ci(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ci(r,i),Jy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ci(r,i),Bw(e,t,r,i,n);case 3:e:{if(m_(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,$E(e,t),ff(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=dl(Error(fe(423)),t),t=Ww(e,t,r,n,i);break e}else if(r!==i){i=dl(Error(fe(424)),t),t=Ww(e,t,r,n,i);break e}else for(wr=Ko(t.stateNode.containerInfo.firstChild),kr=t,$t=!0,di=null,n=BE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){t=mo(e,t,n);break e}Zn(e,t,r,n)}t=t.child}return t;case 5:return UE(t),e===null&&Ky(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,$y(r,i)?a=null:o!==null&&$y(r,o)&&(t.flags|=32),p_(e,t),Zn(e,t,a,n),t.child;case 6:return e===null&&Ky(t),null;case 13:return g_(e,t,n);case 4:return $0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cl(t,null,r,n):Zn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ci(r,i),zw(e,t,r,i,n);case 7:return Zn(e,t,t.pendingProps,n),t.child;case 8:return Zn(e,t,t.pendingProps.children,n),t.child;case 12:return Zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Pt(df,r._currentValue),r._currentValue=a,o!==null)if(mi(o.value,a)){if(o.children===i.children&&!ur.current){t=mo(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ao(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gy(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(fe(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Gy(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Zn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Gs(t,n),i=Yr(i),r=r(i),t.flags|=1,Zn(e,t,r,n),t.child;case 14:return r=t.type,i=ci(r,t.pendingProps),i=ci(r.type,i),Fw(e,t,r,i,n);case 15:return h_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ci(r,i),Rh(e,t),t.tag=1,dr(r)?(e=!0,lf(t)):e=!1,Gs(t,n),c_(t,r,i),Yy(t,r,i,n),Zy(null,t,r,!0,e,n);case 19:return y_(e,t,n);case 22:return f_(e,t,n)}throw Error(fe(156,t.tag))};function N_(e,t){return aE(e,t)}function lN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new lN(e,t,n,r)}function rb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cN(e){if(typeof e=="function")return rb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S0)return 11;if(e===k0)return 14}return 2}function Xo(e,t){var n=e.alternate;return n===null?(n=Vr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ah(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")rb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case js:return Ma(n.children,i,o,t);case w0:a=8,i|=8;break;case xy:return e=Vr(12,n,t,i|2),e.elementType=xy,e.lanes=o,e;case wy:return e=Vr(13,n,t,i),e.elementType=wy,e.lanes=o,e;case Sy:return e=Vr(19,n,t,i),e.elementType=Sy,e.lanes=o,e;case UC:return Ip(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WC:a=10;break e;case $C:a=9;break e;case S0:a=11;break e;case k0:a=14;break e;case No:a=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Vr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ma(e,t,n,r){return e=Vr(7,e,r,t),e.lanes=n,e}function Ip(e,t,n,r){return e=Vr(22,e,r,t),e.elementType=UC,e.lanes=n,e.stateNode={isHidden:!1},e}function Ng(e,t,n){return e=Vr(6,e,null,t),e.lanes=n,e}function Mg(e,t,n){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mg(0),this.expirationTimes=mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ib(e,t,n,r,i,o,a,s,c){return e=new uN(e,t,n,s,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(o),e}function dN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function M_(e){if(!e)return ra;e=e._reactInternals;e:{if(ns(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(dr(n))return NE(e,n,t)}return t}function L_(e,t,n,r,i,o,a,s,c){return e=ib(n,r,!0,e,i,o,a,s,c),e.context=M_(null),n=e.current,r=tr(),i=Yo(n),o=ao(r,i),o.callback=t??null,Go(n,o,i),e.current.lanes=i,Vu(e,i,r),hr(e,r),e}function jp(e,t,n,r){var i=t.current,o=tr(),a=Yo(i);return n=M_(n),t.context===null?t.context=n:t.pendingContext=n,t=ao(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Go(i,t,a),e!==null&&(pi(e,i,a,o),Th(e,i,a)),a}function wf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ob(e,t){Xw(e,t),(e=e.alternate)&&Xw(e,t)}function hN(){return null}var D_=typeof reportError=="function"?reportError:function(e){console.error(e)};function ab(e){this._internalRoot=e}Rp.prototype.render=ab.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));jp(e,t,null,null)};Rp.prototype.unmount=ab.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Va(function(){jp(null,e,null,null)}),t[fo]=null}};function Rp(e){this._internalRoot=e}Rp.prototype.unstable_scheduleHydration=function(e){if(e){var t=fE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Do.length&&t!==0&&t<Do[n].priority;n++);Do.splice(n,0,e),n===0&&mE(e)}};function sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function fN(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wf(a);o.call(u)}}var a=L_(t,r,e,0,null,!1,!1,"",Jw);return e._reactRootContainer=a,e[fo]=a.current,du(e.nodeType===8?e.parentNode:e),Va(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=wf(c);s.call(u)}}var c=ib(e,0,!1,null,null,!1,!1,"",Jw);return e._reactRootContainer=c,e[fo]=c.current,du(e.nodeType===8?e.parentNode:e),Va(function(){jp(t,c,n,r)}),c}function Op(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=wf(a);s.call(c)}}jp(t,a,e,i)}else a=fN(n,t,e,i,r);return wf(a)}dE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_c(t.pendingLanes);n!==0&&(_0(t,n|1),hr(t,on()),!(yt&6)&&(hl=on()+500,da()))}break;case 13:Va(function(){var r=po(e,1);if(r!==null){var i=tr();pi(r,e,1,i)}}),ob(e,1)}};T0=function(e){if(e.tag===13){var t=po(e,134217728);if(t!==null){var n=tr();pi(t,e,134217728,n)}ob(e,134217728)}};hE=function(e){if(e.tag===13){var t=Yo(e),n=po(e,t);if(n!==null){var r=tr();pi(n,e,t,r)}ob(e,t)}};fE=function(){return _t};pE=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}};Oy=function(e,t,n){switch(t){case"input":if(Ey(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sp(r);if(!i)throw Error(fe(90));qC(r),Ey(r,i)}}}break;case"textarea":KC(e,n);break;case"select":t=n.value,t!=null&&Vs(e,!!n.multiple,t,!1)}};eE=eb;tE=Va;var pN={usingClientEntryPoint:!1,Events:[Hu,As,Sp,JC,ZC,eb]},hc={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mN={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iE(e),e===null?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||hN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{vp=th.inject(mN),Ti=th}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;Pr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(t))throw Error(fe(200));return dN(e,t,null,n)};Pr.createRoot=function(e,t){if(!sb(e))throw Error(fe(299));var n=!1,r="",i=D_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ib(e,1,!1,null,null,n,!1,r,i),e[fo]=t.current,du(e.nodeType===8?e.parentNode:e),new ab(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=iE(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Va(e)};Pr.hydrate=function(e,t,n){if(!Pp(t))throw Error(fe(200));return Op(null,e,t,!0,n)};Pr.hydrateRoot=function(e,t,n){if(!sb(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=D_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=L_(t,null,e,1,n??null,i,!1,o,a),e[fo]=t.current,du(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Rp(t)};Pr.render=function(e,t,n){if(!Pp(t))throw Error(fe(200));return Op(null,e,t,!1,n)};Pr.unmountComponentAtNode=function(e){if(!Pp(e))throw Error(fe(40));return e._reactRootContainer?(Va(function(){Op(null,null,e,!1,function(){e._reactRootContainer=null,e[fo]=null})}),!0):!1};Pr.unstable_batchedUpdates=eb;Pr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pp(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Op(e,t,n,!1,r)};Pr.version="18.3.1-next-f1338f8080-20240426";function z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z_)}catch(e){console.error(e)}}z_(),DC.exports=Pr;var lb=DC.exports;const nh=fp(lb);var Zw=lb;vy.createRoot=Zw.createRoot,vy.hydrateRoot=Zw.hydrateRoot;/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(this,arguments)}var Wo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wo||(Wo={}));const eS="popstate";function gN(e){e===void 0&&(e={});function t(i,o){let{pathname:a="/",search:s="",hash:c=""}=rs(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),uv("",{pathname:a,search:s,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");s=u===-1?c:c.slice(0,u)}return s+"#"+(typeof o=="string"?o:Sf(o))}function r(i,o){cb(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return vN(t,n,r,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yN(){return Math.random().toString(36).substr(2,8)}function tS(e,t){return{usr:e.state,key:e.key,idx:t}}function uv(e,t,n,r){return n===void 0&&(n=null),xu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rs(t):t,{state:n,key:t&&t.key||r||yN()})}function Sf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Wo.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(xu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){s=Wo.Pop;let T=h(),E=T==null?null:T-u;u=T,c&&c({action:s,location:S.location,delta:E})}function v(T,E){s=Wo.Push;let g=uv(S.location,T,E);n&&n(g,T),u=h()+1;let y=tS(g,u),P=S.createHref(g);try{a.pushState(y,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}o&&c&&c({action:s,location:S.location,delta:1})}function b(T,E){s=Wo.Replace;let g=uv(S.location,T,E);n&&n(g,T),u=h();let y=tS(g,u),P=S.createHref(g);a.replaceState(y,"",P),o&&c&&c({action:s,location:S.location,delta:0})}function C(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof T=="string"?T:Sf(T);return g=g.replace(/ $/,"%20"),sn(E,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,E)}let S={get action(){return s},get location(){return e(i,a)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(eS,f),c=T,()=>{i.removeEventListener(eS,f),c=null}},createHref(T){return t(i,T)},createURL:C,encodeLocation(T){let E=C(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(T){return a.go(T)}};return S}var nS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nS||(nS={}));function bN(e,t,n){return n===void 0&&(n="/"),xN(e,t,n)}function xN(e,t,n,r){let i=typeof t=="string"?rs(t):t,o=ub(i.pathname||"/",n);if(o==null)return null;let a=F_(e);wN(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let u=AN(o);s=RN(a[c],u)}return s}function F_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(sn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jo([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(sn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),F_(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:IN(u,o.index),routesMeta:h})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let c of B_(o.path))i(o,a,c)}),t}function B_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=B_(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function wN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SN=/^:[\w-]+$/,kN=3,CN=2,EN=1,_N=10,TN=-2,rS=e=>e==="*";function IN(e,t){let n=e.split("/"),r=n.length;return n.some(rS)&&(r+=TN),t&&(r+=CN),n.filter(i=>!rS(i)).reduce((i,o)=>i+(SN.test(o)?kN:o===""?EN:_N),r)}function jN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function RN(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=PN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),v=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Jo([o,f.pathname]),pathnameBase:DN(Jo([o,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(o=Jo([o,f.pathnameBase]))}return a}function PN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ON(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let C=s[h]||"";a=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const b=s[h];return v&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function ON(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,s)=>(r.push({paramName:a,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function AN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ub(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function NN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?rs(e):e;return{pathname:n?n.startsWith("/")?n:MN(n,t):t,search:zN(r),hash:FN(i)}}function MN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Lg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function db(e,t){let n=LN(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=rs(e):(i=xu({},e),sn(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}s=f>=0?t[f]:"/"}let c=NN(i,s),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Jo=e=>e.join("/").replace(/\/\/+/g,"/"),DN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W_=["post","put","patch","delete"];new Set(W_);const WN=["get",...W_];new Set(WN);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}const fb=x.createContext(null),$N=x.createContext(null),ha=x.createContext(null),Ap=x.createContext(null),Co=x.createContext({outlet:null,matches:[],isDataRoute:!1}),$_=x.createContext(null);function UN(e,t){let{relative:n}=t===void 0?{}:t;zl()||sn(!1);let{basename:r,navigator:i}=x.useContext(ha),{hash:o,pathname:a,search:s}=V_(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Jo([r,a])),i.createHref({pathname:c,search:s,hash:o})}function zl(){return x.useContext(Ap)!=null}function fa(){return zl()||sn(!1),x.useContext(Ap).location}function U_(e){x.useContext(ha).static||x.useLayoutEffect(e)}function gr(){let{isDataRoute:e}=x.useContext(Co);return e?n4():VN()}function VN(){zl()||sn(!1);let e=x.useContext(fb),{basename:t,future:n,navigator:r}=x.useContext(ha),{matches:i}=x.useContext(Co),{pathname:o}=fa(),a=JSON.stringify(db(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return U_(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let h=hb(c,JSON.parse(a),o,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jo([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,a,o,e])}function Gu(){let{matches:e}=x.useContext(Co),t=e[e.length-1];return t?t.params:{}}function V_(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(ha),{matches:i}=x.useContext(Co),{pathname:o}=fa(),a=JSON.stringify(db(i,r.v7_relativeSplatPath));return x.useMemo(()=>hb(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function qN(e,t){return HN(e,t)}function HN(e,t,n,r){zl()||sn(!1);let{navigator:i}=x.useContext(ha),{matches:o}=x.useContext(Co),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fa(),h;if(t){var f;let T=typeof t=="string"?rs(t):t;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||sn(!1),h=T}else h=u;let v=h.pathname||"/",b=v;if(c!=="/"){let T=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=bN(e,{pathname:b}),S=XN(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},s,T.params),pathname:Jo([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Jo([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return t&&S?x.createElement(Ap.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wo.Pop}},S):S}function KN(){let e=t4(),t=BN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:r},n):null,null)}const GN=x.createElement(KN,null);class QN extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Co.Provider,{value:this.props.routeContext},x.createElement($_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YN(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(fb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Co.Provider,{value:t},r)}function XN(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let h=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);h>=0||sn(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:v,errors:b}=n,C=f.route.loader&&v[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||C){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,v)=>{let b,C=!1,S=null,T=null;n&&(b=s&&f.route.id?s[f.route.id]:void 0,S=f.route.errorElement||GN,c&&(u<0&&v===0?(r4("route-fallback"),C=!0,T=null):u===v&&(C=!0,T=f.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,v+1)),g=()=>{let y;return b?y=S:C?y=T:f.route.Component?y=x.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,x.createElement(YN,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?x.createElement(QN,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:g(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):g()},null)}var q_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q_||{}),H_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(H_||{});function JN(e){let t=x.useContext(fb);return t||sn(!1),t}function ZN(e){let t=x.useContext($N);return t||sn(!1),t}function e4(e){let t=x.useContext(Co);return t||sn(!1),t}function K_(e){let t=e4(),n=t.matches[t.matches.length-1];return n.route.id||sn(!1),n.route.id}function t4(){var e;let t=x.useContext($_),n=ZN(),r=K_();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function n4(){let{router:e}=JN(q_.UseNavigateStable),t=K_(H_.UseNavigateStable),n=x.useRef(!1);return U_(()=>{n.current=!0}),x.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,wu({fromRouteId:t},i)))},[e,t])}const iS={};function r4(e,t,n){iS[e]||(iS[e]=!0)}function i4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function o4(e){let{to:t,replace:n,state:r,relative:i}=e;zl()||sn(!1);let{future:o,static:a}=x.useContext(ha),{matches:s}=x.useContext(Co),{pathname:c}=fa(),u=gr(),h=hb(t,db(s,o.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(h);return x.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Zt(e){sn(!1)}function a4(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Wo.Pop,navigator:o,static:a=!1,future:s}=e;zl()&&sn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:o,static:a,future:wu({v7_relativeSplatPath:!1},s)}),[c,s,o,a]);typeof r=="string"&&(r=rs(r));let{pathname:h="/",search:f="",hash:v="",state:b=null,key:C="default"}=r,S=x.useMemo(()=>{let T=ub(h,c);return T==null?null:{location:{pathname:T,search:f,hash:v,state:b,key:C},navigationType:i}},[c,h,f,v,b,C,i]);return S==null?null:x.createElement(ha.Provider,{value:u},x.createElement(Ap.Provider,{children:n,value:S}))}function s4(e){let{children:t,location:n}=e;return qN(dv(t),n)}new Promise(()=>{});function dv(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,dv(r.props.children,o));return}r.type!==Zt&&sn(!1),!r.props.index||!r.props.children||sn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=dv(r.props.children,o)),n.push(a)}),n}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hv.apply(this,arguments)}function l4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u4(e,t){return e.button===0&&(!t||t==="_self")&&!c4(e)}const d4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h4="6";try{window.__reactRouterVersion=h4}catch{}const f4="startTransition",oS=Yh[f4];function p4(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=gN({window:i,v5Compat:!0}));let a=o.current,[s,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=x.useCallback(f=>{u&&oS?oS(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>a.listen(h),[a,h]),x.useEffect(()=>i4(r),[r]),x.createElement(a4,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const m4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=x.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:a,target:s,to:c,preventScrollReset:u,viewTransition:h}=e,f=l4(e,d4),{basename:v}=x.useContext(ha),b,C=!1;if(typeof c=="string"&&g4.test(c)&&(b=c,m4))try{let g=new URL(window.location.href),y=c.startsWith("//")?new URL(g.protocol+c):new URL(c),P=ub(y.pathname,v);y.origin===g.origin&&P!=null?c=P+y.search+y.hash:C=!0}catch{}let S=UN(c,{relative:r}),T=y4(c,{replace:o,state:a,target:s,preventScrollReset:u,relative:r,viewTransition:h});function E(g){n&&n(g),g.defaultPrevented||T(g)}return x.createElement("a",hv({},f,{href:b||S,onClick:C||i?n:E,ref:t,target:s}))});var aS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(aS||(aS={}));var sS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function y4(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,c=gr(),u=fa(),h=V_(e,{relative:a});return x.useCallback(f=>{if(u4(f,n)){f.preventDefault();let v=r!==void 0?r:Sf(u)===Sf(h);c(e,{replace:v,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,c,h,r,i,n,e,o,a,s])}var lS={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},v4=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,h=o>>2,f=(o&3)<<4|s>>4;let v=(s&15)<<2|u>>6,b=u&63;c||(b=64,a||(v=64)),r.push(n[h],n[f],n[v],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):v4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||s==null||c==null)throw new b4;const u=o<<2|a>>4;if(r.push(u),s!==64){const h=a<<4&240|s>>2;if(r.push(h),c!==64){const f=s<<6&192|c;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class b4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x4=function(e){const t=G_(e);return Q_.encodeByteArray(t,!0)},kf=function(e){return x4(e).replace(/\./g,"")},Y_=function(e){try{return Q_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function w4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S4=()=>w4().__FIREBASE_DEFAULTS__,k4=()=>{if(typeof process>"u"||typeof lS>"u")return;const e=lS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},C4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Y_(e[1]);return t&&JSON.parse(t)},Np=()=>{try{return S4()||k4()||C4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},X_=e=>{var t,n;return(n=(t=Np())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},J_=e=>{const t=X_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Z_=()=>{var e;return(e=Np())===null||e===void 0?void 0:e.config},eT=e=>{var t;return(t=Np())===null||t===void 0?void 0:t[`_${e}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kf(JSON.stringify(n)),kf(JSON.stringify(a)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function T4(){var e;const t=(e=Np())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function R4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P4(){const e=Yn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O4(){return!T4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A4(){try{return typeof indexedDB=="object"}catch{return!1}}function N4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M4="FirebaseError";class $i extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=M4,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?L4(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new $i(i,s,r)}}function L4(e,t){return e.replace(D4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const D4=/\{\$([^}]+)}/g;function z4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(cS(o)&&cS(a)){if(!Cf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cS(e){return e!==null&&typeof e=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ic(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");t[decodeURIComponent(r)]=decodeURIComponent(i)}}),t}function jc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function F4(e,t){const n=new B4(e,t);return n.subscribe.bind(n)}class B4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W4(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Dg(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mn(e){return e&&e._delegate?e._delegate:e}class ia{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ea="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new E4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V4(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U4(e){return e===Ea?void 0:e}function V4(e){return e.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(mt||(mt={}));const H4={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},K4=mt.INFO,G4={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},Q4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=G4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pb{constructor(t){this.name=t,this._logLevel=K4,this._logHandler=Q4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...t),this._logHandler(this,mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...t),this._logHandler(this,mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...t),this._logHandler(this,mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...t),this._logHandler(this,mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...t),this._logHandler(this,mt.ERROR,...t)}}const Y4=(e,t)=>t.some(n=>e instanceof n);let uS,dS;function X4(){return uS||(uS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J4(){return dS||(dS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,fv=new WeakMap,rT=new WeakMap,zg=new WeakMap,mb=new WeakMap;function Z4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(Zo(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&nT.set(n,e)}).catch(()=>{}),mb.set(t,e),t}function eM(e){if(fv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});fv.set(e,t)}let pv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tM(e){pv=e(pv)}function nM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fg(this),t,...n);return rT.set(r,t.sort?t.sort():[t]),Zo(r)}:J4().includes(e)?function(...t){return e.apply(Fg(this),t),Zo(nT.get(this))}:function(...t){return Zo(e.apply(Fg(this),t))}}function rM(e){return typeof e=="function"?nM(e):(e instanceof IDBTransaction&&eM(e),Y4(e,X4())?new Proxy(e,pv):e)}function Zo(e){if(e instanceof IDBRequest)return Z4(e);if(zg.has(e))return zg.get(e);const t=rM(e);return t!==e&&(zg.set(e,t),mb.set(t,e)),t}const Fg=e=>mb.get(e);function iM(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Zo(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Zo(a.result),c.oldVersion,c.newVersion,Zo(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const oM=["get","getKey","getAll","getAllKeys","count"],aM=["put","add","delete","clear"],Bg=new Map;function hS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bg.get(t))return Bg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=aM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oM.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return Bg.set(t,o),o}tM(e=>({...e,get:(t,n,r)=>hS(t,n)||e.get(t,n,r),has:(t,n)=>!!hS(t,n)||e.has(t,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lM(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function lM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mv="@firebase/app",fS="0.10.13";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const go=new pb("@firebase/app"),cM="@firebase/app-compat",uM="@firebase/analytics-compat",dM="@firebase/analytics",hM="@firebase/app-check-compat",fM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",yM="@firebase/data-connect",vM="@firebase/database-compat",bM="@firebase/functions",xM="@firebase/functions-compat",wM="@firebase/installations",SM="@firebase/installations-compat",kM="@firebase/messaging",CM="@firebase/messaging-compat",EM="@firebase/performance",_M="@firebase/performance-compat",TM="@firebase/remote-config",IM="@firebase/remote-config-compat",jM="@firebase/storage",RM="@firebase/storage-compat",PM="@firebase/firestore",OM="@firebase/vertexai-preview",AM="@firebase/firestore-compat",NM="firebase",MM="10.14.1";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gv="[DEFAULT]",LM={[mv]:"fire-core",[cM]:"fire-core-compat",[dM]:"fire-analytics",[uM]:"fire-analytics-compat",[fM]:"fire-app-check",[hM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[yM]:"fire-data-connect",[vM]:"fire-rtdb-compat",[bM]:"fire-fn",[xM]:"fire-fn-compat",[wM]:"fire-iid",[SM]:"fire-iid-compat",[kM]:"fire-fcm",[CM]:"fire-fcm-compat",[EM]:"fire-perf",[_M]:"fire-perf-compat",[TM]:"fire-rc",[IM]:"fire-rc-compat",[jM]:"fire-gcs",[RM]:"fire-gcs-compat",[PM]:"fire-fst",[AM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[NM]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ef=new Map,DM=new Map,yv=new Map;function pS(e,t){try{e.container.addComponent(t)}catch(n){go.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qa(e){const t=e.name;if(yv.has(t))return go.debug(`There were multiple attempts to register component ${t}.`),!1;yv.set(t,e);for(const n of Ef.values())pS(n,e);for(const n of DM.values())pS(n,e);return!0}function Mp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ei(e){return e.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new Qu("app","Firebase",zM);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FM{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const is=MM;function iT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:gv,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ea.create("bad-app-name",{appName:String(i)});if(n||(n=Z_()),!n)throw ea.create("no-options");const o=Ef.get(i);if(o){if(Cf(n,o.options)&&Cf(r,o.config))return o;throw ea.create("duplicate-app",{appName:i})}const a=new q4(i);for(const c of yv.values())a.addComponent(c);const s=new FM(n,r,a);return Ef.set(i,s),s}function gb(e=gv){const t=Ef.get(e);if(!t&&e===gv&&Z_())return iT();if(!t)throw ea.create("no-app",{appName:e});return t}function ji(e,t,n){var r;let i=(r=LM[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),go.warn(s.join(" "));return}qa(new ia(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BM="firebase-heartbeat-database",WM=1,Su="firebase-heartbeat-store";let Wg=null;function oT(){return Wg||(Wg=iM(BM,WM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(e=>{throw ea.create("idb-open",{originalErrorMessage:e.message})})),Wg}async function $M(e){try{const t=(await oT()).transaction(Su),n=await t.objectStore(Su).get(aT(e));return await t.done,n}catch(t){if(t instanceof $i)go.warn(t.message);else{const n=ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});go.warn(n.message)}}}async function mS(e,t){try{const n=(await oT()).transaction(Su,"readwrite");await n.objectStore(Su).put(t,aT(e)),await n.done}catch(n){if(n instanceof $i)go.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function aT(e){return`${e.name}!${e.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UM=1024,VM=30*24*60*60*1e3;class qM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gS();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){go.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gS(),{heartbeatsToSend:r,unsentEntries:i}=HM(this._heartbeatsCache.heartbeats),o=kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return go.warn(n),""}}}function gS(){return new Date().toISOString().substring(0,10)}function HM(e,t=UM){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),yS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A4()?N4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $M(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yS(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GM(e){qa(new ia("platform-logger",t=>new sM(t),"PRIVATE")),qa(new ia("heartbeat",t=>new qM(t),"PRIVATE")),ji(mv,fS,e),ji(mv,fS,"esm2017"),ji("fire-js","")}GM("");var QM="firebase",YM="10.14.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/ji(QM,YM,"app");var vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,sT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,p){function m(){}m.prototype=p.prototype,_.D=p.prototype,_.prototype=new m,_.prototype.constructor=_,_.C=function(w,R,j){for(var I=Array(arguments.length-2),L=2;L<arguments.length;L++)I[L-2]=arguments[L];return p.prototype[R].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,p,m){m||(m=0);var w=Array(16);if(typeof p=="string")for(var R=0;16>R;++R)w[R]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(R=0;16>R;++R)w[R]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=_.g[0],m=_.g[1],R=_.g[2];var j=_.g[3],I=p+(j^m&(R^j))+w[0]+3614090360&4294967295;p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[1]+3905402710&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[2]+606105819&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[3]+3250441966&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[4]+4118548399&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[5]+1200080426&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[6]+2821735955&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[7]+4249261313&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[8]+1770035416&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[9]+2336552879&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[10]+4294925233&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[11]+2304563134&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(j^m&(R^j))+w[12]+1804603682&4294967295,p=m+(I<<7&4294967295|I>>>25),I=j+(R^p&(m^R))+w[13]+4254626195&4294967295,j=p+(I<<12&4294967295|I>>>20),I=R+(m^j&(p^m))+w[14]+2792965006&4294967295,R=j+(I<<17&4294967295|I>>>15),I=m+(p^R&(j^p))+w[15]+1236535329&4294967295,m=R+(I<<22&4294967295|I>>>10),I=p+(R^j&(m^R))+w[1]+4129170786&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[6]+3225465664&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[11]+643717713&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[0]+3921069994&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[5]+3593408605&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[10]+38016083&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[15]+3634488961&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[4]+3889429448&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[9]+568446438&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[14]+3275163606&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[3]+4107603335&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[8]+1163531501&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(R^j&(m^R))+w[13]+2850285829&4294967295,p=m+(I<<5&4294967295|I>>>27),I=j+(m^R&(p^m))+w[2]+4243563512&4294967295,j=p+(I<<9&4294967295|I>>>23),I=R+(p^m&(j^p))+w[7]+1735328473&4294967295,R=j+(I<<14&4294967295|I>>>18),I=m+(j^p&(R^j))+w[12]+2368359562&4294967295,m=R+(I<<20&4294967295|I>>>12),I=p+(m^R^j)+w[5]+4294588738&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[8]+2272392833&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[11]+1839030562&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[14]+4259657740&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[1]+2763975236&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[4]+1272893353&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[7]+4139469664&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[10]+3200236656&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[13]+681279174&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[0]+3936430074&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[3]+3572445317&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[6]+76029189&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(m^R^j)+w[9]+3654602809&4294967295,p=m+(I<<4&4294967295|I>>>28),I=j+(p^m^R)+w[12]+3873151461&4294967295,j=p+(I<<11&4294967295|I>>>21),I=R+(j^p^m)+w[15]+530742520&4294967295,R=j+(I<<16&4294967295|I>>>16),I=m+(R^j^p)+w[2]+3299628645&4294967295,m=R+(I<<23&4294967295|I>>>9),I=p+(R^(m|~j))+w[0]+4096336452&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[7]+1126891415&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[14]+2878612391&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[5]+4237533241&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[12]+1700485571&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[3]+2399980690&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[10]+4293915773&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[1]+2240044497&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[8]+1873313359&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[15]+4264355552&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[6]+2734768916&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[13]+1309151649&4294967295,m=R+(I<<21&4294967295|I>>>11),I=p+(R^(m|~j))+w[4]+4149444226&4294967295,p=m+(I<<6&4294967295|I>>>26),I=j+(m^(p|~R))+w[11]+3174756917&4294967295,j=p+(I<<10&4294967295|I>>>22),I=R+(p^(j|~m))+w[2]+718787259&4294967295,R=j+(I<<15&4294967295|I>>>17),I=m+(j^(R|~p))+w[9]+3951481745&4294967295,_.g[0]=_.g[0]+p&4294967295,_.g[1]=_.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+j&4294967295}r.prototype.u=function(_,p){p===void 0&&(p=_.length);for(var m=p-this.blockSize,w=this.B,R=this.h,j=0;j<p;){if(R==0)for(;j<=m;)i(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<p;)if(w[R++]=_.charCodeAt(j++),R==this.blockSize){i(this,w),R=0;break}}else for(;j<p;)if(w[R++]=_[j++],R==this.blockSize){i(this,w),R=0;break}}this.h=R,this.o+=p},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var p=1;p<_.length-8;++p)_[p]=0;var m=8*this.o;for(p=_.length-8;p<_.length;++p)_[p]=m&255,m/=256;for(this.u(_),_=Array(16),p=m=0;4>p;++p)for(var w=0;32>w;w+=8)_[m++]=this.g[p]>>>w&255;return _};function o(_,p){var m=s;return Object.prototype.hasOwnProperty.call(m,_)?m[_]:m[_]=p(_)}function a(_,p){this.h=p;for(var m=[],w=!0,R=_.length-1;0<=R;R--){var j=_[R]|0;w&&j==p||(m[R]=j,w=!1)}this.g=m}var s={};function c(_){return-128<=_&&128>_?o(_,function(p){return new a([p|0],0>p?-1:0)}):new a([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return T(u(-_));for(var p=[],m=1,w=0;_>=m;w++)p[w]=_/m|0,m*=4294967296;return new a(p,0)}function h(_,p){if(_.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(_.charAt(0)=="-")return T(h(_.substring(1),p));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=u(Math.pow(p,8)),w=f,R=0;R<_.length;R+=8){var j=Math.min(8,_.length-R),I=parseInt(_.substring(R,R+j),p);8>j?(j=u(Math.pow(p,j)),w=w.j(j).add(u(I))):(w=w.j(m),w=w.add(u(I)))}return w}var f=c(0),v=c(1),b=c(16777216);e=a.prototype,e.m=function(){if(S(this))return-T(this).m();for(var _=0,p=1,m=0;m<this.g.length;m++){var w=this.i(m);_+=(0<=w?w:4294967296+w)*p,p*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C(this))return"0";if(S(this))return"-"+T(this).toString(_);for(var p=u(Math.pow(_,6)),m=this,w="";;){var R=P(m,p).g;m=E(m,R.j(p));var j=((0<m.g.length?m.g[0]:m.h)>>>0).toString(_);if(m=R,C(m))return j+w;for(;6>j.length;)j="0"+j;w=j+w}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function C(_){if(_.h!=0)return!1;for(var p=0;p<_.g.length;p++)if(_.g[p]!=0)return!1;return!0}function S(_){return _.h==-1}e.l=function(_){return _=E(this,_),S(_)?-1:C(_)?0:1};function T(_){for(var p=_.g.length,m=[],w=0;w<p;w++)m[w]=~_.g[w];return new a(m,~_.h).add(v)}e.abs=function(){return S(this)?T(this):this},e.add=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],w=0,R=0;R<=p;R++){var j=w+(this.i(R)&65535)+(_.i(R)&65535),I=(j>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);w=I>>>16,j&=65535,I&=65535,m[R]=I<<16|j}return new a(m,m[m.length-1]&-2147483648?-1:0)};function E(_,p){return _.add(T(p))}e.j=function(_){if(C(this)||C(_))return f;if(S(this))return S(_)?T(this).j(T(_)):T(T(this).j(_));if(S(_))return T(this.j(T(_)));if(0>this.l(b)&&0>_.l(b))return u(this.m()*_.m());for(var p=this.g.length+_.g.length,m=[],w=0;w<2*p;w++)m[w]=0;for(w=0;w<this.g.length;w++)for(var R=0;R<_.g.length;R++){var j=this.i(w)>>>16,I=this.i(w)&65535,L=_.i(R)>>>16,W=_.i(R)&65535;m[2*w+2*R]+=I*W,g(m,2*w+2*R),m[2*w+2*R+1]+=j*W,g(m,2*w+2*R+1),m[2*w+2*R+1]+=I*L,g(m,2*w+2*R+1),m[2*w+2*R+2]+=j*L,g(m,2*w+2*R+2)}for(w=0;w<p;w++)m[w]=m[2*w+1]<<16|m[2*w];for(w=p;w<2*p;w++)m[w]=0;return new a(m,0)};function g(_,p){for(;(_[p]&65535)!=_[p];)_[p+1]+=_[p]>>>16,_[p]&=65535,p++}function y(_,p){this.g=_,this.h=p}function P(_,p){if(C(p))throw Error("division by zero");if(C(_))return new y(f,f);if(S(_))return p=P(T(_),p),new y(T(p.g),T(p.h));if(S(p))return p=P(_,T(p)),new y(T(p.g),p.h);if(30<_.g.length){if(S(_)||S(p))throw Error("slowDivide_ only works with positive integers.");for(var m=v,w=p;0>=w.l(_);)m=M(m),w=M(w);var R=N(m,1),j=N(w,1);for(w=N(w,2),m=N(m,2);!C(w);){var I=j.add(w);0>=I.l(_)&&(R=R.add(m),j=I),w=N(w,1),m=N(m,1)}return p=E(_,R.j(p)),new y(R,p)}for(R=f;0<=_.l(p);){for(m=Math.max(1,Math.floor(_.m()/p.m())),w=Math.ceil(Math.log(m)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),j=u(m),I=j.j(p);S(I)||0<I.l(_);)m-=w,j=u(m),I=j.j(p);C(j)&&(j=v),R=R.add(j),_=E(_,I)}return new y(R,_)}e.A=function(_){return P(this,_).h},e.and=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)&_.i(w);return new a(m,this.h&_.h)},e.or=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)|_.i(w);return new a(m,this.h|_.h)},e.xor=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],w=0;w<p;w++)m[w]=this.i(w)^_.i(w);return new a(m,this.h^_.h)};function M(_){for(var p=_.g.length+1,m=[],w=0;w<p;w++)m[w]=_.i(w)<<1|_.i(w-1)>>>31;return new a(m,_.h)}function N(_,p){var m=p>>5;p%=32;for(var w=_.g.length-m,R=[],j=0;j<w;j++)R[j]=0<p?_.i(j+m)>>>p|_.i(j+m+1)<<32-p:_.i(j+m);return new a(R,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sT=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Da=a}).apply(typeof vS<"u"?vS:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,Rc,cT,Nh,vv,uT,dT,hT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,k,O){return d==Array.prototype||d==Object.prototype||(d[k]=O.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var k=0;k<d.length;++k){var O=d[k];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(d,k){if(k)e:{var O=r;d=d.split(".");for(var z=0;z<d.length-1;z++){var Y=d[z];if(!(Y in O))break e;O=O[Y]}d=d[d.length-1],z=O[d],k=k(z),k!=z&&k!=null&&t(O,d,{configurable:!0,writable:!0,value:k})}}function o(d,k){d instanceof String&&(d+="");var O=0,z=!1,Y={next:function(){if(!z&&O<d.length){var ne=O++;return{value:k(ne,d[ne]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(d){return d||function(){return o(this,function(k,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function c(d){var k=typeof d;return k=k!="object"?k:d?Array.isArray(d)?"array":k:"null",k=="array"||k=="object"&&typeof d.length=="number"}function u(d){var k=typeof d;return k=="object"&&d!=null||k=="function"}function h(d,k,O){return d.call.apply(d.bind,arguments)}function f(d,k,O){if(!d)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,z),d.apply(k,Y)}}return function(){return d.apply(k,arguments)}}function v(d,k,O){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,v.apply(null,arguments)}function b(d,k){var O=Array.prototype.slice.call(arguments,1);return function(){var z=O.slice();return z.push.apply(z,arguments),d.apply(this,z)}}function C(d,k){function O(){}O.prototype=k.prototype,d.aa=k.prototype,d.prototype=new O,d.prototype.constructor=d,d.Qb=function(z,Y,ne){for(var ge=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ge[Mt-2]=arguments[Mt];return k.prototype[Y].apply(z,ge)}}function S(d){const k=d.length;if(0<k){const O=Array(k);for(let z=0;z<k;z++)O[z]=d[z];return O}return[]}function T(d,k){for(let O=1;O<arguments.length;O++){const z=arguments[O];if(c(z)){const Y=d.length||0,ne=z.length||0;d.length=Y+ne;for(let ge=0;ge<ne;ge++)d[Y+ge]=z[ge]}else d.push(z)}}class E{constructor(k,O){this.i=k,this.j=O,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function g(d){return/^[\s\xa0]*$/.test(d)}function y(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var M=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function N(d,k,O){for(const z in d)k.call(O,d[z],z,d)}function _(d,k){for(const O in d)k.call(void 0,d[O],O,d)}function p(d){const k={};for(const O in d)k[O]=d[O];return k}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,k){let O,z;for(let Y=1;Y<arguments.length;Y++){z=arguments[Y];for(O in z)d[O]=z[O];for(let ne=0;ne<m.length;ne++)O=m[ne],Object.prototype.hasOwnProperty.call(z,O)&&(d[O]=z[O])}}function R(d){var k=1;d=d.split(":");const O=[];for(;0<k&&d.length;)O.push(d.shift()),k--;return d.length&&O.push(d.join(":")),O}function j(d){s.setTimeout(()=>{throw d},0)}function I(){var d=$;let k=null;return d.g&&(k=d.g,d.g=d.g.next,d.g||(d.h=null),k.next=null),k}class L{constructor(){this.h=this.g=null}add(k,O){const z=W.get();z.set(k,O),this.h?this.h.next=z:this.g=z,this.h=z}}var W=new E(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(k,O){this.h=k,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,F=!1,$=new L,q=()=>{const d=s.Promise.resolve(void 0);B=()=>{d.then(H)}};var H=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(O){j(O)}var k=W;k.j(d),100>k.h&&(k.h++,d.next=k.g,k.g=d)}F=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(d,k){this.type=d,this.g=this.target=k,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,k=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const O=()=>{};s.addEventListener("test",O,k),s.removeEventListener("test",O,k)}catch{}return d}();function le(d,k){if(Q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var O=this.type=d.type,z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=k,k=d.relatedTarget){if(M){e:{try{P(k.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(k=null)}}else O=="mouseover"?k=d.fromElement:O=="mouseout"&&(k=d.toElement);this.relatedTarget=k,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}C(le,Q);var Pe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),ee=0;function V(d,k,O,z,Y){this.listener=d,this.proxy=null,this.src=k,this.type=O,this.capture=!!z,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function J(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function te(d){this.src=d,this.g={},this.h=0}te.prototype.add=function(d,k,O,z,Y){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=me(d,k,z,Y);return-1<ge?(k=d[ge],O||(k.fa=!1)):(k=new V(k,this.src,ne,!!z,Y),k.fa=O,d.push(k)),k};function oe(d,k){var O=k.type;if(O in d.g){var z=d.g[O],Y=Array.prototype.indexOf.call(z,k,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(z,Y,1),ne&&(J(k),d.g[O].length==0&&(delete d.g[O],d.h--))}}function me(d,k,O,z){for(var Y=0;Y<d.length;++Y){var ne=d[Y];if(!ne.da&&ne.listener==k&&ne.capture==!!O&&ne.ha==z)return Y}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),De={};function Ie(d,k,O,z,Y){if(Array.isArray(k)){for(var ne=0;ne<k.length;ne++)Ie(d,k[ne],O,z,Y);return null}return O=Xe(O),d&&d[U]?d.K(k,O,u(z)?!!z.capture:!1,Y):Ue(d,k,O,!1,z,Y)}function Ue(d,k,O,z,Y,ne){if(!k)throw Error("Invalid event type");var ge=u(Y)?!!Y.capture:!!Y,Mt=ve(d);if(Mt||(d[Ee]=Mt=new te(d)),O=Mt.add(k,O,z,ge,ne),O.proxy)return O;if(z=_e(),O.proxy=z,z.src=d,z.listener=O,d.addEventListener)ue||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(k.toString(),z,Y);else if(d.attachEvent)d.attachEvent(Oe(k.toString()),z);else if(d.addListener&&d.removeListener)d.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return O}function _e(){function d(O){return k.call(d.src,d.listener,O)}const k=xe;return d}function X(d,k,O,z,Y){if(Array.isArray(k))for(var ne=0;ne<k.length;ne++)X(d,k[ne],O,z,Y);else z=u(z)?!!z.capture:!!z,O=Xe(O),d&&d[U]?(d=d.i,k=String(k).toString(),k in d.g&&(ne=d.g[k],O=me(ne,O,z,Y),-1<O&&(J(ne[O]),Array.prototype.splice.call(ne,O,1),ne.length==0&&(delete d.g[k],d.h--)))):d&&(d=ve(d))&&(k=d.g[k.toString()],d=-1,k&&(d=me(k,O,z,Y)),(O=-1<d?k[d]:null)&&ae(O))}function ae(d){if(typeof d!="number"&&d&&!d.da){var k=d.src;if(k&&k[U])oe(k.i,d);else{var O=d.type,z=d.proxy;k.removeEventListener?k.removeEventListener(O,z,d.capture):k.detachEvent?k.detachEvent(Oe(O),z):k.addListener&&k.removeListener&&k.removeListener(z),(O=ve(k))?(oe(O,d),O.h==0&&(O.src=null,k[Ee]=null)):J(d)}}}function Oe(d){return d in De?De[d]:De[d]="on"+d}function xe(d,k){if(d.da)d=!0;else{k=new le(k,this);var O=d.listener,z=d.ha||d.src;d.fa&&ae(d),d=O.call(z,k)}return d}function ve(d){return d=d[Ee],d instanceof te?d:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(d){return typeof d=="function"?d:(d[Be]||(d[Be]=function(k){return d.handleEvent(k)}),d[Be])}function je(){G.call(this),this.i=new te(this),this.M=this,this.F=null}C(je,G),je.prototype[U]=!0,je.prototype.removeEventListener=function(d,k,O,z){X(this,d,k,O,z)};function de(d,k){var O,z=d.F;if(z)for(O=[];z;z=z.F)O.push(z);if(d=d.M,z=k.type||k,typeof k=="string")k=new Q(k,d);else if(k instanceof Q)k.target=k.target||d;else{var Y=k;k=new Q(z,d),w(k,Y)}if(Y=!0,O)for(var ne=O.length-1;0<=ne;ne--){var ge=k.g=O[ne];Y=ye(ge,z,!0,k)&&Y}if(ge=k.g=d,Y=ye(ge,z,!0,k)&&Y,Y=ye(ge,z,!1,k)&&Y,O)for(ne=0;ne<O.length;ne++)ge=k.g=O[ne],Y=ye(ge,z,!1,k)&&Y}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var d=this.i,k;for(k in d.g){for(var O=d.g[k],z=0;z<O.length;z++)J(O[z]);delete d.g[k],d.h--}}this.F=null},je.prototype.K=function(d,k,O,z){return this.i.add(String(d),k,!1,O,z)},je.prototype.L=function(d,k,O,z){return this.i.add(String(d),k,!0,O,z)};function ye(d,k,O,z){if(k=d.i.g[String(k)],!k)return!0;k=k.concat();for(var Y=!0,ne=0;ne<k.length;++ne){var ge=k[ne];if(ge&&!ge.da&&ge.capture==O){var Mt=ge.listener,jn=ge.ha||ge.src;ge.fa&&oe(d.i,ge),Y=Mt.call(jn,z)!==!1&&Y}}return Y&&!z.defaultPrevented}function rt(d,k,O){if(typeof d=="function")O&&(d=v(d,O));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(d,k||0)}function Ot(d){d.g=rt(()=>{d.g=null,d.i&&(d.i=!1,Ot(d))},d.l);const k=d.h;d.h=null,d.m.apply(null,k)}class ct extends G{constructor(k,O){super(),this.m=k,this.l=O,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(d){G.call(this),this.h=d,this.g={}}C(be,G);var st=[];function qe(d){N(d.g,function(k,O){this.g.hasOwnProperty(O)&&ae(k)},d),d.g={}}be.prototype.N=function(){be.aa.N.call(this),qe(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=s.JSON.stringify,Lr=s.JSON.parse,To=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function oi(){}oi.prototype.h=null;function Dr(d){return d.h||(d.h=d.i())}function Xn(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){Q.call(this,"d")}C(ai,Q);function Z(){Q.call(this,"c")}C(Z,Q);var A={},ie=null;function pe(){return ie=ie||new je}A.La="serverreachability";function Ke(d){Q.call(this,A.La,d)}C(Ke,Q);function it(d){const k=pe();de(k,new Ke(k))}A.STAT_EVENT="statevent";function Xt(d,k){Q.call(this,A.STAT_EVENT,d),this.stat=k}C(Xt,Q);function Je(d){const k=pe();de(k,new Xt(k,d))}A.Ma="timingevent";function $e(d,k){Q.call(this,A.Ma,d),this.size=k}C($e,Q);function Qe(d,k){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},k)}function Ft(){this.g=!0}Ft.prototype.xa=function(){this.g=!1};function zr(d,k,O,z,Y,ne){d.info(function(){if(d.g)if(ne)for(var ge="",Mt=ne.split("&"),jn=0;jn<Mt.length;jn++){var kt=Mt[jn].split("=");if(1<kt.length){var zn=kt[0];kt=kt[1];var or=zn.split("_");ge=2<=or.length&&or[1]=="type"?ge+(zn+"="+kt+"&"):ge+(zn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+z+") [attempt "+Y+"]: "+k+`
`+O+`
`+ge})}function Dn(d,k,O,z,Y,ne,ge){d.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Y+"]: "+k+`
`+O+`
`+ne+" "+ge})}function St(d,k,O,z){d.info(function(){return"XMLHTTP TEXT ("+k+"): "+qi(d,O)+(z?" "+z:"")})}function Ut(d,k){d.info(function(){return"TIMEOUT: "+k})}Ft.prototype.info=function(){};function qi(d,k){if(!d.g)return k;if(!k)return null;try{var O=JSON.parse(k);if(O){for(d=0;d<O.length;d++)if(Array.isArray(O[d])){var z=O[d];if(!(2>z.length)){var Y=z[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return gn(O)}catch{return k}}var We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},At={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},va;function ds(){}C(ds,oi),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},va=new ds;function bi(d,k,O,z){this.j=d,this.i=k,this.l=O,this.R=z||1,this.U=new be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _d}function _d(){this.i=null,this.g="",this.h=!1}var ut={},In={};function eg(d,k,O){d.L=1,d.v=Rd(Hi(k)),d.m=O,d.P=!0,l1(d,null)}function l1(d,k){d.F=Date.now(),Td(d),d.A=Hi(d.v);var O=d.A,z=d.R;Array.isArray(z)||(z=[String(z)]),S1(O.i,"t",z),d.C=0,O=d.j.J,d.h=new _d,d.g=B1(d.j,O?k:null,!d.m),0<d.O&&(d.M=new ct(v(d.Y,d,d.g),d.O)),k=d.U,O=d.g,z=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(st[0]=Y.toString()),Y=st);for(var ne=0;ne<Y.length;ne++){var ge=Ie(O,Y[ne],z||k.handleEvent,!1,k.h||k);if(!ge)break;k.g[ge.key]=ge}k=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,k)):(d.u="GET",d.g.ea(d.A,d.u,null,k)),it(),zr(d.i,d.u,d.A,d.l,d.R,d.m)}bi.prototype.ca=function(d){d=d.target;const k=this.M;k&&Ki(d)==3?k.j():this.Y(d)},bi.prototype.Y=function(d){try{if(d==this.g)e:{const or=Ki(this.g);var k=this.g.Ba();const ps=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||j1(this.g)))){this.J||or!=4||k==7||(k==8||0>=ps?it(3):it(2)),tg(this);var O=this.g.Z();this.X=O;t:if(c1(this)){var z=j1(this.g);d="";var Y=z.length,ne=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ba(this),Xl(this);var ge="";break t}this.h.i=new s.TextDecoder}for(k=0;k<Y;k++)this.h.h=!0,d+=this.h.i.decode(z[k],{stream:!(ne&&k==Y-1)});z.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=O==200,Dn(this.i,this.u,this.A,this.l,this.R,or,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,jn=this.g;if((Mt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Mt)){var kt=Mt;break t}}kt=null}if(O=kt)St(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,O);else{this.o=!1,this.s=3,Je(12),ba(this),Xl(this);break e}}if(this.P){O=!0;let si;for(;!this.J&&this.C<ge.length;)if(si=VP(this,ge),si==In){or==4&&(this.s=4,Je(14),O=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(si==ut){this.s=4,Je(15),St(this.i,this.l,ge,"[Invalid Chunk]"),O=!1;break}else St(this.i,this.l,si,null),ng(this,si);if(c1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||ge.length!=0||this.h.h||(this.s=1,Je(16),O=!1),this.o=this.o&&O,!O)St(this.i,this.l,ge,"[Invalid Chunked Response]"),ba(this),Xl(this);else if(0<ge.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),lg(zn),zn.M=!0,Je(11))}}else St(this.i,this.l,ge,null),ng(this,ge);or==4&&ba(this),this.o&&!this.J&&(or==4?L1(this.j,this):(this.o=!1,Td(this)))}else sO(this.g),O==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),ba(this),Xl(this)}}}catch{}finally{}};function c1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function VP(d,k){var O=d.C,z=k.indexOf(`
`,O);return z==-1?In:(O=Number(k.substring(O,z)),isNaN(O)?ut:(z+=1,z+O>k.length?In:(k=k.slice(z,z+O),d.C=z+O,k)))}bi.prototype.cancel=function(){this.J=!0,ba(this)};function Td(d){d.S=Date.now()+d.I,u1(d,d.I)}function u1(d,k){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Qe(v(d.ba,d),k)}function tg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}bi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ut(this.i,this.A),this.L!=2&&(it(),Je(17)),ba(this),this.s=2,Xl(this)):u1(this,this.S-d)};function Xl(d){d.j.G==0||d.J||L1(d.j,d)}function ba(d){tg(d);var k=d.M;k&&typeof k.ma=="function"&&k.ma(),d.M=null,qe(d.U),d.g&&(k=d.g,d.g=null,k.abort(),k.ma())}function ng(d,k){try{var O=d.j;if(O.G!=0&&(O.g==d||rg(O.h,d))){if(!d.K&&rg(O.h,d)&&O.G==3){try{var z=O.Da.g.parse(k)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Y=z;if(Y[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<d.F)Ld(O),Nd(O);else break e;sg(O),Je(18)}}else O.za=Y[1],0<O.za-O.T&&37500>Y[2]&&O.F&&O.v==0&&!O.C&&(O.C=Qe(v(O.Za,O),6e3));if(1>=f1(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else wa(O,11)}else if((d.K||O.g==d)&&Ld(O),!g(k))for(Y=O.Da.g.parse(k),k=0;k<Y.length;k++){let kt=Y[k];if(O.T=kt[0],kt=kt[1],O.G==2)if(kt[0]=="c"){O.K=kt[1],O.ia=kt[2];const zn=kt[3];zn!=null&&(O.la=zn,O.j.info("VER="+O.la));const or=kt[4];or!=null&&(O.Aa=or,O.j.info("SVER="+O.Aa));const ps=kt[5];ps!=null&&typeof ps=="number"&&0<ps&&(z=1.5*ps,O.L=z,O.j.info("backChannelRequestTimeoutMs_="+z)),z=O;const si=d.g;if(si){const zd=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zd){var ne=z.h;ne.g||zd.indexOf("spdy")==-1&&zd.indexOf("quic")==-1&&zd.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ig(ne,ne.h),ne.h=null))}if(z.D){const cg=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(z.ya=cg,Nt(z.I,z.D,cg))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-d.F,O.j.info("Handshake RTT: "+O.R+"ms")),z=O;var ge=d;if(z.qa=F1(z,z.J?z.ia:null,z.W),ge.K){p1(z.h,ge);var Mt=ge,jn=z.L;jn&&(Mt.I=jn),Mt.B&&(tg(Mt),Td(Mt)),z.g=ge}else N1(z);0<O.i.length&&Md(O)}else kt[0]!="stop"&&kt[0]!="close"||wa(O,7);else O.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?wa(O,7):ag(O):kt[0]!="noop"&&O.l&&O.l.ta(kt),O.v=0)}}it(4)}catch{}}var qP=class{constructor(d,k){this.g=d,this.map=k}};function d1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function f1(d){return d.h?1:d.g?d.g.size:0}function rg(d,k){return d.h?d.h==k:d.g?d.g.has(k):!1}function ig(d,k){d.g?d.g.add(k):d.h=k}function p1(d,k){d.h&&d.h==k?d.h=null:d.g&&d.g.has(k)&&d.g.delete(k)}d1.prototype.cancel=function(){if(this.i=m1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function m1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let k=d.i;for(const O of d.g.values())k=k.concat(O.D);return k}return S(d.i)}function HP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var k=[],O=d.length,z=0;z<O;z++)k.push(d[z]);return k}k=[],O=0;for(z in d)k[O++]=d[z];return k}function KP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var k=[];d=d.length;for(var O=0;O<d;O++)k.push(O);return k}k=[],O=0;for(const z in d)k[O++]=z;return k}}}function g1(d,k){if(d.forEach&&typeof d.forEach=="function")d.forEach(k,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,k,void 0);else for(var O=KP(d),z=HP(d),Y=z.length,ne=0;ne<Y;ne++)k.call(void 0,z[ne],O&&O[ne],d)}var y1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GP(d,k){if(d){d=d.split("&");for(var O=0;O<d.length;O++){var z=d[O].indexOf("="),Y=null;if(0<=z){var ne=d[O].substring(0,z);Y=d[O].substring(z+1)}else ne=d[O];k(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function xa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xa){this.h=d.h,Id(this,d.j),this.o=d.o,this.g=d.g,jd(this,d.s),this.l=d.l;var k=d.i,O=new ec;O.i=k.i,k.g&&(O.g=new Map(k.g),O.h=k.h),v1(this,O),this.m=d.m}else d&&(k=String(d).match(y1))?(this.h=!1,Id(this,k[1]||"",!0),this.o=Jl(k[2]||""),this.g=Jl(k[3]||"",!0),jd(this,k[4]),this.l=Jl(k[5]||"",!0),v1(this,k[6]||"",!0),this.m=Jl(k[7]||"")):(this.h=!1,this.i=new ec(null,this.h))}xa.prototype.toString=function(){var d=[],k=this.j;k&&d.push(Zl(k,b1,!0),":");var O=this.g;return(O||k=="file")&&(d.push("//"),(k=this.o)&&d.push(Zl(k,b1,!0),"@"),d.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&d.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&d.push("/"),d.push(Zl(O,O.charAt(0)=="/"?XP:YP,!0))),(O=this.i.toString())&&d.push("?",O),(O=this.m)&&d.push("#",Zl(O,ZP)),d.join("")};function Hi(d){return new xa(d)}function Id(d,k,O){d.j=O?Jl(k,!0):k,d.j&&(d.j=d.j.replace(/:$/,""))}function jd(d,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);d.s=k}else d.s=null}function v1(d,k,O){k instanceof ec?(d.i=k,eO(d.i,d.h)):(O||(k=Zl(k,JP)),d.i=new ec(k,d.h))}function Nt(d,k,O){d.i.set(k,O)}function Rd(d){return Nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Jl(d,k){return d?k?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zl(d,k,O){return typeof d=="string"?(d=encodeURI(d).replace(k,QP),O&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function QP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var b1=/[#\/\?@]/g,YP=/[#\?:]/g,XP=/[#\?]/g,JP=/[#\?@]/g,ZP=/#/g;function ec(d,k){this.h=this.g=null,this.i=d||null,this.j=!!k}function Io(d){d.g||(d.g=new Map,d.h=0,d.i&&GP(d.i,function(k,O){d.add(decodeURIComponent(k.replace(/\+/g," ")),O)}))}e=ec.prototype,e.add=function(d,k){Io(this),this.i=null,d=hs(this,d);var O=this.g.get(d);return O||this.g.set(d,O=[]),O.push(k),this.h+=1,this};function x1(d,k){Io(d),k=hs(d,k),d.g.has(k)&&(d.i=null,d.h-=d.g.get(k).length,d.g.delete(k))}function w1(d,k){return Io(d),k=hs(d,k),d.g.has(k)}e.forEach=function(d,k){Io(this),this.g.forEach(function(O,z){O.forEach(function(Y){d.call(k,Y,z,this)},this)},this)},e.na=function(){Io(this);const d=Array.from(this.g.values()),k=Array.from(this.g.keys()),O=[];for(let z=0;z<k.length;z++){const Y=d[z];for(let ne=0;ne<Y.length;ne++)O.push(k[z])}return O},e.V=function(d){Io(this);let k=[];if(typeof d=="string")w1(this,d)&&(k=k.concat(this.g.get(hs(this,d))));else{d=Array.from(this.g.values());for(let O=0;O<d.length;O++)k=k.concat(d[O])}return k},e.set=function(d,k){return Io(this),this.i=null,d=hs(this,d),w1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[k]),this.h+=1,this},e.get=function(d,k){return d?(d=this.V(d),0<d.length?String(d[0]):k):k};function S1(d,k,O){x1(d,k),0<O.length&&(d.i=null,d.g.set(hs(d,k),S(O)),d.h+=O.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],k=Array.from(this.g.keys());for(var O=0;O<k.length;O++){var z=k[O];const ne=encodeURIComponent(String(z)),ge=this.V(z);for(z=0;z<ge.length;z++){var Y=ne;ge[z]!==""&&(Y+="="+encodeURIComponent(String(ge[z]))),d.push(Y)}}return this.i=d.join("&")};function hs(d,k){return k=String(k),d.j&&(k=k.toLowerCase()),k}function eO(d,k){k&&!d.j&&(Io(d),d.i=null,d.g.forEach(function(O,z){var Y=z.toLowerCase();z!=Y&&(x1(this,z),S1(this,Y,O))},d)),d.j=k}function tO(d,k){const O=new Ft;if(s.Image){const z=new Image;z.onload=b(jo,O,"TestLoadImage: loaded",!0,k,z),z.onerror=b(jo,O,"TestLoadImage: error",!1,k,z),z.onabort=b(jo,O,"TestLoadImage: abort",!1,k,z),z.ontimeout=b(jo,O,"TestLoadImage: timeout",!1,k,z),s.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=d}else k(!1)}function nO(d,k){const O=new Ft,z=new AbortController,Y=setTimeout(()=>{z.abort(),jo(O,"TestPingServer: timeout",!1,k)},1e4);fetch(d,{signal:z.signal}).then(ne=>{clearTimeout(Y),ne.ok?jo(O,"TestPingServer: ok",!0,k):jo(O,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Y),jo(O,"TestPingServer: error",!1,k)})}function jo(d,k,O,z,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),z(O)}catch{}}function rO(){this.g=new To}function iO(d,k,O){const z=O||"";try{g1(d,function(Y,ne){let ge=Y;u(Y)&&(ge=gn(Y)),k.push(z+ne+"="+encodeURIComponent(ge))})}catch(Y){throw k.push(z+"type="+encodeURIComponent("_badmap")),Y}}function Pd(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Pd,oi),Pd.prototype.g=function(){return new Od(this.l,this.j)},Pd.prototype.i=function(d){return function(){return d}}({});function Od(d,k){je.call(this),this.D=d,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Od,je),e=Od.prototype,e.open=function(d,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=k,this.readyState=1,nc(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(k.body=d),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;k1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function k1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var k=d.value?d.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!d.done}))&&(this.response=this.responseText+=k)}d.done?tc(this):nc(this),this.readyState==3&&k1(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,tc(this))},e.Qa=function(d){this.g&&(this.response=d,tc(this))},e.ga=function(){this.g&&tc(this)};function tc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,nc(d)}e.setRequestHeader=function(d,k){this.u.append(d,k)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],k=this.h.entries();for(var O=k.next();!O.done;)O=O.value,d.push(O[0]+": "+O[1]),O=k.next();return d.join(`\r
`)};function nc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function C1(d){let k="";return N(d,function(O,z){k+=z,k+=":",k+=O,k+=`\r
`}),k}function og(d,k,O){e:{for(z in O){var z=!1;break e}z=!0}z||(O=C1(O),typeof d=="string"?O!=null&&encodeURIComponent(String(O)):Nt(d,k,O))}function Jt(d){je.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Jt,je);var oO=/^https?$/i,aO=["POST","PUT"];e=Jt.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,k,O,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);k=k?k.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():va.g(),this.v=this.o?Dr(this.o):Dr(va),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(k,String(d),!0),this.B=!1}catch(ne){E1(this,ne);return}if(d=O||"",O=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Y in z)O.set(Y,z[Y]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())O.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(aO,k,void 0))||z||Y||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of O)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I1(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){E1(this,ne)}};function E1(d,k){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=k,d.m=5,_1(d),Ad(d)}function _1(d){d.A||(d.A=!0,de(d,"complete"),de(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,de(this,"complete"),de(this,"abort"),Ad(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ad(this,!0)),Jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?T1(this):this.bb())},e.bb=function(){T1(this)};function T1(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Ki(d)!=4||d.Z()!=2)){if(d.u&&Ki(d)==4)rt(d.Ea,0,d);else if(de(d,"readystatechange"),Ki(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var O;if(!(O=k)){var z;if(z=ge===0){var Y=String(d.D).match(y1)[1]||null;!Y&&s.self&&s.self.location&&(Y=s.self.location.protocol.slice(0,-1)),z=!oO.test(Y?Y.toLowerCase():"")}O=z}if(O)de(d,"complete"),de(d,"success");else{d.m=6;try{var ne=2<Ki(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",_1(d)}}finally{Ad(d)}}}}function Ad(d,k){if(d.g){I1(d);const O=d.g,z=d.v[0]?()=>{}:null;d.g=null,d.v=null,k||de(d,"ready");try{O.onreadystatechange=z}catch{}}}function I1(d){d.I&&(s.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function Ki(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var k=this.g.responseText;return d&&k.indexOf(d)==0&&(k=k.substring(d.length)),Lr(k)}};function j1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function sO(d){const k={};d=(d.g&&2<=Ki(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<d.length;z++){if(g(d[z]))continue;var O=R(d[z]);const Y=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=k[Y]||[];k[Y]=ne,ne.push(O)}_(k,function(z){return z.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rc(d,k,O){return O&&O.internalChannelParams&&O.internalChannelParams[d]||k}function R1(d){this.Aa=0,this.i=[],this.j=new Ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rc("baseRetryDelayMs",5e3,d),this.cb=rc("retryDelaySeedMs",1e4,d),this.Wa=rc("forwardChannelMaxRetries",2,d),this.wa=rc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new d1(d&&d.concurrentRequestLimit),this.Da=new rO,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=R1.prototype,e.la=8,e.G=1,e.connect=function(d,k,O,z){Je(0),this.W=d,this.H=k||{},O&&z!==void 0&&(this.H.OSID=O,this.H.OAID=z),this.F=this.X,this.I=F1(this,null,this.W),Md(this)};function ag(d){if(P1(d),d.G==3){var k=d.U++,O=Hi(d.I);if(Nt(O,"SID",d.K),Nt(O,"RID",k),Nt(O,"TYPE","terminate"),ic(d,O),k=new bi(d,d.j,k),k.L=2,k.v=Rd(Hi(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!O&&s.Image&&(new Image().src=k.v,O=!0),O||(k.g=B1(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Td(k)}z1(d)}function Nd(d){d.g&&(lg(d),d.g.cancel(),d.g=null)}function P1(d){Nd(d),d.u&&(s.clearTimeout(d.u),d.u=null),Ld(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Md(d){if(!h1(d.h)&&!d.s){d.s=!0;var k=d.Ga;B||q(),F||(B(),F=!0),$.add(k,d),d.B=0}}function lO(d,k){return f1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=k.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Qe(v(d.Ga,d,k),D1(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new bi(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=p(ne),w(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var k=0,O=0;O<this.i.length;O++){t:{var z=this.i[O];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(k+=z,4096<k){k=O;break e}if(k===4096||O===this.i.length-1){k=O+1;break e}}k=1e3}else k=1e3;k=A1(this,Y,k),O=Hi(this.I),Nt(O,"RID",d),Nt(O,"CVER",22),this.D&&Nt(O,"X-HTTP-Session-Id",this.D),ic(this,O),ne&&(this.O?k="headers="+encodeURIComponent(String(C1(ne)))+"&"+k:this.m&&og(O,this.m,ne)),ig(this.h,Y),this.Ua&&Nt(O,"TYPE","init"),this.P?(Nt(O,"$req",k),Nt(O,"SID","null"),Y.T=!0,eg(Y,O,null)):eg(Y,O,k),this.G=2}}else this.G==3&&(d?O1(this,d):this.i.length==0||h1(this.h)||O1(this))};function O1(d,k){var O;k?O=k.l:O=d.U++;const z=Hi(d.I);Nt(z,"SID",d.K),Nt(z,"RID",O),Nt(z,"AID",d.T),ic(d,z),d.m&&d.o&&og(z,d.m,d.o),O=new bi(d,d.j,O,d.B+1),d.m===null&&(O.H=d.o),k&&(d.i=k.D.concat(d.i)),k=A1(d,O,1e3),O.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ig(d.h,O),eg(O,z,k)}function ic(d,k){d.H&&N(d.H,function(O,z){Nt(k,z,O)}),d.l&&g1({},function(O,z){Nt(k,z,O)})}function A1(d,k,O){O=Math.min(d.i.length,O);var z=d.l?v(d.l.Na,d.l,d):null;e:{var Y=d.i;let ne=-1;for(;;){const ge=["count="+O];ne==-1?0<O?(ne=Y[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let Mt=!0;for(let jn=0;jn<O;jn++){let kt=Y[jn].g;const zn=Y[jn].map;if(kt-=ne,0>kt)ne=Math.max(0,Y[jn].g-100),Mt=!1;else try{iO(zn,ge,"req"+kt+"_")}catch{z&&z(zn)}}if(Mt){z=ge.join("&");break e}}}return d=d.i.splice(0,O),k.D=d,z}function N1(d){if(!d.g&&!d.u){d.Y=1;var k=d.Fa;B||q(),F||(B(),F=!0),$.add(k,d),d.v=0}}function sg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Qe(v(d.Fa,d),D1(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,M1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Qe(v(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Nd(this),M1(this))};function lg(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function M1(d){d.g=new bi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var k=Hi(d.qa);Nt(k,"RID","rpc"),Nt(k,"SID",d.K),Nt(k,"AID",d.T),Nt(k,"CI",d.F?"0":"1"),!d.F&&d.ja&&Nt(k,"TO",d.ja),Nt(k,"TYPE","xmlhttp"),ic(d,k),d.m&&d.o&&og(k,d.m,d.o),d.L&&(d.g.I=d.L);var O=d.g;d=d.ia,O.L=1,O.v=Rd(Hi(k)),O.m=null,O.P=!0,l1(O,d)}e.Za=function(){this.C!=null&&(this.C=null,Nd(this),sg(this),Je(19))};function Ld(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function L1(d,k){var O=null;if(d.g==k){Ld(d),lg(d),d.g=null;var z=2}else if(rg(d.h,k))O=k.D,p1(d.h,k),z=1;else return;if(d.G!=0){if(k.o)if(z==1){O=k.m?k.m.length:0,k=Date.now()-k.F;var Y=d.B;z=pe(),de(z,new $e(z,O)),Md(d)}else N1(d);else if(Y=k.s,Y==3||Y==0&&0<k.X||!(z==1&&lO(d,k)||z==2&&sg(d)))switch(O&&0<O.length&&(k=d.h,k.i=k.i.concat(O)),Y){case 1:wa(d,5);break;case 4:wa(d,10);break;case 3:wa(d,6);break;default:wa(d,2)}}}function D1(d,k){let O=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(O*=2),O*k}function wa(d,k){if(d.j.info("Error code "+k),k==2){var O=v(d.fb,d),z=d.Xa;const Y=!z;z=new xa(z||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Id(z,"https"),Rd(z),Y?tO(z.toString(),O):nO(z.toString(),O)}else Je(2);d.G=0,d.l&&d.l.sa(k),z1(d),P1(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function z1(d){if(d.G=0,d.ka=[],d.l){const k=m1(d.h);(k.length!=0||d.i.length!=0)&&(T(d.ka,k),T(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function F1(d,k,O){var z=O instanceof xa?Hi(O):new xa(O);if(z.g!="")k&&(z.g=k+"."+z.g),jd(z,z.s);else{var Y=s.location;z=Y.protocol,k=k?k+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new xa(null);z&&Id(ne,z),k&&(ne.g=k),Y&&jd(ne,Y),O&&(ne.l=O),z=ne}return O=d.D,k=d.ya,O&&k&&Nt(z,O,k),Nt(z,"VER",d.la),ic(d,z),z}function B1(d,k,O){if(k&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=d.Ca&&!d.pa?new Jt(new Pd({eb:O})):new Jt(d.pa),k.Ha(d.J),k}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function W1(){}e=W1.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Dd(){}Dd.prototype.g=function(d,k){return new vr(d,k)};function vr(d,k){je.call(this),this.g=new R1(k),this.l=d,this.h=k&&k.messageUrlParams||null,d=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(d?d["X-WebChannel-Content-Type"]=k.messageContentType:d={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(d?d["X-WebChannel-Client-Profile"]=k.va:d={"X-WebChannel-Client-Profile":k.va}),this.g.S=d,(d=k&&k.Sb)&&!g(d)&&(this.g.m=d),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!g(k)&&(this.g.D=k,d=this.h,d!==null&&k in d&&(d=this.h,k in d&&delete d[k])),this.j=new fs(this)}C(vr,je),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){ag(this.g)},vr.prototype.o=function(d){var k=this.g;if(typeof d=="string"){var O={};O.__data__=d,d=O}else this.u&&(O={},O.__data__=gn(d),d=O);k.i.push(new qP(k.Ya++,d)),k.G==3&&Md(k)},vr.prototype.N=function(){this.g.l=null,delete this.j,ag(this.g),delete this.g,vr.aa.N.call(this)};function $1(d){ai.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var k=d.__sm__;if(k){e:{for(const O in k){d=O;break e}d=void 0}(this.i=d)&&(d=this.i,k=k!==null&&d in k?k[d]:void 0),this.data=k}else this.data=d}C($1,ai);function U1(){Z.call(this),this.status=1}C(U1,Z);function fs(d){this.g=d}C(fs,W1),fs.prototype.ua=function(){de(this.g,"a")},fs.prototype.ta=function(d){de(this.g,new $1(d))},fs.prototype.sa=function(d){de(this.g,new U1)},fs.prototype.ra=function(){de(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,hT=function(){return new Dd},dT=function(){return pe()},uT=A,vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Nh=We,At.COMPLETE="complete",cT=At,Xn.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",je.prototype.listen=je.prototype.K,Rc=Xn,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,lT=Jt}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Fl="10.14.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ha=new pb("@firebase/firestore");function fc(){return Ha.logLevel}function Me(e,...t){if(Ha.logLevel<=mt.DEBUG){const n=t.map(yb);Ha.debug(`Firestore (${Fl}): ${e}`,...n)}}function yo(e,...t){if(Ha.logLevel<=mt.ERROR){const n=t.map(yb);Ha.error(`Firestore (${Fl}): ${e}`,...n)}}function Ka(e,...t){if(Ha.logLevel<=mt.WARN){const n=t.map(yb);Ha.warn(`Firestore (${Fl}): ${e}`,...n)}}function yb(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(e)}catch{return e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ze(e="Unexpected state"){const t=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+e;throw yo(t),new Error(t)}function Tt(e,t){e||Ze()}function tt(e,t){return e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends $i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class so{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class XM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JM{constructor(t){this.t=t,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Tt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new so;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new so,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},s=c=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?s(c):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new so)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new fT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tt(t===null||typeof t=="string"),new qn(t)}}class ZM{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class e6{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZM(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n6{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Tt(this.o===void 0);const r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new t6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=r6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function bt(e,t){return e<t?-1:e>t?1:0}function fl(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Re(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Re(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pn.fromMillis(Date.now())}static fromDate(t){return pn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new pn(0,0))}static max(){return new et(new pn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ku{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ze(),r===void 0?r=t.length-n:r>t.length-n&&Ze(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ku.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ku?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Dt extends ku{construct(t,n,r){return new Dt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const i6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends ku{construct(t,n,r){return new Cn(t,n,r)}static isValidIdentifier(t){return i6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cn(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new Re(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Re(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ve{constructor(t){this.path=t}static fromPath(t){return new Ve(Dt.fromString(t))}static fromName(t){return new Ve(Dt.fromString(t).popFirst(5))}static empty(){return new Ve(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ve(new Dt(t.slice()))}}function o6(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new oa(i,Ve.empty(),t)}function a6(e){return new oa(e.readTime,e.key,-1)}class oa{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new oa(et.min(),Ve.empty(),-1)}static max(){return new oa(et.max(),Ve.empty(),-1)}}function s6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ve.comparator(e.documentKey,t.documentKey),n!==0?n:bt(e.largestBatchId,t.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Xu(e){if(e.code!==se.FAILED_PRECONDITION||e.message!==l6)throw e;Me("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ce.reject(n)}static resolve(t){return new ce((n,r)=>{n(t)})}static reject(t){return new ce((n,r)=>{r(t)})}static waitFor(t){return new ce((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(t){let n=ce.resolve(!1);for(const r of t)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new ce((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let c=0;c<o;c++){const u=c;n(t[u]).next(h=>{a[u]=h,++s,s===o&&r(a)},h=>i(h))}})}static doWhile(t,n){return new ce((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function u6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(e){return e.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bb{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}bb.oe=-1;function Lp(e){return e==null}function _f(e){return e===0&&1/e==-1/0}function d6(e){return typeof e=="number"&&Number.isInteger(e)&&!_f(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function os(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qt{constructor(t,n){this.comparator=t,this.root=n||Pn.EMPTY}insert(t,n){return new Qt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Pn.RED,this.left=i??Pn.EMPTY,this.right=o??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Pn(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const t=this.left.check();if(t!==this.right.check())throw Ze();return t+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nn{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new wS(this.data.getIterator())}getIteratorFrom(t){return new wS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Nn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Nn(this.comparator);return n.data=t,n}}class wS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sr{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Sr([])}unionWith(t){let n=new Nn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Sr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fl(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gT("Invalid base64 string: "+i):i}}(t);return new _n(n)}static fromUint8Array(t){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new _n(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const h6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(e){if(Tt(!!e),typeof e=="string"){let t=0;const n=h6.exec(e);if(Tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rn(e.seconds),nanos:rn(e.nanos)}}function rn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ga(e){return typeof e=="string"?_n.fromBase64String(e):_n.fromUint8Array(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xb(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wb(e){const t=e.mapValue.fields.__previous_value__;return xb(t)?wb(t):t}function Cu(e){const t=aa(e.mapValue.fields.__local_write_time__.timestampValue);return new pn(t.seconds,t.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f6{constructor(t,n,r,i,o,a,s,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=u}}class pl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oh={mapValue:{}};function Qa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xb(e)?4:m6(e)?9007199254740991:p6(e)?10:11:Ze()}function Li(e,t){if(e===t)return!0;const n=Qa(e);if(n!==Qa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cu(e).isEqual(Cu(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=aa(r.timestampValue),a=aa(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ga(r.bytesValue).isEqual(Ga(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return rn(r.geoPointValue.latitude)===rn(i.geoPointValue.latitude)&&rn(r.geoPointValue.longitude)===rn(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rn(r.integerValue)===rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=rn(r.doubleValue),a=rn(i.doubleValue);return o===a?_f(o)===_f(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return fl(e.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(xS(o)!==xS(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!Li(o[s],a[s])))return!1;return!0}(e,t);default:return Ze()}}function Eu(e,t){return(e.values||[]).find(n=>Li(n,t))!==void 0}function ml(e,t){if(e===t)return 0;const n=Qa(e),r=Qa(t);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=rn(i.integerValue||i.doubleValue),s=rn(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(e,t);case 3:return SS(e.timestampValue,t.timestampValue);case 4:return SS(Cu(e),Cu(t));case 5:return bt(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Ga(i),s=Ga(o);return a.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),s=o.split("/");for(let c=0;c<a.length&&c<s.length;c++){const u=bt(a[c],s[c]);if(u!==0)return u}return bt(a.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=bt(rn(i.latitude),rn(o.latitude));return a!==0?a:bt(rn(i.longitude),rn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return kS(e.arrayValue,t.arrayValue);case 10:return function(i,o){var a,s,c,u;const h=i.fields||{},f=o.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(s=f.value)===null||s===void 0?void 0:s.arrayValue,C=bt(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((u=b==null?void 0:b.values)===null||u===void 0?void 0:u.length)||0);return C!==0?C:kS(v,b)}(e.mapValue,t.mapValue);case 11:return function(i,o){if(i===oh.mapValue&&o===oh.mapValue)return 0;if(i===oh.mapValue)return 1;if(o===oh.mapValue)return-1;const a=i.fields||{},s=Object.keys(a),c=o.fields||{},u=Object.keys(c);s.sort(),u.sort();for(let h=0;h<s.length&&h<u.length;++h){const f=bt(s[h],u[h]);if(f!==0)return f;const v=ml(a[s[h]],c[u[h]]);if(v!==0)return v}return bt(s.length,u.length)}(e.mapValue,t.mapValue);default:throw Ze()}}function SS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return bt(e,t);const n=aa(e),r=aa(t),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function kS(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ml(n[i],r[i]);if(o)return o}return bt(n.length,r.length)}function gl(e){return bv(e)}function bv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=aa(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(t){return Ga(t).toBase64()}(e.bytesValue):"referenceValue"in e?function(t){return Ve.fromName(t).toString()}(e.referenceValue):"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=bv(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${bv(t.fields[o])}`;return r+"}"}(e.mapValue):Ze()}function CS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function xv(e){return!!e&&"integerValue"in e}function Sb(e){return!!e&&"arrayValue"in e}function ES(e){return!!e&&"nullValue"in e}function _S(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mh(e){return!!e&&"mapValue"in e}function p6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Vc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return os(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Vc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function m6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lr{constructor(t){this.value=t}static empty(){return new lr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Mh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vc(n)}setAll(t){let n=Cn.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Vc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){os(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new lr(Vc(this.value))}}function yT(e){const t=[];return os(e.fields,(n,r)=>{const i=new Cn([n]);if(Mh(r)){const o=yT(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new Sr(t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kn{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new Kn(t,0,et.min(),et.min(),et.min(),lr.empty(),0)}static newFoundDocument(t,n,r,i){return new Kn(t,1,n,et.min(),r,i,0)}static newNoDocument(t,n){return new Kn(t,2,n,et.min(),et.min(),lr.empty(),0)}static newUnknownDocument(t,n){return new Kn(t,3,n,et.min(),et.min(),lr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tf{constructor(t,n){this.position=t,this.inclusive=n}}function TS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(a.referenceValue),n.key):r=ml(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Li(e.position[n],t.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _u{constructor(t,n="asc"){this.field=t,this.dir=n}}function g6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vT{}class fn extends vT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new v6(t,n,r):n==="array-contains"?new w6(t,r):n==="in"?new S6(t,r):n==="not-in"?new k6(t,r):n==="array-contains-any"?new C6(t,r):new fn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new b6(t,r):new x6(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ml(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends vT{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new gi(t,n)}matches(t){return bT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bT(e){return e.op==="and"}function xT(e){return y6(e)&&bT(e)}function y6(e){for(const t of e.filters)if(t instanceof gi)return!1;return!0}function wv(e){if(e instanceof fn)return e.field.canonicalString()+e.op.toString()+gl(e.value);if(xT(e))return e.filters.map(t=>wv(t)).join(",");{const t=e.filters.map(n=>wv(n)).join(",");return`${e.op}(${t})`}}function wT(e,t){return e instanceof fn?function(n,r){return r instanceof fn&&n.op===r.op&&n.field.isEqual(r.field)&&Li(n.value,r.value)}(e,t):e instanceof gi?function(n,r){return r instanceof gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,a)=>i&&wT(o,r.filters[a]),!0):!1}(e,t):void Ze()}function ST(e){return e instanceof fn?function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`}(e):e instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(ST).join(" ,")+"}"}(e):"Filter"}class v6 extends fn{constructor(t,n,r){super(t,n,r),this.key=Ve.fromName(r.referenceValue)}matches(t){const n=Ve.comparator(t.key,this.key);return this.matchesComparison(n)}}class b6 extends fn{constructor(t,n){super(t,"in",n),this.keys=kT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class x6 extends fn{constructor(t,n){super(t,"not-in",n),this.keys=kT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function kT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class w6 extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sb(n)&&Eu(n.arrayValue,this.value)}}class S6 extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class k6 extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Eu(this.value.arrayValue,n)}}class C6 extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E6{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function jS(e,t=null,n=[],r=[],i=null,o=null,a=null){return new E6(e,t,n,r,i,o,a)}function kb(e){const t=tt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>wv(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>gl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>gl(r)).join(",")),t.ue=n}return t.ue}function Cb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!g6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!IS(e.startAt,t.startAt)&&IS(e.endAt,t.endAt)}function Sv(e){return Ve.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bl{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _6(e,t,n,r,i,o,a,s){return new Bl(e,t,n,r,i,o,a,s)}function Dp(e){return new Bl(e)}function RS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function CT(e){return e.collectionGroup!==null}function qc(e){const t=tt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Nn(Cn.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(s=>{s.isInequality()&&(o=o.add(s.field))})}),o})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.ce.push(new _u(i,r))}),n.has(Cn.keyField().canonicalString())||t.ce.push(new _u(Cn.keyField(),r))}return t.ce}function Ri(e){const t=tt(e);return t.le||(t.le=T6(t,qc(e))),t.le}function T6(e,t){if(e.limitType==="F")return jS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new _u(i.field,o)});const n=e.endAt?new Tf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tf(e.startAt.position,e.startAt.inclusive):null;return jS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kv(e,t){const n=e.filters.concat([t]);return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cv(e,t,n){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zp(e,t){return Cb(Ri(e),Ri(t))&&e.limitType===t.limitType}function ET(e){return`${kb(Ri(e))}|lt:${e.limitType}`}function ks(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>ST(r)).join(", ")}]`),Lp(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>gl(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>gl(r)).join(",")),`Target(${n})`}(Ri(e))}; limitType=${e.limitType})`}function Fp(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of qc(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,o,a){const s=TS(i,o,a);return i.inclusive?s<=0:s<0}(n.startAt,qc(n),r)||n.endAt&&!function(i,o,a){const s=TS(i,o,a);return i.inclusive?s>=0:s>0}(n.endAt,qc(n),r))}(e,t)}function I6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _T(e){return(t,n)=>{let r=!1;for(const i of qc(e)){const o=j6(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function j6(e,t,n){const r=e.field.isKeyField()?Ve.comparator(t.key,n.key):function(i,o,a){const s=o.data.field(i),c=a.data.field(i);return s!==null&&c!==null?ml(s,c):Ze()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R6=new Qt(Ve.comparator);function vo(){return R6}const TT=new Qt(Ve.comparator);function Pc(...e){let t=TT;for(const n of e)t=t.insert(n.key,n);return t}function IT(e){let t=TT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Oa(){return Hc()}function jT(){return Hc()}function Hc(){return new Wl(e=>e.toString(),(e,t)=>e.isEqual(t))}const P6=new Qt(Ve.comparator),O6=new Nn(Ve.comparator);function pt(...e){let t=O6;for(const n of e)t=t.add(n);return t}const A6=new Nn(bt);function N6(){return A6}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Eb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function RT(e){return{integerValue:""+e}}function M6(e,t){return d6(t)?RT(t):Eb(e,t)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bp{constructor(){this._=void 0}}function L6(e,t,n){return e instanceof Tu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xb(i)&&(i=wb(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Iu?OT(e,t):e instanceof ju?AT(e,t):function(r,i){const o=PT(r,i),a=PS(o)+PS(r.Pe);return xv(o)&&xv(r.Pe)?RT(a):Eb(r.serializer,a)}(e,t)}function D6(e,t,n){return e instanceof Iu?OT(e,t):e instanceof ju?AT(e,t):n}function PT(e,t){return e instanceof If?function(n){return xv(n)||function(r){return!!r&&"doubleValue"in r}(n)}(t)?t:{integerValue:0}:null}class Tu extends Bp{}class Iu extends Bp{constructor(t){super(),this.elements=t}}function OT(e,t){const n=NT(t);for(const r of e.elements)n.some(i=>Li(i,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends Bp{constructor(t){super(),this.elements=t}}function AT(e,t){let n=NT(t);for(const r of e.elements)n=n.filter(i=>!Li(i,r));return{arrayValue:{values:n}}}class If extends Bp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function PS(e){return rn(e.integerValue||e.doubleValue)}function NT(e){return Sb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z6{constructor(t,n){this.field=t,this.transform=n}}function F6(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Iu&&r instanceof Iu||n instanceof ju&&r instanceof ju?fl(n.elements,r.elements,Li):n instanceof If&&r instanceof If?Li(n.Pe,r.Pe):n instanceof Tu&&r instanceof Tu}(e.transform,t.transform)}class B6{constructor(t,n){this.version=t,this.transformResults=n}}class Hr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hr}static exists(t){return new Hr(void 0,t)}static updateTime(t){return new Hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wp{}function MT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _b(e.key,Hr.none()):new Zu(e.key,e.data,Hr.none());{const n=e.data,r=lr.empty();let i=new Nn(Cn.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new pa(e.key,r,new Sr(i.toArray()),Hr.none())}}function W6(e,t,n){e instanceof Zu?function(r,i,o){const a=r.value.clone(),s=AS(r.fieldTransforms,i,o.transformResults);a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof pa?function(r,i,o){if(!Lh(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=AS(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(LT(r)),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Kc(e,t,n,r){return e instanceof Zu?function(i,o,a,s){if(!Lh(i.precondition,o))return a;const c=i.value.clone(),u=NS(i.fieldTransforms,s,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof pa?function(i,o,a,s){if(!Lh(i.precondition,o))return a;const c=NS(i.fieldTransforms,s,o),u=o.data;return u.setAll(LT(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return Lh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function $6(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=PT(r.transform,i||null);o!=null&&(n===null&&(n=lr.empty()),n.set(r.field,o))}return n||null}function OS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&fl(n,r,(i,o)=>F6(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zu extends Wp{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pa extends Wp{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function AS(e,t,n){const r=new Map;Tt(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,D6(a,s,n[i]))}return r}function NS(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,L6(o,a,t))}return r}class _b extends Wp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends Wp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V6{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&W6(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Kc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Kc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=jT();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const c=MT(a,s);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pt())}isEqual(t){return this.batchId===t.batchId&&fl(this.mutations,t.mutations,(n,r)=>OS(n,r))&&fl(this.baseMutations,t.baseMutations,(n,r)=>OS(n,r))}}class Tb{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Tt(t.mutations.length===r.length);let i=function(){return P6}();const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Tb(t,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var un,gt;function K6(e){switch(e){default:return Ze();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function DT(e){if(e===void 0)return yo("GRPC error has no .code"),se.UNKNOWN;switch(e){case un.OK:return se.OK;case un.CANCELLED:return se.CANCELLED;case un.UNKNOWN:return se.UNKNOWN;case un.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case un.INTERNAL:return se.INTERNAL;case un.UNAVAILABLE:return se.UNAVAILABLE;case un.UNAUTHENTICATED:return se.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case un.NOT_FOUND:return se.NOT_FOUND;case un.ALREADY_EXISTS:return se.ALREADY_EXISTS;case un.PERMISSION_DENIED:return se.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case un.ABORTED:return se.ABORTED;case un.OUT_OF_RANGE:return se.OUT_OF_RANGE;case un.UNIMPLEMENTED:return se.UNIMPLEMENTED;case un.DATA_LOSS:return se.DATA_LOSS;default:return Ze()}}(gt=un||(un={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G6(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q6=new Da([4294967295,4294967295],0);function MS(e){const t=G6().encode(e),n=new sT;return n.update(t),new Uint8Array(n.digest())}function LS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Da([n,r],0),new Da([i,o],0)]}class Ib{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Da.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Da.fromNumber(r)));return i.compare(Q6)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=MS(t),[r,i]=LS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new Ib(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.Ie===0)return;const n=MS(t),[r,i]=LS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $p{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ed.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new $p(et.min(),i,new Qt(bt),vo(),pt())}}class ed{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ed(r,n,pt(),pt(),pt())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dh{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zT{constructor(t,n){this.targetId=t,this.me=n}}class FT{constructor(t,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DS{constructor(){this.fe=0,this.ge=FS(),this.pe=_n.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=pt(),n=pt(),r=pt();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new ed(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=FS()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Y6{constructor(t){this.Le=t,this.Be=new Map,this.ke=vo(),this.qe=zS(),this.Qe=new Qt(bt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:Ze()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(Sv(o))if(r===0){const a=new Ve(o.path);this.Ue(n,a,Kn.newNoDocument(a,et.min()))}else Tt(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(t),c=s?this.Xe(s,t,a):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Ga(r).toUint8Array()}catch(c){if(c instanceof gT)return Ka("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new Ib(a,i,o)}catch(c){return Ka(c instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.Ie===0?null:s}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Sv(s.target)){const c=new Ve(s.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,Kn.newNoDocument(c,t))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=pt();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const i=new $p(t,n,this.Qe,this.ke,r);return this.ke=vo(),this.qe=zS(),this.Qe=new Qt(bt),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new DS,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Nn(bt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new DS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function zS(){return new Qt(Ve.comparator)}function FS(){return new Qt(Ve.comparator)}const X6={asc:"ASCENDING",desc:"DESCENDING"},J6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z6={and:"AND",or:"OR"};class e3{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ev(e,t){return e.useProto3Json||Lp(t)?t:{value:t}}function jf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function t3(e,t){return jf(e,t.toTimestamp())}function Pi(e){return Tt(!!e),et.fromTimestamp(function(t){const n=aa(t);return new pn(n.seconds,n.nanos)}(e))}function jb(e,t){return _v(e,t).canonicalString()}function _v(e,t){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function WT(e){const t=Dt.fromString(e);return Tt(HT(t)),t}function Tv(e,t){return jb(e.databaseId,t.path)}function $g(e,t){const n=WT(t);if(n.get(1)!==e.databaseId.projectId)throw new Re(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Re(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ve(UT(n))}function $T(e,t){return jb(e.databaseId,t)}function n3(e){const t=WT(e);return t.length===4?Dt.emptyPath():UT(t)}function Iv(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function UT(e){return Tt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function BS(e,t,n){return{name:Tv(e,t),fields:n.value.mapValue.fields}}function r3(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ze()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Tt(u===void 0||typeof u=="string"),_n.fromBase64String(u||"")):(Tt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),_n.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(c){const u=c.code===void 0?se.UNKNOWN:DT(c.code);return new Re(u,c.message||"")}(a);n=new FT(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$g(e,r.document.name),o=Pi(r.document.updateTime),a=r.document.createTime?Pi(r.document.createTime):et.min(),s=new lr({mapValue:{fields:r.document.fields}}),c=Kn.newFoundDocument(i,o,a,s),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Dh(u,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$g(e,r.document),o=r.readTime?Pi(r.readTime):et.min(),a=Kn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Dh([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$g(e,r.document),o=r.removedTargetIds||[];n=new Dh([],o,i,null)}else{if(!("filter"in t))return Ze();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new H6(i,o),s=r.targetId;n=new zT(s,a)}}return n}function i3(e,t){let n;if(t instanceof Zu)n={update:BS(e,t.key,t.value)};else if(t instanceof _b)n={delete:Tv(e,t.key)};else if(t instanceof pa)n={update:BS(e,t.key,t.data),updateMask:f3(t.fieldMask)};else{if(!(t instanceof U6))return Ze();n={verify:Tv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof If)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ze()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:t3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ze()}(e,t.precondition)),n}function o3(e,t){return e&&e.length>0?(Tt(t!==void 0),e.map(n=>function(r,i){let o=r.updateTime?Pi(r.updateTime):Pi(i);return o.isEqual(et.min())&&(o=Pi(i)),new B6(o,r.transformResults||[])}(n,t))):[]}function a3(e,t){return{documents:[$T(e,t.path)]}}function s3(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$T(e,i);const o=function(c){if(c.length!==0)return qT(gi.create(c,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Cs(h.field),direction:u3(h.dir)}}(u))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ev(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:i}}function l3(e){let t=n3(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let o=[];n.where&&(o=function(h){const f=VT(h);return f instanceof gi&&xT(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(v){return new _u(Es(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let s=null;n.limit&&(s=function(h){let f;return f=typeof h=="object"?h.value:h,Lp(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,v=h.values||[];return new Tf(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,v=h.values||[];return new Tf(v,f)}(n.endAt)),_6(t,i,a,o,s,"F",c,u)}function c3(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Es(t.unaryFilter.field);return fn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Es(t.unaryFilter.field);return fn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Es(t.unaryFilter.field);return fn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Es(t.unaryFilter.field);return fn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(e):e.fieldFilter!==void 0?function(t){return fn.create(Es(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(n=>VT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(e):Ze()}function u3(e){return X6[e]}function d3(e){return J6[e]}function h3(e){return Z6[e]}function Cs(e){return{fieldPath:e.canonicalString()}}function Es(e){return Cn.fromServerFormat(e.fieldPath)}function qT(e){return e instanceof fn?function(t){if(t.op==="=="){if(_S(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NAN"}};if(ES(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_S(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NAN"}};if(ES(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(t.field),op:d3(t.op),value:t.value}}}(e):e instanceof gi?function(t){const n=t.getFilters().map(r=>qT(r));return n.length===1?n[0]:{compositeFilter:{op:h3(t.op),filters:n}}}(e):Ze()}function f3(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $o{constructor(t,n,r,i,o=et.min(),a=et.min(),s=_n.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(t){return new $o(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p3{constructor(t){this.ct=t}}function m3(e){const t=l3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Cv(t,t.limit,"L"):t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g3{constructor(){this.un=new y3}addToCollectionParentIndex(t,n){return this.un.add(n),ce.resolve()}getCollectionParents(t,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return ce.resolve()}deleteFieldIndex(t,n){return ce.resolve()}deleteAllFieldIndexes(t){return ce.resolve()}createTargetIndexes(t,n){return ce.resolve()}getDocumentsMatchingTarget(t,n){return ce.resolve(null)}getIndexType(t,n){return ce.resolve(0)}getFieldIndexes(t,n){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,n){return ce.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,n){return ce.resolve(oa.min())}updateCollectionGroup(t,n,r){return ce.resolve()}updateIndexEntries(t,n){return ce.resolve()}}class y3{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Nn(Dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Nn(Dt.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new yl(0)}static kn(){return new yl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class v3{constructor(){this.changes=new Wl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x3{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Kc(r.mutation,i,Sr.empty(),pn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,pt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=pt()){const i=Oa();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=Pc();return o.forEach((s,c)=>{a=a.insert(s,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Oa();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,pt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=vo();const a=Hc(),s=function(){return Hc()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof pa)?o=o.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),Kc(h.mutation,u,h.mutation.getFieldMask(),pn.now())):a.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return s.set(u,new b3(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(t,n){const r=Hc();let i=new Qt((a,s)=>a-s),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Sr.empty();h=s.applyToLocalView(u,h),r.set(c,h);const f=(i.get(s.batchId)||pt()).add(c);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const c=s.getNext(),u=c.key,h=c.value,f=jT();h.forEach(v=>{if(!o.has(v)){const b=MT(n.get(v),r.get(v));b!==null&&f.set(v,b),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,f))}return ce.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):ce.resolve(Oa());let s=-1,c=o;return a.next(u=>ce.forEach(u,(h,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(h)?ce.resolve():this.remoteDocumentCache.getEntry(t,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,c,u,pt())).next(h=>({batchId:s,changes:IT(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ve(n)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let a=Pc();return this.indexManager.getCollectionParents(t,o).next(s=>ce.forEach(s,c=>{const u=function(h,f){return new Bl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(h=>{h.forEach((f,v)=>{a=a.insert(f,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(a=>{o.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Kn.newInvalidDocument(h)))});let s=Pc();return a.forEach((c,u)=>{const h=o.get(c);h!==void 0&&Kc(h.mutation,u,Sr.empty(),pn.now()),Fp(n,u)&&(s=s.insert(c,u))}),s})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w3{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}}(n)),ce.resolve()}getNamedQuery(t,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:m3(r.bundledQuery),readTime:Pi(r.readTime)}}(n)),ce.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S3{constructor(){this.overlays=new Qt(Ve.comparator),this.Ir=new Map}getOverlay(t,n){return ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Oa();return ce.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(t,n,r){const i=Oa(),o=n.length+1,a=new Ve(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const c=s.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Qt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Oa(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const s=Oa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>s.set(u,h)),!(s.size()>=i)););return ce.resolve(s)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new q6(n,r));let o=this.Ir.get(n);o===void 0&&(o=pt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k3{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(t){return ce.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ce.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rb{constructor(){this.Tr=new Nn(Sn.Er),this.dr=new Nn(Sn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new Sn(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new Sn(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new Ve(new Dt([])),r=new Sn(n,t),i=new Sn(n,t+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Ve(new Dt([])),r=new Sn(n,t),i=new Sn(n,t+1);let o=pt();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new Sn(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Sn{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Ve.comparator(t.key,n.key)||bt(t.wr,n.wr)}static Ar(t,n){return bt(t.wr,n.wr)||Ve.comparator(t.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nn(Sn.Er)}checkEmpty(t){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new V6(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Sn(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(t,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Nn(bt);return n.forEach(i=>{const o=new Sn(i,0),a=new Sn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const a=new Sn(new Ve(o),0);let s=new Nn(bt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(c.wr)),!0)},a),ce.resolve(this.Cr(s))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,i=>{const o=new Sn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new Sn(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ce.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E3{constructor(t){this.Mr=t,this.docs=function(){return new Qt(Ve.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(t,n){let r=vo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=vo();const a=n.path,s=new Ve(a.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||s6(a6(h),r)<=0||(i.has(h.key)||Fp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Ze()}Or(t,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new _3(this)}getSize(t){return ce.resolve(this.size)}}class _3 extends v3{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T3{constructor(t){this.persistence=t,this.Nr=new Wl(n=>kb(n),Cb),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rb,this.targetCount=0,this.kr=yl.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new yl(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(t,n){return this.Kn(n),ce.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),ce.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(t,n){return ce.resolve(this.Br.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I3{constructor(t,n){this.qr={},this.overlays={},this.Qr=new bb(0),this.Kr=!1,this.Kr=!0,this.$r=new k3,this.referenceDelegate=t(this),this.Ur=new T3(this),this.indexManager=new g3,this.remoteDocumentCache=function(r){return new E3(r)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new p3(n),this.Gr=new w3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new S3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new C3(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){Me("MemoryPersistence","Starting transaction:",t);const i=new j3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(t,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class j3 extends c6{constructor(t){super(),this.currentSequenceNumber=t}}class Pb{constructor(t){this.persistence=t,this.Jr=new Rb,this.Yr=null}static Zr(t){return new Pb(t)}get Xr(){if(this.Yr)return this.Yr;throw Ze()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const i=Ve.fromPath(r);return this.ei(t,i).next(o=>{o||n.removeEntry(i,et.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ob{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=pt(),i=pt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ob(t,n.fromCache,r,i)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return O4()?8:u6(Yn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Yi(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(t,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new R3;return this.Xi(t,n,a).next(s=>{if(o.result=s,this.zi)return this.es(t,n,a,s.size)})}).next(()=>o.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(fc()<=mt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(fc()<=mt.DEBUG&&Me("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fc()<=mt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):ce.resolve())}Yi(t,n){if(RS(n))return ce.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cv(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=pt(...o);return this.Ji.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(c=>{const u=this.ts(n,s);return this.ns(n,u,a,c.readTime)?this.Yi(t,Cv(n,null,"F")):this.rs(t,u,n,c)}))})))}Zi(t,n,r,i){return RS(n)||i.isEqual(et.min())?ce.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?ce.resolve(null):(fc()<=mt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.rs(t,a,n,o6(i,-1)).next(s=>s))})}ts(t,n){let r=new Nn(_T(t));return n.forEach((i,o)=>{Fp(t,o)&&(r=r.add(o))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(t,n,r){return fc()<=mt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",ks(n)),this.Ji.getDocumentsMatchingQuery(t,n,oa.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O3{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new Qt(bt),this._s=new Wl(o=>kb(o),Cb),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new x3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function A3(e,t,n,r){return new O3(e,t,n,r)}async function KT(e,t){const n=tt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let c=pt();for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function N3(e,t){const n=tt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,s,c,u){const h=c.batch,f=h.keys();let v=ce.resolve();return f.forEach(b=>{v=v.next(()=>u.getEntry(s,b)).next(C=>{const S=c.docVersions.get(b);Tt(S!==null),C.version.compareTo(S)<0&&(h.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),u.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(s,h))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let s=pt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(s=s.add(a.batch.mutations[c].key));return s}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function GT(e){const t=tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function M3(e,t){const n=tt(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach((h,f)=>{const v=i.get(f);if(!v)return;s.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let b=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?b=b.withResumeToken(_n.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(f,b),function(C,S,T){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(v,b,h)&&s.push(n.Ur.updateTargetData(o,b))});let c=vo(),u=pt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),s.push(L3(o,a,t.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!r.isEqual(et.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(h)}return ce.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=i,o))}function L3(e,t,n){let r=pt(),i=pt();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let a=vo();return n.forEach((s,c)=>{const u=o.get(s);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),c.isNoDocument()&&c.version.isEqual(et.min())?(t.removeEntry(s,c.readTime),a=a.insert(s,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),a=a.insert(s,c)):Me("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function D3(e,t){const n=tt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function z3(e,t){const n=tt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(o=>o?(i=o,ce.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new $o(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function jv(e,t,n){const r=tt(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ju(a))throw a;Me("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function WS(e,t,n){const r=tt(e);let i=et.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(s,c,u){const h=tt(s),f=h._s.get(u);return f!==void 0?ce.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,a,Ri(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?i:et.min(),n?o:pt())).next(s=>(F3(r,I6(t),s),{documents:s,Ts:o})))}function F3(e,t,n){let r=e.us.get(t)||et.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.us.set(t,r)}class $S{constructor(){this.activeTargetIds=N6()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B3{constructor(){this.so=new $S,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new $S,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W3{_o(t){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class US{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ah=null;function Ug(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U3{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wn="WebChannelConnection";class V3 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${r}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get Fo(){return!1}Mo(t,n,r,i,o){const a=Ug(),s=this.xo(t,n.toUriEncodedString());Me("RestConnection",`Sending RPC '${t}' ${a}:`,s,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(t,s,c,r).then(u=>(Me("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Ka("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",s,"request:",r),u})}Lo(t,n,r,i,o,a){return this.Mo(t,n,r,i,o)}Oo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}xo(t,n){const r=$3[t];return`${this.Do}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const o=Ug();return new Promise((a,s)=>{const c=new lT;c.setWithCredentials(!0),c.listenOnce(cT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nh.NO_ERROR:const h=c.getResponseJson();Me(Wn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case Nh.TIMEOUT:Me(Wn,`RPC '${t}' ${o} timed out`),s(new Re(se.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const f=c.getStatus();if(Me(Wn,`RPC '${t}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const C=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(T)>=0?T:se.UNKNOWN}(b.status);s(new Re(C,b.message))}else s(new Re(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else s(new Re(se.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Me(Wn,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Me(Wn,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=Ug(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=hT(),s=dT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Me(Wn,`Creating RPC '${t}' stream ${i}: ${h}`,c);const f=a.createWebChannel(h,c);let v=!1,b=!1;const C=new U3({Io:T=>{b?Me(Wn,`Not sending because RPC '${t}' stream ${i} is closed:`,T):(v||(Me(Wn,`Opening RPC '${t}' stream ${i} transport.`),f.open(),v=!0),Me(Wn,`RPC '${t}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),S=(T,E,g)=>{T.listen(E,y=>{try{g(y)}catch(P){setTimeout(()=>{throw P},0)}})};return S(f,Rc.EventType.OPEN,()=>{b||(Me(Wn,`RPC '${t}' stream ${i} transport opened.`),C.yo())}),S(f,Rc.EventType.CLOSE,()=>{b||(b=!0,Me(Wn,`RPC '${t}' stream ${i} transport closed`),C.So())}),S(f,Rc.EventType.ERROR,T=>{b||(b=!0,Ka(Wn,`RPC '${t}' stream ${i} transport errored:`,T),C.So(new Re(se.UNAVAILABLE,"The operation could not be completed")))}),S(f,Rc.EventType.MESSAGE,T=>{var E;if(!b){const g=T.data[0];Tt(!!g);const y=g,P=y.error||((E=y[0])===null||E===void 0?void 0:E.error);if(P){Me(Wn,`RPC '${t}' stream ${i} received error:`,P);const M=P.status;let N=function(p){const m=un[p];if(m!==void 0)return DT(m)}(M),_=P.message;N===void 0&&(N=se.INTERNAL,_="Unknown error status: "+M+" with message "+P.message),b=!0,C.So(new Re(N,_)),f.close()}else Me(Wn,`RPC '${t}' stream ${i} received:`,g),C.bo(g)}}),S(s,uT.STAT_EVENT,T=>{T.stat===vv.PROXY?Me(Wn,`RPC '${t}' stream ${i} detected buffering proxy`):T.stat===vv.NOPROXY&&Me(Wn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Vg(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Up(e){return new e3(e,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QT{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YT{constructor(t,n,r,i,o,a,s,c){this.ui=t,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QT(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new Re(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q3 extends YT{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=r3(this.serializer,t),r=function(i){if(!("targetChange"in i))return et.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?Pi(o.readTime):et.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Iv(this.serializer),n.addTarget=function(i,o){let a;const s=o.target;if(a=Sv(s)?{documents:a3(i,s)}:{query:s3(i,s)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BT(i,o.resumeToken);const c=Ev(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=jf(i,o.snapshotVersion.toTimestamp());const c=Ev(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=c3(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Iv(this.serializer),n.removeTarget=t,this.a_(n)}}class H3 extends YT{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,Tt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=o3(t.writeResults,t.commitTime),r=Pi(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Iv(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>i3(this.serializer,r))};this.a_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K3 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Re(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,_v(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(se.UNKNOWN,o.toString())})}Lo(t,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(t,_v(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(se.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class G3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yo(n),this.D_=!1):Me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q3{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{as(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(s){const c=tt(s);c.L_.add(4),await td(c),c.q_.set("Unknown"),c.L_.delete(4),await Vp(c)}(this))})}),this.q_=new G3(r,i)}}async function Vp(e){if(as(e))for(const t of e.B_)await t(!0)}async function td(e){for(const t of e.B_)await t(!1)}function XT(e,t){const n=tt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Lb(n)?Mb(n):$l(n).r_()&&Nb(n,t))}function Ab(e,t){const n=tt(e),r=$l(n);n.N_.delete(t),r.r_()&&JT(n,t),n.N_.size===0&&(r.r_()?r.o_():as(n)&&n.q_.set("Unknown"))}function Nb(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$l(e).A_(t)}function JT(e,t){e.Q_.xe(t),$l(e).R_(t)}function Mb(e){e.Q_=new Y6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),$l(e).start(),e.q_.v_()}function Lb(e){return as(e)&&!$l(e).n_()&&e.N_.size>0}function as(e){return tt(e).L_.size===0}function ZT(e){e.Q_=void 0}async function Y3(e){e.q_.set("Online")}async function X3(e){e.N_.forEach((t,n)=>{Nb(e,t)})}async function J3(e,t){ZT(e),Lb(e)?(e.q_.M_(t),Mb(e)):e.q_.set("Unknown")}async function Z3(e,t,n){if(e.q_.set("Online"),t instanceof FT&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Rf(e,r)}else if(t instanceof Dh?e.Q_.Ke(t):t instanceof zT?e.Q_.He(t):e.Q_.We(t),!n.isEqual(et.min()))try{const r=await GT(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((s,c)=>{if(s.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach((s,c)=>{const u=i.N_.get(s);if(!u)return;i.N_.set(s,u.withResumeToken(_n.EMPTY_BYTE_STRING,u.snapshotVersion)),JT(i,s);const h=new $o(u.target,s,c,u.sequenceNumber);Nb(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),await Rf(e,r)}}async function Rf(e,t,n){if(!Ju(t))throw t;e.L_.add(1),await td(e),e.q_.set("Offline"),n||(n=()=>GT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Vp(e)})}function eI(e,t){return t().catch(n=>Rf(e,n,t))}async function qp(e){const t=tt(e),n=sa(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;eL(t);)try{const i=await D3(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,tL(t,i)}catch(i){await Rf(t,i)}tI(t)&&nI(t)}function eL(e){return as(e)&&e.O_.length<10}function tL(e,t){e.O_.push(t);const n=sa(e);n.r_()&&n.V_&&n.m_(t.mutations)}function tI(e){return as(e)&&!sa(e).n_()&&e.O_.length>0}function nI(e){sa(e).start()}async function nL(e){sa(e).p_()}async function rL(e){const t=sa(e);for(const n of e.O_)t.m_(n.mutations)}async function iL(e,t,n){const r=e.O_.shift(),i=Tb.from(r,t,n);await eI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await qp(e)}async function oL(e,t){t&&sa(e).V_&&await async function(n,r){if(function(i){return K6(i)&&i!==se.ABORTED}(r.code)){const i=n.O_.shift();sa(n).s_(),await eI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await qp(n)}}(e,t),tI(e)&&nI(e)}async function VS(e,t){const n=tt(e);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=as(n);n.L_.add(3),await td(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Vp(n)}async function aL(e,t){const n=tt(e);t?(n.L_.delete(2),await Vp(n)):t||(n.L_.add(2),await td(n),n.q_.set("Unknown"))}function $l(e){return e.K_||(e.K_=function(t,n,r){const i=tt(t);return i.w_(),new q3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Eo:Y3.bind(null,e),Ro:X3.bind(null,e),mo:J3.bind(null,e),d_:Z3.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Lb(e)?Mb(e):e.q_.set("Unknown")):(await e.K_.stop(),ZT(e))})),e.K_}function sa(e){return e.U_||(e.U_=function(t,n,r){const i=tt(t);return i.w_(),new H3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nL.bind(null,e),mo:oL.bind(null,e),f_:rL.bind(null,e),g_:iL.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await qp(e)):(await e.U_.stop(),e.O_.length>0&&(Me("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Db{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new Db(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zb(e,t){if(yo("AsyncQueue",`${t}: ${e}`),Ju(e))return new Re(se.UNAVAILABLE,`${t}: ${e}`);throw e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new Qt(this.comparator)}static emptySet(t){return new Ys(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ys)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qS{constructor(){this.W_=new Qt(Ve.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Ze():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class vl{constructor(t,n,r,i,o,a,s,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new vl(t,n,Ys.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class lL{constructor(){this.queries=HS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const r=tt(t),i=r.queries;r.queries=HS(),i.forEach((o,a)=>{for(const s of a.j_)s.onError(n)})})(this,new Re(se.ABORTED,"Firestore shutting down"))}}function HS(){return new Wl(e=>ET(e),zp)}async function Fb(e,t){const n=tt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new sL,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=zb(a,`Initialization of query '${ks(t.query)}' failed`);return void t.onError(s)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Wb(n)}async function Bb(e,t){const n=tt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(t);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cL(e,t){const n=tt(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&Wb(n)}function uL(e,t,n){const r=tt(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Wb(e){e.Y_.forEach(t=>{t.next()})}var Rv,KS;(KS=Rv||(Rv={})).ea="default",KS.Cache="cache";class $b{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new vl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=vl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Rv.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rI{constructor(t){this.key=t}}class iI{constructor(t){this.key=t}}class dL{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=_T(t),this.Ra=new Ys(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new qS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,f)=>{const v=i.get(h),b=Fp(this.query,f)?f:null,C=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;v&&b?v.data.isEqual(b.data)?C!==S&&(r.track({type:3,doc:b}),T=!0):this.ga(v,b)||(r.track({type:2,doc:b}),T=!0,(c&&this.Aa(b,c)>0||u&&this.Aa(b,u)<0)&&(s=!0)):!v&&b?(r.track({type:0,doc:b}),T=!0):v&&!b&&(r.track({type:1,doc:v}),T=!0,(c||u)&&(s=!0)),T&&(b?(a=a.add(b),o=S?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((h,f)=>function(v,b){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return C(v)-C(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,a.length!==0||u?{snapshot:new vl(this.query,t.Ra,o,a,t.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=pt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new iI(r))}),this.da.forEach(r=>{t.has(r)||n.push(new rI(r))}),n}ba(t){this.Ta=t.Ts,this.da=pt();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return vl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hL{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class fL{constructor(t){this.key=t,this.va=!1}}class pL{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Wl(s=>ET(s),zp),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(Ve.comparator),this.Na=new Map,this.La=new Rb,this.Ba={},this.ka=new Map,this.qa=yl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mL(e,t,n=!0){const r=uI(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await oI(r,t,n,!0),i}async function gL(e,t){const n=uI(e);await oI(n,t,!0,!1)}async function oI(e,t,n,r){const i=await z3(e.localStore,Ri(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await yL(e,t,o,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&XT(e.remoteStore,i),s}async function yL(e,t,n,r,i){e.Ka=(f,v,b)=>async function(C,S,T,E){let g=S.view.ma(T);g.ns&&(g=await WS(C.localStore,S.query,!1).then(({documents:N})=>S.view.ma(N,g)));const y=E&&E.targetChanges.get(S.targetId),P=E&&E.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(g,C.isPrimaryClient,y,P);return QS(C,S.targetId,M.wa),M.snapshot}(e,f,v,b);const o=await WS(e.localStore,t,!0),a=new dL(t,o.Ts),s=a.ma(o.documents),c=ed.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(s,e.isPrimaryClient,c);QS(e,n,u.wa);const h=new hL(t,n,a);return e.Fa.set(t,h),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function vL(e,t,n){const r=tt(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!zp(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ab(r.remoteStore,i.targetId),Pv(r,i.targetId)}).catch(Xu)):(Pv(r,i.targetId),await jv(r.localStore,i.targetId,!0))}async function bL(e,t){const n=tt(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ab(n.remoteStore,r.targetId))}async function xL(e,t,n){const r=TL(e);try{const i=await function(o,a){const s=tt(o),c=pn.now(),u=a.reduce((v,b)=>v.add(b.key),pt());let h,f;return s.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=vo(),C=pt();return s.cs.getEntries(v,u).next(S=>{b=S,b.forEach((T,E)=>{E.isValidDocument()||(C=C.add(T))})}).next(()=>s.localDocuments.getOverlayedDocuments(v,b)).next(S=>{h=S;const T=[];for(const E of a){const g=$6(E,h.get(E.key).overlayedDocument);g!=null&&T.push(new pa(E.key,g,yT(g.value.mapValue),Hr.exists(!0)))}return s.mutationQueue.addMutationBatch(v,c,T,a)}).next(S=>{f=S;const T=S.applyToLocalDocumentSet(h,C);return s.documentOverlayCache.saveOverlays(v,S.batchId,T)})}).then(()=>({batchId:f.batchId,changes:IT(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,s){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qt(bt)),c=c.insert(a,s),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await nd(r,i.changes),await qp(r.remoteStore)}catch(i){const o=zb(i,"Failed to persist write");n.reject(o)}}async function aI(e,t){const n=tt(e);try{const r=await M3(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Tt(a.va):i.removedDocuments.size>0&&(Tt(a.va),a.va=!1))}),await nd(n,r,t)}catch(r){await Xu(r)}}function GS(e,t,n){const r=tt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(o,a){const s=tt(o);s.onlineState=a;let c=!1;s.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&Wb(s)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wL(e,t,n){const r=tt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let a=new Qt(Ve.comparator);a=a.insert(o,Kn.newNoDocument(o,et.min()));const s=pt().add(o),c=new $p(et.min(),new Map,new Qt(bt),a,s);await aI(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(t),Ub(r)}else await jv(r.localStore,t,!1).then(()=>Pv(r,t,n)).catch(Xu)}async function SL(e,t){const n=tt(e),r=t.batch.batchId;try{const i=await N3(n.localStore,t);lI(n,r,null),sI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nd(n,i)}catch(i){await Xu(i)}}async function kL(e,t,n){const r=tt(e);try{const i=await function(o,a){const s=tt(o);return s.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return s.mutationQueue.lookupMutationBatch(c,a).next(h=>(Tt(h!==null),u=h.keys(),s.mutationQueue.removeMutationBatch(c,h))).next(()=>s.mutationQueue.performConsistencyCheck(c)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>s.localDocuments.getDocuments(c,u))})}(r.localStore,t);lI(r,t,n),sI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nd(r,i)}catch(i){await Xu(i)}}function sI(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function lI(e,t,n){const r=tt(e);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Pv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||cI(e,r)})}function cI(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Ab(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Ub(e))}function QS(e,t,n){for(const r of n)r instanceof rI?(e.La.addReference(r.key,t),CL(e,r)):r instanceof iI?(Me("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||cI(e,r.key)):Ze()}function CL(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Me("SyncEngine","New document in limbo: "+n),e.xa.add(r),Ub(e))}function Ub(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ve(Dt.fromString(t)),r=e.qa.next();e.Na.set(r,new fL(n)),e.Oa=e.Oa.insert(n,r),XT(e.remoteStore,new $o(Ri(Dp(n.path)),r,"TargetPurposeLimboResolution",bb.oe))}}async function nd(e,t,n){const r=tt(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,c)=>{a.push(r.Ka(c,t,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Ob.Wi(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(s,c){const u=tt(s);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(c,f=>ce.forEach(f.$i,v=>u.persistence.referenceDelegate.addReference(h,f.targetId,v)).next(()=>ce.forEach(f.Ui,v=>u.persistence.referenceDelegate.removeReference(h,f.targetId,v)))))}catch(h){if(!Ju(h))throw h;Me("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const v=u.os.get(f),b=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(b);u.os=u.os.insert(f,C)}}}(r.localStore,o))}async function EL(e,t){const n=tt(e);if(!n.currentUser.isEqual(t)){Me("SyncEngine","User change. New user:",t.toKey());const r=await KT(n.localStore,t);n.currentUser=t,function(i,o){i.ka.forEach(a=>{a.forEach(s=>{s.reject(new Re(se.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nd(n,r.hs)}}function _L(e,t){const n=tt(e),r=n.Na.get(t);if(r&&r.va)return pt().add(r.key);{let i=pt();const o=n.Ma.get(t);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function uI(e){const t=tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wL.bind(null,t),t.Ca.d_=cL.bind(null,t.eventManager),t.Ca.$a=uL.bind(null,t.eventManager),t}function TL(e){const t=tt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kL.bind(null,t),t}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Up(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return A3(this.persistence,new P3,t.initialUser,this.serializer)}Ga(t){return new I3(Pb.Zr,this.serializer)}Wa(t){return new B3}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class Ov{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),await aL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new lL}()}createDatastore(t){const n=Up(t.databaseInfo.databaseId),r=function(i){return new V3(i)}(t.databaseInfo);return function(i,o,a,s){return new K3(i,o,a,s)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(n,r,i,o,a){return new Q3(n,r,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>GS(this.syncEngine,n,0),function(){return US.D()?new US:new W3}())}createSyncEngine(t,n){return function(r,i,o,a,s,c,u){const h=new pL(r,i,o,a,s,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const i=tt(r);Me("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await td(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ov.provider={build:()=>new Ov};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):yo("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IL{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Me("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Me("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zb(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function qg(e,t){e.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function YS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jL(e);Me("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>VS(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>VS(t.remoteStore,i)),e._onlineComponents=t}async function jL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await qg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===se.FAILED_PRECONDITION||r.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await qg(e,new Pf)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await qg(e,new Pf);return e._offlineComponents}async function dI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await YS(e,e._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await YS(e,new Ov))),e._onlineComponents}function RL(e){return dI(e).then(t=>t.syncEngine)}async function Of(e){const t=await dI(e),n=t.eventManager;return n.onListen=mL.bind(null,t.syncEngine),n.onUnlisten=vL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bL.bind(null,t.syncEngine),n}function PL(e,t,n={}){const r=new so;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,c){const u=new Vb({next:f=>{u.Za(),o.enqueueAndForget(()=>Bb(i,h));const v=f.docs.has(a);!v&&f.fromCache?c.reject(new Re(se.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&s&&s.source==="server"?c.reject(new Re(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new $b(Dp(a.path),u,{includeMetadataChanges:!0,_a:!0});return Fb(i,h)}(await Of(e),e.asyncQueue,t,n,r)),r.promise}function OL(e,t,n={}){const r=new so;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,c){const u=new Vb({next:f=>{u.Za(),o.enqueueAndForget(()=>Bb(i,h)),f.fromCache&&s.source==="server"?c.reject(new Re(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new $b(a,u,{includeMetadataChanges:!0,_a:!0});return Fb(i,h)}(await Of(e),e.asyncQueue,t,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XS=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fI(e,t,n){if(!n)throw new Re(se.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pI(e,t,n,r){if(t===!0&&r===!0)throw new Re(se.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function JS(e){if(!Ve.isDocumentKey(e))throw new Re(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZS(e){if(Ve.isDocumentKey(e))throw new Re(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ze()}function nr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Re(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hp(e);throw new Re(se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ek{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Re(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Re(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kp{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ek({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Re(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ek(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pT;switch(n.type){case"firstParty":return new e6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=XS.get(t);n&&(Me("ComponentProvider","Removing Datastore"),XS.delete(t),n.terminate())}(this),Promise.resolve()}}function mI(e,t,n,r={}){var i;const o=(e=nr(e,Kp))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,c;if(typeof r.mockUserToken=="string")s=r.mockUserToken,c=qn.MOCK_USER;else{s=tT(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Re(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qn(u)}e._authCredentials=new XM(new fT(s,c))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Eo(this.firestore,t,this._query)}}class Mn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mn(this.firestore,t,this._key)}}class lo extends Eo{constructor(t,n,r){super(t,n,Dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mn(this.firestore,null,new Ve(t))}withConverter(t){return new lo(this.firestore,t,this._path)}}function Fe(e,t,...n){if(e=mn(e),fI("collection","path",t),e instanceof Kp){const r=Dt.fromString(t,...n);return ZS(r),new lo(e,null,r)}{if(!(e instanceof Mn||e instanceof lo))throw new Re(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dt.fromString(t,...n));return ZS(r),new lo(e.firestore,null,r)}}function Le(e,t,...n){if(e=mn(e),arguments.length===1&&(t=vb.newId()),fI("doc","path",t),e instanceof Kp){const r=Dt.fromString(t,...n);return JS(r),new Mn(e,null,new Ve(r))}{if(!(e instanceof Mn||e instanceof lo))throw new Re(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dt.fromString(t,...n));return JS(r),new Mn(e.firestore,e instanceof lo?e.converter:null,new Ve(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tk{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QT(this,"async_queue_retry"),this.Vu=()=>{const r=Vg();r&&Me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new so;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Ju(t))throw t;Me("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=Db.createAndSchedule(this,t,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ze()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function nk(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Di extends Kp{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new tk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tk(t),this._firestoreClient=void 0,await t}}}function gI(e,t){const n=typeof e=="object"?e:gb(),r=typeof e=="string"?e:"(default)",i=Mp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=J_("firestore");o&&mI(i,...o)}return i}function rd(e){if(e._terminated)throw new Re(se.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||AL(e),e._firestoreClient}function AL(e){var t,n,r;const i=e._freezeSettings(),o=function(a,s,c,u){return new f6(a,s,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hI(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new IL(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(a){const s=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(s),_online:s}}(e._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(_n.fromBase64String(t))}catch(n){throw new Re(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ya(_n.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class id{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Re(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class od{constructor(t){this._methodName=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Re(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Re(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(this._values,t._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const NL=/^__.*__$/;class ML{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(t,this.data,n,this.fieldTransforms)}}class yI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new pa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function vI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class qb{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new qb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Af(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(vI(this.Cu)&&NL.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class LL{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Up(t)}Qu(t,n,r,i=!1){return new qb({Cu:t,methodName:n,qu:r,path:Cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(e){const t=e._freezeSettings(),n=Up(e._databaseId);return new LL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bI(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);Kb("Data must be an object, but it was:",a,r);const s=xI(r,a);let c,u;if(o.merge)c=new Sr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const v=Av(t,f,n);if(!a.contains(v))throw new Re(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);SI(h,v)||h.push(v)}c=new Sr(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new ML(new lr(s),c,u)}class Xp extends od{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xp}}class Hb extends od{_toFieldTransform(t){return new z6(t.path,new Tu)}isEqual(t){return t instanceof Hb}}function DL(e,t,n,r){const i=e.Qu(1,t,n);Kb("Data must be an object, but it was:",i,r);const o=[],a=lr.empty();os(r,(c,u)=>{const h=Gb(t,c,n);u=mn(u);const f=i.Nu(h);if(u instanceof Xp)o.push(h);else{const v=ad(u,f);v!=null&&(o.push(h),a.set(h,v))}});const s=new Sr(o);return new yI(a,s,i.fieldTransforms)}function zL(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[Av(t,r,n)],c=[i];if(o.length%2!=0)throw new Re(se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)s.push(Av(t,o[v])),c.push(o[v+1]);const u=[],h=lr.empty();for(let v=s.length-1;v>=0;--v)if(!SI(u,s[v])){const b=s[v];let C=c[v];C=mn(C);const S=a.Nu(b);if(C instanceof Xp)u.push(b);else{const T=ad(C,S);T!=null&&(u.push(b),h.set(b,T))}}const f=new Sr(u);return new yI(h,f,a.fieldTransforms)}function FL(e,t,n,r=!1){return ad(n,e.Qu(r?4:3,t))}function ad(e,t){if(wI(e=mn(e)))return Kb("Unsupported field value:",t,e),xI(e,t);if(e instanceof od)return function(n,r){if(!vI(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const a of n){let s=ad(a,r.Lu(o));s==null&&(s={nullValue:"NULL_VALUE"}),i.push(s),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M6(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pn.fromDate(n);return{timestampValue:jf(r.serializer,i)}}if(n instanceof pn){const i=new pn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jf(r.serializer,i)}}if(n instanceof Gp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ya)return{bytesValue:BT(r.serializer,n._byteString)};if(n instanceof Mn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jb(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Qp)return function(i,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(a=>{if(typeof a!="number")throw o.Bu("VectorValues must only contain numeric values.");return Eb(o.serializer,a)})}}}}}}(n,r);throw r.Bu(`Unsupported field value: ${Hp(n)}`)}(e,t)}function xI(e,t){const n={};return mT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(e,(r,i)=>{const o=ad(i,t.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pn||e instanceof Gp||e instanceof Ya||e instanceof Mn||e instanceof od||e instanceof Qp)}function Kb(e,t,n){if(!wI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hp(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Av(e,t,n){if((t=mn(t))instanceof id)return t._internalPath;if(typeof t=="string")return Gb(e,t);throw Af("Field path arguments must be of type string or ",e,!1,void 0,n)}const BL=new RegExp("[~\\*/\\[\\]]");function Gb(e,t,n){if(t.search(BL)>=0)throw Af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new id(...t.split("."))._internalPath}catch{throw Af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Af(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Re(se.INVALID_ARGUMENT,s+e+c)}function SI(e,t){return e.some(n=>n.isEqual(t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kI{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WL extends kI{data(){return super.data()}}function Jp(e,t){return typeof t=="string"?Gb(e,t):t instanceof id?t._internalPath:t._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Re(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qb{}class Yb extends Qb{}function Tr(e,t,...n){let r=[];t instanceof Qb&&r.push(t),r=r.concat(n),function(i){const o=i.filter(s=>s instanceof Zp).length,a=i.filter(s=>s instanceof sd).length;if(o>1||o>0&&a>0)throw new Re(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class sd extends Yb{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new sd(t,n,r)}_apply(t){const n=this._parse(t);return _I(t._query,n),new Eo(t.firestore,t.converter,kv(t._query,n))}_parse(t){const n=Yp(t.firestore);return function(r,i,o,a,s,c,u){let h;if(s.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Re(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){ik(u,c);const f=[];for(const v of u)f.push(rk(a,r,v));h={arrayValue:{values:f}}}else h=rk(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||ik(u,c),h=FL(o,i,u,c==="in"||c==="not-in");return fn.create(s,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Ir(e,t,n){const r=t,i=Jp("where",e);return sd._create(i,r,n)}class Zp extends Qb{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Zp(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const s of a)_I(o,s),o=kv(o,s)}(t._query,n),new Eo(t.firestore,t.converter,kv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends Yb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new em(t,n)}_apply(t){const n=function(r,i,o){if(r.startAt!==null)throw new Re(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Re(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(i,o)}(t._query,this._field,this._direction);return new Eo(t.firestore,t.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Bl(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function EI(e,t="asc"){const n=t,r=Jp("orderBy",e);return em._create(r,n)}function rk(e,t,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new Re(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(t)&&n.indexOf("/")!==-1)throw new Re(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Dt.fromString(n));if(!Ve.isDocumentKey(r))throw new Re(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CS(e,new Ve(r))}if(n instanceof Mn)return CS(e,n._key);throw new Re(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(n)}.`)}function ik(e,t){if(!Array.isArray(e)||e.length===0)throw new Re(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _I(e,t){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Re(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Re(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class TI{convertValue(t,n="none"){switch(Qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ga(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ze()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return os(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>rn(a.doubleValue));return new Qp(o)}convertGeoPoint(t){return new Gp(rn(t.latitude),rn(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=wb(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const n=aa(t);return new pn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Dt.fromString(t);Tt(HT(r));const i=new pl(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return i.isEqual(n)||yo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function II(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xb extends kI{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gc extends Xb{data(t={}){return super.data(t)}}class Jb{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const s=new Gc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const s=new Gc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:$L(a.type),doc:s,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $L(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xn(e){e=nr(e,Mn);const t=nr(e.firestore,Di);return PL(rd(t),e._key).then(n=>jI(t,e,n))}class Zb extends TI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function Ht(e){e=nr(e,Eo);const t=nr(e.firestore,Di),n=rd(t),r=new Zb(t);return CI(e._query),OL(n,e._query).then(i=>new Jb(t,r,e,i))}function Jr(e,t,n){e=nr(e,Mn);const r=nr(e.firestore,Di),i=II(e.converter,t,n);return ld(r,[bI(Yp(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Hr.none())])}function an(e,t,n,...r){e=nr(e,Mn);const i=nr(e.firestore,Di),o=Yp(i);let a;return a=typeof(t=mn(t))=="string"||t instanceof id?zL(o,"updateDoc",e._key,t,n,r):DL(o,"updateDoc",e._key,t),ld(i,[a.toMutation(e._key,Hr.exists(!0))])}function Kr(e){return ld(nr(e.firestore,Di),[new _b(e._key,Hr.none())])}function bo(e,t){const n=nr(e.firestore,Di),r=Le(e),i=II(e.converter,t);return ld(n,[bI(Yp(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function Et(e,...t){var n,r,i;e=mn(e);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||nk(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nk(t[a])){const f=t[a];t[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,h;if(e instanceof Mn)u=nr(e.firestore,Di),h=Dp(e._key.path),c={next:f=>{t[a]&&t[a](jI(u,e,f))},error:t[a+1],complete:t[a+2]};else{const f=nr(e,Eo);u=nr(f.firestore,Di),h=f._query;const v=new Zb(u);c={next:b=>{t[a]&&t[a](new Jb(u,v,f,b))},error:t[a+1],complete:t[a+2]},CI(e._query)}return function(f,v,b,C){const S=new Vb(C),T=new $b(v,S,b);return f.asyncQueue.enqueueAndForget(async()=>Fb(await Of(f),T)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Bb(await Of(f),T))}}(rd(u),h,s,c)}function ld(e,t){return function(n,r){const i=new so;return n.asyncQueue.enqueueAndForget(async()=>xL(await RL(n),r,i)),i.promise}(rd(e),t)}function jI(e,t,n){const r=n.docs.get(t._key),i=new Zb(e);return new Xb(e,i,t._key,r,new Bs(n.hasPendingWrites,n.fromCache),t.converter)}function Nv(){return new Hb("serverTimestamp")}(function(e,t=!0){(function(n){Fl=n})(is),qa(new ia("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Di(new JM(n.getProvider("auth-internal")),new n6(n.getProvider("app-check-internal")),function(s,c){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Re(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(s.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ji(bS,"4.7.3",e),ji(bS,"4.7.3","esm2017")})();const ex=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:TI,Bytes:Ya,CollectionReference:lo,DocumentReference:Mn,DocumentSnapshot:Xb,FieldPath:id,FieldValue:od,Firestore:Di,FirestoreError:Re,GeoPoint:Gp,Query:Eo,QueryCompositeFilterConstraint:Zp,QueryConstraint:Yb,QueryDocumentSnapshot:Gc,QueryFieldFilterConstraint:sd,QueryOrderByConstraint:em,QuerySnapshot:Jb,SnapshotMetadata:Bs,Timestamp:pn,VectorValue:Qp,_AutoId:vb,_ByteString:_n,_DatabaseId:pl,_DocumentKey:Ve,_EmptyAuthCredentialsProvider:pT,_FieldPath:Cn,_cast:nr,_logWarn:Ka,_validateIsNotUsedTogether:pI,addDoc:bo,collection:Fe,connectFirestoreEmulator:mI,deleteDoc:Kr,doc:Le,ensureFirestoreConfigured:rd,executeWrite:ld,getDoc:xn,getDocs:Ht,getFirestore:gI,onSnapshot:Et,orderBy:EI,query:Tr,serverTimestamp:Nv,setDoc:Jr,updateDoc:an,where:Ir},Symbol.toStringTag,{value:"Module"}));function tx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function RI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PI=RI,OI=new Qu("auth","Firebase",RI());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nf=new pb("@firebase/auth");function UL(e,...t){Nf.logLevel<=mt.WARN&&Nf.warn(`Auth (${is}): ${e}`,...t)}function zh(e,...t){Nf.logLevel<=mt.ERROR&&Nf.error(`Auth (${is}): ${e}`,...t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yi(e,...t){throw nx(e,...t)}function Oi(e,...t){return nx(e,...t)}function AI(e,t,n){const r=Object.assign(Object.assign({},PI()),{[t]:n});return new Qu("auth","Firebase",r).create(t,{appName:e.name})}function co(e){return AI(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nx(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return OI.create(e,...t)}function Ye(e,t,...n){if(!e)throw nx(t,...n)}function ro(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zh(t),new Error(t)}function xo(e,t){e||ro(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function VL(){return ok()==="http:"||ok()==="https:"}function ok(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VL()||j4()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cd{constructor(t,n){this.shortDelay=t,this.longDelay=n,xo(n>t,"Short delay should be less than long delay!"),this.isMobile=_4()||R4()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rx(e,t){xo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NI{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GL=new cd(3e4,6e4);function ma(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ga(e,t,n,r,i={}){return MI(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=Yu(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},o);return I4()||(u.referrerPolicy="no-referrer"),NI.fetch()(LI(e,e.config.apiHost,n,s),u)})}async function MI(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},KL),t);try{const i=new YL(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw sh(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw sh(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw sh(e,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AI(e,h,u);yi(e,h)}}catch(i){if(i instanceof $i)throw i;yi(e,"network-request-failed",{message:String(i)})}}async function ud(e,t,n,r,i={}){const o=await ga(e,t,n,r,i);return"mfaPendingCredential"in o&&yi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function LI(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?rx(e.config,i):`${e.config.apiScheme}://${i}`}function QL(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YL{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),GL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oi(e,t,r);return i.customData._tokenResponse=n,i}function ak(e){return e!==void 0&&e.enterprise!==void 0}class XL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return QL(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function JL(e,t){return ga(e,"GET","/v2/recaptchaConfig",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ZL(e,t){return ga(e,"POST","/v1/accounts:delete",t)}async function DI(e,t){return ga(e,"POST","/v1/accounts:lookup",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zI(e,t=!1){const n=mn(e),r=await n.getIdToken(t),i=ix(r);Ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Qc(Hg(i.auth_time)),issuedAtTime:Qc(Hg(i.iat)),expirationTime:Qc(Hg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hg(e){return Number(e)*1e3}function ix(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y_(n);return i?JSON.parse(i):(zh("Failed to decode base64 JWT payload"),null)}catch(i){return zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sk(e){const t=ix(e);return Ye(t,"internal-error"),Ye(typeof t.exp<"u","internal-error"),Ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ru(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof $i&&eD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function eD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Mf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ru(e,DI(n,{idToken:r}));Ye(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?BI(o.providerUserInfo):[],s=nD(e.providerData,a),c=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),h=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Lv(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function FI(e){const t=mn(e);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nD(e,t){return[...e.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function BI(e){return e.map(t=>{var{providerId:n}=t,r=tx(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rD(e,t){const n=await MI(e,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=LI(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",NI.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iD(e,t){return ga(e,"POST","/v2/accounts:revokeToken",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ye(t.idToken,"internal-error"),Ye(typeof t.idToken<"u","internal-error"),Ye(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sk(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ye(t.length!==0,"internal-error");const n=sk(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await rD(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Xs;return r&&(Ye(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(Ye(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return ro("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Po(e,t){Ye(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class io{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=tx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,t));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zI(this,t)}reload(){return FI(this)}_assign(t){this!==t&&(Ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new io(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(co(this.auth));const t=await this.getIdToken();return await Ru(this,ZL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(s=n.tenantId)!==null&&s!==void 0?s:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:P,isAnonymous:M,providerData:N,stsTokenManager:_}=n;Ye(y&&_,t,"internal-error");const p=Xs.fromJSON(this.name,_);Ye(typeof y=="string",t,"internal-error"),Po(f,t.name),Po(v,t.name),Ye(typeof P=="boolean",t,"internal-error"),Ye(typeof M=="boolean",t,"internal-error"),Po(b,t.name),Po(C,t.name),Po(S,t.name),Po(T,t.name),Po(E,t.name),Po(g,t.name);const m=new io({uid:y,auth:t,email:v,emailVerified:P,displayName:f,isAnonymous:M,photoURL:C,phoneNumber:b,tenantId:S,stsTokenManager:p,createdAt:E,lastLoginAt:g});return N&&Array.isArray(N)&&(m.providerData=N.map(w=>Object.assign({},w))),T&&(m._redirectEventId=T),m}static async _fromIdTokenResponse(t,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const o=new io({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Mf(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?BI(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Xs;s.updateFromIdToken(r);const c=new io({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lk=new Map;function oo(e){xo(e instanceof Function,"Expected a class definition");let t=lk.get(e);return t?(xo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lk.set(e,t),t)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}WI.type="NONE";const Dv=WI;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fh(e,t,n){return`firebase:${e}:${t}:${n}`}class Js{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?io._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Js(oo(Dv),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||oo(Dv);const a=Fh(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const h=await u._get(a);if(h){const f=io._fromJSON(t,h);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Js(o,t,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Js(o,t,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ck(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($I(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KI(t))return"Blackberry";if(GI(t))return"Webos";if(UI(t))return"Safari";if((t.includes("chrome/")||VI(t))&&!t.includes("edge/"))return"Chrome";if(HI(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $I(e=Yn()){return/firefox\//i.test(e)}function UI(e=Yn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VI(e=Yn()){return/crios\//i.test(e)}function qI(e=Yn()){return/iemobile/i.test(e)}function HI(e=Yn()){return/android/i.test(e)}function KI(e=Yn()){return/blackberry/i.test(e)}function GI(e=Yn()){return/webos/i.test(e)}function ox(e=Yn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function oD(e=Yn()){var t;return ox(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function aD(){return P4()&&document.documentMode===10}function QI(e=Yn()){return ox(e)||HI(e)||GI(e)||KI(e)||/windows phone/i.test(e)||qI(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YI(e,t=[]){let n;switch(e){case"Browser":n=ck(Yn());break;case"Worker":n=`${ck(Yn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const c=t(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lD(e,t={}){return ga(e,"GET","/v2/passwordPolicy",ma(e,t))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cD=6;class uD{constructor(t){var n,r,i,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:cD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,a,s;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dD{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uk(this),this.idTokenSubscription=new uk(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await DI(this,{idToken:t}),r=await io._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===s)&&c!=null&&c.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(co(this));const n=t?mn(t):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lD(this),n=new uD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iD(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&oo(t)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=t.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&UL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ss(e){return mn(e)}class uk{constructor(t){this.auth=t,this.observer=null,this.addObserver=F4(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hD(e){tm=e}function XI(e){return tm.loadJS(e)}function fD(){return tm.recaptchaEnterpriseScript}function pD(){return tm.gapiScript}function mD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const gD="recaptcha-enterprise",yD="NO_RECAPTCHA";class vD{constructor(t){this.type=gD,this.auth=ss(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{JL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new XL(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(c=>{s(c)})})}function i(o,a,s){const c=window.grecaptcha;ak(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(u=>{a(u)}).catch(()=>{a(yD)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&ak(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fD();c.length!==0&&(c+=s),XI(c).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function dk(e,t,n,r=!1){const i=new vD(e);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zv(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await dk(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dk(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JI(e,t){const n=Mp(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Cf(i,t??{}))return r;yi(r,"already-initialized")}return n.initialize({options:t})}function bD(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function ZI(e,t,n){const r=ss(e);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=ej(t),{host:a,port:s}=xD(t),c=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),wD()}function ej(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xD(e){const t=ej(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hk(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:hk(a)}}}function hk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ro("not implemented")}_getIdTokenResponse(t){return ro("not implemented")}_linkToIdToken(t,n){return ro("not implemented")}_getReauthenticationResolver(t){return ro("not implemented")}}async function SD(e,t){return ga(e,"POST","/v1/accounts:signUp",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kD(e,t){return ud(e,"POST","/v1/accounts:signInWithPassword",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function CD(e,t){return ud(e,"POST","/v1/accounts:signInWithEmailLink",ma(e,t))}async function ED(e,t){return ud(e,"POST","/v1/accounts:signInWithEmailLink",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bl extends nm{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new bl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new bl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zv(t,n,"signInWithPassword",kD);case"emailLink":return CD(t,{email:this._email,oobCode:this._password});default:yi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zv(t,r,"signUpPassword",SD);case"emailLink":return ED(t,{idToken:n,email:this._email,oobCode:this._password});default:yi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Zs(e,t){return ud(e,"POST","/v1/accounts:signInWithIdp",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _D="http://localhost";class la extends nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new la(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=tx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new la(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Zs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Zs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Zs(t,n)}buildRequest(){const t={requestUri:_D,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yu(n)}return t}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ID(e){const t=Ic(jc(e)).link,n=t?Ic(jc(t)).deep_link_id:null,r=Ic(jc(e)).deep_link_id;return(r?Ic(jc(r)).link:null)||r||n||t||e}class rm{constructor(t){var n,r,i,o,a,s;const c=Ic(jc(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=TD((i=c.mode)!==null&&i!==void 0?i:null);Ye(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const n=ID(t);try{return new rm(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(t,n){return bl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=rm.parseLink(n);return Ye(r,"argument-error"),bl._fromEmailAndCode(t,r.code,r.tenantId)}}ls.PROVIDER_ID="password";ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tj{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dd extends tj{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yi extends dd{constructor(){super("facebook.com")}static credential(t){return la._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yi.credential(t.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi extends dd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return la._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ji extends dd{constructor(){super("github.com")}static credential(t){return la._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ji.credential(t.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zi extends dd{constructor(){super("twitter.com")}static credential(t,n){return la._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function jD(e,t){return ud(e,"POST","/v1/accounts:signUp",ma(e,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await io._fromIdTokenResponse(t,r,i),a=fk(r);return new Xa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=fk(r);return new Xa({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function fk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lf extends $i{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Lf(t,n,r,i)}}function nj(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(e,i,t,r):i})}async function RD(e,t,n=!1){const r=await Ru(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xa._forOperation(e,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PD(e,t,n=!1){const{auth:r}=e;if(Ei(r.app))return Promise.reject(co(r));const i="reauthenticate";try{const o=await Ru(e,nj(r,i,t,e),n);Ye(o.idToken,r,"internal-error");const a=ix(o.idToken);Ye(a,r,"internal-error");const{sub:s}=a;return Ye(e.uid===s,r,"user-mismatch"),Xa._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rj(e,t,n=!1){if(Ei(e.app))return Promise.reject(co(e));const r="signIn",i=await nj(e,r,t),o=await Xa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ij(e,t){return rj(ss(e),t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function oj(e){const t=ss(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ac(e,t,n){if(Ei(e.app))return Promise.reject(co(e));const r=ss(e),i=await zv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jD).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&oj(e),a}),o=await Xa._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function aj(e,t,n){return Ei(e.app)?Promise.reject(co(e)):ij(mn(e),ls.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oj(e),r})}function sj(e,t,n,r){return mn(e).onIdTokenChanged(t,n,r)}function lj(e,t,n){return mn(e).beforeAuthStateChanged(t,n)}function Ui(e,t,n,r){return mn(e).onAuthStateChanged(t,n,r)}function cj(e){return mn(e).signOut()}const Df="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uj{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OD=1e3,AD=10;class dj extends uj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);aD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,AD):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dj.type="LOCAL";const hj=dj;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fj extends uj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fj.type="SESSION";const ax=fj;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ND(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class im{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new im(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await ND(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sx(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=sx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ai(){return window}function LD(e){Ai().location.href=e}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pj(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function DD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function FD(){return pj()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mj="firebaseLocalStorageDb",BD=1,zf="firebaseLocalStorage",gj="fbase_key";class hd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(e,t){return e.transaction([zf],t?"readwrite":"readonly").objectStore(zf)}function WD(){const e=indexedDB.deleteDatabase(mj);return new hd(e).toPromise()}function Fv(){const e=indexedDB.open(mj,BD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(zf,{keyPath:gj})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(zf)?t(r):(r.close(),await WD(),t(await Fv()))})})}async function pk(e,t,n){const r=om(e,!0).put({[gj]:t,value:n});return new hd(r).toPromise()}async function $D(e,t){const n=om(e,!1).get(t),r=await new hd(n).toPromise();return r===void 0?null:r.value}function mk(e,t){const n=om(e,!0).delete(t);return new hd(n).toPromise()}const UD=800,VD=3;class yj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>VD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(FD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new MD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fv();return await pk(t,Df,"1"),await mk(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pk(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>$D(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mk(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=om(i,!1).getAll();return new hd(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yj.type="LOCAL";const vj=yj;new cd(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qD(e,t){return t?oo(t):(Ye(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lx extends nm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function HD(e){return rj(e.auth,new lx(e),e.bypassAuthState)}function KD(e){const{auth:t,user:n}=e;return Ye(n,t,"internal-error"),PD(n,new lx(e),e.bypassAuthState)}async function GD(e){const{auth:t,user:n}=e;return Ye(n,t,"internal-error"),RD(n,new lx(e),e.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bj{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:yi(this.auth,"internal-error")}}resolve(t){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QD=new cd(2e3,1e4);class Ws extends bj{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ye(t,this.auth,"internal-error"),t}async onExecution(){xo(this.filter.length===1,"Popup operations only handle one event");const t=sx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QD.get())};t()}}Ws.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YD="pendingRedirect",Bh=new Map;class XD extends bj{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Bh.get(this.auth._key());if(!t){try{const n=await JD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(n){t=()=>Promise.reject(n)}Bh.set(this.auth._key(),t)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(e,t){const n=t8(t),r=e8(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZD(e,t){Bh.set(e._key(),t)}function e8(e){return oo(e._redirectPersistence)}function t8(e){return Fh(YD,e.config.apiKey,e.name)}async function n8(e,t,n=!1){if(Ei(e.app))return Promise.reject(co(e));const r=ss(e),i=qD(r,t),o=await new XD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r8=10*60*1e3;class i8{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o8(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xj(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=r8&&this.cachedEventUids.clear(),this.cachedEventUids.has(gk(t))}saveEventToCache(t){this.cachedEventUids.add(gk(t)),this.lastProcessedEventTime=Date.now()}}function gk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xj({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function o8(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xj(e);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function a8(e,t={}){return ga(e,"GET","/v1/projects",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l8=/^https?/;async function c8(e){if(e.config.emulator)return;const{authorizedDomains:t}=await a8(e);for(const n of t)try{if(u8(n))return}catch{}yi(e,"unauthorized-domain")}function u8(e){const t=Mv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l8.test(n))return!1;if(s8.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d8=new cd(3e4,6e4);function yk(){const e=Ai().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function h8(e){return new Promise((t,n)=>{var r,i,o;function a(){yk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yk(),n(Oi(e,"network-request-failed"))},timeout:d8.get()})}if(!((i=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)a();else{const s=mD("iframefcb");return Ai()[s]=()=>{gapi.load?a():n(Oi(e,"network-request-failed"))},XI(`${pD()}?onload=${s}`).catch(c=>n(c))}}).catch(t=>{throw Wh=null,t})}let Wh=null;function f8(e){return Wh=Wh||h8(e),Wh}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p8=new cd(5e3,15e3),m8="__/auth/iframe",g8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b8(e){const t=e.config;Ye(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rx(t,g8):`https://${e.config.authDomain}/${m8}`,r={apiKey:t.apiKey,appName:e.name,v:is},i=v8.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yu(r).slice(1)}`}async function x8(e){const t=await f8(e),n=Ai().gapi;return Ye(n,e,"internal-error"),t.open({where:document.body,url:b8(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Oi(e,"network-request-failed"),s=Ai().setTimeout(()=>{o(a)},p8.get());function c(){Ai().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S8=500,k8=600,C8="_blank",E8="http://localhost";class vk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _8(e,t,n,r=S8,i=k8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},w8),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Yn().toLowerCase();n&&(s=VI(u)?C8:n),$I(u)&&(t=t||E8,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[b,C])=>`${v}${b}=${C},`,"");if(oD(u)&&s!=="_self")return T8(t||"",s),new vk(null);const f=window.open(t||"",s,h);Ye(f,e,"popup-blocked");try{f.focus()}catch{}return new vk(f)}function T8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I8="__/auth/handler",j8="emulator/auth/handler",R8=encodeURIComponent("fac");async function bk(e,t,n,r,i,o){Ye(e.config.authDomain,e,"auth-domain-config-required"),Ye(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:is,eventId:i};if(t instanceof tj){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",z4(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(t instanceof dd){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const h of Object.keys(s))s[h]===void 0&&delete s[h];const c=await e._getAppCheckToken(),u=c?`#${R8}=${encodeURIComponent(c)}`:"";return`${P8(e)}?${Yu(s).slice(1)}${u}`}function P8({config:e}){return e.emulator?rx(e,j8):`https://${e.authDomain}/${I8}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kg="webStorageSupport";class O8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ax,this._completeRedirectFn=n8,this._overrideRedirectResult=ZD}async _openPopup(t,n,r,i){var o;xo((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await bk(t,n,r,Mv(),i);return _8(t,a,sx())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await bk(t,n,r,Mv(),i);return LD(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await x8(t),r=new i8(t);return n.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kg,{type:Kg},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Kg];o!==void 0&&n(!!o),yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c8(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QI()||UI()||ox()}}const wj=O8;var xk="@firebase/auth",wk="1.7.9";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M8(e){qa(new ia("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ye(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YI(e)},u=new dD(r,i,o,c);return bD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),qa(new ia("auth-internal",t=>{const n=ss(t.getProvider("auth").getImmediate());return(r=>new A8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(xk,wk,N8(e)),ji(xk,wk,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L8=5*60,D8=eT("authIdTokenMaxAge")||L8;let Sk=null;const z8=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D8)return;const i=n==null?void 0:n.token;Sk!==i&&(Sk=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ar(e=gb()){const t=Mp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=JI(e,{popupRedirectResolver:wj,persistence:[vj,hj,ax]}),r=eT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=z8(o.toString());lj(n,a,()=>a(n.currentUser)),sj(n,s=>a(s))}}const i=X_("auth");return i&&ZI(n,`http://${i}`),n}function F8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}hD({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",F8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M8("Browser");const Sj=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:rm,AuthCredential:nm,EmailAuthCredential:bl,EmailAuthProvider:ls,FacebookAuthProvider:Yi,GithubAuthProvider:Ji,GoogleAuthProvider:Xi,OAuthCredential:la,TwitterAuthProvider:Zi,beforeAuthStateChanged:lj,browserLocalPersistence:hj,browserPopupRedirectResolver:wj,browserSessionPersistence:ax,connectAuthEmulator:ZI,createUserWithEmailAndPassword:Ac,getAuth:Ar,getIdTokenResult:zI,inMemoryPersistence:Dv,indexedDBLocalPersistence:vj,initializeAuth:JI,onAuthStateChanged:Ui,onIdTokenChanged:sj,prodErrorMap:PI,reload:FI,signInWithCredential:ij,signInWithEmailAndPassword:aj,signOut:cj},Symbol.toStringTag,{value:"Module"}));/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kj="firebasestorage.googleapis.com",B8="storageBucket",W8=2*60*1e3,$8=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vi extends $i{constructor(t,n,r=0){super(Gg(t),`Firebase Storage: ${n} (${Gg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Gg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function Gg(e){return"storage/"+e}function U8(){const e="An unknown error occurred, please check the error payload for server response.";return new Vi(zi.UNKNOWN,e)}function V8(){return new Vi(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q8(){return new Vi(zi.CANCELED,"User canceled the upload/download.")}function H8(e){return new Vi(zi.INVALID_URL,"Invalid URL '"+e+"'.")}function K8(e){return new Vi(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function kk(e){return new Vi(zi.INVALID_ARGUMENT,e)}function Cj(){return new Vi(zi.APP_DELETED,"The Firebase app was deleted.")}function G8(e){return new Vi(zi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=hi.makeFromUrl(t,n)}catch{return new hi(t,"")}if(r.path==="")return r;throw K8(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${f}/${h}/b/${i}/o${v}`,"i"),C={bucket:1,path:3},S=n===kj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${S}/${i}/${T}`,"i"),g=[{regex:s,indices:c,postModify:o},{regex:b,indices:C,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<g.length;y++){const P=g[y],M=P.regex.exec(t);if(M){const N=M[P.indices.bucket];let _=M[P.indices.path];_||(_=""),r=new hi(N,_),P.postModify(r);break}}if(r==null)throw H8(t);return r}}class Q8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Y8(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function h(...T){u||(u=!0,t.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,e(b,c())},T)}function v(){o&&clearTimeout(o)}function b(T,...E){if(u){v();return}if(T){v(),h.call(null,T,...E);return}if(c()||a){v(),h.call(null,T,...E);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let C=!1;function S(T){C||(C=!0,v(),!u&&(i!==null?(T||(s=2),clearTimeout(i),f(0)):T||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,S(!0)},n),S}function X8(e){e(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function J8(e){return e!==void 0}function Ck(e,t,n,r){if(r<t)throw kk(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw kk(`Invalid value for '${e}'. Expected ${n} or less.`)}function Z8(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ff;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ff||(Ff={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e9(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t9{constructor(t,n,r,i,o,a,s,c,u,h,f,v=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,C)=>{this.resolve_=b,this.reject_=C,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new lh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Ff.NO_ERROR,c=o.getStatus();if(!s||e9(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Ff.ABORT;r(!1,new lh(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new lh(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());J8(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=U8();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?Cj():q8();a(c)}else{const c=V8();a(c)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=Y8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&X8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function n9(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function r9(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function i9(e,t){t&&(e["X-Firebase-GMPID"]=t)}function o9(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function a9(e,t,n,r,i,o,a=!0){const s=Z8(e.urlParams),c=e.url+s,u=Object.assign({},e.headers);return i9(u,t),n9(u,n),r9(u,o),o9(u,r),new t9(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function s9(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function l9(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bf{constructor(t,n){this._service=t,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Bf(t,n)}get root(){const t=new hi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l9(this._location.path)}get storage(){return this._service}get parent(){const t=s9(this._location.path);if(t===null)return null;const n=new hi(this._location.bucket,t);return new Bf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw G8(t)}}function Ek(e,t){const n=t==null?void 0:t[B8];return n==null?null:hi.makeFromBucketSpec(n,e)}function c9(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:tT(i,e.app.options.projectId))}class u9{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=kj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W8,this._maxUploadRetryTime=$8,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=Ek(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,t):this._bucket=Ek(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ck("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ck("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bf(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new Q8(Cj());{const a=a9(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const _k="@firebase/storage",Tk="0.13.2";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ej="storage";function d9(e=gb(),t){e=mn(e);const n=Mp(e,Ej).getImmediate({identifier:t}),r=J_("storage");return r&&h9(n,...r),n}function h9(e,t,n,r={}){c9(e,t,n,r)}function f9(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new u9(n,r,i,t,is)}function p9(){qa(new ia(Ej,f9,"PUBLIC").setMultipleInstances(!0)),ji(_k,Tk,""),ji(_k,Tk,"esm2017")}p9();const m9={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},am=iT(m9),re=gI(am),_a=Ar(am);d9(am);const g9=Object.freeze(Object.defineProperty({__proto__:null,app:am,auth:_a,db:re},Symbol.toStringTag,{value:"Module"}));function y9(e,t,n,r){const i=c=>c*Math.PI/180,o=i(n-e),a=i(r-t),s=Math.sin(o/2)**2+Math.cos(i(e))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function v9(){const[e,t]=x.useState([]),[n,r]=x.useState(null),[i,o]=x.useState(""),a=gr();x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),x.useEffect(()=>{async function c(){const u=(await Ht(Fe(re,"users"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>h.role==="medicine-manager");t(u)}c()},[]);const s=e.map(c=>{let u=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(u=y9(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:u}}).sort((c,u)=>c.distance-u.distance).filter(c=>{var u;return(u=c.businessName)==null?void 0:u.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:e.length>0?`${e.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>o(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:s.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&a(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),s.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),e.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}const Pu={black:"#000",white:"#fff"},gs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ys={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},vs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},bs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},pc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},b9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ja(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const x9=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),xl="$$material";function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(null,arguments)}function ke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function w9(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function S9(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var k9=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(S9(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=w9(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Un="-ms-",Wf="-moz-",xt="-webkit-",_j="comm",cx="rule",ux="decl",C9="@import",Tj="@keyframes",E9="@layer",_9=Math.abs,sm=String.fromCharCode,T9=Object.assign;function I9(e,t){return On(e,0)^45?(((t<<2^On(e,0))<<2^On(e,1))<<2^On(e,2))<<2^On(e,3):0}function Ij(e){return e.trim()}function j9(e,t){return(e=t.exec(e))?e[0]:e}function wt(e,t,n){return e.replace(t,n)}function Bv(e,t){return e.indexOf(t)}function On(e,t){return e.charCodeAt(t)|0}function Ou(e,t,n){return e.slice(t,n)}function Si(e){return e.length}function dx(e){return e.length}function ch(e,t){return t.push(e),e}function R9(e,t){return e.map(t).join("")}var lm=1,wl=1,jj=0,mr=0,dn=0,Ul="";function cm(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:lm,column:wl,length:a,return:""}}function mc(e,t){return T9(cm("",null,null,"",null,null,0),e,{length:-e.length},t)}function P9(){return dn}function O9(){return dn=mr>0?On(Ul,--mr):0,wl--,dn===10&&(wl=1,lm--),dn}function Cr(){return dn=mr<jj?On(Ul,mr++):0,wl++,dn===10&&(wl=1,lm++),dn}function Ni(){return On(Ul,mr)}function $h(){return mr}function fd(e,t){return Ou(Ul,e,t)}function Au(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rj(e){return lm=wl=1,jj=Si(Ul=e),mr=0,[]}function Pj(e){return Ul="",e}function Uh(e){return Ij(fd(mr-1,Wv(e===91?e+2:e===40?e+1:e)))}function A9(e){for(;(dn=Ni())&&dn<33;)Cr();return Au(e)>2||Au(dn)>3?"":" "}function N9(e,t){for(;--t&&Cr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return fd(e,$h()+(t<6&&Ni()==32&&Cr()==32))}function Wv(e){for(;Cr();)switch(dn){case e:return mr;case 34:case 39:e!==34&&e!==39&&Wv(dn);break;case 40:e===41&&Wv(e);break;case 92:Cr();break}return mr}function M9(e,t){for(;Cr()&&e+dn!==57&&!(e+dn===84&&Ni()===47););return"/*"+fd(t,mr-1)+"*"+sm(e===47?e:Cr())}function L9(e){for(;!Au(Ni());)Cr();return fd(e,mr)}function D9(e){return Pj(Vh("",null,null,null,[""],e=Rj(e),0,[0],e))}function Vh(e,t,n,r,i,o,a,s,c){for(var u=0,h=0,f=a,v=0,b=0,C=0,S=1,T=1,E=1,g=0,y="",P=i,M=o,N=r,_=y;T;)switch(C=g,g=Cr()){case 40:if(C!=108&&On(_,f-1)==58){Bv(_+=wt(Uh(g),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:_+=Uh(g);break;case 9:case 10:case 13:case 32:_+=A9(C);break;case 92:_+=N9($h()-1,7);continue;case 47:switch(Ni()){case 42:case 47:ch(z9(M9(Cr(),$h()),t,n),c);break;default:_+="/"}break;case 123*S:s[u++]=Si(_)*E;case 125*S:case 59:case 0:switch(g){case 0:case 125:T=0;case 59+h:E==-1&&(_=wt(_,/\f/g,"")),b>0&&Si(_)-f&&ch(b>32?jk(_+";",r,n,f-1):jk(wt(_," ","")+";",r,n,f-2),c);break;case 59:_+=";";default:if(ch(N=Ik(_,t,n,u,h,i,s,y,P=[],M=[],f),o),g===123)if(h===0)Vh(_,t,N,N,P,o,f,s,M);else switch(v===99&&On(_,3)===110?100:v){case 100:case 108:case 109:case 115:Vh(e,N,N,r&&ch(Ik(e,N,N,0,0,i,s,y,i,P=[],f),M),i,M,f,s,r?P:M);break;default:Vh(_,N,N,N,[""],M,0,s,M)}}u=h=b=0,S=E=1,y=_="",f=a;break;case 58:f=1+Si(_),b=C;default:if(S<1){if(g==123)--S;else if(g==125&&S++==0&&O9()==125)continue}switch(_+=sm(g),g*S){case 38:E=h>0?1:(_+="\f",-1);break;case 44:s[u++]=(Si(_)-1)*E,E=1;break;case 64:Ni()===45&&(_+=Uh(Cr())),v=Ni(),h=f=Si(y=_+=L9($h())),g++;break;case 45:C===45&&Si(_)==2&&(S=0)}}return o}function Ik(e,t,n,r,i,o,a,s,c,u,h){for(var f=i-1,v=i===0?o:[""],b=dx(v),C=0,S=0,T=0;C<r;++C)for(var E=0,g=Ou(e,f+1,f=_9(S=a[C])),y=e;E<b;++E)(y=Ij(S>0?v[E]+" "+g:wt(g,/&\f/g,v[E])))&&(c[T++]=y);return cm(e,t,n,i===0?cx:s,c,u,h)}function z9(e,t,n){return cm(e,t,n,_j,sm(P9()),Ou(e,2,-2),0)}function jk(e,t,n,r){return cm(e,t,n,ux,Ou(e,0,r),Ou(e,r+1,-1),r)}function el(e,t){for(var n="",r=dx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function F9(e,t,n,r){switch(e.type){case E9:if(e.children.length)break;case C9:case ux:return e.return=e.return||e.value;case _j:return"";case Tj:return e.return=e.value+"{"+el(e.children,r)+"}";case cx:e.value=e.props.join(",")}return Si(n=el(e.children,r))?e.return=e.value+"{"+n+"}":""}function B9(e){var t=dx(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function W9(e){return function(t){t.root||(t=t.return)&&e(t)}}function Oj(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var $9=function(e,t,n){for(var r=0,i=0;r=i,i=Ni(),r===38&&i===12&&(t[n]=1),!Au(i);)Cr();return fd(e,mr)},U9=function(e,t){var n=-1,r=44;do switch(Au(r)){case 0:r===38&&Ni()===12&&(t[n]=1),e[n]+=$9(mr-1,t,n);break;case 2:e[n]+=Uh(r);break;case 4:if(r===44){e[++n]=Ni()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=sm(r)}while(r=Cr());return e},V9=function(e,t){return Pj(U9(Rj(e),t))},Rk=new WeakMap,q9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Rk.get(n))&&!r){Rk.set(e,!0);for(var i=[],o=V9(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},H9=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Aj(e,t){switch(I9(e,t)){case 5103:return xt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xt+e+Wf+e+Un+e+e;case 6828:case 4268:return xt+e+Un+e+e;case 6165:return xt+e+Un+"flex-"+e+e;case 5187:return xt+e+wt(e,/(\w+).+(:[^]+)/,xt+"box-$1$2"+Un+"flex-$1$2")+e;case 5443:return xt+e+Un+"flex-item-"+wt(e,/flex-|-self/,"")+e;case 4675:return xt+e+Un+"flex-line-pack"+wt(e,/align-content|flex-|-self/,"")+e;case 5548:return xt+e+Un+wt(e,"shrink","negative")+e;case 5292:return xt+e+Un+wt(e,"basis","preferred-size")+e;case 6060:return xt+"box-"+wt(e,"-grow","")+xt+e+Un+wt(e,"grow","positive")+e;case 4554:return xt+wt(e,/([^-])(transform)/g,"$1"+xt+"$2")+e;case 6187:return wt(wt(wt(e,/(zoom-|grab)/,xt+"$1"),/(image-set)/,xt+"$1"),e,"")+e;case 5495:case 3959:return wt(e,/(image-set\([^]*)/,xt+"$1$`$1");case 4968:return wt(wt(e,/(.+:)(flex-)?(.*)/,xt+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xt+e+e;case 4095:case 3583:case 4068:case 2532:return wt(e,/(.+)-inline(.+)/,xt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Si(e)-1-t>6)switch(On(e,t+1)){case 109:if(On(e,t+4)!==45)break;case 102:return wt(e,/(.+:)(.+)-([^]+)/,"$1"+xt+"$2-$3$1"+Wf+(On(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Bv(e,"stretch")?Aj(wt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(On(e,t+1)!==115)break;case 6444:switch(On(e,Si(e)-3-(~Bv(e,"!important")&&10))){case 107:return wt(e,":",":"+xt)+e;case 101:return wt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xt+(On(e,14)===45?"inline-":"")+"box$3$1"+xt+"$2$3$1"+Un+"$2box$3")+e}break;case 5936:switch(On(e,t+11)){case 114:return xt+e+Un+wt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xt+e+Un+wt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xt+e+Un+wt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xt+e+Un+e+e}return e}var K9=function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ux:e.return=Aj(e.value,e.length);break;case Tj:return el([mc(e,{value:wt(e.value,"@","@"+xt)})],r);case cx:if(e.length)return R9(e.props,function(i){switch(j9(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return el([mc(e,{props:[wt(i,/:(read-\w+)/,":"+Wf+"$1")]})],r);case"::placeholder":return el([mc(e,{props:[wt(i,/:(plac\w+)/,":"+xt+"input-$1")]}),mc(e,{props:[wt(i,/:(plac\w+)/,":"+Wf+"$1")]}),mc(e,{props:[wt(i,/:(plac\w+)/,Un+"input-$1")]})],r)}return""})}},G9=[K9],Nj=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(C){var S=C.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var r=e.stylisPlugins||G9,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var S=C.getAttribute("data-emotion").split(" "),T=1;T<S.length;T++)i[S[T]]=!0;a.push(C)});var s,c=[q9,H9];{var u,h=[F9,W9(function(C){u.insert(C)})],f=B9(c.concat(r,h)),v=function(C){return el(D9(C),f)};s=function(C,S,T,E){u=T,v(C?C+"{"+S.styles+"}":S.styles),E&&(b.inserted[S.name]=!0)}}var b={key:t,sheet:new k9({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return b.sheet.hydrate(a),b},Mj={exports:{}},It={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tn=typeof Symbol=="function"&&Symbol.for,hx=Tn?Symbol.for("react.element"):60103,fx=Tn?Symbol.for("react.portal"):60106,um=Tn?Symbol.for("react.fragment"):60107,dm=Tn?Symbol.for("react.strict_mode"):60108,hm=Tn?Symbol.for("react.profiler"):60114,fm=Tn?Symbol.for("react.provider"):60109,pm=Tn?Symbol.for("react.context"):60110,px=Tn?Symbol.for("react.async_mode"):60111,mm=Tn?Symbol.for("react.concurrent_mode"):60111,gm=Tn?Symbol.for("react.forward_ref"):60112,ym=Tn?Symbol.for("react.suspense"):60113,Q9=Tn?Symbol.for("react.suspense_list"):60120,vm=Tn?Symbol.for("react.memo"):60115,bm=Tn?Symbol.for("react.lazy"):60116,Y9=Tn?Symbol.for("react.block"):60121,X9=Tn?Symbol.for("react.fundamental"):60117,J9=Tn?Symbol.for("react.responder"):60118,Z9=Tn?Symbol.for("react.scope"):60119;function Nr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hx:switch(e=e.type,e){case px:case mm:case um:case hm:case dm:case ym:return e;default:switch(e=e&&e.$$typeof,e){case pm:case gm:case bm:case vm:case fm:return e;default:return t}}case fx:return t}}}function Lj(e){return Nr(e)===mm}It.AsyncMode=px;It.ConcurrentMode=mm;It.ContextConsumer=pm;It.ContextProvider=fm;It.Element=hx;It.ForwardRef=gm;It.Fragment=um;It.Lazy=bm;It.Memo=vm;It.Portal=fx;It.Profiler=hm;It.StrictMode=dm;It.Suspense=ym;It.isAsyncMode=function(e){return Lj(e)||Nr(e)===px};It.isConcurrentMode=Lj;It.isContextConsumer=function(e){return Nr(e)===pm};It.isContextProvider=function(e){return Nr(e)===fm};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hx};It.isForwardRef=function(e){return Nr(e)===gm};It.isFragment=function(e){return Nr(e)===um};It.isLazy=function(e){return Nr(e)===bm};It.isMemo=function(e){return Nr(e)===vm};It.isPortal=function(e){return Nr(e)===fx};It.isProfiler=function(e){return Nr(e)===hm};It.isStrictMode=function(e){return Nr(e)===dm};It.isSuspense=function(e){return Nr(e)===ym};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===um||e===mm||e===hm||e===dm||e===ym||e===Q9||typeof e=="object"&&e!==null&&(e.$$typeof===bm||e.$$typeof===vm||e.$$typeof===fm||e.$$typeof===pm||e.$$typeof===gm||e.$$typeof===X9||e.$$typeof===J9||e.$$typeof===Z9||e.$$typeof===Y9)};It.typeOf=Nr;Mj.exports=It;var ez=Mj.exports,Dj=ez,tz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zj={};zj[Dj.ForwardRef]=tz;zj[Dj.Memo]=nz;var rz=!0;function Fj(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var mx=function(e,t,n){var r=e.key+"-"+t.name;(n===!1||rz===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},gx=function(e,t,n){mx(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function iz(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var oz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},az=/[A-Z]|^ms/g,sz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bj=function(e){return e.charCodeAt(1)===45},Pk=function(e){return e!=null&&typeof e!="boolean"},Qg=Oj(function(e){return Bj(e)?e:e.replace(az,"-$&").toLowerCase()}),Ok=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(sz,function(n,r,i){return ki={name:r,styles:i,next:ki},r})}return oz[e]!==1&&!Bj(e)&&typeof t=="number"&&t!==0?t+"px":t};function Nu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ki={name:i.name,styles:i.styles,next:ki},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)ki={name:a.name,styles:a.styles,next:ki},a=a.next;var s=o.styles+";";return s}return lz(e,t,n)}case"function":{if(e!==void 0){var c=ki,u=n(e);return ki=c,Nu(e,t,u)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function lz(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nu(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":Pk(s)&&(r+=Qg(o)+":"+Ok(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)Pk(a[c])&&(r+=Qg(o)+":"+Ok(o,a[c])+";");else{var u=Nu(e,t,a);switch(o){case"animation":case"animationName":{r+=Qg(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var Ak=/label:\s*([^\s;{]+)\s*(;|$)/g,ki;function pd(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";ki=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Nu(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Nu(n,t,e[s]),r){var c=o;i+=c[s]}Ak.lastIndex=0;for(var u="",h;(h=Ak.exec(i))!==null;)u+="-"+h[1];var f=iz(i)+u;return{name:f,styles:i,next:ki}}var cz=function(e){return e()},Wj=Yh.useInsertionEffect?Yh.useInsertionEffect:!1,$j=Wj||cz,Nk=Wj||x.useLayoutEffect,Uj=x.createContext(typeof HTMLElement<"u"?Nj({key:"css"}):null),uz=Uj.Provider,yx=function(e){return x.forwardRef(function(t,n){var r=x.useContext(Uj);return e(t,r,n)})},Vl=x.createContext({}),vx={}.hasOwnProperty,$v="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dz=function(e,t){var n={};for(var r in t)vx.call(t,r)&&(n[r]=t[r]);return n[$v]=e,n},hz=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return mx(t,n,r),$j(function(){return gx(t,n,r)}),null},fz=yx(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[$v],o=[r],a="";typeof e.className=="string"?a=Fj(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=pd(o,void 0,x.useContext(Vl));a+=t.key+"-"+s.name;var c={};for(var u in e)vx.call(e,u)&&u!=="css"&&u!==$v&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),x.createElement(x.Fragment,null,x.createElement(hz,{cache:t,serialized:s,isStringTag:typeof i=="string"}),x.createElement(i,c))}),pz=fz,Mk={exports:{}},Lk;function Vj(){return Lk||(Lk=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Mk)),Mk.exports}Vj();var Dk=function(e,t){var n=arguments;if(t==null||!vx.call(t,"css"))return x.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=pz,i[1]=dz(e,t);for(var o=2;o<r;o++)i[o]=n[o];return x.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Dk||(Dk={}));var mz=yx(function(e,t){var n=e.styles,r=pd([n],void 0,x.useContext(Vl)),i=x.useRef();return Nk(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(s=!0,c.setAttribute("data-emotion",o),a.hydrate([c])),i.current=[a,s],function(){a.flush()}},[t]),Nk(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&gx(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function qj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pd(t)}function xm(){var e=qj.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var gz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yz=Oj(function(e){return gz.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),vz=yz,bz=function(e){return e!=="theme"},zk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vz:bz},Fk=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},xz=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return mx(t,n,r),$j(function(){return gx(t,n,r)}),null},wz=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;n!==void 0&&(o=n.label,a=n.target);var s=Fk(t,n,r),c=s||zk(i),u=!c("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var v=h[0];f.push(v[0]);for(var b=h.length,C=1;C<b;C++)f.push(h[C],v[C])}var S=yx(function(T,E,g){var y=u&&T.as||i,P="",M=[],N=T;if(T.theme==null){N={};for(var _ in T)N[_]=T[_];N.theme=x.useContext(Vl)}typeof T.className=="string"?P=Fj(E.registered,M,T.className):T.className!=null&&(P=T.className+" ");var p=pd(f.concat(M),E.registered,N);P+=E.key+"-"+p.name,a!==void 0&&(P+=" "+a);var m=u&&s===void 0?zk(y):c,w={};for(var R in T)u&&R==="as"||m(R)&&(w[R]=T[R]);return w.className=P,g&&(w.ref=g),x.createElement(x.Fragment,null,x.createElement(xz,{cache:E,serialized:p,isStringTag:typeof y=="string"}),x.createElement(y,w))});return S.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=f,S.__emotion_forwardProp=s,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(T,E){var g=e(T,D({},n,E,{shouldForwardProp:Fk(S,E,!0)}));return g.apply(void 0,f)},S}},Sz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Uv=wz.bind(null);Sz.forEach(function(e){Uv[e]=Uv(e)});function kz(e,t){const n=Nj({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Yg=new Map;function Cz(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=x.useMemo(()=>{const o=`${t}-${n}`;if(typeof document=="object"&&Yg.has(o))return Yg.get(o);const a=kz(t,n);return Yg.set(o,a),a},[t,n]);return t||n?l.jsx(uz,{value:i,children:r}):r}function Ez(e){return e==null||Object.keys(e).length===0}function Hj(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Ez(i)?n:i):t;return l.jsx(mz,{styles:r})}function bx(e,t){return Uv(e,t)}const Kj=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Bk=[];function $f(e){return Bk[0]=e,pd(Bk)}const _z=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Hj,StyledEngineProvider:Cz,ThemeContext:Vl,css:qj,default:bx,internal_processStyles:Kj,internal_serializeStyles:$f,keyframes:xm},Symbol.toStringTag,{value:"Module"}));function eo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Gj(e){if(x.isValidElement(e)||!eo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Gj(e[n])}),t}function Er(e,t,n={clone:!0}){const r=n.clone?D({},e):e;return eo(e)&&eo(t)&&Object.keys(t).forEach(i=>{x.isValidElement(t[i])?r[i]=t[i]:eo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&eo(e[i])?r[i]=Er(e[i],t[i],n):n.clone?r[i]=eo(t[i])?Gj(t[i]):t[i]:r[i]=t[i]}),r}const Tz=Object.freeze(Object.defineProperty({__proto__:null,default:Er,isPlainObject:eo},Symbol.toStringTag,{value:"Module"})),Iz=["values","unit","step"],jz=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>D({},n,{[r.key]:r.val}),{})};function Qj(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=ke(e,Iz),o=jz(t),a=Object.keys(o);function s(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n})`}function c(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-r/100}${n})`}function u(v,b){const C=a.indexOf(b);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${n}) and (max-width:${(C!==-1&&typeof t[a[C]]=="number"?t[a[C]]:b)-r/100}${n})`}function h(v){return a.indexOf(v)+1<a.length?u(v,a[a.indexOf(v)+1]):s(v)}function f(v){const b=a.indexOf(v);return b===0?s(a[1]):b===a.length-1?c(a[b]):u(v,a[a.indexOf(v)+1]).replace("@media","@media not all and")}return D({keys:a,values:o,up:s,down:c,between:u,only:h,not:f,unit:n},i)}const Rz={borderRadius:4};function Yc(e,t){return t?Er(e,t,{clone:!1}):e}const xx={xs:0,sm:600,md:900,lg:1200,xl:1536},Wk={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${xx[e]}px)`};function Zr(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Wk;return t.reduce((o,a,s)=>(o[i.up(i.keys[s])]=n(t[s]),o),{})}if(typeof t=="object"){const i=r.breakpoints||Wk;return Object.keys(t).reduce((o,a)=>{if(Object.keys(i.values||xx).indexOf(a)!==-1){const s=i.up(a);o[s]=n(t[a],a)}else{const s=a;o[s]=t[s]}return o},{})}return n(t)}function Pz(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,r)=>{const i=e.up(r);return n[i]={},n},{}))||{}}function $k(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Oz(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function wm({values:e,breakpoints:t,base:n}){const r=n||Oz(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((a,s,c)=>(Array.isArray(e)?(a[s]=e[c]!=null?e[c]:e[o],o=c):typeof e=="object"?(a[s]=e[s]!=null?e[s]:e[o],o=s):a[s]=e,a),{})}function he(e){if(typeof e!="string")throw new Error(Ja(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Az=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function Sm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Uf(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Sm(e,n)||r,t&&(i=t(i,r,e)),i}function ln(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=a=>{if(a[t]==null)return null;const s=a[t],c=a.theme,u=Sm(c,r)||{};return Zr(a,s,h=>{let f=Uf(u,i,h);return h===f&&typeof h=="string"&&(f=Uf(u,i,`${t}${h==="default"?"":he(h)}`,h)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[t],o}function Nz(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Mz={m:"margin",p:"padding"},Lz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Uk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Dz=Nz(e=>{if(e.length>2)if(Uk[e])e=Uk[e];else return[e];const[t,n]=e.split(""),r=Mz[t],i=Lz[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),wx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Sx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wx,...Sx];function md(e,t,n,r){var i;const o=(i=Sm(e,t,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function Yj(e){return md(e,"spacing",8)}function gd(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function zz(e,t){return n=>e.reduce((r,i)=>(r[i]=gd(t,n),r),{})}function Fz(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Dz(n),o=zz(i,r),a=e[n];return Zr(e,a,o)}function Xj(e,t){const n=Yj(e.theme);return Object.keys(e).map(r=>Fz(e,t,r,n)).reduce(Yc,{})}function en(e){return Xj(e,wx)}en.propTypes={};en.filterProps=wx;function tn(e){return Xj(e,Sx)}tn.propTypes={};tn.filterProps=Sx;function Bz(e=8){if(e.mui)return e;const t=Yj({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function km(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?Yc(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ur(e){return typeof e!="number"?e:`${e}px solid`}function ri(e,t){return ln({prop:e,themeKey:"borders",transform:t})}const Wz=ri("border",Ur),$z=ri("borderTop",Ur),Uz=ri("borderRight",Ur),Vz=ri("borderBottom",Ur),qz=ri("borderLeft",Ur),Hz=ri("borderColor"),Kz=ri("borderTopColor"),Gz=ri("borderRightColor"),Qz=ri("borderBottomColor"),Yz=ri("borderLeftColor"),Xz=ri("outline",Ur),Jz=ri("outlineColor"),Cm=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=md(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:gd(t,r)});return Zr(e,e.borderRadius,n)}return null};Cm.propTypes={};Cm.filterProps=["borderRadius"];km(Wz,$z,Uz,Vz,qz,Hz,Kz,Gz,Qz,Yz,Cm,Xz,Jz);const Em=e=>{if(e.gap!==void 0&&e.gap!==null){const t=md(e.theme,"spacing",8),n=r=>({gap:gd(t,r)});return Zr(e,e.gap,n)}return null};Em.propTypes={};Em.filterProps=["gap"];const _m=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=md(e.theme,"spacing",8),n=r=>({columnGap:gd(t,r)});return Zr(e,e.columnGap,n)}return null};_m.propTypes={};_m.filterProps=["columnGap"];const Tm=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=md(e.theme,"spacing",8),n=r=>({rowGap:gd(t,r)});return Zr(e,e.rowGap,n)}return null};Tm.propTypes={};Tm.filterProps=["rowGap"];const Zz=ln({prop:"gridColumn"}),eF=ln({prop:"gridRow"}),tF=ln({prop:"gridAutoFlow"}),nF=ln({prop:"gridAutoColumns"}),rF=ln({prop:"gridAutoRows"}),iF=ln({prop:"gridTemplateColumns"}),oF=ln({prop:"gridTemplateRows"}),aF=ln({prop:"gridTemplateAreas"}),sF=ln({prop:"gridArea"});km(Em,_m,Tm,Zz,eF,tF,nF,rF,iF,oF,aF,sF);function tl(e,t){return t==="grey"?t:e}const lF=ln({prop:"color",themeKey:"palette",transform:tl}),cF=ln({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tl}),uF=ln({prop:"backgroundColor",themeKey:"palette",transform:tl});km(lF,cF,uF);function xr(e){return e<=1&&e!==0?`${e*100}%`:e}const dF=ln({prop:"width",transform:xr}),kx=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||xx[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:xr(n)}};return Zr(e,e.maxWidth,t)}return null};kx.filterProps=["maxWidth"];const hF=ln({prop:"minWidth",transform:xr}),fF=ln({prop:"height",transform:xr}),pF=ln({prop:"maxHeight",transform:xr}),mF=ln({prop:"minHeight",transform:xr});ln({prop:"size",cssProperty:"width",transform:xr});ln({prop:"size",cssProperty:"height",transform:xr});const gF=ln({prop:"boxSizing"});km(dF,kx,hF,fF,pF,mF,gF);const yd={border:{themeKey:"borders",transform:Ur},borderTop:{themeKey:"borders",transform:Ur},borderRight:{themeKey:"borders",transform:Ur},borderBottom:{themeKey:"borders",transform:Ur},borderLeft:{themeKey:"borders",transform:Ur},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ur},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Cm},color:{themeKey:"palette",transform:tl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tl},backgroundColor:{themeKey:"palette",transform:tl},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Em},rowGap:{style:Tm},columnGap:{style:_m},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xr},maxWidth:{style:kx},minWidth:{transform:xr},height:{transform:xr},maxHeight:{transform:xr},minHeight:{transform:xr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yF(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function vF(e,t){return typeof e=="function"?e(t):e}function Jj(){function e(n,r,i,o){const a={[n]:r,theme:i},s=o[n];if(!s)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const v=Sm(i,u)||{};return f?f(a):Zr(a,r,b=>{let C=Uf(v,h,b);return b===C&&typeof b=="string"&&(C=Uf(v,h,`${n}${b==="default"?"":he(b)}`,b)),c===!1?C:{[c]:C}})}function t(n){var r;const{sx:i,theme:o={},nested:a}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:yd;function c(u){let h=u;if(typeof u=="function")h=u(o);else if(typeof u!="object")return u;if(!h)return null;const f=Pz(o.breakpoints),v=Object.keys(f);let b=f;return Object.keys(h).forEach(C=>{const S=vF(h[C],o);if(S!=null)if(typeof S=="object")if(s[C])b=Yc(b,e(C,S,o,s));else{const T=Zr({theme:o},S,E=>({[C]:E}));yF(T,S)?b[C]=t({sx:S,theme:o,nested:!0}):b=Yc(b,T)}else b=Yc(b,e(C,S,o,s))}),!a&&o.modularCssLayers?{"@layer sx":$k(v,b)}:$k(v,b)}return Array.isArray(i)?i.map(c):c(i)}return t}const ql=Jj();ql.filterProps=["sx"];function Zj(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const bF=["breakpoints","palette","spacing","shape"];function vd(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,a=ke(e,bF),s=Qj(n),c=Bz(i);let u=Er({breakpoints:s,direction:"ltr",components:{},palette:D({mode:"light"},r),spacing:c,shape:D({},Rz,o)},a);return u.applyStyles=Zj,u=t.reduce((h,f)=>Er(h,f),u),u.unstable_sxConfig=D({},yd,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return ql({sx:h,theme:this})},u}const xF=Object.freeze(Object.defineProperty({__proto__:null,default:vd,private_createBreakpoints:Qj,unstable_applyStyles:Zj},Symbol.toStringTag,{value:"Module"}));function wF(e){return Object.keys(e).length===0}function Cx(e=null){const t=x.useContext(Vl);return!t||wF(t)?e:t}const SF=vd();function Im(e=SF){return Cx(e)}function Vk(e){const t=$f(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function eR({styles:e,themeId:t,defaultTheme:n={}}){const r=Im(n),i=t&&r[t]||r;let o=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(a=>Vk(typeof a=="function"?a(i):a)):o=Vk(o)),l.jsx(Hj,{styles:o})}const kF=["sx"],CF=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:yd;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function jm(e){const{sx:t}=e,n=ke(e,kF),{systemProps:r,otherProps:i}=CF(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return eo(s)?D({},r,s):r}:o=D({},r,t),D({},i,{sx:o})}const EF=Object.freeze(Object.defineProperty({__proto__:null,default:ql,extendSxProp:jm,unstable_createStyleFunctionSx:Jj,unstable_defaultSxConfig:yd},Symbol.toStringTag,{value:"Module"})),qk=e=>e,_F=()=>{let e=qk;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qk}}},Ex=_F(),TF=["className","component"];function IF(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=bx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ql);return x.forwardRef(function(a,s){const c=Im(n),u=jm(a),{className:h,component:f="div"}=u,v=ke(u,TF);return l.jsx(o,D({as:f,ref:s,className:Se(h,i?i(r):r),theme:t&&c[t]||c},v))})}const jF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ot(e,t,n="Mui"){const r=jF[t];return r?`${n}-${r}`:`${Ex.generate(e)}-${t}`}function nt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=ot(e,i,n)}),r}var tR={exports:{}},Rt={};/**
* @license React
* react-is.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _x=Symbol.for("react.transitional.element"),Tx=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),Am=Symbol.for("react.consumer"),Nm=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),Fm=Symbol.for("react.lazy"),RF=Symbol.for("react.view_transition"),PF=Symbol.for("react.client.reference");function ii(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _x:switch(e=e.type,e){case Rm:case Om:case Pm:case Lm:case Dm:case RF:return e;default:switch(e=e&&e.$$typeof,e){case Nm:case Mm:case Fm:case zm:return e;case Am:return e;default:return t}}case Tx:return t}}}Rt.ContextConsumer=Am;Rt.ContextProvider=Nm;Rt.Element=_x;Rt.ForwardRef=Mm;Rt.Fragment=Rm;Rt.Lazy=Fm;Rt.Memo=zm;Rt.Portal=Tx;Rt.Profiler=Om;Rt.StrictMode=Pm;Rt.Suspense=Lm;Rt.SuspenseList=Dm;Rt.isContextConsumer=function(e){return ii(e)===Am};Rt.isContextProvider=function(e){return ii(e)===Nm};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_x};Rt.isForwardRef=function(e){return ii(e)===Mm};Rt.isFragment=function(e){return ii(e)===Rm};Rt.isLazy=function(e){return ii(e)===Fm};Rt.isMemo=function(e){return ii(e)===zm};Rt.isPortal=function(e){return ii(e)===Tx};Rt.isProfiler=function(e){return ii(e)===Om};Rt.isStrictMode=function(e){return ii(e)===Pm};Rt.isSuspense=function(e){return ii(e)===Lm};Rt.isSuspenseList=function(e){return ii(e)===Dm};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rm||e===Om||e===Pm||e===Lm||e===Dm||typeof e=="object"&&e!==null&&(e.$$typeof===Fm||e.$$typeof===zm||e.$$typeof===Nm||e.$$typeof===Am||e.$$typeof===Mm||e.$$typeof===PF||e.getModuleId!==void 0)};Rt.typeOf=ii;tR.exports=Rt;var Hk=tR.exports;const OF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function nR(e){const t=`${e}`.match(OF);return t&&t[1]||""}function rR(e,t=""){return e.displayName||e.name||nR(e)||t}function Kk(e,t,n){const r=rR(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function AF(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return rR(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Hk.ForwardRef:return Kk(e,e.render,"ForwardRef");case Hk.Memo:return Kk(e,e.type,"memo");default:return}}}const NF=Object.freeze(Object.defineProperty({__proto__:null,default:AF,getFunctionName:nR},Symbol.toStringTag,{value:"Module"})),MF=["ownerState"],LF=["variants"],DF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function zF(e){return Object.keys(e).length===0}function FF(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Xg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Gk(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const BF=vd(),WF=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function uh({defaultTheme:e,theme:t,themeId:n}){return zF(t)?e:t[n]||t}function $F(e){return e?(t,n)=>n[e]:null}function qh(e,t,n){let{ownerState:r}=t,i=ke(t,MF);const o=typeof e=="function"?e(D({ownerState:r},i)):e;if(Array.isArray(o))return o.flatMap(a=>qh(a,D({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:a=[]}=o;let s=ke(o,LF);return a.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props(D({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(u=!1)}),u){Array.isArray(s)||(s=[s]);const h=typeof c.style=="function"?c.style(D({ownerState:r},i,r)):c.style;s.push(n?Gk($f(h),n):h)}}),s}return n?Gk($f(o),n):o}function UF(e={}){const{themeId:t,defaultTheme:n=BF,rootShouldForwardProp:r=Xg,slotShouldForwardProp:i=Xg}=e,o=a=>ql(D({},a,{theme:uh(D({},a,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{Kj(a,N=>N.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:v=$F(WF(u))}=s,b=ke(s,DF),C=c&&c.startsWith("Mui")||u?"components":"custom",S=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,T=f||!1;let E,g=Xg;u==="Root"||u==="root"?g=r:u?g=i:FF(a)&&(g=void 0);const y=bx(a,D({shouldForwardProp:g,label:E},b)),P=N=>typeof N=="function"&&N.__emotion_real!==N||eo(N)?_=>{const p=uh({theme:_.theme,defaultTheme:n,themeId:t});return qh(N,D({},_,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,..._)=>{let p=P(N);const m=_?_.map(P):[];c&&v&&m.push(j=>{const I=uh(D({},j,{defaultTheme:n,themeId:t}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const L=I.components[c].styleOverrides,W={};return Object.entries(L).forEach(([K,B])=>{W[K]=qh(B,D({},j,{theme:I}),I.modularCssLayers?"theme":void 0)}),v(j,W)}),c&&!S&&m.push(j=>{var I;const L=uh(D({},j,{defaultTheme:n,themeId:t})),W=L==null||(I=L.components)==null||(I=I[c])==null?void 0:I.variants;return qh({variants:W},D({},j,{theme:L}),L.modularCssLayers?"theme":void 0)}),T||m.push(o);const w=m.length-_.length;if(Array.isArray(N)&&w>0){const j=new Array(w).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const R=y(p,...m);return a.muiName&&(R.muiName=a.muiName),R};return y.withConfig&&(M.withConfig=y.withConfig),M}}const VF=UF();function Mu(e,t){const n=D({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=D({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=D({},o),Object.keys(i).forEach(a=>{n[r][a]=Mu(i[a],o[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function qF(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Mu(t.components[n].defaultProps,r)}function HF({props:e,name:t,defaultTheme:n,themeId:r}){let i=Im(n);return r&&(i=i[r]||i),qF({theme:i,name:t,props:e})}const jr=typeof window<"u"?x.useLayoutEffect:x.useEffect;function KF(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const GF=Object.freeze(Object.defineProperty({__proto__:null,default:KF},Symbol.toStringTag,{value:"Module"}));function Vv(...e){return e.reduce((t,n)=>n==null?t:function(...r){t.apply(this,r),n.apply(this,r)},()=>{})}function Bm(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function QF(e,t){return()=>null}function Xc(e,t){var n,r;return x.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Gn(e){return e&&e.ownerDocument||document}function Fi(e){return Gn(e).defaultView||window}function YF(e,t){return()=>null}function Vf(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Qk=0;function XF(e){const[t,n]=x.useState(e),r=e||t;return x.useEffect(()=>{t==null&&(Qk+=1,n(`mui-${Qk}`))},[t]),r}const Yk=Yh.useId;function bd(e){if(Yk!==void 0){const t=Yk();return e??t}return XF(e)}function JF(e,t,n,r,i){return null}function qf({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=x.useRef(e!==void 0),[o,a]=x.useState(t),s=i?e:o,c=x.useCallback(u=>{i||a(u)},[]);return[s,c]}function _i(e){const t=x.useRef(e);return jr(()=>{t.current=e}),x.useRef((...n)=>(0,t.current)(...n)).current}function Yt(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Vf(n,t)})},e)}const Xk={};function ZF(e,t){const n=x.useRef(Xk);return n.current===Xk&&(n.current=e(t)),n}const eB=[];function tB(e){x.useEffect(e,eB)}class xd{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new xd}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function $s(){const e=ZF(xd.create).current;return tB(e.disposeEffect),e}let Wm=!0,qv=!1;const nB=new xd,rB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function iB(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&rB[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function oB(e){e.metaKey||e.altKey||e.ctrlKey||(Wm=!0)}function Jg(){Wm=!1}function aB(){this.visibilityState==="hidden"&&qv&&(Wm=!0)}function sB(e){e.addEventListener("keydown",oB,!0),e.addEventListener("mousedown",Jg,!0),e.addEventListener("pointerdown",Jg,!0),e.addEventListener("touchstart",Jg,!0),e.addEventListener("visibilitychange",aB,!0)}function lB(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Wm||iB(t)}function Ix(){const e=x.useCallback(i=>{i!=null&&sB(i.ownerDocument)},[]),t=x.useRef(!1);function n(){return t.current?(qv=!0,nB.start(100,()=>{qv=!1}),t.current=!1,!0):!1}function r(i){return lB(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function iR(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const oR=e=>{const t=x.useRef({});return x.useEffect(()=>{t.current=e}),t.current};function lt(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,a)=>{if(a){const s=t(a);s!==""&&o.push(s),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}function Sl(e){return typeof e=="string"}function Us(e,t,n){return e===void 0||Sl(e)?t:D({},t,{ownerState:D({},t.ownerState,n)})}function aR(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Jk(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function sR(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const b=Se(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),C=D({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),S=D({},n,i,r);return b.length>0&&(S.className=b),Object.keys(C).length>0&&(S.style=C),{props:S,internalRef:void 0}}const a=aR(D({},i,r)),s=Jk(r),c=Jk(i),u=t(a),h=Se(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=D({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=D({},u,n,c,s);return h.length>0&&(v.className=h),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:u.ref}}function lR(e,t,n){return typeof e=="function"?e(t,n):e}const cB=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function wo(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,a=ke(e,cB),s=o?{}:lR(r,i),{props:c,internalRef:u}=sR(D({},a,{externalSlotProps:s})),h=Yt(u,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return Us(n,D({},c,{ref:h}),i)}function cs(e){if(parseInt(x.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const cR=x.createContext(null);function uR(){return x.useContext(cR)}const uB=typeof Symbol=="function"&&Symbol.for,dB=uB?Symbol.for("mui.nested"):"__THEME_NESTED__";function hB(e,t){return typeof t=="function"?t(e):D({},e,t)}function fB(e){const{children:t,theme:n}=e,r=uR(),i=x.useMemo(()=>{const o=r===null?n:hB(r,n);return o!=null&&(o[dB]=r!==null),o},[n,r]);return l.jsx(cR.Provider,{value:i,children:t})}const pB=["value"],dR=x.createContext();function mB(e){let{value:t}=e,n=ke(e,pB);return l.jsx(dR.Provider,D({value:t??!0},n))}const jx=()=>x.useContext(dR)??!1,hR=x.createContext(void 0);function gB({value:e,children:t}){return l.jsx(hR.Provider,{value:e,children:t})}function yB(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Mu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Mu(i,r):r}function vB({props:e,name:t}){const n=x.useContext(hR);return yB({props:e,name:t,theme:{components:n}})}function bB(e){const t=Cx(),n=bd()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,jr(()=>{const o=document.querySelector("head");if(!o)return;const a=o.firstChild;if(i){var s;if(a&&(s=a.hasAttribute)!=null&&s.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=i,o.prepend(u)}else{var c;(c=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?l.jsx(eR,{styles:i}):null}const Zk={};function e2(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),a=e?D({},t,{[e]:o}):o;return r?()=>a:a}return e?D({},t,{[e]:n}):D({},t,n)},[e,t,n,r])}function xB(e){const{children:t,theme:n,themeId:r}=e,i=Cx(Zk),o=uR()||Zk,a=e2(r,i,n),s=e2(r,o,n,!0),c=a.direction==="rtl",u=bB(a);return l.jsx(fB,{theme:s,children:l.jsx(Vl.Provider,{value:a,children:l.jsx(mB,{value:c,children:l.jsxs(gB,{value:a==null?void 0:a.components,children:[u,t]})})})})}const wB=["className","component","disableGutters","fixed","maxWidth","classes"],SB=vd(),kB=VF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${he(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),CB=e=>HF({props:e,name:"MuiContainer",defaultTheme:SB}),EB=(e,t)=>{const n=c=>ot(t,c),{classes:r,fixed:i,disableGutters:o,maxWidth:a}=e,s={root:["root",a&&`maxWidth${he(String(a))}`,i&&"fixed",o&&"disableGutters"]};return lt(s,n,r)};function _B(e={}){const{createStyledComponent:t=kB,useThemeProps:n=CB,componentName:r="MuiContainer"}=e,i=t(({theme:o,ownerState:a})=>D({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((s,c)=>{const u=c,h=o.breakpoints.values[u];return h!==0&&(s[o.breakpoints.up(u)]={maxWidth:`${h}${o.breakpoints.unit}`}),s},{}),({theme:o,ownerState:a})=>D({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return x.forwardRef(function(o,a){const s=n(o),{className:c,component:u="div",disableGutters:h=!1,fixed:f=!1,maxWidth:v="lg"}=s,b=ke(s,wB),C=D({},s,{component:u,disableGutters:h,fixed:f,maxWidth:v}),S=EB(C,r);return l.jsx(i,D({as:u,ownerState:C,className:Se(S.root,c),ref:a},b))})}function TB(e,t){return D({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var cn={},fR={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(fR);var us=fR.exports;const IB=Wi(x9),jB=Wi(GF);var pR=us;Object.defineProperty(cn,"__esModule",{value:!0});var Ct=cn.alpha=vR;cn.blend=BB;cn.colorChannel=void 0;var Hv=cn.darken=Px;cn.decomposeColor=ei;cn.emphasize=bR;var RB=cn.getContrastRatio=MB;cn.getLuminance=Hf;cn.hexToRgb=mR;cn.hslToRgb=yR;var Kv=cn.lighten=Ox;cn.private_safeAlpha=LB;cn.private_safeColorChannel=void 0;cn.private_safeDarken=DB;cn.private_safeEmphasize=FB;cn.private_safeLighten=zB;cn.recomposeColor=Hl;cn.rgbToHex=NB;var t2=pR(IB),PB=pR(jB);function Rx(e,t=0,n=1){return(0,PB.default)(e,t,n)}function mR(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function OB(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function ei(e){if(e.type)return e;if(e.charAt(0)==="#")return ei(mR(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,t2.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,t2.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const gR=e=>{const t=ei(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};cn.colorChannel=gR;const AB=(e,t)=>{try{return gR(e)}catch{return e}};cn.private_safeColorChannel=AB;function Hl(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function NB(e){if(e.indexOf("#")===0)return e;const{values:t}=ei(e);return`#${t.map((n,r)=>OB(r===3?Math.round(255*n):n)).join("")}`}function yR(e){e=ei(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(u,h=(u+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let s="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(s+="a",c.push(t[3])),Hl({type:s,values:c})}function Hf(e){e=ei(e);let t=e.type==="hsl"||e.type==="hsla"?ei(yR(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function MB(e,t){const n=Hf(e),r=Hf(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vR(e,t){return e=ei(e),t=Rx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Hl(e)}function LB(e,t,n){try{return vR(e,t)}catch{return e}}function Px(e,t){if(e=ei(e),t=Rx(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Hl(e)}function DB(e,t,n){try{return Px(e,t)}catch{return e}}function Ox(e,t){if(e=ei(e),t=Rx(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Hl(e)}function zB(e,t,n){try{return Ox(e,t)}catch{return e}}function bR(e,t=.15){return Hf(e)>.5?Px(e,t):Ox(e,t)}function FB(e,t,n){try{return bR(e,t)}catch{return e}}function BB(e,t,n,r=1){const i=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),o=ei(e),a=ei(t),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return Hl({type:"rgb",values:s})}const WB=["mode","contrastThreshold","tonalOffset"],n2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pu.white,default:Pu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Zg={text:{primary:Pu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function r2(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Kv(e.main,i):t==="dark"&&(e.dark=Hv(e.main,o)))}function $B(e="light"){return e==="dark"?{main:vs[200],light:vs[50],dark:vs[400]}:{main:vs[700],light:vs[400],dark:vs[800]}}function UB(e="light"){return e==="dark"?{main:ys[200],light:ys[50],dark:ys[400]}:{main:ys[500],light:ys[300],dark:ys[700]}}function VB(e="light"){return e==="dark"?{main:gs[500],light:gs[300],dark:gs[700]}:{main:gs[700],light:gs[400],dark:gs[800]}}function qB(e="light"){return e==="dark"?{main:bs[400],light:bs[300],dark:bs[700]}:{main:bs[700],light:bs[500],dark:bs[900]}}function HB(e="light"){return e==="dark"?{main:xs[400],light:xs[300],dark:xs[700]}:{main:xs[800],light:xs[500],dark:xs[900]}}function KB(e="light"){return e==="dark"?{main:pc[400],light:pc[300],dark:pc[700]}:{main:"#ed6c02",light:pc[500],dark:pc[900]}}function GB(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=ke(e,WB),o=e.primary||$B(t),a=e.secondary||UB(t),s=e.error||VB(t),c=e.info||qB(t),u=e.success||HB(t),h=e.warning||KB(t);function f(C){return RB(C,Zg.text.primary)>=n?Zg.text.primary:n2.text.primary}const v=({color:C,name:S,mainShade:T=500,lightShade:E=300,darkShade:g=700})=>{if(C=D({},C),!C.main&&C[T]&&(C.main=C[T]),!C.hasOwnProperty("main"))throw new Error(Ja(11,S?` (${S})`:"",T));if(typeof C.main!="string")throw new Error(Ja(12,S?` (${S})`:"",JSON.stringify(C.main)));return r2(C,"light",E,r),r2(C,"dark",g,r),C.contrastText||(C.contrastText=f(C.main)),C},b={dark:Zg,light:n2};return Er(D({common:D({},Pu),mode:t,primary:v({color:o,name:"primary"}),secondary:v({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:s,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:c,name:"info"}),success:v({color:u,name:"success"}),grey:b9,contrastThreshold:n,getContrastText:f,augmentColor:v,tonalOffset:r},b[t]),i)}const QB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function YB(e){return Math.round(e*1e5)/1e5}const i2={textTransform:"uppercase"},o2='"Roboto", "Helvetica", "Arial", sans-serif';function XB(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=o2,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:f}=n,v=ke(n,QB),b=i/14,C=f||(E=>`${E/u*b}rem`),S=(E,g,y,P,M)=>D({fontFamily:r,fontWeight:E,fontSize:C(g),lineHeight:y},r===o2?{letterSpacing:`${YB(P/g)}em`}:{},M,h),T={h1:S(o,96,1.167,-1.5),h2:S(o,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(s,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(s,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(s,14,1.75,.4,i2),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,i2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Er(D({htmlFontSize:u,pxToRem:C,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:c},T),v,{clone:!1})}const JB=.2,ZB=.14,eW=.12;function Bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${JB})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ZB})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${eW})`].join(",")}const tW=["none",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],nW=["duration","easing","delay"],rW={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a2(e){return`${Math.round(e)}ms`}function oW(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function aW(e){const t=D({},rW,e.easing),n=D({},iW,e.duration);return D({getAutoHeightDuration:oW,create:(r=["all"],i={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:s=0}=i;return ke(i,nW),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof o=="string"?o:a2(o)} ${a} ${typeof s=="string"?s:a2(s)}`).join(",")}},e,{easing:t,duration:n})}const sW={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},lW=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ax(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,a=ke(e,lW);if(e.vars&&e.generateCssVars===void 0)throw new Error(Ja(18));const s=GB(r),c=vd(e);let u=Er(c,{mixins:TB(c.breakpoints,n),palette:s,shadows:tW.slice(),typography:XB(s,o),transitions:aW(i),zIndex:D({},sW)});return u=Er(u,a),u=t.reduce((h,f)=>Er(h,f),u),u.unstable_sxConfig=D({},yd,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(h){return ql({sx:h,theme:this})},u}const Nx=Ax();function Kl(){const e=Im(Nx);return e[xl]||e}var wd={},s2={exports:{}},l2;function cW(){return l2||(l2=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(s2)),s2.exports}const xR=Wi(_z),uW=Wi(Tz),dW=Wi(Az),hW=Wi(NF),fW=Wi(xF),pW=Wi(EF);var Gl=us;Object.defineProperty(wd,"__esModule",{value:!0});var mW=wd.default=IW;wd.shouldForwardProp=Hh;wd.systemDefaultTheme=void 0;var Fr=Gl(Vj()),Gv=Gl(cW()),Kf=SW(xR),gW=uW;Gl(dW);Gl(hW);var yW=Gl(fW),vW=Gl(pW);const bW=["ownerState"],xW=["variants"],wW=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function wR(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(wR=function(r){return r?n:t})(e)}function SW(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=wR(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function kW(e){return Object.keys(e).length===0}function CW(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Hh(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function c2(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const EW=wd.systemDefaultTheme=(0,yW.default)(),_W=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function dh({defaultTheme:e,theme:t,themeId:n}){return kW(t)?e:t[n]||t}function TW(e){return e?(t,n)=>n[e]:null}function Kh(e,t,n){let{ownerState:r}=t,i=(0,Gv.default)(t,bW);const o=typeof e=="function"?e((0,Fr.default)({ownerState:r},i)):e;if(Array.isArray(o))return o.flatMap(a=>Kh(a,(0,Fr.default)({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:a=[]}=o;let s=(0,Gv.default)(o,xW);return a.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props((0,Fr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(u=!1)}),u){Array.isArray(s)||(s=[s]);const h=typeof c.style=="function"?c.style((0,Fr.default)({ownerState:r},i,r)):c.style;s.push(n?c2((0,Kf.internal_serializeStyles)(h),n):h)}}),s}return n?c2((0,Kf.internal_serializeStyles)(o),n):o}function IW(e={}){const{themeId:t,defaultTheme:n=EW,rootShouldForwardProp:r=Hh,slotShouldForwardProp:i=Hh}=e,o=a=>(0,vW.default)((0,Fr.default)({},a,{theme:dh((0,Fr.default)({},a,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,Kf.internal_processStyles)(a,N=>N.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:h,skipSx:f,overridesResolver:v=TW(_W(u))}=s,b=(0,Gv.default)(s,wW),C=c&&c.startsWith("Mui")||u?"components":"custom",S=h!==void 0?h:u&&u!=="Root"&&u!=="root"||!1,T=f||!1;let E,g=Hh;u==="Root"||u==="root"?g=r:u?g=i:CW(a)&&(g=void 0);const y=(0,Kf.default)(a,(0,Fr.default)({shouldForwardProp:g,label:E},b)),P=N=>typeof N=="function"&&N.__emotion_real!==N||(0,gW.isPlainObject)(N)?_=>{const p=dh({theme:_.theme,defaultTheme:n,themeId:t});return Kh(N,(0,Fr.default)({},_,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,..._)=>{let p=P(N);const m=_?_.map(P):[];c&&v&&m.push(j=>{const I=dh((0,Fr.default)({},j,{defaultTheme:n,themeId:t}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const L=I.components[c].styleOverrides,W={};return Object.entries(L).forEach(([K,B])=>{W[K]=Kh(B,(0,Fr.default)({},j,{theme:I}),I.modularCssLayers?"theme":void 0)}),v(j,W)}),c&&!S&&m.push(j=>{var I;const L=dh((0,Fr.default)({},j,{defaultTheme:n,themeId:t})),W=L==null||(I=L.components)==null||(I=I[c])==null?void 0:I.variants;return Kh({variants:W},(0,Fr.default)({},j,{theme:L}),L.modularCssLayers?"theme":void 0)}),T||m.push(o);const w=m.length-_.length;if(Array.isArray(N)&&w>0){const j=new Array(w).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const R=y(p,...m);return a.muiName&&(R.muiName=a.muiName),R};return y.withConfig&&(M.withConfig=y.withConfig),M}}function SR(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Mr=e=>SR(e)&&e!=="classes",Ce=mW({themeId:xl,defaultTheme:Nx,rootShouldForwardProp:Mr}),jW=["theme"];function RW(e){let{theme:t}=e,n=ke(e,jW);const r=t[xl];let i=r||t;return typeof t!="function"&&(r&&!r.vars?i=D({},r,{vars:null}):t&&!t.vars&&(i=D({},t,{vars:null}))),l.jsx(xB,D({},n,{themeId:r?xl:void 0,theme:i}))}const u2=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function at(e){return vB(e)}function PW(e){return ot("MuiSvgIcon",e)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OW=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],AW=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${he(t)}`,`fontSize${he(n)}`]};return lt(i,PW,r)},NW=Ce("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${he(n.color)}`],t[`fontSize${he(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,a,s,c,u,h,f,v,b,C;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=e.typography)==null||(c=s.pxToRem)==null?void 0:c.call(s,24))||"1.5rem",large:((u=e.typography)==null||(h=u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}[t.fontSize],color:(f=(v=(e.vars||e).palette)==null||(v=v[t.color])==null?void 0:v.main)!=null?f:{action:(b=(e.vars||e).palette)==null||(b=b.action)==null?void 0:b.active,disabled:(C=(e.vars||e).palette)==null||(C=C.action)==null?void 0:C.disabled,inherit:void 0}[t.color]}}),Qv=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:o="inherit",component:a="svg",fontSize:s="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24"}=n,v=ke(n,OW),b=x.isValidElement(r)&&r.type==="svg",C=D({},n,{color:o,component:a,fontSize:s,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:b}),S={};u||(S.viewBox=f);const T=AW(C);return l.jsxs(NW,D({as:a,className:Se(T.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t},S,v,b&&r.props,{ownerState:C,children:[b?r.props.children:r,h?l.jsx("title",{children:h}):null]}))});Qv.muiName="SvgIcon";function _o(e,t){function n(r,i){return l.jsx(Qv,D({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=Qv.muiName,x.memo(x.forwardRef(n))}const MW={configure:e=>{Ex.configure(e)}},LW=Object.freeze(Object.defineProperty({__proto__:null,capitalize:he,createChainedFunction:Vv,createSvgIcon:_o,debounce:Bm,deprecatedPropType:QF,isMuiElement:Xc,ownerDocument:Gn,ownerWindow:Fi,requirePropFactory:YF,setRef:Vf,unstable_ClassNameGenerator:MW,unstable_useEnhancedEffect:jr,unstable_useId:bd,unsupportedProp:JF,useControlled:qf,useEventCallback:_i,useForkRef:Yt,useIsFocusVisible:Ix},Symbol.toStringTag,{value:"Module"}));function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yv(e,t)}function kR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yv(e,t)}const d2={disabled:!1},Gf=Te.createContext(null);var DW=function(e){return e.scrollTop},Nc="unmounted",Ta="exited",Ia="entering",_s="entered",Xv="exiting",vi=function(e){kR(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?s?(c=Ta,o.appearStatus=Ia):c=_s:r.unmountOnExit||r.mountOnEnter?c=Nc:c=Ta,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(r,i){var o=r.in;return o&&i.status===Nc?{status:Ta}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Ia&&o!==_s&&(i=Ia):(o===Ia||o===_s)&&(i=Xv)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,o,a;return i=o=a=r,r!=null&&typeof r!="number"&&(i=r.exit,o=r.enter,a=r.appear!==void 0?r.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Ia){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:nh.findDOMNode(this);o&&DW(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ta&&this.setState({status:Nc})},n.performEnter=function(r){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:r,s=this.props.nodeRef?[a]:[nh.findDOMNode(this),a],c=s[0],u=s[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!r&&!o||d2.disabled){this.safeSetState({status:_s},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ia},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:_s},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var r=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:nh.findDOMNode(this);if(!i||d2.disabled){this.safeSetState({status:Ta},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Xv},function(){r.props.onExiting(a),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Ta},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:nh.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=s[0],u=s[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Nc)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ke(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(Gf.Provider,{value:null},typeof o=="function"?o(r,a):Te.cloneElement(Te.Children.only(o),a))},t}(Te.Component);vi.contextType=Gf;vi.propTypes={};function ws(){}vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ws,onEntering:ws,onEntered:ws,onExit:ws,onExiting:ws,onExited:ws};vi.UNMOUNTED=Nc;vi.EXITED=Ta;vi.ENTERING=Ia;vi.ENTERED=_s;vi.EXITING=Xv;function zW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mx(e,t){var n=function(i){return t&&x.isValidElement(i)?t(i):i},r=Object.create(null);return e&&x.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function FW(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var u=r[c][a];s[r[c][a]]=n(u)}s[c]=n(c)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function Aa(e,t,n){return n[t]!=null?n[t]:e.props[t]}function BW(e,t){return Mx(e.children,function(n){return x.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Aa(n,"appear",e),enter:Aa(n,"enter",e),exit:Aa(n,"exit",e)})})}function WW(e,t,n){var r=Mx(e.children),i=FW(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(x.isValidElement(a)){var s=o in t,c=o in r,u=t[o],h=x.isValidElement(u)&&!u.props.in;c&&(!s||h)?i[o]=x.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Aa(a,"exit",e),enter:Aa(a,"enter",e)}):!c&&s&&!h?i[o]=x.cloneElement(a,{in:!1}):c&&s&&x.isValidElement(u)&&(i[o]=x.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:Aa(a,"exit",e),enter:Aa(a,"enter",e)}))}}),i}var $W=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},UW={component:"div",childFactory:function(e){return e}},Lx=function(e){kR(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=o.handleExited.bind(zW(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(r,i){var o=i.children,a=i.handleExited,s=i.firstRender;return{children:s?BW(r,a):WW(r,o,a),firstRender:!1}},n.handleExited=function(r,i){var o=Mx(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(a){var s=D({},a.children);return delete s[r.key],{children:s}}))},n.render=function(){var r=this.props,i=r.component,o=r.childFactory,a=ke(r,["component","childFactory"]),s=this.state.contextValue,c=$W(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Te.createElement(Gf.Provider,{value:s},c):Te.createElement(Gf.Provider,{value:s},Te.createElement(i,a,c))},t}(Te.Component);Lx.propTypes={};Lx.defaultProps=UW;const Dx=e=>e.scrollTop;function kl(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:a.transitionDelay}}function VW(e){return ot("MuiPaper",e)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qW=["className","component","elevation","square","variant"],HW=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return lt(o,VW,i)},KW=Ce("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return D({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&D({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ct("#fff",u2(t.elevation))}, ${Ct("#fff",u2(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Gr=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,c=ke(n,qW),u=D({},n,{component:i,elevation:o,square:a,variant:s}),h=HW(u);return l.jsx(KW,D({as:i,ownerState:u,className:Se(h.root,r),ref:t},c))}),GW=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],QW=["component","slots","slotProps"],YW=["component"];function Jv(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=t,c=ke(t,GW),{component:u,slots:h={[e]:void 0},slotProps:f={[e]:void 0}}=o,v=ke(o,QW),b=h[e]||r,C=lR(f[e],i),S=sR(D({className:n},c,{externalForwardedProps:e==="root"?v:void 0,externalSlotProps:C})),{props:{component:T},internalRef:E}=S,g=ke(S.props,YW),y=Yt(E,C==null?void 0:C.ref,t.ref),P=a?a(g):{},M=D({},i,P),N=e==="root"?T||u:T,_=Us(b,D({},e==="root"&&!u&&!h[e]&&s,e!=="root"&&!h[e]&&s,g,N&&{as:N},{ref:y}),M);return Object.keys(P).forEach(p=>{delete _[p]}),[b,_]}function XW(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:c,timeout:u}=e,[h,f]=x.useState(!1),v=Se(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),b={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},C=Se(n.child,h&&n.childLeaving,r&&n.childPulsate);return!s&&!h&&f(!0),x.useEffect(()=>{if(!s&&c!=null){const S=setTimeout(c,u);return()=>{clearTimeout(S)}}},[c,s,u]),l.jsx("span",{className:v,style:b,children:l.jsx("span",{className:C})})}const Br=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),JW=["center","classes","className"];let $m=e=>e,h2,f2,p2,m2;const Zv=550,ZW=80,e7=xm(h2||(h2=$m`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),t7=xm(f2||(f2=$m`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),n7=xm(p2||(p2=$m`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),r7=Ce("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),i7=Ce(XW,{name:"MuiTouchRipple",slot:"Ripple"})(m2||(m2=$m`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Br.rippleVisible,e7,Zv,({theme:e})=>e.transitions.easing.easeInOut,Br.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Br.child,Br.childLeaving,t7,Zv,({theme:e})=>e.transitions.easing.easeInOut,Br.childPulsate,n7,({theme:e})=>e.transitions.easing.easeInOut),o7=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:o}=n,a=ke(n,JW),[s,c]=x.useState([]),u=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{h.current&&(h.current(),h.current=null)},[s]);const f=x.useRef(!1),v=$s(),b=x.useRef(null),C=x.useRef(null),S=x.useCallback(y=>{const{pulsate:P,rippleX:M,rippleY:N,rippleSize:_,cb:p}=y;c(m=>[...m,l.jsx(i7,{classes:{ripple:Se(i.ripple,Br.ripple),rippleVisible:Se(i.rippleVisible,Br.rippleVisible),ripplePulsate:Se(i.ripplePulsate,Br.ripplePulsate),child:Se(i.child,Br.child),childLeaving:Se(i.childLeaving,Br.childLeaving),childPulsate:Se(i.childPulsate,Br.childPulsate)},timeout:Zv,pulsate:P,rippleX:M,rippleY:N,rippleSize:_},u.current)]),u.current+=1,h.current=p},[i]),T=x.useCallback((y={},P={},M=()=>{})=>{const{pulsate:N=!1,center:_=r||P.pulsate,fakeElement:p=!1}=P;if((y==null?void 0:y.type)==="mousedown"&&f.current){f.current=!1;return}(y==null?void 0:y.type)==="touchstart"&&(f.current=!0);const m=p?null:C.current,w=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,j,I;if(_||y===void 0||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)R=Math.round(w.width/2),j=Math.round(w.height/2);else{const{clientX:L,clientY:W}=y.touches&&y.touches.length>0?y.touches[0]:y;R=Math.round(L-w.left),j=Math.round(W-w.top)}if(_)I=Math.sqrt((2*w.width**2+w.height**2)/3),I%2===0&&(I+=1);else{const L=Math.max(Math.abs((m?m.clientWidth:0)-R),R)*2+2,W=Math.max(Math.abs((m?m.clientHeight:0)-j),j)*2+2;I=Math.sqrt(L**2+W**2)}y!=null&&y.touches?b.current===null&&(b.current=()=>{S({pulsate:N,rippleX:R,rippleY:j,rippleSize:I,cb:M})},v.start(ZW,()=>{b.current&&(b.current(),b.current=null)})):S({pulsate:N,rippleX:R,rippleY:j,rippleSize:I,cb:M})},[r,S,v]),E=x.useCallback(()=>{T({},{pulsate:!0})},[T]),g=x.useCallback((y,P)=>{if(v.clear(),(y==null?void 0:y.type)==="touchend"&&b.current){b.current(),b.current=null,v.start(0,()=>{g(y,P)});return}b.current=null,c(M=>M.length>0?M.slice(1):M),h.current=P},[v]);return x.useImperativeHandle(t,()=>({pulsate:E,start:T,stop:g}),[E,T,g]),l.jsx(r7,D({className:Se(Br.root,i.root,o),ref:C},a,{children:l.jsx(Lx,{component:null,exit:!0,children:s})}))});function a7(e){return ot("MuiButtonBase",e)}const s7=nt("MuiButtonBase",["root","disabled","focusVisible"]),l7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],c7=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=lt({root:["root",t&&"disabled",n&&"focusVisible"]},a7,i);return n&&r&&(o.root+=` ${r}`),o},u7=Ce("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${s7.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Cl=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:o,className:a,component:s="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:v="a",onBlur:b,onClick:C,onContextMenu:S,onDragLeave:T,onFocus:E,onFocusVisible:g,onKeyDown:y,onKeyUp:P,onMouseDown:M,onMouseLeave:N,onMouseUp:_,onTouchEnd:p,onTouchMove:m,onTouchStart:w,tabIndex:R=0,TouchRippleProps:j,touchRippleRef:I,type:L}=n,W=ke(n,l7),K=x.useRef(null),B=x.useRef(null),F=Yt(B,I),{isFocusVisibleRef:$,onFocus:q,onBlur:H,ref:G}=Ix(),[Q,ue]=x.useState(!1);c&&Q&&ue(!1),x.useImperativeHandle(r,()=>({focusVisible:()=>{ue(!0),K.current.focus()}}),[]);const[le,Pe]=x.useState(!1);x.useEffect(()=>{Pe(!0)},[]);const U=le&&!u&&!c;x.useEffect(()=>{Q&&f&&!u&&le&&B.current.pulsate()},[u,f,Q,le]);function ee(ye,rt,Ot=h){return _i(ct=>(rt&&rt(ct),!Ot&&B.current&&B.current[ye](ct),!0))}const V=ee("start",M),J=ee("stop",S),te=ee("stop",T),oe=ee("stop",_),me=ee("stop",ye=>{Q&&ye.preventDefault(),N&&N(ye)}),Ee=ee("start",w),De=ee("stop",p),Ie=ee("stop",m),Ue=ee("stop",ye=>{H(ye),$.current===!1&&ue(!1),b&&b(ye)},!1),_e=_i(ye=>{K.current||(K.current=ye.currentTarget),q(ye),$.current===!0&&(ue(!0),g&&g(ye)),E&&E(ye)}),X=()=>{const ye=K.current;return s&&s!=="button"&&!(ye.tagName==="A"&&ye.href)},ae=x.useRef(!1),Oe=_i(ye=>{f&&!ae.current&&Q&&B.current&&ye.key===" "&&(ae.current=!0,B.current.stop(ye,()=>{B.current.start(ye)})),ye.target===ye.currentTarget&&X()&&ye.key===" "&&ye.preventDefault(),y&&y(ye),ye.target===ye.currentTarget&&X()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),C&&C(ye))}),xe=_i(ye=>{f&&ye.key===" "&&B.current&&Q&&!ye.defaultPrevented&&(ae.current=!1,B.current.stop(ye,()=>{B.current.pulsate(ye)})),P&&P(ye),C&&ye.target===ye.currentTarget&&X()&&ye.key===" "&&!ye.defaultPrevented&&C(ye)});let ve=s;ve==="button"&&(W.href||W.to)&&(ve=v);const Be={};ve==="button"?(Be.type=L===void 0?"button":L,Be.disabled=c):(!W.href&&!W.to&&(Be.role="button"),c&&(Be["aria-disabled"]=c));const Xe=Yt(t,G,K),je=D({},n,{centerRipple:i,component:s,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:R,focusVisible:Q}),de=c7(je);return l.jsxs(u7,D({as:ve,className:Se(de.root,a),ownerState:je,onBlur:Ue,onClick:C,onContextMenu:J,onFocus:_e,onKeyDown:Oe,onKeyUp:xe,onMouseDown:V,onMouseLeave:me,onMouseUp:oe,onDragLeave:te,onTouchEnd:De,onTouchMove:Ie,onTouchStart:Ee,ref:Xe,tabIndex:c?-1:R,type:L},Be,W,{children:[o,U?l.jsx(o7,D({ref:F,center:i},j)):null]}))});function d7(e){return ot("MuiAlert",e)}const g2=nt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function h7(e){return ot("MuiIconButton",e)}const f7=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),p7=["edge","children","className","color","disabled","disableFocusRipple","size"],m7=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${he(r)}`,i&&`edge${he(i)}`,`size${he(o)}`]};return lt(a,h7,t)},g7=Ce(Cl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${he(n.color)}`],n.edge&&t[`edge${he(n.edge)}`],t[`size${he(n.size)}`]]}})(({theme:e,ownerState:t})=>D({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return D({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&D({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":D({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${f7.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Qf=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:c=!1,size:u="medium"}=n,h=ke(n,p7),f=D({},n,{edge:r,color:a,disabled:s,disableFocusRipple:c,size:u}),v=m7(f);return l.jsx(g7,D({className:Se(v.root,o),centerRipple:!0,focusRipple:!c,disabled:s,ref:t},h,{ownerState:f,children:i}))}),y7=_o(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),v7=_o(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),b7=_o(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),x7=_o(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),w7=_o(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),S7=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],k7=e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`color${he(n||r)}`,`${t}${he(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return lt(o,d7,i)},C7=Ce(Gr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${he(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Hv:Kv,n=e.palette.mode==="light"?Kv:Hv;return D({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${g2.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${g2.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:D({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),E7=Ce("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_7=Ce("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),y2=Ce("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),v2={success:l.jsx(y7,{fontSize:"inherit"}),warning:l.jsx(v7,{fontSize:"inherit"}),error:l.jsx(b7,{fontSize:"inherit"}),info:l.jsx(x7,{fontSize:"inherit"})},b2=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:a="Close",color:s,components:c={},componentsProps:u={},icon:h,iconMapping:f=v2,onClose:v,role:b="alert",severity:C="success",slotProps:S={},slots:T={},variant:E="standard"}=n,g=ke(n,S7),y=D({},n,{color:s,severity:C,variant:E,colorSeverity:s||C}),P=k7(y),M={slots:D({closeButton:c.CloseButton,closeIcon:c.CloseIcon},T),slotProps:D({},u,S)},[N,_]=Jv("closeButton",{elementType:Qf,externalForwardedProps:M,ownerState:y}),[p,m]=Jv("closeIcon",{elementType:w7,externalForwardedProps:M,ownerState:y});return l.jsxs(C7,D({role:b,elevation:0,ownerState:y,className:Se(P.root,o),ref:t},g,{children:[h!==!1?l.jsx(E7,{ownerState:y,className:P.icon,children:h||f[C]||v2[C]}):null,l.jsx(_7,{ownerState:y,className:P.message,children:i}),r!=null?l.jsx(y2,{ownerState:y,className:P.action,children:r}):null,r==null&&v?l.jsx(y2,{ownerState:y,className:P.action,children:l.jsx(N,D({size:"small","aria-label":a,title:a,color:"inherit",onClick:v},_,{children:l.jsx(p,D({fontSize:"small"},m))}))}):null]}))});function T7(e){return ot("MuiTypography",e)}nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const I7=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],j7=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,e.align!=="inherit"&&`align${he(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return lt(s,T7,a)},R7=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${he(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>D({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),x2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},P7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},O7=e=>P7[e]||e,Ne=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiTypography"}),r=O7(n.color),i=jm(D({},n,{color:r})),{align:o="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:u=!1,paragraph:h=!1,variant:f="body1",variantMapping:v=x2}=i,b=ke(i,I7),C=D({},i,{align:o,color:r,className:a,component:s,gutterBottom:c,noWrap:u,paragraph:h,variant:f,variantMapping:v}),S=s||(h?"p":v[f]||x2[f])||"span",T=j7(C);return l.jsx(R7,D({as:S,ref:t,ownerState:C,className:Se(T.root,a)},b))});function A7(e){return ot("MuiAppBar",e)}nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const N7=["className","color","enableColorOnDark","position"],M7=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${he(t)}`,`position${he(n)}`]};return lt(i,A7,r)},hh=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,L7=Ce(Gr,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${he(n.position)}`],t[`color${he(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return D({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&D({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&D({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&D({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:hh(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:hh(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:hh(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:hh(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),D7=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=n,s=ke(n,N7),c=D({},n,{color:i,position:a,enableColorOnDark:o}),u=M7(c);return l.jsx(L7,D({square:!0,component:"header",ownerState:c,elevation:4,className:Se(u.root,r,a==="fixed"&&"mui-fixed"),ref:t},s))});var zx={};Object.defineProperty(zx,"__esModule",{value:!0});var CR=zx.default=void 0,z7=B7(x),F7=xR;function ER(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(ER=function(r){return r?n:t})(e)}function B7(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=ER(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function W7(e){return Object.keys(e).length===0}function $7(e=null){const t=z7.useContext(F7.ThemeContext);return!t||W7(t)?e:t}CR=zx.default=$7;var fr="top",ti="bottom",ni="right",pr="left",Fx="auto",Sd=[fr,ti,ni,pr],El="start",Lu="end",U7="clippingParents",_R="viewport",gc="popper",V7="reference",w2=Sd.reduce(function(e,t){return e.concat([t+"-"+El,t+"-"+Lu])},[]),TR=[].concat(Sd,[Fx]).reduce(function(e,t){return e.concat([t,t+"-"+El,t+"-"+Lu])},[]),q7="beforeRead",H7="read",K7="afterRead",G7="beforeMain",Q7="main",Y7="afterMain",X7="beforeWrite",J7="write",Z7="afterWrite",e$=[q7,H7,K7,G7,Q7,Y7,X7,J7,Z7];function Bi(e){return e?(e.nodeName||"").toLowerCase():null}function Rr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Za(e){var t=Rr(e).Element;return e instanceof t||e instanceof Element}function Qr(e){var t=Rr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Bx(e){if(typeof ShadowRoot>"u")return!1;var t=Rr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function t$(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Qr(o)||!Bi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function n$(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(c,u){return c[u]="",c},{});!Qr(i)||!Bi(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const r$={name:"applyStyles",enabled:!0,phase:"write",fn:t$,effect:n$,requires:["computeStyles"]};function Mi(e){return e.split("-")[0]}var za=Math.max,Yf=Math.min,_l=Math.round;function e0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function IR(){return!/^((?!chrome|android).)*safari/i.test(e0())}function Tl(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Qr(e)&&(i=e.offsetWidth>0&&_l(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&_l(r.height)/e.offsetHeight||1);var a=Za(e)?Rr(e):window,s=a.visualViewport,c=!IR()&&n,u=(r.left+(c&&s?s.offsetLeft:0))/i,h=(r.top+(c&&s?s.offsetTop:0))/o,f=r.width/i,v=r.height/o;return{width:f,height:v,top:h,right:u+f,bottom:h+v,left:u,x:u,y:h}}function Wx(e){var t=Tl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function jR(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function So(e){return Rr(e).getComputedStyle(e)}function i$(e){return["table","td","th"].indexOf(Bi(e))>=0}function ya(e){return((Za(e)?e.ownerDocument:e.document)||window.document).documentElement}function Um(e){return Bi(e)==="html"?e:e.assignedSlot||e.parentNode||(Bx(e)?e.host:null)||ya(e)}function S2(e){return!Qr(e)||So(e).position==="fixed"?null:e.offsetParent}function o$(e){var t=/firefox/i.test(e0()),n=/Trident/i.test(e0());if(n&&Qr(e)){var r=So(e);if(r.position==="fixed")return null}var i=Um(e);for(Bx(i)&&(i=i.host);Qr(i)&&["html","body"].indexOf(Bi(i))<0;){var o=So(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function kd(e){for(var t=Rr(e),n=S2(e);n&&i$(n)&&So(n).position==="static";)n=S2(n);return n&&(Bi(n)==="html"||Bi(n)==="body"&&So(n).position==="static")?t:n||o$(e)||t}function $x(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jc(e,t,n){return za(e,Yf(t,n))}function a$(e,t,n){var r=Jc(e,t,n);return r>n?n:r}function RR(){return{top:0,right:0,bottom:0,left:0}}function PR(e){return Object.assign({},RR(),e)}function OR(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var s$=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,PR(typeof e!="number"?e:OR(e,Sd))};function l$(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Mi(n.placement),c=$x(s),u=[pr,ni].indexOf(s)>=0,h=u?"height":"width";if(!(!o||!a)){var f=s$(i.padding,n),v=Wx(o),b=c==="y"?fr:pr,C=c==="y"?ti:ni,S=n.rects.reference[h]+n.rects.reference[c]-a[c]-n.rects.popper[h],T=a[c]-n.rects.reference[c],E=kd(o),g=E?c==="y"?E.clientHeight||0:E.clientWidth||0:0,y=S/2-T/2,P=f[b],M=g-v[h]-f[C],N=g/2-v[h]/2+y,_=Jc(P,N,M),p=c;n.modifiersData[r]=(t={},t[p]=_,t.centerOffset=_-N,t)}}function c$(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||jR(t.elements.popper,i)&&(t.elements.arrow=i))}const u$={name:"arrow",enabled:!0,phase:"main",fn:l$,effect:c$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Il(e){return e.split("-")[1]}var d$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h$(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:_l(n*i)/i||0,y:_l(r*i)/i||0}}function k2(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,f=e.isFixed,v=a.x,b=v===void 0?0:v,C=a.y,S=C===void 0?0:C,T=typeof h=="function"?h({x:b,y:S}):{x:b,y:S};b=T.x,S=T.y;var E=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),y=pr,P=fr,M=window;if(u){var N=kd(n),_="clientHeight",p="clientWidth";if(N===Rr(n)&&(N=ya(n),So(N).position!=="static"&&s==="absolute"&&(_="scrollHeight",p="scrollWidth")),N=N,i===fr||(i===pr||i===ni)&&o===Lu){P=ti;var m=f&&N===M&&M.visualViewport?M.visualViewport.height:N[_];S-=m-r.height,S*=c?1:-1}if(i===pr||(i===fr||i===ti)&&o===Lu){y=ni;var w=f&&N===M&&M.visualViewport?M.visualViewport.width:N[p];b-=w-r.width,b*=c?1:-1}}var R=Object.assign({position:s},u&&d$),j=h===!0?h$({x:b,y:S},Rr(n)):{x:b,y:S};if(b=j.x,S=j.y,c){var I;return Object.assign({},R,(I={},I[P]=g?"0":"",I[y]=E?"0":"",I.transform=(M.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",I))}return Object.assign({},R,(t={},t[P]=g?S+"px":"",t[y]=E?b+"px":"",t.transform="",t))}function f$(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,c=s===void 0?!0:s,u={placement:Mi(t.placement),variation:Il(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,k2(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,k2(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const p$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:f$,data:{}};var fh={passive:!0};function m$(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,c=Rr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(h){h.addEventListener("scroll",n.update,fh)}),s&&c.addEventListener("resize",n.update,fh),function(){o&&u.forEach(function(h){h.removeEventListener("scroll",n.update,fh)}),s&&c.removeEventListener("resize",n.update,fh)}}const g$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:m$,data:{}};var y$={left:"right",right:"left",bottom:"top",top:"bottom"};function Gh(e){return e.replace(/left|right|bottom|top/g,function(t){return y$[t]})}var v$={start:"end",end:"start"};function C2(e){return e.replace(/start|end/g,function(t){return v$[t]})}function Ux(e){var t=Rr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Vx(e){return Tl(ya(e)).left+Ux(e).scrollLeft}function b$(e,t){var n=Rr(e),r=ya(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var u=IR();(u||!u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s+Vx(e),y:c}}function x$(e){var t,n=ya(e),r=Ux(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=za(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=za(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Vx(e),c=-r.scrollTop;return So(i||n).direction==="rtl"&&(s+=za(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}function qx(e){var t=So(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function AR(e){return["html","body","#document"].indexOf(Bi(e))>=0?e.ownerDocument.body:Qr(e)&&qx(e)?e:AR(Um(e))}function Zc(e,t){var n;t===void 0&&(t=[]);var r=AR(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Rr(r),a=i?[o].concat(o.visualViewport||[],qx(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Zc(Um(a)))}function t0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function w$(e,t){var n=Tl(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function E2(e,t,n){return t===_R?t0(b$(e,n)):Za(t)?w$(t,n):t0(x$(ya(e)))}function S$(e){var t=Zc(Um(e)),n=["absolute","fixed"].indexOf(So(e).position)>=0,r=n&&Qr(e)?kd(e):e;return Za(r)?t.filter(function(i){return Za(i)&&jR(i,r)&&Bi(i)!=="body"}):[]}function k$(e,t,n,r){var i=t==="clippingParents"?S$(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(c,u){var h=E2(e,u,r);return c.top=za(h.top,c.top),c.right=Yf(h.right,c.right),c.bottom=Yf(h.bottom,c.bottom),c.left=za(h.left,c.left),c},E2(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function NR(e){var t=e.reference,n=e.element,r=e.placement,i=r?Mi(r):null,o=r?Il(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(i){case fr:c={x:a,y:t.y-n.height};break;case ti:c={x:a,y:t.y+t.height};break;case ni:c={x:t.x+t.width,y:s};break;case pr:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var u=i?$x(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(o){case El:c[u]=c[u]-(t[h]/2-n[h]/2);break;case Lu:c[u]=c[u]+(t[h]/2-n[h]/2);break}}return c}function Du(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,a=o===void 0?e.strategy:o,s=n.boundary,c=s===void 0?U7:s,u=n.rootBoundary,h=u===void 0?_R:u,f=n.elementContext,v=f===void 0?gc:f,b=n.altBoundary,C=b===void 0?!1:b,S=n.padding,T=S===void 0?0:S,E=PR(typeof T!="number"?T:OR(T,Sd)),g=v===gc?V7:gc,y=e.rects.popper,P=e.elements[C?g:v],M=k$(Za(P)?P:P.contextElement||ya(e.elements.popper),c,h,a),N=Tl(e.elements.reference),_=NR({reference:N,element:y,placement:i}),p=t0(Object.assign({},y,_)),m=v===gc?p:N,w={top:M.top-m.top+E.top,bottom:m.bottom-M.bottom+E.bottom,left:M.left-m.left+E.left,right:m.right-M.right+E.right},R=e.modifiersData.offset;if(v===gc&&R){var j=R[i];Object.keys(w).forEach(function(I){var L=[ni,ti].indexOf(I)>=0?1:-1,W=[fr,ti].indexOf(I)>=0?"y":"x";w[I]+=j[W]*L})}return w}function C$(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?TR:c,h=Il(r),f=h?s?w2:w2.filter(function(C){return Il(C)===h}):Sd,v=f.filter(function(C){return u.indexOf(C)>=0});v.length===0&&(v=f);var b=v.reduce(function(C,S){return C[S]=Du(e,{placement:S,boundary:i,rootBoundary:o,padding:a})[Mi(S)],C},{});return Object.keys(b).sort(function(C,S){return b[C]-b[S]})}function E$(e){if(Mi(e)===Fx)return[];var t=Gh(e);return[C2(e),t,C2(t)]}function _$(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,C=b===void 0?!0:b,S=n.allowedAutoPlacements,T=t.options.placement,E=Mi(T),g=E===T,y=c||(g||!C?[Gh(T)]:E$(T)),P=[T].concat(y).reduce(function(ue,le){return ue.concat(Mi(le)===Fx?C$(t,{placement:le,boundary:h,rootBoundary:f,padding:u,flipVariations:C,allowedAutoPlacements:S}):le)},[]),M=t.rects.reference,N=t.rects.popper,_=new Map,p=!0,m=P[0],w=0;w<P.length;w++){var R=P[w],j=Mi(R),I=Il(R)===El,L=[fr,ti].indexOf(j)>=0,W=L?"width":"height",K=Du(t,{placement:R,boundary:h,rootBoundary:f,altBoundary:v,padding:u}),B=L?I?ni:pr:I?ti:fr;M[W]>N[W]&&(B=Gh(B));var F=Gh(B),$=[];if(o&&$.push(K[j]<=0),s&&$.push(K[B]<=0,K[F]<=0),$.every(function(ue){return ue})){m=R,p=!1;break}_.set(R,$)}if(p)for(var q=C?3:1,H=function(ue){var le=P.find(function(Pe){var U=_.get(Pe);if(U)return U.slice(0,ue).every(function(ee){return ee})});if(le)return m=le,"break"},G=q;G>0;G--){var Q=H(G);if(Q==="break")break}t.placement!==m&&(t.modifiersData[r]._skip=!0,t.placement=m,t.reset=!0)}}const T$={name:"flip",enabled:!0,phase:"main",fn:_$,requiresIfExists:["offset"],data:{_skip:!1}};function _2(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function T2(e){return[fr,ni,ti,pr].some(function(t){return e[t]>=0})}function I$(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Du(t,{elementContext:"reference"}),s=Du(t,{altBoundary:!0}),c=_2(a,r),u=_2(s,i,o),h=T2(c),f=T2(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const j$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:I$};function R$(e,t,n){var r=Mi(e),i=[pr,fr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[pr,ni].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function P$(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=TR.reduce(function(h,f){return h[f]=R$(f,t.rects,o),h},{}),s=a[t.placement],c=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const O$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:P$};function A$(e){var t=e.state,n=e.name;t.modifiersData[n]=NR({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const N$={name:"popperOffsets",enabled:!0,phase:"read",fn:A$,data:{}};function M$(e){return e==="x"?"y":"x"}function L$(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,v=n.tether,b=v===void 0?!0:v,C=n.tetherOffset,S=C===void 0?0:C,T=Du(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),E=Mi(t.placement),g=Il(t.placement),y=!g,P=$x(E),M=M$(P),N=t.modifiersData.popperOffsets,_=t.rects.reference,p=t.rects.popper,m=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,w=typeof m=="number"?{mainAxis:m,altAxis:m}:Object.assign({mainAxis:0,altAxis:0},m),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(N){if(o){var I,L=P==="y"?fr:pr,W=P==="y"?ti:ni,K=P==="y"?"height":"width",B=N[P],F=B+T[L],$=B-T[W],q=b?-p[K]/2:0,H=g===El?_[K]:p[K],G=g===El?-p[K]:-_[K],Q=t.elements.arrow,ue=b&&Q?Wx(Q):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:RR(),Pe=le[L],U=le[W],ee=Jc(0,_[K],ue[K]),V=y?_[K]/2-q-ee-Pe-w.mainAxis:H-ee-Pe-w.mainAxis,J=y?-_[K]/2+q+ee+U+w.mainAxis:G+ee+U+w.mainAxis,te=t.elements.arrow&&kd(t.elements.arrow),oe=te?P==="y"?te.clientTop||0:te.clientLeft||0:0,me=(I=R==null?void 0:R[P])!=null?I:0,Ee=B+V-me-oe,De=B+J-me,Ie=Jc(b?Yf(F,Ee):F,B,b?za($,De):$);N[P]=Ie,j[P]=Ie-B}if(s){var Ue,_e=P==="x"?fr:pr,X=P==="x"?ti:ni,ae=N[M],Oe=M==="y"?"height":"width",xe=ae+T[_e],ve=ae-T[X],Be=[fr,pr].indexOf(E)!==-1,Xe=(Ue=R==null?void 0:R[M])!=null?Ue:0,je=Be?xe:ae-_[Oe]-p[Oe]-Xe+w.altAxis,de=Be?ae+_[Oe]+p[Oe]-Xe-w.altAxis:ve,ye=b&&Be?a$(je,ae,de):Jc(b?je:xe,ae,b?de:ve);N[M]=ye,j[M]=ye-ae}t.modifiersData[r]=j}}const D$={name:"preventOverflow",enabled:!0,phase:"main",fn:L$,requiresIfExists:["offset"]};function z$(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function F$(e){return e===Rr(e)||!Qr(e)?Ux(e):z$(e)}function B$(e){var t=e.getBoundingClientRect(),n=_l(t.width)/e.offsetWidth||1,r=_l(t.height)/e.offsetHeight||1;return n!==1||r!==1}function W$(e,t,n){n===void 0&&(n=!1);var r=Qr(t),i=Qr(t)&&B$(t),o=ya(t),a=Tl(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Bi(t)!=="body"||qx(o))&&(s=F$(t)),Qr(t)?(c=Tl(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Vx(o))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function $$(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var c=t.get(s);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function U$(e){var t=$$(e);return e$.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function V$(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function q$(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var I2={placement:"bottom",modifiers:[],strategy:"absolute"};function j2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function H$(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?I2:i;return function(a,s,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},I2,o),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},h=[],f=!1,v={state:u,setOptions:function(S){var T=typeof S=="function"?S(u.options):S;C(),u.options=Object.assign({},o,u.options,T),u.scrollParents={reference:Za(a)?Zc(a):a.contextElement?Zc(a.contextElement):[],popper:Zc(s)};var E=U$(q$([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(g){return g.enabled}),b(),v.update()},forceUpdate:function(){if(!f){var S=u.elements,T=S.reference,E=S.popper;if(j2(T,E)){u.rects={reference:W$(T,kd(E),u.options.strategy==="fixed"),popper:Wx(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(p){return u.modifiersData[p.name]=Object.assign({},p.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var y=u.orderedModifiers[g],P=y.fn,M=y.options,N=M===void 0?{}:M,_=y.name;typeof P=="function"&&(u=P({state:u,options:N,name:_,instance:v})||u)}}}},update:V$(function(){return new Promise(function(S){v.forceUpdate(),S(u)})}),destroy:function(){C(),f=!0}};if(!j2(a,s))return v;v.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function b(){u.orderedModifiers.forEach(function(S){var T=S.name,E=S.options,g=E===void 0?{}:E,y=S.effect;if(typeof y=="function"){var P=y({state:u,name:T,instance:v,options:g}),M=function(){};h.push(P||M)}})}function C(){h.forEach(function(S){return S()}),h=[]}return v}}var K$=[g$,N$,p$,r$,O$,T$,D$,u$,j$],G$=H$({defaultModifiers:K$});function Q$(e){return typeof e=="function"?e():e}const MR=x.forwardRef(function(e,t){const{children:n,container:r,disablePortal:i=!1}=e,[o,a]=x.useState(null),s=Yt(x.isValidElement(n)?cs(n):null,t);if(jr(()=>{i||a(Q$(r)||document.body)},[r,i]),jr(()=>{if(o&&!i)return Vf(t,o),()=>{Vf(t,null)}},[t,o,i]),i){if(x.isValidElement(n)){const c={ref:s};return x.cloneElement(n,c)}return l.jsx(x.Fragment,{children:n})}return l.jsx(x.Fragment,{children:o&&lb.createPortal(n,o)})});function Y$(e){return ot("MuiPopper",e)}nt("MuiPopper",["root"]);const X$=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],J$=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Z$(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function n0(e){return typeof e=="function"?e():e}function eU(e){return e.nodeType!==void 0}const tU=e=>{const{classes:t}=e;return lt({root:["root"]},Y$,t)},nU={},rU=x.forwardRef(function(e,t){var n;const{anchorEl:r,children:i,direction:o,disablePortal:a,modifiers:s,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:v={},slots:b={},TransitionProps:C}=e,S=ke(e,X$),T=x.useRef(null),E=Yt(T,t),g=x.useRef(null),y=Yt(g,f),P=x.useRef(y);jr(()=>{P.current=y},[y]),x.useImperativeHandle(f,()=>g.current,[]);const M=Z$(u,o),[N,_]=x.useState(M),[p,m]=x.useState(n0(r));x.useEffect(()=>{g.current&&g.current.forceUpdate()}),x.useEffect(()=>{r&&m(n0(r))},[r]),jr(()=>{if(!p||!c)return;const L=B=>{_(B.placement)};let W=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{L(B)}}];s!=null&&(W=W.concat(s)),h&&h.modifiers!=null&&(W=W.concat(h.modifiers));const K=G$(p,T.current,D({placement:M},h,{modifiers:W}));return P.current(K),()=>{K.destroy(),P.current(null)}},[p,a,s,c,h,M]);const w={placement:N};C!==null&&(w.TransitionProps=C);const R=tU(e),j=(n=b.root)!=null?n:"div",I=wo({elementType:j,externalSlotProps:v.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:R.root});return l.jsx(j,D({},I,{children:typeof i=="function"?i(w):i}))}),iU=x.forwardRef(function(e,t){const{anchorEl:n,children:r,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:s=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=nU,popperRef:v,style:b,transition:C=!1,slotProps:S={},slots:T={}}=e,E=ke(e,J$),[g,y]=x.useState(!0),P=()=>{y(!1)},M=()=>{y(!0)};if(!s&&!u&&(!C||g))return null;let N;if(i)N=i;else if(n){const m=n0(n);N=m&&eU(m)?Gn(m).body:Gn(null).body}const _=!u&&s&&(!C||g)?"none":void 0,p=C?{in:u,onEnter:P,onExited:M}:void 0;return l.jsx(MR,{disablePortal:a,container:N,children:l.jsx(rU,D({anchorEl:n,direction:o,disablePortal:a,modifiers:c,ref:t,open:C?!g:u,placement:h,popperOptions:f,popperRef:v,slotProps:S,slots:T},E,{style:D({position:"fixed",top:0,left:0,display:_},b),TransitionProps:p,children:r}))})}),oU=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],aU=Ce(iU,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),LR=x.forwardRef(function(e,t){var n;const r=CR(),i=at({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:s,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:v,open:b,placement:C,popperOptions:S,popperRef:T,transition:E,slots:g,slotProps:y}=i,P=ke(i,oU),M=(n=g==null?void 0:g.root)!=null?n:s==null?void 0:s.Root,N=D({anchorEl:o,container:u,disablePortal:h,keepMounted:f,modifiers:v,open:b,placement:C,popperOptions:S,popperRef:T,transition:E},P);return l.jsx(aU,D({as:a,direction:r==null?void 0:r.direction,slots:{root:M},slotProps:y??c},N,{ref:t}))}),sU=_o(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function lU(e){return ot("MuiChip",e)}const vt=nt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),cU=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],uU=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:c}=e,u={root:["root",c,n&&"disabled",`size${he(r)}`,`color${he(i)}`,s&&"clickable",s&&`clickableColor${he(i)}`,a&&"deletable",a&&`deletableColor${he(i)}`,`${c}${he(i)}`],label:["label",`label${he(r)}`],avatar:["avatar",`avatar${he(r)}`,`avatarColor${he(i)}`],icon:["icon",`icon${he(r)}`,`iconColor${he(o)}`],deleteIcon:["deleteIcon",`deleteIcon${he(r)}`,`deleteIconColor${he(i)}`,`deleteIcon${he(c)}Color${he(i)}`]};return lt(u,lU,t)},dU=Ce("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:c}=n;return[{[`& .${vt.avatar}`]:t.avatar},{[`& .${vt.avatar}`]:t[`avatar${he(s)}`]},{[`& .${vt.avatar}`]:t[`avatarColor${he(r)}`]},{[`& .${vt.icon}`]:t.icon},{[`& .${vt.icon}`]:t[`icon${he(s)}`]},{[`& .${vt.icon}`]:t[`iconColor${he(i)}`]},{[`& .${vt.deleteIcon}`]:t.deleteIcon},{[`& .${vt.deleteIcon}`]:t[`deleteIcon${he(s)}`]},{[`& .${vt.deleteIcon}`]:t[`deleteIconColor${he(r)}`]},{[`& .${vt.deleteIcon}`]:t[`deleteIcon${he(c)}Color${he(r)}`]},t.root,t[`size${he(s)}`],t[`color${he(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${he(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${he(r)}`],t[c],t[`${c}${he(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return D({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${vt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${vt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${vt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${vt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${vt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${vt.icon}`]:D({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&D({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${vt.deleteIcon}`]:D({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ct(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ct(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Ct(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ct(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${vt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>D({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ct(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ct(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${vt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>D({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${vt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${vt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${vt.avatar}`]:{marginLeft:4},[`& .${vt.avatarSmall}`]:{marginLeft:2},[`& .${vt.icon}`]:{marginLeft:4},[`& .${vt.iconSmall}`]:{marginLeft:2},[`& .${vt.deleteIcon}`]:{marginRight:5},[`& .${vt.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ct(e.palette[t.color].main,.7)}`,[`&.${vt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ct(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${vt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ct(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),hU=Ce("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${he(r)}`]]}})(({ownerState:e})=>D({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function R2(e){return e.key==="Backspace"||e.key==="Delete"}const P2=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiChip"}),{avatar:r,className:i,clickable:o,color:a="default",component:s,deleteIcon:c,disabled:u=!1,icon:h,label:f,onClick:v,onDelete:b,onKeyDown:C,onKeyUp:S,size:T="medium",variant:E="filled",tabIndex:g,skipFocusWhenDisabled:y=!1}=n,P=ke(n,cU),M=x.useRef(null),N=Yt(M,t),_=F=>{F.stopPropagation(),b&&b(F)},p=F=>{F.currentTarget===F.target&&R2(F)&&F.preventDefault(),C&&C(F)},m=F=>{F.currentTarget===F.target&&(b&&R2(F)?b(F):F.key==="Escape"&&M.current&&M.current.blur()),S&&S(F)},w=o!==!1&&v?!0:o,R=w||b?Cl:s||"div",j=D({},n,{component:R,disabled:u,size:T,color:a,iconColor:x.isValidElement(h)&&h.props.color||a,onDelete:!!b,clickable:w,variant:E}),I=uU(j),L=R===Cl?D({component:s||"div",focusVisibleClassName:I.focusVisible},b&&{disableRipple:!0}):{};let W=null;b&&(W=c&&x.isValidElement(c)?x.cloneElement(c,{className:Se(c.props.className,I.deleteIcon),onClick:_}):l.jsx(sU,{className:Se(I.deleteIcon),onClick:_}));let K=null;r&&x.isValidElement(r)&&(K=x.cloneElement(r,{className:Se(I.avatar,r.props.className)}));let B=null;return h&&x.isValidElement(h)&&(B=x.cloneElement(h,{className:Se(I.icon,h.props.className)})),l.jsxs(dU,D({as:R,className:Se(I.root,i),disabled:w&&u?!0:void 0,onClick:v,onKeyDown:p,onKeyUp:m,ref:N,tabIndex:y&&u?-1:g,ownerState:j},L,P,{children:[K||B,l.jsx(hU,{className:Se(I.label),ownerState:j,children:f}),W]}))}),fU=["onChange","maxRows","minRows","style","value"];function ph(e){return parseInt(e,10)||0}const pU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mU(e){for(const t in e)return!1;return!0}function O2(e){return mU(e)||e.outerHeightStyle===0&&!e.overflowing}const gU=x.forwardRef(function(e,t){const{onChange:n,maxRows:r,minRows:i=1,style:o,value:a}=e,s=ke(e,fU),{current:c}=x.useRef(a!=null),u=x.useRef(null),h=Yt(t,u),f=x.useRef(null),v=x.useRef(null),b=x.useCallback(()=>{const g=u.current,y=v.current;if(!g||!y)return;const P=Fi(g).getComputedStyle(g);if(P.width==="0px")return{outerHeightStyle:0,overflowing:!1};y.style.width=P.width,y.value=g.value||e.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const M=P.boxSizing,N=ph(P.paddingBottom)+ph(P.paddingTop),_=ph(P.borderBottomWidth)+ph(P.borderTopWidth),p=y.scrollHeight;y.value="x";const m=y.scrollHeight;let w=p;i&&(w=Math.max(Number(i)*m,w)),r&&(w=Math.min(Number(r)*m,w)),w=Math.max(w,m);const R=w+(M==="border-box"?N+_:0),j=Math.abs(w-p)<=1;return{outerHeightStyle:R,overflowing:j}},[r,i,e.placeholder]),C=_i(()=>{const g=u.current,y=b();if(!g||!y||O2(y))return!1;const P=y.outerHeightStyle;return f.current!=null&&f.current!==P}),S=x.useCallback(()=>{const g=u.current,y=b();if(!g||!y||O2(y))return;const P=y.outerHeightStyle;f.current!==P&&(f.current=P,g.style.height=`${P}px`),g.style.overflow=y.overflowing?"hidden":""},[b]),T=x.useRef(-1);jr(()=>{const g=Bm(S),y=u==null?void 0:u.current;if(!y)return;const P=Fi(y);P.addEventListener("resize",g);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{C()&&(M.unobserve(y),cancelAnimationFrame(T.current),S(),T.current=requestAnimationFrame(()=>{M.observe(y)}))}),M.observe(y)),()=>{g.clear(),cancelAnimationFrame(T.current),P.removeEventListener("resize",g),M&&M.disconnect()}},[b,S,C]),jr(()=>{S()});const E=g=>{c||S(),n&&n(g)};return l.jsxs(x.Fragment,{children:[l.jsx("textarea",D({value:a,onChange:E,ref:h,rows:i,style:o},s)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:D({},pU.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Ql({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Hx=x.createContext(void 0);function Yl(){return x.useContext(Hx)}function DR(e){return l.jsx(eR,D({},e,{defaultTheme:Nx,themeId:xl}))}function A2(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Xf(e,t=!1){return e&&(A2(e.value)&&e.value!==""||t&&A2(e.defaultValue)&&e.defaultValue!=="")}function yU(e){return e.startAdornment}function vU(e){return ot("MuiInputBase",e)}const jl=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),bU=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Vm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${he(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},qm=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},xU=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:f,size:v,startAdornment:b,type:C}=e,S={root:["root",`color${he(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",v&&v!=="medium"&&`size${he(v)}`,h&&"multiline",b&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",C==="search"&&"inputTypeSearch",h&&"inputMultiline",v==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",b&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return lt(S,vU,t)},Hm=Ce("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Vm})(({theme:e,ownerState:t})=>D({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jl.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&D({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Km=Ce("input",{name:"MuiInputBase",slot:"Input",overridesResolver:qm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=D({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return D({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${jl.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),wU=l.jsx(DR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Kx=x.forwardRef(function(e,t){var n;const r=at({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:s,components:c={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:v,endAdornment:b,fullWidth:C=!1,id:S,inputComponent:T="input",inputProps:E={},inputRef:g,maxRows:y,minRows:P,multiline:M=!1,name:N,onBlur:_,onChange:p,onClick:m,onFocus:w,onKeyDown:R,onKeyUp:j,placeholder:I,readOnly:L,renderSuffix:W,rows:K,slotProps:B={},slots:F={},startAdornment:$,type:q="text",value:H}=r,G=ke(r,bU),Q=E.value!=null?E.value:H,{current:ue}=x.useRef(Q!=null),le=x.useRef(),Pe=x.useCallback(de=>{},[]),U=Yt(le,g,E.ref,Pe),[ee,V]=x.useState(!1),J=Yl(),te=Ql({props:r,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=J?J.focused:ee,x.useEffect(()=>{!J&&f&&ee&&(V(!1),_&&_())},[J,f,ee,_]);const oe=J&&J.onFilled,me=J&&J.onEmpty,Ee=x.useCallback(de=>{Xf(de)?oe&&oe():me&&me()},[oe,me]);jr(()=>{ue&&Ee({value:Q})},[Q,Ee,ue]);const De=de=>{if(te.disabled){de.stopPropagation();return}w&&w(de),E.onFocus&&E.onFocus(de),J&&J.onFocus?J.onFocus(de):V(!0)},Ie=de=>{_&&_(de),E.onBlur&&E.onBlur(de),J&&J.onBlur?J.onBlur(de):V(!1)},Ue=(de,...ye)=>{if(!ue){const rt=de.target||le.current;if(rt==null)throw new Error(Ja(1));Ee({value:rt.value})}E.onChange&&E.onChange(de,...ye),p&&p(de,...ye)};x.useEffect(()=>{Ee(le.current)},[]);const _e=de=>{le.current&&de.currentTarget===de.target&&le.current.focus(),m&&m(de)};let X=T,ae=E;M&&X==="input"&&(K?ae=D({type:void 0,minRows:K,maxRows:K},ae):ae=D({type:void 0,maxRows:y,minRows:P},ae),X=gU);const Oe=de=>{Ee(de.animationName==="mui-auto-fill-cancel"?le.current:{value:"x"})};x.useEffect(()=>{J&&J.setAdornedStart(!!$)},[J,$]);const xe=D({},r,{color:te.color||"primary",disabled:te.disabled,endAdornment:b,error:te.error,focused:te.focused,formControl:J,fullWidth:C,hiddenLabel:te.hiddenLabel,multiline:M,size:te.size,startAdornment:$,type:q}),ve=xU(xe),Be=F.root||c.Root||Hm,Xe=B.root||u.root||{},je=F.input||c.Input||Km;return ae=D({},ae,(n=B.input)!=null?n:u.input),l.jsxs(x.Fragment,{children:[!v&&wU,l.jsxs(Be,D({},Xe,!Sl(Be)&&{ownerState:D({},xe,Xe.ownerState)},{ref:t,onClick:_e},G,{className:Se(ve.root,Xe.className,s,L&&"MuiInputBase-readOnly"),children:[$,l.jsx(Hx.Provider,{value:null,children:l.jsx(je,D({ownerState:xe,"aria-invalid":te.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:h,disabled:te.disabled,id:S,onAnimationStart:Oe,name:N,placeholder:I,readOnly:L,required:te.required,rows:K,value:Q,onKeyDown:R,onKeyUp:j,type:q},ae,!Sl(je)&&{as:X,ownerState:D({},xe,ae.ownerState)},{ref:U,className:Se(ve.input,ae.className,L&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:Ue,onFocus:De}))}),b,W?W(D({},te,{startAdornment:$})):null]}))]})});function SU(e){return ot("MuiInput",e)}const yc=D({},jl,nt("MuiInput",["root","underline","input"]));function kU(e){return ot("MuiOutlinedInput",e)}const Oo=D({},jl,nt("MuiOutlinedInput",["root","notchedOutline","input"]));function CU(e){return ot("MuiFilledInput",e)}const Sa=D({},jl,nt("MuiFilledInput",["root","underline","input"])),EU=_o(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_U=_o(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function TU(e){return ot("MuiAvatar",e)}nt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const IU=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],jU=e=>{const{classes:t,variant:n,colorDefault:r}=e;return lt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},TU,t)},RU=Ce("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:D({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:D({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),PU=Ce("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),OU=Ce(_U,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function AU({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,o]=x.useState(!1);return x.useEffect(()=>{if(!n&&!r)return;o(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&o("loaded")},s.onerror=()=>{a&&o("error")},s.crossOrigin=e,s.referrerPolicy=t,s.src=n,r&&(s.srcset=r),()=>{a=!1}},[e,t,n,r]),i}const NU=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiAvatar"}),{alt:r,children:i,className:o,component:a="div",slots:s={},slotProps:c={},imgProps:u,sizes:h,src:f,srcSet:v,variant:b="circular"}=n,C=ke(n,IU);let S=null;const T=AU(D({},u,{src:f,srcSet:v})),E=f||v,g=E&&T!=="error",y=D({},n,{colorDefault:!g,component:a,variant:b}),P=jU(y),[M,N]=Jv("img",{className:P.img,elementType:PU,externalForwardedProps:{slots:s,slotProps:{img:D({},u,c.img)}},additionalProps:{alt:r,src:f,srcSet:v,sizes:h},ownerState:y});return g?S=l.jsx(M,D({},N)):i||i===0?S=i:E&&r?S=r[0]:S=l.jsx(OU,{ownerState:y,className:P.fallback}),l.jsx(RU,D({as:a,ownerState:y,className:Se(P.root,o),ref:t},C,{children:S}))}),MU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],LU={entering:{opacity:1},entered:{opacity:1}},zR=x.forwardRef(function(e,t){const n=Kl(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:s,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:v,onExited:b,onExiting:C,style:S,timeout:T=r,TransitionComponent:E=vi}=e,g=ke(e,MU),y=x.useRef(null),P=Yt(y,cs(a),t),M=I=>L=>{if(I){const W=y.current;L===void 0?I(W):I(W,L)}},N=M(f),_=M((I,L)=>{Dx(I);const W=kl({style:S,timeout:T,easing:s},{mode:"enter"});I.style.webkitTransition=n.transitions.create("opacity",W),I.style.transition=n.transitions.create("opacity",W),u&&u(I,L)}),p=M(h),m=M(C),w=M(I=>{const L=kl({style:S,timeout:T,easing:s},{mode:"exit"});I.style.webkitTransition=n.transitions.create("opacity",L),I.style.transition=n.transitions.create("opacity",L),v&&v(I)}),R=M(b),j=I=>{i&&i(y.current,I)};return l.jsx(E,D({appear:o,in:c,nodeRef:y,onEnter:_,onEntered:p,onEntering:N,onExit:w,onExited:R,onExiting:m,addEndListener:j,timeout:T},g,{children:(I,L)=>x.cloneElement(a,D({style:D({opacity:0,visibility:I==="exited"&&!c?"hidden":void 0},LU[I],S,a.props.style),ref:P},L))}))});function DU(e){return ot("MuiBackdrop",e)}nt("MuiBackdrop",["root","invisible"]);const zU=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],FU=e=>{const{classes:t,invisible:n}=e;return lt({root:["root",n&&"invisible"]},DU,t)},BU=Ce("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>D({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),WU=x.forwardRef(function(e,t){var n,r,i;const o=at({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:c="div",components:u={},componentsProps:h={},invisible:f=!1,open:v,slotProps:b={},slots:C={},TransitionComponent:S=zR,transitionDuration:T}=o,E=ke(o,zU),g=D({},o,{component:c,invisible:f}),y=FU(g),P=(n=b.root)!=null?n:h.root;return l.jsx(S,D({in:v,timeout:T},E,{children:l.jsx(BU,D({"aria-hidden":!0},P,{as:(r=(i=C.root)!=null?i:u.Root)!=null?r:c,className:Se(y.root,s,P==null?void 0:P.className),ownerState:D({},g,P==null?void 0:P.ownerState),classes:y,ref:t,children:a}))}))});function $U(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=oR({badgeContent:t,max:r});let a=n;n===!1&&t===0&&!i&&(a=!0);const{badgeContent:s,max:c=r}=a?o:e,u=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:a,max:c,displayValue:u}}function UU(e){return ot("MuiBadge",e)}const Ao=nt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),VU=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],ey=10,ty=4,qU=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:a={}}=e,s={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${he(n.vertical)}${he(n.horizontal)}`,`anchorOrigin${he(n.vertical)}${he(n.horizontal)}${he(i)}`,`overlap${he(i)}`,t!=="default"&&`color${he(t)}`]};return lt(s,UU,a)},HU=Ce("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),KU=Ce("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${he(n.anchorOrigin.vertical)}${he(n.anchorOrigin.horizontal)}${he(n.overlap)}`],n.color!=="default"&&t[`color${he(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:ey*2,lineHeight:1,padding:"0 6px",height:ey*2,borderRadius:ey,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var r,i;return((r=e.vars)!=null?r:e).palette[n].main&&((i=e.vars)!=null?i:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:ty,height:ty*2,minWidth:ty*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ao.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),GU=x.forwardRef(function(e,t){var n,r,i,o,a,s;const c=at({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:h,component:f,components:v={},componentsProps:b={},children:C,overlap:S="rectangular",color:T="default",invisible:E=!1,max:g=99,badgeContent:y,slots:P,slotProps:M,showZero:N=!1,variant:_="standard"}=c,p=ke(c,VU),{badgeContent:m,invisible:w,max:R,displayValue:j}=$U({max:g,invisible:E,badgeContent:y,showZero:N}),I=oR({anchorOrigin:u,color:T,overlap:S,variant:_,badgeContent:y}),L=w||m==null&&_!=="dot",{color:W=T,overlap:K=S,anchorOrigin:B=u,variant:F=_}=L?I:c,$=F!=="dot"?j:void 0,q=D({},c,{badgeContent:m,invisible:L,max:R,displayValue:$,showZero:N,anchorOrigin:B,color:W,overlap:K,variant:F}),H=qU(q),G=(n=(r=P==null?void 0:P.root)!=null?r:v.Root)!=null?n:HU,Q=(i=(o=P==null?void 0:P.badge)!=null?o:v.Badge)!=null?i:KU,ue=(a=M==null?void 0:M.root)!=null?a:b.root,le=(s=M==null?void 0:M.badge)!=null?s:b.badge,Pe=wo({elementType:G,externalSlotProps:ue,externalForwardedProps:p,additionalProps:{ref:t,as:f},ownerState:q,className:Se(ue==null?void 0:ue.className,H.root,h)}),U=wo({elementType:Q,externalSlotProps:le,ownerState:q,className:Se(H.badge,le==null?void 0:le.className)});return l.jsxs(G,D({},Pe,{children:[C,l.jsx(Q,D({},U,{children:$}))]}))}),QU=nt("MuiBox",["root"]),YU=Ax(),He=IF({themeId:xl,defaultTheme:YU,defaultClassName:QU.root,generateClassName:Ex.generate});function XU(e){return ot("MuiButton",e)}const mh=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),JU=x.createContext({}),ZU=x.createContext(void 0),eV=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],tV=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e,s={root:["root",o,`${o}${he(t)}`,`size${he(i)}`,`${o}Size${he(i)}`,`color${he(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${he(i)}`],endIcon:["icon","endIcon",`iconSize${he(i)}`]},c=lt(s,XU,a);return D({},a,c)},FR=e=>D({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),nV=Ce(Cl,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${he(n.color)}`],t[`size${he(n.size)}`],t[`${n.variant}Size${he(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return D({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":D({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ct(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":D({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${mh.focusVisible}`]:D({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${mh.disabled}`]:D({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ct(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${mh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${mh.disabled}`]:{boxShadow:"none"}}),rV=Ce("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${he(n.size)}`]]}})(({ownerState:e})=>D({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},FR(e))),iV=Ce("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${he(n.size)}`]]}})(({ownerState:e})=>D({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},FR(e))),Vn=x.forwardRef(function(e,t){const n=x.useContext(JU),r=x.useContext(ZU),i=Mu(n,e),o=at({props:i,name:"MuiButton"}),{children:a,color:s="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:v=!1,endIcon:b,focusVisibleClassName:C,fullWidth:S=!1,size:T="medium",startIcon:E,type:g,variant:y="text"}=o,P=ke(o,eV),M=D({},o,{color:s,component:c,disabled:h,disableElevation:f,disableFocusRipple:v,fullWidth:S,size:T,type:g,variant:y}),N=tV(M),_=E&&l.jsx(rV,{className:N.startIcon,ownerState:M,children:E}),p=b&&l.jsx(iV,{className:N.endIcon,ownerState:M,children:b}),m=r||"";return l.jsxs(nV,D({ownerState:M,className:Se(n.className,N.root,u,m),component:c,disabled:h,focusRipple:!v,focusVisibleClassName:Se(N.focusVisible,C),ref:t,type:g},P,{classes:N,children:[_,a,p]}))});function oV(e){return ot("MuiCard",e)}nt("MuiCard",["root"]);const aV=["className","raised"],sV=e=>{const{classes:t}=e;return lt({root:["root"]},oV,t)},lV=Ce(Gr,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Jf=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=ke(n,aV),a=D({},n,{raised:i}),s=sV(a);return l.jsx(lV,D({className:Se(s.root,r),elevation:i?8:void 0,ref:t,ownerState:a},o))});function cV(e){return ot("MuiCardContent",e)}nt("MuiCardContent",["root"]);const uV=["className","component"],dV=e=>{const{classes:t}=e;return lt({root:["root"]},cV,t)},hV=Ce("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Zf=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=ke(n,uV),a=D({},n,{component:i}),s=dV(a);return l.jsx(hV,D({as:i,className:Se(s.root,r),ownerState:a,ref:t},o))});function fV(e){return ot("MuiCardMedia",e)}nt("MuiCardMedia",["root","media","img"]);const pV=["children","className","component","image","src","style"],mV=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return lt({root:["root",n&&"media",r&&"img"]},fV,t)},gV=Ce("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>D({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),yV=["video","audio","picture","iframe","img"],vV=["picture","img"],N2=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:a,src:s,style:c}=n,u=ke(n,pV),h=yV.indexOf(o)!==-1,f=!h&&a?D({backgroundImage:`url("${a}")`},c):c,v=D({},n,{component:o,isMediaComponent:h,isImageComponent:vV.indexOf(o)!==-1}),b=mV(v);return l.jsx(gV,D({className:Se(b.root,i),as:o,role:!h&&a?"img":void 0,ref:t,style:f,ownerState:v,src:h?a||s:void 0},u,{children:r}))}),BR=_B({createStyledComponent:Ce("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${he(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>at({props:e,name:"MuiContainer"})}),bV=(e,t)=>D({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),xV=e=>D({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),wV=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([a,s])=>{var c;r[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=s.palette)==null?void 0:c.mode}});let i=D({html:bV(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:D({margin:0},xV(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function SV(e){const t=at({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return l.jsxs(x.Fragment,{children:[l.jsx(DR,{styles:i=>wV(i,r)}),n]})}function kV(e){const t=Gn(e);return t.body===e?Fi(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function eu(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function M2(e){return parseInt(Fi(e).getComputedStyle(e).paddingRight,10)||0}function CV(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return t||n}function L2(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,a=>{const s=o.indexOf(a)===-1,c=!CV(a);s&&c&&eu(a,i)})}function ny(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function EV(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(kV(r)){const o=iR(Gn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${M2(r)+o}px`;const a=Gn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,s=>{n.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${M2(s)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Gn(r).body;else{const o=r.parentElement,a=Fi(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function _V(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class TV{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&eu(t.modalRef,!1);const i=_V(n);L2(n,t.mount,t.modalRef,i,!0);const o=ny(this.containers,a=>a.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=ny(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=EV(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=ny(this.containers,a=>a.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&eu(t.modalRef,n),L2(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&eu(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const IV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function jV(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function RV(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function PV(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||RV(e))}function OV(e){const t=[],n=[];return Array.from(e.querySelectorAll(IV)).forEach((r,i)=>{const o=jV(r);o===-1||!PV(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function AV(){return!0}function NV(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=OV,isEnabled:a=AV,open:s}=e,c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null),f=x.useRef(null),v=x.useRef(null),b=x.useRef(!1),C=x.useRef(null),S=Yt(cs(t),C),T=x.useRef(null);x.useEffect(()=>{!s||!C.current||(b.current=!n)},[n,s]),x.useEffect(()=>{if(!s||!C.current)return;const y=Gn(C.current);return C.current.contains(y.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),b.current&&C.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[s]),x.useEffect(()=>{if(!s||!C.current)return;const y=Gn(C.current),P=_=>{T.current=_,!(r||!a()||_.key!=="Tab")&&y.activeElement===C.current&&_.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const _=C.current;if(_===null)return;if(!y.hasFocus()||!a()||c.current){c.current=!1;return}if(_.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==h.current)return;if(y.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!b.current)return;let p=[];if((y.activeElement===u.current||y.activeElement===h.current)&&(p=o(C.current)),p.length>0){var m,w;const R=!!((m=T.current)!=null&&m.shiftKey&&((w=T.current)==null?void 0:w.key)==="Tab"),j=p[0],I=p[p.length-1];typeof j!="string"&&typeof I!="string"&&(R?I.focus():j.focus())}else _.focus()};y.addEventListener("focusin",M),y.addEventListener("keydown",P,!0);const N=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),y.removeEventListener("focusin",M),y.removeEventListener("keydown",P,!0)}},[n,r,i,a,s,o]);const E=y=>{f.current===null&&(f.current=y.relatedTarget),b.current=!0,v.current=y.target;const P=t.props.onFocus;P&&P(y)},g=y=>{f.current===null&&(f.current=y.relatedTarget),b.current=!0};return l.jsxs(x.Fragment,{children:[l.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(t,{ref:S,onFocus:E}),l.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:h,"data-testid":"sentinelEnd"})]})}function MV(e){return typeof e=="function"?e():e}function LV(e){return e?e.props.hasOwnProperty("in"):!1}const DV=new TV;function zV(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=DV,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:c,onClose:u,open:h,rootRef:f}=e,v=x.useRef({}),b=x.useRef(null),C=x.useRef(null),S=Yt(C,f),[T,E]=x.useState(!h),g=LV(c);let y=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(y=!1);const P=()=>Gn(b.current),M=()=>(v.current.modalRef=C.current,v.current.mount=b.current,v.current),N=()=>{i.mount(M(),{disableScrollLock:r}),C.current&&(C.current.scrollTop=0)},_=_i(()=>{const I=MV(t)||P().body;i.add(M(),I),C.current&&N()}),p=x.useCallback(()=>i.isTopModal(M()),[i]),m=_i(I=>{b.current=I,I&&(h&&p()?N():C.current&&eu(C.current,y))}),w=x.useCallback(()=>{i.remove(M(),y)},[y,i]);x.useEffect(()=>()=>{w()},[w]),x.useEffect(()=>{h?_():(!g||!o)&&w()},[h,w,g,o,_]);const R=I=>L=>{var W;(W=I.onKeyDown)==null||W.call(I,L),!(L.key!=="Escape"||L.which===229||!p())&&(n||(L.stopPropagation(),u&&u(L,"escapeKeyDown")))},j=I=>L=>{var W;(W=I.onClick)==null||W.call(I,L),L.target===L.currentTarget&&u&&u(L,"backdropClick")};return{getRootProps:(I={})=>{const L=aR(e);delete L.onTransitionEnter,delete L.onTransitionExited;const W=D({},L,I);return D({role:"presentation"},W,{onKeyDown:R(W),ref:S})},getBackdropProps:(I={})=>{const L=I;return D({"aria-hidden":!0},L,{onClick:j(L),open:h})},getTransitionProps:()=>{const I=()=>{E(!1),a&&a()},L=()=>{E(!0),s&&s(),o&&w()};return{onEnter:Vv(I,c==null?void 0:c.props.onEnter),onExited:Vv(L,c==null?void 0:c.props.onExited)}},rootRef:S,portalRef:m,isTopModal:p,exited:T,hasTransition:g}}function FV(e){return ot("MuiModal",e)}nt("MuiModal",["root","hidden","backdrop"]);const BV=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],WV=e=>{const{open:t,exited:n,classes:r}=e;return lt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},FV,r)},$V=Ce("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>D({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),UV=Ce(WU,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),WR=x.forwardRef(function(e,t){var n,r,i,o,a,s;const c=at({name:"MuiModal",props:e}),{BackdropComponent:u=UV,BackdropProps:h,className:f,closeAfterTransition:v=!1,children:b,container:C,component:S,components:T={},componentsProps:E={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:P=!1,disablePortal:M=!1,disableRestoreFocus:N=!1,disableScrollLock:_=!1,hideBackdrop:p=!1,keepMounted:m=!1,onBackdropClick:w,open:R,slotProps:j,slots:I}=c,L=ke(c,BV),W=D({},c,{closeAfterTransition:v,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:P,disablePortal:M,disableRestoreFocus:N,disableScrollLock:_,hideBackdrop:p,keepMounted:m}),{getRootProps:K,getBackdropProps:B,getTransitionProps:F,portalRef:$,isTopModal:q,exited:H,hasTransition:G}=zV(D({},W,{rootRef:t})),Q=D({},W,{exited:H}),ue=WV(Q),le={};if(b.props.tabIndex===void 0&&(le.tabIndex="-1"),G){const{onEnter:oe,onExited:me}=F();le.onEnter=oe,le.onExited=me}const Pe=(n=(r=I==null?void 0:I.root)!=null?r:T.Root)!=null?n:$V,U=(i=(o=I==null?void 0:I.backdrop)!=null?o:T.Backdrop)!=null?i:u,ee=(a=j==null?void 0:j.root)!=null?a:E.root,V=(s=j==null?void 0:j.backdrop)!=null?s:E.backdrop,J=wo({elementType:Pe,externalSlotProps:ee,externalForwardedProps:L,getSlotProps:K,additionalProps:{ref:t,as:S},ownerState:Q,className:Se(f,ee==null?void 0:ee.className,ue==null?void 0:ue.root,!Q.open&&Q.exited&&(ue==null?void 0:ue.hidden))}),te=wo({elementType:U,externalSlotProps:V,additionalProps:h,getSlotProps:oe=>B(D({},oe,{onClick:me=>{w&&w(me),oe!=null&&oe.onClick&&oe.onClick(me)}})),className:Se(V==null?void 0:V.className,h==null?void 0:h.className,ue==null?void 0:ue.backdrop),ownerState:Q});return!m&&!R&&(!G||H)?null:l.jsx(MR,{ref:$,container:C,disablePortal:M,children:l.jsxs(Pe,D({},J,{children:[!p&&u?l.jsx(U,D({},te)):null,l.jsx(NV,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:N,isEnabled:q,open:R,children:x.cloneElement(b,le)})]}))})});function VV(e){return ot("MuiDivider",e)}const D2=nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),qV=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],HV=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:c}=e;return lt({root:["root",t&&"absolute",c,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},VV,r)},KV=Ce("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>D({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ct(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>D({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>D({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>D({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>D({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),GV=Ce("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>D({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),$R=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,component:a=i?"div":"hr",flexItem:s=!1,light:c=!1,orientation:u="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:f="center",variant:v="fullWidth"}=n,b=ke(n,qV),C=D({},n,{absolute:r,component:a,flexItem:s,light:c,orientation:u,role:h,textAlign:f,variant:v}),S=HV(C);return l.jsx(KV,D({as:a,className:Se(S.root,o),role:h,ref:t,ownerState:C},b,{children:i?l.jsx(GV,{className:S.wrapper,ownerState:C,children:i}):null}))});$R.muiSkipListHighlight=!0;const QV=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function YV(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Fi(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const u=o.getComputedStyle(t);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let s=0,c=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");s=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${o.innerWidth+s-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:e==="up"?i?`translateY(${i.bottom+c-r.top}px)`:`translateY(${o.innerHeight+c-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function XV(e){return typeof e=="function"?e():e}function gh(e,t,n){const r=XV(n),i=YV(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const JV=x.forwardRef(function(e,t){const n=Kl(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,container:c,direction:u="down",easing:h=r,in:f,onEnter:v,onEntered:b,onEntering:C,onExit:S,onExited:T,onExiting:E,style:g,timeout:y=i,TransitionComponent:P=vi}=e,M=ke(e,QV),N=x.useRef(null),_=Yt(cs(s),N,t),p=B=>F=>{B&&(F===void 0?B(N.current):B(N.current,F))},m=p((B,F)=>{gh(u,B,c),Dx(B),v&&v(B,F)}),w=p((B,F)=>{const $=kl({timeout:y,style:g,easing:h},{mode:"enter"});B.style.webkitTransition=n.transitions.create("-webkit-transform",D({},$)),B.style.transition=n.transitions.create("transform",D({},$)),B.style.webkitTransform="none",B.style.transform="none",C&&C(B,F)}),R=p(b),j=p(E),I=p(B=>{const F=kl({timeout:y,style:g,easing:h},{mode:"exit"});B.style.webkitTransition=n.transitions.create("-webkit-transform",F),B.style.transition=n.transitions.create("transform",F),gh(u,B,c),S&&S(B)}),L=p(B=>{B.style.webkitTransition="",B.style.transition="",T&&T(B)}),W=B=>{o&&o(N.current,B)},K=x.useCallback(()=>{N.current&&gh(u,N.current,c)},[u,c]);return x.useEffect(()=>{if(f||u==="down"||u==="right")return;const B=Bm(()=>{N.current&&gh(u,N.current,c)}),F=Fi(N.current);return F.addEventListener("resize",B),()=>{B.clear(),F.removeEventListener("resize",B)}},[u,f,c]),x.useEffect(()=>{f||K()},[f,K]),l.jsx(P,D({nodeRef:N,onEnter:m,onEntered:R,onEntering:w,onExit:I,onExited:L,onExiting:j,addEndListener:W,appear:a,in:f,timeout:y},M,{children:(B,F)=>x.cloneElement(s,D({ref:_,style:D({visibility:B==="exited"&&!f?"hidden":void 0},g,s.props.style)},F))}))});function ZV(e){return ot("MuiDrawer",e)}nt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const eq=["BackdropProps"],tq=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],UR=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},nq=e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${he(n)}`,r!=="temporary"&&`paperAnchorDocked${he(n)}`]};return lt(i,ZV,t)},rq=Ce(WR,{name:"MuiDrawer",slot:"Root",overridesResolver:UR})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),z2=Ce("div",{shouldForwardProp:Mr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:UR})({flex:"0 0 auto"}),iq=Ce(Gr,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${he(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${he(n.anchor)}`]]}})(({theme:e,ownerState:t})=>D({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),VR={left:"right",right:"left",top:"down",bottom:"up"};function oq(e){return["left","right"].indexOf(e)!==-1}function aq({direction:e},t){return e==="rtl"&&oq(t)?VR[t]:t}const sq=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiDrawer"}),r=Kl(),i=jx(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:s,children:c,className:u,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:v}={},onClose:b,open:C=!1,PaperProps:S={},SlideProps:T,TransitionComponent:E=JV,transitionDuration:g=o,variant:y="temporary"}=n,P=ke(n.ModalProps,eq),M=ke(n,tq),N=x.useRef(!1);x.useEffect(()=>{N.current=!0},[]);const _=aq({direction:i?"rtl":"ltr"},a),p=D({},n,{anchor:a,elevation:h,open:C,variant:y},M),m=nq(p),w=l.jsx(iq,D({elevation:y==="temporary"?h:0,square:!0},S,{className:Se(m.paper,S.className),ownerState:p,children:c}));if(y==="permanent")return l.jsx(z2,D({className:Se(m.root,m.docked,u),ownerState:p,ref:t},M,{children:w}));const R=l.jsx(E,D({in:C,direction:VR[_],timeout:g,appear:N.current},T,{children:w}));return y==="persistent"?l.jsx(z2,D({className:Se(m.root,m.docked,u),ownerState:p,ref:t},M,{children:R})):l.jsx(rq,D({BackdropProps:D({},s,v,{transitionDuration:g}),className:Se(m.root,m.modal,u),open:C,ownerState:p,onClose:b,hideBackdrop:f,ref:t},M,P,{children:R}))}),lq=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],cq=e=>{const{classes:t,disableUnderline:n}=e,r=lt({root:["root",!n&&"underline"],input:["input"]},CU,t);return D({},t,r)},uq=Ce(Hm,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Vm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return D({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Sa.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Sa.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sa.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sa.disabled}, .${Sa.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Sa.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&D({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),dq=Ce(Km,{name:"MuiFilledInput",slot:"Input",overridesResolver:qm})(({theme:e,ownerState:t})=>D({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Gx=x.forwardRef(function(e,t){var n,r,i,o;const a=at({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:c,fullWidth:u=!1,inputComponent:h="input",multiline:f=!1,slotProps:v,slots:b={},type:C="text"}=a,S=ke(a,lq),T=D({},a,{fullWidth:u,inputComponent:h,multiline:f,type:C}),E=cq(a),g={root:{ownerState:T},input:{ownerState:T}},y=v??c?Er(g,v??c):g,P=(n=(r=b.root)!=null?r:s.Root)!=null?n:uq,M=(i=(o=b.input)!=null?o:s.Input)!=null?i:dq;return l.jsx(Kx,D({slots:{root:P,input:M},componentsProps:y,fullWidth:u,inputComponent:h,multiline:f,ref:t,type:C},S,{classes:E}))});Gx.muiName="Input";function hq(e){return ot("MuiFormControl",e)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const fq=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],pq=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${he(n)}`,r&&"fullWidth"]};return lt(i,hq,t)},mq=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>D({},t.root,t[`margin${he(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>D({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),qR=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiFormControl"}),{children:r,className:i,color:o="primary",component:a="div",disabled:s=!1,error:c=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:v="none",required:b=!1,size:C="medium",variant:S="outlined"}=n,T=ke(n,fq),E=D({},n,{color:o,component:a,disabled:s,error:c,fullWidth:h,hiddenLabel:f,margin:v,required:b,size:C,variant:S}),g=pq(E),[y,P]=x.useState(()=>{let j=!1;return r&&x.Children.forEach(r,I=>{if(!Xc(I,["Input","Select"]))return;const L=Xc(I,["Select"])?I.props.input:I;L&&yU(L.props)&&(j=!0)}),j}),[M,N]=x.useState(()=>{let j=!1;return r&&x.Children.forEach(r,I=>{Xc(I,["Input","Select"])&&(Xf(I.props,!0)||Xf(I.props.inputProps,!0))&&(j=!0)}),j}),[_,p]=x.useState(!1);s&&_&&p(!1);const m=u!==void 0&&!s?u:_;let w;const R=x.useMemo(()=>({adornedStart:y,setAdornedStart:P,color:o,disabled:s,error:c,filled:M,focused:m,fullWidth:h,hiddenLabel:f,size:C,onBlur:()=>{p(!1)},onEmpty:()=>{N(!1)},onFilled:()=>{N(!0)},onFocus:()=>{p(!0)},registerEffect:w,required:b,variant:S}),[y,o,s,c,M,m,h,f,w,b,C,S]);return l.jsx(Hx.Provider,{value:R,children:l.jsx(mq,D({as:a,ownerState:E,className:Se(g.root,i),ref:t},T,{children:r}))})});function gq(e){return ot("MuiFormHelperText",e)}const F2=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var B2;const yq=["children","className","component","disabled","error","filled","focused","margin","required","variant"],vq=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:c}=e,u={root:["root",i&&"disabled",o&&"error",r&&`size${he(r)}`,n&&"contained",s&&"focused",a&&"filled",c&&"required"]};return lt(u,gq,t)},bq=Ce("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${he(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>D({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${F2.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${F2.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),xq=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,a=ke(n,yq),s=Yl(),c=Ql({props:n,muiFormControl:s,states:["variant","size","disabled","error","filled","focused","required"]}),u=D({},n,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=vq(u);return l.jsx(bq,D({as:o,ownerState:u,className:Se(h.root,i),ref:t},a,{children:r===" "?B2||(B2=l.jsx("span",{className:"notranslate",children:""})):r}))});function wq(e){return ot("MuiFormLabel",e)}const tu=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Sq=["children","className","color","component","disabled","error","filled","focused","required"],kq=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e,c={root:["root",`color${he(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return lt(c,wq,t)},Cq=Ce("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>D({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>D({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${tu.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${tu.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${tu.error}`]:{color:(e.vars||e).palette.error.main}})),Eq=Ce("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${tu.error}`]:{color:(e.vars||e).palette.error.main}})),_q=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,a=ke(n,Sq),s=Yl(),c=Ql({props:n,muiFormControl:s,states:["color","required","focused","disabled","error","filled"]}),u=D({},n,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=kq(u);return l.jsxs(Cq,D({as:o,ownerState:u,className:Se(h.root,i),ref:t},a,{children:[r,c.required&&l.jsxs(Eq,{ownerState:u,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),W2=x.createContext();function Tq(e){return ot("MuiGrid",e)}const Iq=[0,1,2,3,4,5,6,7,8,9,10],jq=["column-reverse","column","row-reverse","row"],Rq=["nowrap","wrap-reverse","wrap"],vc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],zu=nt("MuiGrid",["root","container","item","zeroMinWidth",...Iq.map(e=>`spacing-xs-${e}`),...jq.map(e=>`direction-xs-${e}`),...Rq.map(e=>`wrap-xs-${e}`),...vc.map(e=>`grid-xs-${e}`),...vc.map(e=>`grid-sm-${e}`),...vc.map(e=>`grid-md-${e}`),...vc.map(e=>`grid-lg-${e}`),...vc.map(e=>`grid-xl-${e}`)]),Pq=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function nl(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Oq({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=wm({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof a=="object"?a[i]:a;if(s==null)return r;const c=`${Math.round(n/s*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const h=e.spacing(t.columnSpacing);if(h!=="0px"){const f=`calc(${c} + ${nl(h)})`;u={flexBasis:f,maxWidth:f}}}o=D({flexBasis:c,flexGrow:0,maxWidth:c},u)}return e.breakpoints.values[i]===0?Object.assign(r,o):r[e.breakpoints.up(i)]=o,r},{})}function Aq({theme:e,ownerState:t}){const n=wm({values:t.direction,breakpoints:e.breakpoints.values});return Zr({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${zu.item}`]={maxWidth:"none"}),i})}function HR({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,o)=>e[i]-e[o]);return r.slice(0,r.indexOf(n))}function Nq({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const o=wm({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=HR({breakpoints:e.breakpoints.values,values:o})),i=Zr({theme:e},o,(s,c)=>{var u;const h=e.spacing(s);return h!=="0px"?{marginTop:`-${nl(h)}`,[`& > .${zu.item}`]:{paddingTop:nl(h)}}:(u=a)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${zu.item}`]:{paddingTop:0}}})}return i}function Mq({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const o=wm({values:r,breakpoints:e.breakpoints.values});let a;typeof o=="object"&&(a=HR({breakpoints:e.breakpoints.values,values:o})),i=Zr({theme:e},o,(s,c)=>{var u;const h=e.spacing(s);return h!=="0px"?{width:`calc(100% + ${nl(h)})`,marginLeft:`-${nl(h)}`,[`& > .${zu.item}`]:{paddingLeft:nl(h)}}:(u=a)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${zu.item}`]:{paddingLeft:0}}})}return i}function Lq(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const Dq=Ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:c,breakpoints:u}=n;let h=[];r&&(h=Lq(a,u,t));const f=[];return u.forEach(v=>{const b=n[v];b&&f.push(t[`grid-${v}-${String(b)}`])}),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth,...h,i!=="row"&&t[`direction-xs-${String(i)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...f]}})(({ownerState:e})=>D({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Aq,Nq,Mq,Oq);function zq(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const Fq=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:c}=e;let u=[];n&&(u=zq(o,c));const h=[];c.forEach(v=>{const b=e[v];b&&h.push(`grid-${v}-${String(b)}`)});const f={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...h]};return lt(f,Tq,t)},jt=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiGrid"}),{breakpoints:r}=Kl(),i=jm(n),{className:o,columns:a,columnSpacing:s,component:c="div",container:u=!1,direction:h="row",item:f=!1,rowSpacing:v,spacing:b=0,wrap:C="wrap",zeroMinWidth:S=!1}=i,T=ke(i,Pq),E=v||b,g=s||b,y=x.useContext(W2),P=u?a||12:y,M={},N=D({},T);r.keys.forEach(m=>{T[m]!=null&&(M[m]=T[m],delete N[m])});const _=D({},i,{columns:P,container:u,direction:h,item:f,rowSpacing:E,columnSpacing:g,wrap:C,zeroMinWidth:S,spacing:b},M,{breakpoints:r.keys}),p=Fq(_);return l.jsx(W2.Provider,{value:P,children:l.jsx(Dq,D({ownerState:_,className:Se(p.root,o),as:c,ref:t},N))})}),Bq=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function r0(e){return`scale(${e}, ${e**2})`}const Wq={entering:{opacity:1,transform:r0(1)},entered:{opacity:1,transform:"none"}},ry=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ep=x.forwardRef(function(e,t){const{addEndListener:n,appear:r=!0,children:i,easing:o,in:a,onEnter:s,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:v,style:b,timeout:C="auto",TransitionComponent:S=vi}=e,T=ke(e,Bq),E=$s(),g=x.useRef(),y=Kl(),P=x.useRef(null),M=Yt(P,cs(i),t),N=L=>W=>{if(L){const K=P.current;W===void 0?L(K):L(K,W)}},_=N(u),p=N((L,W)=>{Dx(L);const{duration:K,delay:B,easing:F}=kl({style:b,timeout:C,easing:o},{mode:"enter"});let $;C==="auto"?($=y.transitions.getAutoHeightDuration(L.clientHeight),g.current=$):$=K,L.style.transition=[y.transitions.create("opacity",{duration:$,delay:B}),y.transitions.create("transform",{duration:ry?$:$*.666,delay:B,easing:F})].join(","),s&&s(L,W)}),m=N(c),w=N(v),R=N(L=>{const{duration:W,delay:K,easing:B}=kl({style:b,timeout:C,easing:o},{mode:"exit"});let F;C==="auto"?(F=y.transitions.getAutoHeightDuration(L.clientHeight),g.current=F):F=W,L.style.transition=[y.transitions.create("opacity",{duration:F,delay:K}),y.transitions.create("transform",{duration:ry?F:F*.666,delay:ry?K:K||F*.333,easing:B})].join(","),L.style.opacity=0,L.style.transform=r0(.75),h&&h(L)}),j=N(f),I=L=>{C==="auto"&&E.start(g.current||0,L),n&&n(P.current,L)};return l.jsx(S,D({appear:r,in:a,nodeRef:P,onEnter:p,onEntered:m,onEntering:_,onExit:R,onExited:j,onExiting:w,addEndListener:I,timeout:C==="auto"?null:C},T,{children:(L,W)=>x.cloneElement(i,D({style:D({opacity:0,transform:r0(.75),visibility:L==="exited"&&!a?"hidden":void 0},Wq[L],b,i.props.style),ref:M},W))}))});ep.muiSupportAuto=!0;const $q=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Uq=e=>{const{classes:t,disableUnderline:n}=e,r=lt({root:["root",!n&&"underline"],input:["input"]},SU,t);return D({},t,r)},Vq=Ce(Hm,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Vm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),D({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yc.disabled}, .${yc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${yc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),qq=Ce(Km,{name:"MuiInput",slot:"Input",overridesResolver:qm})({}),Qx=x.forwardRef(function(e,t){var n,r,i,o;const a=at({props:e,name:"MuiInput"}),{disableUnderline:s,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:f="input",multiline:v=!1,slotProps:b,slots:C={},type:S="text"}=a,T=ke(a,$q),E=Uq(a),g={root:{ownerState:{disableUnderline:s}}},y=b??u?Er(b??u,g):g,P=(n=(r=C.root)!=null?r:c.Root)!=null?n:Vq,M=(i=(o=C.input)!=null?o:c.Input)!=null?i:qq;return l.jsx(Kx,D({slots:{root:P,input:M},slotProps:y,fullWidth:h,inputComponent:f,multiline:v,ref:t,type:S},T,{classes:E}))});Qx.muiName="Input";function Hq(e){return ot("MuiInputLabel",e)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Kq=["disableAnimation","margin","shrink","variant","className"],Gq=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e,c={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${he(r)}`,a],asterisk:[s&&"asterisk"]},u=lt(c,Hq,t);return D({},t,u)},Qq=Ce(_q,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tu.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>D({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&D({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&D({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&D({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Yq=x.forwardRef(function(e,t){const n=at({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,a=ke(n,Kq),s=Yl();let c=i;typeof c>"u"&&s&&(c=s.filled||s.focused||s.adornedStart);const u=Ql({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),h=D({},n,{disableAnimation:r,formControl:s,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=Gq(h);return l.jsx(Qq,D({"data-shrink":c,ownerState:h,ref:t,className:Se(f.root,o)},a,{classes:f}))}),ta=x.createContext({});function Xq(e){return ot("MuiList",e)}nt("MuiList",["root","padding","dense","subheader"]);const Jq=["children","className","component","dense","disablePadding","subheader"],Zq=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return lt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Xq,t)},eH=Ce("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>D({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),KR=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiList"}),{children:r,className:i,component:o="ul",dense:a=!1,disablePadding:s=!1,subheader:c}=n,u=ke(n,Jq),h=x.useMemo(()=>({dense:a}),[a]),f=D({},n,{component:o,dense:a,disablePadding:s}),v=Zq(f);return l.jsx(ta.Provider,{value:h,children:l.jsxs(eH,D({as:o,className:Se(v.root,i),ref:t,ownerState:f},u,{children:[c,r]}))})});function tH(e){return ot("MuiListItem",e)}const Ts=nt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),nH=nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function rH(e){return ot("MuiListItemSecondaryAction",e)}nt("MuiListItemSecondaryAction",["root","disableGutters"]);const iH=["className"],oH=e=>{const{disableGutters:t,classes:n}=e;return lt({root:["root",t&&"disableGutters"]},rH,n)},aH=Ce("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>D({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),GR=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,i=ke(n,iH),o=x.useContext(ta),a=D({},n,{disableGutters:o.disableGutters}),s=oH(a);return l.jsx(aH,D({className:Se(s.root,r),ownerState:a,ref:t},i))});GR.muiName="ListItemSecondaryAction";const sH=["className"],lH=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],cH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},uH=e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:a,disablePadding:s,divider:c,hasSecondaryAction:u,selected:h}=e;return lt({root:["root",i&&"dense",!a&&"gutters",!s&&"padding",c&&"divider",o&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",h&&"selected"],container:["container"]},tH,r)},dH=Ce("div",{name:"MuiListItem",slot:"Root",overridesResolver:cH})(({theme:e,ownerState:t})=>D({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&D({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${nH.root}`]:{paddingRight:48}},{[`&.${Ts.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ts.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ts.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ts.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ts.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),hH=Ce("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),fH=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:i=!1,button:o=!1,children:a,className:s,component:c,components:u={},componentsProps:h={},ContainerComponent:f="li",ContainerProps:{className:v}={},dense:b=!1,disabled:C=!1,disableGutters:S=!1,disablePadding:T=!1,divider:E=!1,focusVisibleClassName:g,secondaryAction:y,selected:P=!1,slotProps:M={},slots:N={}}=n,_=ke(n.ContainerProps,sH),p=ke(n,lH),m=x.useContext(ta),w=x.useMemo(()=>({dense:b||m.dense||!1,alignItems:r,disableGutters:S}),[r,m.dense,b,S]),R=x.useRef(null);jr(()=>{i&&R.current&&R.current.focus()},[i]);const j=x.Children.toArray(a),I=j.length&&Xc(j[j.length-1],["ListItemSecondaryAction"]),L=D({},n,{alignItems:r,autoFocus:i,button:o,dense:w.dense,disabled:C,disableGutters:S,disablePadding:T,divider:E,hasSecondaryAction:I,selected:P}),W=uH(L),K=Yt(R,t),B=N.root||u.Root||dH,F=M.root||h.root||{},$=D({className:Se(W.root,F.className,s),disabled:C},p);let q=c||"li";return o&&($.component=c||"div",$.focusVisibleClassName=Se(Ts.focusVisible,g),q=Cl),I?(q=!$.component&&!c?"div":q,f==="li"&&(q==="li"?q="div":$.component==="li"&&($.component="div")),l.jsx(ta.Provider,{value:w,children:l.jsxs(hH,D({as:f,className:Se(W.container,v),ref:K,ownerState:L},_,{children:[l.jsx(B,D({},F,!Sl(B)&&{as:q,ownerState:D({},L,F.ownerState)},$,{children:j})),j.pop()]}))})):l.jsx(ta.Provider,{value:w,children:l.jsxs(B,D({},F,{as:q,ref:K},!Sl(B)&&{ownerState:D({},L,F.ownerState)},$,{children:[j,y&&l.jsx(GR,{children:y})]}))})}),$2=nt("MuiListItemIcon",["root","alignItemsFlexStart"]);function pH(e){return ot("MuiListItemText",e)}const tp=nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),mH=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],gH=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return lt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},pH,t)},yH=Ce("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tp.primary}`]:t.primary},{[`& .${tp.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>D({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),vH=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:o=!1,inset:a=!1,primary:s,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:h}=n,f=ke(n,mH),{dense:v}=x.useContext(ta);let b=s??r,C=u;const S=D({},n,{disableTypography:o,inset:a,primary:!!b,secondary:!!C,dense:v}),T=gH(S);return b!=null&&b.type!==Ne&&!o&&(b=l.jsx(Ne,D({variant:v?"body2":"body1",className:T.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:b}))),C!=null&&C.type!==Ne&&!o&&(C=l.jsx(Ne,D({variant:"body2",className:T.secondary,color:"text.secondary",display:"block"},h,{children:C}))),l.jsxs(yH,D({className:Se(T.root,i),ownerState:S,ref:t},f,{children:[b,C]}))}),bH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iy(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function U2(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function QR(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function bc(e,t,n,r,i,o){let a=!1,s=i(e,t,t?n:!1);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const c=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!QR(s,o)||c)s=i(e,s,n);else return s.focus(),!0}return!1}const xH=x.forwardRef(function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:s=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu"}=e,f=ke(e,bH),v=x.useRef(null),b=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jr(()=>{r&&v.current.focus()},[r]),x.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(g,{direction:y})=>{const P=!v.current.style.width;if(g.clientHeight<v.current.clientHeight&&P){const M=`${iR(Gn(g))}px`;v.current.style[y==="rtl"?"paddingLeft":"paddingRight"]=M,v.current.style.width=`calc(100% + ${M})`}return v.current}}),[]);const C=g=>{const y=v.current,P=g.key,M=Gn(y).activeElement;if(P==="ArrowDown")g.preventDefault(),bc(y,M,c,s,iy);else if(P==="ArrowUp")g.preventDefault(),bc(y,M,c,s,U2);else if(P==="Home")g.preventDefault(),bc(y,null,c,s,iy);else if(P==="End")g.preventDefault(),bc(y,null,c,s,U2);else if(P.length===1){const N=b.current,_=P.toLowerCase(),p=performance.now();N.keys.length>0&&(p-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&_!==N.keys[0]&&(N.repeating=!1)),N.lastTime=p,N.keys.push(_);const m=M&&!N.repeating&&QR(M,N);N.previousKeyMatched&&(m||bc(y,M,!1,s,iy,N))?g.preventDefault():N.previousKeyMatched=!1}u&&u(g)},S=Yt(v,t);let T=-1;x.Children.forEach(o,(g,y)=>{if(!x.isValidElement(g)){T===y&&(T+=1,T>=o.length&&(T=-1));return}g.props.disabled||(h==="selectedMenu"&&g.props.selected||T===-1)&&(T=y),T===y&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const E=x.Children.map(o,(g,y)=>{if(y===T){const P={};return i&&(P.autoFocus=!0),g.props.tabIndex===void 0&&h==="selectedMenu"&&(P.tabIndex=0),x.cloneElement(g,P)}return g});return l.jsx(KR,D({role:"menu",ref:S,className:a,onKeyDown:C,tabIndex:r?0:-1},f,{children:E}))});function wH(e){return ot("MuiPopover",e)}nt("MuiPopover",["root","paper"]);const SH=["onEntering"],kH=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CH=["slotProps"];function V2(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function q2(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function H2(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function oy(e){return typeof e=="function"?e():e}const EH=e=>{const{classes:t}=e;return lt({root:["root"],paper:["paper"]},wH,t)},_H=Ce(WR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),YR=Ce(Gr,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),TH=x.forwardRef(function(e,t){var n,r,i;const o=at({props:e,name:"MuiPopover"}),{action:a,anchorEl:s,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:f,className:v,container:b,elevation:C=8,marginThreshold:S=16,open:T,PaperProps:E={},slots:g,slotProps:y,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:M=ep,transitionDuration:N="auto",TransitionProps:{onEntering:_}={},disableScrollLock:p=!1}=o,m=ke(o.TransitionProps,SH),w=ke(o,kH),R=(n=y==null?void 0:y.paper)!=null?n:E,j=x.useRef(),I=Yt(j,R.ref),L=D({},o,{anchorOrigin:c,anchorReference:h,elevation:C,marginThreshold:S,externalPaperSlotProps:R,transformOrigin:P,TransitionComponent:M,transitionDuration:N,TransitionProps:m}),W=EH(L),K=x.useCallback(()=>{if(h==="anchorPosition")return u;const oe=oy(s),me=(oe&&oe.nodeType===1?oe:Gn(j.current).body).getBoundingClientRect();return{top:me.top+V2(me,c.vertical),left:me.left+q2(me,c.horizontal)}},[s,c.horizontal,c.vertical,u,h]),B=x.useCallback(oe=>({vertical:V2(oe,P.vertical),horizontal:q2(oe,P.horizontal)}),[P.horizontal,P.vertical]),F=x.useCallback(oe=>{const me={width:oe.offsetWidth,height:oe.offsetHeight},Ee=B(me);if(h==="none")return{top:null,left:null,transformOrigin:H2(Ee)};const De=K();let Ie=De.top-Ee.vertical,Ue=De.left-Ee.horizontal;const _e=Ie+me.height,X=Ue+me.width,ae=Fi(oy(s)),Oe=ae.innerHeight-S,xe=ae.innerWidth-S;if(S!==null&&Ie<S){const ve=Ie-S;Ie-=ve,Ee.vertical+=ve}else if(S!==null&&_e>Oe){const ve=_e-Oe;Ie-=ve,Ee.vertical+=ve}if(S!==null&&Ue<S){const ve=Ue-S;Ue-=ve,Ee.horizontal+=ve}else if(X>xe){const ve=X-xe;Ue-=ve,Ee.horizontal+=ve}return{top:`${Math.round(Ie)}px`,left:`${Math.round(Ue)}px`,transformOrigin:H2(Ee)}},[s,h,K,B,S]),[$,q]=x.useState(T),H=x.useCallback(()=>{const oe=j.current;if(!oe)return;const me=F(oe);me.top!==null&&(oe.style.top=me.top),me.left!==null&&(oe.style.left=me.left),oe.style.transformOrigin=me.transformOrigin,q(!0)},[F]);x.useEffect(()=>(p&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[s,p,H]);const G=(oe,me)=>{_&&_(oe,me),H()},Q=()=>{q(!1)};x.useEffect(()=>{T&&H()}),x.useImperativeHandle(a,()=>T?{updatePosition:()=>{H()}}:null,[T,H]),x.useEffect(()=>{if(!T)return;const oe=Bm(()=>{H()}),me=Fi(s);return me.addEventListener("resize",oe),()=>{oe.clear(),me.removeEventListener("resize",oe)}},[s,T,H]);let ue=N;N==="auto"&&!M.muiSupportAuto&&(ue=void 0);const le=b||(s?Gn(oy(s)).body:void 0),Pe=(r=g==null?void 0:g.root)!=null?r:_H,U=(i=g==null?void 0:g.paper)!=null?i:YR,ee=wo({elementType:U,externalSlotProps:D({},R,{style:$?R.style:D({},R.style,{opacity:0})}),additionalProps:{elevation:C,ref:I},ownerState:L,className:Se(W.paper,R==null?void 0:R.className)}),V=wo({elementType:Pe,externalSlotProps:(y==null?void 0:y.root)||{},externalForwardedProps:w,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:le,open:T},ownerState:L,className:Se(W.root,v)}),{slotProps:J}=V,te=ke(V,CH);return l.jsx(Pe,D({},te,!Sl(Pe)&&{slotProps:J,disableScrollLock:p},{children:l.jsx(M,D({appear:!0,in:T,onEntering:G,onExited:Q,timeout:ue},m,{children:l.jsx(U,D({},ee,{children:f}))}))}))});function IH(e){return ot("MuiMenu",e)}nt("MuiMenu",["root","paper","list"]);const jH=["onEntering"],RH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],PH={vertical:"top",horizontal:"right"},OH={vertical:"top",horizontal:"left"},AH=e=>{const{classes:t}=e;return lt({root:["root"],paper:["paper"],list:["list"]},IH,t)},NH=Ce(TH,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),MH=Ce(YR,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),LH=Ce(xH,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),DH=x.forwardRef(function(e,t){var n,r;const i=at({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:s,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:v={},PopoverClasses:b,transitionDuration:C="auto",TransitionProps:{onEntering:S}={},variant:T="selectedMenu",slots:E={},slotProps:g={}}=i,y=ke(i.TransitionProps,jH),P=ke(i,RH),M=jx(),N=D({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:S,PaperProps:v,transitionDuration:C,TransitionProps:y,variant:T}),_=AH(N),p=o&&!c&&f,m=x.useRef(null),w=(B,F)=>{m.current&&m.current.adjustStyleForScrollbar(B,{direction:M?"rtl":"ltr"}),S&&S(B,F)},R=B=>{B.key==="Tab"&&(B.preventDefault(),h&&h(B,"tabKeyDown"))};let j=-1;x.Children.map(a,(B,F)=>{x.isValidElement(B)&&(B.props.disabled||(T==="selectedMenu"&&B.props.selected||j===-1)&&(j=F))});const I=(n=E.paper)!=null?n:MH,L=(r=g.paper)!=null?r:v,W=wo({elementType:E.root,externalSlotProps:g.root,ownerState:N,className:[_.root,s]}),K=wo({elementType:I,externalSlotProps:L,ownerState:N,className:_.paper});return l.jsx(NH,D({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?PH:OH,slots:{paper:I,root:E.root},slotProps:{root:W,paper:K},open:f,ref:t,transitionDuration:C,TransitionProps:D({onEntering:w},y),ownerState:N},P,{classes:b,children:l.jsx(LH,D({onKeyDown:R,actions:m,autoFocus:o&&(j===-1||c),autoFocusItem:p,variant:T},u,{className:Se(_.list,u.className),children:a}))}))});function zH(e){return ot("MuiMenuItem",e)}const xc=nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),FH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],BH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},WH=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,s=lt({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},zH,a);return D({},a,s)},$H=Ce(Cl,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:BH})(({theme:e,ownerState:t})=>D({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xc.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${xc.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${xc.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ct(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${xc.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${xc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${D2.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${D2.inset}`]:{marginLeft:52},[`& .${tp.root}`]:{marginTop:0,marginBottom:0},[`& .${tp.inset}`]:{paddingLeft:36},[`& .${$2.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&D({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${$2.root} svg`]:{fontSize:"1.25rem"}}))),K2=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:s=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f}=n,v=ke(n,FH),b=x.useContext(ta),C=x.useMemo(()=>({dense:o||b.dense||!1,disableGutters:s}),[b.dense,o,s]),S=x.useRef(null);jr(()=>{r&&S.current&&S.current.focus()},[r]);const T=D({},n,{dense:C.dense,divider:a,disableGutters:s}),E=WH(n),g=Yt(S,t);let y;return n.disabled||(y=h!==void 0?h:-1),l.jsx(ta.Provider,{value:C,children:l.jsx($H,D({ref:g,role:u,tabIndex:y,component:i,focusVisibleClassName:Se(E.focusVisible,c),className:Se(E.root,f)},v,{ownerState:T,classes:E}))})});function UH(e){return ot("MuiNativeSelect",e)}const Yx=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),VH=["className","disabled","error","IconComponent","inputRef","variant"],qH=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${he(n)}`,o&&"iconOpen",r&&"disabled"]};return lt(s,UH,t)},XR=({ownerState:e,theme:t})=>D({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":D({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Yx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),HH=Ce("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Mr,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Yx.multiple}`]:t.multiple}]}})(XR),JR=({ownerState:e,theme:t})=>D({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Yx.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),KH=Ce("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${he(n.variant)}`],n.open&&t.iconOpen]}})(JR),GH=x.forwardRef(function(e,t){const{className:n,disabled:r,error:i,IconComponent:o,inputRef:a,variant:s="standard"}=e,c=ke(e,VH),u=D({},e,{disabled:r,variant:s,error:i}),h=qH(u);return l.jsxs(x.Fragment,{children:[l.jsx(HH,D({ownerState:u,className:Se(h.select,n),disabled:r,ref:a||t},c)),e.multiple?null:l.jsx(KH,{as:o,ownerState:u,className:h.icon})]})});var G2;const QH=["children","classes","className","label","notched"],YH=Ce("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Mr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),XH=Ce("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Mr})(({ownerState:e,theme:t})=>D({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&D({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function JH(e){const{className:t,label:n,notched:r}=e,i=ke(e,QH),o=n!=null&&n!=="",a=D({},e,{notched:r,withLabel:o});return l.jsx(YH,D({"aria-hidden":!0,className:t,ownerState:a},i,{children:l.jsx(XH,{ownerState:a,children:o?l.jsx("span",{children:n}):G2||(G2=l.jsx("span",{className:"notranslate",children:""}))})}))}const ZH=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],eK=e=>{const{classes:t}=e,n=lt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},kU,t);return D({},t,n)},tK=Ce(Hm,{shouldForwardProp:e=>Mr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Vm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return D({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Oo.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Oo.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Oo.focused} .${Oo.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Oo.error} .${Oo.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Oo.disabled} .${Oo.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&D({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),nK=Ce(JH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),rK=Ce(Km,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:qm})(({theme:e,ownerState:t})=>D({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Xx=x.forwardRef(function(e,t){var n,r,i,o,a;const s=at({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:h="input",label:f,multiline:v=!1,notched:b,slots:C={},type:S="text"}=s,T=ke(s,ZH),E=eK(s),g=Yl(),y=Ql({props:s,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=D({},s,{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:g,fullWidth:u,hiddenLabel:y.hiddenLabel,multiline:v,size:y.size,type:S}),M=(n=(r=C.root)!=null?r:c.Root)!=null?n:tK,N=(i=(o=C.input)!=null?o:c.Input)!=null?i:rK;return l.jsx(Kx,D({slots:{root:M,input:N},renderSuffix:_=>l.jsx(nK,{ownerState:P,className:E.notchedOutline,label:f!=null&&f!==""&&y.required?a||(a=l.jsxs(x.Fragment,{children:[f,"","*"]})):f,notched:typeof b<"u"?b:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:u,inputComponent:h,multiline:v,ref:t,type:S},T,{classes:D({},E,{notchedOutline:null})}))});Xx.muiName="Input";function iK(e){return ot("MuiSelect",e)}const wc=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Q2;const oK=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],aK=Ce("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${wc.select}`]:t.select},{[`&.${wc.select}`]:t[n.variant]},{[`&.${wc.error}`]:t.error},{[`&.${wc.multiple}`]:t.multiple}]}})(XR,{[`&.${wc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sK=Ce("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${he(n.variant)}`],n.open&&t.iconOpen]}})(JR),lK=Ce("input",{shouldForwardProp:e=>SR(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Y2(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function cK(e){return e==null||typeof e=="string"&&!e.trim()}const uK=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${he(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return lt(s,iK,t)},dK=x.forwardRef(function(e,t){var n;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:a,children:s,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:v,error:b=!1,IconComponent:C,inputRef:S,labelId:T,MenuProps:E={},multiple:g,name:y,onBlur:P,onChange:M,onClose:N,onFocus:_,onOpen:p,open:m,readOnly:w,renderValue:R,SelectDisplayProps:j={},tabIndex:I,value:L,variant:W="standard"}=e,K=ke(e,oK),[B,F]=qf({controlled:L,default:h,name:"Select"}),[$,q]=qf({controlled:m,default:u,name:"Select"}),H=x.useRef(null),G=x.useRef(null),[Q,ue]=x.useState(null),{current:le}=x.useRef(m!=null),[Pe,U]=x.useState(),ee=Yt(t,S),V=x.useCallback(be=>{G.current=be,be&&ue(be)},[]),J=Q==null?void 0:Q.parentNode;x.useImperativeHandle(ee,()=>({focus:()=>{G.current.focus()},node:H.current,value:B}),[B]),x.useEffect(()=>{u&&$&&Q&&!le&&(U(a?null:J.clientWidth),G.current.focus())},[Q,a]),x.useEffect(()=>{o&&G.current.focus()},[o]),x.useEffect(()=>{if(!T)return;const be=Gn(G.current).getElementById(T);if(be){const st=()=>{getSelection().isCollapsed&&G.current.focus()};return be.addEventListener("click",st),()=>{be.removeEventListener("click",st)}}},[T]);const te=(be,st)=>{be?p&&p(st):N&&N(st),le||(U(a?null:J.clientWidth),q(be))},oe=be=>{be.button===0&&(be.preventDefault(),G.current.focus(),te(!0,be))},me=be=>{te(!1,be)},Ee=x.Children.toArray(s),De=be=>{const st=Ee.find(qe=>qe.props.value===be.target.value);st!==void 0&&(F(st.props.value),M&&M(be,st))},Ie=be=>st=>{let qe;if(st.currentTarget.hasAttribute("tabindex")){if(g){qe=Array.isArray(B)?B.slice():[];const gn=B.indexOf(be.props.value);gn===-1?qe.push(be.props.value):qe.splice(gn,1)}else qe=be.props.value;if(be.props.onClick&&be.props.onClick(st),B!==qe&&(F(qe),M)){const gn=st.nativeEvent||st,Lr=new gn.constructor(gn.type,gn);Object.defineProperty(Lr,"target",{writable:!0,value:{value:qe,name:y}}),M(Lr,be)}g||te(!1,st)}},Ue=be=>{w||[" ","ArrowUp","ArrowDown","Enter"].indexOf(be.key)!==-1&&(be.preventDefault(),te(!0,be))},_e=Q!==null&&$,X=be=>{!_e&&P&&(Object.defineProperty(be,"target",{writable:!0,value:{value:B,name:y}}),P(be))};delete K["aria-invalid"];let ae,Oe;const xe=[];let ve=!1;(Xf({value:B})||v)&&(R?ae=R(B):ve=!0);const Be=Ee.map(be=>{if(!x.isValidElement(be))return null;let st;if(g){if(!Array.isArray(B))throw new Error(Ja(2));st=B.some(qe=>Y2(qe,be.props.value)),st&&ve&&xe.push(be.props.children)}else st=Y2(B,be.props.value),st&&ve&&(Oe=be.props.children);return x.cloneElement(be,{"aria-selected":st?"true":"false",onClick:Ie(be),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),be.props.onKeyUp&&be.props.onKeyUp(qe)},role:"option",selected:st,value:void 0,"data-value":be.props.value})});ve&&(g?xe.length===0?ae=null:ae=xe.reduce((be,st,qe)=>(be.push(st),qe<xe.length-1&&be.push(", "),be),[]):ae=Oe);let Xe=Pe;!a&&le&&Q&&(Xe=J.clientWidth);let je;typeof I<"u"?je=I:je=f?null:0;const de=j.id||(y?`mui-component-select-${y}`:void 0),ye=D({},e,{variant:W,value:B,open:_e,error:b}),rt=uK(ye),Ot=D({},E.PaperProps,(n=E.slotProps)==null?void 0:n.paper),ct=bd();return l.jsxs(x.Fragment,{children:[l.jsx(aK,D({ref:V,tabIndex:je,role:"combobox","aria-controls":ct,"aria-disabled":f?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[T,de].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Ue,onMouseDown:f||w?null:oe,onBlur:X,onFocus:_},j,{ownerState:ye,className:Se(j.className,rt.select,c),id:de,children:cK(ae)?Q2||(Q2=l.jsx("span",{className:"notranslate",children:""})):ae})),l.jsx(lK,D({"aria-invalid":b,value:Array.isArray(B)?B.join(","):B,name:y,ref:H,"aria-hidden":!0,onChange:De,tabIndex:-1,disabled:f,className:rt.nativeInput,autoFocus:o,ownerState:ye},K)),l.jsx(sK,{as:C,className:rt.icon,ownerState:ye}),l.jsx(DH,D({id:`menu-${y||""}`,anchorEl:J,open:_e,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:D({"aria-labelledby":T,role:"listbox","aria-multiselectable":g?"true":void 0,disableListWrap:!0,id:ct},E.MenuListProps),slotProps:D({},E.slotProps,{paper:D({},Ot,{style:D({minWidth:Xe},Ot!=null?Ot.style:null)})}),children:Be}))]})}),hK=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],fK=["root"],pK=e=>{const{classes:t}=e;return t},Jx={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Mr(e)&&e!=="variant",slot:"Root"},mK=Ce(Qx,Jx)(""),gK=Ce(Xx,Jx)(""),yK=Ce(Gx,Jx)(""),Zx=x.forwardRef(function(e,t){const n=at({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:i,classes:o={},className:a,defaultOpen:s=!1,displayEmpty:c=!1,IconComponent:u=EU,id:h,input:f,inputProps:v,label:b,labelId:C,MenuProps:S,multiple:T=!1,native:E=!1,onClose:g,onOpen:y,open:P,renderValue:M,SelectDisplayProps:N,variant:_="outlined"}=n,p=ke(n,hK),m=E?GH:dK,w=Yl(),R=Ql({props:n,muiFormControl:w,states:["variant","error"]}),j=R.variant||_,I=D({},n,{variant:j,classes:o}),L=pK(I),W=ke(L,fK),K=f||{standard:l.jsx(mK,{ownerState:I}),outlined:l.jsx(gK,{label:b,ownerState:I}),filled:l.jsx(yK,{ownerState:I})}[j],B=Yt(t,cs(K));return l.jsx(x.Fragment,{children:x.cloneElement(K,D({inputComponent:m,inputProps:D({children:i,error:R.error,IconComponent:u,variant:j,type:void 0,multiple:T},E?{id:h}:{autoWidth:r,defaultOpen:s,displayEmpty:c,labelId:C,MenuProps:S,onClose:g,onOpen:y,open:P,renderValue:M,SelectDisplayProps:D({id:h},N)},v,{classes:v?Er(W,v.classes):W},f?f.props.inputProps:{})},(T&&E||c)&&j==="outlined"?{notched:!0}:{},{ref:B,className:Se(K.props.className,a,L.root)},!f&&{variant:j},p))})});Zx.muiName="Select";function vK(e){return ot("MuiTooltip",e)}const Uo=nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),bK=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function xK(e){return Math.round(e*1e5)/1e5}const wK=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${he(o.split("-")[0])}`],arrow:["arrow"]};return lt(a,vK,t)},SK=Ce(LR,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>D({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Uo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Uo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Uo.arrow}`]:D({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Uo.arrow}`]:D({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),kK=Ce("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${he(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>D({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ct(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${xK(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Uo.popper}[data-popper-placement*="left"] &`]:D({transformOrigin:"right center"},t.isRtl?D({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):D({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Uo.popper}[data-popper-placement*="right"] &`]:D({transformOrigin:"left center"},t.isRtl?D({marginRight:"14px"},t.touch&&{marginRight:"24px"}):D({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Uo.popper}[data-popper-placement*="top"] &`]:D({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Uo.popper}[data-popper-placement*="bottom"] &`]:D({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),CK=Ce("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ct(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let yh=!1;const X2=new xd;let Sc={x:0,y:0};function vh(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const J2=x.forwardRef(function(e,t){var n,r,i,o,a,s,c,u,h,f,v,b,C,S,T,E,g,y,P;const M=at({props:e,name:"MuiTooltip"}),{arrow:N=!1,children:_,components:p={},componentsProps:m={},describeChild:w=!1,disableFocusListener:R=!1,disableHoverListener:j=!1,disableInteractive:I=!1,disableTouchListener:L=!1,enterDelay:W=100,enterNextDelay:K=0,enterTouchDelay:B=700,followCursor:F=!1,id:$,leaveDelay:q=0,leaveTouchDelay:H=1500,onClose:G,onOpen:Q,open:ue,placement:le="bottom",PopperComponent:Pe,PopperProps:U={},slotProps:ee={},slots:V={},title:J,TransitionComponent:te=ep,TransitionProps:oe}=M,me=ke(M,bK),Ee=x.isValidElement(_)?_:l.jsx("span",{children:_}),De=Kl(),Ie=jx(),[Ue,_e]=x.useState(),[X,ae]=x.useState(null),Oe=x.useRef(!1),xe=I||F,ve=$s(),Be=$s(),Xe=$s(),je=$s(),[de,ye]=qf({controlled:ue,default:!1,name:"Tooltip",state:"open"});let rt=de;const Ot=bd($),ct=x.useRef(),be=_i(()=>{ct.current!==void 0&&(document.body.style.WebkitUserSelect=ct.current,ct.current=void 0),je.clear()});x.useEffect(()=>be,[be]);const st=ut=>{X2.clear(),yh=!0,ye(!0),Q&&!rt&&Q(ut)},qe=_i(ut=>{X2.start(800+q,()=>{yh=!1}),ye(!1),G&&rt&&G(ut),ve.start(De.transitions.duration.shortest,()=>{Oe.current=!1})}),gn=ut=>{Oe.current&&ut.type!=="touchstart"||(Ue&&Ue.removeAttribute("title"),Be.clear(),Xe.clear(),W||yh&&K?Be.start(yh?K:W,()=>{st(ut)}):st(ut))},Lr=ut=>{Be.clear(),Xe.start(q,()=>{qe(ut)})},{isFocusVisibleRef:To,onBlur:oi,onFocus:Dr,ref:Xn}=Ix(),[,yr]=x.useState(!1),ai=ut=>{oi(ut),To.current===!1&&(yr(!1),Lr(ut))},Z=ut=>{Ue||_e(ut.currentTarget),Dr(ut),To.current===!0&&(yr(!0),gn(ut))},A=ut=>{Oe.current=!0;const In=Ee.props;In.onTouchStart&&In.onTouchStart(ut)},ie=ut=>{A(ut),Xe.clear(),ve.clear(),be(),ct.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",je.start(B,()=>{document.body.style.WebkitUserSelect=ct.current,gn(ut)})},pe=ut=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(ut),be(),Xe.start(H,()=>{qe(ut)})};x.useEffect(()=>{if(!rt)return;function ut(In){(In.key==="Escape"||In.key==="Esc")&&qe(In)}return document.addEventListener("keydown",ut),()=>{document.removeEventListener("keydown",ut)}},[qe,rt]);const Ke=Yt(cs(Ee),Xn,_e,t);!J&&J!==0&&(rt=!1);const it=x.useRef(),Xt=ut=>{const In=Ee.props;In.onMouseMove&&In.onMouseMove(ut),Sc={x:ut.clientX,y:ut.clientY},it.current&&it.current.update()},Je={},$e=typeof J=="string";w?(Je.title=!rt&&$e&&!j?J:null,Je["aria-describedby"]=rt?Ot:null):(Je["aria-label"]=$e?J:null,Je["aria-labelledby"]=rt&&!$e?Ot:null);const Qe=D({},Je,me,Ee.props,{className:Se(me.className,Ee.props.className),onTouchStart:A,ref:Ke},F?{onMouseMove:Xt}:{}),Ft={};L||(Qe.onTouchStart=ie,Qe.onTouchEnd=pe),j||(Qe.onMouseOver=vh(gn,Qe.onMouseOver),Qe.onMouseLeave=vh(Lr,Qe.onMouseLeave),xe||(Ft.onMouseOver=gn,Ft.onMouseLeave=Lr)),R||(Qe.onFocus=vh(Z,Qe.onFocus),Qe.onBlur=vh(ai,Qe.onBlur),xe||(Ft.onFocus=Z,Ft.onBlur=ai));const zr=x.useMemo(()=>{var ut;let In=[{name:"arrow",enabled:!!X,options:{element:X,padding:4}}];return(ut=U.popperOptions)!=null&&ut.modifiers&&(In=In.concat(U.popperOptions.modifiers)),D({},U.popperOptions,{modifiers:In})},[X,U]),Dn=D({},M,{isRtl:Ie,arrow:N,disableInteractive:xe,placement:le,PopperComponentProp:Pe,touch:Oe.current}),St=wK(Dn),Ut=(n=(r=V.popper)!=null?r:p.Popper)!=null?n:SK,qi=(i=(o=(a=V.transition)!=null?a:p.Transition)!=null?o:te)!=null?i:ep,We=(s=(c=V.tooltip)!=null?c:p.Tooltip)!=null?s:kK,At=(u=(h=V.arrow)!=null?h:p.Arrow)!=null?u:CK,va=Us(Ut,D({},U,(f=ee.popper)!=null?f:m.popper,{className:Se(St.popper,U==null?void 0:U.className,(v=(b=ee.popper)!=null?b:m.popper)==null?void 0:v.className)}),Dn),ds=Us(qi,D({},oe,(C=ee.transition)!=null?C:m.transition),Dn),bi=Us(We,D({},(S=ee.tooltip)!=null?S:m.tooltip,{className:Se(St.tooltip,(T=(E=ee.tooltip)!=null?E:m.tooltip)==null?void 0:T.className)}),Dn),_d=Us(At,D({},(g=ee.arrow)!=null?g:m.arrow,{className:Se(St.arrow,(y=(P=ee.arrow)!=null?P:m.arrow)==null?void 0:y.className)}),Dn);return l.jsxs(x.Fragment,{children:[x.cloneElement(Ee,Qe),l.jsx(Ut,D({as:Pe??LR,placement:le,anchorEl:F?{getBoundingClientRect:()=>({top:Sc.y,left:Sc.x,right:Sc.x,bottom:Sc.y,width:0,height:0})}:Ue,popperRef:it,open:Ue?rt:!1,id:Ot,transition:!0},Ft,va,{popperOptions:zr,children:({TransitionProps:ut})=>l.jsx(qi,D({timeout:De.transitions.duration.shorter},ut,ds,{children:l.jsxs(We,D({},bi,{children:[J,N?l.jsx(At,D({},_d,{ref:ae})):null]}))}))}))]})});function EK(e){return ot("MuiToolbar",e)}nt("MuiToolbar",["root","gutters","regular","dense"]);const _K=["className","component","disableGutters","variant"],TK=e=>{const{classes:t,disableGutters:n,variant:r}=e;return lt({root:["root",!n&&"gutters",r]},EK,t)},IK=Ce("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>D({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),jK=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:a="regular"}=n,s=ke(n,_K),c=D({},n,{component:i,disableGutters:o,variant:a}),u=TK(c);return l.jsx(IK,D({as:i,className:Se(u.root,r),ref:t,ownerState:c},s))});function RK(e){return ot("MuiTextField",e)}nt("MuiTextField",["root"]);const PK=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],OK={standard:Qx,filled:Gx,outlined:Xx},AK=e=>{const{classes:t}=e;return lt({root:["root"]},RK,t)},NK=Ce(qR,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wn=x.forwardRef(function(e,t){const n=at({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:v=!1,helperText:b,id:C,InputLabelProps:S,inputProps:T,InputProps:E,inputRef:g,label:y,maxRows:P,minRows:M,multiline:N=!1,name:_,onBlur:p,onChange:m,onFocus:w,placeholder:R,required:j=!1,rows:I,select:L=!1,SelectProps:W,type:K,value:B,variant:F="outlined"}=n,$=ke(n,PK),q=D({},n,{autoFocus:i,color:s,disabled:u,error:h,fullWidth:v,multiline:N,required:j,select:L,variant:F}),H=AK(q),G={};F==="outlined"&&(S&&typeof S.shrink<"u"&&(G.notched=S.shrink),G.label=y),L&&((!W||!W.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const Q=bd(C),ue=b&&Q?`${Q}-helper-text`:void 0,le=y&&Q?`${Q}-label`:void 0,Pe=OK[F],U=l.jsx(Pe,D({"aria-describedby":ue,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:v,multiline:N,name:_,rows:I,maxRows:P,minRows:M,type:K,value:B,id:Q,inputRef:g,onBlur:p,onChange:m,onFocus:w,placeholder:R,inputProps:T},G,E));return l.jsxs(NK,D({className:Se(H.root,a),disabled:u,error:h,fullWidth:v,ref:t,required:j,color:s,variant:F,ownerState:q},$,{children:[y!=null&&y!==""&&l.jsx(Yq,D({htmlFor:Q,id:le},S,{children:y})),L?l.jsx(Zx,D({"aria-describedby":ue,id:Q,labelId:le,value:B,input:U},W,{children:o})):U,b&&l.jsx(xq,D({id:ue},f,{children:b}))]}))});function MK(){return x.useEffect(()=>{if(!document.getElementById("about-shine-style")){const e=document.createElement("style");e.id="about-shine-style",e.innerHTML=`
        .about-shine-effect {
          position: relative;
          overflow: hidden;
        }
        .about-shine-effect::after {
          content: '';
          position: absolute;
          top: 0;
          left: -80px;
          width: 54px;
          height: 100%;
          background: linear-gradient(120deg, transparent 55%, rgba(255,255,255,0.32) 75%, rgba(255,255,255,0.18) 90%, transparent 100%);
          pointer-events: none;
          animation: about-shine-sweep 2.8s cubic-bezier(.4,1.6,.6,1) infinite;
          opacity: 0.95;
          filter: blur(0.5px);
        }
        @keyframes about-shine-sweep {
          0% { left: -80px; opacity: 0.18; }
          10% { opacity: 0.32; }
          40% { left: 100%; opacity: 0.18; }
          100% { left: 100%; opacity: 0; }
        }
      `,document.head.appendChild(e)}},[]),l.jsx(BR,{maxWidth:"md",sx:{py:6},children:l.jsxs(Gr,{elevation:3,className:"about-shine-effect",sx:{p:{xs:2,sm:4},borderRadius:4,background:"#f8fafc",position:"relative",overflow:"hidden"},children:[l.jsx(Ne,{variant:"h4",fontWeight:700,align:"center",sx:{color:"#D5007D"},children:"About PharmaStackX: The Fulfillment Engine"}),l.jsx(Ne,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Mission: Closing Africa's Access Gap."}),l.jsx(Ne,{paragraph:!0,children:"PharmaStackX is building the essential digital infrastructure required for modern healthcare in Africa. Our mission is to end the devastating public health problem caused by inventory invisibility. When a patient needs life-saving medication, they should never be turned away. We achieve this by transforming every local community pharmacy into a node of a real-time fulfillment network."}),l.jsx(Ne,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"The Problem We Solve"}),l.jsx(Ne,{paragraph:!0,children:"The challenge is not a lack of medicine; it is a lack of information. Patients, doctors, and hospitals suffer devastating delays when they cannot confirm stock levels before making a purchase. This stock-out gap is a logistical crisis that leads to wasted time, lost revenue for pharmacists, and poor patient outcomes."}),l.jsx(Ne,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Solution: The Intelligent Fulfillment Stack"}),l.jsx(Ne,{paragraph:!0,children:"PharmaStackX is not just a directory; we are a technology stack that guarantees reliability through data and automation."}),l.jsxs(Ne,{paragraph:!0,children:[l.jsx("b",{children:"For the Patient:"})," We provide guaranteed, real-time access to essential and scarce medicines with urgent fulfillment powered by unique model."]}),l.jsxs(Ne,{paragraph:!0,children:[l.jsx("b",{children:"For the Pharmacist:"})," We automate growth and eliminate the burden of manual work. We provide a free, branded online store and leverage technology to guarantee immediate stock accuracy. This unlocks a consistent pipeline of high-value, exclusive customer orders, giving the pharmacy the competitive edge and reliability needed for long-term growth."]}),l.jsxs(Ne,{paragraph:!0,children:[l.jsx("b",{children:"For the Sector:"})," We generate the first reliable, Demand and Scarcity Data for the Nigerian pharmaceutical market, providing the insight necessary for manufacturers and policymakers to stabilize the supply chain."]}),l.jsx(Ne,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Vision"}),l.jsx(Ne,{paragraph:!0,children:"We are committed to building the most reliable and data-rich platform for medicine fulfillment, turning every pharmacy in Africa into a digitally empowered, reliable access point. We are building the future of African health, one fulfilled prescription at a time."})]})})}var ZR={},eP={},Gm={},tP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t})(tP);var LK="Expected a function",Z2=NaN,DK="[object Symbol]",zK=/^\s+|\s+$/g,FK=/^[-+]0x[0-9a-f]+$/i,BK=/^0b[01]+$/i,WK=/^0o[0-7]+$/i,$K=parseInt,UK=typeof kc=="object"&&kc&&kc.Object===Object&&kc,VK=typeof self=="object"&&self&&self.Object===Object&&self,qK=UK||VK||Function("return this")(),HK=Object.prototype,KK=HK.toString,GK=Math.max,QK=Math.min,ay=function(){return qK.Date.now()};function YK(e,t,n){var r,i,o,a,s,c,u=0,h=!1,f=!1,v=!0;if(typeof e!="function")throw new TypeError(LK);t=eC(t)||0,i0(n)&&(h=!!n.leading,f="maxWait"in n,o=f?GK(eC(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v);function b(N){var _=r,p=i;return r=i=void 0,u=N,a=e.apply(p,_),a}function C(N){return u=N,s=setTimeout(E,t),h?b(N):a}function S(N){var _=N-c,p=N-u,m=t-_;return f?QK(m,o-p):m}function T(N){var _=N-c,p=N-u;return c===void 0||_>=t||_<0||f&&p>=o}function E(){var N=ay();if(T(N))return g(N);s=setTimeout(E,S(N))}function g(N){return s=void 0,v&&r?b(N):(r=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function P(){return s===void 0?a:g(ay())}function M(){var N=ay(),_=T(N);if(r=arguments,i=this,c=N,_){if(s===void 0)return C(c);if(f)return s=setTimeout(E,t),b(c)}return s===void 0&&(s=setTimeout(E,t)),a}return M.cancel=y,M.flush=P,M}function i0(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function XK(e){return!!e&&typeof e=="object"}function JK(e){return typeof e=="symbol"||XK(e)&&KK.call(e)==DK}function eC(e){if(typeof e=="number")return e;if(JK(e))return Z2;if(i0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=i0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(zK,"");var n=BK.test(e);return n||WK.test(e)?$K(e.slice(2),n?2:8):FK.test(e)?Z2:+e}var ZK=YK,nP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(nP);var Qm=nP.exports,we={},e1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(x);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return t.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return t.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=r})(e1);Object.defineProperty(we,"__esModule",{value:!0});we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0;we.clamp=iP;we.extractObject=void 0;we.filterSettings=pG;we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var eG=rP(x),tG=rP(e1);function rP(e){return e&&e.__esModule?e:{default:e}}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){nG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nG(e,t,n){return(t=rG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rG(e){var t=iG(e,"string");return Fu(t)=="symbol"?t:t+""}function iG(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iP(e,t,n){return Math.max(t,Math.min(e,n))}var rl=we.safePreventDefault=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()},oP=we.getOnDemandLazySlides=function(e){for(var t=[],n=aP(e),r=sP(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};we.getRequiredLazySlides=function(e){for(var t=[],n=aP(e),r=sP(e),i=n;i<r;i++)t.push(i);return t};var aP=we.lazyStartIndex=function(e){return e.currentSlide-oG(e)},sP=we.lazyEndIndex=function(e){return e.currentSlide+aG(e)},oG=we.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},aG=we.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},o0=we.getWidth=function(e){return e&&e.offsetWidth||0},lP=we.getHeight=function(e){return e&&e.offsetHeight||0},cP=we.getSwipeDirection=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,r,i,o;return n=e.startX-e.curX,r=e.startY-e.curY,i=Math.atan2(r,n),o=Math.round(i*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"},uP=we.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};we.extractObject=function(e,t){var n={};return t.forEach(function(r){return n[r]=e[r]}),n};we.initializedState=function(e){var t=eG.default.Children.count(e.children),n=e.listRef,r=Math.ceil(o0(n)),i=e.trackRef&&e.trackRef.node,o=Math.ceil(o0(i)),a;if(e.vertical)a=r;else{var s=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(s*=r/100),a=Math.ceil((r-s)/e.slidesToShow)}var c=n&&lP(n.querySelector('[data-index="0"]')),u=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=t-1-e.initialSlide);var f=e.lazyLoadedList||[],v=oP(Wt(Wt({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(v);var b={slideCount:t,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:u,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(b.autoplaying="playing"),b};we.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,o=e.index,a=e.slideCount,s=e.lazyLoad,c=e.currentSlide,u=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,v=e.useCSS,b=e.lazyLoadedList;if(t&&n)return{};var C=o,S,T,E,g={},y={},P=i?o:iP(o,0,a-1);if(r){if(!i&&(o<0||o>=a))return{};o<0?C=o+a:o>=a&&(C=o-a),s&&b.indexOf(C)<0&&(b=b.concat(C)),g={animating:!0,currentSlide:C,lazyLoadedList:b,targetSlide:C},y={animating:!1,targetSlide:C}}else S=C,C<0?(S=C+a,i?a%h!==0&&(S=a-a%h):S=0):!uP(e)&&C>c?C=S=c:u&&C>=a?(C=i?a:a-1,S=i?0:a-1):C>=a&&(S=C-a,i?a%h!==0&&(S=0):S=a-f),!i&&C+f>=a&&(S=a-f),T=rp(Wt(Wt({},e),{},{slideIndex:C})),E=rp(Wt(Wt({},e),{},{slideIndex:S})),i||(T===E&&(C=S),T=E),s&&(b=b.concat(oP(Wt(Wt({},e),{},{currentSlide:C})))),v?(g={animating:!0,currentSlide:S,trackStyle:dP(Wt(Wt({},e),{},{left:T})),lazyLoadedList:b,targetSlide:P},y={animating:!1,currentSlide:S,trackStyle:np(Wt(Wt({},e),{},{left:E})),swipeLeft:null,targetSlide:P}):g={currentSlide:S,trackStyle:np(Wt(Wt({},e),{},{left:E})),lazyLoadedList:b,targetSlide:P};return{state:g,nextState:y}};we.changeSlide=function(e,t){var n,r,i,o,a,s=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,h=e.currentSlide,f=e.targetSlide,v=e.lazyLoad,b=e.infinite;if(o=u%s!==0,n=o?0:(u-h)%s,t.message==="previous")i=n===0?s:c-n,a=h-i,v&&!b&&(r=h-i,a=r===-1?u-1:r),b||(a=f-s);else if(t.message==="next")i=n===0?s:n,a=h+i,v&&!b&&(a=(h+s)%u+n),b||(a=f+s);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,b){var C=uG(Wt(Wt({},e),{},{targetSlide:a}));a>t.currentSlide&&C==="left"?a=a-u:a<t.currentSlide&&C==="right"&&(a=a+u)}}else t.message==="index"&&(a=Number(t.index));return a};we.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?n?"next":"previous":e.keyCode===39?n?"previous":"next":""};we.swipeStart=function(e,t,n){return e.target.tagName==="IMG"&&rl(e),!t||!n&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};we.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,s=t.rtl,c=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,v=t.swiped,b=t.swiping,C=t.slideCount,S=t.slidesToScroll,T=t.infinite,E=t.touchObject,g=t.swipeEvent,y=t.listHeight,P=t.listWidth;if(!n){if(r)return rl(e);i&&o&&a&&rl(e);var M,N={},_=rp(t);E.curX=e.touches?e.touches[0].pageX:e.clientX,E.curY=e.touches?e.touches[0].pageY:e.clientY,E.swipeLength=Math.round(Math.sqrt(Math.pow(E.curX-E.startX,2)));var p=Math.round(Math.sqrt(Math.pow(E.curY-E.startY,2)));if(!a&&!b&&p>10)return{scrolling:!0};a&&(E.swipeLength=p);var m=(s?-1:1)*(E.curX>E.startX?1:-1);a&&(m=E.curY>E.startY?1:-1);var w=Math.ceil(C/S),R=cP(t.touchObject,a),j=E.swipeLength;return T||(c===0&&(R==="right"||R==="down")||c+1>=w&&(R==="left"||R==="up")||!uP(t)&&(R==="left"||R==="up"))&&(j=E.swipeLength*u,h===!1&&f&&(f(R),N.edgeDragged=!0)),!v&&g&&(g(R),N.swiped=!0),i?M=_+j*(y/P)*m:s?M=_-j*m:M=_+j*m,a&&(M=_+j*m),N=Wt(Wt({},N),{},{touchObject:E,swipeLeft:M,trackStyle:np(Wt(Wt({},t),{},{left:M}))}),Math.abs(E.curX-E.startX)<Math.abs(E.curY-E.startY)*.8||E.swipeLength>10&&(N.swiping=!0,rl(e)),N}};we.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,o=t.listWidth,a=t.touchThreshold,s=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,v=t.targetSlide,b=t.currentSlide,C=t.infinite;if(!n)return r&&rl(e),{};var S=s?c/a:o/a,T=cP(i,s),E={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!i.swipeLength)return E;if(i.swipeLength>S){rl(e),f&&f(T);var g,y,P=C?b:v;switch(T){case"left":case"up":y=P+rC(t),g=u?nC(t,y):y,E.currentDirection=0;break;case"right":case"down":y=P-rC(t),g=u?nC(t,y):y,E.currentDirection=1;break;default:g=P}E.triggerSlideHandler=g}else{var M=rp(t);E.trackStyle=dP(Wt(Wt({},t),{},{left:M}))}return E};var sG=we.getNavigableIndexes=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,n=e.infinite?e.slidesToShow*-1:0,r=e.infinite?e.slidesToShow*-1:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i},nC=we.checkNavigable=function(e,t){var n=sG(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},rC=we.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every(function(s){if(e.vertical){if(s.offsetTop+lP(s)/2>e.swipeLeft*-1)return n=s,!1}else if(s.offsetLeft-t+o0(s)/2>e.swipeLeft*-1)return n=s,!1;return!0}),!n)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(n.dataset.index-o)||1;return a}else return e.slidesToScroll},t1=we.checkSpecKeys=function(e,t){return t.reduce(function(n,r){return n&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)},np=we.getTrackCSS=function(e){t1(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,n;if(!e.vertical)t=cG(e)*e.slideWidth;else{var r=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;n=r*e.slideHeight}var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=Wt(Wt({},i),{},{WebkitTransform:o,transform:a,msTransform:s})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},dP=we.getTrackAnimateCSS=function(e){t1(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=np(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},rp=we.getTrackLeft=function(e){if(e.unslick)return 0;t1(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,n=e.trackRef,r=e.infinite,i=e.centerMode,o=e.slideCount,a=e.slidesToShow,s=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,h=e.variableWidth,f=e.slideHeight,v=e.fade,b=e.vertical,C=0,S,T,E=0;if(v||e.slideCount===1)return 0;var g=0;if(r?(g=-Qh(e),o%s!==0&&t+s>o&&(g=-(t>o?a-(t-o):o%s)),i&&(g+=parseInt(a/2))):(o%s!==0&&t+s>o&&(g=a-o%s),i&&(g=parseInt(a/2))),C=g*c,E=g*f,b?S=t*f*-1+E:S=t*c*-1+C,h===!0){var y,P=n&&n.node;if(y=t+Qh(e),T=P&&P.childNodes[y],S=T?T.offsetLeft*-1:0,i===!0){y=r?t+Qh(e):t,T=P&&P.children[y],S=0;for(var M=0;M<y;M++)S-=P&&P.children[M]&&P.children[M].offsetWidth;S-=parseInt(e.centerPadding),S+=T&&(u-T.offsetWidth)/2}}return S},Qh=we.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},lG=we.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},cG=we.getTotalSlides=function(e){return e.slideCount===1?1:Qh(e)+e.slideCount+lG(e)},uG=we.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+dG(e)?"left":"right":e.targetSlide<e.currentSlide-hG(e)?"right":"left"},dG=we.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1},hG=we.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),!r&&t%2===0&&(o+=1),o}return r?t-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var fG=we.validSettings=Object.keys(tG.default);function pG(e){return fG.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.Track=void 0;var Lo=hP(x),sy=hP(Qm),bh=we;function hP(e){return e&&e.__esModule?e:{default:e}}function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function mG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pP(r.key),r)}}function yG(e,t,n){return t&&gG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s0(e,t)}function s0(e,t){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},s0(e,t)}function bG(e){var t=fP();return function(){var n,r=ip(e);if(t){var i=ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xG(this,n)}}function xG(e,t){if(t&&(Rl(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0(e)}function l0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ip(e)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){c0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n){return(t=pP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pP(e){var t=wG(e,"string");return Rl(t)=="symbol"?t:t+""}function wG(e,t){if(Rl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=function(e){var t,n,r,i,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,r=o<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var s=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":s}},SG=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},cy=function(e,t){return e.key||t},kG=function(e){var t,n=[],r=[],i=[],o=Lo.default.Children.count(e.children),a=(0,bh.lazyStartIndex)(e),s=(0,bh.lazyEndIndex)(e);return Lo.default.Children.forEach(e.children,function(c,u){var h,f={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?h=c:h=Lo.default.createElement("div",null);var v=SG(ar(ar({},e),{},{index:u})),b=h.props.className||"",C=ly(ar(ar({},e),{},{index:u}));if(n.push(Lo.default.cloneElement(h,{key:"original"+cy(h,u),"data-index":u,className:(0,sy.default)(C,b),tabIndex:"-1","aria-hidden":!C["slick-active"],style:ar(ar({outline:"none"},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var S=o-u;S<=(0,bh.getPreClones)(e)&&(t=-S,t>=a&&(h=c),C=ly(ar(ar({},e),{},{index:t})),r.push(Lo.default.cloneElement(h,{key:"precloned"+cy(h,t),"data-index":t,tabIndex:"-1",className:(0,sy.default)(C,b),"aria-hidden":!C["slick-active"],style:ar(ar({},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),e.focusOnSelect&&e.focusOnSelect(f)}}))),u<(0,bh.getPostClones)(e)&&(t=o+u,t<s&&(h=c),C=ly(ar(ar({},e),{},{index:t})),i.push(Lo.default.cloneElement(h,{key:"postcloned"+cy(h,t),"data-index":t,tabIndex:"-1",className:(0,sy.default)(C,b),"aria-hidden":!C["slick-active"],style:ar(ar({},h.props.style||{}),v),onClick:function(T){h.props&&h.props.onClick&&h.props.onClick(T),e.focusOnSelect&&e.focusOnSelect(f)}})))}}),e.rtl?r.concat(n,i).reverse():r.concat(n,i)};Ym.Track=function(e){vG(n,e);var t=bG(n);function n(){var r;mG(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),c0(l0(r),"node",null),c0(l0(r),"handleRef",function(s){r.node=s}),r}return yG(n,[{key:"render",value:function(){var r=kG(this.props),i=this.props,o=i.onMouseEnter,a=i.onMouseOver,s=i.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:s};return Lo.default.createElement("div",a0({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),r)}}]),n}(Lo.default.PureComponent);var Xm={};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}Object.defineProperty(Xm,"__esModule",{value:!0});Xm.Dots=void 0;var xh=mP(x),CG=mP(Qm),oC=we;function mP(e){return e&&e.__esModule?e:{default:e}}function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){_G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _G(e,t,n){return(t=gP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gP(r.key),r)}}function jG(e,t,n){return t&&IG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gP(e){var t=RG(e,"string");return Pl(t)=="symbol"?t:t+""}function RG(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u0(e,t)}function OG(e){var t=yP();return function(){var n,r=op(e);if(t){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return AG(this,n)}}function AG(e,t){if(t&&(Pl(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NG(e)}function NG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},op(e)}var MG=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t};Xm.Dots=function(e){PG(n,e);var t=OG(n);function n(){return TG(this,n),t.apply(this,arguments)}return jG(n,[{key:"clickHandler",value:function(r,i){i.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,i=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,s=r.infinite,c=r.slidesToScroll,u=r.slidesToShow,h=r.slideCount,f=r.currentSlide,v=MG({slideCount:h,slidesToScroll:c,slidesToShow:u,infinite:s}),b={onMouseEnter:i,onMouseOver:o,onMouseLeave:a},C=[],S=0;S<v;S++){var T=(S+1)*c-1,E=s?T:(0,oC.clamp)(T,0,h-1),g=E-(c-1),y=s?g:(0,oC.clamp)(g,0,h-1),P=(0,CG.default)({"slick-active":s?f>=y&&f<=E:f===y}),M={message:"dots",index:S,slidesToScroll:c,currentSlide:f},N=this.clickHandler.bind(this,M);C=C.concat(xh.default.createElement("li",{key:S,className:P},xh.default.cloneElement(this.props.customPaging(S),{onClick:N})))}return xh.default.cloneElement(this.props.appendDots(C),EG({className:this.props.dotsClass},b))}}]),n}(xh.default.PureComponent);var Ol={};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}Object.defineProperty(Ol,"__esModule",{value:!0});Ol.PrevArrow=Ol.NextArrow=void 0;var il=bP(x),vP=bP(Qm),LG=we;function bP(e){return e&&e.__esModule?e:{default:e}}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(null,arguments)}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){DG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DG(e,t,n){return(t=SP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SP(r.key),r)}}function wP(e,t,n){return t&&zG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SP(e){var t=FG(e,"string");return Al(t)=="symbol"?t:t+""}function FG(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d0(e,t)}function d0(e,t){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},d0(e,t)}function CP(e){var t=EP();return function(){var n,r=lp(e);if(t){var i=lp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BG(this,n)}}function BG(e,t){if(t&&(Al(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(e)}function WG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lp(e)}Ol.PrevArrow=function(e){kP(n,e);var t=CP(n);function n(){return xP(this,n),t.apply(this,arguments)}return wP(n,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,i=null);var o={key:"0","data-role":"none",className:(0,vP.default)(r),style:{display:"block"},onClick:i},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},s;return this.props.prevArrow?s=il.default.cloneElement(this.props.prevArrow,sp(sp({},o),a)):s=il.default.createElement("button",ap({key:"0",type:"button"},o)," ","Previous"),s}}]),n}(il.default.PureComponent);Ol.NextArrow=function(e){kP(n,e);var t=CP(n);function n(){return xP(this,n),t.apply(this,arguments)}return wP(n,[{key:"clickHandler",value:function(r,i){i&&i.preventDefault(),this.props.clickHandler(r,i)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});(0,LG.canGoNext)(this.props)||(r["slick-disabled"]=!0,i=null);var o={key:"1","data-role":"none",className:(0,vP.default)(r),style:{display:"block"},onClick:i},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},s;return this.props.nextArrow?s=il.default.cloneElement(this.props.nextArrow,sp(sp({},o),a)):s=il.default.createElement("button",ap({key:"1",type:"button"},o)," ","Next"),s}}]),n}(il.default.PureComponent);var _P=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},t}()}(),h0=typeof window<"u"&&typeof document<"u"&&window.document===document,cp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),$G=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(cp):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),UG=2;function VG(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){$G(o)}function s(){var c=Date.now();if(n){if(c-i<UG)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=c}return s}var qG=20,HG=["top","right","bottom","left","width","height","size","weight"],KG=typeof MutationObserver<"u",GG=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VG(this.refresh.bind(this),qG)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!h0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),KG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!h0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=HG.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),TP=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Nl=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||cp},IP=Jm(0,0,0,0);function up(e){return parseFloat(e)||0}function lC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+up(o)},0)}function QG(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=up(a)}return n}function YG(e){var t=e.getBBox();return Jm(0,0,t.width,t.height)}function XG(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return IP;var r=Nl(e).getComputedStyle(e),i=QG(r),o=i.left+i.right,a=i.top+i.bottom,s=up(r.width),c=up(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==t&&(s-=lC(r,"left","right")+o),Math.round(c+a)!==n&&(c-=lC(r,"top","bottom")+a)),!ZG(e)){var u=Math.round(s+o)-t,h=Math.round(c+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(h)!==1&&(c-=h)}return Jm(i.left,i.top,s,c)}var JG=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Nl(e).SVGGraphicsElement}:function(e){return e instanceof Nl(e).SVGElement&&typeof e.getBBox=="function"}}();function ZG(e){return e===Nl(e).document.documentElement}function eQ(e){return h0?JG(e)?YG(e):XG(e):IP}function tQ(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return TP(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function Jm(e,t,n,r){return{x:e,y:t,width:n,height:r}}var nQ=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Jm(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=eQ(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),rQ=function(){function e(t,n){var r=tQ(n);TP(this,{target:t,contentRect:r})}return e}(),iQ=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new _P,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Nl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new nQ(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Nl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new rQ(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),jP=typeof WeakMap<"u"?new WeakMap:new _P,RP=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=GG.getInstance(),r=new iQ(t,n,this);jP.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){RP.prototype[e]=function(){var t;return(t=jP.get(this))[e].apply(t,arguments)}});var oQ=function(){return typeof cp.ResizeObserver<"u"?cp.ResizeObserver:RP}();const aQ=Object.freeze(Object.defineProperty({__proto__:null,default:oQ},Symbol.toStringTag,{value:"Module"})),sQ=Wi(aQ);Object.defineProperty(Gm,"__esModule",{value:!0});Gm.InnerSlider=void 0;var Jn=Cd(x),lQ=Cd(tP),cQ=Cd(ZK),uQ=Cd(Qm),Vt=we,dQ=Ym,hQ=Xm,cC=Ol,fQ=Cd(sQ);function Cd(e){return e&&e.__esModule?e:{default:e}}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(null,arguments)}function pQ(e,t){if(e==null)return{};var n,r,i=mQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){ht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OP(r.key),r)}}function vQ(e,t,n){return t&&yQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f0(e,t)}function f0(e,t){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},f0(e,t)}function xQ(e){var t=PP();return function(){var n,r=hp(e);if(t){var i=hp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wQ(this,n)}}function wQ(e,t){if(t&&(es(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function dt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(e)}function ht(e,t,n){return(t=OP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OP(e){var t=SQ(e,"string");return es(t)=="symbol"?t:t+""}function SQ(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Gm.InnerSlider=function(e){bQ(n,e);var t=xQ(n);function n(r){var i;gQ(this,n),i=t.call(this,r),ht(dt(i),"listRefHandler",function(a){return i.list=a}),ht(dt(i),"trackRefHandler",function(a){return i.track=a}),ht(dt(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var a=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Vt.getHeight)(a)+"px"}}),ht(dt(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var a=(0,Vt.getOnDemandLazySlides)(Ge(Ge({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}var s=Ge({listRef:i.list,trackRef:i.track},i.props);i.updateState(s,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new fQ.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,c.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ht(dt(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(a){return clearTimeout(a)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ht(dt(i),"componentDidUpdate",function(a){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var s=(0,Vt.getOnDemandLazySlides)(Ge(Ge({},i.props),i.state));s.length>0&&(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}i.adaptHeight();var c=Ge(Ge({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(a);u&&i.updateState(c,u,function(){i.state.currentSlide>=Jn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Jn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ht(dt(i),"onWindowResized",function(a){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,cQ.default)(function(){return i.resizeWindow(a)},50),i.debouncedResize()}),ht(dt(i),"resizeWindow",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(i.track&&i.track.node);if(s){var c=Ge(Ge({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(c,a,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ht(dt(i),"updateState",function(a,s,c){var u=(0,Vt.initializedState)(a);a=Ge(Ge(Ge({},a),u),{},{slideIndex:u.currentSlide});var h=(0,Vt.getTrackLeft)(a);a=Ge(Ge({},a),{},{left:h});var f=(0,Vt.getTrackCSS)(a);(s||Jn.default.Children.count(i.props.children)!==Jn.default.Children.count(a.children))&&(u.trackStyle=f),i.setState(u,c)}),ht(dt(i),"ssrInit",function(){if(i.props.variableWidth){var a=0,s=0,c=[],u=(0,Vt.getPreClones)(Ge(Ge(Ge({},i.props),i.state),{},{slideCount:i.props.children.length})),h=(0,Vt.getPostClones)(Ge(Ge(Ge({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(_){c.push(_.props.style.width),a+=_.props.style.width});for(var f=0;f<u;f++)s+=c[c.length-1-f],a+=c[c.length-1-f];for(var v=0;v<h;v++)a+=c[v];for(var b=0;b<i.state.currentSlide;b++)s+=c[b];var C={width:a+"px",left:-s+"px"};if(i.props.centerMode){var S="".concat(c[i.state.currentSlide],"px");C.left="calc(".concat(C.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:C}}var T=Jn.default.Children.count(i.props.children),E=Ge(Ge(Ge({},i.props),i.state),{},{slideCount:T}),g=(0,Vt.getPreClones)(E)+(0,Vt.getPostClones)(E)+T,y=100/i.props.slidesToShow*g,P=100/g,M=-P*((0,Vt.getPreClones)(E)+i.state.currentSlide)*y/100;i.props.centerMode&&(M+=(100-P*y/100)/2);var N={width:y+"%",left:M+"%"};return{slideWidth:P+"%",trackStyle:N}}),ht(dt(i),"checkImagesLoad",function(){var a=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],s=a.length,c=0;Array.prototype.forEach.call(a,function(u){var h=function(){return++c&&c>=s&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(v){f(v),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=h,u.onerror=function(){h(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ht(dt(i),"progressiveLazyLoad",function(){for(var a=[],s=Ge(Ge({},i.props),i.state),c=i.state.currentSlide;c<i.state.slideCount+(0,Vt.getPostClones)(s);c++)if(i.state.lazyLoadedList.indexOf(c)<0){a.push(c);break}for(var u=i.state.currentSlide-1;u>=-(0,Vt.getPreClones)(s);u--)if(i.state.lazyLoadedList.indexOf(u)<0){a.push(u);break}a.length>0?(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ht(dt(i),"slideHandler",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i.props,u=c.asNavFor,h=c.beforeChange,f=c.onLazyLoad,v=c.speed,b=c.afterChange,C=i.state.currentSlide,S=(0,Vt.slideHandler)(Ge(Ge(Ge({index:a},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!s})),T=S.state,E=S.nextState;if(T){h&&h(C,T.currentSlide);var g=T.lazyLoadedList.filter(function(y){return i.state.lazyLoadedList.indexOf(y)<0});f&&g.length>0&&f(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),b&&b(C),delete i.animationEndCallback),i.setState(T,function(){u&&i.asNavForIndex!==a&&(i.asNavForIndex=a,u.innerSlider.slideHandler(a)),E&&(i.animationEndCallback=setTimeout(function(){var y=E.animating,P=pQ(E,["animating"]);i.setState(P,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:y})},10)),b&&b(T.currentSlide),delete i.animationEndCallback})},v))})}}),ht(dt(i),"changeSlide",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=Ge(Ge({},i.props),i.state),u=(0,Vt.changeSlide)(c,a);if(!(u!==0&&!u)&&(s===!0?i.slideHandler(u,s):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var h=i.list.querySelectorAll(".slick-current");h[0]&&h[0].focus()}}),ht(dt(i),"clickHandler",function(a){i.clickable===!1&&(a.stopPropagation(),a.preventDefault()),i.clickable=!0}),ht(dt(i),"keyHandler",function(a){var s=(0,Vt.keyHandler)(a,i.props.accessibility,i.props.rtl);s!==""&&i.changeSlide({message:s})}),ht(dt(i),"selectHandler",function(a){i.changeSlide(a)}),ht(dt(i),"disableBodyScroll",function(){var a=function(s){s=s||window.event,s.preventDefault&&s.preventDefault(),s.returnValue=!1};window.ontouchmove=a}),ht(dt(i),"enableBodyScroll",function(){window.ontouchmove=null}),ht(dt(i),"swipeStart",function(a){i.props.verticalSwiping&&i.disableBodyScroll();var s=(0,Vt.swipeStart)(a,i.props.swipe,i.props.draggable);s!==""&&i.setState(s)}),ht(dt(i),"swipeMove",function(a){var s=(0,Vt.swipeMove)(a,Ge(Ge(Ge({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));s&&(s.swiping&&(i.clickable=!1),i.setState(s))}),ht(dt(i),"swipeEnd",function(a){var s=(0,Vt.swipeEnd)(a,Ge(Ge(Ge({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(s){var c=s.triggerSlideHandler;delete s.triggerSlideHandler,i.setState(s),c!==void 0&&(i.slideHandler(c),i.props.verticalSwiping&&i.enableBodyScroll())}}),ht(dt(i),"touchEnd",function(a){i.swipeEnd(a),i.clickable=!0}),ht(dt(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ht(dt(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ht(dt(i),"slickGoTo",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a=Number(a),isNaN(a))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:a,currentSlide:i.state.currentSlide},s)},0))}),ht(dt(i),"play",function(){var a;if(i.props.rtl)a=i.state.currentSlide-i.props.slidesToScroll;else if((0,Vt.canGoNext)(Ge(Ge({},i.props),i.state)))a=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(a)}),ht(dt(i),"autoPlay",function(a){i.autoplayTimer&&clearInterval(i.autoplayTimer);var s=i.state.autoplaying;if(a==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(a==="leave"){if(s==="paused"||s==="focused")return}else if(a==="blur"&&(s==="paused"||s==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ht(dt(i),"pause",function(a){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var s=i.state.autoplaying;a==="paused"?i.setState({autoplaying:"paused"}):a==="focused"?(s==="hovered"||s==="playing")&&i.setState({autoplaying:"focused"}):s==="playing"&&i.setState({autoplaying:"hovered"})}),ht(dt(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ht(dt(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ht(dt(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ht(dt(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ht(dt(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ht(dt(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ht(dt(i),"render",function(){var a=(0,uQ.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),s=Ge(Ge({},i.props),i.state),c=(0,Vt.extractObject)(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;c=Ge(Ge({},c),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var h;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Vt.extractObject)(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=i.props.pauseOnDotsHover;f=Ge(Ge({},f),{},{clickHandler:i.changeSlide,onMouseEnter:v?i.onDotsLeave:null,onMouseOver:v?i.onDotsOver:null,onMouseLeave:v?i.onDotsLeave:null}),h=Jn.default.createElement(hQ.Dots,f)}var b,C,S=(0,Vt.extractObject)(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=i.changeSlide,i.props.arrows&&(b=Jn.default.createElement(cC.PrevArrow,S),C=Jn.default.createElement(cC.NextArrow,S));var T=null;i.props.vertical&&(T={height:i.state.listHeight});var E=null;i.props.vertical===!1?i.props.centerMode===!0&&(E={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(E={padding:i.props.centerPadding+" 0px"});var g=Ge(Ge({},T),E),y=i.props.touchMove,P={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:y?i.swipeStart:null,onMouseMove:i.state.dragging&&y?i.swipeMove:null,onMouseUp:y?i.swipeEnd:null,onMouseLeave:i.state.dragging&&y?i.swipeEnd:null,onTouchStart:y?i.swipeStart:null,onTouchMove:i.state.dragging&&y?i.swipeMove:null,onTouchEnd:y?i.touchEnd:null,onTouchCancel:i.state.dragging&&y?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:a,dir:"ltr",style:i.props.style};return i.props.unslick&&(P={className:"slick-list"},M={className:a,style:i.props.style}),Jn.default.createElement("div",M,i.props.unslick?"":b,Jn.default.createElement("div",dp({ref:i.listRefHandler},P),Jn.default.createElement(dQ.Track,dp({ref:i.trackRefHandler},c),i.props.children)),i.props.unslick?"":C,i.props.unslick?"":h)}),i.list=null,i.track=null,i.state=Ge(Ge({},lQ.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Jn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=Ge(Ge({},i.state),o),i}return vQ(n,[{key:"didPropsChange",value:function(r){for(var i=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var s=a[o];if(!r.hasOwnProperty(s)){i=!0;break}if(!(es(r[s])==="object"||typeof r[s]=="function"||isNaN(r[s]))&&r[s]!==this.props[s]){i=!0;break}}return i||Jn.default.Children.count(this.props.children)!==Jn.default.Children.count(r.children)}}]),n}(Jn.default.Component);var kQ=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},CQ=kQ,EQ=CQ,_Q=function(e){var t=/[height|width]$/;return t.test(e)},dC=function(e){var t="",n=Object.keys(e);return n.forEach(function(r,i){var o=e[r];r=EQ(r),_Q(r)&&typeof o=="number"&&(o=o+"px"),o===!0?t+=r:o===!1?t+="not "+r:t+="("+r+": "+o+")",i<n.length-1&&(t+=" and ")}),t},TQ=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(n,r){t+=dC(n),r<e.length-1&&(t+=", ")}),t):dC(e)},IQ=TQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(x),n=Gm,r=a(IQ),i=a(e1),o=we;function a(p){return p&&p.__esModule?p:{default:p}}function s(p){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var w=arguments[m];for(var R in w)({}).hasOwnProperty.call(w,R)&&(p[R]=w[R])}return p},c.apply(null,arguments)}function u(p,m){var w=Object.keys(p);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(p);m&&(R=R.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),w.push.apply(w,R)}return w}function h(p){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?u(Object(w),!0).forEach(function(R){M(p,R,w[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(R){Object.defineProperty(p,R,Object.getOwnPropertyDescriptor(w,R))})}return p}function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,N(R.key),R)}}function b(p,m,w){return m&&v(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),p}function C(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),m&&S(p,m)}function S(p,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,R){return w.__proto__=R,w},S(p,m)}function T(p){var m=y();return function(){var w,R=P(p);if(m){var j=P(this).constructor;w=Reflect.construct(R,arguments,j)}else w=R.apply(this,arguments);return E(this,w)}}function E(p,m){if(m&&(s(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(p)}function g(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function y(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!p})()}function P(p){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},P(p)}function M(p,m,w){return(m=N(m))in p?Object.defineProperty(p,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[m]=w,p}function N(p){var m=_(p,"string");return s(m)=="symbol"?m:m+""}function _(p,m){if(s(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var R=w.call(p,m);if(s(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}e.default=function(p){C(w,p);var m=T(w);function w(R){var j;return f(this,w),j=m.call(this,R),M(g(j),"innerSliderRefHandler",function(I){return j.innerSlider=I}),M(g(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(g(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(g(j),"slickGoTo",function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(I,L)}),M(g(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(g(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return b(w,[{key:"media",value:function(R,j){var I=window.matchMedia(R),L=function(W){var K=W.matches;K&&j()};I.addListener(L),this._responsiveMediaHandlers.push({mql:I,query:R,listener:L})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var j=this.props.responsive.map(function(L){return L.breakpoint});j.sort(function(L,W){return L-W}),j.forEach(function(L,W){var K;W===0?K=(0,r.default)({minWidth:0,maxWidth:L}):K=(0,r.default)({minWidth:j[W-1]+1,maxWidth:L}),(0,o.canUseDOM)()&&R.media(K,function(){R.setState({breakpoint:L})})});var I=(0,r.default)({minWidth:j.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(I,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){R.mql.removeListener(R.listener)})}},{key:"render",value:function(){var R=this,j,I;this.state.breakpoint?(I=this.props.responsive.filter(function(Q){return Q.breakpoint===R.state.breakpoint}),j=I[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),I[0].settings)):j=h(h({},i.default),this.props),j.centerMode&&(j.slidesToScroll>1,j.slidesToScroll=1),j.fade&&(j.slidesToShow>1,j.slidesToScroll>1,j.slidesToShow=1,j.slidesToScroll=1);var L=t.default.Children.toArray(this.props.children);L=L.filter(function(Q){return typeof Q=="string"?!!Q.trim():!!Q}),j.variableWidth&&(j.rows>1||j.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),j.variableWidth=!1);for(var W=[],K=null,B=0;B<L.length;B+=j.rows*j.slidesPerRow){for(var F=[],$=B;$<B+j.rows*j.slidesPerRow;$+=j.slidesPerRow){for(var q=[],H=$;H<$+j.slidesPerRow&&(j.variableWidth&&L[H].props.style&&(K=L[H].props.style.width),!(H>=L.length));H+=1)q.push(t.default.cloneElement(L[H],{key:100*B+10*$+H,tabIndex:-1,style:{width:"".concat(100/j.slidesPerRow,"%"),display:"inline-block"}}));F.push(t.default.createElement("div",{key:10*B+$},q))}j.variableWidth?W.push(t.default.createElement("div",{key:B,style:{width:K}},F)):W.push(t.default.createElement("div",{key:B},F))}if(j==="unslick"){var G="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:G},L)}else W.length<=j.slidesToShow&&(j.unslick=!0);return t.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(j)),W)}}]),w}(t.default.Component)})(eP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(eP);function n(r){return r&&r.__esModule?r:{default:r}}e.default=t.default})(ZR);const jQ=fp(ZR);function RQ({onClick:e}){const[t,n]=x.useState(!1),r=i=>{n(!0),setTimeout(()=>n(!1),220),e&&e(i)};return l.jsx(Vn,{variant:"contained",color:"primary",onClick:r,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:t?"0 2px 8px 0 rgba(18,140,126,0.18)":4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",transform:t?"scale(0.96) rotate(2deg)":void 0,boxShadow:t?"0 2px 8px 0 rgba(18,140,126,0.18)":void 0,"&:hover":{transform:"scale(1.13) rotate(-6deg)",boxShadow:"0 8px 32px 0 rgba(37,211,102,0.25)"},"&:active":{transform:"scale(0.96) rotate(2deg)",boxShadow:"0 2px 8px 0 rgba(18,140,126,0.18)"}},"aria-label":"WhatsApp Chat",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),l.jsx("path",{d:"M25.472 21.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]})})}function PQ({drugClasses:e,previewProducts:t,navigate:n}){const[r,i]=x.useState(0),o=4,a=e.length,s=e.slice(r,r+o).concat(r+o>a?e.slice(0,(r+o)%a):[]),c=()=>{i(h=>(h-o+a)%a)},u=()=>{i(h=>(h+o)%a)};return l.jsxs(He,{sx:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",minWidth:0,maxWidth:"100vw"},children:[l.jsx(Vn,{onClick:c,sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(He,{sx:{display:"flex",gap:2,flex:"1 1 auto",justifyContent:"center",flexWrap:"nowrap",overflowX:"auto",minWidth:0,maxWidth:"100vw",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:s.map(h=>{const f=t.find(v=>v.class&&v.class.trim()===h);return l.jsxs(Jf,{sx:{width:120,height:120,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)",background:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)",background:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>n(`/shop?category=${encodeURIComponent(h)}`),children:[f&&l.jsx(He,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:f.image||"/default-medicine.png",alt:f.name||h,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(Zf,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(Ne,{variant:"h6",fontWeight:900,sx:{color:"#004d40",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"0.85rem",lineHeight:1.1},children:h})})]},h)})}),l.jsx(Vn,{onClick:u,sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{onClick:u,sx:{minWidth:0,px:1,fontSize:22,color:"#009688",flex:"0 0 auto",zIndex:3},children:">"})]})}function OQ(){var e,t,n,r,i,o,a,s,c,u,h,f,v,b,C,S,T,E,g,y;const[P,M]=x.useState(!1),[N,_]=x.useState(""),[p,m]=x.useState([]),w=[{name:"Emzor Paracetamol",image:"https://i.ibb.co/yFNm7BHd/08-Paracetamol-96-World-Cup-Pack-View-01-removebg-preview.png"},{name:"Amatem Forte Softgel",image:"https://i.ibb.co/JjhnTsQt/amatem-f1-removebg-preview.png"},{name:"Mycoten-Plus Vaginal Cream",image:"https://i.ibb.co/j9VpM02J/MYCOTEN-PLUS-768x485-removebg-preview.png"},{name:"Pregnacare Range",image:"https://i.ibb.co/S47hgbN9/pregnacare-4b303546-25f3-4174-92a5-c459017d193c-400x-removebg-preview.png"}];x.useEffect(()=>{async function X(){let ae=(await Ht(Fe(re,"verifyMedics"))).docs.map(Oe=>({id:Oe.id,...Oe.data()}));(await Ht(Fe(re,"users"))).docs.forEach(Oe=>{const xe=Oe.data();xe.role==="medicine-manager"&&xe.pharmacist&&ae.push({...xe.pharmacist,id:Oe.id,online:!0})}),m(ae)}X()},[]);const R=600;x.useEffect(()=>{if(typeof document<"u"){document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)";const X=document.getElementById("mission-shine-style");X&&X.remove();const ae=document.createElement("style");ae.id="mission-shine-style",ae.innerHTML=`
        .top-shine-effect-global {
          position: absolute;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
          filter: blur(6px) brightness(1.01);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.012;
          z-index: 1000;
        }
        .top-shine-effect {
          position: absolute;
          top: 0; left: 0;
          width: 220%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
          filter: blur(3.5px) brightness(1.05);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.13;
          z-index: 1000;
        }
        @keyframes shine-move-top {
          0% { transform: translateX(-60%); opacity: 0; }
          10% { opacity: 0.7; }
          50% { opacity: 0.95; }
          100% { transform: translateX(60%); opacity: 0; }
        }
        .mission-shine-text {
          position: relative;
          text-align: right;
          color: #fff;
          font-size: 2.1rem;
          font-weight: 700;
          font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
          overflow: visible;
          line-height: 1.2;
        }
        @media (max-width: 900px) {
          .mission-shine-text {
            font-size: 2.1rem !important;
            max-width: 540px !important;
            line-height: 1.2 !important;
            text-align: right !important;
            margin: 0 !important;
            display: inline !important;
            padding: 0 2vw !important;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: unset !important;
          }
          @media (max-width: 900px) {
            .mission-shine-text {
              font-size: 1.1rem !important;
              max-width: 100vw !important;
              line-height: 1.25 !important;
              padding: 0 0.5vw 0 0 !important;
              margin: 0 !important;
              text-align: right !important;
              display: block !important;
            }
            .top-shine-effect-container {
              min-height: 180px;
            }
            .top-shine-effect-container > .MuiBox-root {
              margin-left: 2vw !important;
            }
            .top-shine-effect-container > .MuiBox-root:last-child {
              margin-left: 2vw !important;
            }
          }
          .top-shine-effect-container {
            min-height: 180px;
          }
        }
      `,document.head.appendChild(ae)}},[]);const[j,I]=x.useState([]),[L,W]=x.useState(0),[K,B]=x.useState(!0);x.useEffect(()=>{if(!w.length)return;const X=setInterval(()=>{B(!1),setTimeout(()=>{W(ae=>(ae+1)%w.length),B(!0)},100)},2500);return()=>clearInterval(X)},[w.length]);const[F,$]=x.useState([]),[q,H]=x.useState([]),[G,Q]=x.useState(null),[ue,le]=x.useState(""),[Pe,U]=x.useState(""),[ee,V]=x.useState(""),J=gr(),te=q.filter(X=>!ee||X.name&&X.name.toLowerCase().includes(ee.toLowerCase())).sort((X,ae)=>G&&X.minutesAway!=null&&ae.minutesAway!=null?X.minutesAway-ae.minutesAway:0);function oe(X,ae){return X>6&&X<7&&ae>3&&ae<4?"Lagos":X>8&&X<10&&ae>7&&ae<8?"Abuja":X>4&&X<5.5&&ae>6&&ae<8?"Rivers":X>11&&X<13&&ae>8&&ae<9?"Kano":"Unknown"}function me(X,ae){if(X==null)return"Distance unknown";if(X==="loading")return"Calculating...";let Oe="",xe="";if(G&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const ve=oe(G.lat,G.lng),Be=oe(ae.location.latitude,ae.location.longitude);ve!=="Unknown"&&Be!=="Unknown"&&ve!==Be&&(Oe=Be)}if(X>60)xe=X>120?`${X} min away`:"Over 1 hr away";else if(G&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const ve=oe(G.lat,G.lng),Be=oe(ae.location.latitude,ae.location.longitude);ve!=="Unknown"&&Be!=="Unknown"&&ve===Be&&X>30?xe="30 min away":xe=`${X} min away`}else xe=`${X} min away`;return Oe&&xe?`${Oe}  ${xe}`:xe}x.useEffect(()=>{const X=Et(Fe(re,"products"),ae=>{const Oe=ae.docs.map(xe=>({id:xe.id,...xe.data()}));I(Oe)});return()=>X()},[]);function Ee(X,ae,Oe,xe){const ve=de=>de*Math.PI/180,Be=ve(Oe-X),Xe=ve(xe-ae),je=Math.sin(Be/2)**2+Math.cos(ve(X))*Math.cos(ve(Oe))*Math.sin(Xe/2)**2;return 6371*2*Math.atan2(Math.sqrt(je),Math.sqrt(1-je))}async function De(X,ae){const Oe=window.GOOGLE_MAPS_API_KEY;if(!Oe)return null;try{const xe=`https://maps.googleapis.com/maps/api/directions/json?origin=${X.lat},${X.lng}&destination=${ae.lat},${ae.lng}&mode=driving&key=${Oe}`,ve=await(await fetch(xe)).json();if(ve.routes&&ve.routes[0]&&ve.routes[0].legs&&ve.routes[0].legs[0])return Math.round(ve.routes[0].legs[0].duration.value/60)}catch{}return null}function Ie(X){return!X||isNaN(X)||X===1/0?null:Math.round(X/40*60)}x.useEffect(()=>{let X=!1;const ae=Et(Fe(re,"users"),async Oe=>{const xe=[],ve=new Set,Be=[];Oe.docs.forEach(je=>{const de=je.data();if(de.businessSlug&&!ve.has(de.businessSlug)){let ye=null;G&&de.location&&typeof de.location.latitude=="number"&&typeof de.location.longitude=="number"&&(ye=Ee(G.lat,G.lng,de.location.latitude,de.location.longitude),Be.push((async()=>{let rt=await De(G,{lat:de.location.latitude,lng:de.location.longitude});return rt||(rt=Ie(ye)),{slug:de.businessSlug,minutesAway:rt}})())),xe.push({name:de.businessName||de.businessSlug,img:de.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",minutesAway:null,slug:de.businessSlug}),ve.add(de.businessSlug)}});const Xe=await Promise.all(Be);for(const je of Xe){const de=xe.findIndex(ye=>ye.slug===je.slug);de!==-1&&(xe[de].minutesAway=je.minutesAway)}xe.sort((je,de)=>je.minutesAway==null?1:de.minutesAway==null?-1:je.minutesAway-de.minutesAway),X||(console.log("Fetched pharmacy stores:",xe),H(xe))});return()=>{X=!0,ae()}},[G]);const Ue={infinite:!0,speed:1e3,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]};x.useEffect(()=>{const X=Et(Fe(re,"products"),ae=>{const Oe=new Set;ae.docs.forEach(xe=>{const ve=xe.data().class;ve&&typeof ve=="string"&&ve.trim()&&Oe.add(ve.trim())}),$(Array.from(Oe).sort())});return()=>X()},[]),x.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(X=>{const ae={lat:X.coords.latitude,lng:X.coords.longitude};Q(ae),localStorage.setItem("customerLocation",JSON.stringify(ae))},X=>{le("Location access denied. Please enable location services.")})},[]);const _e=X=>{X.preventDefault(),Pe.trim()?J(`/shop?search=${encodeURIComponent(Pe.trim())}`):J("/shop")};return l.jsx(BR,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Gr,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden",minHeight:0,height:"auto",display:"block"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(He,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(He,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),w.length>0&&l.jsx(zR,{in:K,timeout:R,children:l.jsx("img",{src:((e=w[L])==null?void 0:e.image)||"/default-medicine.png",alt:((t=w[L])==null?void 0:t.name)||"Medicine",style:{width:((n=w[L])==null?void 0:n.name)==="Visita Plus Cream"||((r=w[L])==null?void 0:r.name)==="Amatem Forte Softgel"||((i=w[L])==null?void 0:i.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",height:((o=w[L])==null?void 0:o.name)==="Visita Plus Cream"||((a=w[L])==null?void 0:a.name)==="Amatem Forte Softgel"||((s=w[L])==null?void 0:s.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",minWidth:((c=w[L])==null?void 0:c.name)==="Visita Plus Cream"||((u=w[L])==null?void 0:u.name)==="Amatem Forte Softgel"||((h=w[L])==null?void 0:h.name)==="Mycoten-Plus Vaginal Cream"?140:90,minHeight:((f=w[L])==null?void 0:f.name)==="Visita Plus Cream"||((v=w[L])==null?void 0:v.name)==="Amatem Forte Softgel"||((b=w[L])==null?void 0:b.name)==="Mycoten-Plus Vaginal Cream"?140:90,maxWidth:((C=w[L])==null?void 0:C.name)==="Visita Plus Cream"||((S=w[L])==null?void 0:S.name)==="Amatem Forte Softgel"||((T=w[L])==null?void 0:T.name)==="Mycoten-Plus Vaginal Cream"?300:220,maxHeight:((E=w[L])==null?void 0:E.name)==="Visita Plus Cream"||((g=w[L])==null?void 0:g.name)==="Amatem Forte Softgel"||((y=w[L])==null?void 0:y.name)==="Mycoten-Plus Vaginal Cream"?300:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},L),l.jsx(He,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(He,{component:"form",onSubmit:_e,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(wn,{variant:"outlined",placeholder:"Search drugs...",value:Pe,onChange:X=>U(X.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(Vn,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #FF4081 60%, #FF6F61 100%)","&:hover":{background:"linear-gradient(90deg, #FF6F61 60%, #FF4081 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(He,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:G?l.jsxs(Ne,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[G.lat.toFixed(4),", ",G.lng.toFixed(4)]}):l.jsx(Ne,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:ue||"Detecting location..."})}),l.jsxs(He,{sx:{mt:3,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ne,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Featured Brands"}),l.jsx(Ne,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Access several brands and medicine alternatives"})]}),l.jsx(He,{sx:{mt:1,mb:2,background:"none",backgroundSize:"unset",borderRadius:0,minHeight:180,px:0,py:0,pt:1,position:"relative"},children:j.length===0?null:l.jsx(jQ,{...Ue,children:j.map((X,ae)=>l.jsx(He,{sx:{px:1},children:l.jsxs(Jf,{sx:{height:{xs:170,sm:190,md:210},width:{xs:135,sm:160,md:200},minWidth:0,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",p:0,background:"#fff",boxShadow:"0 2px 12px 0 #00968822",borderRadius:4,position:"relative",mx:"auto",overflow:"hidden"},children:[l.jsx(N2,{component:"img",image:X.image||"/default-medicine.png",alt:X.name,sx:{width:{xs:60,sm:90,md:128},height:{xs:60,sm:90,md:128},objectFit:"contain",mt:{xs:1,sm:1,md:1},mb:1,mx:"auto"}}),l.jsxs(Zf,{sx:{p:0,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[l.jsx(Ne,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center",color:"#222",fontSize:14,mb:.3,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:X.name||"Unnamed",children:X.name||"Unnamed"}),l.jsx(Vn,{variant:"contained",size:"small",sx:{borderRadius:2,fontSize:"0.82em",fontWeight:600,px:1.2,py:.3,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:60,minHeight:28,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:()=>J(`/shop?search=${encodeURIComponent(X.name)}`),children:l.jsx("span",{className:"button-content",children:"REQUEST"})})]})]})},X.id||ae))})}),l.jsxs(He,{sx:{mt:6,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ne,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Drug Classes"}),l.jsx(Ne,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Find Medicines by sorting drug classes"})]}),l.jsx(He,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2,position:"relative"},children:l.jsx(PQ,{drugClasses:F,previewProducts:j,navigate:J})}),l.jsxs(He,{sx:{mt:6,mb:2,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ne,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Pharmacy outlets near you"}),l.jsx(Ne,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Search for drugs from pharmacy outlets closest to you, and discover the best options for your needs."}),l.jsx(He,{sx:{mb:2,width:"100%",display:"flex",justifyContent:"flex-start"},children:l.jsx(wn,{variant:"outlined",placeholder:"Search for a pharmacy store...",value:ee||"",onChange:X=>V(X.target.value),size:"small",sx:{width:{xs:180,sm:260,md:320},background:"#fff",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"},"& input":{padding:"8px 14px",fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},InputProps:{style:{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"}}})}),l.jsx(He,{sx:{mb:2,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:te.length===0?l.jsx(He,{sx:{color:"#bbb",fontStyle:"italic",fontSize:18,textAlign:"center",py:4},children:"No providers found."}):l.jsxs(He,{sx:{position:"relative",width:"100%"},children:[l.jsx(He,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",gap:2,width:"100%",pb:1,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},id:"pharmacy-scroll-box",children:te.map(X=>l.jsx(He,{sx:{px:1,minWidth:250,maxWidth:270,width:250,flex:"0 0 250px",scrollSnapAlign:"start"},children:l.jsxs(Jf,{sx:{minWidth:250,maxWidth:270,width:250,mx:"auto",borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>J(`/store/${X.slug}`),children:[l.jsx(N2,{component:"img",height:"80",image:X.img,alt:X.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(Zf,{sx:{textAlign:"center",pb:2},children:[l.jsx(Ne,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:X.name}),l.jsx(Ne,{variant:"body2",color:"text.secondary",children:me(X.minutesAway,X)}),l.jsx(Vn,{size:"small",variant:"contained",sx:{mt:1,borderRadius:2,fontSize:"0.92em",fontWeight:600,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:0,minHeight:0,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:ae=>{ae.stopPropagation(),J(`/store/${X.slug}`)},children:l.jsx("span",{className:"button-content",children:"Visit"})})]})]})},X.slug))}),l.jsx(Vn,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const X=document.getElementById("pharmacy-scroll-box");X&&X.scrollBy({left:-260,behavior:"smooth"})},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Vn,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const X=document.getElementById("pharmacy-scroll-box");X&&X.scrollBy({left:260,behavior:"smooth"})},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),l.jsx(He,{sx:{width:"100%",display:"flex",justifyContent:"center",mt:1,mb:2},children:l.jsx(Vn,{component:La,to:"/store",size:"small",variant:"contained",sx:{px:2.5,py:.7,fontWeight:600,fontSize:"0.98em",borderRadius:2,boxShadow:2,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",minWidth:0,minHeight:0,"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},children:" Find a pharmacy store near you"})}),l.jsxs(He,{sx:{width:"100%",maxWidth:1100,mx:"auto",mt:6,mb:4,px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ne,{variant:"h5",fontWeight:700,sx:{mb:1,color:"#222",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#009688"},onClick:()=>J("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Med Interface"})}),l.jsx(Ne,{variant:"subtitle1",sx:{mb:3,color:"#555",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#555"},onClick:()=>J("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Converse with verified health professionals, review prescriptions, and get consultations for your health needs."})}),l.jsx(He,{sx:{maxWidth:340,mb:2},children:l.jsx(wn,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search by name, pharmacy, or profession",value:N,onChange:X=>_(X.target.value),sx:{background:"#fff",borderRadius:2},InputProps:{style:{fontSize:15}}})}),l.jsx(He,{sx:{width:"100%"},children:l.jsxs(He,{sx:{position:"relative",width:"100%"},children:[l.jsx(Vn,{onClick:()=>{const X=document.getElementById("medics-scroll-box");X&&X.scrollBy({left:-220,behavior:"smooth"})},sx:{position:"absolute",left:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:p.length>4?"flex":"none"},"aria-label":"Scroll left",children:""}),l.jsx(He,{id:"medics-scroll-box",sx:{display:"flex",gap:2,overflowX:"auto",scrollBehavior:"smooth",py:1,px:.5},children:p.filter(X=>{var ae,Oe,xe;const ve=N.toLowerCase();return((ae=X.name)==null?void 0:ae.toLowerCase().includes(ve))||""||((Oe=X.profession)==null?void 0:Oe.toLowerCase().includes(ve))||""||((xe=X.pharmacyName)==null?void 0:xe.toLowerCase().includes(ve))||""}).map(X=>l.jsxs(He,{sx:{width:180,flex:"0 0 auto",p:2,border:"1px solid #eee",borderRadius:2,background:"#fafbfc",boxShadow:1,display:"flex",flexDirection:"column",alignItems:"center",mb:2,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s","&:hover":{boxShadow:3,border:"1.5px solid #009688"}},onClick:()=>J("/medinterface"),children:[l.jsx(NU,{src:X.photo,alt:X.name,sx:{width:56,height:56,mb:1}}),l.jsx(Ne,{variant:"subtitle1",fontWeight:600,sx:{textAlign:"center",fontSize:16},children:X.name}),l.jsx(Ne,{variant:"body2",sx:{color:"#555",textAlign:"center",fontSize:14,mb:.5},children:X.profession}),X.pharmacyName&&l.jsx(Ne,{variant:"caption",sx:{color:"#D5007D",textAlign:"center",fontWeight:500},children:X.pharmacyName})]},X.id))}),l.jsx(Vn,{onClick:()=>{const X=document.getElementById("medics-scroll-box");X&&X.scrollBy({left:220,behavior:"smooth"})},sx:{position:"absolute",right:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:p.length>4?"flex":"none"},"aria-label":"Scroll right",children:""})]})})]}),l.jsxs(He,{sx:{width:"100%",maxWidth:600,mx:"auto",my:6,p:{xs:2,sm:4},background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderRadius:3,boxShadow:2,textAlign:"center"},children:[l.jsx(Ne,{variant:"h6",fontWeight:700,sx:{mb:1,color:"#009688"},children:"Stay Updated!"}),l.jsx(Ne,{variant:"body1",sx:{mb:2,color:"#444"},children:"Subscribe to our newsletter for health tips, new features, and exclusive offers."}),l.jsxs(He,{component:"form",onSubmit:X=>{X.preventDefault(),alert("Thank you for subscribing!")},sx:{display:"flex",gap:1,justifyContent:"center",flexWrap:"wrap"},children:[l.jsx(wn,{type:"email",required:!0,size:"small",placeholder:"Enter your email",sx:{background:"#fff",borderRadius:2,minWidth:220}}),l.jsx(Vn,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",fontWeight:600,px:3,borderRadius:2,boxShadow:1},children:"Subscribe"})]})]}),l.jsx(He,{component:"footer",sx:{width:"100%",mt:6,py:4,background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderTop:"1.5px solid #e0e0e0"},children:l.jsx(He,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:3},children:l.jsxs(He,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},width:"100%"},children:[l.jsxs(He,{sx:{textAlign:"center",mb:2},children:[l.jsx(Ne,{variant:"h6",fontWeight:700,sx:{color:"#1976d2",mb:.5},children:l.jsx("span",{style:{color:"#009688"},children:"Pharmastackx"})}),l.jsx(Ne,{variant:"body2",sx:{color:"#666",maxWidth:420,mx:"auto"},children:"Building Africa's essential digital infrastructure for real-time, reliable access to medicines and healthcare."})]}),l.jsxs(He,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:"100%",mb:2,gap:2,flexWrap:"wrap"},children:[l.jsxs(He,{sx:{minWidth:100,flex:1},children:[l.jsx(Ne,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"left",letterSpacing:.2,cursor:"pointer",transition:"color 0.2s",fontSize:{xs:"1.05rem",sm:"1.25rem"},"&:hover":{color:"#00796b",textDecoration:"underline"}},onClick:()=>J("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:"About Us"}),l.jsxs(Ne,{variant:"body2",sx:{color:"#666",maxWidth:260,mt:.5,cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center","&:hover":{color:"#009688",textDecoration:"underline"}},onClick:()=>J("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:["Read our about section, find our mission, vision and how we are impacting lives positively...",l.jsx("span",{style:{marginLeft:2,fontWeight:700,fontSize:"1.3em",color:"#009688",lineHeight:1},children:""})]})]}),l.jsxs(He,{id:"footer-contact-section",sx:{minWidth:220,flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,overflow:"hidden","&::after":P?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle at 50% 50%, rgba(37,211,102,0.13) 0%, rgba(25,118,210,0.09) 60%, transparent 100%)",animation:"footer-contact-wave 0.7s cubic-bezier(.4,1.6,.6,1) 1",zIndex:2}:{},"@keyframes footer-contact-wave":{"0%":{opacity:0,transform:"scale(0.7)"},"40%":{opacity:1,transform:"scale(1.05)"},"100%":{opacity:0,transform:"scale(1.25)"}}},children:[l.jsx(Ne,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"right",letterSpacing:.2,cursor:"default",fontSize:{xs:"1.05rem",sm:"1.25rem"}},children:"Contact"}),l.jsxs(He,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},children:[l.jsxs("a",{href:"mailto:pharmastackx@gmail.com",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M6 8l6 5 6-5",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2",stroke:"#fff",strokeWidth:"1.5"})]}),"pharmastackx@gmail.com"]}),l.jsxs("a",{href:"tel:2349050006638",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M17.472 15.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]}),"234 90 5000 6638"]}),l.jsxs("a",{href:"https://instagram.com/pharmastackx",target:"_blank",rel:"noopener noreferrer",style:{color:"#d6249f",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#d6249f"}),l.jsx("path",{d:"M16.98 7.02A2.98 2.98 0 0 0 14 4H10A2.98 2.98 0 0 0 7.02 7.02V17A2.98 2.98 0 0 0 10 20h4a2.98 2.98 0 0 0 2.98-2.98V7.02zM12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm4.25-.75a.75.75 0 1 1-.75-.75.75.75 0 0 1 .75.75zM12 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2z",fill:"#fff"})]}),"@pharmastackx"]})]})]})]}),l.jsx(He,{sx:{width:"100%",mt:3},children:l.jsxs(Ne,{variant:"caption",sx:{color:"#888",display:"block",textAlign:"center"},children:[" ",new Date().getFullYear()," Pharmastackx. All rights reserved."]})})]})})})]})})}const AP=x.createContext(null);function AQ({children:e}){const[t,n]=x.useState(null);return x.useEffect(()=>{const r=Ar(),i=Ui(r,async o=>{if(o)try{const a=await xn(Le(re,"users",o.uid));a.exists()?n({...o,...a.data()}):n(o)}catch{n(o)}else n(null)});return()=>i()},[]),l.jsx(AP.Provider,{value:{user:t,setUser:n},children:e})}function Zm(){return x.useContext(AP)}var n1={},hC={};const NQ=Wi(LW);var fC;function Ed(){return fC||(fC=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=NQ}(hC)),hC}var MQ=us;Object.defineProperty(n1,"__esModule",{value:!0});var NP=n1.default=void 0,LQ=MQ(Ed()),DQ=l,zQ=(0,LQ.default)((0,DQ.jsx)("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"}),"LocalPharmacy");NP=n1.default=zQ;function FQ(){return l.jsxs(He,{sx:{width:"100%",minHeight:{xs:120,sm:160},background:"linear-gradient(90deg, #009688 60%, #43e97b 100%)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"flex-start",px:{xs:2,sm:6},py:{xs:2,sm:4},boxShadow:3,mb:3,mt:1,gap:2},children:[l.jsx(NP,{sx:{fontSize:{xs:40,sm:56},color:"#fff",mr:2}}),l.jsxs(He,{children:[l.jsx(Ne,{variant:"h4",sx:{color:"#fff",fontWeight:800,letterSpacing:1,mb:.5,fontSize:{xs:22,sm:32}},children:"Find & Order Medicines"}),l.jsx(Ne,{variant:"subtitle1",sx:{color:"#e0f2f1",fontWeight:400,fontSize:{xs:15,sm:18}},children:"Search, compare, and get your medicines delivered fast from trusted retailers."})]})]})}function BQ({categories:e,selected:t,onSelect:n}){return l.jsxs(He,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,mt:1},children:[l.jsx(P2,{label:"All",clickable:!0,onClick:()=>n(null),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:t?void 0:"linear-gradient(90deg,#b1005a,#a1004a)",color:t?void 0:"#fff",boxShadow:t?void 0:"0 2px 8px #b1005a33","&:hover":{background:t?void 0:"linear-gradient(90deg,#a1004a,#b1005a)"}}}),e.map(r=>l.jsx(P2,{label:r,clickable:!0,onClick:()=>n(r),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:t===r?"linear-gradient(90deg,#b1005a,#a1004a)":void 0,color:t===r?"#fff":void 0,boxShadow:t===r?"0 2px 8px #b1005a33":void 0,"&:hover":{background:t===r?"linear-gradient(90deg,#a1004a,#b1005a)":void 0}}},r))]})}const WQ=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function $n(){return typeof window<"u"&&window.innerWidth<=600}function $Q(){fa();const[e,t]=x.useState(!1),{slug:n}=Gu(),{user:r}=Zm(),[i,o]=x.useState([]),[a,s]=x.useState([]),[c,u]=x.useState(""),[h,f]=x.useState(null),[v,b]=x.useState(null),[C,S]=x.useState(""),[T,E]=x.useState(!0),[g,y]=x.useState(typeof window<"u"?window.innerWidth:1200),[P,M]=x.useState(null);Ar();const N=(m,w,R,j)=>{const I=B=>B*Math.PI/180,L=I(R-m),W=I(j-w),K=Math.sin(L/2)**2+Math.cos(I(m))*Math.cos(I(R))*Math.sin(W/2)**2;return 6371*(2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K)))},_=m=>{const w=m*1.64,R=Math.max(1,Math.round(w/25*60));return{drivingKm:w,minutes:R}};x.useEffect(()=>{E(!0);const m=Et(Fe(re,"products"),async w=>{const R=(await Promise.all(w.docs.map(async j=>{var I,L;const W={id:j.id,...j.data()};if(W.ownerId){const K=Le(re,"users",W.ownerId),B=await xn(K);if(B.exists()){const F=B.data();W.businessName=F.businessName||"Unknown Pharmacy",W.ownerSlug=F.slug||null,W.ownerRole=F.role||null,(I=F.location)!=null&&I.latitude&&(L=F.location)!=null&&L.longitude&&(W.businessLat=F.location.latitude,W.businessLng=F.location.longitude),W.businessState=F.businessState||F.state||""}}return W}))).filter(j=>j.ownerRole!=="distributor");o(R),E(!1)});return()=>m()},[]),x.useEffect(()=>{const m=()=>y(window.innerWidth);return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),x.useEffect(()=>{if(i.length===0)return;const m=P;let w=n?i.filter(q=>q.ownerSlug===n):i;if(C){const q=C.toLowerCase();w=w.filter(H=>{const G=(H.businessState||H.state||"").toLowerCase();return!!((H.ownerRole==="medicine-manager"||H.role==="medicine-manager")&&G.includes(q))})}let R=w;m&&(R=R.filter(q=>(q.class||q.category||"").toLowerCase()===m.toLowerCase()));const j={};for(const q of R){const H=(q.normalizedName||q.name||"").toLowerCase().trim();j[H]||(j[H]=[]),j[H].push(q)}const I=Object.values(j).map(q=>(v&&v!=="denied"&&(q=q.map(H=>{if(H.businessLat&&H.businessLng){const G=N(v.lat,v.lng,H.businessLat,H.businessLng),{minutes:Q}=_(G);return{...H,minutesAway:Q}}return{...H,minutesAway:1/0}}),q.sort((H,G)=>H.minutesAway-G.minutesAway)),q)).flat(),L=(q="")=>q.toLowerCase().trim().replace(/\s+/g," "),W={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},K=L(c),B=(W[K]||K).split(" "),F=(q,H)=>q.includes(H)||H.length>3&&q.startsWith(H.slice(0,3))||H.length>3&&q.endsWith(H.slice(-3)),$=I.filter(q=>{const H=L(q.name),G=L(q.ingredient),Q=L(q.class);return B.some(ue=>H.includes(ue)||G.includes(ue)||Q.includes(ue)||F(H,ue)||F(G,ue)||F(Q,ue))});s($)},[i,v,c,n,P,C]);const p=async m=>{if(!r)return alert("Please log in first");let w={...m};if((!w.businessPhone||!w.businessWhatsapp)&&w.ownerId)try{const W=Le(re,"users",w.ownerId),K=await xn(W);if(K.exists()){const B=K.data();w.businessPhone=B.businessPhone||"",w.businessWhatsapp=B.businessWhatsapp||""}}catch{}const R=Le(re,"carts",r.uid),j=await xn(R);let I=j.exists()?j.data().items||[]:[];const L=I.findIndex(W=>W.name===w.name);L>=0?I[L].quantity+=1:I.push({...w,quantity:1}),await Jr(R,{items:I}),f(m.id),t(!0),setTimeout(()=>t(!1),1800),setTimeout(()=>f(null),1e3)};return l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:$n()?"10px 2vw":"32px 0",position:"relative",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:l.jsxs(Gr,{elevation:4,sx:{width:"100%",maxWidth:1200,minHeight:"80vh",borderRadius:4,background:"#fff",boxShadow:3,p:{xs:1.5,sm:3,md:5},mt:4,mb:4,mx:"auto",overflow:"hidden"},children:[l.jsx(FQ,{}),e&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx(La,{to:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(BQ,{categories:Array.from(new Set(i.map(m=>(m.class||m.category||"").trim())).values()).filter(Boolean),selected:P,onSelect:M}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:$n()?8:16,margin:$n()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(255,255,255,0.97)",padding:$n()?"6px 2vw":"14px 32px",borderRadius:16,boxShadow:"0 2px 12px #00968822",maxWidth:900,marginLeft:"auto",marginRight:"auto"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:m=>u(m.target.value),style:{padding:$n()?"10px":"14px",width:"100%",maxWidth:$n()?"98vw":"400px",borderRadius:"99px",border:"1.5px solid #00968855",fontSize:$n()?15:17,background:"#f8fafc",boxShadow:"0 1px 8px #00968811",outline:"none",color:"#222",fontWeight:500,transition:"border 0.2s"}}),l.jsxs("select",{value:C,onChange:m=>S(m.target.value),style:{padding:$n()?"10px":"14px",borderRadius:99,border:"1.5px solid #00968855",fontSize:$n()?15:17,minWidth:$n()?120:180,background:"#f8fafc",color:"#222",outline:"none",boxShadow:"0 1px 8px #00968811",fontWeight:500,transition:"border 0.2s"},children:[l.jsx("option",{value:"",children:"Sort by state"}),WQ.map(m=>l.jsx("option",{value:m,children:m},m))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:g<=420?"repeat(2, 1fr)":g<=800?"repeat(3, 1fr)":"repeat(auto-fill, minmax(240px, 1fr))",gap:g<=420?12:g<=800?18:24,marginTop:18,alignItems:"start",padding:$n()?"0 2vw":"0 16px",maxWidth:1100,marginLeft:"auto",marginRight:"auto"},children:a.map(m=>l.jsxs("div",{style:{border:"1.5px solid #b2dfdb",padding:"22px 18px",borderRadius:"14px",background:"#fff",boxShadow:"0 2px 10px #00968818",position:"relative",width:180,height:240,transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch",margin:"0 auto"},onMouseEnter:w=>{$n()||(w.currentTarget.style.boxShadow="0 8px 24px #00968822",w.currentTarget.style.transform="translateY(-2px) scale(1.03)")},onMouseLeave:w=>{$n()||(w.currentTarget.style.boxShadow="0 2px 10px #00968818",w.currentTarget.style.transform="none")},children:[m.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),m.isPOM&&l.jsx("span",{style:{position:"absolute",top:m.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),m.image?l.jsx("img",{src:m.image,alt:m.name,style:{width:"100%",height:g<=420?40:g<=800?53:68,objectFit:"contain",borderRadius:"8px",marginBottom:g<=420?6:10,background:"#e0f2f1"},onError:w=>{w.target.onerror=null,w.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:$n()?40:68,borderRadius:8,marginBottom:$n()?6:10,background:"#e0f2f1",display:"flex",alignItems:"center",justifyContent:"center",color:"#b2dfdb",fontSize:$n()?13:16,fontWeight:700},children:"No Image"}),l.jsx(J2,{title:m.name||"Unnamed Drug",arrow:!0,placement:"top",children:l.jsx("strong",{style:{fontSize:m.name&&m.name.length>18?g<=420?8:g<=800?10:11:g<=420?11:g<=800?13:15,color:"#00695c",marginBottom:2,fontWeight:700,letterSpacing:.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:m.name&&m.name.length>18?"pointer":"inherit"},children:m.name||"Unnamed Drug"})}),l.jsx(J2,{title:m.ingredient||"No ingredient listed",arrow:!0,placement:"top",children:l.jsx("p",{style:{fontSize:g<=420?9:12,color:"#009688",margin:0,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",cursor:m.ingredient&&m.ingredient.length>18?"pointer":"inherit"},children:l.jsx("em",{children:m.ingredient||"No ingredient listed"})})}),l.jsx("p",{style:{fontSize:g<=420?8:11,color:"#444",margin:"2px 0 0 0"},children:m.class||""}),l.jsxs("p",{style:{fontSize:g<=420?10:13,color:"#009688",fontWeight:700,margin:"4px 0 0 0"},children:["",m.price!==void 0?m.price:"N/A"]}),l.jsxs("p",{style:{fontSize:g<=420?8:10,color:"#888",margin:"4px 0 0 0",fontWeight:400},children:[" ",m.ownerSlug?l.jsx("a",{href:`/store/${m.ownerSlug}`,style:{color:"#009688",textDecoration:"underline",cursor:"pointer",fontWeight:400,fontSize:g<=420?8:10},children:m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"}):m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(m),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:15,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s, box-shadow 0.2s, transform 0.15s",position:"absolute",bottom:10,right:10,zIndex:2,outline:"none",borderColor:"transparent",overflow:"hidden"},onMouseEnter:w=>{w.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",w.currentTarget.style.boxShadow="0 4px 16px #b1005a55",w.currentTarget.style.transform="scale(1.08)"},onMouseLeave:w=>{w.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",w.currentTarget.style.boxShadow="0 2px 8px #b1005a33",w.currentTarget.style.transform="none"},"aria-label":"Add to cart",disabled:typeof p!="function",children:l.jsx("span",{style:{position:"relative",zIndex:1,fontSize:16,lineHeight:1},children:"+"})}),m.minutesAway&&m.minutesAway!==1/0&&l.jsx("p",{style:{color:"#111",fontWeight:500,margin:"6px 0 0 0",fontSize:9,letterSpacing:.1},children:m.minutesAway<=1?" Right here":` ~${m.minutesAway} mins away`}),h===m.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},m.id))})]})})}function MP(){const[e,t]=x.useState("normal"),[n,r]=x.useState(!1),[i,o]=x.useState([]),a=Array.from(new Set(i.map(E=>E.ownerId).filter(Boolean))),s=a.length>1,c=async E=>{if(!h||!h.uid)return;const g=Le(re,"carts",h.uid);let y=[...i];const P=y.findIndex(M=>M.name===E.name);P>-1?y[P]={...y[P],quantity:(y[P].quantity||1)+1}:y.push({...E,quantity:1}),o(y),await Jr(g,{items:y},{merge:!0})},u=async E=>{if(!h||!h.uid)return;const g=Le(re,"carts",h.uid);let y=[...i];const P=y.findIndex(M=>M.name===E);P>-1&&((y[P].quantity||1)>1?y[P]={...y[P],quantity:y[P].quantity-1}:y.splice(P,1)),o(y),await Jr(g,{items:y},{merge:!0})},{user:h}=Zm(),[f,v]=x.useState(0),[b,C]=x.useState(!1);x.useEffect(()=>{if(!h||!h.uid){o([]);return}(async()=>{try{const E=Le(re,"carts",h.uid),g=await xn(E);if(g.exists()){const y=g.data();o(Array.isArray(y.items)?y.items:[])}else o([])}catch{o([]),ze.error("Failed to load cart")}})()},[h]);const S=gr();function T(){let E="single",g=a.length;s&&(e==="premium"?E="multiple-premium":E="multiple-normal"),S("/payment",{state:{orderType:E,businessCount:g}})}return x.useEffect(()=>{const E=i.reduce((g,y)=>g+y.price*(y.quantity||1),0);v(E)},[i]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"32px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("div",{style:{width:"100%",maxWidth:700,marginBottom:18,position:"relative",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{borderRadius:16,padding:"24px 0 18px 0",background:"#fff",width:"100%",maxWidth:700,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0 4px 24px 0 rgba(0,150,136,0.10)"},children:[l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:32,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.2,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:10,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:34,marginRight:4},children:""})," Your Cart"]}),h?l.jsxs("div",{style:{color:"#111",fontSize:16,marginTop:10,fontWeight:500},children:["Logged in as: ",l.jsx("span",{style:{color:"#b1005a",fontWeight:700},children:h.email})]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginTop:10,fontWeight:700},children:"Please log in to view your cart."})]})}),l.jsxs("div",{style:{width:"100%",maxWidth:700,margin:"0 auto",display:"flex",gap:24,alignItems:"flex-start",justifyContent:"center",marginTop:10,flexDirection:window.innerWidth<=600?"column":"row",padding:window.innerWidth<=600?"0 8px":void 0},children:[l.jsx("div",{style:{flex:2,minWidth:320,maxWidth:420,width:"100%"},children:i.length===0?l.jsx("div",{style:{color:"#888",fontSize:20,marginTop:40,textAlign:"center",fontWeight:600,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #00968822"},children:"Your cart is empty. Start shopping to add medicines!"}):b?l.jsxs("form",{onSubmit:handleRegistrationSubmit,style:{background:"#fff0f6",padding:24,borderRadius:12,margin:"20px 0",boxShadow:"0 2px 12px #b1005a22"},children:[l.jsx("h3",{style:{color:"#b1005a",fontWeight:800},children:"Distributor Registration Required"}),l.jsx("p",{style:{color:"#111",fontWeight:500},children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),distributorIds.map((E,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:10,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#b1005a",fontWeight:700},children:["Distributor ",g+1]}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(businessInfo==null?void 0:businessInfo.email)||(h==null?void 0:h.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsx("br",{}),l.jsxs("label",{style:{color:"#111",fontWeight:600},children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(businessInfo==null?void 0:businessInfo.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8,borderRadius:7,border:"1.5px solid #b1005a22",padding:7,background:"#f8f8fa"}})]}),l.jsxs("p",{style:{fontSize:14,color:"#444",fontWeight:500},children:["Products from this distributor: ",i.filter(y=>y.ownerId===E).map(y=>y.name).join(", ")]})]},E)),l.jsx("button",{type:"submit",style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #b1005a33",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:E=>E.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:E=>E.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[i.map((E,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #00968822",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s",width:420,maxWidth:"100%"},onMouseEnter:y=>{y.currentTarget.style.boxShadow="0 8px 32px #b1005a33",y.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:y=>{y.currentTarget.style.boxShadow="0 2px 12px #00968822",y.currentTarget.style.transform="none"},children:[E.image?l.jsx("img",{src:E.image,alt:E.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:y=>{y.target.onerror=null,y.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b1005a",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:800,fontSize:18,color:"#111"},children:E.name}),l.jsxs("div",{style:{color:"#009688",fontWeight:700,fontSize:16},children:["",E.price," ",l.jsxs("span",{style:{color:"#222",fontWeight:500,fontSize:15},children:["x ",E.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>c(E),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",onMouseLeave:y=>y.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",children:"+"}),l.jsx("button",{onClick:()=>u(E.name),style:{background:"#111",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #1112",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="#222",onMouseLeave:y=>y.currentTarget.style.background="#111",children:"-"})]})]},g)),i.some(E=>E.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:700},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,minWidth:260,maxWidth:320,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",width:"100%",marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:i.reduce((E,g)=>E+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",f]}),!b&&l.jsx(l.Fragment,{children:s?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(!0),style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s",marginBottom:n?0:12},onMouseEnter:E=>E.currentTarget.style.background="#b1005a",onMouseLeave:E=>E.currentTarget.style.background="#e10098",disabled:n,children:"Checkout"}),n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{width:"100%",margin:"18px 0 0 0",display:"flex",flexDirection:"column",alignItems:"center",gap:12},children:[l.jsxs("div",{style:{display:"flex",gap:12,width:"100%",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>t("normal"),style:{background:e==="normal"?"#e10098":"#fff",color:e==="normal"?"#fff":"#b1005a",border:e==="normal"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:e==="normal"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Normal (Recommended)"}),l.jsx("button",{onClick:()=>t("premium"),style:{background:e==="premium"?"#e10098":"#fff",color:e==="premium"?"#fff":"#b1005a",border:e==="premium"?"none":"2px solid #e10098",borderRadius:8,padding:"10px 18px",fontWeight:700,cursor:"pointer",boxShadow:e==="premium"?"0 2px 8px #e1009822":"none",transition:"background 0.2s, color 0.2s",outline:"none",minWidth:120,whiteSpace:"normal",lineHeight:1.2,fontSize:13,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Premium"})]}),l.jsx("div",{style:{marginTop:4,width:"100%",textAlign:"center",color:"#444",fontSize:15,fontWeight:500},children:e==="normal"?l.jsxs("span",{children:["Your orders will be sourced from the ",l.jsx("b",{children:"best singular retailer"})," that has all your medication request ",l.jsx("span",{style:{color:"#009688"},children:"(cheaper)"}),"."]}):l.jsxs("span",{children:["Your order will come from the ",l.jsx("b",{children:"different pharmacies you selected"})," to you ",l.jsx("span",{style:{color:"#e53e3e"},children:"(multiple delivery fees inclusive; has no effect on speed)"}),"."]})})]}),l.jsx("button",{onClick:T,style:{width:"100%",background:"#009688",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px #00968822",marginTop:18},children:"Continue to Payment"})]})]}):l.jsx("button",{onClick:T,style:{width:"100%",background:"#e10098",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #e1009822",transition:"background 0.2s"},onMouseEnter:E=>E.currentTarget.style.background="#b1005a",onMouseLeave:E=>E.currentTarget.style.background="#e10098",children:"Checkout"})})]})})]})]})}const UQ=e=>{if(!e)return"Unknown date";const t=new Date,n=new Date(e),r=t-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const o=Math.floor(i/60);if(o<60)return`${o} minutes ago`;const a=Math.floor(o/60);if(a<24)return`${a} hours ago`;const s=Math.floor(a/24);return s<7?`${s} day${s>1?"s":""} ago`:n.toLocaleString()};function VQ(){const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,o]=x.useState("Pending"),[a,s]=x.useState({}),c=Ar();if(x.useEffect(()=>{const b=Ui(c,C=>{if(t(C),C){const S=Tr(Fe(re,"orders"),Ir("userId","==",C.uid)),T=Et(S,E=>{const g=E.docs.map(y=>({id:y.id,...y.data()}));g.sort((y,P)=>new Date(P.date)-new Date(y.date)),r(g)});return()=>T()}});return()=>b()},[c]),!e)return l.jsx("p",{children:"Please log in to view your orders."});const u=async b=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const C=Le(re,"orders",b);await an(C,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},h=b=>{s(C=>({...C,[b]:!C[b]}))},f=["Pending","Processing","Completed","Cancelled"].reduce((b,C)=>(b[C]=n.filter(S=>(S.status||"Pending")===C),b),{}),v=b=>Array.isArray(b)?b.reduce((C,S)=>C+Number(S.price)*(Number(S.quantity)||1),0):0;return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:340,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(Gr,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:340,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Your Orders"]})})}),l.jsx("div",{style:{display:"flex",gap:0,marginBottom:12,background:"#fff",borderRadius:12,boxShadow:"0 1px 6px #00968822",padding:2,maxWidth:400,width:"100%",justifyContent:"center",overflowX:"visible",border:"1px solid #e0e0e0"},children:["Pending","Processing","Completed","Cancelled"].map((b,C)=>{var S;return l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[l.jsxs("button",{onClick:()=>o(b),style:{background:i===b?"#e0f7fa":"transparent",color:i===b?"#009688":"#444",border:"none",borderRadius:0,padding:"4px 0 0 0",fontWeight:700,fontSize:13,width:"100%",transition:"background 0.18s",outline:"none",cursor:"pointer",margin:0,minHeight:28,position:"relative"},children:[b,b==="Processing"&&f.Processing&&f.Processing.length>0&&l.jsx("span",{style:{display:"inline-block",width:8,height:8,background:"#e53935",borderRadius:"50%",marginLeft:4,marginBottom:2,verticalAlign:"middle"}})]}),l.jsx("span",{style:{fontWeight:800,fontSize:12,color:i===b?"#009688":"#888",marginTop:0,textAlign:"center",width:"100%",display:"block"},children:((S=f[b])==null?void 0:S.length)||0}),C<3&&l.jsx("div",{style:{position:"absolute",right:0,top:6,bottom:6,width:1,background:"#e0e0e0",height:"70%",margin:"auto 0"}})]},b)})}),f[i].length===0?l.jsx(Gr,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:80},children:l.jsxs("p",{style:{color:"#888",fontSize:18,margin:0,textAlign:"center",width:"100%"},children:["No ",i.toLowerCase()," orders."]})}):f[i].map(b=>{var C;return l.jsxs(Gr,{elevation:2,sx:{mb:2,width:"100%",maxWidth:340,borderRadius:3,background:"#fff",boxShadow:1,p:{xs:1,sm:2},mx:"auto",overflow:"hidden",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #f5f5f5 0%, #e0f7fa 100%)",padding:"18px 20px 10px 20px",borderBottom:"1px solid #e0e0e0",borderTopLeftRadius:12,borderTopRightRadius:12,minHeight:54},children:[l.jsxs("div",{style:{fontWeight:700,color:"#111",fontSize:16,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",UQ(b.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:180},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#111"},children:"Medicines provided by:"}),b.items&&b.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(b.items.reduce((S,T)=>{const E=T.businessName||"Unknown",g=T.businessPhone||T.phoneNumber||"N/A",y=T.businessWhatsapp||T.whatsappNumber||"N/A";return S.set(E+"__"+g+"__"+y,{name:E,phone:g,whatsapp:y}),S},new Map).values()).map(({name:S,phone:T,whatsapp:E})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[S," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#009688",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#009688",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",E&&E!=="N/A"?l.jsxs("a",{href:`https://wa.me/${E.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"})]},S+T+E))}):l.jsx("span",{children:"No business info"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#111"},children:"Delivery agent:"})," ",b.assignedAgentName||b.riderName||b.riderId||b.assignedAgentId||"Not assigned",(b.assignedAgentName||b.riderName||b.riderId||b.assignedAgentId)&&(b.agentPhoneNumber||b.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" ",b.agentPhoneNumber?l.jsxs("a",{href:`tel:${b.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:b.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",b.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${b.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:b.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>h(b.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:a[b.id]?"#e0f7fa":"#009688",color:a[b.id]?"#009688":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:a[b.id]?"0 2px 8px #e0f7fa":"none"},children:a[b.id]?"Hide Items":"View Items"}),a[b.id]&&((C=b.items)==null?void 0:C.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:b.items.map((S,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.image&&l.jsx("img",{src:S.image,onError:E=>{E.target.onerror=null,E.target.src="/pharmastack-logo.png"},alt:S.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[S.name,"  ",S.price," x ",S.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:700,color:"#111",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",v(b.items||[])]}),(b.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>u(b.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#111",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},b.id)})]})}const ol=function(e,t,n){let r=Promise.resolve();function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},qQ=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function HQ(){const e=gr(),{user:t,setUser:n}=Zm(),[r,i]=x.useState(""),[o,a]=x.useState(""),[s,c]=x.useState(""),[u,h]=x.useState(""),[f,v]=x.useState(""),[b,C]=x.useState(""),[S,T]=x.useState(""),[E,g]=x.useState(!1),[y,P]=x.useState(!1),[M,N]=x.useState(!1),[_,p]=x.useState({}),[m,w]=x.useState(!1),R={},[j,I]=x.useState(""),[L,W]=x.useState(""),[K,B]=x.useState(""),[F,$]=x.useState(""),[q,H]=x.useState(""),[G,Q]=x.useState(""),[ue,le]=x.useState(""),[Pe,U]=x.useState(""),[ee,V]=x.useState(""),[J,te]=x.useState(""),[oe,me]=x.useState(""),[Ee,De]=x.useState(""),[Ie,Ue]=x.useState(null),[_e,X]=x.useState(!1),[ae,Oe]=x.useState(null),[xe,ve]=x.useState(!1),[Be,Xe]=x.useState(""),[je,de]=x.useState("");Te.useEffect(()=>{t&&(t.role==="delivery-agent"&&t.slug?e(`/agent/${t.slug}`):e("/"))},[t,e]);const ye=async()=>{try{if(!Pe||!ee){alert("Please provide distributor name and license number.");return}const Z=await captureDistributorLocation();if(!Z){alert(" Location required to complete distributor signup.");return}const A=(await Ac(_a,r,o)).user,ie=await Ot(Pe),pe={email:A.email,role:"distributor",businessName:Pe,licenseNumber:ee,location:Z,slug:ie,businessSlug:ie,createdAt:new Date().toISOString()};await ct(A.uid,pe),n({...A,...pe}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${ie}`),P(!1),U(""),V(""),Ue(null)}catch(Z){console.error("Distributor signup error:",Z),alert(Z.message||"Distributor signup failed")}},rt=Z=>Z.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),Ot=async Z=>{let A=rt(Z);const ie=Fe(re,"users");let pe=A,Ke=1;for(;;){const it=Tr(ie,Ir("slug","==",pe));if((await Ht(it)).empty)break;pe=`${A}${Ke++}`}return pe},ct=async(Z,A)=>{console.log("Writing user doc for:",Z,A),await Jr(Le(re,"users",Z),A)},be=async()=>{try{if(!K||!F||!q){alert("Please provide address, state, and city.");return}const Z=(await Ac(_a,r,o)).user,A={email:Z.email,role:"customer",address:K,state:F,city:q,landmark:G,createdAt:new Date().toISOString()};await ct(Z.uid,A),n({...Z,...A}),alert(" Customer signup successful!")}catch(Z){console.error("Customer signup error:",Z),alert(Z.message)}},st=async()=>navigator.geolocation?(ve(!0),new Promise((Z,A)=>{navigator.geolocation.getCurrentPosition(ie=>{const pe={latitude:ie.coords.latitude,longitude:ie.coords.longitude};Oe(pe),ve(!1),Z(pe)},ie=>{ve(!1),alert(" Location access denied or unavailable."),A(ie)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),qe=async()=>{try{if(!s||!ue||!u){alert("Please provide business name, address, and license number.");return}const Z=await st();if(!Z){alert(" Location required to complete business signup.");return}const A=(await Ac(_a,r,o)).user;console.log("Business user created:",A.uid);const ie=await Ot(s);console.log("Generated unique slug:",ie);const pe={email:A.email,role:"medicine-manager",businessName:s,address:u,city:b,state:f,landmark:S,licenseNumber:ue,location:Z,lat:Z.latitude,lng:Z.longitude,slug:ie,businessSlug:ie,businessPhone:Be,businessWhatsapp:je,createdAt:new Date().toISOString()};await ct(A.uid,pe),console.log("Firestore user record created for business:",pe),n({...A,...pe}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${ie}`),g(!1),c(""),h(""),le(""),Oe(null)}catch(Z){console.error("Business signup error:",Z),alert(Z.message||"Business signup failed")}},gn=async()=>{try{const Z=(await aj(_a,r,o)).user,A=await xn(Le(re,"users",Z.uid));A.exists()?(n({...Z,...A.data()}),A.data().role==="delivery-agent"&&A.data().slug&&e(`/agent/${A.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...Z}))}catch(Z){console.error("Login error:",Z),alert(Z.message||"Login failed")}},Lr=async()=>{await cj(_a),n(null)},To=async()=>{try{w(!0);const Z=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const Je of Z)if(!_[Je]){alert(`Please fill the ${Je} field.`),w(!1);return}const A=(await Ac(_a,_.email,o)).user,ie=await Ot(_.companyName),pe={..._,role:"delivery-agent",slug:ie,createdAt:new Date().toISOString()};await ct(A.uid,pe);const Ke={companyName:_.companyName,phoneNumber:_.phoneNumber,whatsappNumber:_.whatsappNumber,rcNumber:_.rcNumber,businessAddress:_.businessAddress,email:_.email,coverageArea:_.coverageArea,operatingHours:_.operatingHours,logoUrl:_.logoUrl,state:_.state,city:_.city,landmark:_.landmark,userId:A.uid,createdAt:new Date().toISOString(),slug:ie},{addDoc:it,collection:Xt}=await ol(async()=>{const{addDoc:Je,collection:$e}=await Promise.resolve().then(()=>ex);return{addDoc:Je,collection:$e}},void 0);await it(Xt(re,"deliveryAgents"),Ke),n({...A,...pe}),alert(" Delivery agent signup successful!"),N(!1),p(R)}catch(Z){console.error("Delivery agent signup error:",Z),alert(Z.message||"Delivery agent signup failed")}finally{w(!1)}},[oi,Dr]=x.useState(!1),[Xn,yr]=x.useState("customer"),ai=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:[l.jsx("h2",{style:{fontWeight:900,color:"#fff",marginBottom:24,letterSpacing:1,fontSize:window.innerWidth<=600?20:32,textAlign:"center",lineHeight:1.2,maxWidth:360,margin:"0 auto 24px auto"},children:" Welcome to Pharmastackx"}),t&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e10098",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Lr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:370,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #00968833",padding:window.innerWidth<=600?18:36,marginTop:8,margin:"0 auto"},children:t?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#009688",marginBottom:8},children:["Welcome, ",t.email," ",t.role?l.jsxs("span",{style:{color:"#e10098"},children:["(",t.role.replace(/-/g," "),")"]}):""]}),t.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:t.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${t.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#e10098",textDecoration:"underline"},children:["pharmastack.com/store/",t.businessSlug]})]})]}),t.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:t.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",t.email]})]})]}):l.jsx(l.Fragment,{children:oi?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:Xn,onChange:Z=>yr(Z.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:ai.map(Z=>l.jsx("option",{value:Z.key,children:Z.label},Z.key))})}),Xn==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:Z=>I(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:L,onChange:Z=>W(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:K,onChange:Z=>B(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:F,onChange:Z=>$(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:q,onChange:Z=>H(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:G,onChange:Z=>Q(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:be,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:xe,children:xe?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Dr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),Xn==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:s,onChange:Z=>c(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:u,onChange:Z=>h(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ue,onChange:Z=>le(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:f,onChange:Z=>v(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),qQ.map(Z=>l.jsx("option",{value:Z,children:Z},Z))]}),l.jsx("input",{type:"text",placeholder:"City",value:b,onChange:Z=>C(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S,onChange:Z=>T(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Be,onChange:Z=>Xe(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:je,onChange:Z=>de(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:qe,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:xe,children:xe?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Dr(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),Xn==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:Pe,onChange:Z=>U(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ee,onChange:Z=>V(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:J,onChange:Z=>te(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:oe,onChange:Z=>me(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Ee,onChange:Z=>De(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:ye,style:{padding:"10px 0",background:"#e10098",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:_e,children:_e?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Dr(!1),style:{marginTop:8,width:"100%",background:"#b1005a",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ie&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ie.latitude.toFixed(5),", ",Ie.longitude.toFixed(5)]})]}),Xn==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:_.companyName,onChange:Z=>p(A=>({...A,companyName:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:_.phoneNumber,onChange:Z=>p(A=>({...A,phoneNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:_.whatsappNumber,onChange:Z=>p(A=>({...A,whatsappNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:_.rcNumber,onChange:Z=>p(A=>({...A,rcNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:_.businessAddress,onChange:Z=>p(A=>({...A,businessAddress:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:_.state,onChange:Z=>p(A=>({...A,state:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:_.city,onChange:Z=>p(A=>({...A,city:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:_.landmark,onChange:Z=>p(A=>({...A,landmark:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:_.coverageArea,onChange:Z=>p(A=>({...A,coverageArea:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:_.operatingHours,onChange:Z=>p(A=>({...A,operatingHours:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:_.logoUrl,onChange:Z=>p(A=>({...A,logoUrl:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:_.email,onChange:Z=>p(A=>({...A,email:Z.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:To,style:{padding:"10px 0",background:"#009688",color:"#fff",border:"none",borderRadius:8,fontWeight:700,fontSize:16,cursor:"pointer",width:"100%"},disabled:m,children:m?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Dr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#e10098",fontWeight:800,marginBottom:18,fontSize:22,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:Z=>a(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:gn,style:{flex:1,background:"#e10098",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Dr(!0),style:{flex:1,background:"#009688",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var LP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(kc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,s={},c=0,u={};function h(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(m){var w=M(m);w.chunkSize=parseInt(w.chunkSize),m.step||m.chunk||(w.chunkSize=null),this._handle=new S(w),(this._handle.streamer=this)._config=w}).call(this,p),this.parseChunk=function(m,w){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let I=this._config.newline;I||(j=this._config.quoteChar||'"',I=this._handle.guessLineEndings(m,j)),m=[...m.split(I).slice(R)].join(I)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(m))!==void 0&&(m=j),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+m,j=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(m=j.meta.cursor,R=(this._finished||(this._partialLine=R.substring(m-this._baseIndex),this._baseIndex=m),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:j,workerId:u.WORKER_ID,finished:R});else if(_(this._config.chunk)&&!w){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!R||!_(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(m){_(this._config.error)?this._config.error(m):a&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:m,finished:!1})}}function f(p){var m;(p=p||{}).chunkSize||(p.chunkSize=u.RemoteChunkSize),h.call(this,p),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),o||(m.onload=N(this._chunkLoaded,this),m.onerror=N(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,R=this._config.downloadRequestHeaders;for(w in R)m.setRequestHeader(w,R[w])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,m.setRequestHeader("Range","bytes="+this._start+"-"+j));try{m.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}o&&m.status===0&&this._chunkError()}},this._chunkLoaded=function(){m.readyState===4&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize||m.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(m),this.parseChunk(m.responseText)))},this._chunkError=function(w){w=m.statusText||w,this._sendError(new Error(w))}}function v(p){(p=p||{}).chunkSize||(p.chunkSize=u.LocalChunkSize),h.call(this,p);var m,w,R=typeof FileReader<"u";this.stream=function(j){this._input=j,w=j.slice||j.webkitSlice||j.mozSlice,R?((m=new FileReader).onload=N(this._chunkLoaded,this),m.onerror=N(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),j=w.call(j,this._start,I)),m.readAsText(j,this._config.encoding));R||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(m.error)}}function b(p){var m;h.call(this,p=p||{}),this.stream=function(w){return m=w,this._nextChunk()},this._nextChunk=function(){var w,R;if(!this._finished)return w=this._config.chunkSize,m=w?(R=m.substring(0,w),m.substring(w)):(R=m,""),this._finished=!m,this.parseChunk(R)}}function C(p){h.call(this,p=p||{});var m=[],w=!0,R=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&m.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):w=!0},this._streamData=N(function(j){try{m.push(typeof j=="string"?j:j.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch(I){this._streamError(I)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(p){var m,w,R,j,I=Math.pow(2,53),L=-I,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,F=0,$=0,q=!1,H=!1,G=[],Q={data:[],errors:[],meta:{}};function ue(ee){return p.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function le(){if(Q&&R&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),p.skipEmptyLines&&(Q.data=Q.data.filter(function(te){return!ue(te)})),Pe()){let te=function(oe,me){_(p.transformHeader)&&(oe=p.transformHeader(oe,me)),G.push(oe)};if(Q)if(Array.isArray(Q.data[0])){for(var ee=0;Pe()&&ee<Q.data.length;ee++)Q.data[ee].forEach(te);Q.data.splice(0,1)}else Q.data.forEach(te)}function V(te,oe){for(var me=p.header?{}:[],Ee=0;Ee<te.length;Ee++){var De=Ee,Ie=te[Ee],Ie=((Ue,_e)=>(X=>(p.dynamicTypingFunction&&p.dynamicTyping[X]===void 0&&(p.dynamicTyping[X]=p.dynamicTypingFunction(X)),(p.dynamicTyping[X]||p.dynamicTyping)===!0))(Ue)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((X=>{if(W.test(X)&&(X=parseFloat(X),L<X&&X<I))return 1})(_e)?parseFloat(_e):K.test(_e)?new Date(_e):_e===""?null:_e):_e)(De=p.header?Ee>=G.length?"__parsed_extra":G[Ee]:De,Ie=p.transform?p.transform(Ie,De):Ie);De==="__parsed_extra"?(me[De]=me[De]||[],me[De].push(Ie)):me[De]=Ie}return p.header&&(Ee>G.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+Ee,$+oe):Ee<G.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+Ee,$+oe)),me}var J;Q&&(p.header||p.dynamicTyping||p.transform)&&(J=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(V),J=Q.data.length):Q.data=V(Q.data,0),p.header&&Q.meta&&(Q.meta.fields=G),$+=J)}function Pe(){return p.header&&G.length===0}function U(ee,V,J,te){ee={type:ee,code:V,message:J},te!==void 0&&(ee.row=te),Q.errors.push(ee)}_(p.step)&&(j=p.step,p.step=function(ee){Q=ee,Pe()?le():(le(),Q.data.length!==0&&(F+=ee.data.length,p.preview&&F>p.preview?w.abort():(Q.data=Q.data[0],j(Q,B))))}),this.parse=function(ee,V,J){var te=p.quoteChar||'"',te=(p.newline||(p.newline=this.guessLineEndings(ee,te)),R=!1,p.delimiter?_(p.delimiter)&&(p.delimiter=p.delimiter(ee),Q.meta.delimiter=p.delimiter):((te=((oe,me,Ee,De,Ie)=>{var Ue,_e,X,ae;Ie=Ie||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Oe=0;Oe<Ie.length;Oe++){for(var xe,ve=Ie[Oe],Be=0,Xe=0,je=0,de=(X=void 0,new E({comments:De,delimiter:ve,newline:me,preview:10}).parse(oe)),ye=0;ye<de.data.length;ye++)Ee&&ue(de.data[ye])?je++:(xe=de.data[ye].length,Xe+=xe,X===void 0?X=xe:0<xe&&(Be+=Math.abs(xe-X),X=xe));0<de.data.length&&(Xe/=de.data.length-je),(_e===void 0||Be<=_e)&&(ae===void 0||ae<Xe)&&1.99<Xe&&(_e=Be,Ue=ve,ae=Xe)}return{successful:!!(p.delimiter=Ue),bestDelimiter:Ue}})(ee,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=te.bestDelimiter:(R=!0,p.delimiter=u.DefaultDelimiter),Q.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&te.preview++,m=ee,w=new E(te),Q=w.parse(m,V,J),le(),q?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,w.abort(),m=_(p.chunk)?"":m.substring(w.getCharIndex())},this.resume=function(){B.streamer._halted?(q=!1,B.streamer.parseChunk(m,!0)):setTimeout(B.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,w.abort(),Q.meta.aborted=!0,_(p.complete)&&p.complete(Q),m=""},this.guessLineEndings=function(oe,te){oe=oe.substring(0,1048576);var te=new RegExp(T(te)+"([^]*?)"+T(te),"gm"),J=(oe=oe.replace(te,"")).split("\r"),te=oe.split(`
`),oe=1<te.length&&te[0].length<J[0].length;if(J.length===1||oe)return`
`;for(var me=0,Ee=0;Ee<J.length;Ee++)J[Ee][0]===`
`&&me++;return me>=J.length/2?`\r
`:"\r"}}function T(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(p){var m=(p=p||{}).delimiter,w=p.newline,R=p.comments,j=p.step,I=p.preview,L=p.fastMode,W=null,K=!1,B=p.quoteChar==null?'"':p.quoteChar,F=B;if(p.escapeChar!==void 0&&(F=p.escapeChar),(typeof m!="string"||-1<u.BAD_DELIMITERS.indexOf(m))&&(m=","),R===m)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var $=0,q=!1;this.parse=function(H,G,Q){if(typeof H!="string")throw new Error("Input must be a string");var ue=H.length,le=m.length,Pe=w.length,U=R.length,ee=_(j),V=[],J=[],te=[],oe=$=0;if(!H)return Be();if(L||L!==!1&&H.indexOf(B)===-1){for(var me=H.split(w),Ee=0;Ee<me.length;Ee++){if(te=me[Ee],$+=te.length,Ee!==me.length-1)$+=w.length;else if(Q)return Be();if(!R||te.substring(0,U)!==R){if(ee){if(V=[],ae(te.split(m)),Xe(),q)return Be()}else ae(te.split(m));if(I&&I<=Ee)return V=V.slice(0,I),Be(!0)}}return Be()}for(var De=H.indexOf(m,$),Ie=H.indexOf(w,$),Ue=new RegExp(T(F)+T(B),"g"),_e=H.indexOf(B,$);;)if(H[$]===B)for(_e=$,$++;;){if((_e=H.indexOf(B,_e+1))===-1)return Q||J.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:V.length,index:$}),xe();if(_e===ue-1)return xe(H.substring($,_e).replace(Ue,B));if(B===F&&H[_e+1]===F)_e++;else if(B===F||_e===0||H[_e-1]!==F){De!==-1&&De<_e+1&&(De=H.indexOf(m,_e+1));var X=Oe((Ie=Ie!==-1&&Ie<_e+1?H.indexOf(w,_e+1):Ie)===-1?De:Math.min(De,Ie));if(H.substr(_e+1+X,le)===m){te.push(H.substring($,_e).replace(Ue,B)),H[$=_e+1+X+le]!==B&&(_e=H.indexOf(B,$)),De=H.indexOf(m,$),Ie=H.indexOf(w,$);break}if(X=Oe(Ie),H.substring(_e+1+X,_e+1+X+Pe)===w){if(te.push(H.substring($,_e).replace(Ue,B)),ve(_e+1+X+Pe),De=H.indexOf(m,$),_e=H.indexOf(B,$),ee&&(Xe(),q))return Be();if(I&&V.length>=I)return Be(!0);break}J.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:V.length,index:$}),_e++}}else if(R&&te.length===0&&H.substring($,$+U)===R){if(Ie===-1)return Be();$=Ie+Pe,Ie=H.indexOf(w,$),De=H.indexOf(m,$)}else if(De!==-1&&(De<Ie||Ie===-1))te.push(H.substring($,De)),$=De+le,De=H.indexOf(m,$);else{if(Ie===-1)break;if(te.push(H.substring($,Ie)),ve(Ie+Pe),ee&&(Xe(),q))return Be();if(I&&V.length>=I)return Be(!0)}return xe();function ae(je){V.push(je),oe=$}function Oe(je){var de=0;return de=je!==-1&&(je=H.substring(_e+1,je))&&je.trim()===""?je.length:de}function xe(je){return Q||(je===void 0&&(je=H.substring($)),te.push(je),$=ue,ae(te),ee&&Xe()),Be()}function ve(je){$=je,ae(te),te=[],Ie=H.indexOf(w,$)}function Be(je){if(p.header&&!G&&V.length&&!K){var de=V[0],ye=Object.create(null),rt=new Set(de);let Ot=!1;for(let ct=0;ct<de.length;ct++){let be=de[ct];if(ye[be=_(p.transformHeader)?p.transformHeader(be,ct):be]){let st,qe=ye[be];for(;st=be+"_"+qe,qe++,rt.has(st););rt.add(st),de[ct]=st,ye[be]++,Ot=!0,(W=W===null?{}:W)[st]=be}else ye[be]=1,de[ct]=be;rt.add(be)}Ot&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:V,errors:J,meta:{delimiter:m,linebreak:w,aborted:q,truncated:!!je,cursor:oe+(G||0),renamedHeaders:W}}}function Xe(){j(Be()),V=[],J=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return $}}function g(p){var m=p.data,w=s[m.workerId],R=!1;if(m.error)w.userError(m.error,m.file);else if(m.results&&m.results.data){var j={abort:function(){R=!0,y(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(_(w.userStep)){for(var I=0;I<m.results.data.length&&(w.userStep({data:m.results.data[I],errors:m.results.errors,meta:m.results.meta},j),!R);I++);delete m.results}else _(w.userChunk)&&(w.userChunk(m.results,j,m.file),delete m.results)}m.finished&&!R&&y(m.workerId,m.results)}function y(p,m){var w=s[p];_(w.userComplete)&&w.userComplete(m),w.terminate(),delete s[p]}function P(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var m,w=Array.isArray(p)?[]:{};for(m in p)w[m]=M(p[m]);return w}function N(p,m){return function(){p.apply(m,arguments)}}function _(p){return typeof p=="function"}return u.parse=function(p,m){var w=(m=m||{}).dynamicTyping||!1;if(_(w)&&(m.dynamicTypingFunction=w,w={}),m.dynamicTyping=w,m.transform=!!_(m.transform)&&m.transform,!m.worker||!u.WORKERS_SUPPORTED)return w=null,u.NODE_STREAM_INPUT,typeof p=="string"?(p=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(p),w=new(m.download?f:b)(m)):p.readable===!0&&_(p.read)&&_(p.on)?w=new C(m):(r.File&&p instanceof File||p instanceof Object)&&(w=new v(m)),w.stream(p);(w=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var j=r.URL||r.webkitURL||null,I=n.toString();return u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=g,R.id=c++,s[R.id]=R)})()).userStep=m.step,w.userChunk=m.chunk,w.userComplete=m.complete,w.userError=m.error,m.step=_(m.step),m.chunk=_(m.chunk),m.complete=_(m.complete),m.error=_(m.error),delete m.worker,w.postMessage({input:p,config:m,workerId:w.id})},u.unparse=function(p,m){var w=!1,R=!0,j=",",I=`\r
`,L='"',W=L+L,K=!1,B=null,F=!1,$=((()=>{if(typeof m=="object"){if(typeof m.delimiter!="string"||u.BAD_DELIMITERS.filter(function(G){return m.delimiter.indexOf(G)!==-1}).length||(j=m.delimiter),typeof m.quotes!="boolean"&&typeof m.quotes!="function"&&!Array.isArray(m.quotes)||(w=m.quotes),typeof m.skipEmptyLines!="boolean"&&typeof m.skipEmptyLines!="string"||(K=m.skipEmptyLines),typeof m.newline=="string"&&(I=m.newline),typeof m.quoteChar=="string"&&(L=m.quoteChar),typeof m.header=="boolean"&&(R=m.header),Array.isArray(m.columns)){if(m.columns.length===0)throw new Error("Option columns is empty");B=m.columns}m.escapeChar!==void 0&&(W=m.escapeChar+L),m.escapeFormulae instanceof RegExp?F=m.escapeFormulae:typeof m.escapeFormulae=="boolean"&&m.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(L),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return q(null,p,K);if(typeof p[0]=="object")return q(B||Object.keys(p[0]),p,K)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||B),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),q(p.fields||[],p.data||[],K);throw new Error("Unable to serialize unrecognized input");function q(G,Q,ue){var le="",Pe=(typeof G=="string"&&(G=JSON.parse(G)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(G)&&0<G.length),U=!Array.isArray(Q[0]);if(Pe&&R){for(var ee=0;ee<G.length;ee++)0<ee&&(le+=j),le+=H(G[ee],ee);0<Q.length&&(le+=I)}for(var V=0;V<Q.length;V++){var J=(Pe?G:Q[V]).length,te=!1,oe=Pe?Object.keys(Q[V]).length===0:Q[V].length===0;if(ue&&!Pe&&(te=ue==="greedy"?Q[V].join("").trim()==="":Q[V].length===1&&Q[V][0].length===0),ue==="greedy"&&Pe){for(var me=[],Ee=0;Ee<J;Ee++){var De=U?G[Ee]:Ee;me.push(Q[V][De])}te=me.join("").trim()===""}if(!te){for(var Ie=0;Ie<J;Ie++){0<Ie&&!oe&&(le+=j);var Ue=Pe&&U?G[Ie]:Ie;le+=H(Q[V][Ue],Ie)}V<Q.length-1&&(!ue||0<J&&!oe)&&(le+=I)}}return le}function H(G,Q){var ue,le;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(le=!1,F&&typeof G=="string"&&F.test(G)&&(G="'"+G,le=!0),ue=G.toString().replace($,W),(le=le||w===!0||typeof w=="function"&&w(G,Q)||Array.isArray(w)&&w[Q]||((Pe,U)=>{for(var ee=0;ee<U.length;ee++)if(-1<Pe.indexOf(U[ee]))return!0;return!1})(ue,u.BAD_DELIMITERS)||-1<ue.indexOf(j)||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ")?L+ue+L:ue)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=E,u.ParserHandle=S,u.NetworkStreamer=f,u.FileStreamer=v,u.StringStreamer=b,u.ReadableStreamStreamer=C,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var m=p.config||{},w=[];return this.each(function(I){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)w.push({file:this.files[L],inputElem:this,instanceConfig:i.extend({},m)})}),R(),this;function R(){if(w.length===0)_(p.complete)&&p.complete();else{var I,L,W,K,B=w[0];if(_(p.before)){var F=p.before(B.file,B.inputElem);if(typeof F=="object"){if(F.action==="abort")return I="AbortError",L=B.file,W=B.inputElem,K=F.reason,void(_(p.error)&&p.error({name:I},L,W,K));if(F.action==="skip")return void j();typeof F.config=="object"&&(B.instanceConfig=i.extend(B.instanceConfig,F.config))}else if(F==="skip")return void j()}var $=B.instanceConfig.complete;B.instanceConfig.complete=function(q){_($)&&$(q,B.file,B.inputElem),j()},u.parse(B.file,B.instanceConfig)}}function j(){w.splice(0,1),R()}}),a&&(r.onmessage=function(p){p=p.data,u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=u.parse(p.input,p.config))&&r.postMessage({workerId:u.WORKER_ID,results:p,finished:!0})}),(f.prototype=Object.create(h.prototype)).constructor=f,(v.prototype=Object.create(h.prototype)).constructor=v,(b.prototype=Object.create(b.prototype)).constructor=b,(C.prototype=Object.create(h.prototype)).constructor=C,u})})(LP);var KQ=LP.exports;const DP=fp(KQ);function GQ({businessId:e}){const[t,n]=x.useState([]),[r,i]=x.useState(!0),[o,a]=x.useState({}),s=gr();return x.useEffect(()=>{if(!e)return;const c=Tr(Fe(re,"chats"),Ir("participants","array-contains",e)),u=Et(c,async h=>{const f=[],v=new Set;h.forEach(C=>{const S=C.data(),T=S.participants.find(E=>E!==e);T&&(f.push({id:C.id,...S,customerId:T}),v.add(T))}),n(f);const b={};await Promise.all(Array.from(v).map(async C=>{const S=await xn(Le(re,"users",C));S.exists()&&(b[C]=S.data())})),a(b),i(!1)});return()=>u()},[e]),r?l.jsx("div",{children:"Loading chat inbox..."}):t.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(c=>{const u=o[c.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:u.photo||"https://ui-avatars.com/api/?name="+(u.name||u.email||"Customer"),alt:u.name||u.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:u.name||u.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:u.email})]}),l.jsx("button",{onClick:()=>s(`/chat/${e}`,{state:{customerId:c.customerId,chatId:c.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},c.id)})})]})}const uy=["name","ingredient","class","price","image"];function QQ(){const[e,t]=x.useState(""),[n,r]=x.useState("add"),i=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=x.useState(null);if(x.useEffect(()=>{ol(async()=>{const{getAuth:L,onAuthStateChanged:W}=await Promise.resolve().then(()=>Sj);return{getAuth:L,onAuthStateChanged:W}}).then(({getAuth:L,onAuthStateChanged:W})=>{const K=L();W(K,async B=>{if(B){const{getDoc:F,doc:$}=await ol(async()=>{const{getDoc:H,doc:G}=await Promise.resolve().then(()=>ex);return{getDoc:H,doc:G}}),q=await F($(re,"users",B.uid));a(q.exists()?q.data().role:null)}else a(null)})})},[]),i||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[s,c]=x.useState(null),[u,h]=x.useState(null),[f,v]=x.useState([]),[b,C]=x.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[S,T]=x.useState(null),[E,g]=x.useState([]),[y,P]=x.useState([]),M=f.filter(L=>{var W,K,B;const F=e.toLowerCase();return((W=L.name)==null?void 0:W.toLowerCase().includes(F))||((K=L.ingredient)==null?void 0:K.toLowerCase().includes(F))||((B=L.class)==null?void 0:B.toLowerCase().includes(F))}),N=Ar();x.useEffect(()=>{const L=Ui(N,async W=>{if(W){c(W);try{const K=await xn(Le(re,"users",W.uid));K.exists()?h(K.data()):h({role:"customer"})}catch(K){console.error("Error fetching user doc:",K),h({role:"customer"})}}else c(null),h(null)});return()=>L()},[N]),x.useEffect(()=>{if(!s)return;const L=Et(Fe(re,"products"),W=>{const K=W.docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.ownerId===s.uid);v(K)});return()=>L()},[s]),x.useEffect(()=>{if(!s)return;const L=Et(Fe(re,"batches"),W=>{const K=W.docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.uploadedBy===s.uid);P(K)});return()=>L()},[s]);const _=()=>({ownerSlug:(u==null?void 0:u.slug)||null,businessName:(u==null?void 0:u.businessName)||null}),p=async L=>{if(L.preventDefault(),!s)return ze.error("Please log in first");if(!u)return ze.info("Loading user data...");const{name:W,ingredient:K,class:B,price:F,image:$}=b;if(!W||!K||!B||!F)return ze.warn("Please fill all required fields");const q=parseInt(F,10);if(isNaN(q)||q<0)return ze.warn("Price must be a positive number");const{ownerSlug:H,businessName:G}=_(),Q=(u==null?void 0:u.pharmacist)||null;try{S?(await an(Le(re,"products",S),{name:W,ingredient:K,class:B,price:q,image:$||"",ownerSlug:H||"",businessName:G||"",isPOM:!!b.isPOM,registeredOnly:!!b.registeredOnly,pharmacist:Q||null}),T(null)):await bo(Fe(re,"products"),{name:W,ingredient:K,class:B,price:q,image:$||"",ownerId:s.uid,ownerSlug:H||"",businessName:G||"",isPOM:!!b.isPOM,registeredOnly:!!b.registeredOnly,pharmacist:Q||null}),C({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(ue){console.error(ue),ze.error("Error saving medicine")}},m=L=>{const W=L.target.files[0];W&&DP.parse(W,{header:!0,skipEmptyLines:!0,complete:K=>{const B=K.data.map(F=>{const $={};return uy.forEach(q=>$[q]=F[q]||(q==="price"?0:"N/A")),$});g(B)}})},w=async()=>{if(!E.length)return ze.info("No CSV data to upload");if(!s)return ze.error("Please log in first");if(!u)return ze.info("Loading user data...");const L=Le(Fe(re,"batches")),W=[],{ownerSlug:K,businessName:B}=_(),F=(u==null?void 0:u.pharmacist)||null;for(let $ of E)try{const q=await bo(Fe(re,"products"),{name:$.name,ingredient:$.ingredient,class:$.class,price:parseInt($.price,10)||0,image:$.image==="N/A"?"":$.image,batchId:L.id,ownerId:s.uid,ownerSlug:K||"",businessName:B||"",isPOM:!!$.isPOM,pharmacist:F||null});W.push(q.id)}catch(q){console.error("CSV upload error for row:",$,q)}try{await Jr(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:s.uid,date:new Date().toISOString(),medicineIds:W})}catch($){console.error("Failed to create batch doc:",$)}alert(` ${W.length} medicines uploaded`),ze.success(` ${W.length} medicines uploaded`),g([])},R=L=>{C({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",isPOM:!!L.isPOM}),T(L.id),r("add")},j=async L=>{if(window.confirm("Delete this medicine?"))try{await Kr(Le(re,"products",L.id)),ze.success("Medicine deleted.")}catch(W){console.error(W),ze.error("Error deleting medicine")}},I=async L=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let W of L.medicineIds)await Kr(Le(re,"products",W));await Kr(Le(re,"batches",L.id)),ze.success("Batch deleted.")}catch(W){console.error(W),ze.error("Error deleting batch")}};return s?u?u.role!=="medicine-manager"&&u.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",s.email]}),l.jsx(XQ,{user:s,userData:u,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:p,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:S?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:b.name,onChange:L=>C({...b,name:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:b.ingredient,onChange:L=>C({...b,ingredient:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:b.class,onChange:L=>C({...b,class:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:b.price,onChange:L=>C({...b,price:L.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:b.image,onChange:L=>C({...b,image:L.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:b.isPOM,onChange:L=>C({...b,isPOM:L.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:S?"Update Medicine":"Add Medicine"}),S&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),C({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:m,style:{marginBottom:"10px"}}),E.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:uy.map(L=>l.jsx("th",{children:L},L))})}),l.jsx("tbody",{children:E.map((L,W)=>l.jsx("tr",{children:uy.map(K=>l.jsx("td",{children:L[K]},K))},W))})]}),l.jsx("button",{onClick:w,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),y.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:y.map(L=>{var W;return l.jsxs("tr",{children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:((W=L.medicineIds)==null?void 0:W.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>I(L),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},L.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:e,onChange:L=>t(L.target.value)}),M.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:M.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:L.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>R(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>j(L),children:"Delete"})]})]},L.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(u==null?void 0:u.role)==="medicine-manager"&&l.jsx(YQ,{userId:s.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(GQ,{businessId:s.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function YQ({userId:e}){const[t,n]=Te.useState(null),[r,i]=Te.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[o,a]=Te.useState(!1),[s,c]=Te.useState(!1);Te.useEffect(()=>{const f=Le(re,"users",e);xn(f).then(v=>{const b=v.data();b&&b.pharmacist&&(n(b.pharmacist),i({...b.pharmacist}),a(!0))})},[e]);const u=f=>{i({...r,[f.target.name]:f.target.value})},h=async f=>{f.preventDefault(),c(!0),await an(Le(re,"users",e),{pharmacist:{...r}}),n({...r}),a(!0),c(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:h,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:u,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:u,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:u,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:u,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:u,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:u,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:s,style:{marginTop:10},children:o?"Update Pharmacist":"Add Pharmacist"})]}),t&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:t.photo,alt:t.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:t.name})}),l.jsx("div",{children:t.profession}),l.jsxs("div",{children:["Pharmacy: ",t.pharmacyName]}),l.jsxs("div",{children:["License: ",t.license]}),l.jsxs("div",{children:["Languages: ",t.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${t.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function XQ({user:e,userData:t,setUserData:n}){var r,i;const[o,a]=Te.useState(!1),[s,c]=Te.useState(!1),[u,h]=Te.useState(""),f=((r=t==null?void 0:t.location)==null?void 0:r.latitude)||(t==null?void 0:t.lat),v=((i=t==null?void 0:t.location)==null?void 0:i.longitude)||(t==null?void 0:t.lng),b=()=>{if(a(!0),h(""),c(!1),!navigator.geolocation){h("Geolocation not supported by your browser."),a(!1);return}navigator.geolocation.getCurrentPosition(async C=>{const S={latitude:C.coords.latitude,longitude:C.coords.longitude};try{await an(Le(re,"users",e.uid),{location:S,lat:S.latitude,lng:S.longitude}),n(T=>({...T,location:S,lat:S.latitude,lng:S.longitude})),c(!0)}catch{h("Failed to update location.")}a(!1)},C=>{h("Location access denied or unavailable."),a(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",f&&v?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",f.toFixed(5),", Lng: ",v.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:b,disabled:o,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:o?"not-allowed":"pointer",marginRight:10},children:o?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),u&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:u})]})}var Bu=function(){return Bu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bu.apply(this,arguments)};function r1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var wh=[];function JQ(){var e="https://js.paystack.co/v1/inline.js",t=x.useState({loaded:!1,error:!1}),n=t[0],r=t[1];return x.useEffect(function(){if(wh.includes(e))r({loaded:!0,error:!1});else{wh.push(e);var i=document.createElement("script");i.src=e,i.async=!0;var o=function(){r({loaded:!0,error:!1})},a=function(){var s=wh.indexOf(e);s>=0&&wh.splice(s,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",o),i.addEventListener("complete",o),i.addEventListener("error",a),document.body.appendChild(i),function(){i.removeEventListener("load",o),i.removeEventListener("error",a)}}},[e]),[n.loaded,n.error]}var ZQ=function(e){var t=window.PaystackPop&&window.PaystackPop.setup(e);t&&t.openIframe()};function zP(e){var t=JQ(),n=t[0],r=t[1];function i(o){var a=o.config,s=o.onSuccess,c=o.onClose;if(r)throw new Error("Unable to load paystack inline script");var u=Bu(Bu({},e),a),h=u.publicKey,f=u.firstname,v=u.lastname,b=u.phone,C=u.email,S=u.amount,T=u.reference,E=u.metadata,g=E===void 0?{}:E,y=u.currency,P=y===void 0?"NGN":y,M=u.channels,N=u.label,_=N===void 0?"":N,p=u.plan,m=p===void 0?"":p,w=u.quantity,R=w===void 0?"":w,j=u.subaccount,I=j===void 0?"":j,L=u.transaction_charge,W=L===void 0?0:L,K=u.bearer,B=K===void 0?"account":K,F=u.split,$=u.split_code;if(n){var q={callback:s||function(){return null},onClose:c||function(){return null},key:h,ref:T,email:C,firstname:f,lastname:v,phone:b,amount:S,currency:P,plan:m,quantity:R,channels:M,subaccount:I,transaction_charge:W,bearer:B,label:_,metadata:g,split:F,split_code:$,"data-custom-button":u["data-custom-button"]||""};ZQ(q)}}return x.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var eY=function(e){var t=e.text,n=e.className,r=e.children,i=e.onSuccess,o=e.onClose,a=r1(e,["text","className","children","onSuccess","onClose"]),s=zP(a);return Te.createElement("button",{className:n,onClick:function(){return s({config:a,onSuccess:i,onClose:o})}},t||r)},FP=x.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),tY=function(e){var t=e.children,n=e.onSuccess,r=e.onClose,i=r1(e,["children","onSuccess","onClose"]),o=zP(i);return Te.createElement(FP.Provider,{value:{config:i,initializePayment:o,onSuccess:n,onClose:r}},t)},nY=function(e){var t=e.children,n=e.ref,r=x.useContext(FP),i=r.config,o=r.initializePayment,a=r.onSuccess,s=r.onClose,c=function(){return o({config:i,onSuccess:a,onClose:s})};return t({initializePayment:c,ref:n})};x.forwardRef(function(e,t){var n=e.children,r=e.onSuccess,i=e.onClose,o=r1(e,["children","onSuccess","onClose"]),a=r||function(){return null},s=i||function(){return null};return Te.createElement(tY,Bu({},o,{onSuccess:a,onClose:s}),Te.createElement(nY,{ref:t},n))});async function rY(e){if(!e)return null;const t=Tr(Fe(re,"coupons"),Ir("code","==",e)),n=await Ht(t);return n.empty?null:n.docs[0].data()}function iY(){var e,t,n,r,i;const[o,a]=x.useState(""),[s,c]=x.useState(null),[u,h]=x.useState(""),f=Ar(),v=gr(),b=fa(),C=((e=b.state)==null?void 0:e.orderType)||"single",S=((t=b.state)==null?void 0:t.businessCount)||1,[T,E]=x.useState(null),[g,y]=x.useState(((n=b.state)==null?void 0:n.cart)||[]),[P,M]=x.useState(((r=b.state)==null?void 0:r.total)||0),N=g.length===1&&((i=g[0])==null?void 0:i.isConsultation),[_,p]=x.useState("standard"),m=500,w=3e3;x.useEffect(()=>{j(N?0:C==="multiple-premium"?(_==="express"?w:m)*S:_==="express"?w:m)},[_,N,C,S]);const[R,j]=x.useState(N?0:500),[I,L]=x.useState(1e3),[W,K]=x.useState(P+(N?0:R)),[B,F]=x.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),$="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";x.useEffect(()=>Ui(f,async U=>{if(!U)return v("/auth");if(E(U),g.length===0){const ee=Le(re,"carts",U.uid),V=await xn(ee);if(V.exists()){const J=V.data().items||[];y(J);const te=J.reduce((oe,me)=>oe+me.price*(me.quantity||1),0);M(te),K(te+R)}}}),[f,g.length,R,v]),x.useEffect(()=>{let U=g.some(te=>te.isPOM)?500:0,ee=R,V=P,J=0;s&&(s.removePOM&&(U=0),s.removeDelivery&&(ee=0),s.percent>0&&(J=Math.round((V+U+ee)*(s.percent/100)))),L(U),K(V+U+ee-J)},[P,R,g,s]),x.useEffect(()=>{j(N?0:_==="standard"?500:3e3)},[_,N]);const q=async()=>{h("");const U=await rY(o.trim().toUpperCase());U?(c(U),h("")):(c(null),h("Invalid coupon code"))},H=()=>N?["name","phone","address","age","complaint"].every(U=>{var ee;return(ee=B[U])==null?void 0:ee.trim()}):["name","phone","address","city","state"].every(U=>{var ee;return(ee=B[U])==null?void 0:ee.trim()}),G={reference:new Date().getTime().toString(),email:T==null?void 0:T.email,amount:W*100,publicKey:$},Q=async U=>{if(!T||g.length===0)return;const ee=Le(Fe(re,"orders"));await Jr(ee,{userId:T.uid,items:g,subtotal:P,deliveryFee:R,pomFee:I,total:W,status:"Processing",date:new Date().toISOString(),paymentReference:(U==null?void 0:U.reference)||"COUPON_FREE",deliveryInfo:B,coupon:s||null,deliveryType:_}),await Jr(Le(re,"carts",T.uid),{items:[]}),y([]),M(0),K(0),ze.success(" Payment successful! Order created.");const V=g.find(te=>te.isConsultation&&te.whatsapp);if(V){window.location.href=`https://wa.me/${V.whatsapp}`;return}const J=g.find(te=>te.isPOM&&te.pharmacist&&te.ownerId);if(J&&J.pharmacist&&J.ownerId){v(`/chat/${J.ownerId}`,{state:{pharmacist:J.pharmacist,businessName:J.businessName}});return}g.some(te=>te.isPOM)?v("/medinterface"):v("/orders")},ue=()=>{ze.info("Payment cancelled.")},le=U=>{F({...B,[U.target.name]:U.target.value})},Pe=()=>{alert(" Please complete all delivery information before proceeding.")};return T?l.jsx(He,{sx:{p:3,maxWidth:600,mx:"auto",minHeight:"100vh",background:"#f5f7fa",fontFamily:"Montserrat, Inter, Arial, sans-serif",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(Jf,{sx:{borderRadius:4,boxShadow:"0 4px 24px 0 rgba(0,0,0,0.08)",width:"100%",maxWidth:600,background:"#fff"},children:l.jsxs(Zf,{children:[l.jsx(Ne,{variant:"h5",fontWeight:900,gutterBottom:!0,sx:{color:"#e10098",letterSpacing:1,textAlign:"center",mb:2},children:" Checkout"}),g.length===0?l.jsx(Ne,{sx:{color:"#888",textAlign:"center",fontWeight:600},children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(Ne,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center"},children:" Order Summary"}),l.jsxs(Ne,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#222",textAlign:"center",fontSize:16},children:["Order Type: ",l.jsx("span",{style:{color:"#e10098",fontWeight:700,textTransform:"capitalize"},children:C.replace("-"," ")}),C==="multiple-premium"&&l.jsxs("span",{style:{color:"#009688",fontWeight:700},children:[" (",S," stores)"]})]}),l.jsx(He,{sx:{mb:2},children:g.map((U,ee)=>l.jsxs(He,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(Ne,{sx:{fontWeight:700,color:"#222"},children:[U.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",U.quantity||1]})]}),l.jsxs(Ne,{fontWeight:700,sx:{color:"#111"},children:["",U.price*(U.quantity||1)]})]},ee))}),l.jsxs(jt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{children:"Subtotal:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ne,{fontWeight:500,sx:{color:"#111"},children:["",P]})}),!N&&l.jsxs(l.Fragment,{children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{children:"Delivery Type:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsx(qR,{fullWidth:!0,size:"small",children:l.jsxs(Zx,{value:_,onChange:U=>p(U.target.value),sx:{bgcolor:"#fff",borderRadius:2,fontWeight:700,color:"#e10098"},children:[l.jsxs(K2,{value:"standard",children:["Standard (1-2 days) - ",C==="multiple-premium"?m*S:m]}),l.jsxs(K2,{value:"express",children:["Express (30mins-3hrs) - ",C==="multiple-premium"?w*S:w]})]})})}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{children:"Delivery Fee:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ne,{fontWeight:500,sx:{color:"#111"},children:["",s!=null&&s.removeDelivery?0:R]})})]}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{color:I>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ne,{fontWeight:500,sx:{color:"#111"},children:["",s!=null&&s.removePOM?0:I]})}),(s==null?void 0:s.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{color:"primary",children:"Discount:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ne,{sx:{color:"#111"},children:["-",Math.round((P+I+(s!=null&&s.removeDelivery?0:R))*(s.percent/100))]})})]}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ne,{fontWeight:700,children:"Grand Total:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ne,{fontWeight:700,sx:{color:"#111"},children:["",W]})})]}),l.jsxs(He,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(wn,{size:"small",label:"Coupon code",value:o,onChange:U=>a(U.target.value),sx:{mr:1,flex:1}}),l.jsx(Vn,{variant:"outlined",onClick:q,sx:{borderColor:"#e10098",color:"#e10098",fontWeight:700,"&:hover":{borderColor:"#b1005a",color:"#b1005a"}},children:"Apply"})]}),u&&l.jsx(b2,{severity:"error",sx:{mb:1},children:u}),s&&l.jsxs(b2,{severity:"success",sx:{mb:1},children:["Applied: ",s.code," (",s.percent,"% off",s.removePOM?", no POM fee":"",s.removeDelivery?", no delivery fee":"",")"]}),l.jsx($R,{sx:{my:3}}),N?l.jsxs(l.Fragment,{children:[l.jsx(Ne,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Consultation Information"}),l.jsxs(jt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:B.name,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:B.phone,onChange:le})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:B.address,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:B.age,onChange:le,type:"number"})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:B.complaint,onChange:le,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ne,{variant:"h6",fontWeight:800,gutterBottom:!0,sx:{color:"#e10098"},children:" Delivery and Patient Information"}),l.jsxs(jt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:B.name,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:B.phone,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:B.age,onChange:le,type:"number"})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"What are you taking this medicine(s) for?",name:"complaint",value:B.complaint,onChange:le,multiline:!0,minRows:2})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:B.address,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"City",name:"city",value:B.city,onChange:le})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"State",name:"state",value:B.state,onChange:le})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(wn,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:B.instructions,onChange:le,multiline:!0,minRows:2})})]})]}),l.jsx(He,{sx:{mt:2,textAlign:"center"},children:H()?W>0?l.jsx(eY,{text:"Pay Now ",className:"paystack-button",...G,callback:Q,close:ue,style:{marginTop:"10px",minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822",border:"none",transition:"background 0.2s"}}):l.jsx(Vn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",boxShadow:"0 2px 8px #e1009822","&:hover":{background:"#b1005a"}},onClick:()=>Q({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(Vn,{variant:"contained",sx:{mt:1,minWidth:180,fontWeight:700,fontSize:18,borderRadius:10,background:"#e10098",color:"#fff",opacity:.6,boxShadow:"0 2px 8px #e1009822"},onClick:Pe,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function oY(){const[e,t]=x.useState([]),[n,r]=x.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,o]=x.useState(null);x.useEffect(()=>{const u=Et(Fe(re,"coupons"),h=>{t(h.docs.map(f=>({id:f.id,...f.data()})))});return()=>u()},[]);const a=async u=>{if(u.preventDefault(),!n.code)return alert("Coupon code required");i?(await an(Le(re,"coupons",i),n),o(null)):await bo(Fe(re,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},s=u=>{r({code:u.code,percent:u.percent,removePOM:!!u.removePOM,removeDelivery:!!u.removeDelivery}),o(u.id)},c=async u=>{window.confirm("Delete coupon?")&&await Kr(Le(re,"coupons",u))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:a,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:u=>r({...n,code:u.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:u=>r({...n,percent:parseInt(u.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:u=>r({...n,removePOM:u.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:u=>r({...n,removeDelivery:u.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{o(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.code}),l.jsxs("td",{children:[u.percent,"%"]}),l.jsx("td",{children:u.removePOM?"Removed":"-"}),l.jsx("td",{children:u.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>s(u),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})]})}function aY(){const[e,t]=x.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=x.useState([]),[i,o]=x.useState(null),[a,s]=x.useState({}),[c,u]=x.useState(!1),[h,f]=x.useState("");x.useEffect(()=>{const g=Et(Fe(re,"deliveryAgents"),y=>{r(y.docs.map(P=>({id:P.id,...P.data()})))});return()=>g()},[]),x.useEffect(()=>{async function g(){const y=Tr(Fe(re,"deliveryAgents"));(await Ht(y)).forEach(async P=>{typeof P.data().approved>"u"&&await Le(re,"deliveryAgents",P.id).update({approved:!1})})}g()},[]);const v=g=>{s({...a,[g.target.name]:g.target.value})},b=g=>{o(g.id),s(g)},C=async g=>{await an(Le(re,"deliveryAgents",g),a),o(null),s({})},S=async g=>{window.confirm("Delete this delivery agent?")&&await Kr(Le(re,"deliveryAgents",g))},T=async g=>{u(!0),f(""),await an(Le(re,"deliveryAgents",g),{approved:!0}),u(!1),f("Agent approved and now visible to public.")},E=async g=>{u(!0),f(""),await an(Le(re,"deliveryAgents",g),{approved:!1}),u(!1),f("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[c&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),h&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:h}),n.map(g=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===g.id?l.jsxs("form",{onSubmit:y=>{y.preventDefault(),C(g.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:a.companyName||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:a.phoneNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:a.whatsappNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:a.rcNumber||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:a.businessAddress||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:a.email||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:a.coverageArea||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:a.operatingHours||"",onChange:v,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:a.logoUrl||"",onChange:v,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>o(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(Te.Fragment,{children:[l.jsx("img",{src:g.logoUrl,alt:g.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:g.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:g.businessAddress}),l.jsxs("div",{children:["RC Number: ",g.rcNumber]}),l.jsxs("div",{children:["Phone: ",g.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",g.whatsappNumber]}),l.jsxs("div",{children:["Email: ",g.email]}),l.jsxs("div",{children:["Coverage: ",g.coverageArea]}),l.jsxs("div",{children:["Hours: ",g.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>b(g),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>S(g.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!g.approved&&l.jsx("button",{onClick:()=>T(g.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),g.approved&&l.jsx("button",{onClick:()=>E(g.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),g.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},g.id))]})})}function sY(){const[e,t]=x.useState([]);x.useEffect(()=>{(async()=>{try{const A=await Ht(Fe(re,"deliveryAgents"));t(A.docs.map(ie=>({id:ie.id,...ie.data()})))}catch{t([])}})()},[]);const[n,r]=x.useState({}),i=async(A,ie)=>{try{const pe=e.find(it=>it.id===ie),Ke=(pe==null?void 0:pe.userId)||"";await an(Le(re,"orders",A),{riderId:Ke,assignedAgentId:Ke,assignedAgentName:pe?pe.companyName||pe.name||pe.email||pe.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(it=>({...it,[A]:!1})),ze.success("Order reassigned successfully.")}catch{ze.error("Failed to reassign order.")}},o=async A=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await an(Le(re,"orders",A.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),ze.success("Order cancelled.")}catch{ze.error("Failed to cancel order.")}},[a,s]=x.useState({pending:!0,completed:!0,cancelled:!0}),[c,u]=x.useState(""),[h,f]=x.useState(""),[v,b]=x.useState(""),[C,S]=x.useState(""),[T,E]=x.useState({}),[g,y]=x.useState({}),P=window.location.pathname.match(/^\/store\/([^\/]+)/),[M,N]=Te.useState(null);if(x.useEffect(()=>{ol(async()=>{const{getAuth:A,onAuthStateChanged:ie}=await Promise.resolve().then(()=>Sj);return{getAuth:A,onAuthStateChanged:ie}}).then(({getAuth:A,onAuthStateChanged:ie})=>{const pe=A();ie(pe,async Ke=>{if(Ke){const{getDoc:it,doc:Xt}=await ol(async()=>{const{getDoc:Qe,doc:Ft}=await Promise.resolve().then(()=>ex);return{getDoc:Qe,doc:Ft}}),{db:Je}=await ol(async()=>{const{db:Qe}=await Promise.resolve().then(()=>g9);return{db:Qe}}),$e=await it(Xt(Je,"users",Ke.uid));N($e.exists()?$e.data().role:null)}else N(null)})})},[]),P||M==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[_,p]=x.useState([]);x.useEffect(()=>{const A=Et(Fe(re,"businessRegistrations"),ie=>{p(ie.docs.map(pe=>({id:pe.id,...pe.data()})))});return()=>A()},[]);const m=async(A,ie)=>{if(await an(Le(re,"businessRegistrations",A.id),{status:ie}),ie==="declined"){const pe=Tr(Fe(re,"orders"),Ir("userId","==",A.businessId),Ir("items","array-contains-any",A.cart)),Ke=await Ht(pe);for(const it of Ke.docs)await an(Le(re,"orders",it.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}ze.info(`Registration ${ie}`)},[w,R]=x.useState(""),[j,I]=x.useState(""),[L,W]=x.useState(""),[K,B]=x.useState(""),[F,$]=x.useState(""),q=()=>{let A=ai;w&&(A=A.filter($e=>new Date($e.completedAt||$e.date)>=new Date(w))),j&&(A=A.filter($e=>new Date($e.completedAt||$e.date)<=new Date(j))),L&&(A=A.filter($e=>$e.medicVerifiedBy===L)),K&&(A=A.filter($e=>$e.items&&$e.items.some(Qe=>Qe.name&&Qe.name.toLowerCase().includes(K.toLowerCase())))),F==="true"&&(A=A.filter($e=>$e.items&&$e.items.some(Qe=>Qe.isPOM))),F==="false"&&(A=A.filter($e=>$e.items&&!$e.items.some(Qe=>Qe.isPOM)));const ie=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],pe=A.map($e=>[$e.id,new Date($e.completedAt||$e.date).toLocaleString(),qe[$e.userId]&&qe[$e.userId].email?qe[$e.userId].email:$e.userId,$e.medicVerifiedBy?(Xe.concat(de).find(Qe=>Qe.id===$e.medicVerifiedBy)||{}).name||$e.medicVerifiedBy:"",$e.total||Xn($e.items||[]),$e.items?$e.items.map(Qe=>`${Qe.name} (${Qe.quantity||1})`).join("; "):"",$e.items?$e.items.filter(Qe=>Qe.isPOM).map(Qe=>Qe.name).join("; "):""]),Ke=[ie,...pe].map($e=>$e.map(Qe=>`"${String(Qe).replace(/"/g,'""')}"`).join(",")).join(`\r
`),it=new Blob([Ke],{type:"text/csv"}),Xt=URL.createObjectURL(it),Je=document.createElement("a");Je.href=Xt,Je.download=`orders_${Date.now()}.csv`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Xt)},[H,G]=x.useState(""),[Q,ue]=x.useState(null),[le,Pe]=x.useState(null),[U,ee]=x.useState([]),[V,J]=x.useState([]),[te,oe]=x.useState(""),[me,Ee]=x.useState([]),[De,Ie]=x.useState([]),[Ue,_e]=x.useState("products"),[X,ae]=x.useState({}),[Oe,xe]=x.useState(null),[ve,Be]=x.useState(!0),[Xe,je]=x.useState([]),[de,ye]=x.useState([]),[rt,Ot]=x.useState(""),[ct,be]=x.useState("date-desc"),st=Ar();x.useEffect(()=>{const A=Ui(st,async ie=>{if(ie){ue(ie);const pe=await xn(Le(re,"users",ie.uid));Pe(pe.exists()?pe.data():{role:"customer"})}else ue(null),Pe(null)});return()=>A()},[st]),x.useEffect(()=>{const A=Et(Fe(re,"products"),pe=>ee(pe.docs.map(Ke=>({id:Ke.id,...Ke.data()})))),ie=Et(Fe(re,"batches"),pe=>{J(pe.docs.map(Ke=>({id:Ke.id,...Ke.data()}))),Be(!1)});return()=>{A(),ie()}},[]),x.useEffect(()=>{if(!le)return;const A=Et(Fe(re,"users"),ie=>Ee(ie.docs.map(pe=>({id:pe.id,...pe.data()}))));return()=>A()},[le]),x.useEffect(()=>{const A=Et(Fe(re,"orders"),ie=>{const pe=ie.docs.map(Ke=>({id:Ke.id,...Ke.data()}));pe.sort((Ke,it)=>new Date(it.date)-new Date(Ke.date)),Ie(pe)});return()=>A()},[]);const qe={};me.forEach(A=>qe[A.id]=A);const gn=async A=>{if(window.confirm(`Delete medicine: ${A.name}?`))try{await Kr(Le(re,"products",A.id)),ze.success("Medicine deleted.")}catch(ie){console.error(ie),ze.error("Error deleting medicine")}},Lr=async A=>{if(window.confirm(`Delete batch: ${A.name}?`))try{for(let ie of A.medicineIds)await Kr(Le(re,"products",ie));await Kr(Le(re,"batches",A.id))}catch(ie){console.error(ie),alert("Error deleting batch")}},To=async(A,ie)=>{try{await an(Le(re,"users",A),{role:ie}),alert("Role updated!")}catch(pe){console.error(pe),alert("Error updating role")}},oi=A=>ae(ie=>({...ie,[A]:!ie[A]}));x.useEffect(()=>{Ht(Fe(re,"verifyMedics")).then(A=>{je(A.docs.map(ie=>({id:ie.id,...ie.data(),type:"Prescription Verification"})))}),Ht(Fe(re,"consultMedics")).then(A=>{ye(A.docs.map(ie=>({id:ie.id,...ie.data(),type:"Consultation"})))})},[]);const Dr=async A=>{var ie;const pe=(ie=A.items)==null?void 0:ie.some(it=>it.isPOM);let Ke=null;if(pe){if(!H)return alert("Select a verifying medic before completing POM order.");Ke=H}window.confirm("Mark order as completed?")&&(await an(Le(re,"orders",A.id),{status:"Completed",completedBy:Q.uid,completedAt:new Date().toISOString(),medicVerifiedBy:Ke||null}),alert(" Order marked completed"),G(""))},Xn=A=>A.reduce((ie,pe)=>ie+pe.price*(pe.quantity||1),0);if(!Q)return l.jsx("p",{children:"Please log in to access admin."});if(!le)return l.jsx("p",{children:"Loading user data..."});if(le.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(ve)return l.jsx("p",{children:"Loading dashboard..."});const yr=De.filter(A=>A.status==="Processing"||A.status==="In-Progress").filter(A=>{var ie,pe;if(!rt)return!0;const Ke=rt.toLowerCase();return(((ie=qe[A.userId])==null?void 0:ie.email)||A.userId).toLowerCase().includes(Ke)||((pe=A.items)==null?void 0:pe.some(it=>it.name.toLowerCase().includes(Ke)))}).sort((A,ie)=>ct==="date-desc"?new Date(ie.date)-new Date(A.date):ct==="date-asc"?new Date(A.date)-new Date(ie.date):ct==="amount-desc"?(ie.total||0)-(A.total||0):ct==="amount-asc"?(A.total||0)-(ie.total||0):0),ai=De.filter(A=>A.status==="Completed"),Z=ai.filter(A=>{var ie,pe;if(!rt)return!0;const Ke=rt.toLowerCase();return(((ie=qe[A.userId])==null?void 0:ie.email)||A.userId).toLowerCase().includes(Ke)||((pe=A.items)==null?void 0:pe.some(it=>it.name.toLowerCase().includes(Ke)))}).sort((A,ie)=>ct==="date-desc"?new Date(ie.completedAt||ie.date)-new Date(A.completedAt||A.date):ct==="date-asc"?new Date(A.completedAt||A.date)-new Date(ie.completedAt||ie.date):ct==="amount-desc"?(ie.total||0)-(A.total||0):ct==="amount-asc"?(A.total||0)-(ie.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[_.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),_.map((A,ie)=>{var pe,Ke,it,Xt,Je;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((pe=A.businessInfo)==null?void 0:pe.businessName)||A.businessId]}),l.jsxs("p",{children:["Email: ",((Ke=A.businessInfo)==null?void 0:Ke.email)||""]}),l.jsxs("p",{children:["Phone: ",((it=A.businessInfo)==null?void 0:it.phone)||""]}),l.jsxs("p",{children:["Address: ",((Xt=A.businessInfo)==null?void 0:Xt.address)||""]}),l.jsxs("p",{children:["Products: ",(Je=A.cart)==null?void 0:Je.map($e=>$e.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:A.status})]}),A.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>m(A,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>m(A,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},A.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>_e("products"),style:Ss(Ue==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>_e("users"),style:Ss(Ue==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>_e("orders"),style:Ss(Ue==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>_e("medics"),style:Ss(Ue==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>_e("deliveryagents"),style:Ss(Ue==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>_e("coupons"),style:Ss(Ue==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",Q.email]}),Ue==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(aY,{})]})]})]}),Ue==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:te,onChange:A=>oe(A.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),V.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:dy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:V.filter(A=>{var ie;return te?(((ie=qe[A.uploadedBy])==null?void 0:ie.businessName)||"").toLowerCase().includes(te.toLowerCase()):!0}).map(A=>{var ie,pe;return l.jsxs("tr",{style:hy,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:new Date(A.date).toLocaleString()}),l.jsx("td",{children:((ie=qe[A.uploadedBy])==null?void 0:ie.businessName)||A.uploadedBy}),l.jsx("td",{children:((pe=A.medicineIds)==null?void 0:pe.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Lr(A),children:"Delete"})})]},A.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:c||"",onChange:A=>u(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:h||"",onChange:A=>f(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:v||"",onChange:A=>b(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(U.map(A=>A.class).filter(Boolean))].sort().map(A=>l.jsx("option",{value:A,children:A},A))]}),l.jsxs("select",{value:C||"",onChange:A=>S(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(U.map(A=>A.ownerId).filter(Boolean))].map(A=>{var ie;return l.jsx("option",{value:A,children:((ie=qe[A])==null?void 0:ie.businessName)||A},A)})]})]}),U.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:dy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:U.filter(A=>{var ie,pe;return!(c&&!((ie=A.name)!=null&&ie.toLowerCase().includes(c.toLowerCase()))||h&&!((pe=A.ingredient)!=null&&pe.toLowerCase().includes(h.toLowerCase()))||v&&A.class!==v||C&&A.ownerId!==C)}).map(A=>{var ie;return l.jsxs("tr",{style:hy,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:A.ingredient}),l.jsx("td",{children:A.class}),l.jsx("td",{children:A.price}),l.jsx("td",{children:((ie=qe[A.ownerId])==null?void 0:ie.businessName)||A.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>gn(A),children:"Delete"})})]},A.id)})})]})]}),Ue==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),me.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:dy,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:me.map(A=>l.jsxs("tr",{style:hy,children:[l.jsx("td",{children:A.email}),l.jsx("td",{children:A.role}),l.jsx("td",{children:l.jsxs("select",{value:A.role||"customer",onChange:ie=>To(A.id,ie.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>xe(A),children:"View Details"})})]},A.id))})]}),Oe&&l.jsx(lY,{user:Oe,medicines:U.filter(A=>A.ownerId===Oe.id),orders:De.filter(A=>A.userId===Oe.id),onClose:()=>xe(null)})]}),Ue==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(A=>({...A,pending:!A.pending})),children:[l.jsx("span",{style:{marginRight:8},children:a.pending?"":""})," Pending / Processing Orders"]}),a.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:rt,onChange:A=>Ot(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:ct,onChange:A=>be(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:A=>R(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:A=>I(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Xe,...de].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:K,onChange:A=>B(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>$(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),yr.length===0?l.jsx("p",{children:"No pending orders."}):yr.map(A=>{var ie,pe,Ke,it,Xt;const Je=(ie=A.items)==null?void 0:ie.some(We=>We.isPOM),$e=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",Qe=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,Ft=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let zr="N/A",Dn=null,St=null;if(A.businessId&&qe[A.businessId]){const We=qe[A.businessId];zr=`${We.address||""}, ${We.city||""}, ${We.state||""}`,Dn=We.lat||null,St=We.lng||null}const Ut=X[A.id]?T[A.id]?A.items:(pe=A.items)==null?void 0:pe.slice(0,3):[],qi=A.items&&A.items.length>3;return l.jsxs("div",{style:fy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>oi(A.id),children:X[A.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Ke=qe[A.userId])==null?void 0:Ke.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):$e]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Qe&&Ft?`${Qe}, ${Ft}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",zr]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Dn&&St?`${Dn}, ${St}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const We=A.riderId||A.assignedAgentId;let At=null;return We&&qe[We]?(At=qe[We],`${At.companyName||At.name||At.email||We}${At.phoneNumber||At.whatsappNumber?` (${[At.phoneNumber,At.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):We&&e.length?(At=e.find(va=>va.id===We),At?`${At.companyName||At.name||At.id}${At.phoneNumber||At.whatsappNumber?` (${[At.phoneNumber,At.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:We):We||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(We=>({...We,[A.id]:!We[A.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[A.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:We=>{We.target.value&&i(A.id,We.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),e.map(We=>l.jsxs("option",{value:We.id,children:[We.companyName||We.name||We.email||We.id,We.phoneNumber||We.whatsappNumber?` (${[We.phoneNumber,We.whatsappNumber].filter(Boolean).join(" / ")})`:""]},We.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!A.riderId&&!A.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):A.status==="cancelled"&&A.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):A.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):A.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(A.riderId||A.assignedAgentId)&&A.status!=="Completed"&&A.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):A.status]})]}),X[A.id]&&((it=A.items)==null?void 0:it.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:T[A.id]?"none":120,overflowY:qi&&!T[A.id]?"hidden":"auto",marginBottom:4},children:Ut.map((We,At)=>l.jsxs("li",{children:[We.name," - ",We.price," x ",We.quantity||1]},At))}),qi&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>E(We=>({...We,[A.id]:!We[A.id]})),children:T[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Xn(A.items||[]),Je&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),Je&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:H,onChange:We=>G(We.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Xe,...de].map(We=>l.jsxs("option",{value:We.id,children:[We.name," (",We.profession,") - ",We.type]},We.id))]})]}),l.jsx("button",{onClick:()=>Dr(A),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>o(A),children:"Cancel Order"}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString(),l.jsx("br",{}),A.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Xt=Xe.find(We=>We.id===A.medicVerifiedBy))==null?void 0:Xt.name)||A.medicVerifiedBy]})]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(A=>({...A,completed:!A.completed})),children:[l.jsx("span",{style:{marginRight:8},children:a.completed?"":""})," Completed Orders (You)"]}),a.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:rt,onChange:A=>Ot(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:ct,onChange:A=>be(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:A=>R(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:A=>I(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Xe,...de].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:K,onChange:A=>B(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>$(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Z.length===0?l.jsx("p",{children:"No completed orders found."}):Z.map(A=>{var ie,pe,Ke,it;const Xt=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",Je=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,$e=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let Qe="N/A",Ft=null,zr=null;if(A.businessId&&qe[A.businessId]){const Ut=qe[A.businessId];Qe=`${Ut.address||""}, ${Ut.city||""}, ${Ut.state||""}`,Ft=Ut.lat||null,zr=Ut.lng||null}const Dn=X[A.id]?g[A.id]?A.items:(ie=A.items)==null?void 0:ie.slice(0,3):[],St=A.items&&A.items.length>3;return l.jsxs("div",{style:fy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.completedAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>oi(A.id),children:X[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((pe=qe[A.userId])==null?void 0:pe.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):Xt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Je&&$e?`${Je}, ${$e}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",Qe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Ft&&zr?`${Ft}, ${zr}`:"N/A"]}),X[A.id]&&((Ke=A.items)==null?void 0:Ke.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[A.id]?"none":120,overflowY:St&&!g[A.id]?"hidden":"auto",marginBottom:4},children:Dn.map((Ut,qi)=>l.jsxs("li",{children:[Ut.name," - ",Ut.price," x ",Ut.quantity||1]},qi))}),St&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>y(Ut=>({...Ut,[A.id]:!Ut[A.id]})),children:g[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Xn(A.items||[])]}),A.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((it=Xe.concat(de).find(Ut=>Ut.id===A.medicVerifiedBy))==null?void 0:it.name)||A.medicVerifiedBy]}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString()]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>s(A=>({...A,cancelled:!A.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:a.cancelled?"":""})," Cancelled Orders"]}),a.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:rt,onChange:A=>Ot(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:ct,onChange:A=>be(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:w,onChange:A=>R(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:j,onChange:A=>I(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:L,onChange:A=>W(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Xe,...de].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:K,onChange:A=>B(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>$(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),De.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):De.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").map(A=>{var ie,pe,Ke;const it=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",Xt=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,Je=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let $e="N/A",Qe=null,Ft=null;if(A.businessId&&qe[A.businessId]){const St=qe[A.businessId];$e=`${St.address||""}, ${St.city||""}, ${St.state||""}`,Qe=St.lat||null,Ft=St.lng||null}const zr=X[A.id]?g[A.id]?A.items:(ie=A.items)==null?void 0:ie.slice(0,3):[],Dn=A.items&&A.items.length>3;return l.jsxs("div",{style:fy,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.cancelledAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>oi(A.id),children:X[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((pe=qe[A.userId])==null?void 0:pe.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):it]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Xt&&Je?`${Xt}, ${Je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",$e]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Qe&&Ft?`${Qe}, ${Ft}`:"N/A"]}),X[A.id]&&((Ke=A.items)==null?void 0:Ke.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[A.id]?"none":120,overflowY:Dn&&!g[A.id]?"hidden":"auto",marginBottom:4},children:zr.map((St,Ut)=>l.jsxs("li",{children:[St.name," - ",St.price," x ",St.quantity||1]},Ut))}),Dn&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>y(St=>({...St,[A.id]:!St[A.id]})),children:g[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Xn(A.items||[])]}),A.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(A.cancelledAt).toLocaleString()]})]},A.id)})]})]})]}),Ue==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(cY,{})]}),Ue==="coupons"&&l.jsx(oY,{})]})}const Ss=e=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:e?"#007bff":"#eee",color:e?"#fff":"#000",fontWeight:e?"bold":"normal"}),dy={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},hy={borderBottom:"1px solid #eee"},fy={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function lY({user:e,medicines:t,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",e.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),t.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:t.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(o=>o.name).join(", ")," - ",i.items.reduce((o,a)=>o+a.price*(a.quantity||1),0)]},i.id))})]})}function cY(){const[e,t]=Te.useState([]),[n,r]=Te.useState([]),[i,o]=Te.useState([]),[a,s]=Te.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[c,u]=Te.useState(!1),[h,f]=Te.useState(null);Te.useEffect(()=>{(async()=>{const S=await Ht(Fe(re,"verifyMedics"));t(S.docs.map(y=>({id:y.id,...y.data()})));const T=await Ht(Fe(re,"consultMedics"));r(T.docs.map(y=>({id:y.id,...y.data()})));const E=await Ht(Fe(re,"users")),g=[];E.docs.forEach(y=>{const P=y.data();P.role==="medicine-manager"&&P.pharmacist&&g.push({...P.pharmacist,id:y.id,online:!0})}),o(g)})()},[]);const v=async(S,T)=>{await an(Le(re,S==="verify"?"verifyMedics":"consultMedics",T.id),{online:!T.online}),S==="verify"?t(E=>E.map(g=>g.id===T.id?{...g,online:!T.online}:g)):r(E=>E.map(g=>g.id===T.id?{...g,online:!T.online}:g))},b=S=>{s({...a,[S.target.name]:S.target.value})},C=async S=>{S.preventDefault(),u(!0);const T={photo:a.photo,name:a.name,profession:a.profession,license:a.license,pharmacyName:a.pharmacyName,languages:a.languages.split(",").map(g=>g.trim()),whatsapp:a.whatsapp},E=a.section==="verify"?"verifyMedics":"consultMedics";h?await an(Le(re,E,h.id),T):await bo(Fe(re,E),T),s({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),f(null),u(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:C,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:a.section,onChange:b,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:a.photo,onChange:b,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:a.name,onChange:b,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:a.profession,onChange:b,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:a.license,onChange:b,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:a.pharmacyName||"",onChange:b,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:a.languages,onChange:b,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:a.whatsapp,onChange:b,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:c,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...e,...i].sort((S,T)=>(T.online===!0)-(S.online===!0)).map(S=>{let T=[];return Array.isArray(S.languages)?T=S.languages:typeof S.languages=="string"&&(T=S.languages.split(",").map(E=>E.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>v("verify",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["Pharmacy: ",S.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",T.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{f({id:S.id,section:"verify"}),s({section:"verify",photo:S.photo,name:S.name,profession:S.profession,license:S.license,pharmacyName:S.pharmacyName,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((S,T)=>(T.online===!0)-(S.online===!0)).map(S=>{let T=[];return Array.isArray(S.languages)?T=S.languages:typeof S.languages=="string"&&(T=S.languages.split(",").map(E=>E.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>v("consult",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",T.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{f({id:S.id,section:"consult"}),s({section:"consult",photo:S.photo,name:S.name,profession:S.profession,license:S.license,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})})]})}function uY(){const{slug:e}=Gu();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",e||"this store"]}),l.jsx(MP,{storeSlug:e})]})}function dY(){const[e,t]=x.useState([]),[n,r]=x.useState(!1),i=gr(),o=()=>{if(!(v!=null&&v.pharmacist))return null;const{name:w,photo:R}=v.pharmacist;return l.jsxs("button",{onClick:()=>{if(!a)return alert("Please log in to chat");i(`/chat/${v.uid}`,{state:{pharmacist:v.pharmacist,businessName:v.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[R&&l.jsx("img",{src:R,alt:w,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",w]})},[a,s]=x.useState(null),[c,u]=x.useState(null),h=Ar(),{slug:f}=Gu(),[v,b]=x.useState(null),[C,S]=x.useState(!0),[T,E]=x.useState([]),[g,y]=x.useState([]),[P,M]=x.useState(""),[N,_]=x.useState(null),p=(w,R,j,I)=>{const L=F=>F*Math.PI/180,W=L(j-w),K=L(I-R),B=Math.sin(W/2)**2+Math.cos(L(w))*Math.cos(L(j))*Math.sin(K/2)**2;return 6371*(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)))},m=w=>{const R=w*1.64,j=Math.max(1,Math.round(R/25*60));return{drivingKm:R,minutes:j}};return x.useEffect(()=>{const w=Ui(h,R=>{s(R)});return()=>w()},[h]),x.useEffect(()=>{if(!v||!a||a.uid!==v.uid)return;const w=Et(Fe(re,"orders"),R=>{const j=R.docs.map(I=>({id:I.id,...I.data()})).filter(I=>Array.isArray(I.items)&&I.items.some(L=>L.ownerId===v.uid)).filter(I=>!e.includes(I.id));j.length>0&&(j.forEach(I=>{ze.info(` New order received! Order ID: ${I.id}`)}),t(I=>[...I,...j.map(L=>L.id)]))});return()=>w()},[v,a,e]),x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(w=>_({lat:w.coords.latitude,lng:w.coords.longitude}),()=>_(null))},[]),x.useEffect(()=>{f&&(S(!0),(async()=>{const w=Tr(Fe(re,"users"),Ir("slug","==",f)),R=await Ht(w);if(R.empty)b(null);else{const j=R.docs[0];b({uid:j.id,...j.data()})}S(!1)})())},[f]),x.useEffect(()=>{if(!v)return;const w=Tr(Fe(re,"products"),Ir("ownerId","==",v.uid)),R=Et(w,j=>{const I=j.docs.map(L=>({id:L.id,...L.data()}));E(I)});return()=>R()},[v]),x.useEffect(()=>{if(!T)return;const w=(W="")=>W.toLowerCase().trim().replace(/\s+/g," "),R={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=w(P),I=(R[j]||j).split(" "),L=T.map(W=>{var K,B;if(N&&(K=v.location)!=null&&K.latitude&&(B=v.location)!=null&&B.longitude){const F=p(N.lat,N.lng,v.location.latitude,v.location.longitude),{minutes:$}=m(F);return{...W,minutesAway:$}}return{...W,minutesAway:1/0}}).filter(W=>{const K=w(W.name),B=w(W.ingredient),F=w(W.class);return I.some($=>K.includes($)||B.includes($)||F.includes($))}).sort((W,K)=>W.minutesAway-K.minutesAway);y(L)},[T,P,N,v]),C?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):v===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(o,{}),l.jsxs("h2",{children:[" ",(v==null?void 0:v.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:P,onChange:w=>M(w.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),g.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:g.map(w=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[w.image&&l.jsx("img",{src:w.image,alt:w.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:w.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:w.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",w.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",w.price!==void 0?w.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",v!=null&&v.businessName&&v.businessName.trim()?v.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!a)return alert("Please log in first");const R=Le(re,"carts",a.uid),j=await xn(R);let I=j.exists()?j.data().items||[]:[];const L=I.findIndex(W=>W.name===w.name);L>=0?I[L].quantity+=1:I.push({...w,quantity:1}),await Jr(R,{items:I}),u(w.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),c===w.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),w.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:w.minutesAway<=1?" Right here":` ~${w.minutesAway} mins away`})]},w.id))})]})}function yn(){return typeof window<"u"&&window.innerWidth<=600}function hY(){const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,o]=x.useState("");if(x.useEffect(()=>{async function s(){const c=await Ht(Fe(re,"users")),u=[];c.forEach(h=>{const f=h.data();f.role==="medicine-manager"&&f.businessName&&f.slug&&u.push({id:h.id,name:f.businessName,slug:f.slug,image:f.businessImage||null,address:f.businessAddress||"",phone:f.businessPhone||""})}),t(u),r(!1)}s()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const a=e.filter(s=>s.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:yn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:yn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:s=>o(s.target.value),style:{fontSize:yn()?15:16,width:yn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:yn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:yn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:yn()?14:32},children:a.map(s=>l.jsxs(La,{to:`/store/${s.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:yn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:yn()?120:220},children:[s.image?l.jsx("img",{src:s.image,alt:s.name,style:{width:yn()?50:80,height:yn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:yn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:yn()?50:80,height:yn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:yn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:yn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:yn()?16:20,marginBottom:8},children:s.name}),l.jsx("div",{style:{fontSize:yn()?12:15,color:"#6366f1",marginBottom:6},children:s.address}),l.jsx("div",{style:{fontSize:yn()?10:14,color:"#64748b"},children:s.phone})]},s.id))})]})}const fY=(e,t,n,r)=>{const i=c=>c*Math.PI/180,o=i(n-e),a=i(r-t),s=Math.sin(o/2)**2+Math.cos(i(e))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},pY=e=>{const t=e*1.64,n=Math.max(1,Math.round(t/25*60));return{drivingKm:t,minutes:n}},pC=["admin","medicine-manager","distributor"],mC=["admin","distributor"];function mY(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,o]=x.useState("shop"),[a,s]=x.useState([]),[c,u]=x.useState([]),[h,f]=x.useState(""),[v,b]=x.useState(null),[C,S]=x.useState(null);x.useEffect(()=>{if(!navigator.geolocation){b("denied");return}navigator.geolocation.getCurrentPosition(y=>b({lat:y.coords.latitude,lng:y.coords.longitude}),()=>b("denied"))},[]),x.useEffect(()=>{const y=Et(Fe(re,"products"),async P=>{const M=await Promise.all(P.docs.map(async N=>{var _,p;const m={id:N.id,...N.data()};if(m.ownerId){const w=Le(re,"users",m.ownerId),R=await xn(w);if(R.exists()){const j=R.data();m.businessName=j.businessName||"Unknown Distributor",m.ownerSlug=j.slug||null,m.ownerRole=j.role||null,(_=j.location)!=null&&_.latitude&&(p=j.location)!=null&&p.longitude&&(m.businessLat=j.location.latitude,m.businessLng=j.location.longitude)}}return m}));s(M.filter(N=>N.ownerRole==="distributor"))});return()=>y()},[]),x.useEffect(()=>{if(a.length===0)return;let y=a;if(h.trim()){const P=h.toLowerCase();y=a.filter(M=>M.name&&M.name.toLowerCase().includes(P)||M.ingredient&&M.ingredient.toLowerCase().includes(P)||M.class&&M.class.toLowerCase().includes(P))}v&&v!=="denied"&&(y=y.map(P=>{if(P.businessLat&&P.businessLng){const M=fY(v.lat,v.lng,P.businessLat,P.businessLng),{minutes:N}=pY(M);return{...P,minutesAway:N}}return{...P,minutesAway:1/0}}),y.sort((P,M)=>P.minutesAway-M.minutesAway)),u(y)},[a,h,v]);const T=async y=>{if(!e)return alert("Please login first");try{const P=Le(re,"carts",e.uid),M=await xn(P);let N=[];M.exists()&&(N=M.data().items||[]);const _=N.findIndex(p=>p.id===y.id);_>=0?N[_].quantity+=1:N.push({...y,quantity:1}),await Jr(P,{items:N}),S(`Added ${y.name} to cart!`),setTimeout(()=>S(null),1500)}catch{alert("Error adding to cart")}};if(x.useEffect(()=>{const y=Ar(),P=Ui(y,async M=>{if(!M){t(null),r(null);return}t(M);const N=Le(re,"users",M.uid),_=await xn(N);r(_.exists()?_.data().role:null)});return()=>P()},[]),!e)return l.jsx("div",{children:"Please log in to access this page."});if(!pC.includes(n)&&!mC.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const E=pC.includes(n),g=mC.includes(n);return i==="shop"&&!E||i==="add"&&!g?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[E&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("shop"),children:"Shop Stock"}),g&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>o("add"),children:"Add Stock"})]}),i==="shop"&&E&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:h,onChange:y=>f(y.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),C&&l.jsx("div",{style:{color:"green",marginBottom:10},children:C}),c.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:c.map(y=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[y.registeredOnly&&y.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),y.image&&l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:y.name}),l.jsx("p",{children:l.jsx("em",{children:y.ingredient})}),l.jsxs("p",{children:["Class: ",y.class]}),l.jsxs("p",{children:["Price: ",y.price]}),Array.isArray(y.moqs)&&y.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",y.moqs.map((P,M)=>l.jsx("span",{style:{marginRight:8},children:P.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",y.businessName]}),y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:y.minutesAway<=1?" Right here":` ~${y.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>T(y),children:"Add to Cart"})]},y.id))})]}),i==="add"&&g&&l.jsx(gY,{user:e,role:n})]})}function gY({user:e,role:t}){const[n,r]=Te.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,o]=Te.useState([]),[a,s]=Te.useState(!1);Te.useEffect(()=>{if(t!=="distributor")return;const F=Et(Fe(re,"businessRegistrations"),$=>{o($.docs.filter(q=>q.data().distributorId===e.uid&&q.data().status==="approved").map(q=>q.data()))});return()=>F()},[e,t]);const c=(F,$)=>{const q=n.moqs.map((H,G)=>G===F?{type:$.target.value}:H);r({...n,moqs:q})},u=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},h=F=>{r({...n,moqs:n.moqs.filter(($,q)=>q!==F)})},[f,v]=Te.useState(null),[b,C]=Te.useState([]),[S,T]=Te.useState([]),[E,g]=Te.useState([]),[y,P]=Te.useState(!1),[M,N]=Te.useState(null),[_,p]=Te.useState(null);Te.useEffect(()=>{if(!e)return;const F=Et(Fe(re,"products"),$=>{let q=$.docs.map(H=>({id:H.id,...H.data()}));m()||(q=q.filter(H=>H.ownerId===e.uid)),C(q)});return()=>F()},[e]),Te.useEffect(()=>{if(!e)return;const F=Et(Fe(re,"batches"),$=>{let q=$.docs.map(H=>({id:H.id,...H.data()}));m()||(q=q.filter(H=>H.uploadedBy===e.uid)),T(q)});return()=>F()},[e]);function m(){var F;return(F=e==null?void 0:e.email)==null?void 0:F.includes("admin")}const w=F=>r({...n,[F.target.name]:F.target.value}),R=async()=>{const F=!n.registeredOnly;if(r({...n,registeredOnly:F}),t==="distributor"&&e!=null&&e.uid){const $=Fe(re,"products"),q=await getDocs($),H=[];q.docs.forEach(G=>{if(G.data().ownerId===e.uid){const Q={registeredOnly:F};F?Q.registeredUniqueId=`${e.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:Q.registeredUniqueId=null,H.push(updateDoc(Le(re,"products",G.id),Q))}}),await Promise.all(H),window.location.reload()}},j=async F=>{F.preventDefault(),P(!0),p(null),N(null);try{let $=t,q=null,H=null;if(t==="distributor"){const Q=Le(re,"users",e.uid),ue=await xn(Q);ue.exists()&&(q=ue.data().slug||ue.data().businessSlug||null),n.registeredOnly&&(H=`${e.uid}_${Date.now()}`)}const G={...n,ownerId:e.uid,ownerRole:$,ownerSlug:q};H&&(G.registeredUniqueId=H),f?(await Jr(Le(re,"products",f),G,{merge:!0}),v(null),N("Medicine updated!")):(await bo(Fe(re,"products"),G),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}P(!1)},I=F=>{r({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",moqs:F.moqs||[{type:"sachet",value:"",price:""}]}),v(F.id)},L=async F=>{if(window.confirm("Delete this medicine?")){P(!0);try{await Kr(Le(re,"products",F.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}P(!1)}},W=F=>{const $=F.target.files[0];$&&DP.parse($,{header:!0,skipEmptyLines:!0,complete:q=>{g(q.data)},error:()=>p("Failed to parse CSV")})},K=async()=>{if(console.log("handleCsvUpload called. user:",e,"role:",t),!E.length)return;if(!e||!t){p("User or role not loaded. Please log in again."),P(!1);return}P(!0),p(null),N(null);const F=Le(Fe(re,"batches")),$=[];let q=t,H=null;if(t==="distributor"){const G=Le(re,"users",e.uid),Q=await xn(G);Q.exists()&&(H=Q.data().slug||Q.data().businessSlug||null)}for(let G of E)try{let Q=[];if(G.moqs)try{Q=JSON.parse(G.moqs)}catch{}let ue=null;t==="distributor"&&G.registeredOnly===!0&&(ue=`${e.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const le=await bo(Fe(re,"products"),{name:G.name,ingredient:G.ingredient,class:G.class,price:parseInt(G.price,10)||0,image:G.image||"",batchId:F.id,ownerId:e.uid,ownerRole:q,ownerSlug:H,moqs:Q,registeredOnly:!!G.registeredOnly,...ue?{registeredUniqueId:ue}:{}});$.push(le.id)}catch{}await Jr(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:e.uid,date:new Date().toISOString(),medicineIds:$}),N(`${$.length} medicines uploaded`),g([]),P(!1)},B=async F=>{if(window.confirm("Delete this batch and its medicines?")){P(!0);try{for(let $ of F.medicineIds)await Kr(Le(re,"products",$));await Kr(Le(re,"batches",F.id)),N("Batch deleted")}catch{p("Error deleting batch")}P(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[t==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>s(F=>!F),style:{background:a?"#7c3aed":"#ede9fe",color:a?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:a?"Hide Registered Businesses":"Show Registered Businesses"}),a&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((F,$)=>{var q,H,G;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((q=F.businessInfo)==null?void 0:q.businessName)||F.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((H=F.businessInfo)==null?void 0:H.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((G=F.businessInfo)==null?void 0:G.phone)||""})]},$)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:w,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:w,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:w,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:w,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:w,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),t==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:R,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((F,$)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:F.type,onChange:q=>c($,q),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>h($),style:{color:"red"},children:""})]},$)),l.jsx("button",{type:"button",onClick:u,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:y,style:{marginTop:10},children:f?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:W}),E.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:K,disabled:y,children:["Submit CSV (",E.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",m()&&"(All Users)"]}),b.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:b.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:Array.isArray(F.moqs)&&F.moqs.length>0?F.moqs.map(($,q)=>l.jsx("span",{style:{marginRight:8},children:$.type},q)):"-"}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>I(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>L(F),children:"Delete"})]})]},F.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",m()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:S.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:F.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>B(F),children:"Delete Batch"})})]},F.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),_&&l.jsx("div",{style:{color:"red",marginTop:10},children:_})]})}function yY({medics:e}){const t=gr();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,marginTop:18,justifyContent:"center",padding:"0 4px"},children:[...e].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(o=>o.trim()).filter(Boolean));const i=()=>{window.confirm(`Do you want to have a one-on-one conversation with ${n.name}?

This will allow you to chat privately, ask questions, and get professional advice. Consultation fee: 3000.

Do you want to proceed?`)&&t("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",width:160,minHeight:180,padding:12,border:"none",borderRadius:14,background:"#fff",boxShadow:"0 2px 10px 0 rgba(0,150,136,0.10)",cursor:"pointer",transition:"box-shadow 0.2s, transform 0.2s",outline:"2px solid transparent",marginBottom:8},onClick:i,onMouseOver:o=>o.currentTarget.style.boxShadow="0 8px 24px 0 rgba(0,150,136,0.18)",onMouseOut:o=>o.currentTarget.style.boxShadow="0 2px 10px 0 rgba(0,150,136,0.10)",children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:12,height:12,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #00968855"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:48,height:48,borderRadius:"50%",objectFit:"cover",marginBottom:8,border:"1.5px solid #e0f7fa",background:"#f5f5f5",display:"block",marginLeft:"auto",marginRight:"auto"}}),l.jsx("div",{style:{fontWeight:800,fontSize:13,color:"#111",marginBottom:2,textAlign:"left",maxWidth:120},children:n.name}),l.jsx("div",{style:{color:"#111",fontWeight:600,fontSize:11,textAlign:"left",letterSpacing:.1},children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#009688",fontWeight:700,fontSize:11,marginTop:2,textAlign:"left",letterSpacing:.1,maxWidth:120},children:n.pharmacyName}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lic: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:n.license})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:[l.jsx("span",{style:{fontWeight:600,color:"#009688"},children:"Top interest:"})," ",l.jsx("span",{style:{color:"#009688",fontWeight:700}})]}),l.jsxs("div",{style:{color:"#111",fontSize:11,marginTop:2,textAlign:"left"},children:["Lang: ",l.jsx("span",{style:{color:"#009688",fontWeight:700},children:r.join(", ")})]})]},n.id)})})}function vY(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[i,o]=x.useState("");return x.useEffect(()=>{(async()=>{let a=(await Ht(Fe(re,"verifyMedics"))).docs.map(c=>({id:c.id,...c.data()}));(await Ht(Fe(re,"users"))).docs.forEach(c=>{const u=c.data();u.role==="medicine-manager"&&u.pharmacist&&a.push({...u.pharmacist,id:c.id,online:!0})}),t(a);const s=await Ht(Fe(re,"consultMedics"));r(s.docs.map(c=>({id:c.id,...c.data()})))})()},[]),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:"18px 0",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",width:"100vw",maxWidth:"100vw",overflowX:"hidden"},children:[l.jsx("div",{style:{width:"100%",maxWidth:400,marginBottom:12,position:"relative",display:"flex",justifyContent:"center",padding:"0 6px"},children:l.jsx(Gr,{elevation:6,sx:{borderRadius:2.5,px:{xs:1,sm:2},py:{xs:1,sm:1.5},boxShadow:"0 2px 12px 0 rgba(0,150,136,0.10)",background:"#fff",position:"relative",width:"100%",maxWidth:400,display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:l.jsxs("h2",{style:{fontWeight:900,color:"#009688",fontSize:22,margin:0,letterSpacing:1,textAlign:"center",paddingLeft:0,paddingTop:0,lineHeight:1.1,zIndex:3,position:"relative",display:"flex",alignItems:"center",gap:8,justifyContent:"center",width:"100%",textShadow:"none"},children:[l.jsx("span",{style:{fontSize:22,marginRight:3},children:""})," Medinterface"]})})}),l.jsx("div",{style:{fontSize:13,color:"#fff",fontWeight:400,textAlign:"center",marginBottom:8,marginTop:2,padding:"0 12px",lineHeight:1.4,maxWidth:340,letterSpacing:.01,fontFamily:"Inter, Arial, sans-serif",textShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:"verify prescriptions, get medicine advise and talk to a medical professional"}),l.jsx("input",{type:"text",placeholder:"Search Pharmacists & Consultants...",value:i,onChange:a=>o(a.target.value),style:{width:"90%",maxWidth:340,marginBottom:12,padding:"7px 12px",borderRadius:8,border:"1px solid #b2dfdb",fontSize:14,outline:"none"}}),l.jsx(yY,{medics:[...e.filter(a=>{var s;return(s=a.name)==null?void 0:s.toLowerCase().includes(i.toLowerCase())}),...n.filter(a=>{var s;return(s=a.name)==null?void 0:s.toLowerCase().includes(i.toLowerCase())})]})]})}var i1={},bY=us;Object.defineProperty(i1,"__esModule",{value:!0});var BP=i1.default=void 0,xY=bY(Ed()),wY=l,SY=(0,xY.default)((0,wY.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");BP=i1.default=SY;var o1={},kY=us;Object.defineProperty(o1,"__esModule",{value:!0});var WP=o1.default=void 0,CY=kY(Ed()),EY=l,_Y=(0,CY.default)((0,EY.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");WP=o1.default=_Y;var a1={},TY=us;Object.defineProperty(a1,"__esModule",{value:!0});var $P=a1.default=void 0,IY=TY(Ed()),jY=l,RY=(0,IY.default)((0,jY.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");$P=a1.default=RY;var s1={},PY=us;Object.defineProperty(s1,"__esModule",{value:!0});var UP=s1.default=void 0,OY=PY(Ed()),AY=l,NY=(0,OY.default)((0,AY.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle");UP=s1.default=NY;const MY="/psx_logo.svg";function LY({userEmail:e,menuOpen:t,setMenuOpen:n}){const r=gr(),i=x.useRef(null);return x.useEffect(()=>{if(!t)return;function o(a){i.current&&!i.current.contains(a.target)&&n(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t,n]),e?l.jsxs("div",{style:{position:"relative"},children:[l.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:l.jsx("div",{onClick:()=>n&&n(o=>!o),style:{width:26,height:26,borderRadius:"50%",background:"#e10098",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:15},title:e,children:e[0].toUpperCase()})}),t&&l.jsxs("div",{ref:i,style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:e}),l.jsx("button",{onClick:async()=>{await Ar().signOut(),r("/auth")},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsx(Qf,{color:"inherit",onClick:()=>r("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(BP,{fontSize:"small"})})}const gC=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function DY(){const[e,t]=x.useState(!1);x.useEffect(()=>{if(!a||!a.uid){t(!1);return}const v=query(collection(re,"orders"),where("userId","==",a.uid),where("status","==","Processing")),b=Et(v,C=>{t(C.size>0)});return()=>b()},[a]);const[n,r]=x.useState(!1),i=()=>r(v=>!v),o=gr(),{user:a}=Zm(),s=(a==null?void 0:a.email)||"",[c,u]=x.useState(!1),[h,f]=x.useState(0);return x.useEffect(()=>{if(!a||!a.uid){f(0);return}const v=Le(re,"carts",a.uid),b=Et(v,C=>{if(C.exists()){const S=C.data();f(Array.isArray(S.items)?S.items.length:0)}else f(0)},()=>f(0));return()=>b()},[a]),l.jsx(D7,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(jK,{sx:{minWidth:0,p:0},children:l.jsxs(He,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:1,minHeight:56},children:[l.jsx(He,{sx:{display:{xs:"flex",sm:"none"},alignItems:"center",mr:1,position:"relative"},children:l.jsxs(Qf,{onClick:i,size:"large",edge:"start",color:"inherit","aria-label":"menu",children:[l.jsx($P,{}),e&&l.jsx(UP,{sx:{color:"#e53935",fontSize:11,position:"absolute",top:8,left:28,zIndex:2}})]})}),l.jsx(He,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer",minHeight:48},onClick:()=>o("/"),children:l.jsx("img",{src:MY,alt:"Logo",style:{height:36,marginLeft:2}})}),l.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:{xs:1.2,sm:2,md:2.5},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"},pr:{xs:2,sm:3},minHeight:48},children:[l.jsx(Ne,{component:La,to:"/",sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.4,sm:1},fontSize:{xs:14,sm:16,md:17},px:{xs:.7,sm:1.2},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap",minHeight:40,display:{xs:"flex",sm:"flex"},alignItems:"center"},children:"Shop"}),gC.filter(v=>v.label!=="Shop").map(v=>l.jsx(Ne,{component:La,to:v.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.4,sm:1},fontSize:{xs:14,sm:16,md:17},px:{xs:.7,sm:1.2},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap",minHeight:40,display:{xs:"none",sm:"flex"},alignItems:"center"},children:v.label},v.to)),l.jsx(Qf,{color:"inherit",onClick:()=>o("/cart"),sx:{ml:{xs:0,sm:0},mr:1.2,position:"relative",minHeight:40,minWidth:40,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(GU,{badgeContent:h,color:"secondary",overlap:"circular",invisible:h===0,sx:{"& .MuiBadge-badge":{background:"#e10098",color:"#fff",fontWeight:700,fontSize:11,minWidth:16,height:16,top:0,right:0,padding:"0 4px"}},children:l.jsx(WP,{fontSize:"small"})})}),l.jsx(LY,{userEmail:s,menuOpen:c,setMenuOpen:u})]}),l.jsx(sq,{anchor:"left",open:n,onClose:()=>r(!1),children:l.jsx(He,{sx:{width:220,pt:2},role:"presentation",onClick:i,children:l.jsx(KR,{children:gC.map(v=>l.jsx(fH,{button:!0,component:La,to:v.to,children:l.jsx(vH,{primary:v.label})},v.to))})})})]})})})}function zY(){const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,o]=x.useState("");function a(U){if(!i.trim())return U;const ee=i.trim().toLowerCase();return U.filter(V=>{var J,te,oe,me,Ee,De,Ie,Ue,_e,X,ae,Oe,xe,ve,Be,Xe;const je=(((J=b[V.userId])==null?void 0:J.email)||"").toLowerCase(),de=(V.items&&V.items[0]&&((te=u[V.items[0].ownerId])==null?void 0:te.name)||"").toLowerCase(),ye=((((oe=V.deliveryInfo)==null?void 0:oe.address)||"")+" "+(((me=V.deliveryInfo)==null?void 0:me.city)||"")+" "+(((Ee=V.deliveryInfo)==null?void 0:Ee.state)||"")).toLowerCase(),rt=V.items&&V.items[0]&&((((De=u[V.items[0].ownerId])==null?void 0:De.address)||"")+" "+(((Ie=u[V.items[0].ownerId])==null?void 0:Ie.city)||"")+" "+(((Ue=u[V.items[0].ownerId])==null?void 0:Ue.state)||"")).toLowerCase()||"",Ot=[(_e=V.deliveryInfo)==null?void 0:_e.lat,(X=V.deliveryInfo)==null?void 0:X.lng,(xe=u[(Oe=(ae=V.items)==null?void 0:ae[0])==null?void 0:Oe.ownerId])==null?void 0:xe.lat,(Xe=u[(Be=(ve=V.items)==null?void 0:ve[0])==null?void 0:Be.ownerId])==null?void 0:Xe.lng].filter(Boolean).join(",").toLowerCase(),ct=(V.items||[]).map(be=>be.name).join(", ").toLowerCase();return je.includes(ee)||de.includes(ee)||ye.includes(ee)||rt.includes(ee)||Ot.includes(ee)||ct.includes(ee)})}const[s,c]=Te.useState("processing"),[u,h]=x.useState({});x.useEffect(()=>{const U=Et(Fe(re,"users"),ee=>{const V={};ee.docs.forEach(J=>{const te=J.data();te.role==="medicine-manager"&&(V[J.id]={name:te.businessName||J.id,address:te.businessAddress||te.address||"-",lat:te.lat||te.latitude||null,lng:te.lng||te.longitude||null})}),h(V)});return()=>U()},[]);const[f,v]=x.useState(!0);x.useEffect(()=>{const U=Ar(),ee=Ui(U,V=>{t(V),v(!1)});return()=>ee()},[]),x.useEffect(()=>{if(f||!e)return;const U=Et(Fe(re,"orders"),ee=>{const V=ee.docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.status==="Processing"&&!J.assignedAgentId&&J.deliveryType&&J.deliveryType.toLowerCase()==="express").filter(J=>!n.includes(J.id));V.length>0&&(V.forEach(J=>{ze.info(` New express delivery order! Order ID: ${J.id}`)}),r(J=>[...J,...V.map(te=>te.id)]))});return()=>U()},[f,e,n]);const[b,C]=x.useState({});x.useEffect(()=>{const U=Et(Fe(re,"users"),ee=>{const V={};ee.docs.forEach(J=>{const te=J.data();V[J.id]=te.email||J.id}),C(V)});return()=>U()},[]);const[S,T]=x.useState([]),[E,g]=x.useState([]),[y,P]=x.useState([]),[M,N]=x.useState(()=>{const U=localStorage.getItem("agentCanceledOrders");return U?JSON.parse(U):[]}),[_,p]=x.useState({}),[m,w]=x.useState({}),[R,j]=x.useState(null),{slug:I}=Gu(),[L,W]=x.useState(null),[K,B]=x.useState(!1),[F,$]=x.useState(!0),[q,H]=x.useState("availability");x.useEffect(()=>{if(f||!e)return;const U=Et(Fe(re,"orders"),ee=>{const V=ee.docs.map(J=>({id:J.id,...J.data()}));T(V.filter(J=>J.status==="Completed"&&J.assignedAgentId===e.uid)),P(V.filter(J=>J.status==="In-Progress"&&J.assignedAgentId===e.uid)),g(V.filter(J=>J.status==="Processing"&&!J.assignedAgentId&&!M.some(te=>te.id===J.id)&&J.deliveryType&&J.deliveryType.toLowerCase()==="express"))});return()=>U()},[f,e,M]);const G=async U=>{j(U);try{await an(Le(re,"orders",U),{assignedAgentId:e.uid,riderId:e.uid,assignedAgentSlug:L.slug,assignedAgentName:L.companyName,companyName:L.companyName,agentPhoneNumber:L.phoneNumber||"",agentWhatsappNumber:L.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),ze.success("Order accepted!")}catch{ze.error("Failed to accept order")}j(null)},Q=async U=>{try{await an(Le(re,"orders",U),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),ze.success("Order marked as delivered!")}catch{ze.error("Failed to mark as delivered")}},ue=async U=>{try{await an(Le(re,"orders",U),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),ze.info("Order moved back to processing.")}catch{ze.error("Failed to move order back to processing")}},le=U=>{const ee=E.find(V=>V.id===U)||y.find(V=>V.id===U);ee&&(N(V=>{const J=[...V,ee];return localStorage.setItem("agentCanceledOrders",JSON.stringify(J)),J}),c("canceled"))};x.useEffect(()=>{const U=ee=>{ee.key==="agentCanceledOrders"&&N(ee.newValue?JSON.parse(ee.newValue):[])};return window.addEventListener("storage",U),()=>window.removeEventListener("storage",U)},[]);const Pe=async()=>{if(L){B(!0);try{const U=Le(re,"deliveryAgents",L.id);await an(U,{available:!L.available}),W({...L,available:!L.available}),ze.success("Availability updated.")}catch{ze.error("Failed to update availability")}B(!1)}};return x.useEffect(()=>{async function U(){$(!0);const ee=(await Ht(Fe(re,"deliveryAgents"))).docs.map(te=>te.data());console.log("All agent slugs:",ee.map(te=>te.slug));const V=Tr(Fe(re,"deliveryAgents"),Ir("slug","==",I),Ir("approved","==",!0)),J=await Ht(V);J.empty?W(null):W({id:J.docs[0].id,...J.docs[0].data()}),$(!1)}U()},[I]),F||f?l.jsx("div",{style:{padding:40},children:"Loading..."}):L?!e||e.uid!==L.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:L.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:L.companyName}),l.jsxs("div",{children:["Phone: ",L.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",L.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",L.rcNumber]}),l.jsxs("div",{children:["Address: ",L.businessAddress]}),l.jsxs("div",{children:["Email: ",L.email]}),l.jsxs("div",{children:["Coverage: ",L.coverageArea]}),l.jsxs("div",{children:["Hours: ",L.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="availability"?"2px solid #1976d2":"1px solid #ccc",background:q==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="orders"?"2px solid #1976d2":"1px solid #ccc",background:q==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[q==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",L.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:Pe,disabled:K,children:L.available?"Set Not Available":"Set Available"})]})]}),q==="orders"&&(L.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:U=>o(U.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>c("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="processing"?"2px solid #1976d2":"1px solid #ccc",background:s==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>c("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="progression"?"2px solid #1976d2":"1px solid #ccc",background:s==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>c("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="completed"?"2px solid #1976d2":"1px solid #ccc",background:s==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>c("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:s==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:s==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),s==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):a(M).map(U=>{var ee;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const V=u[U.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||b[U.userId]||U.userId}),(()=>{const V=U.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),V.lat&&V.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]}):b[U.userId]&&b[U.userId].lat&&b[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[U.userId].lat,", ",b[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=U.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},U.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[s==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(E).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):a(E).map(U=>{var ee;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof U.deliveryType," | ",JSON.stringify(U.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const V=u[U.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||b[U.userId]||U.userId}),(()=>{const V=U.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;let oe=V.lat,me=V.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),oe&&me?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",oe,", ",me]}):b[U.userId]&&b[U.userId].lat&&b[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[U.userId].lat,", ",b[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=U.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>G(U.id),disabled:R===U.id,children:R===U.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>le(U.id),children:"Cancel Order"})]})]},U.id)})}),s==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(y).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):a(y).map(U=>{var ee;const V=!!_[U.id],J=!!m[U.id],te=async()=>{await Q(U.id),p(oe=>({...oe,[U.id]:!0})),w(oe=>({...oe,[U.id]:!0})),setTimeout(()=>w(oe=>({...oe,[U.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const oe=u[U.items[0].ownerId],me=`${oe.address||""}, ${oe.city||""}, ${oe.state||""}`,Ee=!oe.address&&!oe.city&&!oe.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:oe.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):me}),oe.lat&&oe.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",oe.lat,", ",oe.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||b[U.userId]||U.userId}),(()=>{const oe=U.deliveryInfo||{},me=`${oe.address||""}, ${oe.city||""}, ${oe.state||""}`,Ee=!oe.address&&!oe.city&&!oe.state;let De=oe.lat,Ie=oe.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):me}),De&&Ie?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",De,", ",Ie]}):b[U.userId]&&b[U.userId].lat&&b[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[U.userId].lat,", ",b[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=U.items)==null?void 0:ee.map(oe=>`${oe.name} x${oe.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:V?"not-allowed":"pointer",opacity:V?.5:1},onClick:te,disabled:V,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:V?"not-allowed":"pointer",opacity:V?.5:1},onClick:()=>ue(U.id),disabled:V,children:"Failed"})]}),J&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),V&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},U.id)})}),s==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:a(S).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):a(S).map(U=>{var ee;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",U.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),U.items&&U.items.length>0&&u[U.items[0].ownerId]&&(()=>{const V=u[U.items[0].ownerId],J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:V.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):J}),V.lat&&V.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.customerName||b[U.userId]||U.userId}),(()=>{const V=U.deliveryInfo||{},J=`${V.address||""}, ${V.city||""}, ${V.state||""}`,te=!V.address&&!V.city&&!V.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:te?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):J}),V.lat&&V.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",V.lat,", ",V.lng]}):b[U.userId]&&b[U.userId].lat&&b[U.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",b[U.userId].lat,", ",b[U.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=U.items)==null?void 0:ee.map(V=>`${V.name} x${V.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:U.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",U.completedAt?new Date(U.completedAt).toLocaleString():"-"]})]},U.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function yC(){const[e,t]=x.useState([]),[n,r]=x.useState(!0);return x.useEffect(()=>{async function i(){r(!0);const o=Tr(Fe(re,"deliveryAgents"),Ir("approved","==",!0)),a=await Ht(o);t(a.docs.map(s=>({id:s.id,...s.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:e.length===0?l.jsx("p",{children:"No delivery agents found."}):e.map(i=>l.jsx(La,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const FY=Ax({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function BY(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(e)})}function WY(){var e,t;const{businessId:n}=Gu(),r=fa(),i=gr(),[o,a]=x.useState(null),[s,c]=x.useState(null),[u,h]=x.useState([]),[f,v]=x.useState(""),[b,C]=x.useState(((e=r.state)==null?void 0:e.pharmacist)||null),[S,T]=x.useState(((t=r.state)==null?void 0:t.businessName)||"Pharmacy"),[E,g]=x.useState(null),[y,P]=x.useState(null),[M,N]=x.useState(!1),_=x.useRef(null);x.useEffect(()=>{const w=Ar(),R=Ui(w,j=>{j?a(j):i("/auth")});return()=>R()},[i]),x.useEffect(()=>{b&&S||n&&xn(Le(re,"users",n)).then(w=>{if(w.exists()){const R=w.data();C(R.pharmacist||null),T(R.businessName||"Pharmacy")}})},[n,b,S]),x.useEffect(()=>{if(!o||!n)return;const w=Fe(re,"chats"),R=Tr(w,Ir("participants","array-contains",o.uid));Ht(R).then(j=>{let I=null;j.forEach(L=>{L.data().participants.includes(n)&&(I=L.id)}),I?c(I):bo(w,{participants:[o.uid,n],createdAt:Nv()}).then(L=>c(L.id))})},[o,n]),x.useEffect(()=>{if(!s)return;const w=Tr(Fe(re,"chats",s,"messages"),EI("timestamp","asc")),R=Et(w,j=>{h(j.docs.map(I=>({id:I.id,...I.data()})))});return()=>R()},[s]),x.useEffect(()=>{var w;(w=_.current)==null||w.scrollIntoView({behavior:"smooth"})},[u]);const p=async w=>{if(w.preventDefault(),!f.trim()&&!E||!o||!s)return;let R=null,j=!1;if(E){N(!0);try{const{url:I,isBase64:L}=await BY(E);R=I,j=L}catch{alert("Image upload failed")}N(!1)}await bo(Fe(re,"chats",s,"messages"),{text:f,image:R||null,isBase64:j,sender:o.uid,senderName:o.displayName||o.email,timestamp:Nv()}),v(""),g(null),P(null)},m=w=>{const R=w.target.files[0];R&&(g(R),P(URL.createObjectURL(R)))};return o?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(b==null?void 0:b.photo)&&l.jsx("img",{src:b.photo,alt:b.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(b==null?void 0:b.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",S,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[u.map(w=>l.jsxs("div",{style:{marginBottom:10,textAlign:w.sender===(o==null?void 0:o.uid)?"right":"left"},children:[w.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:w.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),w.text&&l.jsx("span",{style:{background:w.sender===(o==null?void 0:o.uid)?"#6366f1":"#e0e7ff",color:w.sender===(o==null?void 0:o.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:w.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:w.senderName})]},w.id)),l.jsx("div",{ref:_})]}),l.jsxs("form",{onSubmit:p,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:f,onChange:w=>v(w.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:m}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),y&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:y,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{g(null),P(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:M?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:M?"not-allowed":"pointer"},disabled:M,children:M?"Sending...":"Send"})]})]}):null}function vC(){return l.jsx(o4,{to:"/auth",replace:!0})}vy.createRoot(document.getElementById("root")).render(l.jsx(Te.StrictMode,{children:l.jsxs(RW,{theme:FY,children:[l.jsx(SV,{}),l.jsx(AQ,{children:l.jsx(p4,{children:l.jsxs(l.Fragment,{children:[l.jsx(DY,{}),l.jsx($Y,{}),l.jsx(RQ,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(s4,{children:[l.jsx(Zt,{path:"/signup",element:l.jsx(vC,{})}),l.jsx(Zt,{path:"/login",element:l.jsx(vC,{})}),l.jsx(Zt,{path:"/agent/:slug",element:l.jsx(zY,{})}),l.jsx(Zt,{path:"/agents",element:l.jsx(yC,{})}),l.jsx(Zt,{path:"/",element:l.jsx(OQ,{})}),l.jsx(Zt,{path:"/shop",element:l.jsx($Q,{})}),l.jsx(Zt,{path:"/cart",element:l.jsx(MP,{})}),l.jsx(Zt,{path:"/auth",element:l.jsx(HQ,{})}),l.jsx(Zt,{path:"/orders",element:l.jsx(VQ,{})}),l.jsx(Zt,{path:"/add-medicine",element:l.jsx(QQ,{})}),l.jsx(Zt,{path:"/payment",element:l.jsx(iY,{})}),l.jsx(Zt,{path:"/admin",element:l.jsx(sY,{})}),l.jsx(Zt,{path:"/store",element:l.jsx(hY,{})}),l.jsx(Zt,{path:"/store/:slug",element:l.jsx(dY,{})}),l.jsx(Zt,{path:"/store/:slug/cart",element:l.jsx(uY,{})}),l.jsx(Zt,{path:"/restock",element:l.jsx(mY,{})}),l.jsx(Zt,{path:"/medinterface",element:l.jsx(vY,{})}),l.jsx(Zt,{path:"/about",element:l.jsx(MK,{})}),l.jsx(Zt,{path:"/businesses",element:l.jsx(v9,{})}),l.jsx(Zt,{path:"/agents",element:l.jsx(yC,{})}),l.jsx(Zt,{path:"/chat/:businessId",element:l.jsx(WY,{})})]}),l.jsx(dA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})]})}));function $Y(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),t=e?e[1]:null,n=gr();return t?l.jsx("button",{onClick:()=>n("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:r=>r.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:r=>r.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
