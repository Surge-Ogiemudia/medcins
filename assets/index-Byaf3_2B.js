function jP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ci(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aE={exports:{}},bh={},lE={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),OP=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),MP=Symbol.for("react.strict_mode"),LP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),FP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),VP=Symbol.for("react.memo"),BP=Symbol.for("react.lazy"),qb=Symbol.iterator;function UP(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var cE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uE=Object.assign,dE={};function sl(t,e,n){this.props=t,this.context=e,this.refs=dE,this.updater=n||cE}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fE(){}fE.prototype=sl.prototype;function Ev(t,e,n){this.props=t,this.context=e,this.refs=dE,this.updater=n||cE}var Cv=Ev.prototype=new fE;Cv.constructor=Ev;uE(Cv,sl.prototype);Cv.isPureReactComponent=!0;var Kb=Array.isArray,hE=Object.prototype.hasOwnProperty,Tv={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hE.call(e,r)&&!pE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:iu,type:t,key:s,ref:o,props:i,_owner:Tv.current}}function WP(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function HP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gb=/\/+/g;function ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HP(""+t.key):e.toString(36)}function Ad(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case iu:case OP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ym(o,0):r,Kb(i)?(n="",t!=null&&(n=t.replace(Gb,"$&/")+"/"),Ad(i,e,n,"",function(u){return u})):i!=null&&(Iv(i)&&(i=WP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kb(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ym(s,a);o+=Ad(s,e,n,c,i)}else if(c=UP(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ym(s,a++),o+=Ad(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Ad(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},jd={transition:null},KP={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:jd,ReactCurrentOwner:Tv};function gE(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!Iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=sl;it.Fragment=NP;it.Profiler=LP;it.PureComponent=Ev;it.StrictMode=MP;it.Suspense=zP;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;it.act=gE;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)hE.call(e,c)&&!pE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:iu,type:t.type,key:i,ref:s,props:r,_owner:o}};it.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DP,_context:t},t.Consumer=t};it.createElement=mE;it.createFactory=function(t){var e=mE.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:FP,render:t}};it.isValidElement=Iv;it.lazy=function(t){return{$$typeof:BP,_payload:{_status:-1,_result:t},_init:qP}};it.memo=function(t,e){return{$$typeof:VP,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};it.unstable_act=gE;it.useCallback=function(t,e){return er.current.useCallback(t,e)};it.useContext=function(t){return er.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return er.current.useDeferredValue(t)};it.useEffect=function(t,e){return er.current.useEffect(t,e)};it.useId=function(){return er.current.useId()};it.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return er.current.useMemo(t,e)};it.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};it.useRef=function(t){return er.current.useRef(t)};it.useState=function(t){return er.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return er.current.useTransition()};it.version="18.3.1";lE.exports=it;var v=lE.exports;const _e=xh(v),of=jP({__proto__:null,default:_e},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=v,QP=Symbol.for("react.element"),YP=Symbol.for("react.fragment"),XP=Object.prototype.hasOwnProperty,JP=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZP={key:!0,ref:!0,__self:!0,__source:!0};function yE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XP.call(e,r)&&!ZP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QP,type:t,key:s,ref:o,props:i,_owner:JP.current}}bh.Fragment=YP;bh.jsx=yE;bh.jsxs=yE;aE.exports=bh;var l=aE.exports;function vE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vE(t))&&(r&&(r+=" "),r+=e);return r}function eA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}eA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var su=t=>typeof t=="number"&&!isNaN(t),bo=t=>typeof t=="string",Qi=t=>typeof t=="function",tA=t=>bo(t)||su(t),Sg=t=>bo(t)||Qi(t)?t:null,nA=(t,e)=>t===!1||su(t)&&t>0?t:e,Eg=t=>v.isValidElement(t)||bo(t)||Qi(t)||su(t);function rA(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function iA({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:u,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,E=n?`${e}--${o}`:e,C=v.useRef(0);return v.useLayoutEffect(()=>{let x=u.current,I=m.split(" "),T=g=>{g.target===u.current&&(h(),x.removeEventListener("animationend",T),x.removeEventListener("animationcancel",T),C.current===0&&g.type!=="animationcancel"&&x.classList.remove(...I))};x.classList.add(...I),x.addEventListener("animationend",T),x.addEventListener("animationcancel",T)},[]),v.useEffect(()=>{let x=u.current,I=()=>{x.removeEventListener("animationend",I),r?rA(x,c,i):c()};f||(a?I():(C.current=1,x.className+=` ${E}`,x.addEventListener("animationend",I)))},[f]),_e.createElement(_e.Fragment,null,s)}}function Qb(t,e){return{content:xE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function xE(t,e,n=!1){return v.isValidElement(t)&&!bo(t.type)?v.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Qi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function sA({closeToast:t,theme:e,ariaLabel:n="close"}){return _e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},_e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oA({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:u,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let E=$e("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),C=Qi(s)?s({rtl:c,type:r,defaultClassName:E}):$e(E,s),x={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return _e.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},_e.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),_e.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:C,style:m,...x}))}var aA=1,bE=()=>`${aA++}`;function lA(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,u=new Set,f=g=>(u.add(g),()=>u.delete(g)),h=()=>{o=Array.from(c.values()),u.forEach(g=>g())},m=({containerId:g,toastId:b,updateId:k})=>{let M=g?g!==t:t!==1,N=c.has(b)&&k==null;return M||N},E=(g,b)=>{c.forEach(k=>{var M;(b==null||b===k.props.toastId)&&((M=k.toggle)==null||M.call(k,g))})},C=g=>{var b,k;(k=(b=g.props)==null?void 0:b.onClose)==null||k.call(b,g.removalReason),g.isActive=!1},x=g=>{if(g==null)c.forEach(C);else{let b=c.get(g);b&&C(b)}h()},I=()=>{i-=s.length,s=[]},T=g=>{var b,k;let{toastId:M,updateId:N}=g.props,w=N==null;g.staleId&&c.delete(g.staleId),g.isActive=!0,c.set(M,g),h(),n(Qb(g,w?"added":"updated")),w&&((k=(b=g.props).onOpen)==null||k.call(b))};return{id:t,props:a,observe:f,toggle:E,removeToast:x,toasts:c,clearQueue:I,buildToast:(g,b)=>{if(m(b))return;let{toastId:k,updateId:M,data:N,staleId:w,delay:p}=b,_=M==null;_&&i++;let S={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([j,A])=>A!=null)),toastId:k,updateId:M,data:N,isIn:!1,className:Sg(b.className||a.toastClassName),progressClassName:Sg(b.progressClassName||a.progressClassName),autoClose:b.isLoading?!1:nA(b.autoClose,a.autoClose),closeToast(j){c.get(k).removalReason=j,x(k)},deleteToast(){let j=c.get(k);if(j!=null){if(n(Qb(j,"removed")),c.delete(k),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};S.closeButton=a.closeButton,b.closeButton===!1||Eg(b.closeButton)?S.closeButton=b.closeButton:b.closeButton===!0&&(S.closeButton=Eg(a.closeButton)?a.closeButton:!0);let P={content:g,props:S,staleId:w};a.limit&&a.limit>0&&i>a.limit&&_?s.push(P):su(p)?setTimeout(()=>{T(P)},p):T(P)},setProps(g){a=g},setToggle:(g,b)=>{let k=c.get(g);k&&(k.toggle=b)},isToastActive:g=>{var b;return(b=c.get(g))==null?void 0:b.isActive},getSnapshot:()=>o}}var Xn=new Map,bc=[],Cg=new Set,cA=t=>Cg.forEach(e=>e(t)),_E=()=>Xn.size>0;function uA(){bc.forEach(t=>SE(t.content,t.options)),bc=[]}var dA=(t,{containerId:e})=>{var n;return(n=Xn.get(e||1))==null?void 0:n.toasts.get(t)};function wE(t,e){var n;if(e)return!!((n=Xn.get(e))!=null&&n.isToastActive(t));let r=!1;return Xn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function fA(t){if(!_E()){bc=bc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||tA(t))Xn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Xn.get(t.containerId);e?e.removeToast(t.id):Xn.forEach(n=>{n.removeToast(t.id)})}}var hA=(t={})=>{Xn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function SE(t,e){Eg(t)&&(_E()||bc.push({content:t,options:e}),Xn.forEach(n=>{n.buildToast(t,e)}))}function pA(t){var e;(e=Xn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function EE(t,e){Xn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function mA(t){let e=t.containerId||1;return{subscribe(n){let r=lA(e,t,cA);Xn.set(e,r);let i=r.observe(n);return uA(),()=>{i(),Xn.delete(e)}},setProps(n){var r;(r=Xn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Xn.get(e))==null?void 0:n.getSnapshot()}}}function gA(t){return Cg.add(t),()=>{Cg.delete(t)}}function yA(t){return t&&(bo(t.toastId)||su(t.toastId))?t.toastId:bE()}function ou(t,e){return SE(t,e),e.toastId}function _h(t,e){return{...e,type:e&&e.type||t,toastId:yA(e)}}function wh(t){return(e,n)=>ou(e,_h(t,n))}function je(t,e){return ou(t,_h("default",e))}je.loading=(t,e)=>ou(t,_h("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function vA(t,{pending:e,error:n,success:r},i){let s;e&&(s=bo(e)?je.loading(e,i):je.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,h)=>{if(f==null){je.dismiss(s);return}let m={type:u,...o,...i,data:h},E=bo(f)?{render:f}:f;return s?je.update(s,{...m,...E}):je(E.render,{...m,...E}),h},c=Qi(t)?t():t;return c.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),c}je.promise=vA;je.success=wh("success");je.info=wh("info");je.error=wh("error");je.warning=wh("warning");je.warn=je.warning;je.dark=(t,e)=>ou(t,_h("default",{theme:"dark",...e}));function xA(t){fA(t)}je.dismiss=xA;je.clearWaitingQueue=hA;je.isActive=wE;je.update=(t,e={})=>{let n=dA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:bE()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,ou(o,s)}};je.done=t=>{je.update(t,{progress:1})};je.onChange=gA;je.play=t=>EE(!0,t);je.pause=t=>EE(!1,t);function bA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=v.useRef(mA(t)).current;i(t);let s=(e=v.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:f}=u.props;c.has(f)||c.set(f,[]),c.get(f).push(u)}),Array.from(c,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:wE,count:s==null?void 0:s.length}}function _A(t){let[e,n]=v.useState(!1),[r,i]=v.useState(!1),s=v.useRef(null),o=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:f,closeOnClick:h}=t;pA({id:t.toastId,containerId:t.containerId,fn:n}),v.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||T(),window.addEventListener("focus",I),window.addEventListener("blur",T)}function E(){window.removeEventListener("focus",I),window.removeEventListener("blur",T)}function C(w){if(t.draggable===!0||t.draggable===w.pointerType){g();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function x(w){let{top:p,bottom:_,left:S,right:P}=s.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=S&&w.clientX<=P&&w.clientY>=p&&w.clientY<=_?T():I()}function I(){n(!0)}function T(){n(!1)}function g(){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",M)}function b(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",M)}function k(w){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&T(),t.draggableDirection==="x"?o.delta=w.clientX-o.start:o.delta=w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1);let _=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${_},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){b();let w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let N={onPointerDown:C,onPointerUp:x};return a&&c&&(N.onMouseEnter=T,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=w=>{f&&f(w),o.canCloseOnClick&&u(!0)}),{playToast:I,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var wA=typeof window<"u"?v.useLayoutEffect:v.useEffect,Sh=({theme:t,type:e,isLoading:n,...r})=>_e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SA(t){return _e.createElement(Sh,{...t},_e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function EA(t){return _e.createElement(Sh,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CA(t){return _e.createElement(Sh,{...t},_e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TA(t){return _e.createElement(Sh,{...t},_e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function IA(){return _e.createElement("div",{className:"Toastify__spinner"})}var Tg={info:EA,warning:SA,success:CA,error:TA,spinner:IA},kA=t=>t in Tg;function RA({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Qi(r)?i=r({...s,isLoading:n}):v.isValidElement(r)?i=v.cloneElement(r,s):n?i=Tg.spinner():kA(e)&&(i=Tg[e](s))),i}var PA=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=_A(t),{closeButton:o,children:a,autoClose:c,onClick:u,type:f,hideProgressBar:h,closeToast:m,transition:E,position:C,className:x,style:I,progressClassName:T,updateId:g,role:b,progress:k,rtl:M,toastId:N,deleteToast:w,isIn:p,isLoading:_,closeOnClick:S,theme:P,ariaLabel:j}=t,A=$e("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":S}),V=Qi(x)?x({rtl:M,position:C,type:f,defaultClassName:A}):$e(A,x),F=RA(t),B=!!k||!c,U={closeToast:m,type:f,theme:P},D=null;return o===!1||(Qi(o)?D=o(U):v.isValidElement(o)?D=v.cloneElement(o,U):D=sA(U)),_e.createElement(E,{isIn:p,done:w,position:C,preventExitTransition:n,nodeRef:r,playToast:s},_e.createElement("div",{id:N,tabIndex:0,onClick:u,"data-in":p,className:V,...i,style:I,ref:r,...p&&{role:b,"aria-label":j}},F!=null&&_e.createElement("div",{className:$e("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},F),xE(a,t,!e),D,!t.customProgressBar&&_e.createElement(oA,{...g&&!B?{key:`p-${g}`}:{},rtl:M,theme:P,delay:c,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:T,controlledProgress:B,progress:k||0})))},AA=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),jA=iA(AA("bounce",!0)),OA={position:"top-right",transition:jA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function NA(t){let e={...OA,...t},n=t.stacked,[r,i]=v.useState(!0),s=v.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=bA(e),{className:u,style:f,rtl:h,containerId:m,hotKeys:E}=e;function C(I){let T=$e("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return Qi(u)?u({position:I,rtl:h,defaultClassName:T}):$e(T,Sg(u))}function x(){n&&(i(!0),je.play())}return wA(()=>{var I;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),g=12,b=(I=e.position)==null?void 0:I.includes("top"),k=0,M=0;Array.from(T).reverse().forEach((N,w)=>{let p=N;p.classList.add("Toastify__toast--stacked"),w>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=b?"top":"bot");let _=k*(r?.2:1)+(r?0:g*w);p.style.setProperty("--y",`${b?_:_*-1}px`),p.style.setProperty("--g",`${g}`),p.style.setProperty("--s",`${1-(r?M:0)}`),k+=p.offsetHeight,M+=.025})}},[r,c,n]),v.useEffect(()=>{function I(T){var g;let b=s.current;E(T)&&((g=b.querySelector('[tabIndex="0"]'))==null||g.focus(),i(!1),je.pause()),T.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(i(!0),je.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[E]),_e.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),je.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,T)=>{let g=T.length?{...f}:{...f,pointerEvents:"none"};return _e.createElement("div",{tabIndex:-1,className:C(I),"data-stacked":n,style:g,key:`c-${I}`},T.map(({content:b,props:k})=>_e.createElement(PA,{...k,stacked:n,collapseAll:x,isIn:a(k.toastId,k.containerId),key:`t-${k.key}`},b)))}))}var Ig={},CE={exports:{}},Sr={},TE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var K=D.length;D.push(z);e:for(;0<K;){var H=K-1>>>1,q=D[H];if(0<i(q,z))D[H]=z,D[K]=q,K=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],K=D.pop();if(K!==z){D[0]=K;e:for(var H=0,q=D.length,Q=q>>>1;H<Q;){var ee=2*(H+1)-1,de=D[ee],me=ee+1,G=D[me];if(0>i(de,K))me<q&&0>i(G,de)?(D[H]=G,D[me]=K,H=me):(D[H]=de,D[ee]=K,H=ee);else if(me<q&&0>i(G,K))D[H]=G,D[me]=K,H=me;else break e}}return z}function i(D,z){var K=D.sortIndex-z.sortIndex;return K!==0?K:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,h=null,m=3,E=!1,C=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=D)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function k(D){if(x=!1,b(D),!C)if(n(c)!==null)C=!0,B(M);else{var z=n(u);z!==null&&U(k,z.startTime-D)}}function M(D,z){C=!1,x&&(x=!1,T(p),p=-1),E=!0;var K=m;try{for(b(z),h=n(c);h!==null&&(!(h.expirationTime>z)||D&&!P());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var q=H(h.expirationTime<=z);z=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&r(c),b(z)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var ee=n(u);ee!==null&&U(k,ee.startTime-z),Q=!1}return Q}finally{h=null,m=K,E=!1}}var N=!1,w=null,p=-1,_=5,S=-1;function P(){return!(t.unstable_now()-S<_)}function j(){if(w!==null){var D=t.unstable_now();S=D;var z=!0;try{z=w(!0,D)}finally{z?A():(N=!1,w=null)}}else N=!1}var A;if(typeof g=="function")A=function(){g(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=j,A=function(){F.postMessage(null)}}else A=function(){I(j,0)};function B(D){w=D,N||(N=!0,A())}function U(D,z){p=I(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,B(M))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return D()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=m;m=D;try{return z()}finally{m=K}},t.unstable_scheduleCallback=function(D,z,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,D={id:f++,callback:z,priorityLevel:D,startTime:K,expirationTime:q,sortIndex:-1},K>H?(D.sortIndex=K,e(u,D),n(c)===null&&D===n(u)&&(x?(T(p),p=-1):x=!0,U(k,K-H))):(D.sortIndex=q,e(c,D),C||E||(C=!0,B(M))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var z=m;return function(){var K=m;m=z;try{return D.apply(this,arguments)}finally{m=K}}}})(IE);TE.exports=IE;var MA=TE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA=v,xr=MA;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,_c={};function Mo(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(_c[t]=e,t=0;t<e.length;t++)kE.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,DA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yb={},Xb={};function $A(t){return kg.call(Xb,t)?!0:kg.call(Yb,t)?!1:DA.test(t)?Xb[t]=!0:(Yb[t]=!0,!1)}function FA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zA(t,e,n,r){if(e===null||typeof e>"u"||FA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){On[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];On[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){On[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var kv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kv,Rv);On[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kv,Rv);On[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kv,Rv);On[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});On.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pv(t,e,n,r){var i=On.hasOwnProperty(e)?On[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zA(e,n,i,r)&&(n=null),r||i===null?$A(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ss=LA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),oa=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Av=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),jv=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Ov=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),AE=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=Jb&&t[Jb]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,vm;function Hl(t){if(vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vm=e&&e[1]||""}return`
`+vm+t}var xm=!1;function bm(t,e){if(!t||xm)return"";xm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{xm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hl(t):""}function VA(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=bm(t.type,!1),t;case 11:return t=bm(t.type.render,!1),t;case 1:return t=bm(t.type,!0),t;default:return""}}function jg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case oa:return"Portal";case Rg:return"Profiler";case Av:return"StrictMode";case Pg:return"Suspense";case Ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ov:return e=t.displayName||null,e!==null?e:jg(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return jg(t(e))}catch{}}return null}function BA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(e);case 8:return e===Av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UA(t){var e=jE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=UA(t))}function OE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function af(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Og(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NE(t,e){e=e.checked,e!=null&&Pv(t,"checked",e,!1)}function Ng(t,e){NE(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mg(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mg(t,e,n){(e!=="number"||af(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ql=Array.isArray;function ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(ql(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function ME(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,DE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WA=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(t){WA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nc[e]=nc[t]})});function $E(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nc.hasOwnProperty(t)&&nc[t]?(""+e).trim():e+"px"}function FE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$E(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HA=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(t,e){if(e){if(HA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Fg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=null;function Nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vg=null,_a=null,wa=null;function r1(t){if(t=cu(t)){if(typeof Vg!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=kh(e),Vg(t.stateNode,t.type,e))}}function zE(t){_a?wa?wa.push(t):wa=[t]:_a=t}function VE(){if(_a){var t=_a,e=wa;if(wa=_a=null,r1(t),e)for(t=0;t<e.length;t++)r1(e[t])}}function BE(t,e){return t(e)}function UE(){}var _m=!1;function WE(t,e,n){if(_m)return t(e,n);_m=!0;try{return BE(t,e,n)}finally{_m=!1,(_a!==null||wa!==null)&&(UE(),VE())}}function Sc(t,e){var n=t.stateNode;if(n===null)return null;var r=kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var Bg=!1;if(Yi)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Bg=!1}function qA(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var rc=!1,lf=null,cf=!1,Ug=null,KA={onError:function(t){rc=!0,lf=t}};function GA(t,e,n,r,i,s,o,a,c){rc=!1,lf=null,qA.apply(KA,arguments)}function QA(t,e,n,r,i,s,o,a,c){if(GA.apply(this,arguments),rc){if(rc){var u=lf;rc=!1,lf=null}else throw Error(ue(198));cf||(cf=!0,Ug=u)}}function Lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i1(t){if(Lo(t)!==t)throw Error(ue(188))}function YA(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return i1(i),t;if(s===r)return i1(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function qE(t){return t=YA(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var GE=xr.unstable_scheduleCallback,s1=xr.unstable_cancelCallback,XA=xr.unstable_shouldYield,JA=xr.unstable_requestPaint,nn=xr.unstable_now,ZA=xr.unstable_getCurrentPriorityLevel,Mv=xr.unstable_ImmediatePriority,QE=xr.unstable_UserBlockingPriority,uf=xr.unstable_NormalPriority,ej=xr.unstable_LowPriority,YE=xr.unstable_IdlePriority,Eh=null,hi=null;function tj(t){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:ij,nj=Math.log,rj=Math.LN2;function ij(t){return t>>>=0,t===0?32:31-(nj(t)/rj|0)|0}var nd=64,rd=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function df(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ei(e),i=1<<n,r|=t[n],e&=~i;return r}function sj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ei(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=sj(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XE(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=n}function aj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ei(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ei(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ct=0;function JE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZE,Dv,eC,tC,nC,Hg=!1,id=[],Is=null,ks=null,Rs=null,Ec=new Map,Cc=new Map,bs=[],lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o1(t,e){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(e.pointerId)}}function Pl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&Dv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cj(t,e,n,r,i){switch(e){case"focusin":return Is=Pl(Is,t,e,n,r,i),!0;case"dragenter":return ks=Pl(ks,t,e,n,r,i),!0;case"mouseover":return Rs=Pl(Rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ec.set(s,Pl(Ec.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cc.set(s,Pl(Cc.get(s)||null,t,e,n,r,i)),!0}return!1}function rC(t){var e=fo(t.target);if(e!==null){var n=Lo(e);if(n!==null){if(e=n.tag,e===13){if(e=HE(n),e!==null){t.blockedOn=e,nC(t.priority,function(){eC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zg=r,n.target.dispatchEvent(r),zg=null}else return e=cu(n),e!==null&&Dv(e),t.blockedOn=n,!1;e.shift()}return!0}function a1(t,e,n){Od(t)&&n.delete(e)}function uj(){Hg=!1,Is!==null&&Od(Is)&&(Is=null),ks!==null&&Od(ks)&&(ks=null),Rs!==null&&Od(Rs)&&(Rs=null),Ec.forEach(a1),Cc.forEach(a1)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,Hg||(Hg=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,uj)))}function Tc(t){function e(i){return Al(i,t)}if(0<id.length){Al(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Is!==null&&Al(Is,t),ks!==null&&Al(ks,t),Rs!==null&&Al(Rs,t),Ec.forEach(e),Cc.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)rC(n),n.blockedOn===null&&bs.shift()}var Sa=ss.ReactCurrentBatchConfig,ff=!0;function dj(t,e,n,r){var i=Ct,s=Sa.transition;Sa.transition=null;try{Ct=1,$v(t,e,n,r)}finally{Ct=i,Sa.transition=s}}function fj(t,e,n,r){var i=Ct,s=Sa.transition;Sa.transition=null;try{Ct=4,$v(t,e,n,r)}finally{Ct=i,Sa.transition=s}}function $v(t,e,n,r){if(ff){var i=qg(t,e,n,r);if(i===null)jm(t,e,r,hf,n),o1(t,r);else if(cj(i,t,e,n,r))r.stopPropagation();else if(o1(t,r),e&4&&-1<lj.indexOf(t)){for(;i!==null;){var s=cu(i);if(s!==null&&ZE(s),s=qg(t,e,n,r),s===null&&jm(t,e,r,hf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jm(t,e,r,null,n)}}var hf=null;function qg(t,e,n,r){if(hf=null,t=Nv(r),t=fo(t),t!==null)if(e=Lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function iC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZA()){case Mv:return 1;case QE:return 4;case uf:case ej:return 16;case YE:return 536870912;default:return 16}default:return 16}}var ws=null,Fv=null,Nd=null;function sC(){if(Nd)return Nd;var t,e=Fv,n=e.length,r,i="value"in ws?ws.value:ws.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nd=i.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function l1(){return!1}function Er(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:l1,this.isPropagationStopped=l1,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=Er(ol),lu=Kt({},ol,{view:0,detail:0}),hj=Er(lu),Sm,Em,jl,Ch=Kt({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(Sm=t.screenX-jl.screenX,Em=t.screenY-jl.screenY):Em=Sm=0,jl=t),Sm)},movementY:function(t){return"movementY"in t?t.movementY:Em}}),c1=Er(Ch),pj=Kt({},Ch,{dataTransfer:0}),mj=Er(pj),gj=Kt({},lu,{relatedTarget:0}),Cm=Er(gj),yj=Kt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),vj=Er(yj),xj=Kt({},ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bj=Er(xj),_j=Kt({},ol,{data:0}),u1=Er(_j),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ej[t])?!!e[t]:!1}function Vv(){return Cj}var Tj=Kt({},lu,{key:function(t){if(t.key){var e=wj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ij=Er(Tj),kj=Kt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d1=Er(kj),Rj=Kt({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),Pj=Er(Rj),Aj=Kt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),jj=Er(Aj),Oj=Kt({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nj=Er(Oj),Mj=[9,13,27,32],Bv=Yi&&"CompositionEvent"in window,ic=null;Yi&&"documentMode"in document&&(ic=document.documentMode);var Lj=Yi&&"TextEvent"in window&&!ic,oC=Yi&&(!Bv||ic&&8<ic&&11>=ic),f1=" ",h1=!1;function aC(t,e){switch(t){case"keyup":return Mj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function Dj(t,e){switch(t){case"compositionend":return lC(e);case"keypress":return e.which!==32?null:(h1=!0,f1);case"textInput":return t=e.data,t===f1&&h1?null:t;default:return null}}function $j(t,e){if(la)return t==="compositionend"||!Bv&&aC(t,e)?(t=sC(),Nd=Fv=ws=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oC&&e.locale!=="ko"?null:e.data;default:return null}}var Fj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fj[t.type]:e==="textarea"}function cC(t,e,n,r){zE(r),e=pf(e,"onChange"),0<e.length&&(n=new zv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,Ic=null;function zj(t){bC(t,0)}function Th(t){var e=da(t);if(OE(e))return t}function Vj(t,e){if(t==="change")return e}var uC=!1;if(Yi){var Tm;if(Yi){var Im="oninput"in document;if(!Im){var m1=document.createElement("div");m1.setAttribute("oninput","return;"),Im=typeof m1.oninput=="function"}Tm=Im}else Tm=!1;uC=Tm&&(!document.documentMode||9<document.documentMode)}function g1(){sc&&(sc.detachEvent("onpropertychange",dC),Ic=sc=null)}function dC(t){if(t.propertyName==="value"&&Th(Ic)){var e=[];cC(e,Ic,t,Nv(t)),WE(zj,e)}}function Bj(t,e,n){t==="focusin"?(g1(),sc=e,Ic=n,sc.attachEvent("onpropertychange",dC)):t==="focusout"&&g1()}function Uj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(Ic)}function Wj(t,e){if(t==="click")return Th(e)}function Hj(t,e){if(t==="input"||t==="change")return Th(e)}function qj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:qj;function kc(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kg.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function y1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v1(t,e){var n=y1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y1(n)}}function fC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hC(){for(var t=window,e=af();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=af(t.document)}return e}function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kj(t){var e=hC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fC(n.ownerDocument.documentElement,n)){if(r!==null&&Uv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v1(n,s);var o=v1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gj=Yi&&"documentMode"in document&&11>=document.documentMode,ca=null,Kg=null,oc=null,Gg=!1;function x1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||ca==null||ca!==af(r)||(r=ca,"selectionStart"in r&&Uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oc&&kc(oc,r)||(oc=r,r=pf(Kg,"onSelect"),0<r.length&&(e=new zv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ca)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ua={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},km={},pC={};Yi&&(pC=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Ih(t){if(km[t])return km[t];if(!ua[t])return t;var e=ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pC)return km[t]=e[n];return t}var mC=Ih("animationend"),gC=Ih("animationiteration"),yC=Ih("animationstart"),vC=Ih("transitionend"),xC=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(t,e){xC.set(t,e),Mo(e,[t])}for(var Rm=0;Rm<b1.length;Rm++){var Pm=b1[Rm],Qj=Pm.toLowerCase(),Yj=Pm[0].toUpperCase()+Pm.slice(1);qs(Qj,"on"+Yj)}qs(mC,"onAnimationEnd");qs(gC,"onAnimationIteration");qs(yC,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(vC,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function _1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QA(r,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;_1(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;_1(i,a,u),s=c}}}if(cf)throw t=Ug,cf=!1,Ug=null,t}function Mt(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||(_C(e,t,2,!1),n.add(r))}function Am(t,e,n){var r=0;e&&(r|=4),_C(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Rc(t){if(!t[ad]){t[ad]=!0,kE.forEach(function(n){n!=="selectionchange"&&(Xj.has(n)||Am(n,!1,t),Am(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,Am("selectionchange",!1,e))}}function _C(t,e,n,r){switch(iC(e)){case 1:var i=dj;break;case 4:i=fj;break;default:i=$v}n=i.bind(null,e,n,t),i=void 0,!Bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WE(function(){var u=s,f=Nv(n),h=[];e:{var m=xC.get(t);if(m!==void 0){var E=zv,C=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":E=Ij;break;case"focusin":C="focus",E=Cm;break;case"focusout":C="blur",E=Cm;break;case"beforeblur":case"afterblur":E=Cm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=c1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Pj;break;case mC:case gC:case yC:E=vj;break;case vC:E=jj;break;case"scroll":E=hj;break;case"wheel":E=Nj;break;case"copy":case"cut":case"paste":E=bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=d1}var x=(e&4)!==0,I=!x&&t==="scroll",T=x?m!==null?m+"Capture":null:m;x=[];for(var g=u,b;g!==null;){b=g;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,T!==null&&(k=Sc(g,T),k!=null&&x.push(Pc(g,k,b)))),I)break;g=g.return}0<x.length&&(m=new E(m,C,null,n,f),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==zg&&(C=n.relatedTarget||n.fromElement)&&(fo(C)||C[Xi]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=u,C=C?fo(C):null,C!==null&&(I=Lo(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=u),E!==C)){if(x=c1,k="onMouseLeave",T="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=d1,k="onPointerLeave",T="onPointerEnter",g="pointer"),I=E==null?m:da(E),b=C==null?m:da(C),m=new x(k,g+"leave",E,n,f),m.target=I,m.relatedTarget=b,k=null,fo(f)===u&&(x=new x(T,g+"enter",C,n,f),x.target=b,x.relatedTarget=I,k=x),I=k,E&&C)t:{for(x=E,T=C,g=0,b=x;b;b=Go(b))g++;for(b=0,k=T;k;k=Go(k))b++;for(;0<g-b;)x=Go(x),g--;for(;0<b-g;)T=Go(T),b--;for(;g--;){if(x===T||T!==null&&x===T.alternate)break t;x=Go(x),T=Go(T)}x=null}else x=null;E!==null&&w1(h,m,E,x,!1),C!==null&&I!==null&&w1(h,I,C,x,!0)}}e:{if(m=u?da(u):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var M=Vj;else if(p1(m))if(uC)M=Hj;else{M=Uj;var N=Bj}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=Wj);if(M&&(M=M(t,u))){cC(h,M,n,f);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Mg(m,"number",m.value)}switch(N=u?da(u):window,t){case"focusin":(p1(N)||N.contentEditable==="true")&&(ca=N,Kg=u,oc=null);break;case"focusout":oc=Kg=ca=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,x1(h,n,f);break;case"selectionchange":if(Gj)break;case"keydown":case"keyup":x1(h,n,f)}var w;if(Bv)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else la?aC(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(oC&&n.locale!=="ko"&&(la||p!=="onCompositionStart"?p==="onCompositionEnd"&&la&&(w=sC()):(ws=f,Fv="value"in ws?ws.value:ws.textContent,la=!0)),N=pf(u,p),0<N.length&&(p=new u1(p,t,null,n,f),h.push({event:p,listeners:N}),w?p.data=w:(w=lC(n),w!==null&&(p.data=w)))),(w=Lj?Dj(t,n):$j(t,n))&&(u=pf(u,"onBeforeInput"),0<u.length&&(f=new u1("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=w))}bC(h,e)})}function Pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sc(t,n),s!=null&&r.unshift(Pc(t,s,i)),s=Sc(t,e),s!=null&&r.push(Pc(t,s,i))),t=t.return}return r}function Go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Sc(n,s),c!=null&&o.unshift(Pc(n,c,a))):i||(c=Sc(n,s),c!=null&&o.push(Pc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jj=/\r\n?/g,Zj=/\u0000|\uFFFD/g;function S1(t){return(typeof t=="string"?t:""+t).replace(Jj,`
`).replace(Zj,"")}function ld(t,e,n){if(e=S1(e),S1(t)!==e&&n)throw Error(ue(425))}function mf(){}var Qg=null,Yg=null;function Xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(t){return E1.resolve(null).then(t).catch(nO)}:Jg;function nO(t){setTimeout(function(){throw t})}function Om(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tc(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var al=Math.random().toString(36).slice(2),di="__reactFiber$"+al,Ac="__reactProps$"+al,Xi="__reactContainer$"+al,Zg="__reactEvents$"+al,rO="__reactListeners$"+al,iO="__reactHandles$"+al;function fo(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xi]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C1(t);t!==null;){if(n=t[di])return n;t=C1(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[di]||t[Xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function kh(t){return t[Ac]||null}var ey=[],fa=-1;function Ks(t){return{current:t}}function Dt(t){0>fa||(t.current=ey[fa],ey[fa]=null,fa--)}function Ot(t,e){fa++,ey[fa]=t.current,t.current=e}var Fs={},qn=Ks(Fs),or=Ks(!1),_o=Fs;function Da(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ar(t){return t=t.childContextTypes,t!=null}function gf(){Dt(or),Dt(qn)}function T1(t,e,n){if(qn.current!==Fs)throw Error(ue(168));Ot(qn,e),Ot(or,n)}function wC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,BA(t)||"Unknown",i));return Kt({},n,r)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,_o=qn.current,Ot(qn,t),Ot(or,or.current),!0}function I1(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=wC(t,e,_o),r.__reactInternalMemoizedMergedChildContext=t,Dt(or),Dt(qn),Ot(qn,t)):Dt(or),Ot(or,n)}var Ni=null,Rh=!1,Nm=!1;function SC(t){Ni===null?Ni=[t]:Ni.push(t)}function sO(t){Rh=!0,SC(t)}function Gs(){if(!Nm&&Ni!==null){Nm=!0;var t=0,e=Ct;try{var n=Ni;for(Ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ni=null,Rh=!1}catch(i){throw Ni!==null&&(Ni=Ni.slice(t+1)),GE(Mv,Gs),i}finally{Ct=e,Nm=!1}}return null}var ha=[],pa=0,vf=null,xf=0,Or=[],Nr=0,wo=null,zi=1,Vi="";function so(t,e){ha[pa++]=xf,ha[pa++]=vf,vf=t,xf=e}function EC(t,e,n){Or[Nr++]=zi,Or[Nr++]=Vi,Or[Nr++]=wo,wo=t;var r=zi;t=Vi;var i=32-ei(r)-1;r&=~(1<<i),n+=1;var s=32-ei(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zi=1<<32-ei(e)+i|n<<i|r,Vi=s+t}else zi=1<<s|n<<i|r,Vi=t}function Wv(t){t.return!==null&&(so(t,1),EC(t,1,0))}function Hv(t){for(;t===vf;)vf=ha[--pa],ha[pa]=null,xf=ha[--pa],ha[pa]=null;for(;t===wo;)wo=Or[--Nr],Or[Nr]=null,Vi=Or[--Nr],Or[Nr]=null,zi=Or[--Nr],Or[Nr]=null}var gr=null,pr=null,zt=!1,Jr=null;function CC(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,pr=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wo!==null?{id:zi,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,pr=null,!0):!1;default:return!1}}function ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ny(t){if(zt){var e=pr;if(e){var n=e;if(!k1(t,e)){if(ty(t))throw Error(ue(418));e=Ps(n.nextSibling);var r=gr;e&&k1(t,e)?CC(r,n):(t.flags=t.flags&-4097|2,zt=!1,gr=t)}}else{if(ty(t))throw Error(ue(418));t.flags=t.flags&-4097|2,zt=!1,gr=t}}}function R1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function cd(t){if(t!==gr)return!1;if(!zt)return R1(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xg(t.type,t.memoizedProps)),e&&(e=pr)){if(ty(t))throw TC(),Error(ue(418));for(;e;)CC(t,e),e=Ps(e.nextSibling)}if(R1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=gr?Ps(t.stateNode.nextSibling):null;return!0}function TC(){for(var t=pr;t;)t=Ps(t.nextSibling)}function $a(){pr=gr=null,zt=!1}function qv(t){Jr===null?Jr=[t]:Jr.push(t)}var oO=ss.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P1(t){var e=t._init;return e(t._payload)}function IC(t){function e(T,g){if(t){var b=T.deletions;b===null?(T.deletions=[g],T.flags|=16):b.push(g)}}function n(T,g){if(!t)return null;for(;g!==null;)e(T,g),g=g.sibling;return null}function r(T,g){for(T=new Map;g!==null;)g.key!==null?T.set(g.key,g):T.set(g.index,g),g=g.sibling;return T}function i(T,g){return T=Ns(T,g),T.index=0,T.sibling=null,T}function s(T,g,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<g?(T.flags|=2,g):b):(T.flags|=2,g)):(T.flags|=1048576,g)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,g,b,k){return g===null||g.tag!==6?(g=Vm(b,T.mode,k),g.return=T,g):(g=i(g,b),g.return=T,g)}function c(T,g,b,k){var M=b.type;return M===aa?f(T,g,b.props.children,k,b.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&P1(M)===g.type)?(k=i(g,b.props),k.ref=Ol(T,g,b),k.return=T,k):(k=Bd(b.type,b.key,b.props,null,T.mode,k),k.ref=Ol(T,g,b),k.return=T,k)}function u(T,g,b,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Bm(b,T.mode,k),g.return=T,g):(g=i(g,b.children||[]),g.return=T,g)}function f(T,g,b,k,M){return g===null||g.tag!==7?(g=vo(b,T.mode,k,M),g.return=T,g):(g=i(g,b),g.return=T,g)}function h(T,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vm(""+g,T.mode,b),g.return=T,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zu:return b=Bd(g.type,g.key,g.props,null,T.mode,b),b.ref=Ol(T,null,g),b.return=T,b;case oa:return g=Bm(g,T.mode,b),g.return=T,g;case ys:var k=g._init;return h(T,k(g._payload),b)}if(ql(g)||kl(g))return g=vo(g,T.mode,b,null),g.return=T,g;ud(T,g)}return null}function m(T,g,b,k){var M=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(T,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:return b.key===M?c(T,g,b,k):null;case oa:return b.key===M?u(T,g,b,k):null;case ys:return M=b._init,m(T,g,M(b._payload),k)}if(ql(b)||kl(b))return M!==null?null:f(T,g,b,k,null);ud(T,b)}return null}function E(T,g,b,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(b)||null,a(g,T,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zu:return T=T.get(k.key===null?b:k.key)||null,c(g,T,k,M);case oa:return T=T.get(k.key===null?b:k.key)||null,u(g,T,k,M);case ys:var N=k._init;return E(T,g,b,N(k._payload),M)}if(ql(k)||kl(k))return T=T.get(b)||null,f(g,T,k,M,null);ud(g,k)}return null}function C(T,g,b,k){for(var M=null,N=null,w=g,p=g=0,_=null;w!==null&&p<b.length;p++){w.index>p?(_=w,w=null):_=w.sibling;var S=m(T,w,b[p],k);if(S===null){w===null&&(w=_);break}t&&w&&S.alternate===null&&e(T,w),g=s(S,g,p),N===null?M=S:N.sibling=S,N=S,w=_}if(p===b.length)return n(T,w),zt&&so(T,p),M;if(w===null){for(;p<b.length;p++)w=h(T,b[p],k),w!==null&&(g=s(w,g,p),N===null?M=w:N.sibling=w,N=w);return zt&&so(T,p),M}for(w=r(T,w);p<b.length;p++)_=E(w,T,p,b[p],k),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?p:_.key),g=s(_,g,p),N===null?M=_:N.sibling=_,N=_);return t&&w.forEach(function(P){return e(T,P)}),zt&&so(T,p),M}function x(T,g,b,k){var M=kl(b);if(typeof M!="function")throw Error(ue(150));if(b=M.call(b),b==null)throw Error(ue(151));for(var N=M=null,w=g,p=g=0,_=null,S=b.next();w!==null&&!S.done;p++,S=b.next()){w.index>p?(_=w,w=null):_=w.sibling;var P=m(T,w,S.value,k);if(P===null){w===null&&(w=_);break}t&&w&&P.alternate===null&&e(T,w),g=s(P,g,p),N===null?M=P:N.sibling=P,N=P,w=_}if(S.done)return n(T,w),zt&&so(T,p),M;if(w===null){for(;!S.done;p++,S=b.next())S=h(T,S.value,k),S!==null&&(g=s(S,g,p),N===null?M=S:N.sibling=S,N=S);return zt&&so(T,p),M}for(w=r(T,w);!S.done;p++,S=b.next())S=E(w,T,p,S.value,k),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?p:S.key),g=s(S,g,p),N===null?M=S:N.sibling=S,N=S);return t&&w.forEach(function(j){return e(T,j)}),zt&&so(T,p),M}function I(T,g,b,k){if(typeof b=="object"&&b!==null&&b.type===aa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:e:{for(var M=b.key,N=g;N!==null;){if(N.key===M){if(M=b.type,M===aa){if(N.tag===7){n(T,N.sibling),g=i(N,b.props.children),g.return=T,T=g;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&P1(M)===N.type){n(T,N.sibling),g=i(N,b.props),g.ref=Ol(T,N,b),g.return=T,T=g;break e}n(T,N);break}else e(T,N);N=N.sibling}b.type===aa?(g=vo(b.props.children,T.mode,k,b.key),g.return=T,T=g):(k=Bd(b.type,b.key,b.props,null,T.mode,k),k.ref=Ol(T,g,b),k.return=T,T=k)}return o(T);case oa:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(T,g.sibling),g=i(g,b.children||[]),g.return=T,T=g;break e}else{n(T,g);break}else e(T,g);g=g.sibling}g=Bm(b,T.mode,k),g.return=T,T=g}return o(T);case ys:return N=b._init,I(T,g,N(b._payload),k)}if(ql(b))return C(T,g,b,k);if(kl(b))return x(T,g,b,k);ud(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(T,g.sibling),g=i(g,b),g.return=T,T=g):(n(T,g),g=Vm(b,T.mode,k),g.return=T,T=g),o(T)):n(T,g)}return I}var Fa=IC(!0),kC=IC(!1),bf=Ks(null),_f=null,ma=null,Kv=null;function Gv(){Kv=ma=_f=null}function Qv(t){var e=bf.current;Dt(bf),t._currentValue=e}function ry(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){_f=t,Kv=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(Kv!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(_f===null)throw Error(ue(308));ma=t,_f.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var ho=null;function Yv(t){ho===null?ho=[t]:ho.push(t)}function RC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ji(t,r)}function Ji(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function Xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ji(t,n)}return i=r.interleaved,i===null?(e.next=e,Yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ji(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}function A1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wf(t,e,n,r){var i=t.updateQueue;vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,f=u=c=null,a=s;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,x=a;switch(m=e,E=n,x.tag){case 1:if(C=x.payload,typeof C=="function"){h=C.call(E,h,m);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,m=typeof C=="function"?C.call(E,h,m):C,m==null)break e;h=Kt({},h,m);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=E,c=h):f=f.next=E,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=h}}function j1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var uu={},pi=Ks(uu),jc=Ks(uu),Oc=Ks(uu);function po(t){if(t===uu)throw Error(ue(174));return t}function Jv(t,e){switch(Ot(Oc,e),Ot(jc,t),Ot(pi,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dg(e,t)}Dt(pi),Ot(pi,e)}function za(){Dt(pi),Dt(jc),Dt(Oc)}function AC(t){po(Oc.current);var e=po(pi.current),n=Dg(e,t.type);e!==n&&(Ot(jc,t),Ot(pi,n))}function Zv(t){jc.current===t&&(Dt(pi),Dt(jc))}var Wt=Ks(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mm=[];function e0(){for(var t=0;t<Mm.length;t++)Mm[t]._workInProgressVersionPrimary=null;Mm.length=0}var Dd=ss.ReactCurrentDispatcher,Lm=ss.ReactCurrentBatchConfig,So=0,qt=null,yn=null,bn=null,Ef=!1,ac=!1,Nc=0,aO=0;function Ln(){throw Error(ue(321))}function t0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function n0(t,e,n,r,i,s){if(So=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?dO:fO,t=n(r,i),ac){s=0;do{if(ac=!1,Nc=0,25<=s)throw Error(ue(301));s+=1,bn=yn=null,e.updateQueue=null,Dd.current=hO,t=n(r,i)}while(ac)}if(Dd.current=Cf,e=yn!==null&&yn.next!==null,So=0,bn=yn=qt=null,Ef=!1,e)throw Error(ue(300));return t}function r0(){var t=Nc!==0;return Nc=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?qt.memoizedState=bn=t:bn=bn.next=t,bn}function Vr(){if(yn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=bn===null?qt.memoizedState:bn.next;if(e!==null)bn=e,yn=t;else{if(t===null)throw Error(ue(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},bn===null?qt.memoizedState=bn=t:bn=bn.next=t}return bn}function Mc(t,e){return typeof e=="function"?e(t):e}function Dm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var f=u.lane;if((So&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,qt.lanes|=f,Eo|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,ni(r,e.memoizedState)||(sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,Eo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $m(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ni(s,e.memoizedState)||(sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jC(){}function OC(t,e){var n=qt,r=Vr(),i=e(),s=!ni(r.memoizedState,i);if(s&&(r.memoizedState=i,sr=!0),r=r.queue,i0(LC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,Lc(9,MC.bind(null,n,r,i,e),void 0,null),wn===null)throw Error(ue(349));So&30||NC(n,e,i)}return i}function NC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MC(t,e,n,r){e.value=n,e.getSnapshot=r,DC(e)&&$C(t)}function LC(t,e,n){return n(function(){DC(e)&&$C(t)})}function DC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function $C(t){var e=Ji(t,1);e!==null&&ti(e,t,1,-1)}function O1(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:t},e.queue=t,t=t.dispatch=uO.bind(null,qt,t),[e.memoizedState,t]}function Lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FC(){return Vr().memoizedState}function $d(t,e,n,r){var i=li();qt.flags|=t,i.memoizedState=Lc(1|e,n,void 0,r===void 0?null:r)}function Ph(t,e,n,r){var i=Vr();r=r===void 0?null:r;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,r!==null&&t0(r,o.deps)){i.memoizedState=Lc(e,n,s,r);return}}qt.flags|=t,i.memoizedState=Lc(1|e,n,s,r)}function N1(t,e){return $d(8390656,8,t,e)}function i0(t,e){return Ph(2048,8,t,e)}function zC(t,e){return Ph(4,2,t,e)}function VC(t,e){return Ph(4,4,t,e)}function BC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UC(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,BC.bind(null,e,t),n)}function s0(){}function WC(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HC(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&t0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qC(t,e,n){return So&21?(ni(n,e)||(n=XE(),qt.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function lO(t,e){var n=Ct;Ct=n!==0&&4>n?n:4,t(!0);var r=Lm.transition;Lm.transition={};try{t(!1),e()}finally{Ct=n,Lm.transition=r}}function KC(){return Vr().memoizedState}function cO(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GC(t))QC(e,n);else if(n=RC(t,e,n,r),n!==null){var i=Jn();ti(n,t,r,i),YC(n,e,r)}}function uO(t,e,n){var r=Os(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GC(t))QC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ni(a,o)){var c=e.interleaved;c===null?(i.next=i,Yv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=RC(t,e,i,r),n!==null&&(i=Jn(),ti(n,t,r,i),YC(n,e,r))}}function GC(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function QC(t,e){ac=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}var Cf={readContext:zr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},dO={readContext:zr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:N1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,BC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cO.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:O1,useDebugValue:s0,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=O1(!1),e=t[0];return t=lO.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,i=li();if(zt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),wn===null)throw Error(ue(349));So&30||NC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,N1(LC.bind(null,r,s,t),[t]),r.flags|=2048,Lc(9,MC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=li(),e=wn.identifierPrefix;if(zt){var n=Vi,r=zi;n=(r&~(1<<32-ei(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fO={readContext:zr,useCallback:WC,useContext:zr,useEffect:i0,useImperativeHandle:UC,useInsertionEffect:zC,useLayoutEffect:VC,useMemo:HC,useReducer:Dm,useRef:FC,useState:function(){return Dm(Mc)},useDebugValue:s0,useDeferredValue:function(t){var e=Vr();return qC(e,yn.memoizedState,t)},useTransition:function(){var t=Dm(Mc)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:jC,useSyncExternalStore:OC,useId:KC,unstable_isNewReconciler:!1},hO={readContext:zr,useCallback:WC,useContext:zr,useEffect:i0,useImperativeHandle:UC,useInsertionEffect:zC,useLayoutEffect:VC,useMemo:HC,useReducer:$m,useRef:FC,useState:function(){return $m(Mc)},useDebugValue:s0,useDeferredValue:function(t){var e=Vr();return yn===null?e.memoizedState=t:qC(e,yn.memoizedState,t)},useTransition:function(){var t=$m(Mc)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:jC,useSyncExternalStore:OC,useId:KC,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ah={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=Os(t),s=Hi(r,i);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=Os(t),s=Hi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=Os(t),i=Hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,r),e!==null&&(ti(e,t,r,n),Ld(e,t,r))}};function M1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kc(n,r)||!kc(i,s):!0}function XC(t,e,n){var r=!1,i=Fs,s=e.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=ar(e)?_o:qn.current,r=e.contextTypes,s=(r=r!=null)?Da(t,i):Fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function sy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=ar(e)?_o:qn.current,i.context=Da(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ah.enqueueReplaceState(i,i.state,null),wf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Va(t,e){try{var n="",r=e;do n+=VA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pO=typeof WeakMap=="function"?WeakMap:Map;function JC(t,e,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){If||(If=!0,gy=r),oy(t,e)},n}function ZC(t,e,n){n=Hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oy(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kO.bind(null,t,e,n),e.then(t,t))}function $1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hi(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var mO=ss.ReactCurrentOwner,sr=!1;function Yn(t,e,n,r){e.child=t===null?kC(e,null,n,r):Fa(e,t.child,n,r)}function z1(t,e,n,r,i){n=n.render;var s=e.ref;return Ea(e,i),r=n0(t,e,n,r,s,i),n=r0(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(zt&&n&&Wv(e),e.flags|=1,Yn(t,e,r,i),e.child)}function V1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eT(t,e,s,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kc,n(o,r)&&t.ref===e.ref)return Zi(t,e,i)}return e.flags|=1,t=Ns(s,r),t.ref=e.ref,t.return=e,e.child=t}function eT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kc(s,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,Zi(t,e,i)}return ay(t,e,n,r,i)}function tT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ya,fr),fr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(ya,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ot(ya,fr),fr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ot(ya,fr),fr|=r;return Yn(t,e,i,n),e.child}function nT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ay(t,e,n,r,i){var s=ar(n)?_o:qn.current;return s=Da(e,s),Ea(e,i),n=n0(t,e,n,r,s,i),r=r0(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(zt&&r&&Wv(e),e.flags|=1,Yn(t,e,n,i),e.child)}function B1(t,e,n,r,i){if(ar(n)){var s=!0;yf(e)}else s=!1;if(Ea(e,i),e.stateNode===null)Fd(t,e),XC(e,n,r),sy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=ar(n)?_o:qn.current,u=Da(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&L1(e,o,r,u),vs=!1;var m=e.memoizedState;o.state=m,wf(e,r,o,i),c=e.memoizedState,a!==r||m!==c||or.current||vs?(typeof f=="function"&&(iy(e,n,f,r),c=e.memoizedState),(a=vs||M1(e,n,a,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yr(e.type,a),o.props=u,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=ar(n)?_o:qn.current,c=Da(e,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&L1(e,o,r,c),vs=!1,m=e.memoizedState,o.state=m,wf(e,r,o,i);var C=e.memoizedState;a!==h||m!==C||or.current||vs?(typeof E=="function"&&(iy(e,n,E,r),C=e.memoizedState),(u=vs||M1(e,n,u,r,m,C,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ly(t,e,n,r,s,i)}function ly(t,e,n,r,i,s){nT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&I1(e,n,!1),Zi(t,e,s);r=e.stateNode,mO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,s),e.child=Fa(e,null,a,s)):Yn(t,e,a,s),e.memoizedState=r.state,i&&I1(e,n,!0),e.child}function rT(t){var e=t.stateNode;e.pendingContext?T1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T1(t,e.context,!1),Jv(t,e.containerInfo)}function U1(t,e,n,r,i){return $a(),qv(i),e.flags|=256,Yn(t,e,n,r),e.child}var cy={dehydrated:null,treeContext:null,retryLane:0};function uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function iT(t,e,n){var r=e.pendingProps,i=Wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(Wt,i&1),t===null)return ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nh(o,r,0,null),t=vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uy(n),e.memoizedState=cy,t):o0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ns(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ns(a,s):(s=vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cy,r}return s=t.child,t=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function o0(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dd(t,e,n,r){return r!==null&&qv(r),Fa(e,t.child,null,n),t=o0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fm(Error(ue(422))),dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nh({mode:"visible",children:r.children},i,0,null),s=vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=uy(o),e.memoizedState=cy,s);if(!(e.mode&1))return dd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ue(419)),r=Fm(s,r,void 0),dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,sr||a){if(r=wn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ji(t,i),ti(r,t,i,-1))}return f0(),r=Fm(Error(ue(421))),dd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=Ps(i.nextSibling),gr=e,zt=!0,Jr=null,t!==null&&(Or[Nr++]=zi,Or[Nr++]=Vi,Or[Nr++]=wo,zi=t.id,Vi=t.overflow,wo=e),e=o0(e,r.children),e.flags|=4096,e)}function W1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ry(t.return,e,n)}function zm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yn(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W1(t,n,e);else if(t.tag===19)W1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zm(e,!0,n,null,s);break;case"together":zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yO(t,e,n){switch(e.tag){case 3:rT(e),$a();break;case 5:AC(e);break;case 1:ar(e.type)&&yf(e);break;case 4:Jv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ot(bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?iT(t,e,n):(Ot(Wt,Wt.current&1),t=Zi(t,e,n),t!==null?t.sibling:null);Ot(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,tT(t,e,n)}return Zi(t,e,n)}var oT,dy,aT,lT;oT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dy=function(){};aT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(pi.current);var s=null;switch(n){case"input":i=Og(t,i),r=Og(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=Lg(t,i),r=Lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mf)}$g(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_c.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_c.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vO(t,e,n){var r=e.pendingProps;switch(Hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return ar(e.type)&&gf(),Dn(e),null;case 3:return r=e.stateNode,za(),Dt(or),Dt(qn),e0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(xy(Jr),Jr=null))),dy(t,e),Dn(e),null;case 5:Zv(e);var i=po(Oc.current);if(n=e.type,t!==null&&e.stateNode!=null)aT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Dn(e),null}if(t=po(pi.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[di]=e,r[Ac]=s,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Gl.length;i++)Mt(Gl[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Zb(r,s),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",r);break;case"textarea":t1(r,s),Mt("invalid",r)}$g(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,t),i=["children",""+a]):_c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":ed(r),e1(r,s,!0);break;case"textarea":ed(r),n1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[di]=e,t[Ac]=r,oT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fg(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gl.length;i++)Mt(Gl[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":Zb(t,r),i=Og(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":t1(t,r),i=Lg(t,r),Mt("invalid",t);break;default:i=r}$g(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?FE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wc(t,c):typeof c=="number"&&wc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_c.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Mt("scroll",t):c!=null&&Pv(t,s,c,o))}switch(n){case"input":ed(t),e1(t,r,!1);break;case"textarea":ed(t),n1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ba(t,!!r.multiple,s,!1):r.defaultValue!=null&&ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)lT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=po(Oc.current),po(pi.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(s=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Dn(e),null;case 13:if(Dt(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&pr!==null&&e.mode&1&&!(e.flags&128))TC(),$a(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[di]=e}else $a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),s=!1}else Jr!==null&&(xy(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?vn===0&&(vn=3):f0())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return za(),dy(t,e),t===null&&Rc(e.stateNode.containerInfo),Dn(e),null;case 10:return Qv(e.type._context),Dn(e),null;case 17:return ar(e.type)&&gf(),Dn(e),null;case 19:if(Dt(Wt),s=e.memoizedState,s===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nl(s,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sf(t),o!==null){for(e.flags|=128,Nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(Wt,Wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>Ba&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zt)return Dn(e),null}else 2*nn()-s.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,n=Wt.current,Ot(Wt,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return d0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function xO(t,e){switch(Hv(e),e.tag){case 1:return ar(e.type)&&gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),Dt(or),Dt(qn),e0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zv(e),null;case 13:if(Dt(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));$a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Wt),null;case 4:return za(),null;case 10:return Qv(e.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var fd=!1,Wn=!1,bO=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function fy(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var H1=!1;function _O(t,e){if(Qg=ff,t=hC(),Uv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++f===r&&(c=o),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},ff=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var x=C.memoizedProps,I=C.memoizedState,T=e.stateNode,g=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:Yr(e.type,x),I);T.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(k){Zt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return C=H1,H1=!1,C}function lc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fy(e,n,s)}i=i.next}while(i!==r)}}function jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cT(t){var e=t.alternate;e!==null&&(t.alternate=null,cT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Ac],delete e[Zg],delete e[rO],delete e[iO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uT(t){return t.tag===5||t.tag===3||t.tag===4}function q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mf));else if(r!==4&&(t=t.child,t!==null))for(py(t,e,n),t=t.sibling;t!==null;)py(t,e,n),t=t.sibling}function my(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(my(t,e,n),t=t.sibling;t!==null;)my(t,e,n),t=t.sibling}var In=null,Xr=!1;function ps(t,e,n){for(n=n.child;n!==null;)dT(t,e,n),n=n.sibling}function dT(t,e,n){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:Wn||ga(n,e);case 6:var r=In,i=Xr;In=null,ps(t,e,n),In=r,Xr=i,In!==null&&(Xr?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(Xr?(t=In,n=n.stateNode,t.nodeType===8?Om(t.parentNode,n):t.nodeType===1&&Om(t,n),Tc(t)):Om(In,n.stateNode));break;case 4:r=In,i=Xr,In=n.stateNode.containerInfo,Xr=!0,ps(t,e,n),In=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fy(n,e,o),i=i.next}while(i!==r)}ps(t,e,n);break;case 1:if(!Wn&&(ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,ps(t,e,n),Wn=r):ps(t,e,n);break;default:ps(t,e,n)}}function K1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bO),e.forEach(function(r){var i=PO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,Xr=!1;break e;case 3:In=a.stateNode.containerInfo,Xr=!0;break e;case 4:In=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(In===null)throw Error(ue(160));dT(s,o,i),In=null,Xr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Zt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fT(e,t),e=e.sibling}function fT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),ai(t),r&4){try{lc(3,t,t.return),jh(3,t)}catch(x){Zt(t,t.return,x)}try{lc(5,t,t.return)}catch(x){Zt(t,t.return,x)}}break;case 1:Qr(e,t),ai(t),r&512&&n!==null&&ga(n,n.return);break;case 5:if(Qr(e,t),ai(t),r&512&&n!==null&&ga(n,n.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(x){Zt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NE(i,s),Fg(a,o);var u=Fg(a,s);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?FE(i,h):f==="dangerouslySetInnerHTML"?DE(i,h):f==="children"?wc(i,h):Pv(i,f,h,u)}switch(a){case"input":Ng(i,s);break;case"textarea":ME(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?ba(i,!!s.multiple,E,!1):m!==!!s.multiple&&(s.defaultValue!=null?ba(i,!!s.multiple,s.defaultValue,!0):ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ac]=s}catch(x){Zt(t,t.return,x)}}break;case 6:if(Qr(e,t),ai(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Zt(t,t.return,x)}}break;case 3:if(Qr(e,t),ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(x){Zt(t,t.return,x)}break;case 4:Qr(e,t),ai(t);break;case 13:Qr(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(c0=nn())),r&4&&K1(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(u=Wn)||f,Qr(e,t),Wn=u):Qr(e,t),ai(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ke=t,f=t.child;f!==null;){for(h=ke=f;ke!==null;){switch(m=ke,E=m.child,m.tag){case 0:case 11:case 14:case 15:lc(4,m,m.return);break;case 1:ga(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(x){Zt(r,n,x)}}break;case 5:ga(m,m.return);break;case 22:if(m.memoizedState!==null){Q1(h);continue}}E!==null?(E.return=m,ke=E):Q1(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$E("display",o))}catch(x){Zt(t,t.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Zt(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qr(e,t),ai(t),r&4&&K1(t);break;case 21:break;default:Qr(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uT(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wc(i,""),r.flags&=-33);var s=q1(t);my(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=q1(t);py(t,a,o);break;default:throw Error(ue(161))}}catch(c){Zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wO(t,e,n){ke=t,hT(t)}function hT(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var i=ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fd;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Wn;a=fd;var u=Wn;if(fd=o,(Wn=c)&&!u)for(ke=i;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?Y1(i):c!==null?(c.return=o,ke=c):Y1(i);for(;s!==null;)ke=s,hT(s),s=s.sibling;ke=i,fd=a,Wn=u}G1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ke=s):G1(t)}}function G1(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&j1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Wn||e.flags&512&&hy(e)}catch(m){Zt(e,e.return,m)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function Q1(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function Y1(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jh(4,e)}catch(c){Zt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Zt(e,i,c)}}var s=e.return;try{hy(e)}catch(c){Zt(e,s,c)}break;case 5:var o=e.return;try{hy(e)}catch(c){Zt(e,o,c)}}}catch(c){Zt(e,e.return,c)}if(e===t){ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ke=a;break}ke=e.return}}var SO=Math.ceil,Tf=ss.ReactCurrentDispatcher,a0=ss.ReactCurrentOwner,Dr=ss.ReactCurrentBatchConfig,yt=0,wn=null,dn=null,Pn=0,fr=0,ya=Ks(0),vn=0,Dc=null,Eo=0,Oh=0,l0=0,cc=null,rr=null,c0=0,Ba=1/0,Oi=null,If=!1,gy=null,js=null,hd=!1,Ss=null,kf=0,uc=0,yy=null,zd=-1,Vd=0;function Jn(){return yt&6?nn():zd!==-1?zd:zd=nn()}function Os(t){return t.mode&1?yt&2&&Pn!==0?Pn&-Pn:oO.transition!==null?(Vd===0&&(Vd=XE()),Vd):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:iC(t.type)),t):1}function ti(t,e,n,r){if(50<uc)throw uc=0,yy=null,Error(ue(185));au(t,n,r),(!(yt&2)||t!==wn)&&(t===wn&&(!(yt&2)&&(Oh|=n),vn===4&&_s(t,Pn)),lr(t,r),n===1&&yt===0&&!(e.mode&1)&&(Ba=nn()+500,Rh&&Gs()))}function lr(t,e){var n=t.callbackNode;oj(t,e);var r=df(t,t===wn?Pn:0);if(r===0)n!==null&&s1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s1(n),e===1)t.tag===0?sO(X1.bind(null,t)):SC(X1.bind(null,t)),tO(function(){!(yt&6)&&Gs()}),n=null;else{switch(JE(r)){case 1:n=Mv;break;case 4:n=QE;break;case 16:n=uf;break;case 536870912:n=YE;break;default:n=uf}n=_T(n,pT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pT(t,e){if(zd=-1,Vd=0,yt&6)throw Error(ue(327));var n=t.callbackNode;if(Ca()&&t.callbackNode!==n)return null;var r=df(t,t===wn?Pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rf(t,r);else{e=r;var i=yt;yt|=2;var s=gT();(wn!==t||Pn!==e)&&(Oi=null,Ba=nn()+500,yo(t,e));do try{TO();break}catch(a){mT(t,a)}while(!0);Gv(),Tf.current=s,yt=i,dn!==null?e=0:(wn=null,Pn=0,e=vn)}if(e!==0){if(e===2&&(i=Wg(t),i!==0&&(r=i,e=vy(t,i))),e===1)throw n=Dc,yo(t,0),_s(t,r),lr(t,nn()),n;if(e===6)_s(t,r);else{if(i=t.current.alternate,!(r&30)&&!EO(i)&&(e=Rf(t,r),e===2&&(s=Wg(t),s!==0&&(r=s,e=vy(t,s))),e===1))throw n=Dc,yo(t,0),_s(t,r),lr(t,nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:oo(t,rr,Oi);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=c0+500-nn(),10<e)){if(df(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(oo.bind(null,t,rr,Oi),e);break}oo(t,rr,Oi);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ei(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SO(r/1960))-r,10<r){t.timeoutHandle=Jg(oo.bind(null,t,rr,Oi),r);break}oo(t,rr,Oi);break;case 5:oo(t,rr,Oi);break;default:throw Error(ue(329))}}}return lr(t,nn()),t.callbackNode===n?pT.bind(null,t):null}function vy(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(yo(t,e).flags|=256),t=Rf(t,e),t!==2&&(e=rr,rr=n,e!==null&&xy(e)),t}function xy(t){rr===null?rr=t:rr.push.apply(rr,t)}function EO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~l0,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ei(e),r=1<<n;t[n]=-1,e&=~r}}function X1(t){if(yt&6)throw Error(ue(327));Ca();var e=df(t,0);if(!(e&1))return lr(t,nn()),null;var n=Rf(t,e);if(t.tag!==0&&n===2){var r=Wg(t);r!==0&&(e=r,n=vy(t,r))}if(n===1)throw n=Dc,yo(t,0),_s(t,e),lr(t,nn()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oo(t,rr,Oi),lr(t,nn()),null}function u0(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(Ba=nn()+500,Rh&&Gs())}}function Co(t){Ss!==null&&Ss.tag===0&&!(yt&6)&&Ca();var e=yt;yt|=1;var n=Dr.transition,r=Ct;try{if(Dr.transition=null,Ct=1,t)return t()}finally{Ct=r,Dr.transition=n,yt=e,!(yt&6)&&Gs()}}function d0(){fr=ya.current,Dt(ya)}function yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eO(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(Hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gf();break;case 3:za(),Dt(or),Dt(qn),e0();break;case 5:Zv(r);break;case 4:za();break;case 13:Dt(Wt);break;case 19:Dt(Wt);break;case 10:Qv(r.type._context);break;case 22:case 23:d0()}n=n.return}if(wn=t,dn=t=Ns(t.current,null),Pn=fr=e,vn=0,Dc=null,l0=Oh=Eo=0,rr=cc=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ho=null}return t}function mT(t,e){do{var n=dn;try{if(Gv(),Dd.current=Cf,Ef){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}if(So=0,bn=yn=qt=null,ac=!1,Nc=0,a0.current=null,n===null||n.return===null){vn=1,Dc=e,dn=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Pn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=$1(o);if(E!==null){E.flags&=-257,F1(E,o,a,s,e),E.mode&1&&D1(s,u,e),e=E,c=u;var C=e.updateQueue;if(C===null){var x=new Set;x.add(c),e.updateQueue=x}else C.add(c);break e}else{if(!(e&1)){D1(s,u,e),f0();break e}c=Error(ue(426))}}else if(zt&&a.mode&1){var I=$1(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),F1(I,o,a,s,e),qv(Va(c,a));break e}}s=c=Va(c,a),vn!==4&&(vn=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=JC(s,c,e);A1(s,T);break e;case 1:a=c;var g=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(js===null||!js.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=ZC(s,a,e);A1(s,k);break e}}s=s.return}while(s!==null)}vT(n)}catch(M){e=M,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function gT(){var t=Tf.current;return Tf.current=Cf,t===null?Cf:t}function f0(){(vn===0||vn===3||vn===2)&&(vn=4),wn===null||!(Eo&268435455)&&!(Oh&268435455)||_s(wn,Pn)}function Rf(t,e){var n=yt;yt|=2;var r=gT();(wn!==t||Pn!==e)&&(Oi=null,yo(t,e));do try{CO();break}catch(i){mT(t,i)}while(!0);if(Gv(),yt=n,Tf.current=r,dn!==null)throw Error(ue(261));return wn=null,Pn=0,vn}function CO(){for(;dn!==null;)yT(dn)}function TO(){for(;dn!==null&&!XA();)yT(dn)}function yT(t){var e=bT(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?vT(t):dn=e,a0.current=null}function vT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xO(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,dn=null;return}}else if(n=vO(n,e,fr),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);vn===0&&(vn=5)}function oo(t,e,n){var r=Ct,i=Dr.transition;try{Dr.transition=null,Ct=1,IO(t,e,n,r)}finally{Dr.transition=i,Ct=r}return null}function IO(t,e,n,r){do Ca();while(Ss!==null);if(yt&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aj(t,s),t===wn&&(dn=wn=null,Pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,_T(uf,function(){return Ca(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dr.transition,Dr.transition=null;var o=Ct;Ct=1;var a=yt;yt|=4,a0.current=null,_O(t,n),fT(n,t),Kj(Yg),ff=!!Qg,Yg=Qg=null,t.current=n,wO(n),JA(),yt=a,Ct=o,Dr.transition=s}else t.current=n;if(hd&&(hd=!1,Ss=t,kf=i),s=t.pendingLanes,s===0&&(js=null),tj(n.stateNode),lr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=gy,gy=null,t;return kf&1&&t.tag!==0&&Ca(),s=t.pendingLanes,s&1?t===yy?uc++:(uc=0,yy=t):uc=0,Gs(),null}function Ca(){if(Ss!==null){var t=JE(kf),e=Dr.transition,n=Ct;try{if(Dr.transition=null,Ct=16>t?16:t,Ss===null)var r=!1;else{if(t=Ss,Ss=null,kf=0,yt&6)throw Error(ue(331));var i=yt;for(yt|=4,ke=t.current;ke!==null;){var s=ke,o=s.child;if(ke.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ke=u;ke!==null;){var f=ke;switch(f.tag){case 0:case 11:case 15:lc(8,f,s)}var h=f.child;if(h!==null)h.return=f,ke=h;else for(;ke!==null;){f=ke;var m=f.sibling,E=f.return;if(cT(f),f===u){ke=null;break}if(m!==null){m.return=E,ke=m;break}ke=E}}}var C=s.alternate;if(C!==null){var x=C.child;if(x!==null){C.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ke=o;else e:for(;ke!==null;){if(s=ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lc(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ke=T;break e}ke=s.return}}var g=t.current;for(ke=g;ke!==null;){o=ke;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ke=b;else e:for(o=g;ke!==null;){if(a=ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jh(9,a)}}catch(M){Zt(a,a.return,M)}if(a===o){ke=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ke=k;break e}ke=a.return}}if(yt=i,Gs(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(Eh,t)}catch{}r=!0}return r}finally{Ct=n,Dr.transition=e}}return!1}function J1(t,e,n){e=Va(n,e),e=JC(t,e,1),t=As(t,e,1),e=Jn(),t!==null&&(au(t,1,e),lr(t,e))}function Zt(t,e,n){if(t.tag===3)J1(t,t,n);else for(;e!==null;){if(e.tag===3){J1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=Va(n,t),t=ZC(e,t,1),e=As(e,t,1),t=Jn(),e!==null&&(au(e,1,t),lr(e,t));break}}e=e.return}}function kO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(Pn&n)===n&&(vn===4||vn===3&&(Pn&130023424)===Pn&&500>nn()-c0?yo(t,0):l0|=n),lr(t,e)}function xT(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=Jn();t=Ji(t,e),t!==null&&(au(t,e,n),lr(t,n))}function RO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xT(t,n)}function PO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),xT(t,n)}var bT;bT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,yO(t,e,n);sr=!!(t.flags&131072)}else sr=!1,zt&&e.flags&1048576&&EC(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var i=Da(e,qn.current);Ea(e,n),i=n0(null,e,r,t,i,n);var s=r0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(s=!0,yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xv(e),i.updater=Ah,e.stateNode=i,i._reactInternals=e,sy(e,r,t,n),e=ly(null,e,r,!0,s,n)):(e.tag=0,zt&&s&&Wv(e),Yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jO(r),t=Yr(r,t),i){case 0:e=ay(null,e,r,t,n);break e;case 1:e=B1(null,e,r,t,n);break e;case 11:e=z1(null,e,r,t,n);break e;case 14:e=V1(null,e,r,Yr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),ay(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),B1(t,e,r,i,n);case 3:e:{if(rT(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PC(t,e),wf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Va(Error(ue(423)),e),e=U1(t,e,r,n,i);break e}else if(r!==i){i=Va(Error(ue(424)),e),e=U1(t,e,r,n,i);break e}else for(pr=Ps(e.stateNode.containerInfo.firstChild),gr=e,zt=!0,Jr=null,n=kC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($a(),r===i){e=Zi(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 5:return AC(e),t===null&&ny(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xg(r,i)?o=null:s!==null&&Xg(r,s)&&(e.flags|=32),nT(t,e),Yn(t,e,o,n),e.child;case 6:return t===null&&ny(e),null;case 13:return iT(t,e,n);case 4:return Jv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),z1(t,e,r,i,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ot(bf,r._currentValue),r._currentValue=o,s!==null)if(ni(s.value,o)){if(s.children===i.children&&!or.current){e=Zi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Hi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ry(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ry(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ea(e,n),i=zr(i),r=r(i),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),V1(t,e,r,i,n);case 15:return eT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Fd(t,e),e.tag=1,ar(r)?(t=!0,yf(e)):t=!1,Ea(e,n),XC(e,r,i),sy(e,r,i,n),ly(null,e,r,!0,t,n);case 19:return sT(t,e,n);case 22:return tT(t,e,n)}throw Error(ue(156,e.tag))};function _T(t,e){return GE(t,e)}function AO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new AO(t,e,n,r)}function h0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jO(t){if(typeof t=="function")return h0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jv)return 11;if(t===Ov)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case aa:return vo(n.children,i,s,e);case Av:o=8,i|=8;break;case Rg:return t=Lr(12,n,e,i|2),t.elementType=Rg,t.lanes=s,t;case Pg:return t=Lr(13,n,e,i),t.elementType=Pg,t.lanes=s,t;case Ag:return t=Lr(19,n,e,i),t.elementType=Ag,t.lanes=s,t;case AE:return Nh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:o=10;break e;case PE:o=9;break e;case jv:o=11;break e;case Ov:o=14;break e;case ys:o=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Lr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vo(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=AE,t.lanes=n,t.stateNode={isHidden:!1},t}function Vm(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function Bm(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wm(0),this.expirationTimes=wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p0(t,e,n,r,i,s,o,a,c){return t=new OO(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(s),t}function NO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wT(t){if(!t)return Fs;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(ar(n))return wC(t,n,e)}return e}function ST(t,e,n,r,i,s,o,a,c){return t=p0(n,r,!0,t,i,s,o,a,c),t.context=wT(null),n=t.current,r=Jn(),i=Os(n),s=Hi(r,i),s.callback=e??null,As(n,s,i),t.current.lanes=i,au(t,i,r),lr(t,r),t}function Mh(t,e,n,r){var i=e.current,s=Jn(),o=Os(i);return n=wT(n),e.context===null?e.context=n:e.pendingContext=n,e=Hi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(i,e,o),t!==null&&(ti(t,i,o,s),Ld(t,i,o)),o}function Pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m0(t,e){Z1(t,e),(t=t.alternate)&&Z1(t,e)}function MO(){return null}var ET=typeof reportError=="function"?reportError:function(t){console.error(t)};function g0(t){this._internalRoot=t}Lh.prototype.render=g0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Mh(t,e,null,null)};Lh.prototype.unmount=g0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){Mh(null,t,null,null)}),e[Xi]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=tC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&rC(t)}};function y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function LO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Pf(o);s.call(u)}}var o=ST(e,r,t,0,null,!1,!1,"",e_);return t._reactRootContainer=o,t[Xi]=o.current,Rc(t.nodeType===8?t.parentNode:t),Co(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Pf(c);a.call(u)}}var c=p0(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=c,t[Xi]=c.current,Rc(t.nodeType===8?t.parentNode:t),Co(function(){Mh(e,c,n,r)}),c}function $h(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Pf(o);a.call(c)}}Mh(e,o,t,i)}else o=LO(n,e,t,i,r);return Pf(o)}ZE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(Lv(e,n|1),lr(e,nn()),!(yt&6)&&(Ba=nn()+500,Gs()))}break;case 13:Co(function(){var r=Ji(t,1);if(r!==null){var i=Jn();ti(r,t,1,i)}}),m0(t,1)}};Dv=function(t){if(t.tag===13){var e=Ji(t,134217728);if(e!==null){var n=Jn();ti(e,t,134217728,n)}m0(t,134217728)}};eC=function(t){if(t.tag===13){var e=Os(t),n=Ji(t,e);if(n!==null){var r=Jn();ti(n,t,e,r)}m0(t,e)}};tC=function(){return Ct};nC=function(t,e){var n=Ct;try{return Ct=t,e()}finally{Ct=n}};Vg=function(t,e,n){switch(e){case"input":if(Ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kh(r);if(!i)throw Error(ue(90));OE(r),Ng(r,i)}}}break;case"textarea":ME(t,n);break;case"select":e=n.value,e!=null&&ba(t,!!n.multiple,e,!1)}};BE=u0;UE=Co;var DO={usingClientEntryPoint:!1,Events:[cu,da,kh,zE,VE,u0]},Ml={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$O={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||MO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Eh=pd.inject($O),hi=pd}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DO;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(e))throw Error(ue(200));return NO(t,e,null,n)};Sr.createRoot=function(t,e){if(!y0(t))throw Error(ue(299));var n=!1,r="",i=ET;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=p0(t,1,!1,null,null,n,!1,r,i),t[Xi]=e.current,Rc(t.nodeType===8?t.parentNode:t),new g0(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=qE(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return Co(t)};Sr.hydrate=function(t,e,n){if(!Dh(e))throw Error(ue(200));return $h(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!y0(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ET;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ST(e,null,t,1,n??null,i,!1,s,o),t[Xi]=e.current,Rc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};Sr.render=function(t,e,n){if(!Dh(e))throw Error(ue(200));return $h(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(ue(40));return t._reactRootContainer?(Co(function(){$h(null,null,t,!1,function(){t._reactRootContainer=null,t[Xi]=null})}),!0):!1};Sr.unstable_batchedUpdates=u0;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return $h(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(t){console.error(t)}}CT(),CE.exports=Sr;var v0=CE.exports;const md=xh(v0);var t_=v0;Ig.createRoot=t_.createRoot,Ig.hydrateRoot=t_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}var Es;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Es||(Es={}));const n_="popstate";function FO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=Do(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),by("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof s=="string"?s:Af(s))}function r(i,s){x0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return VO(e,n,r,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zO(){return Math.random().toString(36).substr(2,8)}function r_(t,e){return{usr:t.state,key:t.key,idx:e}}function by(t,e,n,r){return n===void 0&&(n=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||zO()})}function Af(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Es.Pop,c=null,u=f();u==null&&(u=0,o.replaceState($c({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=Es.Pop;let I=f(),T=I==null?null:I-u;u=I,c&&c({action:a,location:x.location,delta:T})}function m(I,T){a=Es.Push;let g=by(x.location,I,T);n&&n(g,I),u=f()+1;let b=r_(g,u),k=x.createHref(g);try{o.pushState(b,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&c&&c({action:a,location:x.location,delta:1})}function E(I,T){a=Es.Replace;let g=by(x.location,I,T);n&&n(g,I),u=f();let b=r_(g,u),k=x.createHref(g);o.replaceState(b,"",k),s&&c&&c({action:a,location:x.location,delta:0})}function C(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof I=="string"?I:Af(I);return g=g.replace(/ $/,"%20"),sn(T,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,T)}let x={get action(){return a},get location(){return t(i,o)},listen(I){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(n_,h),c=I,()=>{i.removeEventListener(n_,h),c=null}},createHref(I){return e(i,I)},createURL:C,encodeLocation(I){let T=C(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:E,go(I){return o.go(I)}};return x}var i_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i_||(i_={}));function BO(t,e,n){return n===void 0&&(n="/"),UO(t,e,n)}function UO(t,e,n,r){let i=typeof e=="string"?Do(e):e,s=b0(i.pathname||"/",n);if(s==null)return null;let o=TT(t);WO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=nN(s);a=ZO(o[c],u)}return a}function TT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(sn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ms([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TT(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:XO(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of IT(s.path))i(s,o,c)}),e}function IT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=IT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function WO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HO=/^:[\w-]+$/,qO=3,KO=2,GO=1,QO=10,YO=-2,s_=t=>t==="*";function XO(t,e){let n=t.split("/"),r=n.length;return n.some(s_)&&(r+=YO),e&&(r+=KO),n.filter(i=>!s_(i)).reduce((i,s)=>i+(HO.test(s)?qO:s===""?GO:QO),r)}function JO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=eN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ms([s,h.pathname]),pathnameBase:oN(Ms([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Ms([s,h.pathnameBase]))}return o}function eN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const C=a[h];return E&&!C?u[m]=void 0:u[m]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return x0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:iN(n,e):e,search:aN(r),hash:lN(i)}}function iN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Um(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _0(t,e){let n=sN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function w0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Do(t):(i=$c({},t),sn(!i.pathname||!i.pathname.includes("?"),Um("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),Um("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),Um("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let c=rN(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),oN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kT=["post","put","patch","delete"];new Set(kT);const uN=["get",...kT];new Set(uN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}const S0=v.createContext(null),dN=v.createContext(null),Qs=v.createContext(null),Fh=v.createContext(null),os=v.createContext({outlet:null,matches:[],isDataRoute:!1}),RT=v.createContext(null);function fN(t,e){let{relative:n}=e===void 0?{}:e;ll()||sn(!1);let{basename:r,navigator:i}=v.useContext(Qs),{hash:s,pathname:o,search:a}=AT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ms([r,o])),i.createHref({pathname:c,search:a,hash:s})}function ll(){return v.useContext(Fh)!=null}function Ys(){return ll()||sn(!1),v.useContext(Fh).location}function PT(t){v.useContext(Qs).static||v.useLayoutEffect(t)}function Cr(){let{isDataRoute:t}=v.useContext(os);return t?CN():hN()}function hN(){ll()||sn(!1);let t=v.useContext(S0),{basename:e,future:n,navigator:r}=v.useContext(Qs),{matches:i}=v.useContext(os),{pathname:s}=Ys(),o=JSON.stringify(_0(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return PT(()=>{a.current=!0}),v.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=w0(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ms([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function du(){let{matches:t}=v.useContext(os),e=t[t.length-1];return e?e.params:{}}function AT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Qs),{matches:i}=v.useContext(os),{pathname:s}=Ys(),o=JSON.stringify(_0(i,r.v7_relativeSplatPath));return v.useMemo(()=>w0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pN(t,e){return mN(t,e)}function mN(t,e,n,r){ll()||sn(!1);let{navigator:i}=v.useContext(Qs),{matches:s}=v.useContext(os),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ys(),f;if(e){var h;let I=typeof e=="string"?Do(e):e;c==="/"||(h=I.pathname)!=null&&h.startsWith(c)||sn(!1),f=I}else f=u;let m=f.pathname||"/",E=m;if(c!=="/"){let I=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=BO(t,{pathname:E}),x=bN(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Ms([c,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Ms([c,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&x?v.createElement(Fh.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Es.Pop}},x):x}function gN(){let t=EN(),e=cN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const yN=v.createElement(gN,null);class vN extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(os.Provider,{value:this.props.routeContext},v.createElement(RT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xN(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(S0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(os.Provider,{value:e},r)}function bN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||sn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:E}=n,C=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||C){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let E,C=!1,x=null,I=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||yN,c&&(u<0&&m===0?(TN("route-fallback"),C=!0,I=null):u===m&&(C=!0,I=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),g=()=>{let b;return E?b=x:C?b=I:h.route.Component?b=v.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,v.createElement(xN,{match:h,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(vN,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:g(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):g()},null)}var jT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jT||{}),OT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OT||{});function _N(t){let e=v.useContext(S0);return e||sn(!1),e}function wN(t){let e=v.useContext(dN);return e||sn(!1),e}function SN(t){let e=v.useContext(os);return e||sn(!1),e}function NT(t){let e=SN(),n=e.matches[e.matches.length-1];return n.route.id||sn(!1),n.route.id}function EN(){var t;let e=v.useContext(RT),n=wN(),r=NT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CN(){let{router:t}=_N(jT.UseNavigateStable),e=NT(OT.UseNavigateStable),n=v.useRef(!1);return PT(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fc({fromRouteId:e},s)))},[t,e])}const o_={};function TN(t,e,n){o_[t]||(o_[t]=!0)}function IN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kN(t){let{to:e,replace:n,state:r,relative:i}=t;ll()||sn(!1);let{future:s,static:o}=v.useContext(Qs),{matches:a}=v.useContext(os),{pathname:c}=Ys(),u=Cr(),f=w0(e,_0(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Yt(t){sn(!1)}function RN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Es.Pop,navigator:s,static:o=!1,future:a}=t;ll()&&sn(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:Fc({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Do(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:C="default"}=r,x=v.useMemo(()=>{let I=b0(f,c);return I==null?null:{location:{pathname:I,search:h,hash:m,state:E,key:C},navigationType:i}},[c,f,h,m,E,C,i]);return x==null?null:v.createElement(Qs.Provider,{value:u},v.createElement(Fh.Provider,{children:n,value:x}))}function PN(t){let{children:e,location:n}=t;return pN(_y(e),n)}new Promise(()=>{});function _y(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,_y(r.props.children,s));return}r.type!==Yt&&sn(!1),!r.props.index||!r.props.children||sn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_y(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(this,arguments)}function AN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ON(t,e){return t.button===0&&(!e||e==="_self")&&!jN(t)}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MN="6";try{window.__reactRouterVersion=MN}catch{}const LN="startTransition",a_=of[LN];function DN(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=FO({window:i,v5Compat:!0}));let o=s.current,[a,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=v.useCallback(h=>{u&&a_?a_(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.useEffect(()=>IN(r),[r]),v.createElement(RN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zh=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=e,m=AN(e,NN),{basename:E}=v.useContext(Qs),C,x=!1;if(typeof u=="string"&&FN.test(u)&&(C=u,$N))try{let b=new URL(window.location.href),k=u.startsWith("//")?new URL(b.protocol+u):new URL(u),M=b0(k.pathname,E);k.origin===b.origin&&M!=null?u=M+k.search+k.hash:x=!0}catch{}let I=fN(u,{relative:i}),T=zN(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function g(b){r&&r(b),b.defaultPrevented||T(b)}return v.createElement("a",wy({},m,{href:C||I,onClick:x||s?r:g,ref:n,target:c}))});var l_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(l_||(l_={}));var c_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c_||(c_={}));function zN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Cr(),u=Ys(),f=AT(t,{relative:o});return v.useCallback(h=>{if(ON(h,n)){h.preventDefault();let m=r!==void 0?r:Af(u)===Af(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,f,r,i,n,t,s,o,a])}var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,E=u&63;c||(E=64,o||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new BN;const m=s<<2|a>>4;if(r.push(m),u!==64){const E=a<<4&240|u>>2;if(r.push(E),h!==64){const C=u<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(t){const e=MT(t);return LT.encodeByteArray(e,!0)},jf=function(t){return UN(t).replace(/\./g,"")},DT=function(t){try{return LT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=()=>WN().__FIREBASE_DEFAULTS__,qN=()=>{if(typeof process>"u"||typeof u_>"u")return;const t=u_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DT(t[1]);return e&&JSON.parse(e)},Vh=()=>{try{return HN()||qN()||KN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$T=t=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FT=t=>{const e=$T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zT=()=>{var t;return(t=Vh())===null||t===void 0?void 0:t.config},VT=t=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function YN(){var t;const e=(t=Vh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eM(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tM(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function rM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iM,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ti(i,a,r)}}function sM(t,e){return t.replace(oM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oM=/\{\$([^}]+)}/g;function aM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(d_(s)&&d_(o)){if(!Of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wm),i.error===void 0&&(i.error=Wm),i.complete===void 0&&(i.complete=Wm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hM(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(t){return t===ao?void 0:t}function hM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const mM={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},gM=ft.INFO,yM={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},vM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=gM,this._logHandler=vM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const xM=(t,e)=>e.some(n=>t instanceof n);let f_,h_;function bM(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _M(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,Sy=new WeakMap,WT=new WeakMap,Hm=new WeakMap,C0=new WeakMap;function wM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UT.set(n,t)}).catch(()=>{}),C0.set(e,t),e}function SM(t){if(Sy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sy.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EM(t){Ey=t(Ey)}function CM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qm(this),e,...n);return WT.set(r,e.sort?e.sort():[e]),Ls(r)}:_M().includes(t)?function(...e){return t.apply(qm(this),e),Ls(UT.get(this))}:function(...e){return Ls(t.apply(qm(this),e))}}function TM(t){return typeof t=="function"?CM(t):(t instanceof IDBTransaction&&SM(t),xM(t,bM())?new Proxy(t,Ey):t)}function Ls(t){if(t instanceof IDBRequest)return wM(t);if(Hm.has(t))return Hm.get(t);const e=TM(t);return e!==t&&(Hm.set(t,e),C0.set(e,t)),e}const qm=t=>C0.get(t);function IM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ls(o.result),c.oldVersion,c.newVersion,Ls(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const kM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],Km=new Map;function p_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kM.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Km.set(e,s),s}EM(t=>({...t,get:(e,n,r)=>p_(e,n)||t.get(e,n,r),has:(e,n)=>!!p_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cy="@firebase/app",m_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new E0("@firebase/app"),jM="@firebase/app-compat",OM="@firebase/analytics-compat",NM="@firebase/analytics",MM="@firebase/app-check-compat",LM="@firebase/app-check",DM="@firebase/auth",$M="@firebase/auth-compat",FM="@firebase/database",zM="@firebase/data-connect",VM="@firebase/database-compat",BM="@firebase/functions",UM="@firebase/functions-compat",WM="@firebase/installations",HM="@firebase/installations-compat",qM="@firebase/messaging",KM="@firebase/messaging-compat",GM="@firebase/performance",QM="@firebase/performance-compat",YM="@firebase/remote-config",XM="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/vertexai-preview",nL="@firebase/firestore-compat",rL="firebase",iL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",sL={[Cy]:"fire-core",[jM]:"fire-core-compat",[NM]:"fire-analytics",[OM]:"fire-analytics-compat",[LM]:"fire-app-check",[MM]:"fire-app-check-compat",[DM]:"fire-auth",[$M]:"fire-auth-compat",[FM]:"fire-rtdb",[zM]:"fire-data-connect",[VM]:"fire-rtdb-compat",[BM]:"fire-fn",[UM]:"fire-fn-compat",[WM]:"fire-iid",[HM]:"fire-iid-compat",[qM]:"fire-fcm",[KM]:"fire-fcm-compat",[GM]:"fire-perf",[QM]:"fire-perf-compat",[YM]:"fire-rc",[XM]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[eL]:"fire-fst",[nL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[rL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,oL=new Map,Iy=new Map;function g_(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(Iy.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of Nf.values())g_(n,t);for(const n of oL.values())g_(n,t);return!0}function Bh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new fu("app","Firebase",aL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=iL;function HT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(n||(n=zT()),!n)throw Ds.create("no-options");const s=Nf.get(i);if(s){if(Of(n,s.options)&&Of(r,s.config))return s;throw Ds.create("duplicate-app",{appName:i})}const o=new pM(i);for(const c of Iy.values())o.addComponent(c);const a=new lL(n,r,o);return Nf.set(i,a),a}function T0(t=Ty){const e=Nf.get(t);if(!e&&t===Ty&&zT())return HT();if(!e)throw Ds.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=sL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(a.join(" "));return}To(new zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="firebase-heartbeat-database",uL=1,zc="firebase-heartbeat-store";let Gm=null;function qT(){return Gm||(Gm=IM(cL,uL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),Gm}async function dL(t){try{const n=(await qT()).transaction(zc),r=await n.objectStore(zc).get(KT(t));return await n.done,r}catch(e){if(e instanceof Ti)es.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function y_(t,e){try{const r=(await qT()).transaction(zc,"readwrite");await r.objectStore(zc).put(e,KT(t)),await r.done}catch(n){if(n instanceof Ti)es.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function KT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,hL=30*24*60*60*1e3;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:i}=mL(this._heartbeatsCache.heartbeats),s=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return es.warn(n),""}}}function v_(){return new Date().toISOString().substring(0,10)}function mL(t,e=fL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),x_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?rM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function x_(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){To(new zs("platform-logger",e=>new PM(e),"PRIVATE")),To(new zs("heartbeat",e=>new pL(e),"PRIVATE")),mi(Cy,m_,t),mi(Cy,m_,"esm2017"),mi("fire-js","")}yL("");var vL="firebase",xL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(vL,xL,"app");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,GT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,p){function _(){}_.prototype=p.prototype,w.D=p.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(S,P,j){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return p.prototype[P].apply(S,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,p,_){_||(_=0);var S=Array(16);if(typeof p=="string")for(var P=0;16>P;++P)S[P]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(P=0;16>P;++P)S[P]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=w.g[0],_=w.g[1],P=w.g[2];var j=w.g[3],A=p+(j^_&(P^j))+S[0]+3614090360&4294967295;p=_+(A<<7&4294967295|A>>>25),A=j+(P^p&(_^P))+S[1]+3905402710&4294967295,j=p+(A<<12&4294967295|A>>>20),A=P+(_^j&(p^_))+S[2]+606105819&4294967295,P=j+(A<<17&4294967295|A>>>15),A=_+(p^P&(j^p))+S[3]+3250441966&4294967295,_=P+(A<<22&4294967295|A>>>10),A=p+(j^_&(P^j))+S[4]+4118548399&4294967295,p=_+(A<<7&4294967295|A>>>25),A=j+(P^p&(_^P))+S[5]+1200080426&4294967295,j=p+(A<<12&4294967295|A>>>20),A=P+(_^j&(p^_))+S[6]+2821735955&4294967295,P=j+(A<<17&4294967295|A>>>15),A=_+(p^P&(j^p))+S[7]+4249261313&4294967295,_=P+(A<<22&4294967295|A>>>10),A=p+(j^_&(P^j))+S[8]+1770035416&4294967295,p=_+(A<<7&4294967295|A>>>25),A=j+(P^p&(_^P))+S[9]+2336552879&4294967295,j=p+(A<<12&4294967295|A>>>20),A=P+(_^j&(p^_))+S[10]+4294925233&4294967295,P=j+(A<<17&4294967295|A>>>15),A=_+(p^P&(j^p))+S[11]+2304563134&4294967295,_=P+(A<<22&4294967295|A>>>10),A=p+(j^_&(P^j))+S[12]+1804603682&4294967295,p=_+(A<<7&4294967295|A>>>25),A=j+(P^p&(_^P))+S[13]+4254626195&4294967295,j=p+(A<<12&4294967295|A>>>20),A=P+(_^j&(p^_))+S[14]+2792965006&4294967295,P=j+(A<<17&4294967295|A>>>15),A=_+(p^P&(j^p))+S[15]+1236535329&4294967295,_=P+(A<<22&4294967295|A>>>10),A=p+(P^j&(_^P))+S[1]+4129170786&4294967295,p=_+(A<<5&4294967295|A>>>27),A=j+(_^P&(p^_))+S[6]+3225465664&4294967295,j=p+(A<<9&4294967295|A>>>23),A=P+(p^_&(j^p))+S[11]+643717713&4294967295,P=j+(A<<14&4294967295|A>>>18),A=_+(j^p&(P^j))+S[0]+3921069994&4294967295,_=P+(A<<20&4294967295|A>>>12),A=p+(P^j&(_^P))+S[5]+3593408605&4294967295,p=_+(A<<5&4294967295|A>>>27),A=j+(_^P&(p^_))+S[10]+38016083&4294967295,j=p+(A<<9&4294967295|A>>>23),A=P+(p^_&(j^p))+S[15]+3634488961&4294967295,P=j+(A<<14&4294967295|A>>>18),A=_+(j^p&(P^j))+S[4]+3889429448&4294967295,_=P+(A<<20&4294967295|A>>>12),A=p+(P^j&(_^P))+S[9]+568446438&4294967295,p=_+(A<<5&4294967295|A>>>27),A=j+(_^P&(p^_))+S[14]+3275163606&4294967295,j=p+(A<<9&4294967295|A>>>23),A=P+(p^_&(j^p))+S[3]+4107603335&4294967295,P=j+(A<<14&4294967295|A>>>18),A=_+(j^p&(P^j))+S[8]+1163531501&4294967295,_=P+(A<<20&4294967295|A>>>12),A=p+(P^j&(_^P))+S[13]+2850285829&4294967295,p=_+(A<<5&4294967295|A>>>27),A=j+(_^P&(p^_))+S[2]+4243563512&4294967295,j=p+(A<<9&4294967295|A>>>23),A=P+(p^_&(j^p))+S[7]+1735328473&4294967295,P=j+(A<<14&4294967295|A>>>18),A=_+(j^p&(P^j))+S[12]+2368359562&4294967295,_=P+(A<<20&4294967295|A>>>12),A=p+(_^P^j)+S[5]+4294588738&4294967295,p=_+(A<<4&4294967295|A>>>28),A=j+(p^_^P)+S[8]+2272392833&4294967295,j=p+(A<<11&4294967295|A>>>21),A=P+(j^p^_)+S[11]+1839030562&4294967295,P=j+(A<<16&4294967295|A>>>16),A=_+(P^j^p)+S[14]+4259657740&4294967295,_=P+(A<<23&4294967295|A>>>9),A=p+(_^P^j)+S[1]+2763975236&4294967295,p=_+(A<<4&4294967295|A>>>28),A=j+(p^_^P)+S[4]+1272893353&4294967295,j=p+(A<<11&4294967295|A>>>21),A=P+(j^p^_)+S[7]+4139469664&4294967295,P=j+(A<<16&4294967295|A>>>16),A=_+(P^j^p)+S[10]+3200236656&4294967295,_=P+(A<<23&4294967295|A>>>9),A=p+(_^P^j)+S[13]+681279174&4294967295,p=_+(A<<4&4294967295|A>>>28),A=j+(p^_^P)+S[0]+3936430074&4294967295,j=p+(A<<11&4294967295|A>>>21),A=P+(j^p^_)+S[3]+3572445317&4294967295,P=j+(A<<16&4294967295|A>>>16),A=_+(P^j^p)+S[6]+76029189&4294967295,_=P+(A<<23&4294967295|A>>>9),A=p+(_^P^j)+S[9]+3654602809&4294967295,p=_+(A<<4&4294967295|A>>>28),A=j+(p^_^P)+S[12]+3873151461&4294967295,j=p+(A<<11&4294967295|A>>>21),A=P+(j^p^_)+S[15]+530742520&4294967295,P=j+(A<<16&4294967295|A>>>16),A=_+(P^j^p)+S[2]+3299628645&4294967295,_=P+(A<<23&4294967295|A>>>9),A=p+(P^(_|~j))+S[0]+4096336452&4294967295,p=_+(A<<6&4294967295|A>>>26),A=j+(_^(p|~P))+S[7]+1126891415&4294967295,j=p+(A<<10&4294967295|A>>>22),A=P+(p^(j|~_))+S[14]+2878612391&4294967295,P=j+(A<<15&4294967295|A>>>17),A=_+(j^(P|~p))+S[5]+4237533241&4294967295,_=P+(A<<21&4294967295|A>>>11),A=p+(P^(_|~j))+S[12]+1700485571&4294967295,p=_+(A<<6&4294967295|A>>>26),A=j+(_^(p|~P))+S[3]+2399980690&4294967295,j=p+(A<<10&4294967295|A>>>22),A=P+(p^(j|~_))+S[10]+4293915773&4294967295,P=j+(A<<15&4294967295|A>>>17),A=_+(j^(P|~p))+S[1]+2240044497&4294967295,_=P+(A<<21&4294967295|A>>>11),A=p+(P^(_|~j))+S[8]+1873313359&4294967295,p=_+(A<<6&4294967295|A>>>26),A=j+(_^(p|~P))+S[15]+4264355552&4294967295,j=p+(A<<10&4294967295|A>>>22),A=P+(p^(j|~_))+S[6]+2734768916&4294967295,P=j+(A<<15&4294967295|A>>>17),A=_+(j^(P|~p))+S[13]+1309151649&4294967295,_=P+(A<<21&4294967295|A>>>11),A=p+(P^(_|~j))+S[4]+4149444226&4294967295,p=_+(A<<6&4294967295|A>>>26),A=j+(_^(p|~P))+S[11]+3174756917&4294967295,j=p+(A<<10&4294967295|A>>>22),A=P+(p^(j|~_))+S[2]+718787259&4294967295,P=j+(A<<15&4294967295|A>>>17),A=_+(j^(P|~p))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+j&4294967295}r.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var _=p-this.blockSize,S=this.B,P=this.h,j=0;j<p;){if(P==0)for(;j<=_;)i(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<p;)if(S[P++]=w.charCodeAt(j++),P==this.blockSize){i(this,S),P=0;break}}else for(;j<p;)if(S[P++]=w[j++],P==this.blockSize){i(this,S),P=0;break}}this.h=P,this.o+=p},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var _=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=_&255,_/=256;for(this.u(w),w=Array(16),p=_=0;4>p;++p)for(var S=0;32>S;S+=8)w[_++]=this.g[p]>>>S&255;return w};function s(w,p){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=p(w)}function o(w,p){this.h=p;for(var _=[],S=!0,P=w.length-1;0<=P;P--){var j=w[P]|0;S&&j==p||(_[P]=j,S=!1)}this.g=_}var a={};function c(w){return-128<=w&&128>w?s(w,function(p){return new o([p|0],0>p?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return I(u(-w));for(var p=[],_=1,S=0;w>=_;S++)p[S]=w/_|0,_*=4294967296;return new o(p,0)}function f(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return I(f(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(p,8)),S=h,P=0;P<w.length;P+=8){var j=Math.min(8,w.length-P),A=parseInt(w.substring(P,P+j),p);8>j?(j=u(Math.pow(p,j)),S=S.j(j).add(u(A))):(S=S.j(_),S=S.add(u(A)))}return S}var h=c(0),m=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-I(this).m();for(var w=0,p=1,_=0;_<this.g.length;_++){var S=this.i(_);w+=(0<=S?S:4294967296+S)*p,p*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(x(this))return"-"+I(this).toString(w);for(var p=u(Math.pow(w,6)),_=this,S="";;){var P=k(_,p).g;_=T(_,P.j(p));var j=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=P,C(_))return j+S;for(;6>j.length;)j="0"+j;S=j+S}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function x(w){return w.h==-1}t.l=function(w){return w=T(this,w),x(w)?-1:C(w)?0:1};function I(w){for(var p=w.g.length,_=[],S=0;S<p;S++)_[S]=~w.g[S];return new o(_,~w.h).add(m)}t.abs=function(){return x(this)?I(this):this},t.add=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],S=0,P=0;P<=p;P++){var j=S+(this.i(P)&65535)+(w.i(P)&65535),A=(j>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);S=A>>>16,j&=65535,A&=65535,_[P]=A<<16|j}return new o(_,_[_.length-1]&-2147483648?-1:0)};function T(w,p){return w.add(I(p))}t.j=function(w){if(C(this)||C(w))return h;if(x(this))return x(w)?I(this).j(I(w)):I(I(this).j(w));if(x(w))return I(this.j(I(w)));if(0>this.l(E)&&0>w.l(E))return u(this.m()*w.m());for(var p=this.g.length+w.g.length,_=[],S=0;S<2*p;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<w.g.length;P++){var j=this.i(S)>>>16,A=this.i(S)&65535,V=w.i(P)>>>16,F=w.i(P)&65535;_[2*S+2*P]+=A*F,g(_,2*S+2*P),_[2*S+2*P+1]+=j*F,g(_,2*S+2*P+1),_[2*S+2*P+1]+=A*V,g(_,2*S+2*P+1),_[2*S+2*P+2]+=j*V,g(_,2*S+2*P+2)}for(S=0;S<p;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=p;S<2*p;S++)_[S]=0;return new o(_,0)};function g(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function b(w,p){this.g=w,this.h=p}function k(w,p){if(C(p))throw Error("division by zero");if(C(w))return new b(h,h);if(x(w))return p=k(I(w),p),new b(I(p.g),I(p.h));if(x(p))return p=k(w,I(p)),new b(I(p.g),p.h);if(30<w.g.length){if(x(w)||x(p))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=p;0>=S.l(w);)_=M(_),S=M(S);var P=N(_,1),j=N(S,1);for(S=N(S,2),_=N(_,2);!C(S);){var A=j.add(S);0>=A.l(w)&&(P=P.add(_),j=A),S=N(S,1),_=N(_,1)}return p=T(w,P.j(p)),new b(P,p)}for(P=h;0<=w.l(p);){for(_=Math.max(1,Math.floor(w.m()/p.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),j=u(_),A=j.j(p);x(A)||0<A.l(w);)_-=S,j=u(_),A=j.j(p);C(j)&&(j=m),P=P.add(j),w=T(w,A)}return new b(P,w)}t.A=function(w){return k(this,w).h},t.and=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],S=0;S<p;S++)_[S]=this.i(S)&w.i(S);return new o(_,this.h&w.h)},t.or=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],S=0;S<p;S++)_[S]=this.i(S)|w.i(S);return new o(_,this.h|w.h)},t.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],S=0;S<p;S++)_[S]=this.i(S)^w.i(S);return new o(_,this.h^w.h)};function M(w){for(var p=w.g.length+1,_=[],S=0;S<p;S++)_[S]=w.i(S)<<1|w.i(S-1)>>>31;return new o(_,w.h)}function N(w,p){var _=p>>5;p%=32;for(var S=w.g.length-_,P=[],j=0;j<S;j++)P[j]=0<p?w.i(j+_)>>>p|w.i(j+_+1)<<32-p:w.i(j+_);return new o(P,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,xo=o}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,Xl,YT,Ud,ky,XT,JT,ZT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,R){return d==Array.prototype||d==Object.prototype||(d[y]=R.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var y=0;y<d.length;++y){var R=d[y];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var R=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var Y=d[L];if(!(Y in R))break e;R=R[Y]}d=d[d.length-1],L=R[d],y=y(L),y!=L&&y!=null&&e(R,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var R=0,L=!1,Y={next:function(){if(!L&&R<d.length){var J=R++;return{value:y(J,d[J]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,R){return d.call.apply(d.bind,arguments)}function h(d,y,R){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,L),d.apply(y,Y)}}return function(){return d.apply(y,arguments)}}function m(d,y,R){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,y){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function C(d,y){function R(){}R.prototype=y.prototype,d.aa=y.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(L,Y,J){for(var he=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)he[kt-2]=arguments[kt];return y.prototype[Y].apply(L,he)}}function x(d){const y=d.length;if(0<y){const R=Array(y);for(let L=0;L<y;L++)R[L]=d[L];return R}return[]}function I(d,y){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(c(L)){const Y=d.length||0,J=L.length||0;d.length=Y+J;for(let he=0;he<J;he++)d[Y+he]=L[he]}else d.push(L)}}class T{constructor(y,R){this.i=y,this.j=R,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function g(d){return/^[\s\xa0]*$/.test(d)}function b(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var M=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function N(d,y,R){for(const L in d)y.call(R,d[L],L,d)}function w(d,y){for(const R in d)y.call(void 0,d[R],R,d)}function p(d){const y={};for(const R in d)y[R]=d[R];return y}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,y){let R,L;for(let Y=1;Y<arguments.length;Y++){L=arguments[Y];for(R in L)d[R]=L[R];for(let J=0;J<_.length;J++)R=_[J],Object.prototype.hasOwnProperty.call(L,R)&&(d[R]=L[R])}}function P(d){var y=1;d=d.split(":");const R=[];for(;0<y&&d.length;)R.push(d.shift()),y--;return d.length&&R.push(d.join(":")),R}function j(d){a.setTimeout(()=>{throw d},0)}function A(){var d=z;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class V{constructor(){this.h=this.g=null}add(y,R){const L=F.get();L.set(y,R),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new T(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,R){this.h=y,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let U,D=!1,z=new V,K=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(H)}};var H=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(R){j(R)}var y=F;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}D=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};a.addEventListener("test",R,y),a.removeEventListener("test",R,y)}catch{}return d}();function de(d,y){if(Q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(M){e:{try{k(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else R=="mouseover"?y=d.fromElement:R=="mouseout"&&(y=d.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&de.aa.h.call(this)}}C(de,Q);var me={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),re=0;function W(d,y,R,L,Y){this.listener=d,this.proxy=null,this.src=y,this.type=R,this.capture=!!L,this.ha=Y,this.key=++re,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d){this.src=d,this.g={},this.h=0}ne.prototype.add=function(d,y,R,L,Y){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var he=ge(d,y,L,Y);return-1<he?(y=d[he],R||(y.fa=!1)):(y=new W(y,this.src,J,!!L,Y),y.fa=R,d.push(y)),y};function ie(d,y){var R=y.type;if(R in d.g){var L=d.g[R],Y=Array.prototype.indexOf.call(L,y,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(L,Y,1),J&&(ce(y),d.g[R].length==0&&(delete d.g[R],d.h--))}}function ge(d,y,R,L){for(var Y=0;Y<d.length;++Y){var J=d[Y];if(!J.da&&J.listener==y&&J.capture==!!R&&J.ha==L)return Y}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),we={};function Ee(d,y,R,L,Y){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Ee(d,y[J],R,L,Y);return null}return R=ct(R),d&&d[G]?d.K(y,R,u(L)?!!L.capture:!1,Y):et(d,y,R,!1,L,Y)}function et(d,y,R,L,Y,J){if(!y)throw Error("Invalid event type");var he=u(Y)?!!Y.capture:!!Y,kt=Ne(d);if(kt||(d[xe]=kt=new ne(d)),R=kt.add(y,R,L,he,J),R.proxy)return R;if(L=Te(),R.proxy=L,L.src=d,L.listener=R,d.addEventListener)ee||(Y=he),Y===void 0&&(Y=!1),d.addEventListener(y.toString(),L,Y);else if(d.attachEvent)d.attachEvent(Re(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Te(){function d(R){return y.call(d.src,d.listener,R)}const y=Pe;return d}function X(d,y,R,L,Y){if(Array.isArray(y))for(var J=0;J<y.length;J++)X(d,y[J],R,L,Y);else L=u(L)?!!L.capture:!!L,R=ct(R),d&&d[G]?(d=d.i,y=String(y).toString(),y in d.g&&(J=d.g[y],R=ge(J,R,L,Y),-1<R&&(ce(J[R]),Array.prototype.splice.call(J,R,1),J.length==0&&(delete d.g[y],d.h--)))):d&&(d=Ne(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ge(y,R,L,Y)),(R=-1<d?y[d]:null)&&ae(R))}function ae(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[G])ie(y.i,d);else{var R=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(R,L,d.capture):y.detachEvent?y.detachEvent(Re(R),L):y.addListener&&y.removeListener&&y.removeListener(L),(R=Ne(y))?(ie(R,d),R.h==0&&(R.src=null,y[xe]=null)):ce(d)}}}function Re(d){return d in we?we[d]:we[d]="on"+d}function Pe(d,y){if(d.da)d=!0;else{y=new de(y,this);var R=d.listener,L=d.ha||d.src;d.fa&&ae(d),d=R.call(L,y)}return d}function Ne(d){return d=d[xe],d instanceof ne?d:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(d){return typeof d=="function"?d:(d[ve]||(d[ve]=function(y){return d.handleEvent(y)}),d[ve])}function Ce(){q.call(this),this.i=new ne(this),this.M=this,this.F=null}C(Ce,q),Ce.prototype[G]=!0,Ce.prototype.removeEventListener=function(d,y,R,L){X(this,d,y,R,L)};function be(d,y){var R,L=d.F;if(L)for(R=[];L;L=L.F)R.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new Q(y,d);else if(y instanceof Q)y.target=y.target||d;else{var Y=y;y=new Q(L,d),S(y,Y)}if(Y=!0,R)for(var J=R.length-1;0<=J;J--){var he=y.g=R[J];Y=Fe(he,L,!0,y)&&Y}if(he=y.g=d,Y=Fe(he,L,!0,y)&&Y,Y=Fe(he,L,!1,y)&&Y,R)for(J=0;J<R.length;J++)he=y.g=R[J],Y=Fe(he,L,!1,y)&&Y}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var R=d.g[y],L=0;L<R.length;L++)ce(R[L]);delete d.g[y],d.h--}}this.F=null},Ce.prototype.K=function(d,y,R,L){return this.i.add(String(d),y,!1,R,L)},Ce.prototype.L=function(d,y,R,L){return this.i.add(String(d),y,!0,R,L)};function Fe(d,y,R,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,J=0;J<y.length;++J){var he=y[J];if(he&&!he.da&&he.capture==R){var kt=he.listener,Tn=he.ha||he.src;he.fa&&ie(d.i,he),Y=kt.call(Tn,L)!==!1&&Y}}return Y&&!L.defaultPrevented}function Ie(d,y,R){if(typeof d=="function")R&&(d=m(d,R));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function St(d){d.g=Ie(()=>{d.g=null,d.i&&(d.i=!1,St(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class At extends q{constructor(y,R){super(),this.m=y,this.l=R,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(d){q.call(this),this.h=d,this.g={}}C(tt,q);var Ae=[];function ot(d){N(d.g,function(y,R){this.g.hasOwnProperty(R)&&ae(y)},d),d.g={}}tt.prototype.N=function(){tt.aa.N.call(this),ot(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=a.JSON.stringify,Ir=a.JSON.parse,cs=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function eo(){}eo.prototype.h=null;function kr(d){return d.h||(d.h=d.i())}function si(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){Q.call(this,"d")}C(us,Q);function Z(){Q.call(this,"c")}C(Z,Q);var He={},O=null;function se(){return O=O||new Ce}He.La="serverreachability";function fe(d){Q.call(this,He.La,d)}C(fe,Q);function qe(d){const y=se();be(y,new fe(y))}He.STAT_EVENT="statevent";function ut(d,y){Q.call(this,He.STAT_EVENT,d),this.stat=y}C(ut,Q);function at(d){const y=se();be(y,new ut(y,d))}He.Ma="timingevent";function Et(d,y){Q.call(this,He.Ma,d),this.size=y}C(Et,Q);function Be(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function dt(){this.g=!0}dt.prototype.xa=function(){this.g=!1};function Pr(d,y,R,L,Y,J){d.info(function(){if(d.g)if(J)for(var he="",kt=J.split("&"),Tn=0;Tn<kt.length;Tn++){var vt=kt[Tn].split("=");if(1<vt.length){var Nn=vt[0];vt=vt[1];var Mn=Nn.split("_");he=2<=Mn.length&&Mn[1]=="type"?he+(Nn+"="+vt+"&"):he+(Nn+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+L+") [attempt "+Y+"]: "+y+`
`+R+`
`+he})}function oi(d,y,R,L,Y,J,he){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Y+"]: "+y+`
`+R+`
`+J+" "+he})}function Gn(d,y,R,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+en(d,R)+(L?" "+L:"")})}function ln(d,y){d.info(function(){return"TIMEOUT: "+y})}dt.prototype.info=function(){};function en(d,y){if(!d.g)return y;if(!y)return null;try{var R=JSON.parse(y);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var L=R[d];if(!(2>L.length)){var Y=L[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return Xe(R)}catch{return y}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Wo(){}C(Wo,eo),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},Vt=new Wo;function ds(d,y,R,L){this.j=d,this.i=y,this.l=R,this.R=L||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lb}function lb(){this.i=null,this.g="",this.h=!1}var cb={},om={};function am(d,y,R){d.L=1,d.v=Uu(Ai(y)),d.m=R,d.P=!0,ub(d,null)}function ub(d,y){d.F=Date.now(),zu(d),d.A=Ai(d.v);var R=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),Eb(R.i,"t",L),d.C=0,R=d.j.J,d.h=new lb,d.g=Bb(d.j,R?y:null,!d.m),0<d.O&&(d.M=new At(m(d.Y,d,d.g),d.O)),y=d.U,R=d.g,L=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ae[0]=Y.toString()),Y=Ae);for(var J=0;J<Y.length;J++){var he=Ee(R,Y[J],L||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),qe(),Pr(d.i,d.u,d.A,d.l,d.R,d.m)}ds.prototype.ca=function(d){d=d.target;const y=this.M;y&&ji(d)==3?y.j():this.Y(d)},ds.prototype.Y=function(d){try{if(d==this.g)e:{const Mn=ji(this.g);var y=this.g.Ba();const Ko=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||Ab(this.g)))){this.J||Mn!=4||y==7||(y==8||0>=Ko?qe(3):qe(2)),lm(this);var R=this.g.Z();this.X=R;t:if(db(this)){var L=Ab(this.g);d="";var Y=L.length,J=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),bl(this);var he="";break t}this.h.i=new a.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,d+=this.h.i.decode(L[y],{stream:!(J&&y==Y-1)});L.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=R==200,oi(this.i,this.u,this.A,this.l,this.R,Mn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Tn=this.g;if((kt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(kt)){var vt=kt;break t}}vt=null}if(R=vt)Gn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cm(this,R);else{this.o=!1,this.s=3,at(12),to(this),bl(this);break e}}if(this.P){R=!0;let Gr;for(;!this.J&&this.C<he.length;)if(Gr=hP(this,he),Gr==om){Mn==4&&(this.s=4,at(14),R=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==cb){this.s=4,at(15),Gn(this.i,this.l,he,"[Invalid Chunk]"),R=!1;break}else Gn(this.i,this.l,Gr,null),cm(this,Gr);if(db(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||he.length!=0||this.h.h||(this.s=1,at(16),R=!1),this.o=this.o&&R,!R)Gn(this.i,this.l,he,"[Invalid Chunked Response]"),to(this),bl(this);else if(0<he.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),mm(Nn),Nn.M=!0,at(11))}}else Gn(this.i,this.l,he,null),cm(this,he);Mn==4&&to(this),this.o&&!this.J&&(Mn==4?$b(this.j,this):(this.o=!1,zu(this)))}else PP(this.g),R==400&&0<he.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),to(this),bl(this)}}}catch{}finally{}};function db(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hP(d,y){var R=d.C,L=y.indexOf(`
`,R);return L==-1?om:(R=Number(y.substring(R,L)),isNaN(R)?cb:(L+=1,L+R>y.length?om:(y=y.slice(L,L+R),d.C=L+R,y)))}ds.prototype.cancel=function(){this.J=!0,to(this)};function zu(d){d.S=Date.now()+d.I,fb(d,d.I)}function fb(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Be(m(d.ba,d),y)}function lm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ds.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ln(this.i,this.A),this.L!=2&&(qe(),at(17)),to(this),this.s=2,bl(this)):fb(this,this.S-d)};function bl(d){d.j.G==0||d.J||$b(d.j,d)}function to(d){lm(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ot(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function cm(d,y){try{var R=d.j;if(R.G!=0&&(R.g==d||um(R.h,d))){if(!d.K&&um(R.h,d)&&R.G==3){try{var L=R.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Y=L;if(Y[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Qu(R),Ku(R);else break e;pm(R),at(18)}}else R.za=Y[1],0<R.za-R.T&&37500>Y[2]&&R.F&&R.v==0&&!R.C&&(R.C=Be(m(R.Za,R),6e3));if(1>=mb(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ro(R,11)}else if((d.K||R.g==d)&&Qu(R),!g(y))for(Y=R.Da.g.parse(y),y=0;y<Y.length;y++){let vt=Y[y];if(R.T=vt[0],vt=vt[1],R.G==2)if(vt[0]=="c"){R.K=vt[1],R.ia=vt[2];const Nn=vt[3];Nn!=null&&(R.la=Nn,R.j.info("VER="+R.la));const Mn=vt[4];Mn!=null&&(R.Aa=Mn,R.j.info("SVER="+R.Aa));const Ko=vt[5];Ko!=null&&typeof Ko=="number"&&0<Ko&&(L=1.5*Ko,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const Gr=d.g;if(Gr){const Xu=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var J=L.h;J.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(dm(J,J.h),J.h=null))}if(L.D){const gm=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;gm&&(L.ya=gm,Nt(L.I,L.D,gm))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var he=d;if(L.qa=Vb(L,L.J?L.ia:null,L.W),he.K){gb(L.h,he);var kt=he,Tn=L.L;Tn&&(kt.I=Tn),kt.B&&(lm(kt),zu(kt)),L.g=he}else Lb(L);0<R.i.length&&Gu(R)}else vt[0]!="stop"&&vt[0]!="close"||ro(R,7);else R.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ro(R,7):hm(R):vt[0]!="noop"&&R.l&&R.l.ta(vt),R.v=0)}}qe(4)}catch{}}var pP=class{constructor(d,y){this.g=d,this.map=y}};function hb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mb(d){return d.h?1:d.g?d.g.size:0}function um(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function dm(d,y){d.g?d.g.add(y):d.h=y}function gb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}hb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const R of d.g.values())y=y.concat(R.D);return y}return x(d.i)}function mP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var y=[],R=d.length,L=0;L<R;L++)y.push(d[L]);return y}y=[],R=0;for(L in d)y[R++]=d[L];return y}function gP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var y=[];d=d.length;for(var R=0;R<d;R++)y.push(R);return y}y=[],R=0;for(const L in d)y[R++]=L;return y}}}function vb(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var R=gP(d),L=mP(d),Y=L.length,J=0;J<Y;J++)y.call(void 0,L[J],R&&R[J],d)}var xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yP(d,y){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var L=d[R].indexOf("="),Y=null;if(0<=L){var J=d[R].substring(0,L);Y=d[R].substring(L+1)}else J=d[R];y(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function no(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof no){this.h=d.h,Vu(this,d.j),this.o=d.o,this.g=d.g,Bu(this,d.s),this.l=d.l;var y=d.i,R=new Sl;R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),bb(this,R),this.m=d.m}else d&&(y=String(d).match(xb))?(this.h=!1,Vu(this,y[1]||"",!0),this.o=_l(y[2]||""),this.g=_l(y[3]||"",!0),Bu(this,y[4]),this.l=_l(y[5]||"",!0),bb(this,y[6]||"",!0),this.m=_l(y[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}no.prototype.toString=function(){var d=[],y=this.j;y&&d.push(wl(y,_b,!0),":");var R=this.g;return(R||y=="file")&&(d.push("//"),(y=this.o)&&d.push(wl(y,_b,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(wl(R,R.charAt(0)=="/"?bP:xP,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",wl(R,wP)),d.join("")};function Ai(d){return new no(d)}function Vu(d,y,R){d.j=R?_l(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Bu(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function bb(d,y,R){y instanceof Sl?(d.i=y,SP(d.i,d.h)):(R||(y=wl(y,_P)),d.i=new Sl(y,d.h))}function Nt(d,y,R){d.i.set(y,R)}function Uu(d){return Nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _l(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wl(d,y,R){return typeof d=="string"?(d=encodeURI(d).replace(y,vP),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _b=/[#\/\?@]/g,xP=/[#\?:]/g,bP=/[#\?]/g,_P=/[#\?@]/g,wP=/#/g;function Sl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function fs(d){d.g||(d.g=new Map,d.h=0,d.i&&yP(d.i,function(y,R){d.add(decodeURIComponent(y.replace(/\+/g," ")),R)}))}t=Sl.prototype,t.add=function(d,y){fs(this),this.i=null,d=Ho(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(y),this.h+=1,this};function wb(d,y){fs(d),y=Ho(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Sb(d,y){return fs(d),y=Ho(d,y),d.g.has(y)}t.forEach=function(d,y){fs(this),this.g.forEach(function(R,L){R.forEach(function(Y){d.call(y,Y,L,this)},this)},this)},t.na=function(){fs(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),R=[];for(let L=0;L<y.length;L++){const Y=d[L];for(let J=0;J<Y.length;J++)R.push(y[L])}return R},t.V=function(d){fs(this);let y=[];if(typeof d=="string")Sb(this,d)&&(y=y.concat(this.g.get(Ho(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)y=y.concat(d[R])}return y},t.set=function(d,y){return fs(this),this.i=null,d=Ho(this,d),Sb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Eb(d,y,R){wb(d,y),0<R.length&&(d.i=null,d.g.set(Ho(d,y),x(R)),d.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var R=0;R<y.length;R++){var L=y[R];const J=encodeURIComponent(String(L)),he=this.V(L);for(L=0;L<he.length;L++){var Y=J;he[L]!==""&&(Y+="="+encodeURIComponent(String(he[L]))),d.push(Y)}}return this.i=d.join("&")};function Ho(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function SP(d,y){y&&!d.j&&(fs(d),d.i=null,d.g.forEach(function(R,L){var Y=L.toLowerCase();L!=Y&&(wb(this,L),Eb(this,Y,R))},d)),d.j=y}function EP(d,y){const R=new dt;if(a.Image){const L=new Image;L.onload=E(hs,R,"TestLoadImage: loaded",!0,y,L),L.onerror=E(hs,R,"TestLoadImage: error",!1,y,L),L.onabort=E(hs,R,"TestLoadImage: abort",!1,y,L),L.ontimeout=E(hs,R,"TestLoadImage: timeout",!1,y,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function CP(d,y){const R=new dt,L=new AbortController,Y=setTimeout(()=>{L.abort(),hs(R,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(J=>{clearTimeout(Y),J.ok?hs(R,"TestPingServer: ok",!0,y):hs(R,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),hs(R,"TestPingServer: error",!1,y)})}function hs(d,y,R,L,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),L(R)}catch{}}function TP(){this.g=new cs}function IP(d,y,R){const L=R||"";try{vb(d,function(Y,J){let he=Y;u(Y)&&(he=Xe(Y)),y.push(L+J+"="+encodeURIComponent(he))})}catch(Y){throw y.push(L+"type="+encodeURIComponent("_badmap")),Y}}function Wu(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Wu,eo),Wu.prototype.g=function(){return new Hu(this.l,this.j)},Wu.prototype.i=function(d){return function(){return d}}({});function Hu(d,y){Ce.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Hu,Ce),t=Hu.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Cl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,El(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?El(this):Cl(this),this.readyState==3&&Cb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,El(this))},t.Qa=function(d){this.g&&(this.response=d,El(this))},t.ga=function(){this.g&&El(this)};function El(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cl(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var R=y.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=y.next();return d.join(`\r
`)};function Cl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Tb(d){let y="";return N(d,function(R,L){y+=L,y+=":",y+=R,y+=`\r
`}),y}function fm(d,y,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=Tb(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):Nt(d,y,R))}function Qt(d){Ce.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Qt,Ce);var kP=/^https?$/i,RP=["POST","PUT"];t=Qt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?kr(this.o):kr(Vt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(J){Ib(this,J);return}if(d=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Y in L)R.set(Y,L[Y]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())R.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(J=>J.toLowerCase()=="content-type"),Y=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RP,y,void 0))||L||Y||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of R)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pb(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Ib(this,J)}};function Ib(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,kb(d),qu(d)}function kb(d){d.A||(d.A=!0,be(d,"complete"),be(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,be(this,"complete"),be(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),Qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Rb(this):this.bb())},t.bb=function(){Rb(this)};function Rb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ji(d)!=4||d.Z()!=2)){if(d.u&&ji(d)==4)Ie(d.Ea,0,d);else if(be(d,"readystatechange"),ji(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var R;if(!(R=y)){var L;if(L=he===0){var Y=String(d.D).match(xb)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),L=!kP.test(Y?Y.toLowerCase():"")}R=L}if(R)be(d,"complete"),be(d,"success");else{d.m=6;try{var J=2<ji(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",kb(d)}}finally{qu(d)}}}}function qu(d,y){if(d.g){Pb(d);const R=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||be(d,"ready");try{R.onreadystatechange=L}catch{}}}function Pb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ji(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ir(y)}};function Ab(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function PP(d){const y={};d=(d.g&&2<=ji(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(g(d[L]))continue;var R=P(d[L]);const Y=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const J=y[Y]||[];y[Y]=J,J.push(R)}w(y,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(d,y,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||y}function jb(d){this.Aa=0,this.i=[],this.j=new dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,d),this.cb=Tl("retryDelaySeedMs",1e4,d),this.Wa=Tl("forwardChannelMaxRetries",2,d),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new hb(d&&d.concurrentRequestLimit),this.Da=new TP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jb.prototype,t.la=8,t.G=1,t.connect=function(d,y,R,L){at(0),this.W=d,this.H=y||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=Vb(this,null,this.W),Gu(this)};function hm(d){if(Ob(d),d.G==3){var y=d.U++,R=Ai(d.I);if(Nt(R,"SID",d.K),Nt(R,"RID",y),Nt(R,"TYPE","terminate"),Il(d,R),y=new ds(d,d.j,y),y.L=2,y.v=Uu(Ai(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=y.v,R=!0),R||(y.g=Bb(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zu(y)}zb(d)}function Ku(d){d.g&&(mm(d),d.g.cancel(),d.g=null)}function Ob(d){Ku(d),d.u&&(a.clearTimeout(d.u),d.u=null),Qu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Gu(d){if(!pb(d.h)&&!d.s){d.s=!0;var y=d.Ga;U||K(),D||(U(),D=!0),z.add(y,d),d.B=0}}function AP(d,y){return mb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Be(m(d.Ga,d,y),Fb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new ds(this,this.j,d);let J=this.o;if(this.S&&(J?(J=p(J),S(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var y=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=R;break e}if(y===4096||R===this.i.length-1){y=R+1;break e}}y=1e3}else y=1e3;y=Mb(this,Y,y),R=Ai(this.I),Nt(R,"RID",d),Nt(R,"CVER",22),this.D&&Nt(R,"X-HTTP-Session-Id",this.D),Il(this,R),J&&(this.O?y="headers="+encodeURIComponent(String(Tb(J)))+"&"+y:this.m&&fm(R,this.m,J)),dm(this.h,Y),this.Ua&&Nt(R,"TYPE","init"),this.P?(Nt(R,"$req",y),Nt(R,"SID","null"),Y.T=!0,am(Y,R,null)):am(Y,R,y),this.G=2}}else this.G==3&&(d?Nb(this,d):this.i.length==0||pb(this.h)||Nb(this))};function Nb(d,y){var R;y?R=y.l:R=d.U++;const L=Ai(d.I);Nt(L,"SID",d.K),Nt(L,"RID",R),Nt(L,"AID",d.T),Il(d,L),d.m&&d.o&&fm(L,d.m,d.o),R=new ds(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Mb(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),dm(d.h,R),am(R,L,y)}function Il(d,y){d.H&&N(d.H,function(R,L){Nt(y,L,R)}),d.l&&vb({},function(R,L){Nt(y,L,R)})}function Mb(d,y,R){R=Math.min(d.i.length,R);var L=d.l?m(d.l.Na,d.l,d):null;e:{var Y=d.i;let J=-1;for(;;){const he=["count="+R];J==-1?0<R?(J=Y[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let kt=!0;for(let Tn=0;Tn<R;Tn++){let vt=Y[Tn].g;const Nn=Y[Tn].map;if(vt-=J,0>vt)J=Math.max(0,Y[Tn].g-100),kt=!1;else try{IP(Nn,he,"req"+vt+"_")}catch{L&&L(Nn)}}if(kt){L=he.join("&");break e}}}return d=d.i.splice(0,R),y.D=d,L}function Lb(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;U||K(),D||(U(),D=!0),z.add(y,d),d.v=0}}function pm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Be(m(d.Fa,d),Fb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Db(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Be(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ku(this),Db(this))};function mm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Db(d){d.g=new ds(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Ai(d.qa);Nt(y,"RID","rpc"),Nt(y,"SID",d.K),Nt(y,"AID",d.T),Nt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Nt(y,"TO",d.ja),Nt(y,"TYPE","xmlhttp"),Il(d,y),d.m&&d.o&&fm(y,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=Uu(Ai(y)),R.m=null,R.P=!0,ub(R,d)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),pm(this),at(19))};function Qu(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function $b(d,y){var R=null;if(d.g==y){Qu(d),mm(d),d.g=null;var L=2}else if(um(d.h,y))R=y.D,gb(d.h,y),L=1;else return;if(d.G!=0){if(y.o)if(L==1){R=y.m?y.m.length:0,y=Date.now()-y.F;var Y=d.B;L=se(),be(L,new Et(L,R)),Gu(d)}else Lb(d);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(L==1&&AP(d,y)||L==2&&pm(d)))switch(R&&0<R.length&&(y=d.h,y.i=y.i.concat(R)),Y){case 1:ro(d,5);break;case 4:ro(d,10);break;case 3:ro(d,6);break;default:ro(d,2)}}}function Fb(d,y){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*y}function ro(d,y){if(d.j.info("Error code "+y),y==2){var R=m(d.fb,d),L=d.Xa;const Y=!L;L=new no(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(L,"https"),Uu(L),Y?EP(L.toString(),R):CP(L.toString(),R)}else at(2);d.G=0,d.l&&d.l.sa(y),zb(d),Ob(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zb(d){if(d.G=0,d.ka=[],d.l){const y=yb(d.h);(y.length!=0||d.i.length!=0)&&(I(d.ka,y),I(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Vb(d,y,R){var L=R instanceof no?Ai(R):new no(R);if(L.g!="")y&&(L.g=y+"."+L.g),Bu(L,L.s);else{var Y=a.location;L=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new no(null);L&&Vu(J,L),y&&(J.g=y),Y&&Bu(J,Y),R&&(J.l=R),L=J}return R=d.D,y=d.ya,R&&y&&Nt(L,R,y),Nt(L,"VER",d.la),Il(d,L),L}function Bb(d,y,R){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Qt(new Wu({eb:R})):new Qt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ub(){}t=Ub.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yu(){}Yu.prototype.g=function(d,y){return new dr(d,y)};function dr(d,y){Ce.call(this),this.g=new jb(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!g(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!g(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new qo(this)}C(dr,Ce),dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){hm(this.g)},dr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=Xe(d),d=R);y.i.push(new pP(y.Ya++,d)),y.G==3&&Gu(y)},dr.prototype.N=function(){this.g.l=null,delete this.j,hm(this.g),delete this.g,dr.aa.N.call(this)};function Wb(d){us.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const R in y){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}C(Wb,us);function Hb(){Z.call(this),this.status=1}C(Hb,Z);function qo(d){this.g=d}C(qo,Ub),qo.prototype.ua=function(){be(this.g,"a")},qo.prototype.ta=function(d){be(this.g,new Wb(d))},qo.prototype.sa=function(d){be(this.g,new Hb)},qo.prototype.ra=function(){be(this.g,"b")},Yu.prototype.createWebChannel=Yu.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,ZT=function(){return new Yu},JT=function(){return se()},XT=He,ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Ud=Pi,We.COMPLETE="complete",YT=We,si.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Xl=si,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,QT=Qt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new E0("@firebase/firestore");function Ll(){return Io.logLevel}function Le(t,...e){if(Io.logLevel<=ft.DEBUG){const n=e.map(I0);Io.debug(`Firestore (${cl}): ${t}`,...n)}}function ts(t,...e){if(Io.logLevel<=ft.ERROR){const n=e.map(I0);Io.error(`Firestore (${cl}): ${t}`,...n)}}function ko(t,...e){if(Io.logLevel<=ft.WARN){const n=e.map(I0);Io.warn(`Firestore (${cl}): ${t}`,...n)}}function I0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+t;throw ts(e),new Error(e)}function Tt(t,e){t||Ye()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class bL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _L{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new Un(e)}}class wL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Tt(this.o===void 0);const r=s=>{s.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new EL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new pn(0,0))}static max(){return new Je(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(),r===void 0?r=e.length-n:r>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends Vc{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const IL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Vc{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return IL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Lt.fromString(e))}static fromName(e){return new Ue(Lt.fromString(e).popFirst(5))}static empty(){return new Ue(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Lt(e.slice()))}}function kL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new Vs(i,Ue.empty(),e)}function RL(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(Je.min(),Ue.empty(),-1)}static max(){return new Vs(Je.max(),Ue.empty(),-1)}}function PL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==AL)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new le((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function OL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}R0.oe=-1;function Uh(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function NL(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=s??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new mr([])}unionWith(e){let n=new An(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rI("Invalid base64 string: "+s):s}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const ML=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Tt(!!t),typeof t=="string"){let e=0;const n=ML.exec(t);if(Tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function A0(t){const e=t.mapValue.fields.__previous_value__;return P0(e)?A0(e):e}function Bc(t){const e=Bs(t.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Wa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{}};function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P0(t)?4:$L(t)?9007199254740991:DL(t)?10:11:Ye()}function _i(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bs(i.timestampValue),a=Bs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ro(i.bytesValue).isEqual(Ro(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return tn(i.geoPointValue.latitude)===tn(s.geoPointValue.latitude)&&tn(i.geoPointValue.longitude)===tn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return tn(i.integerValue)===tn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=tn(i.doubleValue),a=tn(s.doubleValue);return o===a?Mf(o)===Mf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(w_(o)!==w_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_i(o[c],a[c])))return!1;return!0}(t,e);default:return Ye()}}function Uc(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Ha(t,e){if(t===e)return 0;const n=Po(t),r=Po(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=tn(s.integerValue||s.doubleValue),c=tn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(Bc(t),Bc(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ro(s),c=Ro(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=bt(a[u],c[u]);if(f!==0)return f}return bt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(tn(s.latitude),tn(o.latitude));return a!==0?a:bt(tn(s.longitude),tn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,f;const h=s.fields||{},m=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,C=(c=m.value)===null||c===void 0?void 0:c.arrayValue,x=bt(((u=E==null?void 0:E.values)===null||u===void 0?void 0:u.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:C_(E,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vd.mapValue&&o===vd.mapValue)return 0;if(s===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=bt(c[h],f[h]);if(m!==0)return m;const E=Ha(a[c[h]],u[f[h]]);if(E!==0)return E}return bt(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Bs(t),r=Bs(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function C_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ha(n[i],r[i]);if(s)return s}return bt(n.length,r.length)}function qa(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ry(n.fields[o])}`;return i+"}"}(t.mapValue):Ye()}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Py(t){return!!t&&"integerValue"in t}function j0(t){return!!t&&"arrayValue"in t}function I_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function DL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $L(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ir(dc(this.value))}}function iI(t){const e=[];return Fo(t.fields,(n,r)=>{const i=new _n([n]);if(Wd(r)){const s=iI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Hn(e,0,Je.min(),Je.min(),Je.min(),ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Hn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Hn(e,2,n,Je.min(),Je.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,Je.min(),Je.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class fn extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VL(e,n,r):n==="array-contains"?new WL(e,r):n==="in"?new HL(e,r):n==="not-in"?new qL(e,r):n==="array-contains-any"?new KL(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BL(e,r):new UL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return oI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oI(t){return t.op==="and"}function aI(t){return zL(t)&&oI(t)}function zL(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Ay(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(aI(t))return t.filters.map(e=>Ay(e)).join(",");{const e=t.filters.map(n=>Ay(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lI(o,i.filters[a]),!0):!1}(t,e):void Ye()}function cI(t){return t instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(cI).join(" ,")+"}"}(t):"Filter"}class VL extends fn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class BL extends fn{constructor(e,n){super(e,"in",n),this.keys=uI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UL extends fn{constructor(e,n){super(e,"not-in",n),this.keys=uI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class WL extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return j0(n)&&Uc(n.arrayValue,this.value)}}class HL extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class qL extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uc(this.value.arrayValue,n)}}class KL extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!j0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function A_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new GL(t,e,n,r,i,s,o)}function O0(t){const e=Ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.ue=n}return e.ue}function N0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function jy(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QL(t,e,n,r,i,s,o,a){return new ul(t,e,n,r,i,s,o,a)}function Wh(t){return new ul(t)}function j_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dI(t){return t.collectionGroup!==null}function fc(t){const e=Ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new An(_n.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wc(s,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Wc(_n.keyField(),r))}return e.ce}function gi(t){const e=Ze(t);return e.le||(e.le=YL(e,fc(t))),e.le}function YL(t,e){if(t.limitType==="F")return A_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wc(i.field,s)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return A_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){const n=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return N0(gi(t),gi(e))&&t.limitType===e.limitType}function fI(t){return`${O0(gi(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cI(i)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qa(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=R_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,fc(r),i)||r.endAt&&!function(o,a,c){const u=R_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,fc(r),i))}(t,e)}function XL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,n)=>{let r=!1;for(const i of fc(t)){const s=JL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JL(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ha(c,u):Ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Gt(Ue.comparator);function ns(){return ZL}const pI=new Gt(Ue.comparator);function Jl(...t){let e=pI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=pI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return hc()}function gI(){return hc()}function hc(){return new dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const e5=new Gt(Ue.comparator),t5=new An(Ue.comparator);function lt(...t){let e=t5;for(const n of t)e=e.add(n);return e}const n5=new An(bt);function r5(){return n5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function yI(t){return{integerValue:""+t}}function i5(t,e){return NL(e)?yI(e):M0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function s5(t,e,n){return t instanceof Hc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&P0(s)&&(s=A0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qc?xI(t,e):t instanceof Kc?bI(t,e):function(i,s){const o=vI(i,s),a=O_(o)+O_(i.Pe);return Py(o)&&Py(i.Pe)?yI(a):M0(i.serializer,a)}(t,e)}function o5(t,e,n){return t instanceof qc?xI(t,e):t instanceof Kc?bI(t,e):n}function vI(t,e){return t instanceof Df?function(r){return Py(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hc extends Kh{}class qc extends Kh{constructor(e){super(),this.elements=e}}function xI(t,e){const n=_I(e);for(const r of t.elements)n.some(i=>_i(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kc extends Kh{constructor(e){super(),this.elements=e}}function bI(t,e){let n=_I(e);for(const r of t.elements)n=n.filter(i=>!_i(i,r));return{arrayValue:{values:n}}}class Df extends Kh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function O_(t){return tn(t.integerValue||t.doubleValue)}function _I(t){return j0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.field=e,this.transform=n}}function l5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qc&&i instanceof qc||r instanceof Kc&&i instanceof Kc?Ua(r.elements,i.elements,_i):r instanceof Df&&i instanceof Df?_i(r.Pe,i.Pe):r instanceof Hc&&i instanceof Hc}(t.transform,e.transform)}class c5{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gh{}function wI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L0(t.key,$r.none()):new gu(t.key,t.data,$r.none());{const n=t.data,r=ir.empty();let i=new An(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xs(t.key,r,new mr(i.toArray()),$r.none())}}function u5(t,e,n){t instanceof gu?function(i,s,o){const a=i.value.clone(),c=M_(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(i,s,o){if(!Hd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=M_(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(SI(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof gu?function(s,o,a,c){if(!Hd(s.precondition,o))return a;const u=s.value.clone(),f=L_(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(s,o,a,c){if(!Hd(s.precondition,o))return a;const u=L_(s.fieldTransforms,c,o),f=o.data;return f.setAll(SI(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Hd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function d5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vI(r.transform,i||null);s!=null&&(n===null&&(n=ir.empty()),n.set(r.field,s))}return n||null}function N_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(s,o)=>l5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends Gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Gh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M_(t,e,n){const r=new Map;Tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,o5(o,a,n[i]))}return r}function L_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,s5(s,o,e))}return r}class L0 extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f5 extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=wI(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>N_(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>N_(n,r))}}class D0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tt(e.mutations.length===r.length);let i=function(){return e5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new D0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,mt;function g5(t){switch(t){default:return Ye();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function EI(t){if(t===void 0)return ts("GRPC error has no .code"),oe.UNKNOWN;switch(t){case cn.OK:return oe.OK;case cn.CANCELLED:return oe.CANCELLED;case cn.UNKNOWN:return oe.UNKNOWN;case cn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case cn.INTERNAL:return oe.INTERNAL;case cn.UNAVAILABLE:return oe.UNAVAILABLE;case cn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case cn.NOT_FOUND:return oe.NOT_FOUND;case cn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case cn.ABORTED:return oe.ABORTED;case cn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case cn.DATA_LOSS:return oe.DATA_LOSS;default:return Ye()}}(mt=cn||(cn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=new xo([4294967295,4294967295],0);function D_(t){const e=y5().encode(t),n=new GT;return n.update(e),new Uint8Array(n.digest())}function $_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,s],0)]}class $0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(v5)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D_(e),[r,i]=$_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=D_(e),[r,i]=$_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qh(Je.min(),i,new Gt(bt),ns(),lt())}}class yu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class CI{constructor(e,n){this.targetId=e,this.me=n}}class TI{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F_{constructor(){this.fe=0,this.ge=V_(),this.pe=Sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=lt(),n=lt(),r=lt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=V_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class x5{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=z_(),this.Qe=new Gt(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(jy(s))if(r===0){const o=new Ue(s.path);this.Ue(n,o,Hn.newNoDocument(o,Je.min()))}else Tt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ro(r).toUint8Array()}catch(c){if(c instanceof rI)return ko("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $0(o,i,s)}catch(c){return ko(c instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&jy(a.target)){const c=new Ue(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Hn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=lt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Qh(e,n,this.Qe,this.ke,r);return this.ke=ns(),this.qe=z_(),this.Qe=new Gt(bt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new F_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new An(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function z_(){return new Gt(Ue.comparator)}function V_(){return new Gt(Ue.comparator)}const b5={asc:"ASCENDING",desc:"DESCENDING"},_5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w5={and:"AND",or:"OR"};class S5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function My(t,e){return t.useProto3Json||Uh(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E5(t,e){return $f(t,e.toTimestamp())}function yi(t){return Tt(!!t),Je.fromTimestamp(function(n){const r=Bs(n);return new pn(r.seconds,r.nanos)}(t))}function F0(t,e){return Ly(t,e).canonicalString()}function Ly(t,e){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kI(t){const e=Lt.fromString(t);return Tt(OI(e)),e}function Dy(t,e){return F0(t.databaseId,e.path)}function Qm(t,e){const n=kI(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(PI(n))}function RI(t,e){return F0(t.databaseId,e)}function C5(t){const e=kI(t);return e.length===4?Lt.emptyPath():PI(e)}function $y(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function T5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Tt(f===void 0||typeof f=="string"),Sn.fromBase64String(f||"")):(Tt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Sn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?oe.UNKNOWN:EI(u.code);return new Se(f,u.message||"")}(o);n=new TI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qm(t,r.document.name),s=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):Je.min(),a=new ir({mapValue:{fields:r.document.fields}}),c=Hn.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new qd(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qm(t,r.document),s=r.readTime?yi(r.readTime):Je.min(),o=Hn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qm(t,r.document),s=r.removedTargetIds||[];n=new qd([],s,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m5(i,s),a=r.targetId;n=new CI(a,o)}}return n}function I5(t,e){let n;if(e instanceof gu)n={update:B_(t,e.key,e.value)};else if(e instanceof L0)n={delete:Dy(t,e.key)};else if(e instanceof Xs)n={update:B_(t,e.key,e.data),updateMask:L5(e.fieldMask)};else{if(!(e instanceof f5))return Ye();n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Df)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:E5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ye()}(t,e.precondition)),n}function k5(t,e){return t&&t.length>0?(Tt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yi(i.updateTime):yi(s);return o.isEqual(Je.min())&&(o=yi(s)),new c5(o,i.transformResults||[])}(n,e))):[]}function R5(t,e){return{documents:[RI(t,e.path)]}}function P5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RI(t,i);const s=function(u){if(u.length!==0)return jI(ri.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:ra(m.field),direction:O5(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=My(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function A5(t){let e=C5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=AI(h);return m instanceof ri&&aI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(C){return new Wc(ia(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Uh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,E=h.values||[];return new Lf(E,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,E=h.values||[];return new Lf(E,m)}(n.endAt)),QL(e,i,o,s,a,"F",c,u)}function j5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ia(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ia(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ia(n.unaryFilter.field);return fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ia(n.unaryFilter.field);return fn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(n){return fn.create(ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>AI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(n.compositeFilter.op))}(t):Ye()}function O5(t){return b5[t]}function N5(t){return _5[t]}function M5(t){return w5[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return _n.fromServerFormat(t.fieldPath)}function jI(t){return t instanceof fn?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(I_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(I_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:N5(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>jI(i));return r.length===1?r[0]:{compositeFilter:{op:M5(n.op),filters:r}}}(t):Ye()}function L5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,s=Je.min(),o=Je.min(),a=Sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.ct=e}}function $5(t){const e=A5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.un=new z5}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Vs.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class z5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new An(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new An(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.changes=new dl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,mr.empty(),pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Jl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ns();const o=hc(),a=function(){return hc()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Xs)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),pc(f.mutation,u,f.mutation.getFieldMask(),pn.now())):o.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new B5(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hc();let i=new Gt((o,a)=>o-a),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||mr.empty();f=a.applyToLocalView(u,f),r.set(c,f);const h=(i.get(a.batchId)||lt()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,h=gI();f.forEach(m=>{if(!s.has(m)){const E=wI(n.get(m),r.get(m));E!==null&&h.set(m,E),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(mo());let a=-1,c=s;return o.next(u=>le.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,lt())).next(f=>({batchId:a,changes:mI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let i=Jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Jl();return this.indexManager.getCollectionParents(e,s).next(a=>le.forEach(a,c=>{const u=function(h,m){return new ul(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Hn.newInvalidDocument(f)))});let a=Jl();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&pc(f.mutation,u,mr.empty(),pn.now()),qh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$5(i.bundledQuery),readTime:yi(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.overlays=new Gt(Ue.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return le.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=mo(),s=n.length+1,o=new Ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=mo(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=mo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p5(n,r));let s=this.Ir.get(n);s===void 0&&(s=lt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Tr=new An(xn.Er),this.dr=new An(xn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ue(new Lt([])),r=new xn(n,e),i=new xn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ue(new Lt([])),r=new xn(n,e),i=new xn(n,e+1);let s=lt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ue.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new An(xn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new xn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new An(bt);return n.forEach(i=>{const s=new xn(i,0),o=new xn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const o=new xn(new Ue(s),0);let a=new An(bt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,i=>{const s=new xn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xn(n,0),i=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Mr=e,this.docs=function(){return new Gt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ns();const o=n.path,a=new Ue(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PL(RL(f),r)<=0||(i.has(f.key)||qh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ye()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q5(this)}getSize(e){return le.resolve(this.size)}}class Q5 extends V5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.persistence=e,this.Nr=new dl(n=>O0(n),N0),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new z0,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(s).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new R0(0),this.Kr=!1,this.Kr=!0,this.$r=new q5,this.referenceDelegate=e(this),this.Ur=new Y5(this),this.indexManager=new F5,this.remoteDocumentCache=function(i){return new G5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new D5(n),this.Gr=new W5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new K5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new J5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class J5 extends jL{constructor(e){super(),this.currentSequenceNumber=e}}class V0{constructor(e){this.persistence=e,this.Jr=new z0,this.Yr=null}static Zr(e){return new V0(e)}get Xr(){if(this.Yr)return this.Yr;throw Ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const i=Ue.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Je.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=lt(),i=lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new B0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tM()?8:OL(Kn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Z5;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ll()<=ft.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ll()<=ft.DEBUG&&Le("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ll()<=ft.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):le.resolve())}Yi(e,n){if(j_(n))return le.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ny(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=lt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,Ny(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return j_(n)||i.isEqual(Je.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?le.resolve(null):(Ll()<=ft.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.rs(e,o,n,kL(i,-1)).next(a=>a))})}ts(e,n){let r=new An(hI(e));return n.forEach((i,s)=>{qh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ll()<=ft.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",na(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Gt(bt),this._s=new dl(s=>O0(s),N0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nD(t,e,n,r){return new tD(t,e,n,r)}async function NI(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=lt();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function rD(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){const h=u.batch,m=h.keys();let E=le.resolve();return m.forEach(C=>{E=E.next(()=>f.getEntry(c,C)).next(x=>{const I=u.docVersions.get(C);Tt(I!==null),x.version.compareTo(I)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),f.addEntry(x)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=lt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MI(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function iD(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let E=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(Sn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(x,I,T){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(s,E))});let c=ns(),u=lt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(sD(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(Je.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return le.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function sD(t,e,n){let r=lt(),i=lt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ns();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function oD(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aD(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,le.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Fy(t,e,n){const r=Ze(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!mu(o))throw o;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function U_(t,e,n){const r=Ze(t);let i=Je.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const h=Ze(c),m=h._s.get(f);return m!==void 0?le.resolve(h.os.get(m)):h.Ur.getTargetData(u,f)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Je.min(),n?s:lt())).next(a=>(lD(r,XL(e),a),{documents:a,Ts:s})))}function lD(t,e,n){let r=t.us.get(e)||Je.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class W_{constructor(){this.activeTargetIds=r5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.so=new W_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function Ym(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class hD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Ym(),c=this.xo(n,r.toUriEncodedString());Le("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(f=>(Le("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ko("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=dD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ym();return new Promise((o,a)=>{const c=new QT;c.setWithCredentials(!0),c.listenOnce(YT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ud.NO_ERROR:const f=c.getResponseJson();Le($n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ud.TIMEOUT:Le($n,`RPC '${e}' ${s} timed out`),a(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const h=c.getStatus();if(Le($n,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const C=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(T)>=0?T:oe.UNKNOWN}(E.status);a(new Se(C,E.message))}else a(new Se(oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Le($n,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Le($n,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Ym(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZT(),a=JT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Le($n,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);let m=!1,E=!1;const C=new fD({Io:I=>{E?Le($n,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Le($n,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Le($n,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),x=(I,T,g)=>{I.listen(T,b=>{try{g(b)}catch(k){setTimeout(()=>{throw k},0)}})};return x(h,Xl.EventType.OPEN,()=>{E||(Le($n,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),x(h,Xl.EventType.CLOSE,()=>{E||(E=!0,Le($n,`RPC '${e}' stream ${i} transport closed`),C.So())}),x(h,Xl.EventType.ERROR,I=>{E||(E=!0,ko($n,`RPC '${e}' stream ${i} transport errored:`,I),C.So(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),x(h,Xl.EventType.MESSAGE,I=>{var T;if(!E){const g=I.data[0];Tt(!!g);const b=g,k=b.error||((T=b[0])===null||T===void 0?void 0:T.error);if(k){Le($n,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let N=function(_){const S=cn[_];if(S!==void 0)return EI(S)}(M),w=k.message;N===void 0&&(N=oe.INTERNAL,w="Unknown error status: "+M+" with message "+k.message),E=!0,C.So(new Se(N,w)),h.close()}else Le($n,`RPC '${e}' stream ${i} received:`,g),C.bo(g)}}),x(a,XT.STAT_EVENT,I=>{I.stat===ky.PROXY?Le($n,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===ky.NOPROXY&&Le($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return new S5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pD extends DI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=T5(this.serializer,e),r=function(s){if(!("targetChange"in s))return Je.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?yi(o.readTime):Je.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$y(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=jy(c)?{documents:R5(s,c)}:{query:P5(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=II(s,o.resumeToken);const u=My(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Je.min())>0){a.readTime=$f(s,o.snapshotVersion.toTimestamp());const u=My(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=j5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$y(this.serializer),n.removeTarget=e,this.a_(n)}}class mD extends DI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=k5(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$y(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ly(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(oe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ly(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(oe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ts(n),this.D_=!1):Le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{zo(this)&&(Le("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Ze(c);u.L_.add(4),await vu(u),u.q_.set("Unknown"),u.L_.delete(4),await Xh(u)}(this))})}),this.q_=new yD(r,i)}}async function Xh(t){if(zo(t))for(const e of t.B_)await e(!0)}async function vu(t){for(const e of t.B_)await e(!1)}function $I(t,e){const n=Ze(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),q0(n)?H0(n):fl(n).r_()&&W0(n,e))}function U0(t,e){const n=Ze(t),r=fl(n);n.N_.delete(e),r.r_()&&FI(n,e),n.N_.size===0&&(r.r_()?r.o_():zo(n)&&n.q_.set("Unknown"))}function W0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).A_(e)}function FI(t,e){t.Q_.xe(e),fl(t).R_(e)}function H0(t){t.Q_=new x5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.q_.v_()}function q0(t){return zo(t)&&!fl(t).n_()&&t.N_.size>0}function zo(t){return Ze(t).L_.size===0}function zI(t){t.Q_=void 0}async function xD(t){t.q_.set("Online")}async function bD(t){t.N_.forEach((e,n)=>{W0(t,e)})}async function _D(t,e){zI(t),q0(t)?(t.q_.M_(e),H0(t)):t.q_.set("Unknown")}async function wD(t,e,n){if(t.q_.set("Online"),e instanceof TI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ff(t,r)}else if(e instanceof qd?t.Q_.Ke(e):e instanceof CI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Je.min()))try{const r=await MI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(Sn.EMPTY_BYTE_STRING,f.snapshotVersion)),FI(s,c);const h=new Cs(f.target,c,u,f.sequenceNumber);W0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),await Ff(t,r)}}async function Ff(t,e,n){if(!mu(e))throw e;t.L_.add(1),await vu(t),t.q_.set("Offline"),n||(n=()=>MI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xh(t)})}function VI(t,e){return e().catch(n=>Ff(t,n,e))}async function Jh(t){const e=Ze(t),n=Us(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SD(e);)try{const i=await oD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ED(e,i)}catch(i){await Ff(e,i)}BI(e)&&UI(e)}function SD(t){return zo(t)&&t.O_.length<10}function ED(t,e){t.O_.push(e);const n=Us(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BI(t){return zo(t)&&!Us(t).n_()&&t.O_.length>0}function UI(t){Us(t).start()}async function CD(t){Us(t).p_()}async function TD(t){const e=Us(t);for(const n of t.O_)e.m_(n.mutations)}async function ID(t,e,n){const r=t.O_.shift(),i=D0.from(r,e,n);await VI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function kD(t,e){e&&Us(t).V_&&await async function(r,i){if(function(o){return g5(o)&&o!==oe.ABORTED}(i.code)){const s=r.O_.shift();Us(r).s_(),await VI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jh(r)}}(t,e),BI(t)&&UI(t)}async function q_(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=zo(n);n.L_.add(3),await vu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xh(n)}async function RD(t,e){const n=Ze(t);e?(n.L_.delete(2),await Xh(n)):e||(n.L_.add(2),await vu(n),n.q_.set("Unknown"))}function fl(t){return t.K_||(t.K_=function(n,r,i){const s=Ze(n);return s.w_(),new pD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xD.bind(null,t),Ro:bD.bind(null,t),mo:_D.bind(null,t),d_:wD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),q0(t)?H0(t):t.q_.set("Unknown")):(await t.K_.stop(),zI(t))})),t.K_}function Us(t){return t.U_||(t.U_=function(n,r,i){const s=Ze(n);return s.w_(),new mD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CD.bind(null,t),mo:kD.bind(null,t),f_:TD.bind(null,t),g_:ID.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jh(t)):(await t.U_.stop(),t.O_.length>0&&(Le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new K0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G0(t,e){if(ts("AsyncQueue",`${e}: ${t}`),mu(t))return new Se(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.W_=new Gt(Ue.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,Ta.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AD{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ze(n),s=i.queries;i.queries=G_(),s.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function G_(){return new dl(t=>fI(t),Hh)}async function Q0(t,e){const n=Ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new PD,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=G0(o,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&X0(n)}async function Y0(t,e){const n=Ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jD(t,e){const n=Ze(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&X0(n)}function OD(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function X0(t){t.Y_.forEach(e=>{e.next()})}var zy,Q_;(Q_=zy||(zy={})).ea="default",Q_.Cache="cache";class J0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.key=e}}class HI{constructor(e){this.key=e}}class ND{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=lt(),this.mutatedKeys=lt(),this.Aa=hI(e),this.Ra=new Ta(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new K_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=qh(this.query,h)?h:null,C=!!m&&this.mutatedKeys.has(m.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;m&&E?m.data.isEqual(E.data)?C!==x&&(r.track({type:3,doc:E}),I=!0):this.ga(m,E)||(r.track({type:2,doc:E}),I=!0,(c&&this.Aa(E,c)>0||u&&this.Aa(E,u)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),I=!0):m&&!E&&(r.track({type:1,doc:m}),I=!0,(c||u)&&(a=!0)),I&&(E?(o=o.add(E),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(E,C){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return x(E)-x(C)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Ga(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=lt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WI(r))}),n}ba(e){this.Ta=e.Ts,this.da=lt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LD{constructor(e){this.key=e,this.va=!1}}class DD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new dl(a=>fI(a),Hh),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Ue.comparator),this.Na=new Map,this.La=new z0,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $D(t,e,n=!0){const r=XI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await qI(r,e,n,!0),i}async function FD(t,e){const n=XI(t);await qI(n,e,!0,!1)}async function qI(t,e,n,r){const i=await aD(t.localStore,gi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await zD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,i),a}async function zD(t,e,n,r,i){t.Ka=(h,m,E)=>async function(x,I,T,g){let b=I.view.ma(T);b.ns&&(b=await U_(x.localStore,I.query,!1).then(({documents:w})=>I.view.ma(w,b)));const k=g&&g.targetChanges.get(I.targetId),M=g&&g.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(b,x.isPrimaryClient,k,M);return X_(x,I.targetId,N.wa),N.snapshot}(t,h,m,E);const s=await U_(t.localStore,e,!0),o=new ND(e,s.Ts),a=o.ma(s.documents),c=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);X_(t,n,u.wa);const f=new MD(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function VD(t,e,n){const r=Ze(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U0(r.remoteStore,i.targetId),Vy(r,i.targetId)}).catch(pu)):(Vy(r,i.targetId),await Fy(r.localStore,i.targetId,!0))}async function BD(t,e){const n=Ze(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U0(n.remoteStore,r.targetId))}async function UD(t,e,n){const r=YD(t);try{const i=await function(o,a){const c=Ze(o),u=pn.now(),f=a.reduce((E,C)=>E.add(C.key),lt());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=ns(),x=lt();return c.cs.getEntries(E,f).next(I=>{C=I,C.forEach((T,g)=>{g.isValidDocument()||(x=x.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,C)).next(I=>{h=I;const T=[];for(const g of a){const b=d5(g,h.get(g.key).overlayedDocument);b!=null&&T.push(new Xs(g.key,b,iI(b.value.mapValue),$r.exists(!0)))}return c.mutationQueue.addMutationBatch(E,u,T,a)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(E,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:mI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Gt(bt)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await xu(r,i.changes),await Jh(r.remoteStore)}catch(i){const s=G0(i,"Failed to persist write");n.reject(s)}}async function KI(t,e){const n=Ze(t);try{const r=await iD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Tt(o.va):i.removedDocuments.size>0&&(Tt(o.va),o.va=!1))}),await xu(n,r,e)}catch(r){await pu(r)}}function Y_(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Ze(o);c.onlineState=a;let u=!1;c.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(u=!0)}),u&&X0(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WD(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Gt(Ue.comparator);o=o.insert(s,Hn.newNoDocument(s,Je.min()));const a=lt().add(s),c=new Qh(Je.min(),new Map,new Gt(bt),o,a);await KI(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z0(r)}else await Fy(r.localStore,e,!1).then(()=>Vy(r,e,n)).catch(pu)}async function HD(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await rD(n.localStore,e);QI(n,r,null),GI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,i)}catch(i){await pu(i)}}async function qD(t,e,n){const r=Ze(t);try{const i=await function(o,a){const c=Ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(Tt(h!==null),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);QI(r,e,n),GI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,i)}catch(i){await pu(i)}}function GI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QI(t,e,n){const r=Ze(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YI(t,r)})}function YI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z0(t))}function X_(t,e,n){for(const r of n)r instanceof WI?(t.La.addReference(r.key,e),KD(t,r)):r instanceof HI?(Le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YI(t,r.key)):Ye()}function KD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Le("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z0(t))}function Z0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ue(Lt.fromString(e)),r=t.qa.next();t.Na.set(r,new LD(n)),t.Oa=t.Oa.insert(n,r),$I(t.remoteStore,new Cs(gi(Wh(n.path)),r,"TargetPurposeLimboResolution",R0.oe))}}async function xu(t,e,n){const r=Ze(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=B0.Wi(c.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const f=Ze(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(u,m=>le.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>le.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!mu(h))throw h;Le("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),C=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(m,x)}}}(r.localStore,s))}async function GD(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=await NI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new Se(oe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.hs)}}function QD(t,e){const n=Ze(t),r=n.Na.get(e);if(r&&r.va)return lt().add(r.key);{let i=lt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function XI(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WD.bind(null,e),e.Ca.d_=jD.bind(null,e.eventManager),e.Ca.$a=OD.bind(null,e.eventManager),e}function YD(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return nD(this.persistence,new eD,e.initialUser,this.serializer)}Ga(e){return new X5(V0.Zr,this.serializer)}Wa(e){return new cD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class By{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),await RD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AD}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(s){return new hD(s)}(e.databaseInfo);return function(s,o,a,c){return new gD(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Y_(this.syncEngine,n,0),function(){return H_.D()?new H_:new uD}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,f){const h=new DD(i,s,o,a,c,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ze(i);Le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await vu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await NI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JD(t);Le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q_(e.remoteStore,i)),t._onlineComponents=e}async function JD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new zf)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),await Jm(t,new zf);return t._offlineComponents}async function JI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),await J_(t,new By))),t._onlineComponents}function ZD(t){return JI(t).then(e=>e.syncEngine)}async function Vf(t){const e=await JI(t),n=e.eventManager;return n.onListen=$D.bind(null,e.syncEngine),n.onUnlisten=VD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BD.bind(null,e.syncEngine),n}function e6(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const f=new ex({next:m=>{f.Za(),o.enqueueAndForget(()=>Y0(s,h));const E=m.docs.has(a);!E&&m.fromCache?u.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&c&&c.source==="server"?u.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new J0(Wh(a.path),f,{includeMetadataChanges:!0,_a:!0});return Q0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}function t6(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const f=new ex({next:m=>{f.Za(),o.enqueueAndForget(()=>Y0(s,h)),m.fromCache&&c.source==="server"?u.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new J0(a,f,{includeMetadataChanges:!0,_a:!0});return Q0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t2(t,e,n,r){if(e===!0&&r===!0)throw new Se(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!Ue.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(Ue.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(t);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new SL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(Le("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function n2(t,e,n,r={}){var i;const s=(t=Zn(t,ep))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Un.MOCK_USER;else{a=BT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Un(u)}t._authCredentials=new bL(new eI(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Ki extends as{constructor(e,n,r){super(e,n,Wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ue(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function ze(t,e,...n){if(t=mn(t),e2("collection","path",e),t instanceof ep){const r=Lt.fromString(e,...n);return tw(r),new Ki(t,null,r)}{if(!(t instanceof jn||t instanceof Ki))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return tw(r),new Ki(t.firestore,null,r)}}function De(t,e,...n){if(t=mn(t),arguments.length===1&&(e=k0.newId()),e2("doc","path",e),t instanceof ep){const r=Lt.fromString(e,...n);return ew(r),new jn(t,null,new Ue(r))}{if(!(t instanceof jn||t instanceof Ki))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return ew(r),new jn(t.firestore,t instanceof Ki?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LI(this,"async_queue_retry"),this.Vu=()=>{const r=Xm();r&&Le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mu(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=K0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function iw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function r2(t,e){const n=typeof t=="object"?t:T0(),r=typeof t=="string"?t:"(default)",i=Bh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FT("firestore");s&&n2(i,...s)}return i}function bu(t){if(t._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n6(t),t._firestoreClient}function n6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,f){return new LL(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ZI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Sn.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=/^__.*__$/;class i6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class i2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class tx{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(s2(this.Cu)&&r6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class s6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}Qu(e,n,r,i=!1){return new tx({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(t){const e=t._freezeSettings(),n=Yh(t._databaseId);return new s6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o2(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);rx("Data must be an object, but it was:",o,r);const a=a2(r,o);let c,u;if(s.merge)c=new mr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=Uy(e,h,n);if(!o.contains(m))throw new Se(oe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);c2(f,m)||f.push(m)}c=new mr(f),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new i6(new ir(a),c,u)}class ip extends wu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}class nx extends wu{_toFieldTransform(e){return new a5(e.path,new Hc)}isEqual(e){return e instanceof nx}}function o6(t,e,n,r){const i=t.Qu(1,e,n);rx("Data must be an object, but it was:",i,r);const s=[],o=ir.empty();Fo(r,(c,u)=>{const f=ix(e,c,n);u=mn(u);const h=i.Nu(f);if(u instanceof ip)s.push(f);else{const m=Su(u,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new mr(s);return new i2(o,a,i.fieldTransforms)}function a6(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Uy(e,r,n)],c=[i];if(s.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Uy(e,s[m])),c.push(s[m+1]);const u=[],f=ir.empty();for(let m=a.length-1;m>=0;--m)if(!c2(u,a[m])){const E=a[m];let C=c[m];C=mn(C);const x=o.Nu(E);if(C instanceof ip)u.push(E);else{const I=Su(C,x);I!=null&&(u.push(E),f.set(E,I))}}const h=new mr(u);return new i2(f,h,o.fieldTransforms)}function l6(t,e,n,r=!1){return Su(n,t.Qu(r?4:3,e))}function Su(t,e){if(l2(t=mn(t)))return rx("Unsupported field value:",e,t),a2(t,e);if(t instanceof wu)return function(r,i){if(!s2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Su(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=pn.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof pn){const s=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof tp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ao)return{bytesValue:II(i.serializer,r._byteString)};if(r instanceof jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof np)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return M0(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Zh(r)}`)}(t,e)}function a2(t,e){const n={};return nI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,(r,i)=>{const s=Su(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function l2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof tp||t instanceof Ao||t instanceof jn||t instanceof wu||t instanceof np)}function rx(t,e,n){if(!l2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Uy(t,e,n){if((e=mn(e))instanceof _u)return e._internalPath;if(typeof e=="string")return ix(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const c6=new RegExp("[~\\*/\\[\\]]");function ix(t,e,n){if(e.search(c6)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _u(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Se(oe.INVALID_ARGUMENT,a+t+c)}function c2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u6 extends u2{data(){return super.data()}}function sp(t,e){return typeof e=="string"?ix(t,e):e instanceof _u?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class ox extends sx{}function br(t,e,...n){let r=[];e instanceof sx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof op).length,a=s.filter(c=>c instanceof Eu).length;if(o>1||o>0&&a>0)throw new Se(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Eu extends ox{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Eu(e,n,r)}_apply(e){const n=this._parse(e);return h2(e._query,n),new as(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=rp(e.firestore);return function(s,o,a,c,u,f,h){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){ow(h,f);const E=[];for(const C of h)E.push(sw(c,s,C));m={arrayValue:{values:E}}}else m=sw(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||ow(h,f),m=l6(a,o,h,f==="in"||f==="not-in");return fn.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _r(t,e,n){const r=e,i=sp("where",t);return Eu._create(i,r,n)}class op extends sx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new op(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)h2(o,c),o=Oy(o,c)}(e._query,n),new as(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ap extends ox{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ap(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(s,o)}(e._query,this._field,this._direction);return new as(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ul(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function f2(t,e="asc"){const n=e,r=sp("orderBy",t);return ap._create(r,n)}function sw(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(e)&&n.indexOf("/")!==-1)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Ue.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T_(t,new Ue(r))}if(n instanceof jn)return T_(t,n._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function ow(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class p2{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>tn(o.doubleValue));return new np(s)}convertGeoPoint(e){return new tp(tn(e.latitude),tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=A0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Tt(OI(r));const i=new Wa(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return i.isEqual(n)||ts(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ax extends u2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mc extends ax{data(e={}){return super.data(e)}}class lx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mc(this._firestore,this._userDataWriter,r.key,r,new va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:d6(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){t=Zn(t,jn);const e=Zn(t.firestore,wi);return e6(bu(e),t._key).then(n=>g2(e,t,n))}class cx extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function Ht(t){t=Zn(t,as);const e=Zn(t.firestore,wi),n=bu(e),r=new cx(e);return d2(t._query),t6(n,t._query).then(i=>new lx(e,r,t,i))}function wr(t,e,n){t=Zn(t,jn);const r=Zn(t.firestore,wi),i=m2(t.converter,e,n);return Cu(r,[o2(rp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function rn(t,e,n,...r){t=Zn(t,jn);const i=Zn(t.firestore,wi),s=rp(i);let o;return o=typeof(e=mn(e))=="string"||e instanceof _u?a6(s,"updateDoc",t._key,e,n,r):o6(s,"updateDoc",t._key,e),Cu(i,[o.toMutation(t._key,$r.exists(!0))])}function Fr(t){return Cu(Zn(t.firestore,wi),[new L0(t._key,$r.none())])}function rs(t,e){const n=Zn(t.firestore,wi),r=De(t),i=m2(t.converter,e);return Cu(n,[o2(rp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function Rt(t,...e){var n,r,i;t=mn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||iw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(iw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,f;if(t instanceof jn)u=Zn(t.firestore,wi),f=Wh(t._key.path),c={next:h=>{e[o]&&e[o](g2(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Zn(t,as);u=Zn(h.firestore,wi),f=h._query;const m=new cx(u);c={next:E=>{e[o]&&e[o](new lx(u,m,h,E))},error:e[o+1],complete:e[o+2]},d2(t._query)}return function(m,E,C,x){const I=new ex(x),T=new J0(E,I,C);return m.asyncQueue.enqueueAndForget(async()=>Q0(await Vf(m),T)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>Y0(await Vf(m),T))}}(bu(u),f,a,c)}function Cu(t,e){return function(r,i){const s=new qi;return r.asyncQueue.enqueueAndForget(async()=>UD(await ZD(r),i,s)),s.promise}(bu(t),e)}function g2(t,e,n){const r=n.docs.get(e._key),i=new cx(t);return new ax(t,i,e._key,r,new va(n.hasPendingWrites,n.fromCache),e.converter)}function Wy(){return new nx("serverTimestamp")}(function(e,n=!0){(function(i){cl=i})($o),To(new zs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wi(new _L(r.getProvider("auth-internal")),new CL(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(__,"4.7.3",e),mi(__,"4.7.3","esm2017")})();const ux=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:p2,Bytes:Ao,CollectionReference:Ki,DocumentReference:jn,DocumentSnapshot:ax,FieldPath:_u,FieldValue:wu,Firestore:wi,FirestoreError:Se,GeoPoint:tp,Query:as,QueryCompositeFilterConstraint:op,QueryConstraint:ox,QueryDocumentSnapshot:mc,QueryFieldFilterConstraint:Eu,QueryOrderByConstraint:ap,QuerySnapshot:lx,SnapshotMetadata:va,Timestamp:pn,VectorValue:np,_AutoId:k0,_ByteString:Sn,_DatabaseId:Wa,_DocumentKey:Ue,_EmptyAuthCredentialsProvider:tI,_FieldPath:_n,_cast:Zn,_logWarn:ko,_validateIsNotUsedTogether:t2,addDoc:rs,collection:ze,connectFirestoreEmulator:n2,deleteDoc:Fr,doc:De,ensureFirestoreConfigured:bu,executeWrite:Cu,getDoc:hn,getDocs:Ht,getFirestore:r2,onSnapshot:Rt,orderBy:f2,query:br,serverTimestamp:Wy,setDoc:wr,updateDoc:rn,where:_r},Symbol.toStringTag,{value:"Module"}));function dx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v2=y2,x2=new fu("auth","Firebase",y2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new E0("@firebase/auth");function f6(t,...e){Uf.logLevel<=ft.WARN&&Uf.warn(`Auth (${$o}): ${t}`,...e)}function Kd(t,...e){Uf.logLevel<=ft.ERROR&&Uf.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw fx(t,...e)}function vi(t,...e){return fx(t,...e)}function b2(t,e,n){const r=Object.assign(Object.assign({},v2()),{[e]:n});return new fu("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return b2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x2.create(t,...e)}function Qe(t,e,...n){if(!t)throw fx(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function is(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h6(){return aw()==="http:"||aw()==="https:"}function aw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h6()||JN()||"connection"in navigator)?navigator.onLine:!0}function m6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=QN()||ZN()}get(){return p6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new Tu(3e4,6e4);function Js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,i={}){return w2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return XN()||(u.referrerPolicy="no-referrer"),_2.fetch()(S2(t,t.config.apiHost,n,a),u)})}async function w2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g6),e);try{const i=new x6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bd(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw b2(t,f,u);ii(t,f)}}catch(i){if(i instanceof Ti)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function Iu(t,e,n,r,i={}){const s=await Zs(t,e,n,r,i);return"mfaPendingCredential"in s&&ii(t,"multi-factor-auth-required",{_serverResponse:s}),s}function S2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?hx(t.config,i):`${t.config.apiScheme}://${i}`}function v6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),y6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}function lw(t){return t!==void 0&&t.enterprise!==void 0}class b6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _6(t,e){return Zs(t,"GET","/v2/recaptchaConfig",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function E2(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(t,e=!1){const n=mn(t),r=await n.getIdToken(e),i=px(r);Qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gc(Zm(i.auth_time)),issuedAtTime:gc(Zm(i.iat)),expirationTime:gc(Zm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zm(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=DT(n);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cw(t){const e=px(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&S6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gc(t,E2(n,{idToken:r}));Qe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I2(s.providerUserInfo):[],a=C6(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function T2(t){const e=mn(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I2(t){return t.map(e=>{var{providerId:n}=e,r=dx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){const n=await w2(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=S2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I6(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await T6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ia;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return T2(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Gc(this,w6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:k,isAnonymous:M,providerData:N,stsTokenManager:w}=n;Qe(b&&w,e,"internal-error");const p=Ia.fromJSON(this.name,w);Qe(typeof b=="string",e,"internal-error"),ms(h,e.name),ms(m,e.name),Qe(typeof k=="boolean",e,"internal-error"),Qe(typeof M=="boolean",e,"internal-error"),ms(E,e.name),ms(C,e.name),ms(x,e.name),ms(I,e.name),ms(T,e.name),ms(g,e.name);const _=new Ui({uid:b,auth:e,email:m,emailVerified:k,displayName:h,isAnonymous:M,photoURL:C,phoneNumber:E,tenantId:x,stsTokenManager:p,createdAt:T,lastLoginAt:g});return N&&Array.isArray(N)&&(_.providerData=N.map(S=>Object.assign({},S))),I&&(_._redirectEventId=I),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ia;i.updateFromServerResponse(n);const s=new Ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?I2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ia;a.updateFromIdToken(r);const c=new Ui({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function Wi(t){is(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k2.type="NONE";const Ky=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(Wi(Ky),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wi(Ky);const o=Gd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const h=Ui._fromJSON(e,f);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ka(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ka(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(M2(e))return"Webos";if(P2(e))return"Safari";if((e.includes("chrome/")||A2(e))&&!e.includes("edge/"))return"Chrome";if(O2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R2(t=Kn()){return/firefox\//i.test(t)}function P2(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A2(t=Kn()){return/crios\//i.test(t)}function j2(t=Kn()){return/iemobile/i.test(t)}function O2(t=Kn()){return/android/i.test(t)}function N2(t=Kn()){return/blackberry/i.test(t)}function M2(t=Kn()){return/webos/i.test(t)}function mx(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k6(t=Kn()){var e;return mx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R6(){return eM()&&document.documentMode===10}function L2(t=Kn()){return mx(t)||O2(t)||M2(t)||N2(t)||/windows phone/i.test(t)||j2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e=[]){let n;switch(t){case"Browser":n=dw(Kn());break;case"Worker":n=`${dw(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=6;class O6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:j6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new P6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await E2(this,{idToken:e}),r=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Gi(this));const n=e?mn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A6(this),n=new O6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&f6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return mn(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M6(t){lp=t}function $2(t){return lp.loadJS(t)}function L6(){return lp.recaptchaEnterpriseScript}function D6(){return lp.gapiScript}function $6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const F6="recaptcha-enterprise",z6="NO_RECAPTCHA";class V6{constructor(e){this.type=F6,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new b6(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;lw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(z6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=L6();c.length!==0&&(c+=a),$2(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function hw(t,e,n,r=!1){const i=new V6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await hw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){const n=Bh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Of(s,e??{}))return i;ii(i,"already-initialized")}return n.initialize({options:e})}function B6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function z2(t,e,n){const r=Vo(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=V2(e),{host:o,port:a}=U6(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),W6()}function V2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U6(t){const e=V2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pw(o)}}}function pw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function H6(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e){return Iu(t,"POST","/v1/accounts:signInWithPassword",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}async function G6(t,e){return Iu(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends cp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gy(e,n,"signInWithPassword",q6);case"emailLink":return K6(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gy(e,r,"signUpPassword",H6);case"emailLink":return G6(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e){return Iu(t,"POST","/v1/accounts:signInWithIdp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="http://localhost";class Ws extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dx(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){const e={requestUri:Q6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X6(t){const e=Ql(Yl(t)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(t)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||t}class up{constructor(e){var n,r,i,s,o,a;const c=Ql(Yl(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Y6((i=c.mode)!==null&&i!==void 0?i:null);Qe(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=X6(e);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=up.parseLink(n);return Qe(r,"argument-error"),Qa._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends B2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ku{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ku{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ku{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){return Iu(t,"POST","/v1/accounts:signUp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ui._fromIdTokenResponse(e,r,i),o=mw(r);return new jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mw(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hf(e,n,r,i)}}function U2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(t,s,e,r):s})}async function Z6(t,e,n=!1){const r=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const s=await Gc(t,U2(r,i,e,t),n);Qe(s.idToken,r,"internal-error");const o=px(s.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),jo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e,n=!1){if(fi(t.app))return Promise.reject(Gi(t));const r="signIn",i=await U2(t,r,e),s=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function H2(t,e){return W2(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ec(t,e,n){if(fi(t.app))return Promise.reject(Gi(t));const r=Vo(t),o=await Gy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&q2(t),c}),a=await jo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function K2(t,e,n){return fi(t.app)?Promise.reject(Gi(t)):H2(mn(t),Bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q2(t),r})}function G2(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function Q2(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function Ii(t,e,n,r){return mn(t).onAuthStateChanged(e,n,r)}function Y2(t){return mn(t).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=1e3,n4=10;class J2 extends X2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);R6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J2.type="LOCAL";const Z2=J2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends X2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ek.type="SESSION";const gx=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await r4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=yx("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function s4(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function o4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function l4(){return tk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebaseLocalStorageDb",c4=1,Kf="firebaseLocalStorage",rk="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fp(t,e){return t.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function u4(){const t=indexedDB.deleteDatabase(nk);return new Ru(t).toPromise()}function Qy(){const t=indexedDB.open(nk,c4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kf,{keyPath:rk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kf)?e(r):(r.close(),await u4(),e(await Qy()))})})}async function gw(t,e,n){const r=fp(t,!0).put({[rk]:e,value:n});return new Ru(r).toPromise()}async function d4(t,e){const n=fp(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function yw(t,e){const n=fp(t,!0).delete(e);return new Ru(n).toPromise()}const f4=800,h4=3;class ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dp._getInstance(l4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o4(),!this.activeServiceWorker)return;this.sender=new i4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qy();return await gw(e,qf,"1"),await yw(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fp(i,!1).getAll();return new Ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ik.type="LOCAL";const sk=ik;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){return e?Wi(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m4(t){return W2(t.auth,new vx(t),t.bypassAuthState)}function g4(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),e4(n,new vx(t),t.bypassAuthState)}async function y4(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),Z6(n,new vx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m4;case"linkViaPopup":case"linkViaRedirect":return y4;case"reauthViaPopup":case"reauthViaRedirect":return g4;default:ii(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Tu(2e3,1e4);class xa extends ok{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v4.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="pendingRedirect",Qd=new Map;class b4 extends ok{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await _4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _4(t,e){const n=E4(e),r=S4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function w4(t,e){Qd.set(t._key(),e)}function S4(t){return Wi(t._redirectPersistence)}function E4(t){return Gd(x4,t.config.apiKey,t.name)}async function C4(t,e,n=!1){if(fi(t.app))return Promise.reject(Gi(t));const r=Vo(t),i=p4(r,e),o=await new b4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=10*60*1e3;class I4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ak(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T4&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ak({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ak(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A4=/^https?/;async function j4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R4(t);for(const n of e)try{if(O4(n))return}catch{}ii(t,"unauthorized-domain")}function O4(t){const e=Hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A4.test(n))return!1;if(P4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Tu(3e4,6e4);function xw(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M4(t){return new Promise((e,n)=>{var r,i,s;function o(){xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xw(),n(vi(t,"network-request-failed"))},timeout:N4.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xi().gapi)===null||s===void 0)&&s.load)o();else{const a=$6("iframefcb");return xi()[a]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},$2(`${D6()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function L4(t){return Yd=Yd||M4(t),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Tu(5e3,15e3),$4="__/auth/iframe",F4="emulator/auth/iframe",z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B4(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hx(e,F4):`https://${t.config.authDomain}/${$4}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=V4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function U4(t){const e=await L4(t),n=xi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:B4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),a=xi().setTimeout(()=>{s(o)},D4.get());function c(){xi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H4=500,q4=600,K4="_blank",G4="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q4(t,e,n,r=H4,i=q4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},W4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kn().toLowerCase();n&&(a=A2(u)?K4:n),R2(u)&&(e=e||G4,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[E,C])=>`${m}${E}=${C},`,"");if(k6(u)&&a!=="_self")return Y4(e||"",a),new bw(null);const h=window.open(e||"",a,f);Qe(h,t,"popup-blocked");try{h.focus()}catch{}return new bw(h)}function Y4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",J4="emulator/auth/handler",Z4=encodeURIComponent("fac");async function _w(t,e,n,r,i,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof B2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof ku){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${Z4}=${encodeURIComponent(c)}`:"";return`${e3(t)}?${hu(a).slice(1)}${u}`}function e3({config:t}){return t.emulator?hx(t,J4):`https://${t.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class t3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gx,this._completeRedirectFn=C4,this._overrideRedirectResult=w4}async _openPopup(e,n,r,i){var s;is((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await _w(e,n,r,Hy(),i);return Q4(e,o,yx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _w(e,n,r,Hy(),i);return s4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(is(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U4(e),r=new I4(e);return n.register("authEvent",i=>(Qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[eg];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L2()||P2()||mx()}}const lk=t3;var ww="@firebase/auth",Sw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i3(t){To(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D2(t)},u=new N6(r,i,s,c);return B6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new zs("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new n3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(ww,Sw,r3(t)),mi(ww,Sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=5*60,o3=VT("authIdTokenMaxAge")||s3;let Ew=null;const a3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o3)return;const i=n==null?void 0:n.token;Ew!==i&&(Ew=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wr(t=T0()){const e=Bh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(t,{popupRedirectResolver:lk,persistence:[sk,Z2,gx]}),r=VT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=a3(s.toString());Q2(n,o,()=>o(n.currentUser)),G2(n,a=>o(a))}}const i=$T("auth");return i&&z2(n,`http://${i}`),n}function l3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",l3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i3("Browser");const ck=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:up,AuthCredential:cp,EmailAuthCredential:Qa,EmailAuthProvider:Bo,FacebookAuthProvider:Mi,GithubAuthProvider:Di,GoogleAuthProvider:Li,OAuthCredential:Ws,TwitterAuthProvider:$i,beforeAuthStateChanged:Q2,browserLocalPersistence:Z2,browserPopupRedirectResolver:lk,browserSessionPersistence:gx,connectAuthEmulator:z2,createUserWithEmailAndPassword:ec,getAuth:Wr,getIdTokenResult:C2,inMemoryPersistence:Ky,indexedDBLocalPersistence:sk,initializeAuth:F2,onAuthStateChanged:Ii,onIdTokenChanged:G2,prodErrorMap:v2,reload:T2,signInWithCredential:H2,signInWithEmailAndPassword:K2,signOut:Y2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="firebasestorage.googleapis.com",c3="storageBucket",u3=2*60*1e3,d3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ti{constructor(e,n,r=0){super(tg(e),`Firebase Storage: ${n} (${tg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function tg(t){return"storage/"+t}function f3(){const t="An unknown error occurred, please check the error payload for server response.";return new ki(Si.UNKNOWN,t)}function h3(){return new ki(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p3(){return new ki(Si.CANCELED,"User canceled the upload/download.")}function m3(t){return new ki(Si.INVALID_URL,"Invalid URL '"+t+"'.")}function g3(t){return new ki(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cw(t){return new ki(Si.INVALID_ARGUMENT,t)}function dk(){return new ki(Si.APP_DELETED,"The Firebase app was deleted.")}function y3(t){return new ki(Si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zr.makeFromUrl(e,n)}catch{return new Zr(e,"")}if(r.path==="")return r;throw g3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},x=n===uk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${x}/${i}/${I}`,"i"),b=[{regex:a,indices:c,postModify:s},{regex:E,indices:C,postModify:u},{regex:T,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<b.length;k++){const M=b[k],N=M.regex.exec(e);if(N){const w=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new Zr(w,p),M.postModify(r);break}}if(r==null)throw m3(e);return r}}class v3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function f(...I){u||(u=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(E,c())},I)}function m(){s&&clearTimeout(s)}function E(I,...T){if(u){m();return}if(I){m(),f.call(null,I,...T);return}if(c()||o){m(),f.call(null,I,...T);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let C=!1;function x(I){C||(C=!0,m(),!u&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function b3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){return t!==void 0}function Tw(t,e,n,r){if(r<e)throw Cw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cw(`Invalid value for '${t}'. Expected ${n} or less.`)}function w3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gf||(Gf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,i,s,o,a,c,u,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,C)=>{this.resolve_=E,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _d(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Gf.NO_ERROR,c=s.getStatus();if(!a||S3(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Gf.ABORT;r(!1,new _d(!1,null,f));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new _d(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());_3(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=f3();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?dk():p3();o(c)}else{const c=h3();o(c)}};this.canceled_?n(!1,new _d(!1,null,!0)):this.backoffId_=x3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function T3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function k3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function R3(t,e,n,r,i,s,o=!0){const a=w3(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return I3(u,e),C3(u,n),T3(u,s),k3(u,r),new E3(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this._service=e,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qf(e,n)}get root(){const e=new Zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A3(this._location.path)}get storage(){return this._service}get parent(){const e=P3(this._location.path);if(e===null)return null;const n=new Zr(this._location.bucket,e);return new Qf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y3(e)}}function Iw(t,e){const n=e==null?void 0:e[c3];return n==null?null:Zr.makeFromBucketSpec(n,t)}function j3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BT(i,t.app.options.projectId))}class O3{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=uk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u3,this._maxUploadRetryTime=d3,this._requests=new Set,i!=null?this._bucket=Zr.makeFromBucketSpec(i,this._host):this._bucket=Iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,e):this._bucket=Iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new v3(dk());{const o=R3(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const kw="@firebase/storage",Rw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="storage";function N3(t=T0(),e){t=mn(t);const r=Bh(t,fk).getImmediate({identifier:e}),i=FT("storage");return i&&M3(r,...i),r}function M3(t,e,n,r={}){j3(t,e,n,r)}function L3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new O3(n,r,i,e,$o)}function D3(){To(new zs(fk,L3,"PUBLIC").setMultipleInstances(!0)),mi(kw,Rw,""),mi(kw,Rw,"esm2017")}D3();const $3={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},hp=HT($3),te=r2(hp),lo=Wr(hp);N3(hp);const F3=Object.freeze(Object.defineProperty({__proto__:null,app:hp,auth:lo,db:te},Symbol.toStringTag,{value:"Module"}));function z3(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),c=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function V3(){const[t,e]=v.useState([]),[n,r]=v.useState(null),[i,s]=v.useState(""),o=Cr();v.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(u=>r({lat:u.coords.latitude,lng:u.coords.longitude}),()=>r(null))},[]),v.useEffect(()=>{async function u(){const h=(await Ht(ze(te,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}u()},[]);const c=t.map(u=>{let f=1/0;return n&&u.location&&u.location.latitude&&u.location.longitude&&(f=z3(n.lat,n.lng,u.location.latitude,u.location.longitude)),{...u,distance:f}}).sort((u,f)=>u.distance-f.distance).filter(u=>{var f;return(f=u.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:u=>s(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:c.map(u=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:u.slug?"pointer":"not-allowed",opacity:u.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>u.slug&&o(`/store/${u.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:u.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:u.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),u.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:u.distance<1?" Very close":`~${u.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",u.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!u.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},u.id))}),c.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}const Qc={black:"#000",white:"#fff"},Qo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Yo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Xo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Jo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Zo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Dl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},B3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Oo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const U3=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),Ya="$$material";function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function Oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function W3(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function H3(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var q3=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(H3(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=W3(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zn="-ms-",Yf="-moz-",_t="-webkit-",hk="comm",xx="rule",bx="decl",K3="@import",pk="@keyframes",G3="@layer",Q3=Math.abs,pp=String.fromCharCode,Y3=Object.assign;function X3(t,e){return Rn(t,0)^45?(((e<<2^Rn(t,0))<<2^Rn(t,1))<<2^Rn(t,2))<<2^Rn(t,3):0}function mk(t){return t.trim()}function J3(t,e){return(t=e.exec(t))?t[0]:t}function wt(t,e,n){return t.replace(e,n)}function Yy(t,e){return t.indexOf(e)}function Rn(t,e){return t.charCodeAt(e)|0}function Yc(t,e,n){return t.slice(e,n)}function ci(t){return t.length}function _x(t){return t.length}function wd(t,e){return e.push(t),t}function Z3(t,e){return t.map(e).join("")}var mp=1,Xa=1,gk=0,ur=0,un=0,hl="";function gp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:mp,column:Xa,length:o,return:""}}function $l(t,e){return Y3(gp("",null,null,"",null,null,0),t,{length:-t.length},e)}function e$(){return un}function t$(){return un=ur>0?Rn(hl,--ur):0,Xa--,un===10&&(Xa=1,mp--),un}function yr(){return un=ur<gk?Rn(hl,ur++):0,Xa++,un===10&&(Xa=1,mp++),un}function bi(){return Rn(hl,ur)}function Xd(){return ur}function Pu(t,e){return Yc(hl,t,e)}function Xc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yk(t){return mp=Xa=1,gk=ci(hl=t),ur=0,[]}function vk(t){return hl="",t}function Jd(t){return mk(Pu(ur-1,Xy(t===91?t+2:t===40?t+1:t)))}function n$(t){for(;(un=bi())&&un<33;)yr();return Xc(t)>2||Xc(un)>3?"":" "}function r$(t,e){for(;--e&&yr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return Pu(t,Xd()+(e<6&&bi()==32&&yr()==32))}function Xy(t){for(;yr();)switch(un){case t:return ur;case 34:case 39:t!==34&&t!==39&&Xy(un);break;case 40:t===41&&Xy(t);break;case 92:yr();break}return ur}function i$(t,e){for(;yr()&&t+un!==57;)if(t+un===84&&bi()===47)break;return"/*"+Pu(e,ur-1)+"*"+pp(t===47?t:yr())}function s$(t){for(;!Xc(bi());)yr();return Pu(t,ur)}function o$(t){return vk(Zd("",null,null,null,[""],t=yk(t),0,[0],t))}function Zd(t,e,n,r,i,s,o,a,c){for(var u=0,f=0,h=o,m=0,E=0,C=0,x=1,I=1,T=1,g=0,b="",k=i,M=s,N=r,w=b;I;)switch(C=g,g=yr()){case 40:if(C!=108&&Rn(w,h-1)==58){Yy(w+=wt(Jd(g),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:w+=Jd(g);break;case 9:case 10:case 13:case 32:w+=n$(C);break;case 92:w+=r$(Xd()-1,7);continue;case 47:switch(bi()){case 42:case 47:wd(a$(i$(yr(),Xd()),e,n),c);break;default:w+="/"}break;case 123*x:a[u++]=ci(w)*T;case 125*x:case 59:case 0:switch(g){case 0:case 125:I=0;case 59+f:T==-1&&(w=wt(w,/\f/g,"")),E>0&&ci(w)-h&&wd(E>32?Aw(w+";",r,n,h-1):Aw(wt(w," ","")+";",r,n,h-2),c);break;case 59:w+=";";default:if(wd(N=Pw(w,e,n,u,f,i,a,b,k=[],M=[],h),s),g===123)if(f===0)Zd(w,e,N,N,k,s,h,a,M);else switch(m===99&&Rn(w,3)===110?100:m){case 100:case 108:case 109:case 115:Zd(t,N,N,r&&wd(Pw(t,N,N,0,0,i,a,b,i,k=[],h),M),i,M,h,a,r?k:M);break;default:Zd(w,N,N,N,[""],M,0,a,M)}}u=f=E=0,x=T=1,b=w="",h=o;break;case 58:h=1+ci(w),E=C;default:if(x<1){if(g==123)--x;else if(g==125&&x++==0&&t$()==125)continue}switch(w+=pp(g),g*x){case 38:T=f>0?1:(w+="\f",-1);break;case 44:a[u++]=(ci(w)-1)*T,T=1;break;case 64:bi()===45&&(w+=Jd(yr())),m=bi(),f=h=ci(b=w+=s$(Xd())),g++;break;case 45:C===45&&ci(w)==2&&(x=0)}}return s}function Pw(t,e,n,r,i,s,o,a,c,u,f){for(var h=i-1,m=i===0?s:[""],E=_x(m),C=0,x=0,I=0;C<r;++C)for(var T=0,g=Yc(t,h+1,h=Q3(x=o[C])),b=t;T<E;++T)(b=mk(x>0?m[T]+" "+g:wt(g,/&\f/g,m[T])))&&(c[I++]=b);return gp(t,e,n,i===0?xx:a,c,u,f)}function a$(t,e,n){return gp(t,e,n,hk,pp(e$()),Yc(t,2,-2),0)}function Aw(t,e,n,r){return gp(t,e,n,bx,Yc(t,0,r),Yc(t,r+1,-1),r)}function Pa(t,e){for(var n="",r=_x(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function l$(t,e,n,r){switch(t.type){case G3:if(t.children.length)break;case K3:case bx:return t.return=t.return||t.value;case hk:return"";case pk:return t.return=t.value+"{"+Pa(t.children,r)+"}";case xx:t.value=t.props.join(",")}return ci(n=Pa(t.children,r))?t.return=t.value+"{"+n+"}":""}function c$(t){var e=_x(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function u$(t){return function(e){e.root||(e=e.return)&&t(e)}}function xk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var d$=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!Xc(s);)yr();return Pu(e,ur)},f$=function(e,n){var r=-1,i=44;do switch(Xc(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=d$(ur-1,n,r);break;case 2:e[r]+=Jd(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pp(i)}while(i=yr());return e},h$=function(e,n){return vk(f$(yk(e),n))},jw=new WeakMap,p$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jw.get(r))&&!i){jw.set(e,!0);for(var s=[],o=h$(n,s),a=r.props,c=0,u=0;c<o.length;c++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[c]?o[c].replace(/&\f/g,a[f]):a[f]+" "+o[c]}}},m$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bk(t,e){switch(X3(t,e)){case 5103:return _t+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+t+Yf+t+zn+t+t;case 6828:case 4268:return _t+t+zn+t+t;case 6165:return _t+t+zn+"flex-"+t+t;case 5187:return _t+t+wt(t,/(\w+).+(:[^]+)/,_t+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return _t+t+zn+"flex-item-"+wt(t,/flex-|-self/,"")+t;case 4675:return _t+t+zn+"flex-line-pack"+wt(t,/align-content|flex-|-self/,"")+t;case 5548:return _t+t+zn+wt(t,"shrink","negative")+t;case 5292:return _t+t+zn+wt(t,"basis","preferred-size")+t;case 6060:return _t+"box-"+wt(t,"-grow","")+_t+t+zn+wt(t,"grow","positive")+t;case 4554:return _t+wt(t,/([^-])(transform)/g,"$1"+_t+"$2")+t;case 6187:return wt(wt(wt(t,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),t,"")+t;case 5495:case 3959:return wt(t,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return wt(wt(t,/(.+:)(flex-)?(.*)/,_t+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+t+t;case 4095:case 3583:case 4068:case 2532:return wt(t,/(.+)-inline(.+)/,_t+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ci(t)-1-e>6)switch(Rn(t,e+1)){case 109:if(Rn(t,e+4)!==45)break;case 102:return wt(t,/(.+:)(.+)-([^]+)/,"$1"+_t+"$2-$3$1"+Yf+(Rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yy(t,"stretch")?bk(wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rn(t,e+1)!==115)break;case 6444:switch(Rn(t,ci(t)-3-(~Yy(t,"!important")&&10))){case 107:return wt(t,":",":"+_t)+t;case 101:return wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(Rn(t,14)===45?"inline-":"")+"box$3$1"+_t+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(Rn(t,e+11)){case 114:return _t+t+zn+wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _t+t+zn+wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _t+t+zn+wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _t+t+zn+t+t}return t}var g$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case bx:e.return=bk(e.value,e.length);break;case pk:return Pa([$l(e,{value:wt(e.value,"@","@"+_t)})],i);case xx:if(e.length)return Z3(e.props,function(s){switch(J3(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pa([$l(e,{props:[wt(s,/:(read-\w+)/,":"+Yf+"$1")]})],i);case"::placeholder":return Pa([$l(e,{props:[wt(s,/:(plac\w+)/,":"+_t+"input-$1")]}),$l(e,{props:[wt(s,/:(plac\w+)/,":"+Yf+"$1")]}),$l(e,{props:[wt(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},y$=[g$],_k=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var I=x.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||y$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var I=x.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)s[I[T]]=!0;a.push(x)});var c,u=[p$,m$];{var f,h=[l$,u$(function(x){f.insert(x)})],m=c$(u.concat(i,h)),E=function(I){return Pa(o$(I),m)};c=function(I,T,g,b){f=g,E(I?I+"{"+T.styles+"}":T.styles),b&&(C.inserted[T.name]=!0)}}var C={key:n,sheet:new q3({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return C.sheet.hydrate(a),C},wk={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cn=typeof Symbol=="function"&&Symbol.for,wx=Cn?Symbol.for("react.element"):60103,Sx=Cn?Symbol.for("react.portal"):60106,yp=Cn?Symbol.for("react.fragment"):60107,vp=Cn?Symbol.for("react.strict_mode"):60108,xp=Cn?Symbol.for("react.profiler"):60114,bp=Cn?Symbol.for("react.provider"):60109,_p=Cn?Symbol.for("react.context"):60110,Ex=Cn?Symbol.for("react.async_mode"):60111,wp=Cn?Symbol.for("react.concurrent_mode"):60111,Sp=Cn?Symbol.for("react.forward_ref"):60112,Ep=Cn?Symbol.for("react.suspense"):60113,v$=Cn?Symbol.for("react.suspense_list"):60120,Cp=Cn?Symbol.for("react.memo"):60115,Tp=Cn?Symbol.for("react.lazy"):60116,x$=Cn?Symbol.for("react.block"):60121,b$=Cn?Symbol.for("react.fundamental"):60117,_$=Cn?Symbol.for("react.responder"):60118,w$=Cn?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wx:switch(t=t.type,t){case Ex:case wp:case yp:case xp:case vp:case Ep:return t;default:switch(t=t&&t.$$typeof,t){case _p:case Sp:case Tp:case Cp:case bp:return t;default:return e}}case Sx:return e}}}function Sk(t){return Tr(t)===wp}It.AsyncMode=Ex;It.ConcurrentMode=wp;It.ContextConsumer=_p;It.ContextProvider=bp;It.Element=wx;It.ForwardRef=Sp;It.Fragment=yp;It.Lazy=Tp;It.Memo=Cp;It.Portal=Sx;It.Profiler=xp;It.StrictMode=vp;It.Suspense=Ep;It.isAsyncMode=function(t){return Sk(t)||Tr(t)===Ex};It.isConcurrentMode=Sk;It.isContextConsumer=function(t){return Tr(t)===_p};It.isContextProvider=function(t){return Tr(t)===bp};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wx};It.isForwardRef=function(t){return Tr(t)===Sp};It.isFragment=function(t){return Tr(t)===yp};It.isLazy=function(t){return Tr(t)===Tp};It.isMemo=function(t){return Tr(t)===Cp};It.isPortal=function(t){return Tr(t)===Sx};It.isProfiler=function(t){return Tr(t)===xp};It.isStrictMode=function(t){return Tr(t)===vp};It.isSuspense=function(t){return Tr(t)===Ep};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yp||t===wp||t===xp||t===vp||t===Ep||t===v$||typeof t=="object"&&t!==null&&(t.$$typeof===Tp||t.$$typeof===Cp||t.$$typeof===bp||t.$$typeof===_p||t.$$typeof===Sp||t.$$typeof===b$||t.$$typeof===_$||t.$$typeof===w$||t.$$typeof===x$)};It.typeOf=Tr;wk.exports=It;var S$=wk.exports,Ek=S$,E$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ck={};Ck[Ek.ForwardRef]=E$;Ck[Ek.Memo]=C$;var T$=!0;function Tk(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Cx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||T$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Tx=function(e,n,r){Cx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function I$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var k$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},R$=/[A-Z]|^ms/g,P$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ik=function(e){return e.charCodeAt(1)===45},Ow=function(e){return e!=null&&typeof e!="boolean"},ng=xk(function(t){return Ik(t)?t:t.replace(R$,"-$&").toLowerCase()}),Nw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(P$,function(r,i,s){return ui={name:i,styles:s,next:ui},i})}return k$[e]!==1&&!Ik(e)&&typeof n=="number"&&n!==0?n+"px":n};function Jc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ui={name:i.name,styles:i.styles,next:ui},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ui={name:o.name,styles:o.styles,next:ui},o=o.next;var a=s.styles+";";return a}return A$(t,e,n)}case"function":{if(t!==void 0){var c=ui,u=n(t);return ui=c,Jc(t,e,u)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function A$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Jc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Ow(a)&&(r+=ng(s)+":"+Nw(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)Ow(o[c])&&(r+=ng(s)+":"+Nw(s,o[c])+";");else{var u=Jc(t,e,o);switch(s){case"animation":case"animationName":{r+=ng(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var Mw=/label:\s*([^\s;{]+)\s*(;|$)/g,ui;function Au(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ui=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Jc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Jc(n,e,t[a]),r){var c=s;i+=c[a]}Mw.lastIndex=0;for(var u="",f;(f=Mw.exec(i))!==null;)u+="-"+f[1];var h=I$(i)+u;return{name:h,styles:i,next:ui}}var j$=function(e){return e()},kk=of.useInsertionEffect?of.useInsertionEffect:!1,Rk=kk||j$,Lw=kk||v.useLayoutEffect,Pk=v.createContext(typeof HTMLElement<"u"?_k({key:"css"}):null),O$=Pk.Provider,Ix=function(e){return v.forwardRef(function(n,r){var i=v.useContext(Pk);return e(n,i,r)})},pl=v.createContext({}),kx={}.hasOwnProperty,Jy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N$=function(e,n){var r={};for(var i in n)kx.call(n,i)&&(r[i]=n[i]);return r[Jy]=e,r},M$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Cx(n,r,i),Rk(function(){return Tx(n,r,i)}),null},L$=Ix(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Jy],s=[r],o="";typeof t.className=="string"?o=Tk(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Au(s,void 0,v.useContext(pl));o+=e.key+"-"+a.name;var c={};for(var u in t)kx.call(t,u)&&u!=="css"&&u!==Jy&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),v.createElement(v.Fragment,null,v.createElement(M$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),v.createElement(i,c))}),D$=L$,rg={exports:{}},Dw;function Ak(){return Dw||(Dw=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(rg)),rg.exports}Ak();var $w=function(e,n){var r=arguments;if(n==null||!kx.call(n,"css"))return v.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=D$,s[1]=N$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return v.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})($w||($w={}));var $$=Ix(function(t,e){var n=t.styles,r=Au([n],void 0,v.useContext(pl)),i=v.useRef();return Lw(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",s),o.hydrate([c])),i.current=[o,a],function(){o.flush()}},[e]),Lw(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Tx(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function jk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Au(e)}function Ip(){var t=jk.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var F$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,z$=xk(function(t){return F$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),V$=z$,B$=function(e){return e!=="theme"},Fw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?V$:B$},zw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},U$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Cx(n,r,i),Rk(function(){return Tx(n,r,i)}),null},W$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=zw(e,n,r),c=a||Fw(i),u=!c("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,C=1;C<E;C++)h.push(f[C],m[C])}var x=Ix(function(I,T,g){var b=u&&I.as||i,k="",M=[],N=I;if(I.theme==null){N={};for(var w in I)N[w]=I[w];N.theme=v.useContext(pl)}typeof I.className=="string"?k=Tk(T.registered,M,I.className):I.className!=null&&(k=I.className+" ");var p=Au(h.concat(M),T.registered,N);k+=T.key+"-"+p.name,o!==void 0&&(k+=" "+o);var _=u&&a===void 0?Fw(b):c,S={};for(var P in I)u&&P==="as"||_(P)&&(S[P]=I[P]);return S.className=k,g&&(S.ref=g),v.createElement(v.Fragment,null,v.createElement(U$,{cache:T,serialized:p,isStringTag:typeof b=="string"}),v.createElement(b,S))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=h,x.__emotion_forwardProp=a,Object.defineProperty(x,"toString",{value:function(){return"."+o}}),x.withComponent=function(I,T){var g=t(I,$({},n,T,{shouldForwardProp:zw(x,T,!0)}));return g.apply(void 0,h)},x}},H$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Zy=W$.bind(null);H$.forEach(function(t){Zy[t]=Zy(t)});function q$(t,e){const n=_k({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const ig=new Map;function K$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=v.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&ig.has(s))return ig.get(s);const o=q$(e,n);return ig.set(s,o),o},[e,n]);return e||n?l.jsx(O$,{value:i,children:r}):r}function G$(t){return t==null||Object.keys(t).length===0}function Ok(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(G$(i)?n:i):e;return l.jsx($$,{styles:r})}function Rx(t,e){return Zy(t,e)}const Nk=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Vw=[];function Xf(t){return Vw[0]=t,Au(Vw)}const Q$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Ok,StyledEngineProvider:K$,ThemeContext:pl,css:jk,default:Rx,internal_processStyles:Nk,internal_serializeStyles:Xf,keyframes:Ip},Symbol.toStringTag,{value:"Module"}));function Fi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Mk(t){if(v.isValidElement(t)||!Fi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Mk(t[n])}),e}function vr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return Fi(t)&&Fi(e)&&Object.keys(e).forEach(i=>{v.isValidElement(e[i])?r[i]=e[i]:Fi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Fi(t[i])?r[i]=vr(t[i],e[i],n):n.clone?r[i]=Fi(e[i])?Mk(e[i]):e[i]:r[i]=e[i]}),r}const Y$=Object.freeze(Object.defineProperty({__proto__:null,default:vr,isPlainObject:Fi},Symbol.toStringTag,{value:"Module"})),X$=["values","unit","step"],J$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function Lk(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Oe(t,X$),s=J$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function c(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function u(m,E){const C=o.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(C!==-1&&typeof e[o[C]]=="number"?e[o[C]]:E)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):a(m)}function h(m){const E=o.indexOf(m);return E===0?a(o[1]):E===o.length-1?c(o[E]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:o,values:s,up:a,down:c,between:u,only:f,not:h,unit:n},i)}const Z$={borderRadius:4};function yc(t,e){return e?vr(t,e,{clone:!1}):t}const Px={xs:0,sm:600,md:900,lg:1200,xl:1536},Bw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Px[t]}px)`};function Br(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Bw;return e.reduce((o,a,c)=>(o[s.up(s.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Bw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Px).indexOf(a)!==-1){const c=s.up(a);o[c]=n(e[a],a)}else{const c=a;o[c]=e[c]}return o},{})}return n(e)}function e8(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Uw(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function t8(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function kp({values:t,breakpoints:e,base:n}){const r=n||t8(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,c)=>(Array.isArray(t)?(o[a]=t[c]!=null?t[c]:t[s],s=c):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function pe(t){if(typeof t!="string")throw new Error(Oo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const n8=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));function Rp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Jf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Rp(t,n)||r,e&&(i=e(i,r,t)),i}function on(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],c=o.theme,u=Rp(c,r)||{};return Br(o,a,h=>{let m=Jf(u,i,h);return h===m&&typeof h=="string"&&(m=Jf(u,i,`${e}${h==="default"?"":pe(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function r8(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const i8={m:"margin",p:"padding"},s8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ww={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},o8=r8(t=>{if(t.length>2)if(Ww[t])t=Ww[t];else return[t];const[e,n]=t.split(""),r=i8[e],i=s8[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Ax=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ax,...jx];function ju(t,e,n,r){var i;const s=(i=Rp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Dk(t){return ju(t,"spacing",8)}function Ou(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function a8(t,e){return n=>t.reduce((r,i)=>(r[i]=Ou(e,n),r),{})}function l8(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=o8(n),s=a8(i,r),o=t[n];return Br(t,o,s)}function $k(t,e){const n=Dk(t.theme);return Object.keys(t).map(r=>l8(t,e,r,n)).reduce(yc,{})}function Xt(t){return $k(t,Ax)}Xt.propTypes={};Xt.filterProps=Ax;function Jt(t){return $k(t,jx)}Jt.propTypes={};Jt.filterProps=jx;function c8(t=8){if(t.mui)return t;const e=Dk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Pp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?yc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Mr(t){return typeof t!="number"?t:`${t}px solid`}function Hr(t,e){return on({prop:t,themeKey:"borders",transform:e})}const u8=Hr("border",Mr),d8=Hr("borderTop",Mr),f8=Hr("borderRight",Mr),h8=Hr("borderBottom",Mr),p8=Hr("borderLeft",Mr),m8=Hr("borderColor"),g8=Hr("borderTopColor"),y8=Hr("borderRightColor"),v8=Hr("borderBottomColor"),x8=Hr("borderLeftColor"),b8=Hr("outline",Mr),_8=Hr("outlineColor"),Ap=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ju(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ou(e,r)});return Br(t,t.borderRadius,n)}return null};Ap.propTypes={};Ap.filterProps=["borderRadius"];Pp(u8,d8,f8,h8,p8,m8,g8,y8,v8,x8,Ap,b8,_8);const jp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ju(t.theme,"spacing",8),n=r=>({gap:Ou(e,r)});return Br(t,t.gap,n)}return null};jp.propTypes={};jp.filterProps=["gap"];const Op=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ju(t.theme,"spacing",8),n=r=>({columnGap:Ou(e,r)});return Br(t,t.columnGap,n)}return null};Op.propTypes={};Op.filterProps=["columnGap"];const Np=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ju(t.theme,"spacing",8),n=r=>({rowGap:Ou(e,r)});return Br(t,t.rowGap,n)}return null};Np.propTypes={};Np.filterProps=["rowGap"];const w8=on({prop:"gridColumn"}),S8=on({prop:"gridRow"}),E8=on({prop:"gridAutoFlow"}),C8=on({prop:"gridAutoColumns"}),T8=on({prop:"gridAutoRows"}),I8=on({prop:"gridTemplateColumns"}),k8=on({prop:"gridTemplateRows"}),R8=on({prop:"gridTemplateAreas"}),P8=on({prop:"gridArea"});Pp(jp,Op,Np,w8,S8,E8,C8,T8,I8,k8,R8,P8);function Aa(t,e){return e==="grey"?e:t}const A8=on({prop:"color",themeKey:"palette",transform:Aa}),j8=on({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Aa}),O8=on({prop:"backgroundColor",themeKey:"palette",transform:Aa});Pp(A8,j8,O8);function hr(t){return t<=1&&t!==0?`${t*100}%`:t}const N8=on({prop:"width",transform:hr}),Ox=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Px[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:hr(n)}};return Br(t,t.maxWidth,e)}return null};Ox.filterProps=["maxWidth"];const M8=on({prop:"minWidth",transform:hr}),L8=on({prop:"height",transform:hr}),D8=on({prop:"maxHeight",transform:hr}),$8=on({prop:"minHeight",transform:hr});on({prop:"size",cssProperty:"width",transform:hr});on({prop:"size",cssProperty:"height",transform:hr});const F8=on({prop:"boxSizing"});Pp(N8,Ox,M8,L8,D8,$8,F8);const Nu={border:{themeKey:"borders",transform:Mr},borderTop:{themeKey:"borders",transform:Mr},borderRight:{themeKey:"borders",transform:Mr},borderBottom:{themeKey:"borders",transform:Mr},borderLeft:{themeKey:"borders",transform:Mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ap},color:{themeKey:"palette",transform:Aa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Aa},backgroundColor:{themeKey:"palette",transform:Aa},p:{style:Jt},pt:{style:Jt},pr:{style:Jt},pb:{style:Jt},pl:{style:Jt},px:{style:Jt},py:{style:Jt},padding:{style:Jt},paddingTop:{style:Jt},paddingRight:{style:Jt},paddingBottom:{style:Jt},paddingLeft:{style:Jt},paddingX:{style:Jt},paddingY:{style:Jt},paddingInline:{style:Jt},paddingInlineStart:{style:Jt},paddingInlineEnd:{style:Jt},paddingBlock:{style:Jt},paddingBlockStart:{style:Jt},paddingBlockEnd:{style:Jt},m:{style:Xt},mt:{style:Xt},mr:{style:Xt},mb:{style:Xt},ml:{style:Xt},mx:{style:Xt},my:{style:Xt},margin:{style:Xt},marginTop:{style:Xt},marginRight:{style:Xt},marginBottom:{style:Xt},marginLeft:{style:Xt},marginX:{style:Xt},marginY:{style:Xt},marginInline:{style:Xt},marginInlineStart:{style:Xt},marginInlineEnd:{style:Xt},marginBlock:{style:Xt},marginBlockStart:{style:Xt},marginBlockEnd:{style:Xt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:jp},rowGap:{style:Np},columnGap:{style:Op},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hr},maxWidth:{style:Ox},minWidth:{transform:hr},height:{transform:hr},maxHeight:{transform:hr},minHeight:{transform:hr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function z8(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function V8(t,e){return typeof t=="function"?t(e):t}function Fk(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:f,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const m=Rp(i,u)||{};return h?h(o):Br(o,r,C=>{let x=Jf(m,f,C);return C===x&&typeof C=="string"&&(x=Jf(m,f,`${n}${C==="default"?"":pe(C)}`,C)),c===!1?x:{[c]:x}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Nu;function c(u){let f=u;if(typeof u=="function")f=u(s);else if(typeof u!="object")return u;if(!f)return null;const h=e8(s.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(C=>{const x=V8(f[C],s);if(x!=null)if(typeof x=="object")if(a[C])E=yc(E,t(C,x,s,a));else{const I=Br({theme:s},x,T=>({[C]:T}));z8(I,x)?E[C]=e({sx:x,theme:s,nested:!0}):E=yc(E,I)}else E=yc(E,t(C,x,s,a))}),!o&&s.modularCssLayers?{"@layer sx":Uw(m,E)}:Uw(m,E)}return Array.isArray(i)?i.map(c):c(i)}return e}const ml=Fk();ml.filterProps=["sx"];function zk(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const B8=["breakpoints","palette","spacing","shape"];function Mu(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Oe(t,B8),a=Lk(n),c=c8(i);let u=vr({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:c,shape:$({},Z$,s)},o);return u.applyStyles=zk,u=e.reduce((f,h)=>vr(f,h),u),u.unstable_sxConfig=$({},Nu,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return ml({sx:h,theme:this})},u}const U8=Object.freeze(Object.defineProperty({__proto__:null,default:Mu,private_createBreakpoints:Lk,unstable_applyStyles:zk},Symbol.toStringTag,{value:"Module"}));function W8(t){return Object.keys(t).length===0}function Nx(t=null){const e=v.useContext(pl);return!e||W8(e)?t:e}const H8=Mu();function Mp(t=H8){return Nx(t)}function sg(t){const e=Xf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function Vk({styles:t,themeId:e,defaultTheme:n={}}){const r=Mp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>sg(typeof o=="function"?o(i):o)):s=sg(s)),l.jsx(Ok,{styles:s})}const q8=["sx"],K8=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Nu;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Lp(t){const{sx:e}=t,n=Oe(t,q8),{systemProps:r,otherProps:i}=K8(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Fi(a)?$({},r,a):r}:s=$({},r,e),$({},i,{sx:s})}const G8=Object.freeze(Object.defineProperty({__proto__:null,default:ml,extendSxProp:Lp,unstable_createStyleFunctionSx:Fk,unstable_defaultSxConfig:Nu},Symbol.toStringTag,{value:"Module"})),Hw=t=>t,Q8=()=>{let t=Hw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Hw}}},Mx=Q8(),Y8=["className","component"];function X8(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Rx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ml);return v.forwardRef(function(c,u){const f=Mp(n),h=Lp(c),{className:m,component:E="div"}=h,C=Oe(h,Y8);return l.jsx(s,$({as:E,ref:u,className:$e(m,i?i(r):r),theme:e&&f[e]||f},C))})}const J8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ht(t,e,n="Mui"){const r=J8[e];return r?`${n}-${r}`:`${Mx.generate(t)}-${e}`}function st(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ht(t,i,n)}),r}var Bk={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=Symbol.for("react.transitional.element"),Dx=Symbol.for("react.portal"),Dp=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),zp=Symbol.for("react.consumer"),Vp=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Wp=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),qp=Symbol.for("react.lazy"),Z8=Symbol.for("react.view_transition"),eF=Symbol.for("react.client.reference");function qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lx:switch(t=t.type,t){case Dp:case Fp:case $p:case Up:case Wp:case Z8:return t;default:switch(t=t&&t.$$typeof,t){case Vp:case Bp:case qp:case Hp:return t;case zp:return t;default:return e}}case Dx:return e}}}Pt.ContextConsumer=zp;Pt.ContextProvider=Vp;Pt.Element=Lx;Pt.ForwardRef=Bp;Pt.Fragment=Dp;Pt.Lazy=qp;Pt.Memo=Hp;Pt.Portal=Dx;Pt.Profiler=Fp;Pt.StrictMode=$p;Pt.Suspense=Up;Pt.SuspenseList=Wp;Pt.isContextConsumer=function(t){return qr(t)===zp};Pt.isContextProvider=function(t){return qr(t)===Vp};Pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lx};Pt.isForwardRef=function(t){return qr(t)===Bp};Pt.isFragment=function(t){return qr(t)===Dp};Pt.isLazy=function(t){return qr(t)===qp};Pt.isMemo=function(t){return qr(t)===Hp};Pt.isPortal=function(t){return qr(t)===Dx};Pt.isProfiler=function(t){return qr(t)===Fp};Pt.isStrictMode=function(t){return qr(t)===$p};Pt.isSuspense=function(t){return qr(t)===Up};Pt.isSuspenseList=function(t){return qr(t)===Wp};Pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dp||t===Fp||t===$p||t===Up||t===Wp||typeof t=="object"&&t!==null&&(t.$$typeof===qp||t.$$typeof===Hp||t.$$typeof===Vp||t.$$typeof===zp||t.$$typeof===Bp||t.$$typeof===eF||t.getModuleId!==void 0)};Pt.typeOf=qr;Bk.exports=Pt;var qw=Bk.exports;const tF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Uk(t){const e=`${t}`.match(tF);return e&&e[1]||""}function Wk(t,e=""){return t.displayName||t.name||Uk(t)||e}function Kw(t,e,n){const r=Wk(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function nF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Wk(t,"Component");if(typeof t=="object")switch(t.$$typeof){case qw.ForwardRef:return Kw(t,t.render,"ForwardRef");case qw.Memo:return Kw(t,t.type,"memo");default:return}}}const rF=Object.freeze(Object.defineProperty({__proto__:null,default:nF,getFunctionName:Uk},Symbol.toStringTag,{value:"Module"})),iF=["ownerState"],sF=["variants"],oF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function aF(t){return Object.keys(t).length===0}function lF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function og(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Gw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const cF=Mu(),uF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Sd({defaultTheme:t,theme:e,themeId:n}){return aF(e)?t:e[n]||e}function dF(t){return t?(e,n)=>n[t]:null}function ef(t,e,n){let{ownerState:r}=e,i=Oe(e,iF);const s=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>ef(o,$({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let c=Oe(s,sF);return o.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props($({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style($({ownerState:r},i,r)):u.style;c.push(n?Gw(Xf(h),n):h)}}),c}return n?Gw(Xf(s),n):s}function fF(t={}){const{themeId:e,defaultTheme:n=cF,rootShouldForwardProp:r=og,slotShouldForwardProp:i=og}=t,s=o=>ml($({},o,{theme:Sd($({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Nk(o,N=>N.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=dF(uF(u))}=a,E=Oe(a,oF),C=c&&c.startsWith("Mui")||u?"components":"custom",x=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,I=h||!1;let T,g=og;u==="Root"||u==="root"?g=r:u?g=i:lF(o)&&(g=void 0);const b=Rx(o,$({shouldForwardProp:g,label:T},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||Fi(N)?w=>{const p=Sd({theme:w.theme,defaultTheme:n,themeId:e});return ef(N,$({},w,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,...w)=>{let p=k(N);const _=w?w.map(k):[];c&&m&&_.push(j=>{const A=Sd($({},j,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[c]||!A.components[c].styleOverrides)return null;const V=A.components[c].styleOverrides,F={};return Object.entries(V).forEach(([B,U])=>{F[B]=ef(U,$({},j,{theme:A}),A.modularCssLayers?"theme":void 0)}),m(j,F)}),c&&!x&&_.push(j=>{var A;const V=Sd($({},j,{defaultTheme:n,themeId:e})),F=V==null||(A=V.components)==null||(A=A[c])==null?void 0:A.variants;return ef({variants:F},$({},j,{theme:V}),V.modularCssLayers?"theme":void 0)}),I||_.push(s);const S=_.length-w.length;if(Array.isArray(N)&&S>0){const j=new Array(S).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const P=b(p,..._);return o.muiName&&(P.muiName=o.muiName),P};return b.withConfig&&(M.withConfig=b.withConfig),M}}const hF=fF();function Zc(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=$({},s),Object.keys(i).forEach(o=>{n[r][o]=Zc(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function pF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Zc(e.components[n].defaultProps,r)}function mF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Mp(n);return r&&(i=i[r]||i),pF({theme:i,name:e,props:t})}const Ei=typeof window<"u"?v.useLayoutEffect:v.useEffect;function gF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const yF=Object.freeze(Object.defineProperty({__proto__:null,default:gF},Symbol.toStringTag,{value:"Module"}));function ev(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function $x(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function vF(t,e){return()=>null}function tf(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function cr(t){return t&&t.ownerDocument||document}function Hs(t){return cr(t).defaultView||window}function xF(t,e){return()=>null}function Zf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Qw=0;function bF(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(Qw+=1,n(`mui-${Qw}`))},[e]),r}const Yw=of.useId;function Kp(t){if(Yw!==void 0){const e=Yw();return t??e}return bF(t)}function _F(t,e,n,r,i){return null}function tv({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=v.useRef(t!==void 0),[s,o]=v.useState(e),a=i?t:s,c=v.useCallback(u=>{i||o(u)},[]);return[a,c]}function Ts(t){const e=v.useRef(t);return Ei(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function En(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Zf(n,e)})},t)}const Xw={};function wF(t,e){const n=v.useRef(Xw);return n.current===Xw&&(n.current=t(e)),n}const SF=[];function EF(t){v.useEffect(t,SF)}class Gp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Gp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Hk(){const t=wF(Gp.create).current;return EF(t.disposeEffect),t}let Qp=!0,nv=!1;const CF=new Gp,TF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function IF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&TF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function kF(t){t.metaKey||t.altKey||t.ctrlKey||(Qp=!0)}function ag(){Qp=!1}function RF(){this.visibilityState==="hidden"&&nv&&(Qp=!0)}function PF(t){t.addEventListener("keydown",kF,!0),t.addEventListener("mousedown",ag,!0),t.addEventListener("pointerdown",ag,!0),t.addEventListener("touchstart",ag,!0),t.addEventListener("visibilitychange",RF,!0)}function AF(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Qp||IF(e)}function qk(){const t=v.useCallback(i=>{i!=null&&PF(i.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(nv=!0,CF.start(100,()=>{nv=!1}),e.current=!1,!0):!1}function r(i){return AF(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Kk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function gt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function eh(t){return typeof t=="string"}function Gk(t,e,n){return t===void 0||eh(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function Qk(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Jw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Yk(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const E=$e(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),C=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),x=$({},n,i,r);return E.length>0&&(x.className=E),Object.keys(C).length>0&&(x.style=C),{props:x,internalRef:void 0}}const o=Qk($({},i,r)),a=Jw(r),c=Jw(i),u=e(o),f=$e(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},u,n,c,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:u.ref}}function Xk(t,e,n){return typeof t=="function"?t(e,n):t}const jF=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ja(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Oe(t,jF),a=s?{}:Xk(r,i),{props:c,internalRef:u}=Yk($({},o,{externalSlotProps:a})),f=En(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Gk(n,$({},c,{ref:f}),i)}function Lu(t){if(parseInt(v.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const Jk=v.createContext(null);function Zk(){return v.useContext(Jk)}const OF=typeof Symbol=="function"&&Symbol.for,NF=OF?Symbol.for("mui.nested"):"__THEME_NESTED__";function MF(t,e){return typeof e=="function"?e(t):$({},t,e)}function LF(t){const{children:e,theme:n}=t,r=Zk(),i=v.useMemo(()=>{const s=r===null?n:MF(r,n);return s!=null&&(s[NF]=r!==null),s},[n,r]);return l.jsx(Jk.Provider,{value:i,children:e})}const DF=["value"],eR=v.createContext();function $F(t){let{value:e}=t,n=Oe(t,DF);return l.jsx(eR.Provider,$({value:e??!0},n))}const FF=()=>{const t=v.useContext(eR);return t??!1},tR=v.createContext(void 0);function zF({value:t,children:e}){return l.jsx(tR.Provider,{value:t,children:e})}function VF(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Zc(i.defaultProps,r):!i.styleOverrides&&!i.variants?Zc(i,r):r}function BF({props:t,name:e}){const n=v.useContext(tR);return VF({props:t,name:e,theme:{components:n}})}function UF(t){const e=Nx(),n=Kp()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Ei(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=i,s.prepend(u)}else{var c;(c=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[i,n]),i?l.jsx(Vk,{styles:i}):null}const Zw={};function eS(t,e,n,r=!1){return v.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?$({},e,{[t]:s}):s;return r?()=>o:o}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function WF(t){const{children:e,theme:n,themeId:r}=t,i=Nx(Zw),s=Zk()||Zw,o=eS(r,i,n),a=eS(r,s,n,!0),c=o.direction==="rtl",u=UF(o);return l.jsx(LF,{theme:a,children:l.jsx(pl.Provider,{value:o,children:l.jsx($F,{value:c,children:l.jsxs(zF,{value:o==null?void 0:o.components,children:[u,e]})})})})}const HF=["className","component","disableGutters","fixed","maxWidth","classes"],qF=Mu(),KF=hF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${pe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),GF=t=>mF({props:t,name:"MuiContainer",defaultTheme:qF}),QF=(t,e)=>{const n=c=>ht(e,c),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${pe(String(o))}`,i&&"fixed",s&&"disableGutters"]};return gt(a,n,r)};function YF(t={}){const{createStyledComponent:e=KF,useThemeProps:n=GF,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((c,u)=>{const f=u,h=o.breakpoints.values[f];return h!==0&&(c[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:a})=>$({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return v.forwardRef(function(a,c){const u=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:C="lg"}=u,x=Oe(u,HF),I=$({},u,{component:h,disableGutters:m,fixed:E,maxWidth:C}),T=QF(I,r);return l.jsx(i,$({as:h,ownerState:I,className:$e(T.root,f),ref:c},x))})}function XF(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var an={},nR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(nR);var Du=nR.exports;const JF=Ci(U3),ZF=Ci(yF);var rR=Du;Object.defineProperty(an,"__esModule",{value:!0});var Ut=an.alpha=aR;an.blend=u9;an.colorChannel=void 0;var rv=an.darken=zx;an.decomposeColor=Ur;an.emphasize=lR;var e9=an.getContrastRatio=s9;an.getLuminance=th;an.hexToRgb=iR;an.hslToRgb=oR;var iv=an.lighten=Vx;an.private_safeAlpha=o9;an.private_safeColorChannel=void 0;an.private_safeDarken=a9;an.private_safeEmphasize=c9;an.private_safeLighten=l9;an.recomposeColor=gl;an.rgbToHex=i9;var tS=rR(JF),t9=rR(ZF);function Fx(t,e=0,n=1){return(0,t9.default)(t,e,n)}function iR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function n9(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ur(t){if(t.type)return t;if(t.charAt(0)==="#")return Ur(iR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,tS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,tS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const sR=t=>{const e=Ur(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};an.colorChannel=sR;const r9=(t,e)=>{try{return sR(t)}catch{return t}};an.private_safeColorChannel=r9;function gl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function i9(t){if(t.indexOf("#")===0)return t;const{values:e}=Ur(t);return`#${e.map((n,r)=>n9(r===3?Math.round(255*n):n)).join("")}`}function oR(t){t=Ur(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),gl({type:a,values:c})}function th(t){t=Ur(t);let e=t.type==="hsl"||t.type==="hsla"?Ur(oR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function s9(t,e){const n=th(t),r=th(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function aR(t,e){return t=Ur(t),e=Fx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,gl(t)}function o9(t,e,n){try{return aR(t,e)}catch{return t}}function zx(t,e){if(t=Ur(t),e=Fx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return gl(t)}function a9(t,e,n){try{return zx(t,e)}catch{return t}}function Vx(t,e){if(t=Ur(t),e=Fx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return gl(t)}function l9(t,e,n){try{return Vx(t,e)}catch{return t}}function lR(t,e=.15){return th(t)>.5?zx(t,e):Vx(t,e)}function c9(t,e,n){try{return lR(t,e)}catch{return t}}function u9(t,e,n,r=1){const i=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),s=Ur(t),o=Ur(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return gl({type:"rgb",values:a})}const d9=["mode","contrastThreshold","tonalOffset"],nS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qc.white,default:Qc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},lg={text:{primary:Qc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=iv(t.main,i):e==="dark"&&(t.dark=rv(t.main,s)))}function f9(t="light"){return t==="dark"?{main:Xo[200],light:Xo[50],dark:Xo[400]}:{main:Xo[700],light:Xo[400],dark:Xo[800]}}function h9(t="light"){return t==="dark"?{main:Yo[200],light:Yo[50],dark:Yo[400]}:{main:Yo[500],light:Yo[300],dark:Yo[700]}}function p9(t="light"){return t==="dark"?{main:Qo[500],light:Qo[300],dark:Qo[700]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function m9(t="light"){return t==="dark"?{main:Jo[400],light:Jo[300],dark:Jo[700]}:{main:Jo[700],light:Jo[500],dark:Jo[900]}}function g9(t="light"){return t==="dark"?{main:Zo[400],light:Zo[300],dark:Zo[700]}:{main:Zo[800],light:Zo[500],dark:Zo[900]}}function y9(t="light"){return t==="dark"?{main:Dl[400],light:Dl[300],dark:Dl[700]}:{main:"#ed6c02",light:Dl[500],dark:Dl[900]}}function v9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Oe(t,d9),s=t.primary||f9(e),o=t.secondary||h9(e),a=t.error||p9(e),c=t.info||m9(e),u=t.success||g9(e),f=t.warning||y9(e);function h(x){return e9(x,lg.text.primary)>=n?lg.text.primary:nS.text.primary}const m=({color:x,name:I,mainShade:T=500,lightShade:g=300,darkShade:b=700})=>{if(x=$({},x),!x.main&&x[T]&&(x.main=x[T]),!x.hasOwnProperty("main"))throw new Error(Oo(11,I?` (${I})`:"",T));if(typeof x.main!="string")throw new Error(Oo(12,I?` (${I})`:"",JSON.stringify(x.main)));return rS(x,"light",g,r),rS(x,"dark",b,r),x.contrastText||(x.contrastText=h(x.main)),x},E={dark:lg,light:nS};return vr($({common:$({},Qc),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:u,name:"success"}),grey:B3,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const x9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function b9(t){return Math.round(t*1e5)/1e5}const iS={textTransform:"uppercase"},sS='"Roboto", "Helvetica", "Arial", sans-serif';function _9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=sS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:f,pxToRem:h}=n,m=Oe(n,x9),E=i/14,C=h||(T=>`${T/u*E}rem`),x=(T,g,b,k,M)=>$({fontFamily:r,fontWeight:T,fontSize:C(g),lineHeight:b},r===sS?{letterSpacing:`${b9(k/g)}em`}:{},M,f),I={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(o,48,1.167,0),h4:x(o,34,1.235,.25),h5:x(o,24,1.334,0),h6:x(a,20,1.6,.15),subtitle1:x(o,16,1.75,.15),subtitle2:x(a,14,1.57,.1),body1:x(o,16,1.5,.15),body2:x(o,14,1.43,.15),button:x(a,14,1.75,.4,iS),caption:x(o,12,1.66,.4),overline:x(o,12,2.66,1,iS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr($({htmlFontSize:u,pxToRem:C,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:c},I),m,{clone:!1})}const w9=.2,S9=.14,E9=.12;function $t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${w9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${S9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${E9})`].join(",")}const C9=["none",$t(0,2,1,-1,0,1,1,0,0,1,3,0),$t(0,3,1,-2,0,2,2,0,0,1,5,0),$t(0,3,3,-2,0,3,4,0,0,1,8,0),$t(0,2,4,-1,0,4,5,0,0,1,10,0),$t(0,3,5,-1,0,5,8,0,0,1,14,0),$t(0,3,5,-1,0,6,10,0,0,1,18,0),$t(0,4,5,-2,0,7,10,1,0,2,16,1),$t(0,5,5,-3,0,8,10,1,0,3,14,2),$t(0,5,6,-3,0,9,12,1,0,3,16,2),$t(0,6,6,-3,0,10,14,1,0,4,18,3),$t(0,6,7,-4,0,11,15,1,0,4,20,3),$t(0,7,8,-4,0,12,17,2,0,5,22,4),$t(0,7,8,-4,0,13,19,2,0,5,24,4),$t(0,7,9,-4,0,14,21,2,0,5,26,4),$t(0,8,9,-5,0,15,22,2,0,6,28,5),$t(0,8,10,-5,0,16,24,2,0,6,30,5),$t(0,8,11,-5,0,17,26,2,0,6,32,5),$t(0,9,11,-5,0,18,28,2,0,7,34,6),$t(0,9,12,-6,0,19,29,2,0,7,36,6),$t(0,10,13,-6,0,20,31,3,0,8,38,7),$t(0,10,13,-6,0,21,33,3,0,8,40,7),$t(0,10,14,-6,0,22,35,3,0,8,42,7),$t(0,11,14,-7,0,23,36,3,0,9,44,8),$t(0,11,15,-7,0,24,38,3,0,9,46,8)],T9=["duration","easing","delay"],I9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},k9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oS(t){return`${Math.round(t)}ms`}function R9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function P9(t){const e=$({},I9,t.easing),n=$({},k9,t.duration);return $({getAutoHeightDuration:R9,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:c=0}=s;return Oe(s,T9),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:oS(o)} ${a} ${typeof c=="string"?c:oS(c)}`).join(",")}},t,{easing:e,duration:n})}const A9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Bx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Oe(t,j9);if(t.vars&&t.generateCssVars===void 0)throw new Error(Oo(18));const a=v9(r),c=Mu(t);let u=vr(c,{mixins:XF(c.breakpoints,n),palette:a,shadows:C9.slice(),typography:_9(a,s),transitions:P9(i),zIndex:$({},A9)});return u=vr(u,o),u=e.reduce((f,h)=>vr(f,h),u),u.unstable_sxConfig=$({},Nu,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return ml({sx:h,theme:this})},u}const Ux=Bx();function Wx(){const t=Mp(Ux);return t[Ya]||t}var $u={},cg={exports:{}},aS;function O9(){return aS||(aS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(cg)),cg.exports}const N9=Ci(Q$),M9=Ci(Y$),L9=Ci(n8),D9=Ci(rF),$9=Ci(U8),F9=Ci(G8);var yl=Du;Object.defineProperty($u,"__esModule",{value:!0});var z9=$u.default=Z9;$u.shouldForwardProp=nf;$u.systemDefaultTheme=void 0;var Ar=yl(Ak()),sv=yl(O9()),nh=K9(N9),V9=M9;yl(L9);yl(D9);var B9=yl($9),U9=yl(F9);const W9=["ownerState"],H9=["variants"],q9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function cR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(cR=function(r){return r?n:e})(t)}function K9(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=cR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function G9(t){return Object.keys(t).length===0}function Q9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function nf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function lS(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const Y9=$u.systemDefaultTheme=(0,B9.default)(),X9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ed({defaultTheme:t,theme:e,themeId:n}){return G9(e)?t:e[n]||e}function J9(t){return t?(e,n)=>n[t]:null}function rf(t,e,n){let{ownerState:r}=e,i=(0,sv.default)(e,W9);const s=typeof t=="function"?t((0,Ar.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>rf(o,(0,Ar.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let c=(0,sv.default)(s,H9);return o.forEach(u=>{let f=!0;if(typeof u.props=="function"?f=u.props((0,Ar.default)({ownerState:r},i,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&i[h]!==u.props[h]&&(f=!1)}),f){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style((0,Ar.default)({ownerState:r},i,r)):u.style;c.push(n?lS((0,nh.internal_serializeStyles)(h),n):h)}}),c}return n?lS((0,nh.internal_serializeStyles)(s),n):s}function Z9(t={}){const{themeId:e,defaultTheme:n=Y9,rootShouldForwardProp:r=nf,slotShouldForwardProp:i=nf}=t,s=o=>(0,U9.default)((0,Ar.default)({},o,{theme:Ed((0,Ar.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,nh.internal_processStyles)(o,N=>N.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:m=J9(X9(u))}=a,E=(0,sv.default)(a,q9),C=c&&c.startsWith("Mui")||u?"components":"custom",x=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,I=h||!1;let T,g=nf;u==="Root"||u==="root"?g=r:u?g=i:Q9(o)&&(g=void 0);const b=(0,nh.default)(o,(0,Ar.default)({shouldForwardProp:g,label:T},E)),k=N=>typeof N=="function"&&N.__emotion_real!==N||(0,V9.isPlainObject)(N)?w=>{const p=Ed({theme:w.theme,defaultTheme:n,themeId:e});return rf(N,(0,Ar.default)({},w,{theme:p}),p.modularCssLayers?C:void 0)}:N,M=(N,...w)=>{let p=k(N);const _=w?w.map(k):[];c&&m&&_.push(j=>{const A=Ed((0,Ar.default)({},j,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[c]||!A.components[c].styleOverrides)return null;const V=A.components[c].styleOverrides,F={};return Object.entries(V).forEach(([B,U])=>{F[B]=rf(U,(0,Ar.default)({},j,{theme:A}),A.modularCssLayers?"theme":void 0)}),m(j,F)}),c&&!x&&_.push(j=>{var A;const V=Ed((0,Ar.default)({},j,{defaultTheme:n,themeId:e})),F=V==null||(A=V.components)==null||(A=A[c])==null?void 0:A.variants;return rf({variants:F},(0,Ar.default)({},j,{theme:V}),V.modularCssLayers?"theme":void 0)}),I||_.push(s);const S=_.length-w.length;if(Array.isArray(N)&&S>0){const j=new Array(S).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const P=b(p,..._);return o.muiName&&(P.muiName=o.muiName),P};return b.withConfig&&(M.withConfig=b.withConfig),M}}function uR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Kr=t=>uR(t)&&t!=="classes",Me=z9({themeId:Ya,defaultTheme:Ux,rootShouldForwardProp:Kr}),ez=["theme"];function tz(t){let{theme:e}=t,n=Oe(t,ez);const r=e[Ya];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(WF,$({},n,{themeId:r?Ya:void 0,theme:i}))}const cS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function pt(t){return BF(t)}function nz(t){return ht("MuiSvgIcon",t)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rz=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iz=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${pe(e)}`,`fontSize${pe(n)}`]};return gt(i,nz,r)},sz=Me("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${pe(n.color)}`],e[`fontSize${pe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,c,u,f,h,m,E,C;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(c=a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem",large:((u=t.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(C=(t.vars||t).palette)==null||(C=C.action)==null?void 0:C.disabled,inherit:void 0}[e.color]}}),ov=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=Oe(r,rz),C=v.isValidElement(i)&&i.type==="svg",x=$({},r,{color:o,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:C}),I={};f||(I.viewBox=m);const T=iz(x);return l.jsxs(sz,$({as:a,className:$e(T.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,E,C&&i.props,{ownerState:x,children:[C?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});ov.muiName="SvgIcon";function ls(t,e){function n(r,i){return l.jsx(ov,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=ov.muiName,v.memo(v.forwardRef(n))}const oz={configure:t=>{Mx.configure(t)}},az=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pe,createChainedFunction:ev,createSvgIcon:ls,debounce:$x,deprecatedPropType:vF,isMuiElement:tf,ownerDocument:cr,ownerWindow:Hs,requirePropFactory:xF,setRef:Zf,unstable_ClassNameGenerator:oz,unstable_useEnhancedEffect:Ei,unstable_useId:Kp,unsupportedProp:_F,useControlled:tv,useEventCallback:Ts,useForkRef:En,useIsFocusVisible:qk},Symbol.toStringTag,{value:"Module"}));function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},av(t,e)}function dR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,av(t,e)}const uS={disabled:!1},rh=_e.createContext(null);var lz=function(e){return e.scrollTop},tc="unmounted",co="exited",uo="entering",sa="entered",lv="exiting",Ri=function(t){dR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=co,s.appearStatus=uo):c=sa:r.unmountOnExit||r.mountOnEnter?c=tc:c=co,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===tc?{status:co}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==uo&&o!==sa&&(s=uo):(o===uo||o===sa)&&(s=lv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this);o&&lz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===co&&this.setState({status:tc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[md.findDOMNode(this),a],u=c[0],f=c[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||uS.disabled){this.safeSetState({status:sa},function(){s.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:uo},function(){s.props.onEntering(u,f),s.onTransitionEnd(m,function(){s.safeSetState({status:sa},function(){s.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:md.findDOMNode(this);if(!s||uS.disabled){this.safeSetState({status:co},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:lv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:co},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===tc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Oe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _e.createElement(rh.Provider,{value:null},typeof o=="function"?o(i,a):_e.cloneElement(_e.Children.only(o),a))},e}(_e.Component);Ri.contextType=rh;Ri.propTypes={};function ea(){}Ri.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ea,onEntering:ea,onEntered:ea,onExit:ea,onExiting:ea,onExited:ea};Ri.UNMOUNTED=tc;Ri.EXITED=co;Ri.ENTERING=uo;Ri.ENTERED=sa;Ri.EXITING=lv;function cz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hx(t,e){var n=function(s){return e&&v.isValidElement(s)?e(s):s},r=Object.create(null);return t&&v.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function uz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var u=r[c][o];a[r[c][o]]=n(u)}a[c]=n(c)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function go(t,e,n){return n[e]!=null?n[e]:t.props[e]}function dz(t,e){return Hx(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:go(n,"appear",t),enter:go(n,"enter",t),exit:go(n,"exit",t)})})}function fz(t,e,n){var r=Hx(t.children),i=uz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(v.isValidElement(o)){var a=s in e,c=s in r,u=e[s],f=v.isValidElement(u)&&!u.props.in;c&&(!a||f)?i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:go(o,"exit",t),enter:go(o,"enter",t)}):!c&&a&&!f?i[s]=v.cloneElement(o,{in:!1}):c&&a&&v.isValidElement(u)&&(i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:go(o,"exit",t),enter:go(o,"enter",t)}))}}),i}var hz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},pz={component:"div",childFactory:function(e){return e}},qx=function(t){dR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(cz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,c=s.firstRender;return{children:c?dz(i,a):fz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Hx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var c=$({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Oe(i,["component","childFactory"]),c=this.state.contextValue,u=hz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?_e.createElement(rh.Provider,{value:c},u):_e.createElement(rh.Provider,{value:c},_e.createElement(s,a,u))},e}(_e.Component);qx.propTypes={};qx.defaultProps=pz;const fR=t=>t.scrollTop;function ih(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function mz(t){return ht("MuiPaper",t)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gz=["className","component","elevation","square","variant"],yz=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(s,mz,i)},vz=Me("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ut("#fff",cS(e.elevation))}, ${Ut("#fff",cS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Uo=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:c="elevation"}=r,u=Oe(r,gz),f=$({},r,{component:s,elevation:o,square:a,variant:c}),h=yz(f);return l.jsx(vz,$({as:s,ownerState:f,className:$e(h.root,i),ref:n},u))}),xz=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],bz=["component","slots","slotProps"],_z=["component"];function cv(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,c=Oe(e,xz),{component:u,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=s,m=Oe(s,bz),E=f[t]||r,C=Xk(h[t],i),x=Yk($({className:n},c,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:C})),{props:{component:I},internalRef:T}=x,g=Oe(x.props,_z),b=En(T,C==null?void 0:C.ref,e.ref),k=o?o(g):{},M=$({},i,k),N=t==="root"?I||u:I,w=Gk(E,$({},t==="root"&&!u&&!f[t]&&a,t!=="root"&&!f[t]&&a,g,N&&{as:N},{ref:b}),M);return Object.keys(k).forEach(p=>{delete w[p]}),[E,w]}function wz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:c,timeout:u}=t,[f,h]=v.useState(!1),m=$e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},C=$e(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),v.useEffect(()=>{if(!a&&c!=null){const x=setTimeout(c,u);return()=>{clearTimeout(x)}}},[c,a,u]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:C})})}const jr=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sz=["center","classes","className"];let Yp=t=>t,dS,fS,hS,pS;const uv=550,Ez=80,Cz=Ip(dS||(dS=Yp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Tz=Ip(fS||(fS=Yp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Iz=Ip(hS||(hS=Yp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),kz=Me("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Rz=Me(wz,{name:"MuiTouchRipple",slot:"Ripple"})(pS||(pS=Yp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),jr.rippleVisible,Cz,uv,({theme:t})=>t.transitions.easing.easeInOut,jr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,jr.child,jr.childLeaving,Tz,uv,({theme:t})=>t.transitions.easing.easeInOut,jr.childPulsate,Iz,({theme:t})=>t.transitions.easing.easeInOut),Pz=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Oe(r,Sz),[c,u]=v.useState([]),f=v.useRef(0),h=v.useRef(null);v.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const m=v.useRef(!1),E=Hk(),C=v.useRef(null),x=v.useRef(null),I=v.useCallback(k=>{const{pulsate:M,rippleX:N,rippleY:w,rippleSize:p,cb:_}=k;u(S=>[...S,l.jsx(Rz,{classes:{ripple:$e(s.ripple,jr.ripple),rippleVisible:$e(s.rippleVisible,jr.rippleVisible),ripplePulsate:$e(s.ripplePulsate,jr.ripplePulsate),child:$e(s.child,jr.child),childLeaving:$e(s.childLeaving,jr.childLeaving),childPulsate:$e(s.childPulsate,jr.childPulsate)},timeout:uv,pulsate:M,rippleX:N,rippleY:w,rippleSize:p},f.current)]),f.current+=1,h.current=_},[s]),T=v.useCallback((k={},M={},N=()=>{})=>{const{pulsate:w=!1,center:p=i||M.pulsate,fakeElement:_=!1}=M;if((k==null?void 0:k.type)==="mousedown"&&m.current){m.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(m.current=!0);const S=_?null:x.current,P=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,A,V;if(p||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)j=Math.round(P.width/2),A=Math.round(P.height/2);else{const{clientX:F,clientY:B}=k.touches&&k.touches.length>0?k.touches[0]:k;j=Math.round(F-P.left),A=Math.round(B-P.top)}if(p)V=Math.sqrt((2*P.width**2+P.height**2)/3),V%2===0&&(V+=1);else{const F=Math.max(Math.abs((S?S.clientWidth:0)-j),j)*2+2,B=Math.max(Math.abs((S?S.clientHeight:0)-A),A)*2+2;V=Math.sqrt(F**2+B**2)}k!=null&&k.touches?C.current===null&&(C.current=()=>{I({pulsate:w,rippleX:j,rippleY:A,rippleSize:V,cb:N})},E.start(Ez,()=>{C.current&&(C.current(),C.current=null)})):I({pulsate:w,rippleX:j,rippleY:A,rippleSize:V,cb:N})},[i,I,E]),g=v.useCallback(()=>{T({},{pulsate:!0})},[T]),b=v.useCallback((k,M)=>{if(E.clear(),(k==null?void 0:k.type)==="touchend"&&C.current){C.current(),C.current=null,E.start(0,()=>{b(k,M)});return}C.current=null,u(N=>N.length>0?N.slice(1):N),h.current=M},[E]);return v.useImperativeHandle(n,()=>({pulsate:g,start:T,stop:b}),[g,T,b]),l.jsx(kz,$({className:$e(jr.root,s.root,o),ref:x},a,{children:l.jsx(qx,{component:null,exit:!0,children:c})}))});function Az(t){return ht("MuiButtonBase",t)}const jz=st("MuiButtonBase",["root","disabled","focusVisible"]),Oz=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nz=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=gt({root:["root",e&&"disabled",n&&"focusVisible"]},Az,i);return n&&r&&(o.root+=` ${r}`),o},Mz=Me("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${jz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),eu=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:c="button",disabled:u=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:C,onClick:x,onContextMenu:I,onDragLeave:T,onFocus:g,onFocusVisible:b,onKeyDown:k,onKeyUp:M,onMouseDown:N,onMouseLeave:w,onMouseUp:p,onTouchEnd:_,onTouchMove:S,onTouchStart:P,tabIndex:j=0,TouchRippleProps:A,touchRippleRef:V,type:F}=r,B=Oe(r,Oz),U=v.useRef(null),D=v.useRef(null),z=En(D,V),{isFocusVisibleRef:K,onFocus:H,onBlur:q,ref:Q}=qk(),[ee,de]=v.useState(!1);u&&ee&&de(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),U.current.focus()}}),[]);const[me,G]=v.useState(!1);v.useEffect(()=>{G(!0)},[]);const re=me&&!f&&!u;v.useEffect(()=>{ee&&m&&!f&&me&&D.current.pulsate()},[f,m,ee,me]);function W(Ie,St,At=h){return Ts(tt=>(St&&St(tt),!At&&D.current&&D.current[Ie](tt),!0))}const ce=W("start",N),ne=W("stop",I),ie=W("stop",T),ge=W("stop",p),xe=W("stop",Ie=>{ee&&Ie.preventDefault(),w&&w(Ie)}),we=W("start",P),Ee=W("stop",_),et=W("stop",S),Te=W("stop",Ie=>{q(Ie),K.current===!1&&de(!1),C&&C(Ie)},!1),X=Ts(Ie=>{U.current||(U.current=Ie.currentTarget),H(Ie),K.current===!0&&(de(!0),b&&b(Ie)),g&&g(Ie)}),ae=()=>{const Ie=U.current;return c&&c!=="button"&&!(Ie.tagName==="A"&&Ie.href)},Re=v.useRef(!1),Pe=Ts(Ie=>{m&&!Re.current&&ee&&D.current&&Ie.key===" "&&(Re.current=!0,D.current.stop(Ie,()=>{D.current.start(Ie)})),Ie.target===Ie.currentTarget&&ae()&&Ie.key===" "&&Ie.preventDefault(),k&&k(Ie),Ie.target===Ie.currentTarget&&ae()&&Ie.key==="Enter"&&!u&&(Ie.preventDefault(),x&&x(Ie))}),Ne=Ts(Ie=>{m&&Ie.key===" "&&D.current&&ee&&!Ie.defaultPrevented&&(Re.current=!1,D.current.stop(Ie,()=>{D.current.pulsate(Ie)})),M&&M(Ie),x&&Ie.target===Ie.currentTarget&&ae()&&Ie.key===" "&&!Ie.defaultPrevented&&x(Ie)});let ve=c;ve==="button"&&(B.href||B.to)&&(ve=E);const ct={};ve==="button"?(ct.type=F===void 0?"button":F,ct.disabled=u):(!B.href&&!B.to&&(ct.role="button"),u&&(ct["aria-disabled"]=u));const Ce=En(n,Q,U),be=$({},r,{centerRipple:s,component:c,disabled:u,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:j,focusVisible:ee}),Fe=Nz(be);return l.jsxs(Mz,$({as:ve,className:$e(Fe.root,a),ownerState:be,onBlur:Te,onClick:x,onContextMenu:ne,onFocus:X,onKeyDown:Pe,onKeyUp:Ne,onMouseDown:ce,onMouseLeave:xe,onMouseUp:ge,onDragLeave:ie,onTouchEnd:Ee,onTouchMove:et,onTouchStart:we,ref:Ce,tabIndex:u?-1:j,type:F},ct,B,{children:[o,re?l.jsx(Pz,$({ref:z,center:s},A)):null]}))});function Lz(t){return ht("MuiAlert",t)}const mS=st("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Dz(t){return ht("MuiIconButton",t)}const $z=st("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Fz=["edge","children","className","color","disabled","disableFocusRipple","size"],zz=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${pe(r)}`,i&&`edge${pe(i)}`,`size${pe(s)}`]};return gt(o,Dz,e)},Vz=Me(eu,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${pe(n.color)}`],n.edge&&e[`edge${pe(n.edge)}`],e[`size${pe(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${$z.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),dv=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:f="medium"}=r,h=Oe(r,Fz),m=$({},r,{edge:i,color:a,disabled:c,disableFocusRipple:u,size:f}),E=zz(m);return l.jsx(Vz,$({className:$e(E.root,o),centerRipple:!0,focusRipple:!u,disabled:c,ref:n},h,{ownerState:m,children:s}))}),Bz=ls(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Uz=ls(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Wz=ls(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Hz=ls(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),qz=ls(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Kz=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Gz=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${pe(n||r)}`,`${e}${pe(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return gt(s,Lz,i)},Qz=Me(Uo,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${pe(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?rv:iv,n=t.palette.mode==="light"?iv:rv;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${mS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${mS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),Yz=Me("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Xz=Me("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),gS=Me("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),yS={success:l.jsx(Bz,{fontSize:"inherit"}),warning:l.jsx(Uz,{fontSize:"inherit"}),error:l.jsx(Wz,{fontSize:"inherit"}),info:l.jsx(Hz,{fontSize:"inherit"})},vS=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:c,components:u={},componentsProps:f={},icon:h,iconMapping:m=yS,onClose:E,role:C="alert",severity:x="success",slotProps:I={},slots:T={},variant:g="standard"}=r,b=Oe(r,Kz),k=$({},r,{color:c,severity:x,variant:g,colorSeverity:c||x}),M=Gz(k),N={slots:$({closeButton:u.CloseButton,closeIcon:u.CloseIcon},T),slotProps:$({},f,I)},[w,p]=cv("closeButton",{elementType:dv,externalForwardedProps:N,ownerState:k}),[_,S]=cv("closeIcon",{elementType:qz,externalForwardedProps:N,ownerState:k});return l.jsxs(Qz,$({role:C,elevation:0,ownerState:k,className:$e(M.root,o),ref:n},b,{children:[h!==!1?l.jsx(Yz,{ownerState:k,className:M.icon,children:h||m[x]||yS[x]}):null,l.jsx(Xz,{ownerState:k,className:M.message,children:s}),i!=null?l.jsx(gS,{ownerState:k,className:M.action,children:i}):null,i==null&&E?l.jsx(gS,{ownerState:k,className:M.action,children:l.jsx(w,$({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(_,$({fontSize:"small"},S))}))}):null]}))});function Jz(t){return ht("MuiTypography",t)}st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Zz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],eV=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${pe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(a,Jz,o)},tV=Me("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${pe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),xS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},rV=t=>nV[t]||t,Ve=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTypography"}),i=rV(r.color),s=Lp($({},r,{color:i})),{align:o="inherit",className:a,component:c,gutterBottom:u=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=xS}=s,C=Oe(s,Zz),x=$({},s,{align:o,color:i,className:a,component:c,gutterBottom:u,noWrap:f,paragraph:h,variant:m,variantMapping:E}),I=c||(h?"p":E[m]||xS[m])||"span",T=eV(x);return l.jsx(tV,$({as:I,ref:n,ownerState:x,className:$e(T.root,a)},C))});function iV(t){return ht("MuiAppBar",t)}st("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const sV=["className","color","enableColorOnDark","position"],oV=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${pe(e)}`,`position${pe(n)}`]};return gt(i,iV,r)},Cd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,aV=Me(Uo,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${pe(n.position)}`],e[`color${pe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&$({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&$({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Cd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Cd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Cd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Cd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),lV=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,c=Oe(r,sV),u=$({},r,{color:s,position:a,enableColorOnDark:o}),f=oV(u);return l.jsx(aV,$({square:!0,component:"header",ownerState:u,elevation:4,className:$e(f.root,i,a==="fixed"&&"mui-fixed"),ref:n},c))});function cV(t){return typeof t=="function"?t():t}const uV=v.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=v.useState(null),c=En(v.isValidElement(r)?Lu(r):null,n);if(Ei(()=>{s||a(cV(i)||document.body)},[i,s]),Ei(()=>{if(o&&!s)return Zf(n,o),()=>{Zf(n,null)}},[n,o,s]),s){if(v.isValidElement(r)){const u={ref:c};return v.cloneElement(r,u)}return l.jsx(v.Fragment,{children:r})}return l.jsx(v.Fragment,{children:o&&v0.createPortal(r,o)})}),dV=ls(l.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function fV(t){return ht("MuiChip",t)}const xt=st("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),hV=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],pV=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:a,variant:c}=t,u={root:["root",c,n&&"disabled",`size${pe(r)}`,`color${pe(i)}`,a&&"clickable",a&&`clickableColor${pe(i)}`,o&&"deletable",o&&`deletableColor${pe(i)}`,`${c}${pe(i)}`],label:["label",`label${pe(r)}`],avatar:["avatar",`avatar${pe(r)}`,`avatarColor${pe(i)}`],icon:["icon",`icon${pe(r)}`,`iconColor${pe(s)}`],deleteIcon:["deleteIcon",`deleteIcon${pe(r)}`,`deleteIconColor${pe(i)}`,`deleteIcon${pe(c)}Color${pe(i)}`]};return gt(u,fV,e)},mV=Me("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:o,size:a,variant:c}=n;return[{[`& .${xt.avatar}`]:e.avatar},{[`& .${xt.avatar}`]:e[`avatar${pe(a)}`]},{[`& .${xt.avatar}`]:e[`avatarColor${pe(r)}`]},{[`& .${xt.icon}`]:e.icon},{[`& .${xt.icon}`]:e[`icon${pe(a)}`]},{[`& .${xt.icon}`]:e[`iconColor${pe(i)}`]},{[`& .${xt.deleteIcon}`]:e.deleteIcon},{[`& .${xt.deleteIcon}`]:e[`deleteIcon${pe(a)}`]},{[`& .${xt.deleteIcon}`]:e[`deleteIconColor${pe(r)}`]},{[`& .${xt.deleteIcon}`]:e[`deleteIcon${pe(c)}Color${pe(r)}`]},e.root,e[`size${pe(a)}`],e[`color${pe(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${pe(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${pe(r)}`],e[c],e[`${c}${pe(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return $({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${xt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${xt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${xt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${xt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${xt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${xt.icon}`]:$({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&$({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${xt.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ut(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ut(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ut(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${xt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ut(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${xt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>$({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ut(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${xt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ut(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${xt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>$({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${xt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${xt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${xt.avatar}`]:{marginLeft:4},[`& .${xt.avatarSmall}`]:{marginLeft:2},[`& .${xt.icon}`]:{marginLeft:4},[`& .${xt.iconSmall}`]:{marginLeft:2},[`& .${xt.deleteIcon}`]:{marginRight:5},[`& .${xt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ut(t.palette[e.color].main,.7)}`,[`&.${xt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${xt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ut(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${xt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ut(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),gV=Me("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${pe(r)}`]]}})(({ownerState:t})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function bS(t){return t.key==="Backspace"||t.key==="Delete"}const _S=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:c,deleteIcon:u,disabled:f=!1,icon:h,label:m,onClick:E,onDelete:C,onKeyDown:x,onKeyUp:I,size:T="medium",variant:g="filled",tabIndex:b,skipFocusWhenDisabled:k=!1}=r,M=Oe(r,hV),N=v.useRef(null),w=En(N,n),p=z=>{z.stopPropagation(),C&&C(z)},_=z=>{z.currentTarget===z.target&&bS(z)&&z.preventDefault(),x&&x(z)},S=z=>{z.currentTarget===z.target&&(C&&bS(z)?C(z):z.key==="Escape"&&N.current&&N.current.blur()),I&&I(z)},P=o!==!1&&E?!0:o,j=P||C?eu:c||"div",A=$({},r,{component:j,disabled:f,size:T,color:a,iconColor:v.isValidElement(h)&&h.props.color||a,onDelete:!!C,clickable:P,variant:g}),V=pV(A),F=j===eu?$({component:c||"div",focusVisibleClassName:V.focusVisible},C&&{disableRipple:!0}):{};let B=null;C&&(B=u&&v.isValidElement(u)?v.cloneElement(u,{className:$e(u.props.className,V.deleteIcon),onClick:p}):l.jsx(dV,{className:$e(V.deleteIcon),onClick:p}));let U=null;i&&v.isValidElement(i)&&(U=v.cloneElement(i,{className:$e(V.avatar,i.props.className)}));let D=null;return h&&v.isValidElement(h)&&(D=v.cloneElement(h,{className:$e(V.icon,h.props.className)})),l.jsxs(mV,$({as:j,className:$e(V.root,s),disabled:P&&f?!0:void 0,onClick:E,onKeyDown:_,onKeyUp:S,ref:w,tabIndex:k&&f?-1:b,ownerState:A},F,M,{children:[U||D,l.jsx(gV,{className:$e(V.label),ownerState:A,children:m}),B]}))}),yV=["onChange","maxRows","minRows","style","value"];function Td(t){return parseInt(t,10)||0}const vV={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function xV(t){for(const e in t)return!1;return!0}function wS(t){return xV(t)||t.outerHeightStyle===0&&!t.overflowing}const bV=v.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,c=Oe(e,yV),{current:u}=v.useRef(a!=null),f=v.useRef(null),h=En(n,f),m=v.useRef(null),E=v.useRef(null),C=v.useCallback(()=>{const b=f.current,k=E.current;if(!b||!k)return;const N=Hs(b).getComputedStyle(b);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=N.width,k.value=b.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const w=N.boxSizing,p=Td(N.paddingBottom)+Td(N.paddingTop),_=Td(N.borderBottomWidth)+Td(N.borderTopWidth),S=k.scrollHeight;k.value="x";const P=k.scrollHeight;let j=S;s&&(j=Math.max(Number(s)*P,j)),i&&(j=Math.min(Number(i)*P,j)),j=Math.max(j,P);const A=j+(w==="border-box"?p+_:0),V=Math.abs(j-S)<=1;return{outerHeightStyle:A,overflowing:V}},[i,s,e.placeholder]),x=Ts(()=>{const b=f.current,k=C();if(!b||!k||wS(k))return!1;const M=k.outerHeightStyle;return m.current!=null&&m.current!==M}),I=v.useCallback(()=>{const b=f.current,k=C();if(!b||!k||wS(k))return;const M=k.outerHeightStyle;m.current!==M&&(m.current=M,b.style.height=`${M}px`),b.style.overflow=k.overflowing?"hidden":""},[C]),T=v.useRef(-1);Ei(()=>{const b=$x(I),k=f==null?void 0:f.current;if(!k)return;const M=Hs(k);M.addEventListener("resize",b);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{x()&&(N.unobserve(k),cancelAnimationFrame(T.current),I(),T.current=requestAnimationFrame(()=>{N.observe(k)}))}),N.observe(k)),()=>{b.clear(),cancelAnimationFrame(T.current),M.removeEventListener("resize",b),N&&N.disconnect()}},[C,I,x]),Ei(()=>{I()});const g=b=>{u||I(),r&&r(b)};return l.jsxs(v.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:g,ref:h,rows:s,style:o},c)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:$({},vV.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function vl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Kx=v.createContext(void 0);function xl(){return v.useContext(Kx)}function hR(t){return l.jsx(Vk,$({},t,{defaultTheme:Ux,themeId:Ya}))}function SS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function sh(t,e=!1){return t&&(SS(t.value)&&t.value!==""||e&&SS(t.defaultValue)&&t.defaultValue!=="")}function _V(t){return t.startAdornment}function wV(t){return ht("MuiInputBase",t)}const Za=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),SV=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Xp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${pe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Jp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},EV=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:c,hiddenLabel:u,multiline:f,readOnly:h,size:m,startAdornment:E,type:C}=t,x={root:["root",`color${pe(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${pe(m)}`,f&&"multiline",E&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",C==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",E&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return gt(x,wV,e)},Zp=Me("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Xp})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Za.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),em=Me("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Za.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Za.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),CV=l.jsx(hR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Gx=v.forwardRef(function(e,n){var r;const i=pt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:c,components:u={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:C,fullWidth:x=!1,id:I,inputComponent:T="input",inputProps:g={},inputRef:b,maxRows:k,minRows:M,multiline:N=!1,name:w,onBlur:p,onChange:_,onClick:S,onFocus:P,onKeyDown:j,onKeyUp:A,placeholder:V,readOnly:F,renderSuffix:B,rows:U,slotProps:D={},slots:z={},startAdornment:K,type:H="text",value:q}=i,Q=Oe(i,SV),ee=g.value!=null?g.value:q,{current:de}=v.useRef(ee!=null),me=v.useRef(),G=v.useCallback(Fe=>{},[]),re=En(me,b,g.ref,G),[W,ce]=v.useState(!1),ne=xl(),ie=vl({props:i,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=ne?ne.focused:W,v.useEffect(()=>{!ne&&m&&W&&(ce(!1),p&&p())},[ne,m,W,p]);const ge=ne&&ne.onFilled,xe=ne&&ne.onEmpty,we=v.useCallback(Fe=>{sh(Fe)?ge&&ge():xe&&xe()},[ge,xe]);Ei(()=>{de&&we({value:ee})},[ee,we,de]);const Ee=Fe=>{if(ie.disabled){Fe.stopPropagation();return}P&&P(Fe),g.onFocus&&g.onFocus(Fe),ne&&ne.onFocus?ne.onFocus(Fe):ce(!0)},et=Fe=>{p&&p(Fe),g.onBlur&&g.onBlur(Fe),ne&&ne.onBlur?ne.onBlur(Fe):ce(!1)},Te=(Fe,...Ie)=>{if(!de){const St=Fe.target||me.current;if(St==null)throw new Error(Oo(1));we({value:St.value})}g.onChange&&g.onChange(Fe,...Ie),_&&_(Fe,...Ie)};v.useEffect(()=>{we(me.current)},[]);const X=Fe=>{me.current&&Fe.currentTarget===Fe.target&&me.current.focus(),S&&S(Fe)};let ae=T,Re=g;N&&ae==="input"&&(U?Re=$({type:void 0,minRows:U,maxRows:U},Re):Re=$({type:void 0,maxRows:k,minRows:M},Re),ae=bV);const Pe=Fe=>{we(Fe.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};v.useEffect(()=>{ne&&ne.setAdornedStart(!!K)},[ne,K]);const Ne=$({},i,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:C,error:ie.error,focused:ie.focused,formControl:ne,fullWidth:x,hiddenLabel:ie.hiddenLabel,multiline:N,size:ie.size,startAdornment:K,type:H}),ve=EV(Ne),ct=z.root||u.Root||Zp,Ce=D.root||f.root||{},be=z.input||u.Input||em;return Re=$({},Re,(r=D.input)!=null?r:f.input),l.jsxs(v.Fragment,{children:[!E&&CV,l.jsxs(ct,$({},Ce,!eh(ct)&&{ownerState:$({},Ne,Ce.ownerState)},{ref:n,onClick:X},Q,{className:$e(ve.root,Ce.className,c,F&&"MuiInputBase-readOnly"),children:[K,l.jsx(Kx.Provider,{value:null,children:l.jsx(be,$({ownerState:Ne,"aria-invalid":ie.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:ie.disabled,id:I,onAnimationStart:Pe,name:w,placeholder:V,readOnly:F,required:ie.required,rows:U,value:ee,onKeyDown:j,onKeyUp:A,type:H},Re,!eh(be)&&{as:ae,ownerState:$({},Ne,Re.ownerState)},{ref:re,className:$e(ve.input,Re.className,F&&"MuiInputBase-readOnly"),onBlur:et,onChange:Te,onFocus:Ee}))}),C,B?B($({},ie,{startAdornment:K})):null]}))]})});function TV(t){return ht("MuiInput",t)}const Fl=$({},Za,st("MuiInput",["root","underline","input"]));function IV(t){return ht("MuiOutlinedInput",t)}const gs=$({},Za,st("MuiOutlinedInput",["root","notchedOutline","input"]));function kV(t){return ht("MuiFilledInput",t)}const io=$({},Za,st("MuiFilledInput",["root","underline","input"])),RV=ls(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),PV=ls(l.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function AV(t){return ht("MuiAvatar",t)}st("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const jV=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],OV=t=>{const{classes:e,variant:n,colorDefault:r}=t;return gt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},AV,e)},NV=Me("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:$({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:$({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),MV=Me("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),LV=Me(PV,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function DV({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=v.useState(!1);return v.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const $V=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:c={},slotProps:u={},imgProps:f,sizes:h,src:m,srcSet:E,variant:C="circular"}=r,x=Oe(r,jV);let I=null;const T=DV($({},f,{src:m,srcSet:E})),g=m||E,b=g&&T!=="error",k=$({},r,{colorDefault:!b,component:a,variant:C}),M=OV(k),[N,w]=cv("img",{className:M.img,elementType:MV,externalForwardedProps:{slots:c,slotProps:{img:$({},f,u.img)}},additionalProps:{alt:i,src:m,srcSet:E,sizes:h},ownerState:k});return b?I=l.jsx(N,$({},w)):s||s===0?I=s:g&&i?I=i[0]:I=l.jsx(LV,{ownerState:k,className:M.fallback}),l.jsx(NV,$({as:a,ownerState:k,className:$e(M.root,o),ref:n},x,{children:I}))}),FV=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],zV={entering:{opacity:1},entered:{opacity:1}},pR=v.forwardRef(function(e,n){const r=Wx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:c,in:u,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:C,onExiting:x,style:I,timeout:T=i,TransitionComponent:g=Ri}=e,b=Oe(e,FV),k=v.useRef(null),M=En(k,Lu(a),n),N=V=>F=>{if(V){const B=k.current;F===void 0?V(B):V(B,F)}},w=N(m),p=N((V,F)=>{fR(V);const B=ih({style:I,timeout:T,easing:c},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",B),V.style.transition=r.transitions.create("opacity",B),f&&f(V,F)}),_=N(h),S=N(x),P=N(V=>{const F=ih({style:I,timeout:T,easing:c},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",F),V.style.transition=r.transitions.create("opacity",F),E&&E(V)}),j=N(C),A=V=>{s&&s(k.current,V)};return l.jsx(g,$({appear:o,in:u,nodeRef:k,onEnter:p,onEntered:_,onEntering:w,onExit:P,onExited:j,onExiting:S,addEndListener:A,timeout:T},b,{children:(V,F)=>v.cloneElement(a,$({style:$({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},zV[V],I,a.props.style),ref:M},F))}))});function VV(t){return ht("MuiBackdrop",t)}st("MuiBackdrop",["root","invisible"]);const BV=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],UV=t=>{const{classes:e,invisible:n}=t;return gt({root:["root",n&&"invisible"]},VV,e)},WV=Me("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),HV=v.forwardRef(function(e,n){var r,i,s;const o=pt({props:e,name:"MuiBackdrop"}),{children:a,className:c,component:u="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:C={},slots:x={},TransitionComponent:I=pR,transitionDuration:T}=o,g=Oe(o,BV),b=$({},o,{component:u,invisible:m}),k=UV(b),M=(r=C.root)!=null?r:h.root;return l.jsx(I,$({in:E,timeout:T},g,{children:l.jsx(WV,$({"aria-hidden":!0},M,{as:(i=(s=x.root)!=null?s:f.Root)!=null?i:u,className:$e(k.root,c,M==null?void 0:M.className),ownerState:$({},b,M==null?void 0:M.ownerState),classes:k,ref:n,children:a}))}))}),qV=st("MuiBox",["root"]),KV=Bx(),Ge=X8({themeId:Ya,defaultTheme:KV,defaultClassName:qV.root,generateClassName:Mx.generate});function GV(t){return ht("MuiButton",t)}const Id=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),QV=v.createContext({}),YV=v.createContext(void 0),XV=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],JV=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${pe(e)}`,`size${pe(i)}`,`${s}Size${pe(i)}`,`color${pe(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${pe(i)}`],endIcon:["icon","endIcon",`iconSize${pe(i)}`]},c=gt(a,GV,o);return $({},o,c)},mR=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ZV=Me(eu,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${pe(n.color)}`],e[`size${pe(n.size)}`],e[`${n.variant}Size${pe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ut(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Id.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Id.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ut(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Id.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Id.disabled}`]:{boxShadow:"none"}}),eB=Me("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${pe(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},mR(t))),tB=Me("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${pe(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},mR(t))),Bn=v.forwardRef(function(e,n){const r=v.useContext(QV),i=v.useContext(YV),s=Zc(r,e),o=pt({props:s,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:C,focusVisibleClassName:x,fullWidth:I=!1,size:T="medium",startIcon:g,type:b,variant:k="text"}=o,M=Oe(o,XV),N=$({},o,{color:c,component:u,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:I,size:T,type:b,variant:k}),w=JV(N),p=g&&l.jsx(eB,{className:w.startIcon,ownerState:N,children:g}),_=C&&l.jsx(tB,{className:w.endIcon,ownerState:N,children:C}),S=i||"";return l.jsxs(ZV,$({ownerState:N,className:$e(r.className,w.root,f,S),component:u,disabled:h,focusRipple:!E,focusVisibleClassName:$e(w.focusVisible,x),ref:n,type:b},M,{classes:w,children:[p,a,_]}))});function nB(t){return ht("MuiCard",t)}st("MuiCard",["root"]);const rB=["className","raised"],iB=t=>{const{classes:e}=t;return gt({root:["root"]},nB,e)},sB=Me(Uo,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),oh=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Oe(r,rB),a=$({},r,{raised:s}),c=iB(a);return l.jsx(sB,$({className:$e(c.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function oB(t){return ht("MuiCardContent",t)}st("MuiCardContent",["root"]);const aB=["className","component"],lB=t=>{const{classes:e}=t;return gt({root:["root"]},oB,e)},cB=Me("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ah=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Oe(r,aB),a=$({},r,{component:s}),c=lB(a);return l.jsx(cB,$({as:s,className:$e(c.root,i),ownerState:a,ref:n},o))});function uB(t){return ht("MuiCardMedia",t)}st("MuiCardMedia",["root","media","img"]);const dB=["children","className","component","image","src","style"],fB=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return gt({root:["root",n&&"media",r&&"img"]},uB,e)},hB=Me("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),pB=["video","audio","picture","iframe","img"],mB=["picture","img"],ES=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:c,style:u}=r,f=Oe(r,dB),h=pB.indexOf(o)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},u):u,E=$({},r,{component:o,isMediaComponent:h,isImageComponent:mB.indexOf(o)!==-1}),C=fB(E);return l.jsx(hB,$({className:$e(C.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||c:void 0},f,{children:i}))}),gR=YF({createStyledComponent:Me("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${pe(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>pt({props:t,name:"MuiContainer"})}),gB=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),yB=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),vB=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var c;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(c=a.palette)==null?void 0:c.mode}});let i=$({html:gB(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},yB(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function xB(t){const e=pt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(v.Fragment,{children:[l.jsx(hR,{styles:i=>vB(i,r)}),n]})}function bB(t){const e=cr(t);return e.body===t?Hs(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function vc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function CS(t){return parseInt(Hs(t).getComputedStyle(t).paddingRight,10)||0}function _B(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function TS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,c=!_B(o);a&&c&&vc(o,i)})}function ug(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function wB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(bB(r)){const o=Kk(cr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${CS(r)+o}px`;const a=cr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${CS(c)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=cr(r).body;else{const o=r.parentElement,a=Hs(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function SB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class EB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&vc(e.modalRef,!1);const i=SB(n);TS(n,e.mount,e.modalRef,i,!0);const s=ug(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ug(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=wB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ug(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&vc(e.modalRef,n),TS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&vc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const CB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function TB(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function IB(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function kB(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||IB(t))}function RB(t){const e=[],n=[];return Array.from(t.querySelectorAll(CB)).forEach((r,i)=>{const s=TB(r);s===-1||!kB(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function PB(){return!0}function AB(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=RB,isEnabled:o=PB,open:a}=t,c=v.useRef(!1),u=v.useRef(null),f=v.useRef(null),h=v.useRef(null),m=v.useRef(null),E=v.useRef(!1),C=v.useRef(null),x=En(Lu(e),C),I=v.useRef(null);v.useEffect(()=>{!a||!C.current||(E.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!C.current)return;const b=cr(C.current);return C.current.contains(b.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),E.current&&C.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[a]),v.useEffect(()=>{if(!a||!C.current)return;const b=cr(C.current),k=w=>{I.current=w,!(r||!o()||w.key!=="Tab")&&b.activeElement===C.current&&w.shiftKey&&(c.current=!0,f.current&&f.current.focus())},M=()=>{const w=C.current;if(w===null)return;if(!b.hasFocus()||!o()||c.current){c.current=!1;return}if(w.contains(b.activeElement)||r&&b.activeElement!==u.current&&b.activeElement!==f.current)return;if(b.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((b.activeElement===u.current||b.activeElement===f.current)&&(p=s(C.current)),p.length>0){var _,S;const P=!!((_=I.current)!=null&&_.shiftKey&&((S=I.current)==null?void 0:S.key)==="Tab"),j=p[0],A=p[p.length-1];typeof j!="string"&&typeof A!="string"&&(P?A.focus():j.focus())}else w.focus()};b.addEventListener("focusin",M),b.addEventListener("keydown",k,!0);const N=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),b.removeEventListener("focusin",M),b.removeEventListener("keydown",k,!0)}},[n,r,i,o,a,s]);const T=b=>{h.current===null&&(h.current=b.relatedTarget),E.current=!0,m.current=b.target;const k=e.props.onFocus;k&&k(b)},g=b=>{h.current===null&&(h.current=b.relatedTarget),E.current=!0};return l.jsxs(v.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:x,onFocus:T}),l.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:f,"data-testid":"sentinelEnd"})]})}function jB(t){return typeof t=="function"?t():t}function OB(t){return t?t.props.hasOwnProperty("in"):!1}const NB=new EB;function MB(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=NB,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:c,onClose:u,open:f,rootRef:h}=t,m=v.useRef({}),E=v.useRef(null),C=v.useRef(null),x=En(C,h),[I,T]=v.useState(!f),g=OB(c);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const k=()=>cr(E.current),M=()=>(m.current.modalRef=C.current,m.current.mount=E.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),C.current&&(C.current.scrollTop=0)},w=Ts(()=>{const B=jB(e)||k().body;i.add(M(),B),C.current&&N()}),p=v.useCallback(()=>i.isTopModal(M()),[i]),_=Ts(B=>{E.current=B,B&&(f&&p()?N():C.current&&vc(C.current,b))}),S=v.useCallback(()=>{i.remove(M(),b)},[b,i]);v.useEffect(()=>()=>{S()},[S]),v.useEffect(()=>{f?w():(!g||!s)&&S()},[f,S,g,s,w]);const P=B=>U=>{var D;(D=B.onKeyDown)==null||D.call(B,U),!(U.key!=="Escape"||U.which===229||!p())&&(n||(U.stopPropagation(),u&&u(U,"escapeKeyDown")))},j=B=>U=>{var D;(D=B.onClick)==null||D.call(B,U),U.target===U.currentTarget&&u&&u(U,"backdropClick")};return{getRootProps:(B={})=>{const U=Qk(t);delete U.onTransitionEnter,delete U.onTransitionExited;const D=$({},U,B);return $({role:"presentation"},D,{onKeyDown:P(D),ref:x})},getBackdropProps:(B={})=>{const U=B;return $({"aria-hidden":!0},U,{onClick:j(U),open:f})},getTransitionProps:()=>{const B=()=>{T(!1),o&&o()},U=()=>{T(!0),a&&a(),s&&S()};return{onEnter:ev(B,c==null?void 0:c.props.onEnter),onExited:ev(U,c==null?void 0:c.props.onExited)}},rootRef:x,portalRef:_,isTopModal:p,exited:I,hasTransition:g}}function LB(t){return ht("MuiModal",t)}st("MuiModal",["root","hidden","backdrop"]);const DB=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],$B=t=>{const{open:e,exited:n,classes:r}=t;return gt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},LB,r)},FB=Me("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),zB=Me(HV,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),VB=v.forwardRef(function(e,n){var r,i,s,o,a,c;const u=pt({name:"MuiModal",props:e}),{BackdropComponent:f=zB,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:C,container:x,component:I,components:T={},componentsProps:g={},disableAutoFocus:b=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:w=!1,disableScrollLock:p=!1,hideBackdrop:_=!1,keepMounted:S=!1,onBackdropClick:P,open:j,slotProps:A,slots:V}=u,F=Oe(u,DB),B=$({},u,{closeAfterTransition:E,disableAutoFocus:b,disableEnforceFocus:k,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:w,disableScrollLock:p,hideBackdrop:_,keepMounted:S}),{getRootProps:U,getBackdropProps:D,getTransitionProps:z,portalRef:K,isTopModal:H,exited:q,hasTransition:Q}=MB($({},B,{rootRef:n})),ee=$({},B,{exited:q}),de=$B(ee),me={};if(C.props.tabIndex===void 0&&(me.tabIndex="-1"),Q){const{onEnter:ge,onExited:xe}=z();me.onEnter=ge,me.onExited=xe}const G=(r=(i=V==null?void 0:V.root)!=null?i:T.Root)!=null?r:FB,re=(s=(o=V==null?void 0:V.backdrop)!=null?o:T.Backdrop)!=null?s:f,W=(a=A==null?void 0:A.root)!=null?a:g.root,ce=(c=A==null?void 0:A.backdrop)!=null?c:g.backdrop,ne=Ja({elementType:G,externalSlotProps:W,externalForwardedProps:F,getSlotProps:U,additionalProps:{ref:n,as:I},ownerState:ee,className:$e(m,W==null?void 0:W.className,de==null?void 0:de.root,!ee.open&&ee.exited&&(de==null?void 0:de.hidden))}),ie=Ja({elementType:re,externalSlotProps:ce,additionalProps:h,getSlotProps:ge=>D($({},ge,{onClick:xe=>{P&&P(xe),ge!=null&&ge.onClick&&ge.onClick(xe)}})),className:$e(ce==null?void 0:ce.className,h==null?void 0:h.className,de==null?void 0:de.backdrop),ownerState:ee});return!S&&!j&&(!Q||q)?null:l.jsx(uV,{ref:K,container:x,disablePortal:N,children:l.jsxs(G,$({},ne,{children:[!_&&f?l.jsx(re,$({},ie)):null,l.jsx(AB,{disableEnforceFocus:k,disableAutoFocus:b,disableRestoreFocus:w,isEnabled:H,open:j,children:v.cloneElement(C,me)})]}))})});function BB(t){return ht("MuiDivider",t)}const IS=st("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),UB=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],WB=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:c}=t;return gt({root:["root",e&&"absolute",c,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},BB,r)},HB=Me("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Ut(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),qB=Me("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),yR=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:c=!1,light:u=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,C=Oe(r,UB),x=$({},r,{absolute:i,component:a,flexItem:c,light:u,orientation:f,role:h,textAlign:m,variant:E}),I=WB(x);return l.jsx(HB,$({as:a,className:$e(I.root,o),role:h,ref:n,ownerState:x},C,{children:s?l.jsx(qB,{className:I.wrapper,ownerState:x,children:s}):null}))});yR.muiSkipListHighlight=!0;const KB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],GB=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},kV,e);return $({},e,i)},QB=Me(Zp,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${io.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${io.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${io.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${io.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${io.disabled}, .${io.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${io.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),YB=Me(em,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jp})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Qx=v.forwardRef(function(e,n){var r,i,s,o;const a=pt({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:u,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:C={},type:x="text"}=a,I=Oe(a,KB),T=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:x}),g=GB(a),b={root:{ownerState:T},input:{ownerState:T}},k=E??u?vr(b,E??u):b,M=(r=(i=C.root)!=null?i:c.Root)!=null?r:QB,N=(s=(o=C.input)!=null?o:c.Input)!=null?s:YB;return l.jsx(Gx,$({slots:{root:M,input:N},componentsProps:k,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:x},I,{classes:g}))});Qx.muiName="Input";function XB(t){return ht("MuiFormControl",t)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const JB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ZB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${pe(n)}`,r&&"fullWidth"]};return gt(i,XB,e)},eU=Me("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${pe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),vR=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:c=!1,error:u=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:C=!1,size:x="medium",variant:I="outlined"}=r,T=Oe(r,JB),g=$({},r,{color:o,component:a,disabled:c,error:u,fullWidth:h,hiddenLabel:m,margin:E,required:C,size:x,variant:I}),b=ZB(g),[k,M]=v.useState(()=>{let A=!1;return i&&v.Children.forEach(i,V=>{if(!tf(V,["Input","Select"]))return;const F=tf(V,["Select"])?V.props.input:V;F&&_V(F.props)&&(A=!0)}),A}),[N,w]=v.useState(()=>{let A=!1;return i&&v.Children.forEach(i,V=>{tf(V,["Input","Select"])&&(sh(V.props,!0)||sh(V.props.inputProps,!0))&&(A=!0)}),A}),[p,_]=v.useState(!1);c&&p&&_(!1);const S=f!==void 0&&!c?f:p;let P;const j=v.useMemo(()=>({adornedStart:k,setAdornedStart:M,color:o,disabled:c,error:u,filled:N,focused:S,fullWidth:h,hiddenLabel:m,size:x,onBlur:()=>{_(!1)},onEmpty:()=>{w(!1)},onFilled:()=>{w(!0)},onFocus:()=>{_(!0)},registerEffect:P,required:C,variant:I}),[k,o,c,u,N,S,h,m,P,C,x,I]);return l.jsx(Kx.Provider,{value:j,children:l.jsx(eU,$({as:a,ownerState:g,className:$e(b.root,s),ref:n},T,{children:i}))})});function tU(t){return ht("MuiFormHelperText",t)}const kS=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var RS;const nU=["children","className","component","disabled","error","filled","focused","margin","required","variant"],rU=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:c}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${pe(r)}`,n&&"contained",a&&"focused",o&&"filled",c&&"required"]};return gt(u,tU,e)},iU=Me("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${pe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${kS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),sU=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Oe(r,nU),c=xl(),u=vl({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=rU(f);return l.jsx(iU,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:i===" "?RS||(RS=l.jsx("span",{className:"notranslate",children:""})):i}))});function oU(t){return ht("MuiFormLabel",t)}const xc=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),aU=["children","className","color","component","disabled","error","filled","focused","required"],lU=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,c={root:["root",`color${pe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return gt(c,oU,e)},cU=Me("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${xc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${xc.error}`]:{color:(t.vars||t).palette.error.main}})),uU=Me("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xc.error}`]:{color:(t.vars||t).palette.error.main}})),dU=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Oe(r,aU),c=xl(),u=vl({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=lU(f);return l.jsxs(cU,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:[i,u.required&&l.jsxs(uU,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),PS=v.createContext();function fU(t){return ht("MuiGrid",t)}const hU=[0,1,2,3,4,5,6,7,8,9,10],pU=["column-reverse","column","row-reverse","row"],mU=["nowrap","wrap-reverse","wrap"],zl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],tu=st("MuiGrid",["root","container","item","zeroMinWidth",...hU.map(t=>`spacing-xs-${t}`),...pU.map(t=>`direction-xs-${t}`),...mU.map(t=>`wrap-xs-${t}`),...zl.map(t=>`grid-xs-${t}`),...zl.map(t=>`grid-sm-${t}`),...zl.map(t=>`grid-md-${t}`),...zl.map(t=>`grid-lg-${t}`),...zl.map(t=>`grid-xl-${t}`)]),gU=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ja(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function yU({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=kp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const c=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${c} + ${ja(f)})`;u={flexBasis:h,maxWidth:h}}}s=$({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function vU({theme:t,ownerState:e}){const n=kp({values:e.direction,breakpoints:t.breakpoints.values});return Br({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${tu.item}`]={maxWidth:"none"}),i})}function xR({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function xU({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=kp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=xR({breakpoints:t.breakpoints.values,values:s})),i=Br({theme:t},s,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${ja(f)}`,[`& > .${tu.item}`]:{paddingTop:ja(f)}}:(u=o)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${tu.item}`]:{paddingTop:0}}})}return i}function bU({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=kp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=xR({breakpoints:t.breakpoints.values,values:s})),i=Br({theme:t},s,(a,c)=>{var u;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${ja(f)})`,marginLeft:`-${ja(f)}`,[`& > .${tu.item}`]:{paddingLeft:ja(f)}}:(u=o)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${tu.item}`]:{paddingLeft:0}}})}return i}function _U(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const wU=Me("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:c,breakpoints:u}=n;let f=[];r&&(f=_U(o,u,e));const h=[];return u.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,s&&e.item,c&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),vU,xU,bU,yU);function SU(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const EU=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:c}=t;let u=[];n&&(u=SU(s,c));const f=[];c.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return gt(h,fU,e)},jt=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiGrid"}),{breakpoints:i}=Wx(),s=Lp(r),{className:o,columns:a,columnSpacing:c,component:u="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:C=0,wrap:x="wrap",zeroMinWidth:I=!1}=s,T=Oe(s,gU),g=E||C,b=c||C,k=v.useContext(PS),M=f?a||12:k,N={},w=$({},T);i.keys.forEach(S=>{T[S]!=null&&(N[S]=T[S],delete w[S])});const p=$({},s,{columns:M,container:f,direction:h,item:m,rowSpacing:g,columnSpacing:b,wrap:x,zeroMinWidth:I,spacing:C},N,{breakpoints:i.keys}),_=EU(p);return l.jsx(PS.Provider,{value:M,children:l.jsx(wU,$({ownerState:p,className:$e(_.root,o),as:u,ref:n},w))})}),CU=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function fv(t){return`scale(${t}, ${t**2})`}const TU={entering:{opacity:1,transform:fv(1)},entered:{opacity:1,transform:"none"}},dg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bR=v.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:c,onEntered:u,onEntering:f,onExit:h,onExited:m,onExiting:E,style:C,timeout:x="auto",TransitionComponent:I=Ri}=e,T=Oe(e,CU),g=Hk(),b=v.useRef(),k=Wx(),M=v.useRef(null),N=En(M,Lu(s),n),w=F=>B=>{if(F){const U=M.current;B===void 0?F(U):F(U,B)}},p=w(f),_=w((F,B)=>{fR(F);const{duration:U,delay:D,easing:z}=ih({style:C,timeout:x,easing:o},{mode:"enter"});let K;x==="auto"?(K=k.transitions.getAutoHeightDuration(F.clientHeight),b.current=K):K=U,F.style.transition=[k.transitions.create("opacity",{duration:K,delay:D}),k.transitions.create("transform",{duration:dg?K:K*.666,delay:D,easing:z})].join(","),c&&c(F,B)}),S=w(u),P=w(E),j=w(F=>{const{duration:B,delay:U,easing:D}=ih({style:C,timeout:x,easing:o},{mode:"exit"});let z;x==="auto"?(z=k.transitions.getAutoHeightDuration(F.clientHeight),b.current=z):z=B,F.style.transition=[k.transitions.create("opacity",{duration:z,delay:U}),k.transitions.create("transform",{duration:dg?z:z*.666,delay:dg?U:U||z*.333,easing:D})].join(","),F.style.opacity=0,F.style.transform=fv(.75),h&&h(F)}),A=w(m),V=F=>{x==="auto"&&g.start(b.current||0,F),r&&r(M.current,F)};return l.jsx(I,$({appear:i,in:a,nodeRef:M,onEnter:_,onEntered:S,onEntering:p,onExit:j,onExited:A,onExiting:P,addEndListener:V,timeout:x==="auto"?null:x},T,{children:(F,B)=>v.cloneElement(s,$({style:$({opacity:0,transform:fv(.75),visibility:F==="exited"&&!a?"hidden":void 0},TU[F],C,s.props.style),ref:N},B))}))});bR.muiSupportAuto=!0;const IU=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],kU=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},TV,e);return $({},e,i)},RU=Me(Zp,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fl.disabled}, .${Fl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Fl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),PU=Me(em,{name:"MuiInput",slot:"Input",overridesResolver:Jp})({}),Yx=v.forwardRef(function(e,n){var r,i,s,o;const a=pt({props:e,name:"MuiInput"}),{disableUnderline:c,components:u={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:C,slots:x={},type:I="text"}=a,T=Oe(a,IU),g=kU(a),k={root:{ownerState:{disableUnderline:c}}},M=C??f?vr(C??f,k):k,N=(r=(i=x.root)!=null?i:u.Root)!=null?r:RU,w=(s=(o=x.input)!=null?o:u.Input)!=null?s:PU;return l.jsx(Gx,$({slots:{root:N,input:w},slotProps:M,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:I},T,{classes:g}))});Yx.muiName="Input";function AU(t){return ht("MuiInputLabel",t)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jU=["disableAnimation","margin","shrink","variant","className"],OU=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${pe(r)}`,o],asterisk:[a&&"asterisk"]},u=gt(c,AU,e);return $({},e,u)},NU=Me(dU,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),MU=v.forwardRef(function(e,n){const r=pt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Oe(r,jU),c=xl();let u=s;typeof u>"u"&&c&&(u=c.filled||c.focused||c.adornedStart);const f=vl({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:c,shrink:u,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=OU(h);return l.jsx(NU,$({"data-shrink":u,ownerState:h,ref:n,className:$e(m.root,o)},a,{classes:m}))}),hv=v.createContext({});function LU(t){return ht("MuiList",t)}st("MuiList",["root","padding","dense","subheader"]);const DU=["children","className","component","dense","disablePadding","subheader"],$U=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return gt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},LU,e)},FU=Me("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),zU=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:c=!1,subheader:u}=r,f=Oe(r,DU),h=v.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:o,dense:a,disablePadding:c}),E=$U(m);return l.jsx(hv.Provider,{value:h,children:l.jsxs(FU,$({as:o,className:$e(E.root,s),ref:n,ownerState:m},f,{children:[u,i]}))})}),AS=st("MuiListItemIcon",["root","alignItemsFlexStart"]),jS=st("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),VU=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function OS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function _R(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Vl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!_R(a,s)||c)a=i(t,a,n);else return a.focus(),!0}return!1}const BU=v.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Oe(e,VU),E=v.useRef(null),C=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ei(()=>{i&&E.current.focus()},[i]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:k})=>{const M=!E.current.style.width;if(b.clientHeight<E.current.clientHeight&&M){const N=`${Kk(cr(b))}px`;E.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const x=b=>{const k=E.current,M=b.key,N=cr(k).activeElement;if(M==="ArrowDown")b.preventDefault(),Vl(k,N,u,c,fg);else if(M==="ArrowUp")b.preventDefault(),Vl(k,N,u,c,OS);else if(M==="Home")b.preventDefault(),Vl(k,null,u,c,fg);else if(M==="End")b.preventDefault(),Vl(k,null,u,c,OS);else if(M.length===1){const w=C.current,p=M.toLowerCase(),_=performance.now();w.keys.length>0&&(_-w.lastTime>500?(w.keys=[],w.repeating=!0,w.previousKeyMatched=!0):w.repeating&&p!==w.keys[0]&&(w.repeating=!1)),w.lastTime=_,w.keys.push(p);const S=N&&!w.repeating&&_R(N,w);w.previousKeyMatched&&(S||Vl(k,N,!1,c,fg,w))?b.preventDefault():w.previousKeyMatched=!1}f&&f(b)},I=En(E,n);let T=-1;v.Children.forEach(o,(b,k)=>{if(!v.isValidElement(b)){T===k&&(T+=1,T>=o.length&&(T=-1));return}b.props.disabled||(h==="selectedMenu"&&b.props.selected||T===-1)&&(T=k),T===k&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const g=v.Children.map(o,(b,k)=>{if(k===T){const M={};return s&&(M.autoFocus=!0),b.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),v.cloneElement(b,M)}return b});return l.jsx(zU,$({role:"menu",ref:I,className:a,onKeyDown:x,tabIndex:i?0:-1},m,{children:g}))});function UU(t){return ht("MuiPopover",t)}st("MuiPopover",["root","paper"]);const WU=["onEntering"],HU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],qU=["slotProps"];function NS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function MS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function LS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function hg(t){return typeof t=="function"?t():t}const KU=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"]},UU,e)},GU=Me(VB,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wR=Me(Uo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),QU=v.forwardRef(function(e,n){var r,i,s;const o=pt({props:e,name:"MuiPopover"}),{action:a,anchorEl:c,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:C,elevation:x=8,marginThreshold:I=16,open:T,PaperProps:g={},slots:b,slotProps:k,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=bR,transitionDuration:w="auto",TransitionProps:{onEntering:p}={},disableScrollLock:_=!1}=o,S=Oe(o.TransitionProps,WU),P=Oe(o,HU),j=(r=k==null?void 0:k.paper)!=null?r:g,A=v.useRef(),V=En(A,j.ref),F=$({},o,{anchorOrigin:u,anchorReference:h,elevation:x,marginThreshold:I,externalPaperSlotProps:j,transformOrigin:M,TransitionComponent:N,transitionDuration:w,TransitionProps:S}),B=KU(F),U=v.useCallback(()=>{if(h==="anchorPosition")return f;const ge=hg(c),we=(ge&&ge.nodeType===1?ge:cr(A.current).body).getBoundingClientRect();return{top:we.top+NS(we,u.vertical),left:we.left+MS(we,u.horizontal)}},[c,u.horizontal,u.vertical,f,h]),D=v.useCallback(ge=>({vertical:NS(ge,M.vertical),horizontal:MS(ge,M.horizontal)}),[M.horizontal,M.vertical]),z=v.useCallback(ge=>{const xe={width:ge.offsetWidth,height:ge.offsetHeight},we=D(xe);if(h==="none")return{top:null,left:null,transformOrigin:LS(we)};const Ee=U();let et=Ee.top-we.vertical,Te=Ee.left-we.horizontal;const X=et+xe.height,ae=Te+xe.width,Re=Hs(hg(c)),Pe=Re.innerHeight-I,Ne=Re.innerWidth-I;if(I!==null&&et<I){const ve=et-I;et-=ve,we.vertical+=ve}else if(I!==null&&X>Pe){const ve=X-Pe;et-=ve,we.vertical+=ve}if(I!==null&&Te<I){const ve=Te-I;Te-=ve,we.horizontal+=ve}else if(ae>Ne){const ve=ae-Ne;Te-=ve,we.horizontal+=ve}return{top:`${Math.round(et)}px`,left:`${Math.round(Te)}px`,transformOrigin:LS(we)}},[c,h,U,D,I]),[K,H]=v.useState(T),q=v.useCallback(()=>{const ge=A.current;if(!ge)return;const xe=z(ge);xe.top!==null&&(ge.style.top=xe.top),xe.left!==null&&(ge.style.left=xe.left),ge.style.transformOrigin=xe.transformOrigin,H(!0)},[z]);v.useEffect(()=>(_&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[c,_,q]);const Q=(ge,xe)=>{p&&p(ge,xe),q()},ee=()=>{H(!1)};v.useEffect(()=>{T&&q()}),v.useImperativeHandle(a,()=>T?{updatePosition:()=>{q()}}:null,[T,q]),v.useEffect(()=>{if(!T)return;const ge=$x(()=>{q()}),xe=Hs(c);return xe.addEventListener("resize",ge),()=>{ge.clear(),xe.removeEventListener("resize",ge)}},[c,T,q]);let de=w;w==="auto"&&!N.muiSupportAuto&&(de=void 0);const me=C||(c?cr(hg(c)).body:void 0),G=(i=b==null?void 0:b.root)!=null?i:GU,re=(s=b==null?void 0:b.paper)!=null?s:wR,W=Ja({elementType:re,externalSlotProps:$({},j,{style:K?j.style:$({},j.style,{opacity:0})}),additionalProps:{elevation:x,ref:V},ownerState:F,className:$e(B.paper,j==null?void 0:j.className)}),ce=Ja({elementType:G,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:me,open:T},ownerState:F,className:$e(B.root,E)}),{slotProps:ne}=ce,ie=Oe(ce,qU);return l.jsx(G,$({},ie,!eh(G)&&{slotProps:ne,disableScrollLock:_},{children:l.jsx(N,$({appear:!0,in:T,onEntering:Q,onExited:ee,timeout:de},S,{children:l.jsx(re,$({},W,{children:m}))}))}))});function YU(t){return ht("MuiMenu",t)}st("MuiMenu",["root","paper","list"]);const XU=["onEntering"],JU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ZU={vertical:"top",horizontal:"right"},eW={vertical:"top",horizontal:"left"},tW=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"],list:["list"]},YU,e)},nW=Me(QU,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rW=Me(wR,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),iW=Me(BU,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),sW=v.forwardRef(function(e,n){var r,i;const s=pt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:c,disableAutoFocusItem:u=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:C,transitionDuration:x="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:g={},slotProps:b={}}=s,k=Oe(s.TransitionProps,XU),M=Oe(s,JU),N=FF(),w=$({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:f,onEntering:I,PaperProps:E,transitionDuration:x,TransitionProps:k,variant:T}),p=tW(w),_=o&&!u&&m,S=v.useRef(null),P=(D,z)=>{S.current&&S.current.adjustStyleForScrollbar(D,{direction:N?"rtl":"ltr"}),I&&I(D,z)},j=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let A=-1;v.Children.map(a,(D,z)=>{v.isValidElement(D)&&(D.props.disabled||(T==="selectedMenu"&&D.props.selected||A===-1)&&(A=z))});const V=(r=g.paper)!=null?r:rW,F=(i=b.paper)!=null?i:E,B=Ja({elementType:g.root,externalSlotProps:b.root,ownerState:w,className:[p.root,c]}),U=Ja({elementType:V,externalSlotProps:F,ownerState:w,className:p.paper});return l.jsx(nW,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?ZU:eW,slots:{paper:V,root:g.root},slotProps:{root:B,paper:U},open:m,ref:n,transitionDuration:x,TransitionProps:$({onEntering:P},k),ownerState:w},M,{classes:C,children:l.jsx(iW,$({onKeyDown:j,actions:S,autoFocus:o&&(A===-1||u),autoFocusItem:_,variant:T},f,{className:$e(p.list,f.className),children:a}))}))});function oW(t){return ht("MuiMenuItem",t)}const Bl=st("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),aW=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],lW=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},cW=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,c=gt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},oW,o);return $({},o,c)},uW=Me(eu,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:lW})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ut(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ut(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ut(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ut(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Bl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${IS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${IS.inset}`]:{marginLeft:52},[`& .${jS.root}`]:{marginTop:0,marginBottom:0},[`& .${jS.inset}`]:{paddingLeft:36},[`& .${AS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${AS.root} svg`]:{fontSize:"1.25rem"}}))),DS=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:f="menuitem",tabIndex:h,className:m}=r,E=Oe(r,aW),C=v.useContext(hv),x=v.useMemo(()=>({dense:o||C.dense||!1,disableGutters:c}),[C.dense,o,c]),I=v.useRef(null);Ei(()=>{i&&I.current&&I.current.focus()},[i]);const T=$({},r,{dense:x.dense,divider:a,disableGutters:c}),g=cW(r),b=En(I,n);let k;return r.disabled||(k=h!==void 0?h:-1),l.jsx(hv.Provider,{value:x,children:l.jsx(uW,$({ref:b,role:f,tabIndex:k,component:s,focusVisibleClassName:$e(g.focusVisible,u),className:$e(g.root,m)},E,{ownerState:T,classes:g}))})});function dW(t){return ht("MuiNativeSelect",t)}const Xx=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),fW=["className","disabled","error","IconComponent","inputRef","variant"],hW=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${pe(n)}`,s&&"iconOpen",r&&"disabled"]};return gt(a,dW,e)},SR=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Xx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),pW=Me("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Kr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Xx.multiple}`]:e.multiple}]}})(SR),ER=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Xx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),mW=Me("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(ER),gW=v.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:c="standard"}=e,u=Oe(e,fW),f=$({},e,{disabled:i,variant:c,error:s}),h=hW(f);return l.jsxs(v.Fragment,{children:[l.jsx(pW,$({ownerState:f,className:$e(h.select,r),disabled:i,ref:a||n},u)),e.multiple?null:l.jsx(mW,{as:o,ownerState:f,className:h.icon})]})});var $S;const yW=["children","classes","className","label","notched"],vW=Me("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Kr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),xW=Me("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Kr})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function bW(t){const{className:e,label:n,notched:r}=t,i=Oe(t,yW),s=n!=null&&n!=="",o=$({},t,{notched:r,withLabel:s});return l.jsx(vW,$({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(xW,{ownerState:o,children:s?l.jsx("span",{children:n}):$S||($S=l.jsx("span",{className:"notranslate",children:""}))})}))}const _W=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],wW=t=>{const{classes:e}=t,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IV,e);return $({},e,r)},SW=Me(Zp,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Xp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${gs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${gs.focused} .${gs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${gs.error} .${gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${gs.disabled} .${gs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),EW=Me(bW,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),CW=Me(em,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jp})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Jx=v.forwardRef(function(e,n){var r,i,s,o,a;const c=pt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:C,slots:x={},type:I="text"}=c,T=Oe(c,_W),g=wW(c),b=xl(),k=vl({props:c,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=$({},c,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:b,fullWidth:f,hiddenLabel:k.hiddenLabel,multiline:E,size:k.size,type:I}),N=(r=(i=x.root)!=null?i:u.Root)!=null?r:SW,w=(s=(o=x.input)!=null?o:u.Input)!=null?s:CW;return l.jsx(Gx,$({slots:{root:N,input:w},renderSuffix:p=>l.jsx(EW,{ownerState:M,className:g.notchedOutline,label:m!=null&&m!==""&&k.required?a||(a=l.jsxs(v.Fragment,{children:[m,"","*"]})):m,notched:typeof C<"u"?C:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:I},T,{classes:$({},g,{notchedOutline:null})}))});Jx.muiName="Input";function TW(t){return ht("MuiSelect",t)}const Ul=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var FS;const IW=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],kW=Me("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ul.select}`]:e.select},{[`&.${Ul.select}`]:e[n.variant]},{[`&.${Ul.error}`]:e.error},{[`&.${Ul.multiple}`]:e.multiple}]}})(SR,{[`&.${Ul.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),RW=Me("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(ER),PW=Me("input",{shouldForwardProp:t=>uR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function zS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function AW(t){return t==null||typeof t=="string"&&!t.trim()}const jW=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${pe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(a,TW,e)},OW=v.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:c,className:u,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:C=!1,IconComponent:x,inputRef:I,labelId:T,MenuProps:g={},multiple:b,name:k,onBlur:M,onChange:N,onClose:w,onFocus:p,onOpen:_,open:S,readOnly:P,renderValue:j,SelectDisplayProps:A={},tabIndex:V,value:F,variant:B="standard"}=e,U=Oe(e,IW),[D,z]=tv({controlled:F,default:h,name:"Select"}),[K,H]=tv({controlled:S,default:f,name:"Select"}),q=v.useRef(null),Q=v.useRef(null),[ee,de]=v.useState(null),{current:me}=v.useRef(S!=null),[G,re]=v.useState(),W=En(n,I),ce=v.useCallback(Ae=>{Q.current=Ae,Ae&&de(Ae)},[]),ne=ee==null?void 0:ee.parentNode;v.useImperativeHandle(W,()=>({focus:()=>{Q.current.focus()},node:q.current,value:D}),[D]),v.useEffect(()=>{f&&K&&ee&&!me&&(re(a?null:ne.clientWidth),Q.current.focus())},[ee,a]),v.useEffect(()=>{o&&Q.current.focus()},[o]),v.useEffect(()=>{if(!T)return;const Ae=cr(Q.current).getElementById(T);if(Ae){const ot=()=>{getSelection().isCollapsed&&Q.current.focus()};return Ae.addEventListener("click",ot),()=>{Ae.removeEventListener("click",ot)}}},[T]);const ie=(Ae,ot)=>{Ae?_&&_(ot):w&&w(ot),me||(re(a?null:ne.clientWidth),H(Ae))},ge=Ae=>{Ae.button===0&&(Ae.preventDefault(),Q.current.focus(),ie(!0,Ae))},xe=Ae=>{ie(!1,Ae)},we=v.Children.toArray(c),Ee=Ae=>{const ot=we.find(Xe=>Xe.props.value===Ae.target.value);ot!==void 0&&(z(ot.props.value),N&&N(Ae,ot))},et=Ae=>ot=>{let Xe;if(ot.currentTarget.hasAttribute("tabindex")){if(b){Xe=Array.isArray(D)?D.slice():[];const Ir=D.indexOf(Ae.props.value);Ir===-1?Xe.push(Ae.props.value):Xe.splice(Ir,1)}else Xe=Ae.props.value;if(Ae.props.onClick&&Ae.props.onClick(ot),D!==Xe&&(z(Xe),N)){const Ir=ot.nativeEvent||ot,cs=new Ir.constructor(Ir.type,Ir);Object.defineProperty(cs,"target",{writable:!0,value:{value:Xe,name:k}}),N(cs,Ae)}b||ie(!1,ot)}},Te=Ae=>{P||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ae.key)!==-1&&(Ae.preventDefault(),ie(!0,Ae))},X=ee!==null&&K,ae=Ae=>{!X&&M&&(Object.defineProperty(Ae,"target",{writable:!0,value:{value:D,name:k}}),M(Ae))};delete U["aria-invalid"];let Re,Pe;const Ne=[];let ve=!1;(sh({value:D})||E)&&(j?Re=j(D):ve=!0);const ct=we.map(Ae=>{if(!v.isValidElement(Ae))return null;let ot;if(b){if(!Array.isArray(D))throw new Error(Oo(2));ot=D.some(Xe=>zS(Xe,Ae.props.value)),ot&&ve&&Ne.push(Ae.props.children)}else ot=zS(D,Ae.props.value),ot&&ve&&(Pe=Ae.props.children);return v.cloneElement(Ae,{"aria-selected":ot?"true":"false",onClick:et(Ae),onKeyUp:Xe=>{Xe.key===" "&&Xe.preventDefault(),Ae.props.onKeyUp&&Ae.props.onKeyUp(Xe)},role:"option",selected:ot,value:void 0,"data-value":Ae.props.value})});ve&&(b?Ne.length===0?Re=null:Re=Ne.reduce((Ae,ot,Xe)=>(Ae.push(ot),Xe<Ne.length-1&&Ae.push(", "),Ae),[]):Re=Pe);let Ce=G;!a&&me&&ee&&(Ce=ne.clientWidth);let be;typeof V<"u"?be=V:be=m?null:0;const Fe=A.id||(k?`mui-component-select-${k}`:void 0),Ie=$({},e,{variant:B,value:D,open:X,error:C}),St=jW(Ie),At=$({},g.PaperProps,(r=g.slotProps)==null?void 0:r.paper),tt=Kp();return l.jsxs(v.Fragment,{children:[l.jsx(kW,$({ref:ce,tabIndex:be,role:"combobox","aria-controls":tt,"aria-disabled":m?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[T,Fe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Te,onMouseDown:m||P?null:ge,onBlur:ae,onFocus:p},A,{ownerState:Ie,className:$e(A.className,St.select,u),id:Fe,children:AW(Re)?FS||(FS=l.jsx("span",{className:"notranslate",children:""})):Re})),l.jsx(PW,$({"aria-invalid":C,value:Array.isArray(D)?D.join(","):D,name:k,ref:q,"aria-hidden":!0,onChange:Ee,tabIndex:-1,disabled:m,className:St.nativeInput,autoFocus:o,ownerState:Ie},U)),l.jsx(RW,{as:x,className:St.icon,ownerState:Ie}),l.jsx(sW,$({id:`menu-${k||""}`,anchorEl:ne,open:X,onClose:xe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:$({"aria-labelledby":T,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:tt},g.MenuListProps),slotProps:$({},g.slotProps,{paper:$({},At,{style:$({minWidth:Ce},At!=null?At.style:null)})}),children:ct}))]})}),NW=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],MW=["root"],LW=t=>{const{classes:e}=t;return e},Zx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Kr(t)&&t!=="variant",slot:"Root"},DW=Me(Yx,Zx)(""),$W=Me(Jx,Zx)(""),FW=Me(Qx,Zx)(""),eb=v.forwardRef(function(e,n){const r=pt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:f=RV,id:h,input:m,inputProps:E,label:C,labelId:x,MenuProps:I,multiple:T=!1,native:g=!1,onClose:b,onOpen:k,open:M,renderValue:N,SelectDisplayProps:w,variant:p="outlined"}=r,_=Oe(r,NW),S=g?gW:OW,P=xl(),j=vl({props:r,muiFormControl:P,states:["variant","error"]}),A=j.variant||p,V=$({},r,{variant:A,classes:o}),F=LW(V),B=Oe(F,MW),U=m||{standard:l.jsx(DW,{ownerState:V}),outlined:l.jsx($W,{label:C,ownerState:V}),filled:l.jsx(FW,{ownerState:V})}[A],D=En(n,Lu(U));return l.jsx(v.Fragment,{children:v.cloneElement(U,$({inputComponent:S,inputProps:$({children:s,error:j.error,IconComponent:f,variant:A,type:void 0,multiple:T},g?{id:h}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:x,MenuProps:I,onClose:b,onOpen:k,open:M,renderValue:N,SelectDisplayProps:$({id:h},w)},E,{classes:E?vr(B,E.classes):B},m?m.props.inputProps:{})},(T&&g||u)&&A==="outlined"?{notched:!0}:{},{ref:D,className:$e(U.props.className,a,F.root)},!m&&{variant:A},_))})});eb.muiName="Select";function zW(t){return ht("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const VW=["className","component","disableGutters","variant"],BW=t=>{const{classes:e,disableGutters:n,variant:r}=t;return gt({root:["root",!n&&"gutters",r]},zW,e)},UW=Me("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>$({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),WW=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,c=Oe(r,VW),u=$({},r,{component:s,disableGutters:o,variant:a}),f=BW(u);return l.jsx(UW,$({as:s,className:$e(f.root,i),ref:n,ownerState:u},c))});function HW(t){return ht("MuiTextField",t)}st("MuiTextField",["root"]);const qW=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],KW={standard:Yx,filled:Qx,outlined:Jx},GW=t=>{const{classes:e}=t;return gt({root:["root"]},HW,e)},QW=Me(vR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vn=v.forwardRef(function(e,n){const r=pt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:c="primary",defaultValue:u,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:C,id:x,InputLabelProps:I,inputProps:T,InputProps:g,inputRef:b,label:k,maxRows:M,minRows:N,multiline:w=!1,name:p,onBlur:_,onChange:S,onFocus:P,placeholder:j,required:A=!1,rows:V,select:F=!1,SelectProps:B,type:U,value:D,variant:z="outlined"}=r,K=Oe(r,qW),H=$({},r,{autoFocus:s,color:c,disabled:f,error:h,fullWidth:E,multiline:w,required:A,select:F,variant:z}),q=GW(H),Q={};z==="outlined"&&(I&&typeof I.shrink<"u"&&(Q.notched=I.shrink),Q.label=k),F&&((!B||!B.native)&&(Q.id=void 0),Q["aria-describedby"]=void 0);const ee=Kp(x),de=C&&ee?`${ee}-helper-text`:void 0,me=k&&ee?`${ee}-label`:void 0,G=KW[z],re=l.jsx(G,$({"aria-describedby":de,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:E,multiline:w,name:p,rows:V,maxRows:M,minRows:N,type:U,value:D,id:ee,inputRef:b,onBlur:_,onChange:S,onFocus:P,placeholder:j,inputProps:T},Q,g));return l.jsxs(QW,$({className:$e(q.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:A,color:c,variant:z,ownerState:H},K,{children:[k!=null&&k!==""&&l.jsx(MU,$({htmlFor:ee,id:me},I,{children:k})),F?l.jsx(eb,$({"aria-describedby":de,id:ee,labelId:me,value:D,input:re},B,{children:o})):re,C&&l.jsx(sU,$({id:de},m,{children:C}))]}))});function YW(){return v.useEffect(()=>{if(!document.getElementById("about-shine-style")){const t=document.createElement("style");t.id="about-shine-style",t.innerHTML=`
        .about-shine-effect {
          position: relative;
          overflow: hidden;
        }
        .about-shine-effect::after {
          content: '';
          position: absolute;
          top: 0;
          left: -80px;
          width: 54px;
          height: 100%;
          background: linear-gradient(120deg, transparent 55%, rgba(255,255,255,0.32) 75%, rgba(255,255,255,0.18) 90%, transparent 100%);
          pointer-events: none;
          animation: about-shine-sweep 2.8s cubic-bezier(.4,1.6,.6,1) infinite;
          opacity: 0.95;
          filter: blur(0.5px);
        }
        @keyframes about-shine-sweep {
          0% { left: -80px; opacity: 0.18; }
          10% { opacity: 0.32; }
          40% { left: 100%; opacity: 0.18; }
          100% { left: 100%; opacity: 0; }
        }
      `,document.head.appendChild(t)}},[]),l.jsx(gR,{maxWidth:"md",sx:{py:6},children:l.jsxs(Uo,{elevation:3,className:"about-shine-effect",sx:{p:{xs:2,sm:4},borderRadius:4,background:"#f8fafc",position:"relative",overflow:"hidden"},children:[l.jsx(Ve,{variant:"h4",fontWeight:700,align:"center",sx:{color:"#D5007D"},children:"About PharmaStackX: The Fulfillment Engine"}),l.jsx(Ve,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Mission: Closing Africa's Access Gap."}),l.jsx(Ve,{paragraph:!0,children:"PharmaStackX is building the essential digital infrastructure required for modern healthcare in Africa. Our mission is to end the devastating public health problem caused by inventory invisibility. When a patient needs life-saving medication, they should never be turned away. We achieve this by transforming every local community pharmacy into a node of a real-time fulfillment network."}),l.jsx(Ve,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"The Problem We Solve"}),l.jsx(Ve,{paragraph:!0,children:"The challenge is not a lack of medicine; it is a lack of information. Patients, doctors, and hospitals suffer devastating delays when they cannot confirm stock levels before making a purchase. This stock-out gap is a logistical crisis that leads to wasted time, lost revenue for pharmacists, and poor patient outcomes."}),l.jsx(Ve,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Solution: The Intelligent Fulfillment Stack"}),l.jsx(Ve,{paragraph:!0,children:"PharmaStackX is not just a directory; we are a technology stack that guarantees reliability through data and automation."}),l.jsxs(Ve,{paragraph:!0,children:[l.jsx("b",{children:"For the Patient:"})," We provide guaranteed, real-time access to essential and scarce medicines with urgent fulfillment powered by unique model."]}),l.jsxs(Ve,{paragraph:!0,children:[l.jsx("b",{children:"For the Pharmacist:"})," We automate growth and eliminate the burden of manual work. We provide a free, branded online store and leverage technology to guarantee immediate stock accuracy. This unlocks a consistent pipeline of high-value, exclusive customer orders, giving the pharmacy the competitive edge and reliability needed for long-term growth."]}),l.jsxs(Ve,{paragraph:!0,children:[l.jsx("b",{children:"For the Sector:"})," We generate the first reliable, Demand and Scarcity Data for the Nigerian pharmaceutical market, providing the insight necessary for manufacturers and policymakers to stabilize the supply chain."]}),l.jsx(Ve,{variant:"h6",fontWeight:600,sx:{mt:3,mb:1},children:"Our Vision"}),l.jsx(Ve,{paragraph:!0,children:"We are committed to building the most reliable and data-rich platform for medicine fulfillment, turning every pharmacy in Africa into a digitally empowered, reliable access point. We are building the future of African health, one fulfilled prescription at a time."})]})})}var CR={},TR={},tm={},IR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(IR);var XW="Expected a function",VS=NaN,JW="[object Symbol]",ZW=/^\s+|\s+$/g,e7=/^[-+]0x[0-9a-f]+$/i,t7=/^0b[01]+$/i,n7=/^0o[0-7]+$/i,r7=parseInt,i7=typeof Wl=="object"&&Wl&&Wl.Object===Object&&Wl,s7=typeof self=="object"&&self&&self.Object===Object&&self,o7=i7||s7||Function("return this")(),a7=Object.prototype,l7=a7.toString,c7=Math.max,u7=Math.min,pg=function(){return o7.Date.now()};function d7(t,e,n){var r,i,s,o,a,c,u=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(XW);e=BS(e)||0,pv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?c7(BS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(N){var w=r,p=i;return r=i=void 0,u=N,o=t.apply(p,w),o}function C(N){return u=N,a=setTimeout(T,e),f?E(N):o}function x(N){var w=N-c,p=N-u,_=e-w;return h?u7(_,s-p):_}function I(N){var w=N-c,p=N-u;return c===void 0||w>=e||w<0||h&&p>=s}function T(){var N=pg();if(I(N))return g(N);a=setTimeout(T,x(N))}function g(N){return a=void 0,m&&r?E(N):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function k(){return a===void 0?o:g(pg())}function M(){var N=pg(),w=I(N);if(r=arguments,i=this,c=N,w){if(a===void 0)return C(c);if(h)return a=setTimeout(T,e),E(c)}return a===void 0&&(a=setTimeout(T,e)),o}return M.cancel=b,M.flush=k,M}function pv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function f7(t){return!!t&&typeof t=="object"}function h7(t){return typeof t=="symbol"||f7(t)&&l7.call(t)==JW}function BS(t){if(typeof t=="number")return t;if(h7(t))return VS;if(pv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ZW,"");var n=t7.test(t);return n||n7.test(t)?r7(t.slice(2),n?2:8):e7.test(t)?VS:+t}var p7=d7,kR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(kR);var nm=kR.exports,ye={},tb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(v);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(tb);Object.defineProperty(ye,"__esModule",{value:!0});ye.checkSpecKeys=ye.checkNavigable=ye.changeSlide=ye.canUseDOM=ye.canGoNext=void 0;ye.clamp=PR;ye.extractObject=void 0;ye.filterSettings=R7;ye.validSettings=ye.swipeStart=ye.swipeMove=ye.swipeEnd=ye.slidesOnRight=ye.slidesOnLeft=ye.slideHandler=ye.siblingDirection=ye.safePreventDefault=ye.lazyStartIndex=ye.lazySlidesOnRight=ye.lazySlidesOnLeft=ye.lazyEndIndex=ye.keyHandler=ye.initializedState=ye.getWidth=ye.getTrackLeft=ye.getTrackCSS=ye.getTrackAnimateCSS=ye.getTotalSlides=ye.getSwipeDirection=ye.getSlideCount=ye.getRequiredLazySlides=ye.getPreClones=ye.getPostClones=ye.getOnDemandLazySlides=ye.getNavigableIndexes=ye.getHeight=void 0;var m7=RR(v),g7=RR(tb);function RR(t){return t&&t.__esModule?t:{default:t}}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){y7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y7(t,e,n){return(e=v7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v7(t){var e=x7(t,"string");return nu(e)=="symbol"?e:e+""}function x7(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PR(t,e,n){return Math.max(e,Math.min(t,n))}var Oa=ye.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},AR=ye.getOnDemandLazySlides=function(e){for(var n=[],r=jR(e),i=OR(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};ye.getRequiredLazySlides=function(e){for(var n=[],r=jR(e),i=OR(e),s=r;s<i;s++)n.push(s);return n};var jR=ye.lazyStartIndex=function(e){return e.currentSlide-b7(e)},OR=ye.lazyEndIndex=function(e){return e.currentSlide+_7(e)},b7=ye.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},_7=ye.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},mv=ye.getWidth=function(e){return e&&e.offsetWidth||0},NR=ye.getHeight=function(e){return e&&e.offsetHeight||0},MR=ye.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},LR=ye.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};ye.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};ye.initializedState=function(e){var n=m7.default.Children.count(e.children),r=e.listRef,i=Math.ceil(mv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(mv(s)),a;if(e.vertical)a=i;else{var c=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(c*=i/100),a=Math.ceil((i-c)/e.slidesToShow)}var u=r&&NR(r.querySelector('[data-index="0"]')),f=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=AR(Ft(Ft({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var C={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:u,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(C.autoplaying="playing"),C};ye.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,c=e.lazyLoad,u=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,C=e.lazyLoadedList;if(n&&r)return{};var x=o,I,T,g,b={},k={},M=s?o:PR(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?x=o+a:o>=a&&(x=o-a),c&&C.indexOf(x)<0&&(C=C.concat(x)),b={animating:!0,currentSlide:x,lazyLoadedList:C,targetSlide:x},k={animating:!1,targetSlide:x}}else I=x,x<0?(I=x+a,s?a%h!==0&&(I=a-a%h):I=0):!LR(e)&&x>u?x=I=u:f&&x>=a?(x=s?a:a-1,I=s?0:a-1):x>=a&&(I=x-a,s?a%h!==0&&(I=0):I=a-m),!s&&x+m>=a&&(I=a-m),T=ch(Ft(Ft({},e),{},{slideIndex:x})),g=ch(Ft(Ft({},e),{},{slideIndex:I})),s||(T===g&&(x=I),T=g),c&&(C=C.concat(AR(Ft(Ft({},e),{},{currentSlide:x})))),E?(b={animating:!0,currentSlide:I,trackStyle:DR(Ft(Ft({},e),{},{left:T})),lazyLoadedList:C,targetSlide:M},k={animating:!1,currentSlide:I,trackStyle:lh(Ft(Ft({},e),{},{left:g})),swipeLeft:null,targetSlide:M}):b={currentSlide:I,trackStyle:lh(Ft(Ft({},e),{},{left:g})),lazyLoadedList:C,targetSlide:M};return{state:b,nextState:k}};ye.changeSlide=function(e,n){var r,i,s,o,a,c=e.slidesToScroll,u=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,C=e.infinite;if(o=f%c!==0,r=o?0:(f-h)%c,n.message==="previous")s=r===0?c:u-r,a=h-s,E&&!C&&(i=h-s,a=i===-1?f-1:i),C||(a=m-c);else if(n.message==="next")s=r===0?c:r,a=h+s,E&&!C&&(a=(h+c)%f+r),C||(a=m+c);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,C){var x=C7(Ft(Ft({},e),{},{targetSlide:a}));a>n.currentSlide&&x==="left"?a=a-f:a<n.currentSlide&&x==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};ye.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};ye.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Oa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};ye.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,c=n.rtl,u=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,C=n.swiping,x=n.slideCount,I=n.slidesToScroll,T=n.infinite,g=n.touchObject,b=n.swipeEvent,k=n.listHeight,M=n.listWidth;if(!r){if(i)return Oa(e);s&&o&&a&&Oa(e);var N,w={},p=ch(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var _=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!C&&_>10)return{scrolling:!0};a&&(g.swipeLength=_);var S=(c?-1:1)*(g.curX>g.startX?1:-1);a&&(S=g.curY>g.startY?1:-1);var P=Math.ceil(x/I),j=MR(n.touchObject,a),A=g.swipeLength;return T||(u===0&&(j==="right"||j==="down")||u+1>=P&&(j==="left"||j==="up")||!LR(n)&&(j==="left"||j==="up"))&&(A=g.swipeLength*f,h===!1&&m&&(m(j),w.edgeDragged=!0)),!E&&b&&(b(j),w.swiped=!0),s?N=p+A*(k/M)*S:c?N=p-A*S:N=p+A*S,a&&(N=p+A*S),w=Ft(Ft({},w),{},{touchObject:g,swipeLeft:N,trackStyle:lh(Ft(Ft({},n),{},{left:N}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(w.swiping=!0,Oa(e)),w}};ye.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,c=n.verticalSwiping,u=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,C=n.currentSlide,x=n.infinite;if(!r)return i&&Oa(e),{};var I=c?u/a:o/a,T=MR(s,c),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return g;if(s.swipeLength>I){Oa(e),m&&m(T);var b,k,M=x?C:E;switch(T){case"left":case"up":k=M+HS(n),b=f?WS(n,k):k,g.currentDirection=0;break;case"right":case"down":k=M-HS(n),b=f?WS(n,k):k,g.currentDirection=1;break;default:b=M}g.triggerSlideHandler=b}else{var N=ch(n);g.trackStyle=DR(Ft(Ft({},n),{},{left:N}))}return g};var w7=ye.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},WS=ye.checkNavigable=function(e,n){var r=w7(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},HS=ye.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(c){if(e.vertical){if(c.offsetTop+NR(c)/2>e.swipeLeft*-1)return r=c,!1}else if(c.offsetLeft-n+mv(c)/2>e.swipeLeft*-1)return r=c,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},nb=ye.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},lh=ye.getTrackCSS=function(e){nb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=E7(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ft(Ft({},s),{},{WebkitTransform:o,transform:a,msTransform:c})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},DR=ye.getTrackAnimateCSS=function(e){nb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=lh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},ch=ye.getTrackLeft=function(e){if(e.unslick)return 0;nb(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,C=e.vertical,x=0,I,T,g=0;if(E||e.slideCount===1)return 0;var b=0;if(i?(b=-sf(e),o%c!==0&&n+c>o&&(b=-(n>o?a-(n-o):o%c)),s&&(b+=parseInt(a/2))):(o%c!==0&&n+c>o&&(b=a-o%c),s&&(b=parseInt(a/2))),x=b*u,g=b*m,C?I=n*m*-1+g:I=n*u*-1+x,h===!0){var k,M=r&&r.node;if(k=n+sf(e),T=M&&M.childNodes[k],I=T?T.offsetLeft*-1:0,s===!0){k=i?n+sf(e):n,T=M&&M.children[k],I=0;for(var N=0;N<k;N++)I-=M&&M.children[N]&&M.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=T&&(f-T.offsetWidth)/2}}return I},sf=ye.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},S7=ye.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},E7=ye.getTotalSlides=function(e){return e.slideCount===1?1:sf(e)+e.slideCount+S7(e)},C7=ye.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+T7(e)?"left":"right":e.targetSlide<e.currentSlide-I7(e)?"right":"left"},T7=ye.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},I7=ye.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};ye.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var k7=ye.validSettings=Object.keys(g7.default);function R7(t){return k7.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.Track=void 0;var xs=$R(v),mg=$R(nm),kd=ye;function $R(t){return t&&t.__esModule?t:{default:t}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function P7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zR(r.key),r)}}function j7(t,e,n){return e&&A7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yv(t,e)}function N7(t){var e=FR();return function(){var n,r=uh(t);if(e){var i=uh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M7(this,n)}}function M7(t,e){if(e&&(el(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vv(t)}function vv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){xv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xv(t,e,n){return(e=zR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zR(t){var e=L7(t,"string");return el(e)=="symbol"?e:e+""}function L7(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var c=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":c}},D7=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},yg=function(e,n){return e.key||n},$7=function(e){var n,r=[],i=[],s=[],o=xs.default.Children.count(e.children),a=(0,kd.lazyStartIndex)(e),c=(0,kd.lazyEndIndex)(e);return xs.default.Children.forEach(e.children,function(u,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=u:h=xs.default.createElement("div",null);var E=D7(nr(nr({},e),{},{index:f})),C=h.props.className||"",x=gg(nr(nr({},e),{},{index:f}));if(r.push(xs.default.cloneElement(h,{key:"original"+yg(h,f),"data-index":f,className:(0,mg.default)(x,C),tabIndex:"-1","aria-hidden":!x["slick-active"],style:nr(nr({outline:"none"},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,kd.getPreClones)(e)&&(n=-I,n>=a&&(h=u),x=gg(nr(nr({},e),{},{index:n})),i.push(xs.default.cloneElement(h,{key:"precloned"+yg(h,n),"data-index":n,tabIndex:"-1",className:(0,mg.default)(x,C),"aria-hidden":!x["slick-active"],style:nr(nr({},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,kd.getPostClones)(e)&&(n=o+f,n<c&&(h=u),x=gg(nr(nr({},e),{},{index:n})),s.push(xs.default.cloneElement(h,{key:"postcloned"+yg(h,n),"data-index":n,tabIndex:"-1",className:(0,mg.default)(x,C),"aria-hidden":!x["slick-active"],style:nr(nr({},h.props.style||{}),E),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};rm.Track=function(t){O7(n,t);var e=N7(n);function n(){var r;P7(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),xv(vv(r),"node",null),xv(vv(r),"handleRef",function(a){r.node=a}),r}return j7(n,[{key:"render",value:function(){var i=$7(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,c=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:c};return xs.default.createElement("div",gv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(xs.default.PureComponent);var im={};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}Object.defineProperty(im,"__esModule",{value:!0});im.Dots=void 0;var Rd=VR(v),F7=VR(nm),KS=ye;function VR(t){return t&&t.__esModule?t:{default:t}}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){V7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V7(t,e,n){return(e=BR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function W7(t,e,n){return e&&U7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BR(t){var e=H7(t,"string");return tl(e)=="symbol"?e:e+""}function H7(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bv(t,e)}function K7(t){var e=UR();return function(){var n,r=dh(t);if(e){var i=dh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G7(this,n)}}function G7(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7(t)}function Q7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}var Y7=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};im.Dots=function(t){q7(n,t);var e=K7(n);function n(){return B7(this,n),e.apply(this,arguments)}return W7(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,c=i.infinite,u=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=Y7({slideCount:h,slidesToScroll:u,slidesToShow:f,infinite:c}),C={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},x=[],I=0;I<E;I++){var T=(I+1)*u-1,g=c?T:(0,KS.clamp)(T,0,h-1),b=g-(u-1),k=c?b:(0,KS.clamp)(b,0,h-1),M=(0,F7.default)({"slick-active":c?m>=k&&m<=g:m===k}),N={message:"dots",index:I,slidesToScroll:u,currentSlide:m},w=this.clickHandler.bind(this,N);x=x.concat(Rd.default.createElement("li",{key:I,className:M},Rd.default.cloneElement(this.props.customPaging(I),{onClick:w})))}return Rd.default.cloneElement(this.props.appendDots(x),z7({className:this.props.dotsClass},C))}}]),n}(Rd.default.PureComponent);var nl={};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}Object.defineProperty(nl,"__esModule",{value:!0});nl.PrevArrow=nl.NextArrow=void 0;var Na=HR(v),WR=HR(nm),X7=ye;function HR(t){return t&&t.__esModule?t:{default:t}}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(null,arguments)}function QS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(n),!0).forEach(function(r){J7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J7(t,e,n){return(e=GR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GR(r.key),r)}}function KR(t,e,n){return e&&Z7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GR(t){var e=eH(t,"string");return rl(e)=="symbol"?e:e+""}function eH(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}function _v(t,e){return _v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_v(t,e)}function YR(t){var e=XR();return function(){var n,r=ph(t);if(e){var i=ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tH(this,n)}}function tH(t,e){if(e&&(rl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nH(t)}function nH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}nl.PrevArrow=function(t){QR(n,t);var e=YR(n);function n(){return qR(this,n),e.apply(this,arguments)}return KR(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,WR.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=Na.default.cloneElement(this.props.prevArrow,hh(hh({},o),a)):c=Na.default.createElement("button",fh({key:"0",type:"button"},o)," ","Previous"),c}}]),n}(Na.default.PureComponent);nl.NextArrow=function(t){QR(n,t);var e=YR(n);function n(){return qR(this,n),e.apply(this,arguments)}return KR(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,X7.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,WR.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=Na.default.cloneElement(this.props.nextArrow,hh(hh({},o),a)):c=Na.default.createElement("button",fh({key:"1",type:"button"},o)," ","Next"),c}}]),n}(Na.default.PureComponent);var JR=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),wv=typeof window<"u"&&typeof document<"u"&&window.document===document,mh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),rH=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(mh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),iH=2;function sH(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){rH(s)}function a(){var c=Date.now();if(n){if(c-i<iH)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=c}return a}var oH=20,aH=["top","right","bottom","left","width","height","size","weight"],lH=typeof MutationObserver<"u",cH=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=sH(this.refresh.bind(this),oH)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!wv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),lH?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!wv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=aH.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),ZR=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},il=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||mh},eP=sm(0,0,0,0);function gh(t){return parseFloat(t)||0}function YS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+gh(s)},0)}function uH(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=gh(o)}return n}function dH(t){var e=t.getBBox();return sm(0,0,e.width,e.height)}function fH(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return eP;var r=il(t).getComputedStyle(t),i=uH(r),s=i.left+i.right,o=i.top+i.bottom,a=gh(r.width),c=gh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=YS(r,"left","right")+s),Math.round(c+o)!==n&&(c-=YS(r,"top","bottom")+o)),!pH(t)){var u=Math.round(a+s)-e,f=Math.round(c+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(c-=f)}return sm(i.left,i.top,a,c)}var hH=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof il(t).SVGGraphicsElement}:function(t){return t instanceof il(t).SVGElement&&typeof t.getBBox=="function"}}();function pH(t){return t===il(t).document.documentElement}function mH(t){return wv?hH(t)?dH(t):fH(t):eP}function gH(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return ZR(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function sm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var yH=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=mH(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),vH=function(){function t(e,n){var r=gH(n);ZR(this,{target:e,contentRect:r})}return t}(),xH=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new JR,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new yH(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new vH(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),tP=typeof WeakMap<"u"?new WeakMap:new JR,nP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=cH.getInstance(),r=new xH(e,n,this);tP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){nP.prototype[t]=function(){var e;return(e=tP.get(this))[t].apply(e,arguments)}});var bH=function(){return typeof mh.ResizeObserver<"u"?mh.ResizeObserver:nP}();const _H=Object.freeze(Object.defineProperty({__proto__:null,default:bH},Symbol.toStringTag,{value:"Module"})),wH=Ci(_H);Object.defineProperty(tm,"__esModule",{value:!0});tm.InnerSlider=void 0;var Qn=Fu(v),SH=Fu(IR),EH=Fu(p7),CH=Fu(nm),Bt=ye,TH=rm,IH=im,XS=nl,kH=Fu(wH);function Fu(t){return t&&t.__esModule?t:{default:t}}function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(null,arguments)}function RH(t,e){if(t==null)return{};var n,r,i=PH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(n),!0).forEach(function(r){rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iP(r.key),r)}}function OH(t,e,n){return e&&jH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sv(t,e)}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sv(t,e)}function MH(t){var e=rP();return function(){var n,r=vh(t);if(e){var i=vh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LH(this,n)}}function LH(t,e){if(e&&(No(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}function rt(t,e,n){return(e=iP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iP(t){var e=DH(t,"string");return No(e)=="symbol"?e:e+""}function DH(t,e){if(No(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(No(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}tm.InnerSlider=function(t){NH(n,t);var e=MH(n);function n(r){var i;AH(this,n),i=e.call(this,r),rt(nt(i),"listRefHandler",function(o){return i.list=o}),rt(nt(i),"trackRefHandler",function(o){return i.track=o}),rt(nt(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Bt.getHeight)(o)+"px"}}),rt(nt(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Bt.getOnDemandLazySlides)(Ke(Ke({},i.props),i.state));o.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Ke({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new kH.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,c.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),rt(nt(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),rt(nt(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Bt.getOnDemandLazySlides)(Ke(Ke({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var c=Ke(Ke({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(c,u,function(){i.state.currentSlide>=Qn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Qn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),rt(nt(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,EH.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),rt(nt(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var c=Ke(Ke({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(c,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),rt(nt(i),"updateState",function(o,a,c){var u=(0,Bt.initializedState)(o);o=Ke(Ke(Ke({},o),u),{},{slideIndex:u.currentSlide});var f=(0,Bt.getTrackLeft)(o);o=Ke(Ke({},o),{},{left:f});var h=(0,Bt.getTrackCSS)(o);(a||Qn.default.Children.count(i.props.children)!==Qn.default.Children.count(o.children))&&(u.trackStyle=h),i.setState(u,c)}),rt(nt(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,c=[],u=(0,Bt.getPreClones)(Ke(Ke(Ke({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Bt.getPostClones)(Ke(Ke(Ke({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(w){c.push(w.props.style.width),o+=w.props.style.width});for(var h=0;h<u;h++)a+=c[c.length-1-h],o+=c[c.length-1-h];for(var m=0;m<f;m++)o+=c[m];for(var E=0;E<i.state.currentSlide;E++)a+=c[E];var C={width:o+"px",left:-a+"px"};if(i.props.centerMode){var x="".concat(c[i.state.currentSlide],"px");C.left="calc(".concat(C.left," + (100% - ").concat(x,") / 2 ) ")}return{trackStyle:C}}var I=Qn.default.Children.count(i.props.children),T=Ke(Ke(Ke({},i.props),i.state),{},{slideCount:I}),g=(0,Bt.getPreClones)(T)+(0,Bt.getPostClones)(T)+I,b=100/i.props.slidesToShow*g,k=100/g,M=-k*((0,Bt.getPreClones)(T)+i.state.currentSlide)*b/100;i.props.centerMode&&(M+=(100-k*b/100)/2);var N={width:b+"%",left:M+"%"};return{slideWidth:k+"%",trackStyle:N}}),rt(nt(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,c=0;Array.prototype.forEach.call(o,function(u){var f=function(){return++c&&c>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(m){h(m),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=f,u.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),rt(nt(i),"progressiveLazyLoad",function(){for(var o=[],a=Ke(Ke({},i.props),i.state),c=i.state.currentSlide;c<i.state.slideCount+(0,Bt.getPostClones)(a);c++)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}for(var u=i.state.currentSlide-1;u>=-(0,Bt.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),rt(nt(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i.props,u=c.asNavFor,f=c.beforeChange,h=c.onLazyLoad,m=c.speed,E=c.afterChange,C=i.state.currentSlide,x=(0,Bt.slideHandler)(Ke(Ke(Ke({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=x.state,T=x.nextState;if(I){f&&f(C,I.currentSlide);var g=I.lazyLoadedList.filter(function(b){return i.state.lazyLoadedList.indexOf(b)<0});h&&g.length>0&&h(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(C),delete i.animationEndCallback),i.setState(I,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),T&&(i.animationEndCallback=setTimeout(function(){var b=T.animating,k=RH(T,["animating"]);i.setState(k,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:b})},10)),E&&E(I.currentSlide),delete i.animationEndCallback})},m))})}}),rt(nt(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=Ke(Ke({},i.props),i.state),u=(0,Bt.changeSlide)(c,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),rt(nt(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),rt(nt(i),"keyHandler",function(o){var a=(0,Bt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),rt(nt(i),"selectHandler",function(o){i.changeSlide(o)}),rt(nt(i),"disableBodyScroll",function(){var o=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=o}),rt(nt(i),"enableBodyScroll",function(){window.ontouchmove=null}),rt(nt(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Bt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),rt(nt(i),"swipeMove",function(o){var a=(0,Bt.swipeMove)(o,Ke(Ke(Ke({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),rt(nt(i),"swipeEnd",function(o){var a=(0,Bt.swipeEnd)(o,Ke(Ke(Ke({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var c=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),c!==void 0&&(i.slideHandler(c),i.props.verticalSwiping&&i.enableBodyScroll())}}),rt(nt(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),rt(nt(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),rt(nt(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),rt(nt(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),rt(nt(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Bt.canGoNext)(Ke(Ke({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),rt(nt(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),rt(nt(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),rt(nt(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),rt(nt(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),rt(nt(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),rt(nt(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),rt(nt(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),rt(nt(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),rt(nt(i),"render",function(){var o=(0,CH.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Ke(Ke({},i.props),i.state),c=(0,Bt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;c=Ke(Ke({},c),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Bt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=Ke(Ke({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=Qn.default.createElement(IH.Dots,h)}var E,C,x=(0,Bt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);x.clickHandler=i.changeSlide,i.props.arrows&&(E=Qn.default.createElement(XS.PrevArrow,x),C=Qn.default.createElement(XS.NextArrow,x));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var T=null;i.props.vertical===!1?i.props.centerMode===!0&&(T={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(T={padding:i.props.centerPadding+" 0px"});var g=Ke(Ke({},I),T),b=i.props.touchMove,k={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:b?i.swipeStart:null,onMouseMove:i.state.dragging&&b?i.swipeMove:null,onMouseUp:b?i.swipeEnd:null,onMouseLeave:i.state.dragging&&b?i.swipeEnd:null,onTouchStart:b?i.swipeStart:null,onTouchMove:i.state.dragging&&b?i.swipeMove:null,onTouchEnd:b?i.touchEnd:null,onTouchCancel:i.state.dragging&&b?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(k={className:"slick-list"},M={className:o,style:i.props.style}),Qn.default.createElement("div",M,i.props.unslick?"":E,Qn.default.createElement("div",yh({ref:i.listRefHandler},k),Qn.default.createElement(TH.Track,yh({ref:i.trackRefHandler},c),i.props.children)),i.props.unslick?"":C,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Ke(Ke({},SH.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Qn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Ke(Ke({},i.state),s),i}return OH(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var c=a[o];if(!i.hasOwnProperty(c)){s=!0;break}if(!(No(i[c])==="object"||typeof i[c]=="function"||isNaN(i[c]))&&i[c]!==this.props[c]){s=!0;break}}return s||Qn.default.Children.count(this.props.children)!==Qn.default.Children.count(i.children)}}]),n}(Qn.default.Component);var $H=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},FH=$H,zH=FH,VH=function(t){var e=/[height|width]$/;return e.test(t)},ZS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=zH(r),VH(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},BH=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=ZS(n),r<t.length-1&&(e+=", ")}),e):ZS(t)},UH=BH;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(v),n=tm,r=o(UH),i=o(tb),s=ye;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},a(p)}function c(){return c=Object.assign?Object.assign.bind():function(p){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var P in S)({}).hasOwnProperty.call(S,P)&&(p[P]=S[P])}return p},c.apply(null,arguments)}function u(p,_){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(p);_&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),S.push.apply(S,P)}return S}function f(p){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?u(Object(S),!0).forEach(function(P){M(p,P,S[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(P){Object.defineProperty(p,P,Object.getOwnPropertyDescriptor(S,P))})}return p}function h(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function m(p,_){for(var S=0;S<_.length;S++){var P=_[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(p,N(P.key),P)}}function E(p,_,S){return _&&m(p.prototype,_),Object.defineProperty(p,"prototype",{writable:!1}),p}function C(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),_&&x(p,_)}function x(p,_){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,P){return S.__proto__=P,S},x(p,_)}function I(p){var _=b();return function(){var S,P=k(p);if(_){var j=k(this).constructor;S=Reflect.construct(P,arguments,j)}else S=P.apply(this,arguments);return T(this,S)}}function T(p,_){if(_&&(a(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(p)}function g(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function b(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!p})()}function k(p){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},k(p)}function M(p,_,S){return(_=N(_))in p?Object.defineProperty(p,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[_]=S,p}function N(p){var _=w(p,"string");return a(_)=="symbol"?_:_+""}function w(p,_){if(a(p)!="object"||!p)return p;var S=p[Symbol.toPrimitive];if(S!==void 0){var P=S.call(p,_);if(a(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}t.default=function(p){C(S,p);var _=I(S);function S(P){var j;return h(this,S),j=_.call(this,P),M(g(j),"innerSliderRefHandler",function(A){return j.innerSlider=A}),M(g(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(g(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(g(j),"slickGoTo",function(A){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(A,V)}),M(g(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(g(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return E(S,[{key:"media",value:function(j,A){var V=window.matchMedia(j),F=function(U){var D=U.matches;D&&A()};V.addListener(F),this._responsiveMediaHandlers.push({mql:V,query:j,listener:F})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var A=this.props.responsive.map(function(F){return F.breakpoint});A.sort(function(F,B){return F-B}),A.forEach(function(F,B){var U;B===0?U=(0,r.default)({minWidth:0,maxWidth:F}):U=(0,r.default)({minWidth:A[B-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&j.media(U,function(){j.setState({breakpoint:F})})});var V=(0,r.default)({minWidth:A.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(V,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){j.mql.removeListener(j.listener)})}},{key:"render",value:function(){var j=this,A,V;this.state.breakpoint?(V=this.props.responsive.filter(function(ee){return ee.breakpoint===j.state.breakpoint}),A=V[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),V[0].settings)):A=f(f({},i.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(ee){return typeof ee=="string"?!!ee.trim():!!ee}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var B=[],U=null,D=0;D<F.length;D+=A.rows*A.slidesPerRow){for(var z=[],K=D;K<D+A.rows*A.slidesPerRow;K+=A.slidesPerRow){for(var H=[],q=K;q<K+A.slidesPerRow&&(A.variableWidth&&F[q].props.style&&(U=F[q].props.style.width),!(q>=F.length));q+=1)H.push(e.default.cloneElement(F[q],{key:100*D+10*K+q,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));z.push(e.default.createElement("div",{key:10*D+K},H))}A.variableWidth?B.push(e.default.createElement("div",{key:D,style:{width:U}},z)):B.push(e.default.createElement("div",{key:D},z))}if(A==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},F)}else B.length<=A.slidesToShow&&(A.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(A)),B)}}]),S}(e.default.Component)})(TR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(TR);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(CR);const WH=xh(CR);function HH({onClick:t}){const[e,n]=v.useState(!1),r=i=>{n(!0),setTimeout(()=>n(!1),220),t&&t(i)};return l.jsx(Bn,{variant:"contained",color:"primary",onClick:r,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #25D366 0%, #128C7E 100%)",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",transform:e?"scale(0.96) rotate(2deg)":void 0,boxShadow:e?"0 2px 8px 0 rgba(18,140,126,0.18)":void 0,"&:hover":{transform:"scale(1.13) rotate(-6deg)",boxShadow:"0 8px 32px 0 rgba(37,211,102,0.25)"},"&:active":{transform:"scale(0.96) rotate(2deg)",boxShadow:"0 2px 8px 0 rgba(18,140,126,0.18)"}},"aria-label":"WhatsApp Chat",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),l.jsx("path",{d:"M25.472 21.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]})})}function qH({drugClasses:t,previewProducts:e,navigate:n}){const[r,i]=v.useState(0),s=4,o=t.length,a=t.slice(r,r+s).concat(r+s>o?t.slice(0,(r+s)%o):[]),c=()=>{i(f=>(f-s+o)%o)},u=()=>{i(f=>(f+s)%o)};return l.jsxs(Ge,{sx:{position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",minWidth:0,maxWidth:"100vw"},children:[l.jsx(Bn,{onClick:c,sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Ge,{sx:{display:"flex",gap:2,flex:"1 1 auto",justifyContent:"center",flexWrap:"nowrap",overflowX:"auto",minWidth:0,maxWidth:"100vw",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:a.map(f=>{const h=e.find(m=>m.class&&m.class.trim()===f);return l.jsxs(oh,{sx:{width:120,height:120,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)",background:"linear-gradient(135deg, #e0f2f1 60%, #009688 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)",background:"linear-gradient(135deg, #b2dfdb 60%, #00796b 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>n(`/shop?category=${encodeURIComponent(f)}`),children:[h&&l.jsx(Ge,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:h.image||"/default-medicine.png",alt:h.name||f,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(ah,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(Ve,{variant:"h6",fontWeight:900,sx:{color:"#004d40",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"0.85rem",lineHeight:1.1},children:f})})]},f)})}),l.jsx(Bn,{onClick:u,sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Bn,{onClick:u,sx:{minWidth:0,px:1,fontSize:22,color:"#009688",flex:"0 0 auto",zIndex:3},children:">"})]})}function KH(){var z,K,H,q,Q,ee,de,me,G,re,W,ce,ne,ie,ge,xe,we,Ee,et,Te;const[t,e]=v.useState(!1),[n,r]=v.useState(""),[i,s]=v.useState([]),o=[{name:"Emzor Paracetamol",image:"https://i.ibb.co/yFNm7BHd/08-Paracetamol-96-World-Cup-Pack-View-01-removebg-preview.png"},{name:"Amatem Forte Softgel",image:"https://i.ibb.co/JjhnTsQt/amatem-f1-removebg-preview.png"},{name:"Mycoten-Plus Vaginal Cream",image:"https://i.ibb.co/j9VpM02J/MYCOTEN-PLUS-768x485-removebg-preview.png"},{name:"Pregnacare Range",image:"https://i.ibb.co/S47hgbN9/pregnacare-4b303546-25f3-4174-92a5-c459017d193c-400x-removebg-preview.png"}];v.useEffect(()=>{async function X(){let Re=(await Ht(ze(te,"verifyMedics"))).docs.map(Ne=>({id:Ne.id,...Ne.data()}));(await Ht(ze(te,"users"))).docs.forEach(Ne=>{const ve=Ne.data();ve.role==="medicine-manager"&&ve.pharmacist&&Re.push({...ve.pharmacist,id:Ne.id,online:!0})}),s(Re)}X()},[]);const a=600;v.useEffect(()=>{if(typeof document<"u"){document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)";const X=document.getElementById("mission-shine-style");X&&X.remove();const ae=document.createElement("style");ae.id="mission-shine-style",ae.innerHTML=`
        .top-shine-effect-global {
          position: absolute;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
          filter: blur(6px) brightness(1.01);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.012;
          z-index: 1000;
        }
        .top-shine-effect {
          position: absolute;
          top: 0; left: 0;
          width: 220%;
          height: 100%;
          pointer-events: none;
          background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
          filter: blur(3.5px) brightness(1.05);
          animation: shine-move-top 3.5s linear infinite;
          opacity: 0.13;
          z-index: 1000;
        }
        @keyframes shine-move-top {
          0% { transform: translateX(-60%); opacity: 0; }
          10% { opacity: 0.7; }
          50% { opacity: 0.95; }
          100% { transform: translateX(60%); opacity: 0; }
        }
        .mission-shine-text {
          position: relative;
          text-align: right;
          color: #fff;
          font-size: 2.1rem;
          font-weight: 700;
          font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
          overflow: visible;
          line-height: 1.2;
        }
        @media (max-width: 900px) {
          .mission-shine-text {
            font-size: 2.1rem !important;
            max-width: 540px !important;
            line-height: 1.2 !important;
            text-align: right !important;
            margin: 0 !important;
            display: inline !important;
            padding: 0 2vw !important;
            white-space: normal !important;
            overflow: visible !important;
            text-overflow: unset !important;
          }
          @media (max-width: 900px) {
            .mission-shine-text {
              font-size: 1.1rem !important;
              max-width: 100vw !important;
              line-height: 1.25 !important;
              padding: 0 0.5vw 0 0 !important;
              margin: 0 !important;
              text-align: right !important;
              display: block !important;
            }
            .top-shine-effect-container {
              min-height: 180px;
            }
            .top-shine-effect-container > .MuiBox-root {
              margin-left: 2vw !important;
            }
            .top-shine-effect-container > .MuiBox-root:last-child {
              margin-left: 2vw !important;
            }
          }
          .top-shine-effect-container {
            min-height: 180px;
          }
        }
      `,document.head.appendChild(ae)}},[]);const[c,u]=v.useState([]),[f,h]=v.useState(0),[m,E]=v.useState(!0);v.useEffect(()=>{if(!o.length)return;const X=setInterval(()=>{E(!1),setTimeout(()=>{h(ae=>(ae+1)%o.length),E(!0)},100)},2500);return()=>clearInterval(X)},[o.length]);const[C,x]=v.useState([]),[I,T]=v.useState([]),[g,b]=v.useState(null),[k,M]=v.useState(""),[N,w]=v.useState(""),[p,_]=v.useState(""),S=Cr(),P=I.filter(X=>!p||X.name&&X.name.toLowerCase().includes(p.toLowerCase())).sort((X,ae)=>g&&X.minutesAway!=null&&ae.minutesAway!=null?X.minutesAway-ae.minutesAway:0);function j(X,ae){return X>6&&X<7&&ae>3&&ae<4?"Lagos":X>8&&X<10&&ae>7&&ae<8?"Abuja":X>4&&X<5.5&&ae>6&&ae<8?"Rivers":X>11&&X<13&&ae>8&&ae<9?"Kano":"Unknown"}function A(X,ae){if(X==null)return"Distance unknown";if(X==="loading")return"Calculating...";let Re="",Pe="";if(g&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const Ne=j(g.lat,g.lng),ve=j(ae.location.latitude,ae.location.longitude);Ne!=="Unknown"&&ve!=="Unknown"&&Ne!==ve&&(Re=ve)}if(X>60)Pe=X>120?`${X} min away`:"Over 1 hr away";else if(g&&ae&&ae.location&&typeof ae.location.latitude=="number"&&typeof ae.location.longitude=="number"){const Ne=j(g.lat,g.lng),ve=j(ae.location.latitude,ae.location.longitude);Ne!=="Unknown"&&ve!=="Unknown"&&Ne===ve&&X>30?Pe="30 min away":Pe=`${X} min away`}else Pe=`${X} min away`;return Re&&Pe?`${Re}  ${Pe}`:Pe}v.useEffect(()=>{const X=Rt(ze(te,"products"),ae=>{const Re=ae.docs.map(Pe=>({id:Pe.id,...Pe.data()}));u(Re)});return()=>X()},[]);function V(X,ae,Re,Pe){const Ne=Fe=>Fe*Math.PI/180,ct=Ne(Re-X),Ce=Ne(Pe-ae),be=Math.sin(ct/2)**2+Math.cos(Ne(X))*Math.cos(Ne(Re))*Math.sin(Ce/2)**2;return 6371*2*Math.atan2(Math.sqrt(be),Math.sqrt(1-be))}async function F(X,ae){const Re=window.GOOGLE_MAPS_API_KEY;if(!Re)return null;try{const Pe=`https://maps.googleapis.com/maps/api/directions/json?origin=${X.lat},${X.lng}&destination=${ae.lat},${ae.lng}&mode=driving&key=${Re}`,ve=await(await fetch(Pe)).json();if(ve.routes&&ve.routes[0]&&ve.routes[0].legs&&ve.routes[0].legs[0])return Math.round(ve.routes[0].legs[0].duration.value/60)}catch{}return null}function B(X){return!X||isNaN(X)||X===1/0?null:Math.round(X/40*60)}v.useEffect(()=>{let X=!1;const ae=Rt(ze(te,"users"),async Re=>{const Pe=[],Ne=new Set,ve=[];Re.docs.forEach(Ce=>{const be=Ce.data();if(be.businessSlug&&!Ne.has(be.businessSlug)){let Fe=null;g&&be.location&&typeof be.location.latitude=="number"&&typeof be.location.longitude=="number"&&(Fe=V(g.lat,g.lng,be.location.latitude,be.location.longitude),ve.push((async()=>{let Ie=await F(g,{lat:be.location.latitude,lng:be.location.longitude});return Ie||(Ie=B(Fe)),{slug:be.businessSlug,minutesAway:Ie}})())),Pe.push({name:be.businessName||be.businessSlug,img:be.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",minutesAway:null,slug:be.businessSlug}),Ne.add(be.businessSlug)}});const ct=await Promise.all(ve);for(const Ce of ct){const be=Pe.findIndex(Fe=>Fe.slug===Ce.slug);be!==-1&&(Pe[be].minutesAway=Ce.minutesAway)}Pe.sort((Ce,be)=>Ce.minutesAway==null?1:be.minutesAway==null?-1:Ce.minutesAway-be.minutesAway),X||(console.log("Fetched pharmacy stores:",Pe),T(Pe))});return()=>{X=!0,ae()}},[g]);const U={infinite:!0,speed:1e3,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]};v.useEffect(()=>{const X=Rt(ze(te,"products"),ae=>{const Re=new Set;ae.docs.forEach(Pe=>{const Ne=Pe.data().class;Ne&&typeof Ne=="string"&&Ne.trim()&&Re.add(Ne.trim())}),x(Array.from(Re).sort())});return()=>X()},[]),v.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(X=>{const ae={lat:X.coords.latitude,lng:X.coords.longitude};b(ae),localStorage.setItem("customerLocation",JSON.stringify(ae))},X=>{M("Location access denied. Please enable location services.")})},[]);const D=X=>{X.preventDefault(),N.trim()?S(`/shop?search=${encodeURIComponent(N.trim())}`):S("/shop")};return l.jsx(gR,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Uo,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden",minHeight:0,height:"auto",display:"block"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(Ge,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Ge,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),o.length>0&&l.jsx(pR,{in:m,timeout:a,children:l.jsx("img",{src:((z=o[f])==null?void 0:z.image)||"/default-medicine.png",alt:((K=o[f])==null?void 0:K.name)||"Medicine",style:{width:((H=o[f])==null?void 0:H.name)==="Visita Plus Cream"||((q=o[f])==null?void 0:q.name)==="Amatem Forte Softgel"||((Q=o[f])==null?void 0:Q.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",height:((ee=o[f])==null?void 0:ee.name)==="Visita Plus Cream"||((de=o[f])==null?void 0:de.name)==="Amatem Forte Softgel"||((me=o[f])==null?void 0:me.name)==="Mycoten-Plus Vaginal Cream"?"min(38vw, 300px)":"min(28vw, 220px)",minWidth:((G=o[f])==null?void 0:G.name)==="Visita Plus Cream"||((re=o[f])==null?void 0:re.name)==="Amatem Forte Softgel"||((W=o[f])==null?void 0:W.name)==="Mycoten-Plus Vaginal Cream"?140:90,minHeight:((ce=o[f])==null?void 0:ce.name)==="Visita Plus Cream"||((ne=o[f])==null?void 0:ne.name)==="Amatem Forte Softgel"||((ie=o[f])==null?void 0:ie.name)==="Mycoten-Plus Vaginal Cream"?140:90,maxWidth:((ge=o[f])==null?void 0:ge.name)==="Visita Plus Cream"||((xe=o[f])==null?void 0:xe.name)==="Amatem Forte Softgel"||((we=o[f])==null?void 0:we.name)==="Mycoten-Plus Vaginal Cream"?300:220,maxHeight:((Ee=o[f])==null?void 0:Ee.name)==="Visita Plus Cream"||((et=o[f])==null?void 0:et.name)==="Amatem Forte Softgel"||((Te=o[f])==null?void 0:Te.name)==="Mycoten-Plus Vaginal Cream"?300:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},f),l.jsx(Ge,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(Ge,{component:"form",onSubmit:D,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(Vn,{variant:"outlined",placeholder:"Search drugs...",value:N,onChange:X=>w(X.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(Bn,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #FF4081 60%, #FF6F61 100%)","&:hover":{background:"linear-gradient(90deg, #FF6F61 60%, #FF4081 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(Ge,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:g?l.jsxs(Ve,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[g.lat.toFixed(4),", ",g.lng.toFixed(4)]}):l.jsx(Ve,{sx:{color:"#009688",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:500,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:k||"Detecting location..."})}),l.jsxs(Ge,{sx:{mt:3,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ve,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Featured Brands"}),l.jsx(Ve,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Access several brands and medicine alternatives"})]}),l.jsx(Ge,{sx:{mt:1,mb:2,background:"none",backgroundSize:"unset",borderRadius:0,minHeight:180,px:0,py:0,pt:1,position:"relative"},children:c.length===0?null:l.jsx(WH,{...U,children:c.map((X,ae)=>l.jsx(Ge,{sx:{px:1},children:l.jsxs(oh,{sx:{height:{xs:170,sm:190,md:210},width:{xs:135,sm:160,md:200},minWidth:0,maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",p:0,background:"#fff",boxShadow:"0 2px 12px 0 #00968822",borderRadius:4,position:"relative",mx:"auto",overflow:"hidden"},children:[l.jsx(ES,{component:"img",image:X.image||"/default-medicine.png",alt:X.name,sx:{width:{xs:60,sm:90,md:128},height:{xs:60,sm:90,md:128},objectFit:"contain",mt:{xs:1,sm:1,md:1},mb:1,mx:"auto"}}),l.jsxs(ah,{sx:{p:0,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[l.jsx(Ve,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center",color:"#222",fontSize:14,mb:.3,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:X.name||"Unnamed",children:X.name||"Unnamed"}),l.jsx(Bn,{variant:"contained",size:"small",sx:{borderRadius:2,fontSize:"0.82em",fontWeight:600,px:1.2,py:.3,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:60,minHeight:28,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:()=>S(`/shop?search=${encodeURIComponent(X.name)}`),children:l.jsx("span",{className:"button-content",children:"REQUEST"})})]})]})},X.id||ae))})}),l.jsxs(Ge,{sx:{mt:6,mb:.5,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ve,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Drug Classes"}),l.jsx(Ve,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Find Medicines by sorting drug classes"})]}),l.jsx(Ge,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2,position:"relative"},children:l.jsx(qH,{drugClasses:C,previewProducts:c,navigate:S})}),l.jsxs(Ge,{sx:{mt:6,mb:2,width:"100%",px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ve,{variant:"h6",sx:{fontWeight:700,color:"#222",textAlign:"left",mb:.2,fontSize:{xs:"1.02rem",sm:"1.13rem",md:"1.22rem"}},children:"Pharmacy outlets near you"}),l.jsx(Ve,{variant:"subtitle2",sx:{color:"#444",textAlign:"left",fontWeight:400,fontSize:{xs:"0.98rem",sm:"1.05rem"},mb:.5},children:"Search for drugs from pharmacy outlets closest to you, and discover the best options for your needs."}),l.jsx(Ge,{sx:{mb:2,width:"100%",display:"flex",justifyContent:"flex-start"},children:l.jsx(Vn,{variant:"outlined",placeholder:"Search for a pharmacy store...",value:p||"",onChange:X=>_(X.target.value),size:"small",sx:{width:{xs:180,sm:260,md:320},background:"#fff",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"},"& input":{padding:"8px 14px",fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},InputProps:{style:{borderRadius:99,height:36,fontSize:15,background:"#fff",boxShadow:"none"}}})}),l.jsx(Ge,{sx:{mb:2,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:P.length===0?l.jsx(Ge,{sx:{color:"#bbb",fontStyle:"italic",fontSize:18,textAlign:"center",py:4},children:"No providers found."}):l.jsxs(Ge,{sx:{position:"relative",width:"100%"},children:[l.jsx(Ge,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",gap:2,width:"100%",pb:1,scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},id:"pharmacy-scroll-box",children:P.map(X=>l.jsx(Ge,{sx:{px:1,minWidth:250,maxWidth:270,width:250,flex:"0 0 250px",scrollSnapAlign:"start"},children:l.jsxs(oh,{sx:{minWidth:250,maxWidth:270,width:250,mx:"auto",borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>S(`/store/${X.slug}`),children:[l.jsx(ES,{component:"img",height:"80",image:X.img,alt:X.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(ah,{sx:{textAlign:"center",pb:2},children:[l.jsx(Ve,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:X.name}),l.jsx(Ve,{variant:"body2",color:"text.secondary",children:A(X.minutesAway,X)}),l.jsx(Bn,{size:"small",variant:"contained",sx:{mt:1,borderRadius:2,fontSize:"0.92em",fontWeight:600,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",boxShadow:2,minWidth:0,minHeight:0,position:"relative",overflow:"hidden","&:before":{content:'""',display:"block",position:"absolute",left:0,top:"50%",width:"32px",height:"6px",background:"linear-gradient(90deg,#FF4081,#FF6F61)",borderRadius:"0 0 32px 32px",transform:"translateY(-50%)",zIndex:0},"& .button-content":{position:"relative",zIndex:1},"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},onClick:ae=>{ae.stopPropagation(),S(`/store/${X.slug}`)},children:l.jsx("span",{className:"button-content",children:"Visit"})})]})]})},X.slug))}),l.jsx(Bn,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const X=document.getElementById("pharmacy-scroll-box");X&&X.scrollBy({left:-260,behavior:"smooth"})},"aria-label":"Scroll left",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx(Bn,{sx:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",minWidth:0,width:32,height:32,zIndex:10,background:"#fff",boxShadow:2,borderRadius:"50%",display:{xs:"flex",sm:"flex"},alignItems:"center",justifyContent:"center",p:0},onClick:()=>{const X=document.getElementById("pharmacy-scroll-box");X&&X.scrollBy({left:260,behavior:"smooth"})},"aria-label":"Scroll right",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M8.5 5l7 7-7 7",stroke:"#009688",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),l.jsx(Ge,{sx:{width:"100%",display:"flex",justifyContent:"center",mt:1,mb:2},children:l.jsx(Bn,{component:zh,to:"/store",size:"small",variant:"contained",sx:{px:2.5,py:.7,fontWeight:600,fontSize:"0.98em",borderRadius:2,boxShadow:2,background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",minWidth:0,minHeight:0,"&:hover":{background:"linear-gradient(90deg,#FF6F61,#FF4081)"}},children:" Find a pharmacy store near you"})}),l.jsxs(Ge,{sx:{width:"100%",maxWidth:1100,mx:"auto",mt:6,mb:4,px:{xs:1.5,sm:2,md:3}},children:[l.jsx(Ve,{variant:"h5",fontWeight:700,sx:{mb:1,color:"#222",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#009688"},onClick:()=>S("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Med Interface"})}),l.jsx(Ve,{variant:"subtitle1",sx:{mb:3,color:"#555",textAlign:"left"},children:l.jsx("span",{style:{cursor:"pointer",color:"#555"},onClick:()=>S("/medinterface"),tabIndex:0,role:"button","aria-label":"Go to Med Interface",children:"Converse with verified health professionals, review prescriptions, and get consultations for your health needs."})}),l.jsx(Ge,{sx:{maxWidth:340,mb:2},children:l.jsx(Vn,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search by name, pharmacy, or profession",value:n,onChange:X=>r(X.target.value),sx:{background:"#fff",borderRadius:2},InputProps:{style:{fontSize:15}}})}),l.jsx(Ge,{sx:{width:"100%"},children:l.jsxs(Ge,{sx:{position:"relative",width:"100%"},children:[l.jsx(Bn,{onClick:()=>{const X=document.getElementById("medics-scroll-box");X&&X.scrollBy({left:-220,behavior:"smooth"})},sx:{position:"absolute",left:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll left",children:""}),l.jsx(Ge,{id:"medics-scroll-box",sx:{display:"flex",gap:2,overflowX:"auto",scrollBehavior:"smooth",py:1,px:.5},children:i.filter(X=>{var Re,Pe,Ne;const ae=n.toLowerCase();return((Re=X.name)==null?void 0:Re.toLowerCase().includes(ae))||""||((Pe=X.profession)==null?void 0:Pe.toLowerCase().includes(ae))||""||((Ne=X.pharmacyName)==null?void 0:Ne.toLowerCase().includes(ae))||""}).map(X=>l.jsxs(Ge,{sx:{width:180,flex:"0 0 auto",p:2,border:"1px solid #eee",borderRadius:2,background:"#fafbfc",boxShadow:1,display:"flex",flexDirection:"column",alignItems:"center",mb:2,cursor:"pointer",transition:"box-shadow 0.2s, border 0.2s","&:hover":{boxShadow:3,border:"1.5px solid #009688"}},onClick:()=>S("/medinterface"),children:[l.jsx($V,{src:X.photo,alt:X.name,sx:{width:56,height:56,mb:1}}),l.jsx(Ve,{variant:"subtitle1",fontWeight:600,sx:{textAlign:"center",fontSize:16},children:X.name}),l.jsx(Ve,{variant:"body2",sx:{color:"#555",textAlign:"center",fontSize:14,mb:.5},children:X.profession}),X.pharmacyName&&l.jsx(Ve,{variant:"caption",sx:{color:"#D5007D",textAlign:"center",fontWeight:500},children:X.pharmacyName})]},X.id))}),l.jsx(Bn,{onClick:()=>{const X=document.getElementById("medics-scroll-box");X&&X.scrollBy({left:220,behavior:"smooth"})},sx:{position:"absolute",right:-18,top:"40%",minWidth:0,minHeight:0,zIndex:2,background:"#fff",boxShadow:1,borderRadius:"50%",p:.5,display:i.length>4?"flex":"none"},"aria-label":"Scroll right",children:""})]})})]}),l.jsxs(Ge,{sx:{width:"100%",maxWidth:600,mx:"auto",my:6,p:{xs:2,sm:4},background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderRadius:3,boxShadow:2,textAlign:"center"},children:[l.jsx(Ve,{variant:"h6",fontWeight:700,sx:{mb:1,color:"#009688"},children:"Stay Updated!"}),l.jsx(Ve,{variant:"body1",sx:{mb:2,color:"#444"},children:"Subscribe to our newsletter for health tips, new features, and exclusive offers."}),l.jsxs(Ge,{component:"form",onSubmit:X=>{X.preventDefault(),alert("Thank you for subscribing!")},sx:{display:"flex",gap:1,justifyContent:"center",flexWrap:"wrap"},children:[l.jsx(Vn,{type:"email",required:!0,size:"small",placeholder:"Enter your email",sx:{background:"#fff",borderRadius:2,minWidth:220}}),l.jsx(Bn,{type:"submit",variant:"contained",sx:{background:"linear-gradient(90deg,#FF4081,#FF6F61)",color:"#fff",fontWeight:600,px:3,borderRadius:2,boxShadow:1},children:"Subscribe"})]})]}),l.jsx(Ge,{component:"footer",sx:{width:"100%",mt:6,py:4,background:"linear-gradient(90deg,#f8fafc 60%,#e3f2fd 100%)",borderTop:"1.5px solid #e0e0e0"},children:l.jsx(Ge,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:3},children:l.jsxs(Ge,{sx:{maxWidth:1100,mx:"auto",px:{xs:2,sm:4},width:"100%"},children:[l.jsxs(Ge,{sx:{textAlign:"center",mb:2},children:[l.jsx(Ve,{variant:"h6",fontWeight:700,sx:{color:"#1976d2",mb:.5},children:l.jsx("span",{style:{color:"#009688"},children:"Pharmastackx"})}),l.jsx(Ve,{variant:"body2",sx:{color:"#666",maxWidth:420,mx:"auto"},children:"Building Africa's essential digital infrastructure for real-time, reliable access to medicines and healthcare."})]}),l.jsxs(Ge,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",width:"100%",mb:2,gap:2,flexWrap:"wrap"},children:[l.jsxs(Ge,{sx:{minWidth:100,flex:1},children:[l.jsx(Ve,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"left",letterSpacing:.2,cursor:"pointer",transition:"color 0.2s",fontSize:{xs:"1.05rem",sm:"1.25rem"},"&:hover":{color:"#00796b",textDecoration:"underline"}},onClick:()=>S("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:"About Us"}),l.jsxs(Ve,{variant:"body2",sx:{color:"#666",maxWidth:260,mt:.5,cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center","&:hover":{color:"#009688",textDecoration:"underline"}},onClick:()=>S("/about"),tabIndex:0,role:"button","aria-label":"About Pharmastackx",children:["Read our about section, find our mission, vision and how we are impacting lives positively...",l.jsx("span",{style:{marginLeft:2,fontWeight:700,fontSize:"1.3em",color:"#009688",lineHeight:1},children:""})]})]}),l.jsxs(Ge,{id:"footer-contact-section",sx:{minWidth:220,flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,overflow:"hidden","&::after":t?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",background:"radial-gradient(circle at 50% 50%, rgba(37,211,102,0.13) 0%, rgba(25,118,210,0.09) 60%, transparent 100%)",animation:"footer-contact-wave 0.7s cubic-bezier(.4,1.6,.6,1) 1",zIndex:2}:{},"@keyframes footer-contact-wave":{"0%":{opacity:0,transform:"scale(0.7)"},"40%":{opacity:1,transform:"scale(1.05)"},"100%":{opacity:0,transform:"scale(1.25)"}}},children:[l.jsx(Ve,{variant:"subtitle1",sx:{fontWeight:700,color:"#009688",mb:.2,textAlign:"right",letterSpacing:.2,cursor:"default",fontSize:{xs:"1.05rem",sm:"1.25rem"}},children:"Contact"}),l.jsxs(Ge,{sx:{display:"flex",flexDirection:"column",gap:.5,alignItems:"flex-end"},children:[l.jsxs("a",{href:"mailto:pharmastackx@gmail.com",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M6 8l6 5 6-5",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"2",stroke:"#fff",strokeWidth:"1.5"})]}),"pharmastackx@gmail.com"]}),l.jsxs("a",{href:"tel:2349050006638",style:{color:"#009688",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#009688"}),l.jsx("path",{d:"M17.472 15.338c-.355-.177-2.104-1.037-2.43-1.156-.326-.119-.563-.177-.8.178-.237.355-.914 1.156-1.12 1.393-.207.237-.414.267-.77.089-.355-.178-1.5-.553-2.86-1.763-1.057-.944-1.77-2.108-1.98-2.463-.207-.355-.022-.546.155-.723.159-.158.355-.414.533-.622.178-.207.237-.355.355-.592.119-.237.06-.444-.03-.622-.089-.178-.8-1.93-1.096-2.646-.289-.695-.583-.601-.8-.612-.207-.009-.444-.011-.681-.011-.237 0-.622.089-.948.444-.326.355-1.24 1.211-1.24 2.951 0 1.74 1.267 3.422 1.444 3.659.178.237 2.5 3.82 6.06 5.207.847.292 1.507.466 2.022.596.849.203 1.624.174 2.236.106.682-.075 2.104-.859 2.402-1.691.296-.832.296-1.544.207-1.691-.089-.148-.326-.237-.681-.414z",fill:"#fff"})]}),"234 90 5000 6638"]}),l.jsxs("a",{href:"https://instagram.com/pharmastackx",target:"_blank",rel:"noopener noreferrer",style:{color:"#d6249f",textDecoration:"none",fontSize:"1rem",display:"flex",alignItems:"center",gap:6,fontFamily:"inherit",fontWeight:400},children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("rect",{width:"24",height:"24",rx:"12",fill:"#d6249f"}),l.jsx("path",{d:"M16.98 7.02A2.98 2.98 0 0 0 14 4H10A2.98 2.98 0 0 0 7.02 7.02V17A2.98 2.98 0 0 0 10 20h4a2.98 2.98 0 0 0 2.98-2.98V7.02zM12 8.5A3.5 3.5 0 1 1 8.5 12 3.5 3.5 0 0 1 12 8.5zm4.25-.75a.75.75 0 1 1-.75-.75.75.75 0 0 1 .75.75zM12 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2z",fill:"#fff"})]}),"@pharmastackx"]})]})]})]}),l.jsx(Ge,{sx:{width:"100%",mt:3},children:l.jsxs(Ve,{variant:"caption",sx:{color:"#888",display:"block",textAlign:"center"},children:[" ",new Date().getFullYear()," Pharmastackx. All rights reserved."]})})]})})})]})})}var rb={},vg={};const GH=Ci(az);var eE;function ib(){return eE||(eE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=GH}(vg)),vg}var QH=Du;Object.defineProperty(rb,"__esModule",{value:!0});var sP=rb.default=void 0,YH=QH(ib()),XH=l,JH=(0,YH.default)((0,XH.jsx)("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"}),"LocalPharmacy");sP=rb.default=JH;function ZH(){return l.jsxs(Ge,{sx:{width:"100%",minHeight:{xs:120,sm:160},background:"linear-gradient(90deg, #009688 60%, #43e97b 100%)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"flex-start",px:{xs:2,sm:6},py:{xs:2,sm:4},boxShadow:3,mb:3,mt:1,gap:2},children:[l.jsx(sP,{sx:{fontSize:{xs:40,sm:56},color:"#fff",mr:2}}),l.jsxs(Ge,{children:[l.jsx(Ve,{variant:"h4",sx:{color:"#fff",fontWeight:800,letterSpacing:1,mb:.5,fontSize:{xs:22,sm:32}},children:"Find & Order Medicines"}),l.jsx(Ve,{variant:"subtitle1",sx:{color:"#e0f2f1",fontWeight:400,fontSize:{xs:15,sm:18}},children:"Search, compare, and get your medicines delivered fast from trusted retailers."})]})]})}function eq({categories:t,selected:e,onSelect:n}){return l.jsxs(Ge,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2,mt:1},children:[l.jsx(_S,{label:"All",clickable:!0,onClick:()=>n(null),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e?void 0:"linear-gradient(90deg,#b1005a,#a1004a)",color:e?void 0:"#fff",boxShadow:e?void 0:"0 2px 8px #b1005a33","&:hover":{background:e?void 0:"linear-gradient(90deg,#a1004a,#b1005a)"}}}),t.map(r=>l.jsx(_S,{label:r,clickable:!0,onClick:()=>n(r),sx:{fontWeight:600,fontSize:13,borderRadius:2,background:e===r?"linear-gradient(90deg,#b1005a,#a1004a)":void 0,color:e===r?"#fff":void 0,boxShadow:e===r?"0 2px 8px #b1005a33":void 0,"&:hover":{background:e===r?"linear-gradient(90deg,#a1004a,#b1005a)":void 0}}},r))]})}const tq=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Fn(){return typeof window<"u"&&window.innerWidth<=600}function nq(){Ys();const[t,e]=v.useState(!1),{slug:n}=du(),[r,i]=v.useState(null),[s,o]=v.useState([]),[a,c]=v.useState([]),[u,f]=v.useState(""),[h,m]=v.useState(null),[E,C]=v.useState(null),[x,I]=v.useState(""),[T,g]=v.useState(!0),[b,k]=v.useState(typeof window<"u"?window.innerWidth:1200),[M,N]=v.useState(null),w=Wr(),p=(P,j,A,V)=>{const F=H=>H*Math.PI/180,U=F(A-P),D=F(V-j),z=Math.sin(U/2)**2+Math.cos(F(P))*Math.cos(F(A))*Math.sin(D/2)**2;return 6371*(2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)))},_=P=>{const V=P*1.64,F=Math.max(1,Math.round(V/25*60));return{drivingKm:V,minutes:F}};v.useEffect(()=>{if(!navigator.geolocation){C("denied");return}navigator.geolocation.getCurrentPosition(P=>{const j={lat:P.coords.latitude,lng:P.coords.longitude};C(j);const A=w.currentUser;if(A){const V=De(te,"users",A.uid);hn(V).then(F=>{const B=F.data();B&&B.role==="customer"&&wr(V,{lat:j.lat,lng:j.lng},{merge:!0})})}},()=>C("denied"))},[w]),v.useEffect(()=>{g(!0);const P=Rt(ze(te,"products"),async j=>{const V=(await Promise.all(j.docs.map(async F=>{var U,D;const B={id:F.id,...F.data()};if(B.ownerId){const z=De(te,"users",B.ownerId),K=await hn(z);if(K.exists()){const H=K.data();B.businessName=H.businessName||"Unknown Pharmacy",B.ownerSlug=H.slug||null,B.ownerRole=H.role||null,(U=H.location)!=null&&U.latitude&&((D=H.location)!=null&&D.longitude)&&(B.businessLat=H.location.latitude,B.businessLng=H.location.longitude),B.businessState=H.businessState||H.state||""}}return B}))).filter(F=>F.ownerRole!=="distributor");o(V),g(!1)});return()=>P()},[]),v.useEffect(()=>{const P=()=>k(window.innerWidth);return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),v.useEffect(()=>{if(s.length===0)return;const P=M;let j=n?s.filter(q=>q.ownerSlug===n):s;if(x){const q=x.toLowerCase();j=j.filter(Q=>{const ee=(Q.businessState||Q.state||"").toLowerCase();return!!((Q.ownerRole==="medicine-manager"||Q.role==="medicine-manager")&&ee.includes(q))})}let A=j;P&&(A=A.filter(q=>(q.class||q.category||"").toLowerCase()===P.toLowerCase()));const V={};for(const q of A){const Q=(q.normalizedName||q.name||"").toLowerCase().trim();V[Q]||(V[Q]=[]),V[Q].push(q)}const F=Object.values(V).map(q=>(E&&E!=="denied"&&(q=q.map(Q=>{if(Q.businessLat&&Q.businessLng){const ee=p(E.lat,E.lng,Q.businessLat,Q.businessLng),{minutes:de}=_(ee);return{...Q,minutesAway:de}}return{...Q,minutesAway:1/0}}),q.sort((Q,ee)=>Q.minutesAway-ee.minutesAway)),q)).flat(),B=(q="")=>q.toLowerCase().trim().replace(/\s+/g," "),U={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},D=B(u),z=(U[D]||D).split(" "),K=(q,Q)=>q.includes(Q)||Q.length>3&&q.startsWith(Q.slice(0,3))||Q.length>3&&q.endsWith(Q.slice(-3)),H=F.filter(q=>{const Q=B(q.name),ee=B(q.ingredient),de=B(q.class);return z.some(me=>Q.includes(me)||ee.includes(me)||de.includes(me)||K(Q,me)||K(ee,me)||K(de,me))});c(H)},[s,E,u,n,M,x]);const S=async P=>{if(!r)return alert("Please log in first");let j={...P};if((!j.businessPhone||!j.businessWhatsapp)&&j.ownerId)try{const U=De(te,"users",j.ownerId),D=await hn(U);if(D.exists()){const z=D.data();j.businessPhone=z.businessPhone||"",j.businessWhatsapp=z.businessWhatsapp||""}}catch{}const A=De(te,"carts",r.uid),V=await hn(A);let F=V.exists()?V.data().items||[]:[];const B=F.findIndex(U=>U.name===j.name);B>=0?F[B].quantity+=1:F.push({...j,quantity:1}),await wr(A,{items:F}),m(P.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return l.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #009688 0%, #e0f7fa 100%)",padding:Fn()?"10px 2vw":"32px 0",position:"relative",fontFamily:"Montserrat, Inter, Arial, sans-serif",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:l.jsxs(Uo,{elevation:4,sx:{width:"100%",maxWidth:1200,minHeight:"80vh",borderRadius:4,background:"#fff",boxShadow:3,p:{xs:1.5,sm:3,md:5},mt:4,mb:4,mx:"auto",overflow:"hidden"},children:[l.jsx(ZH,{}),t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(eq,{categories:Array.from(new Set(s.map(P=>(P.class||P.category||"").trim())).values()).filter(Boolean),selected:M,onSelect:N}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Fn()?8:16,margin:Fn()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(255,255,255,0.97)",padding:Fn()?"6px 2vw":"14px 32px",borderRadius:16,boxShadow:"0 2px 12px #00968822",maxWidth:900,marginLeft:"auto",marginRight:"auto"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:u,onChange:P=>f(P.target.value),style:{padding:Fn()?"10px":"14px",width:"100%",maxWidth:Fn()?"98vw":"400px",borderRadius:"99px",border:"1.5px solid #00968855",fontSize:Fn()?15:17,background:"#f8fafc",boxShadow:"0 1px 8px #00968811",outline:"none",color:"#222",fontWeight:500,transition:"border 0.2s"}}),l.jsxs("select",{value:x,onChange:P=>I(P.target.value),style:{padding:Fn()?"10px":"14px",borderRadius:99,border:"1.5px solid #00968855",fontSize:Fn()?15:17,minWidth:Fn()?120:180,background:"#f8fafc",color:"#222",outline:"none",boxShadow:"0 1px 8px #00968811",fontWeight:500,transition:"border 0.2s"},children:[l.jsx("option",{value:"",children:"Sort by state"}),tq.map(P=>l.jsx("option",{value:P,children:P},P))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:b<=420?"repeat(2, 1fr)":b<=800?"repeat(3, 1fr)":"repeat(auto-fill, minmax(240px, 1fr))",gap:b<=420?12:b<=800?18:24,marginTop:18,alignItems:"start",padding:Fn()?"0 2vw":"0 16px",maxWidth:1100,marginLeft:"auto",marginRight:"auto"},children:a.map(P=>l.jsxs("div",{style:{border:"1.5px solid #b2dfdb",padding:"22px 18px",borderRadius:"14px",background:"#fff",boxShadow:"0 2px 10px #00968818",position:"relative",width:240,height:320,transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch",margin:"0 auto"},onMouseEnter:j=>{Fn()||(j.currentTarget.style.boxShadow="0 8px 24px #00968822",j.currentTarget.style.transform="translateY(-2px) scale(1.03)")},onMouseLeave:j=>{Fn()||(j.currentTarget.style.boxShadow="0 2px 10px #00968818",j.currentTarget.style.transform="none")},children:[P.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),P.isPOM&&l.jsx("span",{style:{position:"absolute",top:P.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),P.image?l.jsx("img",{src:P.image,alt:P.name,style:{width:"100%",height:b<=420?54:b<=800?70:90,objectFit:"contain",borderRadius:"8px",marginBottom:b<=420?6:10,background:"#e0f2f1"},onError:j=>{j.target.onerror=null,j.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Fn()?54:90,borderRadius:8,marginBottom:Fn()?6:10,background:"#e0f2f1",display:"flex",alignItems:"center",justifyContent:"center",color:"#b2dfdb",fontSize:Fn()?13:16,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:b<=420?11:b<=800?13:15,color:"#00695c",marginBottom:2,fontWeight:700,letterSpacing:.2},children:P.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:b<=420?9:12,color:"#009688",margin:0,fontWeight:500},children:l.jsx("em",{children:P.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:b<=420?8:11,color:"#444",margin:"2px 0 0 0"},children:["Class: ",P.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:b<=420?10:13,color:"#009688",fontWeight:700,margin:"4px 0 0 0"},children:["",P.price!==void 0?P.price:"N/A"]}),l.jsxs("p",{style:{fontSize:b<=420?8:10,color:"#888",margin:"4px 0 0 0",fontWeight:400},children:[" ",P.ownerSlug?l.jsx("a",{href:`/store/${P.ownerSlug}`,style:{color:"#009688",textDecoration:"underline",cursor:"pointer",fontWeight:400,fontSize:b<=420?8:10},children:P.businessName&&P.businessName.trim()?P.businessName:"Unknown Pharmacy"}):P.businessName&&P.businessName.trim()?P.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>S(P),style:{background:"linear-gradient(90deg,#b1005a,#a1004a)",color:"#fff",border:"none",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:15,cursor:"pointer",boxShadow:"0 2px 8px #b1005a33",transition:"background 0.2s, box-shadow 0.2s, transform 0.15s",position:"absolute",bottom:10,right:10,zIndex:2,outline:"none",borderColor:"transparent",overflow:"hidden"},onMouseEnter:j=>{j.currentTarget.style.background="linear-gradient(90deg,#a1004a,#b1005a)",j.currentTarget.style.boxShadow="0 4px 16px #b1005a55",j.currentTarget.style.transform="scale(1.08)"},onMouseLeave:j=>{j.currentTarget.style.background="linear-gradient(90deg,#b1005a,#a1004a)",j.currentTarget.style.boxShadow="0 2px 8px #b1005a33",j.currentTarget.style.transform="none"},"aria-label":"Add to cart",disabled:typeof S!="function",children:l.jsx("span",{style:{position:"relative",zIndex:1,fontSize:16,lineHeight:1},children:"+"})}),P.minutesAway&&P.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:500,margin:"6px 0 0 0",fontSize:9,letterSpacing:.1},children:P.minutesAway<=1?" Right here":` ~${P.minutesAway} mins away`}),h===P.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},P.id))})]})})}function oP(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,s]=v.useState(0),[o,a]=v.useState(!1),[c,u]=v.useState({}),[f,h]=v.useState([]),[m,E]=v.useState(null),C=Wr(),x=Cr();v.useEffect(()=>{t&&hn(De(te,"users",t.uid)).then(N=>{N.exists()&&E(N.data())})},[t]),v.useEffect(()=>{const N=Array.from(new Set(n.filter(w=>w.registeredOnly&&w.ownerId).map(w=>w.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const w of f)await wr(De(te,"businessRegistrations",`${w}_${t.uid}`),{distributorId:w,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===w),status:"pending",date:new Date().toISOString()});je.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};v.useEffect(()=>Ii(C,w=>{e(w),w&&T(w.uid)}),[C]);const T=async N=>{try{const w=De(te,"carts",N),p=await hn(w);p.exists()?r(p.data().items||[]):r([])}catch(w){console.error("Error loading cart:",w)}},g=async(N,w)=>{try{await wr(De(te,"carts",N),{items:w})}catch(p){console.error("Error saving cart:",p)}};v.useEffect(()=>{const N=n.reduce((w,p)=>w+p.price*(p.quantity||1),0);s(N)},[n]);const b=N=>{if(!t)return je.error("Please login first");const w=[...n],p=w.findIndex(_=>_.name===N.name);p>=0?w[p].quantity+=1:w.push({...N,quantity:1}),r(w),g(t.uid,w)},k=N=>{if(!t)return je.error("Please login first");const w=[...n],p=w.findIndex(_=>_.name===N);p>=0&&(w[p].quantity>1?w[p].quantity-=1:w.splice(p,1)),r(w),g(t.uid,w)},M=()=>{if(!t)return je.error("Please login to proceed to payment");if(n.length===0)return je.info("Cart is empty");x("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,w)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",w+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,w)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>b(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>k(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},w)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,w)=>N+(w.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:M,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const rq=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function iq(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,s]=v.useState("Pending"),[o,a]=v.useState({}),c=Wr();if(v.useEffect(()=>{const C=Ii(c,x=>{if(e(x),x){const I=br(ze(te,"orders"),_r("userId","==",x.uid)),T=Rt(I,g=>{const b=g.docs.map(k=>({id:k.id,...k.data()}));b.sort((k,M)=>new Date(M.date)-new Date(k.date)),r(b)});return()=>T()}});return()=>C()},[c]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const u=async C=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=De(te,"orders",C);await rn(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=C=>{a(x=>({...x,[C]:!x[C]}))},h=C=>C.reduce((x,I)=>x+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],E=m.reduce((C,x)=>(x==="Processing"?C[x]=n.filter(I=>{const T=I.status||"Pending";return T==="Processing"||T==="In-Progress"}):C[x]=n.filter(I=>(I.status||"Pending")===x),C),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(C=>{var x;return l.jsxs("button",{onClick:()=>s(C),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===C?"#007bff":"#eee",color:i===C?"#fff":"#000",fontWeight:i===C?"bold":"normal"},children:[C," (",((x=E[C])==null?void 0:x.length)||0,")"]},C)})}),E[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):E[i].map(C=>{var x;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",rq(C.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),C.items&&C.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(C.items.reduce((I,T)=>{const g=T.businessName||"Unknown",b=T.businessPhone||T.phoneNumber||"N/A",k=T.businessWhatsapp||T.whatsappNumber||"N/A";return I.set(g+"__"+b+"__"+k,{name:g,phone:b,whatsapp:k}),I},new Map).values()).map(({name:I,phone:T,whatsapp:g})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",g&&g!=="N/A"?l.jsxs("a",{href:`https://wa.me/${g.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:g}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+T+g))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",C.assignedAgentName||C.riderName||C.riderId||C.assignedAgentId||"Not assigned",(C.assignedAgentName||C.riderName||C.riderId||C.assignedAgentId)&&(C.agentPhoneNumber||C.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",C.agentPhoneNumber?l.jsxs("a",{href:`tel:${C.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",C.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${C.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(C.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[C.id]?"#ede9fe":"#7c3aed",color:o[C.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[C.id]?"0 2px 8px #ede9fe":"none"},children:o[C.id]?"Hide Items":"View Items"}),o[C.id]&&((x=C.items)==null?void 0:x.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:C.items.map((I,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:g=>{g.target.onerror=null,g.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(C.items||[])]}),(C.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>u(C.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},C.id)})]})}const sq="modulepreload",oq=function(t){return"/"+t},tE={},Ma=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=oq(c),c in tE)return;tE[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sq,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},aq=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function lq(){const t=Cr(),[e,n]=v.useState(null),[r,i]=v.useState(""),[s,o]=v.useState(""),[a,c]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState(""),[E,C]=v.useState(""),[x,I]=v.useState(""),[T,g]=v.useState(!1),[b,k]=v.useState(!1),[M,N]=v.useState(!1),[w,p]=v.useState({}),[_,S]=v.useState(!1),P={},[j,A]=v.useState(""),[V,F]=v.useState(""),[B,U]=v.useState(""),[D,z]=v.useState(""),[K,H]=v.useState(""),[q,Q]=v.useState(""),[ee,de]=v.useState(""),[me,G]=v.useState(""),[re,W]=v.useState(""),[ce,ne]=v.useState(""),[ie,ge]=v.useState(""),[xe,we]=v.useState(""),[Ee,et]=v.useState(null),[Te,X]=v.useState(!1),[ae,Re]=v.useState(null),[Pe,Ne]=v.useState(!1),[ve,ct]=v.useState(""),[Ce,be]=v.useState("");_e.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const Fe=async()=>{try{if(!me||!re){alert("Please provide distributor name and license number.");return}const Z=await captureDistributorLocation();if(!Z){alert(" Location required to complete distributor signup.");return}const O=(await ec(lo,r,s)).user,se=await St(me),fe={email:O.email,role:"distributor",businessName:me,licenseNumber:re,location:Z,slug:se,businessSlug:se,createdAt:new Date().toISOString()};await At(O.uid,fe),n({...O,...fe}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${se}`),k(!1),G(""),W(""),et(null)}catch(Z){console.error("Distributor signup error:",Z),alert(Z.message||"Distributor signup failed")}},Ie=Z=>Z.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),St=async Z=>{let He=Ie(Z);const O=ze(te,"users");let se=He,fe=1;for(;;){const qe=br(O,_r("slug","==",se));if((await Ht(qe)).empty)break;se=`${He}${fe++}`}return se},At=async(Z,He)=>{console.log("Writing user doc for:",Z,He),await wr(De(te,"users",Z),He)},tt=async()=>{try{if(!B||!D||!K){alert("Please provide address, state, and city.");return}const He=(await ec(lo,r,s)).user,O={email:He.email,role:"customer",address:B,state:D,city:K,landmark:q,createdAt:new Date().toISOString()};await At(He.uid,O),n({...He,...O}),alert(" Customer signup successful!")}catch(Z){console.error("Customer signup error:",Z),alert(Z.message)}},Ae=async()=>navigator.geolocation?(Ne(!0),new Promise((Z,He)=>{navigator.geolocation.getCurrentPosition(O=>{const se={latitude:O.coords.latitude,longitude:O.coords.longitude};Re(se),Ne(!1),Z(se)},O=>{Ne(!1),alert(" Location access denied or unavailable."),He(O)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),ot=async()=>{try{if(!a||!ee||!u){alert("Please provide business name, address, and license number.");return}const Z=await Ae();if(!Z){alert(" Location required to complete business signup.");return}const O=(await ec(lo,r,s)).user;console.log("Business user created:",O.uid);const se=await St(a);console.log("Generated unique slug:",se);const fe={email:O.email,role:"medicine-manager",businessName:a,address:u,city:E,state:h,landmark:x,licenseNumber:ee,location:Z,lat:Z.latitude,lng:Z.longitude,slug:se,businessSlug:se,businessPhone:ve,businessWhatsapp:Ce,createdAt:new Date().toISOString()};await At(O.uid,fe),console.log("Firestore user record created for business:",fe),n({...O,...fe}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${se}`),g(!1),c(""),f(""),de(""),Re(null)}catch(Z){console.error("Business signup error:",Z),alert(Z.message||"Business signup failed")}},Xe=async()=>{try{const He=(await K2(lo,r,s)).user,O=await hn(De(te,"users",He.uid));O.exists()?(n({...He,...O.data()}),O.data().role==="delivery-agent"&&O.data().slug&&t(`/agent/${O.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...He}))}catch(Z){console.error("Login error:",Z),alert(Z.message||"Login failed")}},Ir=async()=>{await Y2(lo),n(null)},cs=async()=>{try{S(!0);const Z=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const Et of Z)if(!w[Et]){alert(`Please fill the ${Et} field.`),S(!1);return}const O=(await ec(lo,w.email,s)).user,se=await St(w.companyName),fe={...w,role:"delivery-agent",slug:se,createdAt:new Date().toISOString()};await At(O.uid,fe);const qe={companyName:w.companyName,phoneNumber:w.phoneNumber,whatsappNumber:w.whatsappNumber,rcNumber:w.rcNumber,businessAddress:w.businessAddress,email:w.email,coverageArea:w.coverageArea,operatingHours:w.operatingHours,logoUrl:w.logoUrl,state:w.state,city:w.city,landmark:w.landmark,userId:O.uid,createdAt:new Date().toISOString(),slug:se},{addDoc:ut,collection:at}=await Ma(async()=>{const{addDoc:Et,collection:Be}=await Promise.resolve().then(()=>ux);return{addDoc:Et,collection:Be}},void 0);await ut(at(te,"deliveryAgents"),qe),n({...O,...fe}),alert(" Delivery agent signup successful!"),N(!1),p(P)}catch(Z){console.error("Delivery agent signup error:",Z),alert(Z.message||"Delivery agent signup failed")}finally{S(!1)}},[eo,kr]=v.useState(!1),[si,Rr]=v.useState("customer"),us=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Ir,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:eo?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:si,onChange:Z=>Rr(Z.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:us.map(Z=>l.jsx("option",{value:Z.key,children:Z.label},Z.key))})}),si==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:Z=>A(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:V,onChange:Z=>F(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:B,onChange:Z=>U(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:D,onChange:Z=>z(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:K,onChange:Z=>H(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:q,onChange:Z=>Q(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:tt,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:Pe,children:Pe?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>kr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),si==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:Z=>c(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:u,onChange:Z=>f(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ee,onChange:Z=>de(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:Z=>m(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),aq.map(Z=>l.jsx("option",{value:Z,children:Z},Z))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:Z=>C(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:x,onChange:Z=>I(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:ve,onChange:Z=>ct(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Ce,onChange:Z=>be(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:ot,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:Pe,children:Pe?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>kr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",ae.latitude.toFixed(5),", ",ae.longitude.toFixed(5)]})]}),si==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:me,onChange:Z=>G(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:re,onChange:Z=>W(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:ce,onChange:Z=>ne(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:ie,onChange:Z=>ge(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:xe,onChange:Z=>we(Z.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Fe,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:Te,children:Te?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>kr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ee&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ee.latitude.toFixed(5),", ",Ee.longitude.toFixed(5)]})]}),si==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:w.companyName,onChange:Z=>p(He=>({...He,companyName:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:w.phoneNumber,onChange:Z=>p(He=>({...He,phoneNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:w.whatsappNumber,onChange:Z=>p(He=>({...He,whatsappNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:w.rcNumber,onChange:Z=>p(He=>({...He,rcNumber:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:w.businessAddress,onChange:Z=>p(He=>({...He,businessAddress:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:w.state,onChange:Z=>p(He=>({...He,state:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:w.city,onChange:Z=>p(He=>({...He,city:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:w.landmark,onChange:Z=>p(He=>({...He,landmark:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:w.coverageArea,onChange:Z=>p(He=>({...He,coverageArea:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:w.operatingHours,onChange:Z=>p(He=>({...He,operatingHours:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:w.logoUrl,onChange:Z=>p(He=>({...He,logoUrl:Z.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:w.email,onChange:Z=>p(He=>({...He,email:Z.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:cs,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:_,children:_?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>kr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:Z=>i(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:Z=>o(Z.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:Xe,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>kr(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var aP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Wl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var S=M(_);S.chunkSize=parseInt(S.chunkSize),_.step||_.chunk||(S.chunkSize=null),this._handle=new x(S),(this._handle.streamer=this)._config=S}).call(this,p),this.parseChunk=function(_,S){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let A=this._config.newline;A||(j=this._config.quoteChar||'"',A=this._handle.guessLineEndings(_,j)),_=[..._.split(A).slice(P)].join(A)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(_))!==void 0&&(_=j),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+_,j=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=j.meta.cursor,P=(this._finished||(this._partialLine=P.substring(_-this._baseIndex),this._baseIndex=_),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:j,workerId:u.WORKER_ID,finished:P});else if(w(this._config.chunk)&&!S){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!P||!w(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(_){w(this._config.error)?this._config.error(_):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:_,finished:!1})}}function h(p){var _;(p=p||{}).chunkSize||(p.chunkSize=u.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=N(this._chunkLoaded,this),_.onerror=N(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S,P=this._config.downloadRequestHeaders;for(S in P)_.setRequestHeader(S,P[S])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+j));try{_.send(this._config.downloadRequestBody)}catch(A){this._chunkError(A.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(S=>(S=S.getResponseHeader("Content-Range"))!==null?parseInt(S.substring(S.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(S){S=_.statusText||S,this._sendError(new Error(S))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=u.LocalChunkSize),f.call(this,p);var _,S,P=typeof FileReader<"u";this.stream=function(j){this._input=j,S=j.slice||j.webkitSlice||j.mozSlice,P?((_=new FileReader).onload=N(this._chunkLoaded,this),_.onerror=N(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,A=(this._config.chunkSize&&(A=Math.min(this._start+this._config.chunkSize,this._input.size),j=S.call(j,this._start,A)),_.readAsText(j,this._config.encoding));P||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(_.error)}}function E(p){var _;f.call(this,p=p||{}),this.stream=function(S){return _=S,this._nextChunk()},this._nextChunk=function(){var S,P;if(!this._finished)return S=this._config.chunkSize,_=S?(P=_.substring(0,S),_.substring(S)):(P=_,""),this._finished=!_,this.parseChunk(P)}}function C(p){f.call(this,p=p||{});var _=[],S=!0,P=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):S=!0},this._streamData=N(function(j){try{_.push(typeof j=="string"?j:j.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(A){this._streamError(A)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(p){var _,S,P,j,A=Math.pow(2,53),V=-A,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,D=0,z=0,K=!1,H=!1,q=[],Q={data:[],errors:[],meta:{}};function ee(re){return p.skipEmptyLines==="greedy"?re.join("").trim()==="":re.length===1&&re[0].length===0}function de(){if(Q&&P&&(G("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),P=!1),p.skipEmptyLines&&(Q.data=Q.data.filter(function(ie){return!ee(ie)})),me()){let ie=function(ge,xe){w(p.transformHeader)&&(ge=p.transformHeader(ge,xe)),q.push(ge)};var ne=ie;if(Q)if(Array.isArray(Q.data[0])){for(var re=0;me()&&re<Q.data.length;re++)Q.data[re].forEach(ie);Q.data.splice(0,1)}else Q.data.forEach(ie)}function W(ie,ge){for(var xe=p.header?{}:[],we=0;we<ie.length;we++){var Ee=we,et=ie[we],et=((Te,X)=>(ae=>(p.dynamicTypingFunction&&p.dynamicTyping[ae]===void 0&&(p.dynamicTyping[ae]=p.dynamicTypingFunction(ae)),(p.dynamicTyping[ae]||p.dynamicTyping)===!0))(Te)?X==="true"||X==="TRUE"||X!=="false"&&X!=="FALSE"&&((ae=>{if(F.test(ae)&&(ae=parseFloat(ae),V<ae&&ae<A))return 1})(X)?parseFloat(X):B.test(X)?new Date(X):X===""?null:X):X)(Ee=p.header?we>=q.length?"__parsed_extra":q[we]:Ee,et=p.transform?p.transform(et,Ee):et);Ee==="__parsed_extra"?(xe[Ee]=xe[Ee]||[],xe[Ee].push(et)):xe[Ee]=et}return p.header&&(we>q.length?G("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+we,z+ge):we<q.length&&G("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+we,z+ge)),xe}var ce;Q&&(p.header||p.dynamicTyping||p.transform)&&(ce=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(W),ce=Q.data.length):Q.data=W(Q.data,0),p.header&&Q.meta&&(Q.meta.fields=q),z+=ce)}function me(){return p.header&&q.length===0}function G(re,W,ce,ne){re={type:re,code:W,message:ce},ne!==void 0&&(re.row=ne),Q.errors.push(re)}w(p.step)&&(j=p.step,p.step=function(re){Q=re,me()?de():(de(),Q.data.length!==0&&(D+=re.data.length,p.preview&&D>p.preview?S.abort():(Q.data=Q.data[0],j(Q,U))))}),this.parse=function(re,W,ce){var ne=p.quoteChar||'"',ne=(p.newline||(p.newline=this.guessLineEndings(re,ne)),P=!1,p.delimiter?w(p.delimiter)&&(p.delimiter=p.delimiter(re),Q.meta.delimiter=p.delimiter):((ne=((ie,ge,xe,we,Ee)=>{var et,Te,X,ae;Ee=Ee||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Re=0;Re<Ee.length;Re++){for(var Pe,Ne=Ee[Re],ve=0,ct=0,Ce=0,be=(X=void 0,new T({comments:we,delimiter:Ne,newline:ge,preview:10}).parse(ie)),Fe=0;Fe<be.data.length;Fe++)xe&&ee(be.data[Fe])?Ce++:(Pe=be.data[Fe].length,ct+=Pe,X===void 0?X=Pe:0<Pe&&(ve+=Math.abs(Pe-X),X=Pe));0<be.data.length&&(ct/=be.data.length-Ce),(Te===void 0||ve<=Te)&&(ae===void 0||ae<ct)&&1.99<ct&&(Te=ve,et=Ne,ae=ct)}return{successful:!!(p.delimiter=et),bestDelimiter:et}})(re,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=ne.bestDelimiter:(P=!0,p.delimiter=u.DefaultDelimiter),Q.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&ne.preview++,_=re,S=new T(ne),Q=S.parse(_,W,ce),de(),K?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,S.abort(),_=w(p.chunk)?"":_.substring(S.getCharIndex())},this.resume=function(){U.streamer._halted?(K=!1,U.streamer.parseChunk(_,!0)):setTimeout(U.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,S.abort(),Q.meta.aborted=!0,w(p.complete)&&p.complete(Q),_=""},this.guessLineEndings=function(ie,ne){ie=ie.substring(0,1048576);var ne=new RegExp(I(ne)+"([^]*?)"+I(ne),"gm"),ce=(ie=ie.replace(ne,"")).split("\r"),ne=ie.split(`
`),ie=1<ne.length&&ne[0].length<ce[0].length;if(ce.length===1||ie)return`
`;for(var ge=0,xe=0;xe<ce.length;xe++)ce[xe][0]===`
`&&ge++;return ge>=ce.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(p){var _=(p=p||{}).delimiter,S=p.newline,P=p.comments,j=p.step,A=p.preview,V=p.fastMode,F=null,B=!1,U=p.quoteChar==null?'"':p.quoteChar,D=U;if(p.escapeChar!==void 0&&(D=p.escapeChar),(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=","),P===_)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=!1),S!==`
`&&S!=="\r"&&S!==`\r
`&&(S=`
`);var z=0,K=!1;this.parse=function(H,q,Q){if(typeof H!="string")throw new Error("Input must be a string");var ee=H.length,de=_.length,me=S.length,G=P.length,re=w(j),W=[],ce=[],ne=[],ie=z=0;if(!H)return ve();if(V||V!==!1&&H.indexOf(U)===-1){for(var ge=H.split(S),xe=0;xe<ge.length;xe++){if(ne=ge[xe],z+=ne.length,xe!==ge.length-1)z+=S.length;else if(Q)return ve();if(!P||ne.substring(0,G)!==P){if(re){if(W=[],ae(ne.split(_)),ct(),K)return ve()}else ae(ne.split(_));if(A&&A<=xe)return W=W.slice(0,A),ve(!0)}}return ve()}for(var we=H.indexOf(_,z),Ee=H.indexOf(S,z),et=new RegExp(I(D)+I(U),"g"),Te=H.indexOf(U,z);;)if(H[z]===U)for(Te=z,z++;;){if((Te=H.indexOf(U,Te+1))===-1)return Q||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:z}),Pe();if(Te===ee-1)return Pe(H.substring(z,Te).replace(et,U));if(U===D&&H[Te+1]===D)Te++;else if(U===D||Te===0||H[Te-1]!==D){we!==-1&&we<Te+1&&(we=H.indexOf(_,Te+1));var X=Re((Ee=Ee!==-1&&Ee<Te+1?H.indexOf(S,Te+1):Ee)===-1?we:Math.min(we,Ee));if(H.substr(Te+1+X,de)===_){ne.push(H.substring(z,Te).replace(et,U)),H[z=Te+1+X+de]!==U&&(Te=H.indexOf(U,z)),we=H.indexOf(_,z),Ee=H.indexOf(S,z);break}if(X=Re(Ee),H.substring(Te+1+X,Te+1+X+me)===S){if(ne.push(H.substring(z,Te).replace(et,U)),Ne(Te+1+X+me),we=H.indexOf(_,z),Te=H.indexOf(U,z),re&&(ct(),K))return ve();if(A&&W.length>=A)return ve(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:z}),Te++}}else if(P&&ne.length===0&&H.substring(z,z+G)===P){if(Ee===-1)return ve();z=Ee+me,Ee=H.indexOf(S,z),we=H.indexOf(_,z)}else if(we!==-1&&(we<Ee||Ee===-1))ne.push(H.substring(z,we)),z=we+de,we=H.indexOf(_,z);else{if(Ee===-1)break;if(ne.push(H.substring(z,Ee)),Ne(Ee+me),re&&(ct(),K))return ve();if(A&&W.length>=A)return ve(!0)}return Pe();function ae(Ce){W.push(Ce),ie=z}function Re(Ce){var be=0;return be=Ce!==-1&&(Ce=H.substring(Te+1,Ce))&&Ce.trim()===""?Ce.length:be}function Pe(Ce){return Q||(Ce===void 0&&(Ce=H.substring(z)),ne.push(Ce),z=ee,ae(ne),re&&ct()),ve()}function Ne(Ce){z=Ce,ae(ne),ne=[],Ee=H.indexOf(S,z)}function ve(Ce){if(p.header&&!q&&W.length&&!B){var be=W[0],Fe=Object.create(null),Ie=new Set(be);let St=!1;for(let At=0;At<be.length;At++){let tt=be[At];if(Fe[tt=w(p.transformHeader)?p.transformHeader(tt,At):tt]){let Ae,ot=Fe[tt];for(;Ae=tt+"_"+ot,ot++,Ie.has(Ae););Ie.add(Ae),be[At]=Ae,Fe[tt]++,St=!0,(F=F===null?{}:F)[Ae]=tt}else Fe[tt]=1,be[At]=tt;Ie.add(tt)}St&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:W,errors:ce,meta:{delimiter:_,linebreak:S,aborted:K,truncated:!!Ce,cursor:ie+(q||0),renamedHeaders:F}}}function ct(){j(ve()),W=[],ce=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return z}}function g(p){var _=p.data,S=a[_.workerId],P=!1;if(_.error)S.userError(_.error,_.file);else if(_.results&&_.results.data){var j={abort:function(){P=!0,b(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(w(S.userStep)){for(var A=0;A<_.results.data.length&&(S.userStep({data:_.results.data[A],errors:_.results.errors,meta:_.results.meta},j),!P);A++);delete _.results}else w(S.userChunk)&&(S.userChunk(_.results,j,_.file),delete _.results)}_.finished&&!P&&b(_.workerId,_.results)}function b(p,_){var S=a[p];w(S.userComplete)&&S.userComplete(_),S.terminate(),delete a[p]}function k(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var _,S=Array.isArray(p)?[]:{};for(_ in p)S[_]=M(p[_]);return S}function N(p,_){return function(){p.apply(_,arguments)}}function w(p){return typeof p=="function"}return u.parse=function(p,_){var S=(_=_||{}).dynamicTyping||!1;if(w(S)&&(_.dynamicTypingFunction=S,S={}),_.dynamicTyping=S,_.transform=!!w(_.transform)&&_.transform,!_.worker||!u.WORKERS_SUPPORTED)return S=null,u.NODE_STREAM_INPUT,typeof p=="string"?(p=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(p),S=new(_.download?h:E)(_)):p.readable===!0&&w(p.read)&&w(p.on)?S=new C(_):(r.File&&p instanceof File||p instanceof Object)&&(S=new m(_)),S.stream(p);(S=(()=>{var P;return!!u.WORKERS_SUPPORTED&&(P=(()=>{var j=r.URL||r.webkitURL||null,A=n.toString();return u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",A,")();"],{type:"text/javascript"})))})(),(P=new r.Worker(P)).onmessage=g,P.id=c++,a[P.id]=P)})()).userStep=_.step,S.userChunk=_.chunk,S.userComplete=_.complete,S.userError=_.error,_.step=w(_.step),_.chunk=w(_.chunk),_.complete=w(_.complete),_.error=w(_.error),delete _.worker,S.postMessage({input:p,config:_,workerId:S.id})},u.unparse=function(p,_){var S=!1,P=!0,j=",",A=`\r
`,V='"',F=V+V,B=!1,U=null,D=!1,z=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||u.BAD_DELIMITERS.filter(function(q){return _.delimiter.indexOf(q)!==-1}).length||(j=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(S=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(B=_.skipEmptyLines),typeof _.newline=="string"&&(A=_.newline),typeof _.quoteChar=="string"&&(V=_.quoteChar),typeof _.header=="boolean"&&(P=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");U=_.columns}_.escapeChar!==void 0&&(F=_.escapeChar+V),_.escapeFormulae instanceof RegExp?D=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(V),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return K(null,p,B);if(typeof p[0]=="object")return K(U||Object.keys(p[0]),p,B)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||U),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),K(p.fields||[],p.data||[],B);throw new Error("Unable to serialize unrecognized input");function K(q,Q,ee){var de="",me=(typeof q=="string"&&(q=JSON.parse(q)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(q)&&0<q.length),G=!Array.isArray(Q[0]);if(me&&P){for(var re=0;re<q.length;re++)0<re&&(de+=j),de+=H(q[re],re);0<Q.length&&(de+=A)}for(var W=0;W<Q.length;W++){var ce=(me?q:Q[W]).length,ne=!1,ie=me?Object.keys(Q[W]).length===0:Q[W].length===0;if(ee&&!me&&(ne=ee==="greedy"?Q[W].join("").trim()==="":Q[W].length===1&&Q[W][0].length===0),ee==="greedy"&&me){for(var ge=[],xe=0;xe<ce;xe++){var we=G?q[xe]:xe;ge.push(Q[W][we])}ne=ge.join("").trim()===""}if(!ne){for(var Ee=0;Ee<ce;Ee++){0<Ee&&!ie&&(de+=j);var et=me&&G?q[Ee]:Ee;de+=H(Q[W][et],Ee)}W<Q.length-1&&(!ee||0<ce&&!ie)&&(de+=A)}}return de}function H(q,Q){var ee,de;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(de=!1,D&&typeof q=="string"&&D.test(q)&&(q="'"+q,de=!0),ee=q.toString().replace(z,F),(de=de||S===!0||typeof S=="function"&&S(q,Q)||Array.isArray(S)&&S[Q]||((me,G)=>{for(var re=0;re<G.length;re++)if(-1<me.indexOf(G[re]))return!0;return!1})(ee,u.BAD_DELIMITERS)||-1<ee.indexOf(j)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?V+ee+V:ee)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=T,u.ParserHandle=x,u.NetworkStreamer=h,u.FileStreamer=m,u.StringStreamer=E,u.ReadableStreamStreamer=C,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var _=p.config||{},S=[];return this.each(function(A){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)S.push({file:this.files[V],inputElem:this,instanceConfig:i.extend({},_)})}),P(),this;function P(){if(S.length===0)w(p.complete)&&p.complete();else{var A,V,F,B,U=S[0];if(w(p.before)){var D=p.before(U.file,U.inputElem);if(typeof D=="object"){if(D.action==="abort")return A="AbortError",V=U.file,F=U.inputElem,B=D.reason,void(w(p.error)&&p.error({name:A},V,F,B));if(D.action==="skip")return void j();typeof D.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,D.config))}else if(D==="skip")return void j()}var z=U.instanceConfig.complete;U.instanceConfig.complete=function(K){w(z)&&z(K,U.file,U.inputElem),j()},u.parse(U.file,U.instanceConfig)}}function j(){S.splice(0,1),P()}}),o&&(r.onmessage=function(p){p=p.data,u.WORKER_ID===void 0&&p&&(u.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=u.parse(p.input,p.config))&&r.postMessage({workerId:u.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(C.prototype=Object.create(f.prototype)).constructor=C,u})})(aP);var cq=aP.exports;const lP=xh(cq);function uq({businessId:t}){const[e,n]=v.useState([]),[r,i]=v.useState(!0),[s,o]=v.useState({}),a=Cr();return v.useEffect(()=>{if(!t)return;const c=br(ze(te,"chats"),_r("participants","array-contains",t)),u=Rt(c,async f=>{const h=[],m=new Set;f.forEach(C=>{const x=C.data(),I=x.participants.find(T=>T!==t);I&&(h.push({id:C.id,...x,customerId:I}),m.add(I))}),n(h);const E={};await Promise.all(Array.from(m).map(async C=>{const x=await hn(De(te,"users",C));x.exists()&&(E[C]=x.data())})),o(E),i(!1)});return()=>u()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(c=>{const u=s[c.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:u.photo||"https://ui-avatars.com/api/?name="+(u.name||u.email||"Customer"),alt:u.name||u.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:u.name||u.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:u.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:c.customerId,chatId:c.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},c.id)})})]})}const xg=["name","ingredient","class","price","image"];function dq(){const[t,e]=v.useState(""),[n,r]=v.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=v.useState(null);if(v.useEffect(()=>{Ma(async()=>{const{getAuth:F,onAuthStateChanged:B}=await Promise.resolve().then(()=>ck);return{getAuth:F,onAuthStateChanged:B}},void 0).then(({getAuth:F,onAuthStateChanged:B})=>{const U=F();B(U,async D=>{if(D){const{getDoc:z,doc:K}=await Ma(async()=>{const{getDoc:q,doc:Q}=await Promise.resolve().then(()=>ux);return{getDoc:q,doc:Q}},void 0),H=await z(K(te,"users",D.uid));a(H.exists()?H.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[c,u]=v.useState(null),[f,h]=v.useState(null),[m,E]=v.useState([]),[C,x]=v.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,T]=v.useState(null),[g,b]=v.useState([]),[k,M]=v.useState([]),N=m.filter(F=>{var U,D,z;const B=t.toLowerCase();return((U=F.name)==null?void 0:U.toLowerCase().includes(B))||((D=F.ingredient)==null?void 0:D.toLowerCase().includes(B))||((z=F.class)==null?void 0:z.toLowerCase().includes(B))}),w=Wr();v.useEffect(()=>{const F=Ii(w,async B=>{if(B){u(B);try{const U=await hn(De(te,"users",B.uid));U.exists()?h(U.data()):h({role:"customer"})}catch(U){console.error("Error fetching user doc:",U),h({role:"customer"})}}else u(null),h(null)});return()=>F()},[w]),v.useEffect(()=>{if(!c)return;const F=Rt(ze(te,"products"),B=>{const U=B.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.ownerId===c.uid);E(U)});return()=>F()},[c]),v.useEffect(()=>{if(!c)return;const F=Rt(ze(te,"batches"),B=>{const U=B.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.uploadedBy===c.uid);M(U)});return()=>F()},[c]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),_=async F=>{if(F.preventDefault(),!c)return je.error("Please log in first");if(!f)return je.info("Loading user data...");const{name:B,ingredient:U,class:D,price:z,image:K}=C;if(!B||!U||!D||!z)return je.warn("Please fill all required fields");const H=parseInt(z,10);if(isNaN(H)||H<0)return je.warn("Price must be a positive number");const{ownerSlug:q,businessName:Q}=p(),ee=(f==null?void 0:f.pharmacist)||null;try{I?(await rn(De(te,"products",I),{name:B,ingredient:U,class:D,price:H,image:K||"",ownerSlug:q||"",businessName:Q||"",isPOM:!!C.isPOM,registeredOnly:!!C.registeredOnly,pharmacist:ee||null}),T(null)):await rs(ze(te,"products"),{name:B,ingredient:U,class:D,price:H,image:K||"",ownerId:c.uid,ownerSlug:q||"",businessName:Q||"",isPOM:!!C.isPOM,registeredOnly:!!C.registeredOnly,pharmacist:ee||null}),x({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(de){console.error(de),je.error("Error saving medicine")}},S=F=>{const B=F.target.files[0];B&&lP.parse(B,{header:!0,skipEmptyLines:!0,complete:U=>{const D=U.data.map(z=>{const K={};return xg.forEach(H=>K[H]=z[H]||(H==="price"?0:"N/A")),K});b(D)}})},P=async()=>{if(!g.length)return je.info("No CSV data to upload");if(!c)return je.error("Please log in first");if(!f)return je.info("Loading user data...");const F=De(ze(te,"batches")),B=[],{ownerSlug:U,businessName:D}=p(),z=(f==null?void 0:f.pharmacist)||null;for(let K of g)try{const H=await rs(ze(te,"products"),{name:K.name,ingredient:K.ingredient,class:K.class,price:parseInt(K.price,10)||0,image:K.image==="N/A"?"":K.image,batchId:F.id,ownerId:c.uid,ownerSlug:U||"",businessName:D||"",isPOM:!!K.isPOM,pharmacist:z||null});B.push(H.id)}catch(H){console.error("CSV upload error for row:",K,H)}try{await wr(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:c.uid,date:new Date().toISOString(),medicineIds:B})}catch(K){console.error("Failed to create batch doc:",K)}alert(` ${B.length} medicines uploaded`),je.success(` ${B.length} medicines uploaded`),b([])},j=F=>{x({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),T(F.id),r("add")},A=async F=>{if(window.confirm("Delete this medicine?"))try{await Fr(De(te,"products",F.id)),je.success("Medicine deleted.")}catch(B){console.error(B),je.error("Error deleting medicine")}},V=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let B of F.medicineIds)await Fr(De(te,"products",B));await Fr(De(te,"batches",F.id)),je.success("Batch deleted.")}catch(B){console.error(B),je.error("Error deleting batch")}};return c?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",c.email]}),l.jsx(hq,{user:c,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:_,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:C.name,onChange:F=>x({...C,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:C.ingredient,onChange:F=>x({...C,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:C.class,onChange:F=>x({...C,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:C.price,onChange:F=>x({...C,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:C.image,onChange:F=>x({...C,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:C.isPOM,onChange:F=>x({...C,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),x({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:S,style:{marginBottom:"10px"}}),g.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:xg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:g.map((F,B)=>l.jsx("tr",{children:xg.map(U=>l.jsx("td",{children:F[U]},U))},B))})]}),l.jsx("button",{onClick:P,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),k.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:k.map(F=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((B=F.medicineIds)==null?void 0:B.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>V(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>j(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>A(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(fq,{userId:c.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(uq,{businessId:c.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function fq({userId:t}){const[e,n]=_e.useState(null),[r,i]=_e.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=_e.useState(!1),[a,c]=_e.useState(!1);_e.useEffect(()=>{const h=De(te,"users",t);hn(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),o(!0))})},[t]);const u=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),c(!0),await rn(De(te,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),c(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:u,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:u,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:u,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:u,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:u,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:u,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function hq({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=_e.useState(!1),[s,o]=_e.useState(!1),[a,c]=_e.useState(""),u=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),c(""),o(!1),!navigator.geolocation){c("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async C=>{const x={latitude:C.coords.latitude,longitude:C.coords.longitude};try{await rn(De(te,"users",t.uid),{location:x,lat:x.latitude,lng:x.longitude}),n(I=>({...I,location:x,lat:x.latitude,lng:x.longitude})),o(!0)}catch{c("Failed to update location.")}i(!1)},C=>{c("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",u&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",u.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}var ru=function(){return ru=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ru.apply(this,arguments)};function sb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Pd=[];function pq(){var t="https://js.paystack.co/v1/inline.js",e=v.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return v.useEffect(function(){if(Pd.includes(t))r({loaded:!0,error:!1});else{Pd.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Pd.indexOf(t);a>=0&&Pd.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var mq=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function cP(t){var e=pq(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,c=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var u=ru(ru({},t),o),f=u.publicKey,h=u.firstname,m=u.lastname,E=u.phone,C=u.email,x=u.amount,I=u.reference,T=u.metadata,g=T===void 0?{}:T,b=u.currency,k=b===void 0?"NGN":b,M=u.channels,N=u.label,w=N===void 0?"":N,p=u.plan,_=p===void 0?"":p,S=u.quantity,P=S===void 0?"":S,j=u.subaccount,A=j===void 0?"":j,V=u.transaction_charge,F=V===void 0?0:V,B=u.bearer,U=B===void 0?"account":B,D=u.split,z=u.split_code;if(n){var K={callback:a||function(){return null},onClose:c||function(){return null},key:f,ref:I,email:C,firstname:h,lastname:m,phone:E,amount:x,currency:k,plan:_,quantity:P,channels:M,subaccount:A,transaction_charge:F,bearer:U,label:w,metadata:g,split:D,split_code:z,"data-custom-button":u["data-custom-button"]||""};mq(K)}}return v.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var gq=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=sb(t,["text","className","children","onSuccess","onClose"]),a=cP(o);return _e.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},uP=v.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),yq=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=sb(t,["children","onSuccess","onClose"]),s=cP(i);return _e.createElement(uP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},vq=function(t){var e=t.children,n=t.ref,r=v.useContext(uP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,c=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:c,ref:n})};v.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=sb(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return _e.createElement(yq,ru({},s,{onSuccess:o,onClose:a}),_e.createElement(vq,{ref:e},n))});async function xq(t){if(!t)return null;const e=br(ze(te,"coupons"),_r("code","==",t)),n=await Ht(e);return n.empty?null:n.docs[0].data()}function bq(){var D,z,K;const[t,e]=v.useState(""),[n,r]=v.useState(null),[i,s]=v.useState(""),o=Wr(),a=Cr(),c=Ys(),[u,f]=v.useState(null),[h,m]=v.useState(((D=c.state)==null?void 0:D.cart)||[]),[E,C]=v.useState(((z=c.state)==null?void 0:z.total)||0),x=h.length===1&&((K=h[0])==null?void 0:K.isConsultation),[I,T]=v.useState("standard"),[g,b]=v.useState(x?0:500),[k,M]=v.useState(1e3),[N,w]=v.useState(E+(x?0:g)),[p,_]=v.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),S="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";v.useEffect(()=>Ii(o,async q=>{if(!q)return a("/auth");if(f(q),h.length===0){const Q=De(te,"carts",q.uid),ee=await hn(Q);if(ee.exists()){const de=ee.data().items||[];m(de);const me=de.reduce((G,re)=>G+re.price*(re.quantity||1),0);C(me),w(me+g)}}}),[o,h.length,g,a]),v.useEffect(()=>{let H=h.some(de=>de.isPOM)?500:0,q=g,Q=E,ee=0;n&&(n.removePOM&&(H=0),n.removeDelivery&&(q=0),n.percent>0&&(ee=Math.round((Q+H+q)*(n.percent/100)))),M(H),w(Q+H+q-ee)},[E,g,h,n]),v.useEffect(()=>{b(x?0:I==="standard"?500:3e3)},[I,x]);const P=async()=>{s("");const H=await xq(t.trim().toUpperCase());H?(r(H),s("")):(r(null),s("Invalid coupon code"))},j=()=>x?["name","phone","address","age","complaint"].every(q=>{var Q;return(Q=p[q])==null?void 0:Q.trim()}):["name","phone","address","city","state"].every(q=>{var Q;return(Q=p[q])==null?void 0:Q.trim()}),A={reference:new Date().getTime().toString(),email:u==null?void 0:u.email,amount:N*100,publicKey:S},V=async H=>{if(!u||h.length===0)return;const q=De(ze(te,"orders"));await wr(q,{userId:u.uid,items:h,subtotal:E,deliveryFee:g,pomFee:k,total:N,status:"Processing",date:new Date().toISOString(),paymentReference:(H==null?void 0:H.reference)||"COUPON_FREE",deliveryInfo:p,coupon:n||null,deliveryType:I}),await wr(De(te,"carts",u.uid),{items:[]}),m([]),C(0),w(0),je.success(" Payment successful! Order created.");const Q=h.find(de=>de.isConsultation&&de.whatsapp);if(Q){window.location.href=`https://wa.me/${Q.whatsapp}`;return}const ee=h.find(de=>de.isPOM&&de.pharmacist&&de.ownerId);if(ee&&ee.pharmacist&&ee.ownerId){a(`/chat/${ee.ownerId}`,{state:{pharmacist:ee.pharmacist,businessName:ee.businessName}});return}h.some(de=>de.isPOM)?a("/medinterface"):a("/orders")},F=()=>{je.info("Payment cancelled.")},B=H=>{_({...p,[H.target.name]:H.target.value})},U=()=>{alert(" Please complete all delivery information before proceeding.")};return u?l.jsx(Ge,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(oh,{children:l.jsxs(ah,{children:[l.jsx(Ve,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(Ve,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(Ve,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(Ge,{sx:{mb:2},children:h.map((H,q)=>l.jsxs(Ge,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(Ve,{children:[H.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",H.quantity||1]})]}),l.jsxs(Ve,{fontWeight:500,children:["",H.price*(H.quantity||1)]})]},q))}),l.jsxs(jt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{children:"Subtotal:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ve,{fontWeight:500,children:["",E]})}),!x&&l.jsxs(l.Fragment,{children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{children:"Delivery Type:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsx(vR,{fullWidth:!0,size:"small",children:l.jsxs(eb,{value:I,onChange:H=>T(H.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(DS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(DS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{children:"Delivery Fee:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ve,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:g]})})]}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{color:k>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ve,{fontWeight:500,color:k>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:k]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{color:"primary",children:"Discount:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ve,{color:"primary",children:["-",Math.round((E+k+(n!=null&&n.removeDelivery?0:g))*(n.percent/100))]})})]}),l.jsx(jt,{item:!0,xs:7,children:l.jsx(Ve,{fontWeight:700,children:"Grand Total:"})}),l.jsx(jt,{item:!0,xs:5,children:l.jsxs(Ve,{fontWeight:700,children:["",N]})})]}),l.jsxs(Ge,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(Vn,{size:"small",label:"Coupon code",value:t,onChange:H=>e(H.target.value),sx:{mr:1,flex:1}}),l.jsx(Bn,{variant:"outlined",onClick:P,children:"Apply"})]}),i&&l.jsx(vS,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(vS,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(yR,{sx:{my:3}}),x?l.jsxs(l.Fragment,{children:[l.jsx(Ve,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Consultation Information"}),l.jsxs(jt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:p.address,onChange:B})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Age",name:"age",value:p.age,onChange:B,type:"number"})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:p.complaint,onChange:B,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ve,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(jt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:p.address,onChange:B})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"City",name:"city",value:p.city,onChange:B})}),l.jsx(jt,{item:!0,xs:12,sm:6,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"State",name:"state",value:p.state,onChange:B})}),l.jsx(jt,{item:!0,xs:12,children:l.jsx(Vn,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:p.instructions,onChange:B,multiline:!0,minRows:2})})]})]}),l.jsx(Ge,{sx:{mt:2,textAlign:"center"},children:j()?N>0?l.jsx(gq,{text:"Pay Now ",className:"paystack-button",...A,callback:V,close:F,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(Bn,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>V({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(Bn,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:U,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function _q(){const[t,e]=v.useState([]),[n,r]=v.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=v.useState(null);v.useEffect(()=>{const u=Rt(ze(te,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>u()},[]);const o=async u=>{if(u.preventDefault(),!n.code)return alert("Coupon code required");i?(await rn(De(te,"coupons",i),n),s(null)):await rs(ze(te,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=u=>{r({code:u.code,percent:u.percent,removePOM:!!u.removePOM,removeDelivery:!!u.removeDelivery}),s(u.id)},c=async u=>{window.confirm("Delete coupon?")&&await Fr(De(te,"coupons",u))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:u=>r({...n,code:u.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:u=>r({...n,percent:parseInt(u.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:u=>r({...n,removePOM:u.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:u=>r({...n,removeDelivery:u.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.code}),l.jsxs("td",{children:[u.percent,"%"]}),l.jsx("td",{children:u.removePOM?"Removed":"-"}),l.jsx("td",{children:u.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(u),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>c(u.id),children:"Delete"})]})]},u.id))})]})]})}function wq(){const[t,e]=v.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=v.useState([]),[i,s]=v.useState(null),[o,a]=v.useState({}),[c,u]=v.useState(!1),[f,h]=v.useState("");v.useEffect(()=>{const g=Rt(ze(te,"deliveryAgents"),b=>{r(b.docs.map(k=>({id:k.id,...k.data()})))});return()=>g()},[]),v.useEffect(()=>{async function g(){const b=br(ze(te,"deliveryAgents"));(await Ht(b)).forEach(async M=>{typeof M.data().approved>"u"&&await De(te,"deliveryAgents",M.id).update({approved:!1})})}g()},[]);const m=g=>{a({...o,[g.target.name]:g.target.value})},E=g=>{s(g.id),a(g)},C=async g=>{await rn(De(te,"deliveryAgents",g),o),s(null),a({})},x=async g=>{window.confirm("Delete this delivery agent?")&&await Fr(De(te,"deliveryAgents",g))},I=async g=>{u(!0),h(""),await rn(De(te,"deliveryAgents",g),{approved:!0}),u(!1),h("Agent approved and now visible to public.")},T=async g=>{u(!0),h(""),await rn(De(te,"deliveryAgents",g),{approved:!1}),u(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[c&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(g=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===g.id?l.jsxs("form",{onSubmit:b=>{b.preventDefault(),C(g.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(_e.Fragment,{children:[l.jsx("img",{src:g.logoUrl,alt:g.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:g.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:g.businessAddress}),l.jsxs("div",{children:["RC Number: ",g.rcNumber]}),l.jsxs("div",{children:["Phone: ",g.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",g.whatsappNumber]}),l.jsxs("div",{children:["Email: ",g.email]}),l.jsxs("div",{children:["Coverage: ",g.coverageArea]}),l.jsxs("div",{children:["Hours: ",g.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(g),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>x(g.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!g.approved&&l.jsx("button",{onClick:()=>I(g.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),g.approved&&l.jsx("button",{onClick:()=>T(g.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),g.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},g.id))]})})}function Sq(){const[t,e]=v.useState([]);v.useEffect(()=>{(async()=>{try{const se=await Ht(ze(te,"deliveryAgents"));e(se.docs.map(fe=>({id:fe.id,...fe.data()})))}catch{e([])}})()},[]);const[n,r]=v.useState({}),i=async(O,se)=>{try{const fe=t.find(ut=>ut.id===se),qe=(fe==null?void 0:fe.userId)||"";await rn(De(te,"orders",O),{riderId:qe,assignedAgentId:qe,assignedAgentName:fe?fe.companyName||fe.name||fe.email||fe.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(ut=>({...ut,[O]:!1})),je.success("Order reassigned successfully.")}catch{je.error("Failed to reassign order.")}},s=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await rn(De(te,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),je.success("Order cancelled.")}catch{je.error("Failed to cancel order.")}},[o,a]=v.useState({pending:!0,completed:!0,cancelled:!0}),[c,u]=v.useState(""),[f,h]=v.useState(""),[m,E]=v.useState(""),[C,x]=v.useState(""),[I,T]=v.useState({}),[g,b]=v.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,w]=_e.useState(null);if(v.useEffect(()=>{Ma(async()=>{const{getAuth:O,onAuthStateChanged:se}=await Promise.resolve().then(()=>ck);return{getAuth:O,onAuthStateChanged:se}},void 0).then(({getAuth:O,onAuthStateChanged:se})=>{const fe=O();se(fe,async qe=>{if(qe){const{getDoc:ut,doc:at}=await Ma(async()=>{const{getDoc:dt,doc:Pr}=await Promise.resolve().then(()=>ux);return{getDoc:dt,doc:Pr}},void 0),{db:Et}=await Ma(async()=>{const{db:dt}=await Promise.resolve().then(()=>F3);return{db:dt}},void 0),Be=await ut(at(Et,"users",qe.uid));w(Be.exists()?Be.data().role:null)}else w(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,_]=v.useState([]);v.useEffect(()=>{const O=Rt(ze(te,"businessRegistrations"),se=>{_(se.docs.map(fe=>({id:fe.id,...fe.data()})))});return()=>O()},[]);const S=async(O,se)=>{if(await rn(De(te,"businessRegistrations",O.id),{status:se}),se==="declined"){const fe=br(ze(te,"orders"),_r("userId","==",O.businessId),_r("items","array-contains-any",O.cart)),qe=await Ht(fe);for(const ut of qe.docs)await rn(De(te,"orders",ut.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}je.info(`Registration ${se}`)},[P,j]=v.useState(""),[A,V]=v.useState(""),[F,B]=v.useState(""),[U,D]=v.useState(""),[z,K]=v.useState(""),H=()=>{let O=Z;P&&(O=O.filter(Be=>new Date(Be.completedAt||Be.date)>=new Date(P))),A&&(O=O.filter(Be=>new Date(Be.completedAt||Be.date)<=new Date(A))),F&&(O=O.filter(Be=>Be.medicVerifiedBy===F)),U&&(O=O.filter(Be=>Be.items&&Be.items.some(dt=>dt.name&&dt.name.toLowerCase().includes(U.toLowerCase())))),z==="true"&&(O=O.filter(Be=>Be.items&&Be.items.some(dt=>dt.isPOM))),z==="false"&&(O=O.filter(Be=>Be.items&&!Be.items.some(dt=>dt.isPOM)));const se=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],fe=O.map(Be=>[Be.id,new Date(Be.completedAt||Be.date).toLocaleString(),Xe[Be.userId]&&Xe[Be.userId].email?Xe[Be.userId].email:Be.userId,Be.medicVerifiedBy?(Ce.concat(Fe).find(dt=>dt.id===Be.medicVerifiedBy)||{}).name||Be.medicVerifiedBy:"",Be.total||Rr(Be.items||[]),Be.items?Be.items.map(dt=>`${dt.name} (${dt.quantity||1})`).join("; "):"",Be.items?Be.items.filter(dt=>dt.isPOM).map(dt=>dt.name).join("; "):""]),qe=[se,...fe].map(Be=>Be.map(dt=>`"${String(dt).replace(/"/g,'""')}"`).join(",")).join(`\r
`),ut=new Blob([qe],{type:"text/csv"}),at=URL.createObjectURL(ut),Et=document.createElement("a");Et.href=at,Et.download=`orders_${Date.now()}.csv`,document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(at)},[q,Q]=v.useState(""),[ee,de]=v.useState(null),[me,G]=v.useState(null),[re,W]=v.useState([]),[ce,ne]=v.useState([]),[ie,ge]=v.useState(""),[xe,we]=v.useState([]),[Ee,et]=v.useState([]),[Te,X]=v.useState("products"),[ae,Re]=v.useState({}),[Pe,Ne]=v.useState(null),[ve,ct]=v.useState(!0),[Ce,be]=v.useState([]),[Fe,Ie]=v.useState([]),[St,At]=v.useState(""),[tt,Ae]=v.useState("date-desc"),ot=Wr();v.useEffect(()=>{const O=Ii(ot,async se=>{if(se){de(se);const fe=await hn(De(te,"users",se.uid));G(fe.exists()?fe.data():{role:"customer"})}else de(null),G(null)});return()=>O()},[ot]),v.useEffect(()=>{const O=Rt(ze(te,"products"),fe=>W(fe.docs.map(qe=>({id:qe.id,...qe.data()})))),se=Rt(ze(te,"batches"),fe=>{ne(fe.docs.map(qe=>({id:qe.id,...qe.data()}))),ct(!1)});return()=>{O(),se()}},[]),v.useEffect(()=>{if(!me)return;const O=Rt(ze(te,"users"),se=>we(se.docs.map(fe=>({id:fe.id,...fe.data()}))));return()=>O()},[me]),v.useEffect(()=>{const O=Rt(ze(te,"orders"),se=>{const fe=se.docs.map(qe=>({id:qe.id,...qe.data()}));fe.sort((qe,ut)=>new Date(ut.date)-new Date(qe.date)),et(fe)});return()=>O()},[]);const Xe={};xe.forEach(O=>Xe[O.id]=O);const Ir=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await Fr(De(te,"products",O.id)),je.success("Medicine deleted.")}catch(se){console.error(se),je.error("Error deleting medicine")}},cs=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let se of O.medicineIds)await Fr(De(te,"products",se));await Fr(De(te,"batches",O.id))}catch(se){console.error(se),alert("Error deleting batch")}},eo=async(O,se)=>{try{await rn(De(te,"users",O),{role:se}),alert("Role updated!")}catch(fe){console.error(fe),alert("Error updating role")}},kr=O=>Re(se=>({...se,[O]:!se[O]}));v.useEffect(()=>{Ht(ze(te,"verifyMedics")).then(O=>{be(O.docs.map(se=>({id:se.id,...se.data(),type:"Prescription Verification"})))}),Ht(ze(te,"consultMedics")).then(O=>{Ie(O.docs.map(se=>({id:se.id,...se.data(),type:"Consultation"})))})},[]);const si=async O=>{var qe;const se=(qe=O.items)==null?void 0:qe.some(ut=>ut.isPOM);let fe=null;if(se){if(!q)return alert("Select a verifying medic before completing POM order.");fe=q}window.confirm("Mark order as completed?")&&(await rn(De(te,"orders",O.id),{status:"Completed",completedBy:ee.uid,completedAt:new Date().toISOString(),medicVerifiedBy:fe||null}),alert(" Order marked completed"),Q(""))},Rr=O=>O.reduce((se,fe)=>se+fe.price*(fe.quantity||1),0);if(!ee)return l.jsx("p",{children:"Please log in to access admin."});if(!me)return l.jsx("p",{children:"Loading user data..."});if(me.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(ve)return l.jsx("p",{children:"Loading dashboard..."});const us=Ee.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var fe,qe;if(!St)return!0;const se=St.toLowerCase();return(((fe=Xe[O.userId])==null?void 0:fe.email)||O.userId).toLowerCase().includes(se)||((qe=O.items)==null?void 0:qe.some(ut=>ut.name.toLowerCase().includes(se)))}).sort((O,se)=>tt==="date-desc"?new Date(se.date)-new Date(O.date):tt==="date-asc"?new Date(O.date)-new Date(se.date):tt==="amount-desc"?(se.total||0)-(O.total||0):tt==="amount-asc"?(O.total||0)-(se.total||0):0),Z=Ee.filter(O=>O.status==="Completed"),He=Z.filter(O=>{var fe,qe;if(!St)return!0;const se=St.toLowerCase();return(((fe=Xe[O.userId])==null?void 0:fe.email)||O.userId).toLowerCase().includes(se)||((qe=O.items)==null?void 0:qe.some(ut=>ut.name.toLowerCase().includes(se)))}).sort((O,se)=>tt==="date-desc"?new Date(se.completedAt||se.date)-new Date(O.completedAt||O.date):tt==="date-asc"?new Date(O.completedAt||O.date)-new Date(se.completedAt||se.date):tt==="amount-desc"?(se.total||0)-(O.total||0):tt==="amount-asc"?(O.total||0)-(se.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,se)=>{var fe,qe,ut,at,Et;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((fe=O.businessInfo)==null?void 0:fe.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((qe=O.businessInfo)==null?void 0:qe.email)||""]}),l.jsxs("p",{children:["Phone: ",((ut=O.businessInfo)==null?void 0:ut.phone)||""]}),l.jsxs("p",{children:["Address: ",((at=O.businessInfo)==null?void 0:at.address)||""]}),l.jsxs("p",{children:["Products: ",(Et=O.cart)==null?void 0:Et.map(Be=>Be.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>S(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>S(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>X("products"),style:ta(Te==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>X("users"),style:ta(Te==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>X("orders"),style:ta(Te==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>X("medics"),style:ta(Te==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>X("deliveryagents"),style:ta(Te==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>X("coupons"),style:ta(Te==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",ee.email]}),Te==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(wq,{})]})]})]}),Te==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:ie,onChange:O=>ge(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),ce.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:bg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ce.filter(O=>{var fe;return ie?(((fe=Xe[O.uploadedBy])==null?void 0:fe.businessName)||"").toLowerCase().includes(ie.toLowerCase()):!0}).map(O=>{var se,fe;return l.jsxs("tr",{style:_g,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((se=Xe[O.uploadedBy])==null?void 0:se.businessName)||O.uploadedBy}),l.jsx("td",{children:((fe=O.medicineIds)==null?void 0:fe.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>cs(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:c||"",onChange:O=>u(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>E(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(re.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:C||"",onChange:O=>x(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(re.map(O=>O.ownerId).filter(Boolean))].map(O=>{var se;return l.jsx("option",{value:O,children:((se=Xe[O])==null?void 0:se.businessName)||O},O)})]})]}),re.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:bg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:re.filter(O=>{var se,fe;return!(c&&!((se=O.name)!=null&&se.toLowerCase().includes(c.toLowerCase()))||f&&!((fe=O.ingredient)!=null&&fe.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||C&&O.ownerId!==C)}).map(O=>{var se;return l.jsxs("tr",{style:_g,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((se=Xe[O.ownerId])==null?void 0:se.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Ir(O),children:"Delete"})})]},O.id)})})]})]}),Te==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),xe.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:bg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:xe.map(O=>l.jsxs("tr",{style:_g,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:se=>eo(O.id,se.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Ne(O),children:"View Details"})})]},O.id))})]}),Pe&&l.jsx(Eq,{user:Pe,medicines:re.filter(O=>O.ownerId===Pe.id),orders:Ee.filter(O=>O.userId===Pe.id),onClose:()=>Ne(null)})]}),Te==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:St,onChange:O=>At(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:tt,onChange:O=>Ae(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:P,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:A,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ce,...Fe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>K(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:H,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),us.length===0?l.jsx("p",{children:"No pending orders."}):us.map(O=>{var oi,Gn,ln,en,Pi;const se=(oi=O.items)==null?void 0:oi.some(We=>We.isPOM),fe=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",qe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,ut=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let at="N/A",Et=null,Be=null;if(O.businessId&&Xe[O.businessId]){const We=Xe[O.businessId];at=`${We.address||""}, ${We.city||""}, ${We.state||""}`,Et=We.lat||null,Be=We.lng||null}const dt=ae[O.id]?I[O.id]?O.items:(Gn=O.items)==null?void 0:Gn.slice(0,3):[],Pr=O.items&&O.items.length>3;return l.jsxs("div",{style:wg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>kr(O.id),children:ae[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((ln=Xe[O.userId])==null?void 0:ln.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):fe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",qe&&ut?`${qe}, ${ut}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",at]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",Et&&Be?`${Et}, ${Be}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const We=O.riderId||O.assignedAgentId;let Vt=null;return We&&Xe[We]?(Vt=Xe[We],`${Vt.companyName||Vt.name||Vt.email||We}${Vt.phoneNumber||Vt.whatsappNumber?` (${[Vt.phoneNumber,Vt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):We&&t.length?(Vt=t.find(Wo=>Wo.id===We),Vt?`${Vt.companyName||Vt.name||Vt.id}${Vt.phoneNumber||Vt.whatsappNumber?` (${[Vt.phoneNumber,Vt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:We):We||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(We=>({...We,[O.id]:!We[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:We=>{We.target.value&&i(O.id,We.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(We=>l.jsxs("option",{value:We.id,children:[We.companyName||We.name||We.email||We.id,We.phoneNumber||We.whatsappNumber?` (${[We.phoneNumber,We.whatsappNumber].filter(Boolean).join(" / ")})`:""]},We.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),ae[O.id]&&((en=O.items)==null?void 0:en.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[O.id]?"none":120,overflowY:Pr&&!I[O.id]?"hidden":"auto",marginBottom:4},children:dt.map((We,Vt)=>l.jsxs("li",{children:[We.name," - ",We.price," x ",We.quantity||1]},Vt))}),Pr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>T(We=>({...We,[O.id]:!We[O.id]})),children:I[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Rr(O.items||[]),se&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),se&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:q,onChange:We=>Q(We.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Ce,...Fe].map(We=>l.jsxs("option",{value:We.id,children:[We.name," (",We.profession,") - ",We.type]},We.id))]})]}),l.jsx("button",{onClick:()=>si(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Pi=Ce.find(We=>We.id===O.medicVerifiedBy))==null?void 0:Pi.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:St,onChange:O=>At(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:tt,onChange:O=>Ae(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:P,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:A,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ce,...Fe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>K(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:H,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),He.length===0?l.jsx("p",{children:"No completed orders found."}):He.map(O=>{var Pr,oi,Gn,ln;const se=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",fe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,qe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ut="N/A",at=null,Et=null;if(O.businessId&&Xe[O.businessId]){const en=Xe[O.businessId];ut=`${en.address||""}, ${en.city||""}, ${en.state||""}`,at=en.lat||null,Et=en.lng||null}const Be=ae[O.id]?g[O.id]?O.items:(Pr=O.items)==null?void 0:Pr.slice(0,3):[],dt=O.items&&O.items.length>3;return l.jsxs("div",{style:wg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>kr(O.id),children:ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=Xe[O.userId])==null?void 0:oi.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):se]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",fe&&qe?`${fe}, ${qe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ut]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",at&&Et?`${at}, ${Et}`:"N/A"]}),ae[O.id]&&((Gn=O.items)==null?void 0:Gn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[O.id]?"none":120,overflowY:dt&&!g[O.id]?"hidden":"auto",marginBottom:4},children:Be.map((en,Pi)=>l.jsxs("li",{children:[en.name," - ",en.price," x ",en.quantity||1]},Pi))}),dt&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>b(en=>({...en,[O.id]:!en[O.id]})),children:g[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Rr(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((ln=Ce.concat(Fe).find(en=>en.id===O.medicVerifiedBy))==null?void 0:ln.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:St,onChange:O=>At(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:tt,onChange:O=>Ae(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:P,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:A,onChange:O=>V(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ce,...Fe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>K(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:H,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Ee.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):Ee.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var Pr,oi,Gn;const se=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",fe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,qe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ut="N/A",at=null,Et=null;if(O.businessId&&Xe[O.businessId]){const ln=Xe[O.businessId];ut=`${ln.address||""}, ${ln.city||""}, ${ln.state||""}`,at=ln.lat||null,Et=ln.lng||null}const Be=ae[O.id]?g[O.id]?O.items:(Pr=O.items)==null?void 0:Pr.slice(0,3):[],dt=O.items&&O.items.length>3;return l.jsxs("div",{style:wg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>kr(O.id),children:ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=Xe[O.userId])==null?void 0:oi.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):se]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",fe&&qe?`${fe}, ${qe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ut]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",at&&Et?`${at}, ${Et}`:"N/A"]}),ae[O.id]&&((Gn=O.items)==null?void 0:Gn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:g[O.id]?"none":120,overflowY:dt&&!g[O.id]?"hidden":"auto",marginBottom:4},children:Be.map((ln,en)=>l.jsxs("li",{children:[ln.name," - ",ln.price," x ",ln.quantity||1]},en))}),dt&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>b(ln=>({...ln,[O.id]:!ln[O.id]})),children:g[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Rr(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),Te==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(Cq,{})]}),Te==="coupons"&&l.jsx(_q,{})]})}const ta=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),bg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},_g={borderBottom:"1px solid #eee"},wg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function Eq({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function Cq(){const[t,e]=_e.useState([]),[n,r]=_e.useState([]),[i,s]=_e.useState([]),[o,a]=_e.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[c,u]=_e.useState(!1),[f,h]=_e.useState(null);_e.useEffect(()=>{(async()=>{const I=await Ht(ze(te,"verifyMedics"));e(I.docs.map(k=>({id:k.id,...k.data()})));const T=await Ht(ze(te,"consultMedics"));r(T.docs.map(k=>({id:k.id,...k.data()})));const g=await Ht(ze(te,"users")),b=[];g.docs.forEach(k=>{const M=k.data();M.role==="medicine-manager"&&M.pharmacist&&b.push({...M.pharmacist,id:k.id,online:!0})}),s(b)})()},[]);const m=async(x,I)=>{await rn(De(te,x==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),x==="verify"?e(g=>g.map(b=>b.id===I.id?{...b,online:!I.online}:b)):r(g=>g.map(b=>b.id===I.id?{...b,online:!I.online}:b))},E=x=>{a({...o,[x.target.name]:x.target.value})},C=async x=>{x.preventDefault(),u(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(g=>g.trim()),whatsapp:o.whatsapp},T=o.section==="verify"?"verifyMedics":"consultMedics";f?await rn(De(te,T,f.id),I):await rs(ze(te,T),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),u(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:C,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:c,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((x,I)=>(I.online===!0)-(x.online===!0)).map(x=>{let I=[];return Array.isArray(x.languages)?I=x.languages:typeof x.languages=="string"&&(I=x.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",x),title:x.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:x.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:x.photo,alt:x.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:x.name})}),l.jsx("div",{children:x.profession}),l.jsxs("div",{children:["Pharmacy: ",x.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",x.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${x.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:x.id,section:"verify"}),a({section:"verify",photo:x.photo,name:x.name,profession:x.profession,license:x.license,pharmacyName:x.pharmacyName,languages:Array.isArray(x.languages)?x.languages.join(", "):x.languages,whatsapp:x.whatsapp})},children:"Edit"})]},x.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((x,I)=>(I.online===!0)-(x.online===!0)).map(x=>{let I=[];return Array.isArray(x.languages)?I=x.languages:typeof x.languages=="string"&&(I=x.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",x),title:x.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:x.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:x.photo,alt:x.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:x.name})}),l.jsx("div",{children:x.profession}),l.jsxs("div",{children:["License: ",x.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${x.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:x.id,section:"consult"}),a({section:"consult",photo:x.photo,name:x.name,profession:x.profession,license:x.license,languages:Array.isArray(x.languages)?x.languages.join(", "):x.languages,whatsapp:x.whatsapp})},children:"Edit"})]},x.id)})})]})}function Tq(){const{slug:t}=du();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(oP,{storeSlug:t})]})}function Iq(){const[t,e]=v.useState([]),[n,r]=v.useState(!1),i=Cr(),s=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:S,photo:P}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!o)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[P&&l.jsx("img",{src:P,alt:S,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",S]})},[o,a]=v.useState(null),[c,u]=v.useState(null),f=Wr(),{slug:h}=du(),[m,E]=v.useState(null),[C,x]=v.useState(!0),[I,T]=v.useState([]),[g,b]=v.useState([]),[k,M]=v.useState(""),[N,w]=v.useState(null),p=(S,P,j,A)=>{const V=K=>K*Math.PI/180,B=V(j-S),U=V(A-P),D=Math.sin(B/2)**2+Math.cos(V(S))*Math.cos(V(j))*Math.sin(U/2)**2;return 6371*(2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D)))},_=S=>{const A=S*1.64,V=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:V}};return v.useEffect(()=>{const S=Ii(f,P=>{a(P)});return()=>S()},[f]),v.useEffect(()=>{if(!m||!o||o.uid!==m.uid)return;const S=Rt(ze(te,"orders"),P=>{const V=P.docs.map(F=>({id:F.id,...F.data()})).filter(F=>Array.isArray(F.items)&&F.items.some(B=>B.ownerId===m.uid)).filter(F=>!t.includes(F.id));V.length>0&&(V.forEach(F=>{je.info(` New order received! Order ID: ${F.id}`)}),e(F=>[...F,...V.map(B=>B.id)]))});return()=>S()},[m,o,t]),v.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(S=>w({lat:S.coords.latitude,lng:S.coords.longitude}),()=>w(null))},[]),v.useEffect(()=>{if(!h)return;x(!0),(async()=>{const P=br(ze(te,"users"),_r("slug","==",h)),j=await Ht(P);if(j.empty)E(null);else{const A=j.docs[0];E({uid:A.id,...A.data()})}x(!1)})()},[h]),v.useEffect(()=>{if(!m)return;const S=br(ze(te,"products"),_r("ownerId","==",m.uid)),P=Rt(S,j=>{const A=j.docs.map(V=>({id:V.id,...V.data()}));T(A)});return()=>P()},[m]),v.useEffect(()=>{if(!I)return;const S=(F="")=>F.toLowerCase().trim().replace(/\s+/g," "),P={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=S(k),A=(P[j]||j).split(" "),V=I.map(F=>{var B,U;if(N&&((B=m.location)!=null&&B.latitude)&&((U=m.location)!=null&&U.longitude)){const D=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:z}=_(D);return{...F,minutesAway:z}}return{...F,minutesAway:1/0}}).filter(F=>{const B=S(F.name),U=S(F.ingredient),D=S(F.class);return A.some(z=>B.includes(z)||U.includes(z)||D.includes(z))}).sort((F,B)=>F.minutesAway-B.minutesAway);b(V)},[I,k,N,m]),C?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(s,{}),l.jsxs("h2",{children:[" ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:k,onChange:S=>M(S.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),g.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:g.map(S=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[S.image&&l.jsx("img",{src:S.image,alt:S.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:S.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:S.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",S.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",S.price!==void 0?S.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!o)return alert("Please log in first");const P=De(te,"carts",o.uid),j=await hn(P);let A=j.exists()?j.data().items||[]:[];const V=A.findIndex(F=>F.name===S.name);V>=0?A[V].quantity+=1:A.push({...S,quantity:1}),await wr(P,{items:A}),u(S.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),c===S.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),S.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:S.minutesAway<=1?" Right here":` ~${S.minutesAway} mins away`})]},S.id))})]})}function gn(){return typeof window<"u"&&window.innerWidth<=600}function kq(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState("");if(v.useEffect(()=>{async function a(){const c=await Ht(ze(te,"users")),u=[];c.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&u.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(u),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:gn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:gn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:gn()?15:16,width:gn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:gn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:gn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:gn()?14:32},children:o.map(a=>l.jsxs(zh,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:gn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:gn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:gn()?50:80,height:gn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:gn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:gn()?50:80,height:gn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:gn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:gn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:gn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:gn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:gn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const Rq=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),c=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},Pq=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},nE=["admin","medicine-manager","distributor"],rE=["admin","distributor"];function Aq(){const[t,e]=v.useState(null),[n,r]=v.useState(null),[i,s]=v.useState("shop"),[o,a]=v.useState([]),[c,u]=v.useState([]),[f,h]=v.useState(""),[m,E]=v.useState(null),[C,x]=v.useState(null);v.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(b=>E({lat:b.coords.latitude,lng:b.coords.longitude}),()=>E("denied"))},[]),v.useEffect(()=>{const b=Rt(ze(te,"products"),async k=>{const M=await Promise.all(k.docs.map(async N=>{var p,_;const w={id:N.id,...N.data()};if(w.ownerId){const S=De(te,"users",w.ownerId),P=await hn(S);if(P.exists()){const j=P.data();w.businessName=j.businessName||"Unknown Distributor",w.ownerSlug=j.slug||null,w.ownerRole=j.role||null,(p=j.location)!=null&&p.latitude&&((_=j.location)!=null&&_.longitude)&&(w.businessLat=j.location.latitude,w.businessLng=j.location.longitude)}}return w}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>b()},[]),v.useEffect(()=>{if(o.length===0)return;let b=o;if(f.trim()){const k=f.toLowerCase();b=o.filter(M=>M.name&&M.name.toLowerCase().includes(k)||M.ingredient&&M.ingredient.toLowerCase().includes(k)||M.class&&M.class.toLowerCase().includes(k))}m&&m!=="denied"&&(b=b.map(k=>{if(k.businessLat&&k.businessLng){const M=Rq(m.lat,m.lng,k.businessLat,k.businessLng),{minutes:N}=Pq(M);return{...k,minutesAway:N}}return{...k,minutesAway:1/0}}),b.sort((k,M)=>k.minutesAway-M.minutesAway)),u(b)},[o,f,m]);const I=async b=>{if(!t)return alert("Please login first");try{const k=De(te,"carts",t.uid),M=await hn(k);let N=[];M.exists()&&(N=M.data().items||[]);const w=N.findIndex(p=>p.id===b.id);w>=0?N[w].quantity+=1:N.push({...b,quantity:1}),await wr(k,{items:N}),x(`Added ${b.name} to cart!`),setTimeout(()=>x(null),1500)}catch{alert("Error adding to cart")}};if(v.useEffect(()=>{const b=Wr(),k=Ii(b,async M=>{if(!M){e(null),r(null);return}e(M);const N=De(te,"users",M.uid),w=await hn(N);r(w.exists()?w.data().role:null)});return()=>k()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!nE.includes(n)&&!rE.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const T=nE.includes(n),g=rE.includes(n);return i==="shop"&&!T||i==="add"&&!g?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[T&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),g&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&T&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:b=>h(b.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),C&&l.jsx("div",{style:{color:"green",marginBottom:10},children:C}),c.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:c.map(b=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[b.registeredOnly&&b.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),b.image&&l.jsx("img",{src:b.image,alt:b.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:b.name}),l.jsx("p",{children:l.jsx("em",{children:b.ingredient})}),l.jsxs("p",{children:["Class: ",b.class]}),l.jsxs("p",{children:["Price: ",b.price]}),Array.isArray(b.moqs)&&b.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",b.moqs.map((k,M)=>l.jsx("span",{style:{marginRight:8},children:k.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",b.businessName]}),b.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:b.minutesAway<=1?" Right here":` ~${b.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(b),children:"Add to Cart"})]},b.id))})]}),i==="add"&&g&&l.jsx(jq,{user:t,role:n})]})}function jq({user:t,role:e}){const[n,r]=_e.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=_e.useState([]),[o,a]=_e.useState(!1);_e.useEffect(()=>{if(e!=="distributor")return;const D=Rt(ze(te,"businessRegistrations"),z=>{s(z.docs.filter(K=>K.data().distributorId===t.uid&&K.data().status==="approved").map(K=>K.data()))});return()=>D()},[t,e]);const c=(D,z)=>{const K=n.moqs.map((H,q)=>q===D?{type:z.target.value}:H);r({...n,moqs:K})},u=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=D=>{r({...n,moqs:n.moqs.filter((z,K)=>K!==D)})},[h,m]=_e.useState(null),[E,C]=_e.useState([]),[x,I]=_e.useState([]),[T,g]=_e.useState([]),[b,k]=_e.useState(!1),[M,N]=_e.useState(null),[w,p]=_e.useState(null);_e.useEffect(()=>{if(!t)return;const D=Rt(ze(te,"products"),z=>{let K=z.docs.map(H=>({id:H.id,...H.data()}));_()||(K=K.filter(H=>H.ownerId===t.uid)),C(K)});return()=>D()},[t]),_e.useEffect(()=>{if(!t)return;const D=Rt(ze(te,"batches"),z=>{let K=z.docs.map(H=>({id:H.id,...H.data()}));_()||(K=K.filter(H=>H.uploadedBy===t.uid)),I(K)});return()=>D()},[t]);function _(){var D;return(D=t==null?void 0:t.email)==null?void 0:D.includes("admin")}const S=D=>r({...n,[D.target.name]:D.target.value}),P=async()=>{const D=!n.registeredOnly;if(r({...n,registeredOnly:D}),e==="distributor"&&(t!=null&&t.uid)){const z=ze(te,"products"),K=await getDocs(z),H=[];K.docs.forEach(q=>{if(q.data().ownerId===t.uid){const ee={registeredOnly:D};D?ee.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:ee.registeredUniqueId=null,H.push(updateDoc(De(te,"products",q.id),ee))}}),await Promise.all(H),window.location.reload()}},j=async D=>{D.preventDefault(),k(!0),p(null),N(null);try{let z=e,K=null,H=null;if(e==="distributor"){const Q=De(te,"users",t.uid),ee=await hn(Q);ee.exists()&&(K=ee.data().slug||ee.data().businessSlug||null),n.registeredOnly&&(H=`${t.uid}_${Date.now()}`)}const q={...n,ownerId:t.uid,ownerRole:z,ownerSlug:K};H&&(q.registeredUniqueId=H),h?(await wr(De(te,"products",h),q,{merge:!0}),m(null),N("Medicine updated!")):(await rs(ze(te,"products"),q),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}k(!1)},A=D=>{r({name:D.name,ingredient:D.ingredient,class:D.class,price:D.price,image:D.image||"",moqs:D.moqs||[{type:"sachet",value:"",price:""}]}),m(D.id)},V=async D=>{if(window.confirm("Delete this medicine?")){k(!0);try{await Fr(De(te,"products",D.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}k(!1)}},F=D=>{const z=D.target.files[0];z&&lP.parse(z,{header:!0,skipEmptyLines:!0,complete:K=>{g(K.data)},error:()=>p("Failed to parse CSV")})},B=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!T.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),k(!1);return}k(!0),p(null),N(null);const D=De(ze(te,"batches")),z=[];let K=e,H=null;if(e==="distributor"){const q=De(te,"users",t.uid),Q=await hn(q);Q.exists()&&(H=Q.data().slug||Q.data().businessSlug||null)}for(let q of T)try{let Q=[];if(q.moqs)try{Q=JSON.parse(q.moqs)}catch{}let ee=null;e==="distributor"&&q.registeredOnly===!0&&(ee=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const de=await rs(ze(te,"products"),{name:q.name,ingredient:q.ingredient,class:q.class,price:parseInt(q.price,10)||0,image:q.image||"",batchId:D.id,ownerId:t.uid,ownerRole:K,ownerSlug:H,moqs:Q,registeredOnly:!!q.registeredOnly,...ee?{registeredUniqueId:ee}:{}});z.push(de.id)}catch{}await wr(D,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:z}),N(`${z.length} medicines uploaded`),g([]),k(!1)},U=async D=>{if(window.confirm("Delete this batch and its medicines?")){k(!0);try{for(let z of D.medicineIds)await Fr(De(te,"products",z));await Fr(De(te,"batches",D.id)),N("Batch deleted")}catch{p("Error deleting batch")}k(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(D=>!D),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((D,z)=>{var K,H,q;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((K=D.businessInfo)==null?void 0:K.businessName)||D.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((H=D.businessInfo)==null?void 0:H.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((q=D.businessInfo)==null?void 0:q.phone)||""})]},z)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:S,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:S,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:S,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:S,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:S,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:P,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((D,z)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:D.type,onChange:K=>c(z,K),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(z),style:{color:"red"},children:""})]},z)),l.jsx("button",{type:"button",onClick:u,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:b,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),T.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:B,disabled:b,children:["Submit CSV (",T.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",_()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:D.ingredient}),l.jsx("td",{children:D.class}),l.jsx("td",{children:D.price}),l.jsx("td",{children:Array.isArray(D.moqs)&&D.moqs.length>0?D.moqs.map((z,K)=>l.jsx("span",{style:{marginRight:8},children:z.type},K)):"-"}),l.jsx("td",{children:D.image&&l.jsx("img",{src:D.image,alt:D.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(D),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>V(D),children:"Delete"})]})]},D.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",_()&&"(All Users)"]}),x.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:x.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:new Date(D.date).toLocaleString()}),l.jsx("td",{children:D.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>U(D),children:"Delete Batch"})})]},D.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),w&&l.jsx("div",{style:{color:"red",marginTop:10},children:w})]})}function iE({medics:t}){const e=Cr();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(s=>s.trim()).filter(Boolean));const i=()=>{e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:i,children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:n.name}),l.jsx("div",{children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:n.pharmacyName}),l.jsxs("div",{children:["License: ",n.license]}),l.jsxs("div",{children:["Languages: ",r.join(", ")]})]},n.id)})})}function Oq(){const[t,e]=v.useState([]),[n,r]=v.useState([]),[i,s]=v.useState("verify"),[o,a]=v.useState("");return v.useEffect(()=>{(async()=>{let f=(await Ht(ze(te,"verifyMedics"))).docs.map(E=>({id:E.id,...E.data()}));(await Ht(ze(te,"users"))).docs.forEach(E=>{const C=E.data();C.role==="medicine-manager"&&C.pharmacist&&f.push({...C.pharmacist,id:E.id,online:!0})}),e(f);const m=await Ht(ze(te,"consultMedics"));r(m.docs.map(E=>({id:E.id,...E.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:c=>a(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(iE,{medics:t.filter(c=>{var m,E;const u=((m=c.name)==null?void 0:m.toLowerCase())||"",f=((E=c.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return u.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(iE,{medics:n.filter(c=>{var m,E;const u=((m=c.name)==null?void 0:m.toLowerCase())||"",f=((E=c.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return u.includes(h)||f.includes(h)})})]})]})}var ob={},Nq=Du;Object.defineProperty(ob,"__esModule",{value:!0});var dP=ob.default=void 0,Mq=Nq(ib()),Lq=l,Dq=(0,Mq.default)((0,Lq.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");dP=ob.default=Dq;var ab={},$q=Du;Object.defineProperty(ab,"__esModule",{value:!0});var fP=ab.default=void 0,Fq=$q(ib()),zq=l,Vq=(0,Fq.default)((0,zq.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");fP=ab.default=Vq;const Bq="/psx_logo.svg",Uq=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function Wq(){const t=Cr();return l.jsx(lV,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(WW,{sx:{minWidth:0,p:0},children:l.jsxs(Ge,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:0},children:[l.jsx(Ge,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer"},onClick:()=>t("/"),children:l.jsx("img",{src:Bq,alt:"Logo",style:{height:40}})}),l.jsxs(Ge,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1.2,md:2},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"}},children:[Uq.map(e=>l.jsx(Ve,{component:zh,to:e.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.2,sm:1},fontSize:{xs:13,sm:15,md:16},px:{xs:.5,sm:1},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap"},children:e.label},e.to)),l.jsx(dv,{color:"inherit",onClick:()=>t("/cart"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(dP,{fontSize:"small"})}),l.jsx(dv,{color:"inherit",onClick:()=>t("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(fP,{fontSize:"small"})})]})]})})})}function Hq(){const[t,e]=v.useState(null),[n,r]=v.useState([]),[i,s]=v.useState("");function o(G){if(!i.trim())return G;const re=i.trim().toLowerCase();return G.filter(W=>{var Ee,et,Te,X,ae,Re,Pe,Ne,ve,ct,Ce,be,Fe,Ie,St,At;const ce=(((Ee=E[W.userId])==null?void 0:Ee.email)||"").toLowerCase(),ne=(W.items&&W.items[0]&&((et=u[W.items[0].ownerId])==null?void 0:et.name)||"").toLowerCase(),ie=((((Te=W.deliveryInfo)==null?void 0:Te.address)||"")+" "+(((X=W.deliveryInfo)==null?void 0:X.city)||"")+" "+(((ae=W.deliveryInfo)==null?void 0:ae.state)||"")).toLowerCase(),ge=W.items&&W.items[0]&&((((Re=u[W.items[0].ownerId])==null?void 0:Re.address)||"")+" "+(((Pe=u[W.items[0].ownerId])==null?void 0:Pe.city)||"")+" "+(((Ne=u[W.items[0].ownerId])==null?void 0:Ne.state)||"")).toLowerCase()||"",xe=[(ve=W.deliveryInfo)==null?void 0:ve.lat,(ct=W.deliveryInfo)==null?void 0:ct.lng,(Fe=u[(be=(Ce=W.items)==null?void 0:Ce[0])==null?void 0:be.ownerId])==null?void 0:Fe.lat,(At=u[(St=(Ie=W.items)==null?void 0:Ie[0])==null?void 0:St.ownerId])==null?void 0:At.lng].filter(Boolean).join(",").toLowerCase(),we=(W.items||[]).map(tt=>tt.name).join(", ").toLowerCase();return ce.includes(re)||ne.includes(re)||ie.includes(re)||ge.includes(re)||xe.includes(re)||we.includes(re)})}const[a,c]=_e.useState("processing"),[u,f]=v.useState({});v.useEffect(()=>{const G=Rt(ze(te,"users"),re=>{const W={};re.docs.forEach(ce=>{const ne=ce.data();ne.role==="medicine-manager"&&(W[ce.id]={name:ne.businessName||ce.id,address:ne.businessAddress||ne.address||"-",lat:ne.lat||ne.latitude||null,lng:ne.lng||ne.longitude||null})}),f(W)});return()=>G()},[]);const[h,m]=v.useState(!0);v.useEffect(()=>{const G=Wr(),re=Ii(G,W=>{e(W),m(!1)});return()=>re()},[]),v.useEffect(()=>{if(h||!t)return;const G=Rt(ze(te,"orders"),re=>{const ne=re.docs.map(ie=>({id:ie.id,...ie.data()})).filter(ie=>ie.status==="Processing"&&!ie.assignedAgentId&&ie.deliveryType&&ie.deliveryType.toLowerCase()==="express").filter(ie=>!n.includes(ie.id));ne.length>0&&(ne.forEach(ie=>{je.info(` New express delivery order! Order ID: ${ie.id}`)}),r(ie=>[...ie,...ne.map(ge=>ge.id)]))});return()=>G()},[h,t,n]);const[E,C]=v.useState({});v.useEffect(()=>{const G=Rt(ze(te,"users"),re=>{const W={};re.docs.forEach(ce=>{const ne=ce.data();W[ce.id]=ne.email||ce.id}),C(W)});return()=>G()},[]);const[x,I]=v.useState([]),[T,g]=v.useState([]),[b,k]=v.useState([]),[M,N]=v.useState(()=>{const G=localStorage.getItem("agentCanceledOrders");return G?JSON.parse(G):[]}),[w,p]=v.useState({}),[_,S]=v.useState({}),[P,j]=v.useState(null),{slug:A}=du(),[V,F]=v.useState(null),[B,U]=v.useState(!1),[D,z]=v.useState(!0),[K,H]=v.useState("availability");v.useEffect(()=>{if(h||!t)return;const G=Rt(ze(te,"orders"),re=>{const W=re.docs.map(ce=>({id:ce.id,...ce.data()}));I(W.filter(ce=>ce.status==="Completed"&&ce.assignedAgentId===t.uid)),k(W.filter(ce=>ce.status==="In-Progress"&&ce.assignedAgentId===t.uid)),g(W.filter(ce=>ce.status==="Processing"&&!ce.assignedAgentId&&!M.some(ne=>ne.id===ce.id)&&ce.deliveryType&&ce.deliveryType.toLowerCase()==="express"))});return()=>G()},[h,t,M]);const q=async G=>{j(G);try{await rn(De(te,"orders",G),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:V.slug,assignedAgentName:V.companyName,companyName:V.companyName,agentPhoneNumber:V.phoneNumber||"",agentWhatsappNumber:V.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),je.success("Order accepted!")}catch{je.error("Failed to accept order")}j(null)},Q=async G=>{try{await rn(De(te,"orders",G),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),je.success("Order marked as delivered!")}catch{je.error("Failed to mark as delivered")}},ee=async G=>{try{await rn(De(te,"orders",G),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),je.info("Order moved back to processing.")}catch{je.error("Failed to move order back to processing")}},de=G=>{const re=T.find(W=>W.id===G)||b.find(W=>W.id===G);re&&(N(W=>{const ce=[...W,re];return localStorage.setItem("agentCanceledOrders",JSON.stringify(ce)),ce}),c("canceled"))};v.useEffect(()=>{const G=re=>{re.key==="agentCanceledOrders"&&N(re.newValue?JSON.parse(re.newValue):[])};return window.addEventListener("storage",G),()=>window.removeEventListener("storage",G)},[]);const me=async()=>{if(V){U(!0);try{const G=De(te,"deliveryAgents",V.id);await rn(G,{available:!V.available}),F({...V,available:!V.available}),je.success("Availability updated.")}catch{je.error("Failed to update availability")}U(!1)}};return v.useEffect(()=>{async function G(){z(!0);const W=(await Ht(ze(te,"deliveryAgents"))).docs.map(ie=>ie.data());console.log("All agent slugs:",W.map(ie=>ie.slug));const ce=br(ze(te,"deliveryAgents"),_r("slug","==",A),_r("approved","==",!0)),ne=await Ht(ce);ne.empty?F(null):F({id:ne.docs[0].id,...ne.docs[0].data()}),z(!1)}G()},[A]),D||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):V?!t||t.uid!==V.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:V.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:V.companyName}),l.jsxs("div",{children:["Phone: ",V.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",V.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",V.rcNumber]}),l.jsxs("div",{children:["Address: ",V.businessAddress]}),l.jsxs("div",{children:["Email: ",V.email]}),l.jsxs("div",{children:["Coverage: ",V.coverageArea]}),l.jsxs("div",{children:["Hours: ",V.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:K==="availability"?"2px solid #1976d2":"1px solid #ccc",background:K==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:K==="orders"?"2px solid #1976d2":"1px solid #ccc",background:K==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>H("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[K==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",V.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:me,disabled:B,children:V.available?"Set Not Available":"Set Available"})]})]}),K==="orders"&&(V.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:G=>s(G.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>c("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>c("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>c("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>c("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(M).map(G=>{var re;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ce}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ce}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(re=G.items)==null?void 0:re.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},G.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(T).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(T).map(G=>{var re;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof G.deliveryType," | ",JSON.stringify(G.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ce}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;let ie=W.lat,ge=W.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ce}),ie&&ge?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ie,", ",ge]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(re=G.items)==null?void 0:re.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>q(G.id),disabled:P===G.id,children:P===G.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>de(G.id),children:"Cancel Order"})]})]},G.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(b).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(b).map(G=>{var ne;const re=!!w[G.id],W=!!_[G.id],ce=async()=>{await Q(G.id),p(ie=>({...ie,[G.id]:!0})),S(ie=>({...ie,[G.id]:!0})),setTimeout(()=>S(ie=>({...ie,[G.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const ie=u[G.items[0].ownerId],ge=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,xe=!ie.address&&!ie.city&&!ie.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:ie.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:xe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ge}),ie.lat&&ie.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",ie.lat,", ",ie.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const ie=G.deliveryInfo||{},ge=`${ie.address||""}, ${ie.city||""}, ${ie.state||""}`,xe=!ie.address&&!ie.city&&!ie.state;let we=ie.lat,Ee=ie.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:xe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ge}),we&&Ee?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",we,", ",Ee]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=G.items)==null?void 0:ne.map(ie=>`${ie.name} x${ie.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:re?"not-allowed":"pointer",opacity:re?.5:1},onClick:ce,disabled:re,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:re?"not-allowed":"pointer",opacity:re?.5:1},onClick:()=>ee(G.id),disabled:re,children:"Failed"})]}),W&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),re&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},G.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(x).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(x).map(G=>{var re;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",G.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),G.items&&G.items.length>0&&u[G.items[0].ownerId]&&(()=>{const W=u[G.items[0].ownerId],ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ce}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:G.customerName||E[G.userId]||G.userId}),(()=>{const W=G.deliveryInfo||{},ce=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ne=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ne?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ce}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[G.userId]&&E[G.userId].lat&&E[G.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[G.userId].lat,", ",E[G.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(re=G.items)==null?void 0:re.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:G.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",G.completedAt?new Date(G.completedAt).toLocaleString():"-"]})]},G.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function sE(){const[t,e]=v.useState([]),[n,r]=v.useState(!0);return v.useEffect(()=>{async function i(){r(!0);const s=br(ze(te,"deliveryAgents"),_r("approved","==",!0)),o=await Ht(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(zh,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const qq=Bx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function Kq(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function Gq(){var p,_;const{businessId:t}=du(),e=Ys(),n=Cr(),[r,i]=v.useState(null),[s,o]=v.useState(null),[a,c]=v.useState([]),[u,f]=v.useState(""),[h,m]=v.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,C]=v.useState(((_=e.state)==null?void 0:_.businessName)||"Pharmacy"),[x,I]=v.useState(null),[T,g]=v.useState(null),[b,k]=v.useState(!1),M=v.useRef(null);v.useEffect(()=>{const S=Wr(),P=Ii(S,j=>{j?i(j):n("/auth")});return()=>P()},[n]),v.useEffect(()=>{h&&E||t&&hn(De(te,"users",t)).then(S=>{if(S.exists()){const P=S.data();m(P.pharmacist||null),C(P.businessName||"Pharmacy")}})},[t,h,E]),v.useEffect(()=>{if(!r||!t)return;const S=ze(te,"chats"),P=br(S,_r("participants","array-contains",r.uid));Ht(P).then(j=>{let A=null;j.forEach(V=>{V.data().participants.includes(t)&&(A=V.id)}),A?o(A):rs(S,{participants:[r.uid,t],createdAt:Wy()}).then(V=>o(V.id))})},[r,t]),v.useEffect(()=>{if(!s)return;const S=br(ze(te,"chats",s,"messages"),f2("timestamp","asc")),P=Rt(S,j=>{c(j.docs.map(A=>({id:A.id,...A.data()})))});return()=>P()},[s]),v.useEffect(()=>{var S;(S=M.current)==null||S.scrollIntoView({behavior:"smooth"})},[a]);const N=async S=>{if(S.preventDefault(),!u.trim()&&!x||!r||!s)return;let P=null,j=!1;if(x){k(!0);try{const{url:A,isBase64:V}=await Kq(x);P=A,j=V}catch{alert("Image upload failed")}k(!1)}await rs(ze(te,"chats",s,"messages"),{text:u,image:P||null,isBase64:j,sender:r.uid,senderName:r.displayName||r.email,timestamp:Wy()}),f(""),I(null),g(null)},w=S=>{const P=S.target.files[0];P&&(I(P),g(URL.createObjectURL(P)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(S=>l.jsxs("div",{style:{marginBottom:10,textAlign:S.sender===(r==null?void 0:r.uid)?"right":"left"},children:[S.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:S.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),S.text&&l.jsx("span",{style:{background:S.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:S.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:S.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:S.senderName})]},S.id)),l.jsx("div",{ref:M})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:w}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),T&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:T,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{I(null),g(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:b?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:b?"not-allowed":"pointer"},disabled:b,children:b?"Sending...":"Send"})]})]}):null}function oE(){return l.jsx(kN,{to:"/auth",replace:!0})}Ig.createRoot(document.getElementById("root")).render(l.jsx(_e.StrictMode,{children:l.jsxs(tz,{theme:qq,children:[l.jsx(xB,{}),l.jsx(DN,{children:l.jsxs(l.Fragment,{children:[l.jsx(Wq,{}),l.jsx(Qq,{}),l.jsx(HH,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(PN,{children:[l.jsx(Yt,{path:"/signup",element:l.jsx(oE,{})}),l.jsx(Yt,{path:"/login",element:l.jsx(oE,{})}),l.jsx(Yt,{path:"/agent/:slug",element:l.jsx(Hq,{})}),l.jsx(Yt,{path:"/agents",element:l.jsx(sE,{})}),l.jsx(Yt,{path:"/",element:l.jsx(KH,{})}),l.jsx(Yt,{path:"/shop",element:l.jsx(nq,{})}),l.jsx(Yt,{path:"/cart",element:l.jsx(oP,{})}),l.jsx(Yt,{path:"/auth",element:l.jsx(lq,{})}),l.jsx(Yt,{path:"/orders",element:l.jsx(iq,{})}),l.jsx(Yt,{path:"/add-medicine",element:l.jsx(dq,{})}),l.jsx(Yt,{path:"/payment",element:l.jsx(bq,{})}),l.jsx(Yt,{path:"/admin",element:l.jsx(Sq,{})}),l.jsx(Yt,{path:"/store",element:l.jsx(kq,{})}),l.jsx(Yt,{path:"/store/:slug",element:l.jsx(Iq,{})}),l.jsx(Yt,{path:"/store/:slug/cart",element:l.jsx(Tq,{})}),l.jsx(Yt,{path:"/restock",element:l.jsx(Aq,{})}),l.jsx(Yt,{path:"/medinterface",element:l.jsx(Oq,{})}),l.jsx(Yt,{path:"/about",element:l.jsx(YW,{})}),l.jsx(Yt,{path:"/businesses",element:l.jsx(V3,{})}),l.jsx(Yt,{path:"/agents",element:l.jsx(sE,{})}),l.jsx(Yt,{path:"/chat/:businessId",element:l.jsx(Gq,{})})]}),l.jsx(NA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function Qq(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Cr();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
