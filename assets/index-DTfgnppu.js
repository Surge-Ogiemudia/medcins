function C2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rs(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ZS={exports:{}},xh={},eE={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),I2=Symbol.for("react.portal"),R2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),P2=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),O2=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),M2=Symbol.for("react.memo"),L2=Symbol.for("react.lazy"),Lb=Symbol.iterator;function D2(t){return t===null||typeof t!="object"?null:(t=Lb&&t[Lb]||t["@@iterator"],typeof t=="function"?t:null)}var tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nE=Object.assign,rE={};function ol(t,e,n){this.props=t,this.context=e,this.refs=rE,this.updater=n||tE}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=ol.prototype;function bv(t,e,n){this.props=t,this.context=e,this.refs=rE,this.updater=n||tE}var _v=bv.prototype=new iE;_v.constructor=bv;nE(_v,ol.prototype);_v.isPureReactComponent=!0;var Db=Array.isArray,sE=Object.prototype.hasOwnProperty,wv={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function aE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sE.call(e,r)&&!oE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sc,type:t,key:s,ref:o,props:i,_owner:wv.current}}function $2(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function F2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $b=/\/+/g;function pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F2(""+t.key):e.toString(36)}function Ad(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case I2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pm(o,0):r,Db(i)?(n="",t!=null&&(n=t.replace($b,"$&/")+"/"),Ad(i,e,n,"",function(c){return c})):i!=null&&(Sv(i)&&(i=$2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($b,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Db(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+pm(s,a);o+=Ad(s,e,n,u,i)}else if(u=D2(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+pm(s,a++),o+=Ad(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],i=0;return Ad(t,r,"","",function(s){return e.call(n,s,i++)}),r}function V2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},jd={transition:null},z2={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:jd,ReactCurrentOwner:wv};function lE(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=ol;et.Fragment=R2;et.Profiler=P2;et.PureComponent=bv;et.StrictMode=k2;et.Suspense=N2;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;et.act=lE;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)sE.call(e,u)&&!oE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:j2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A2,_context:t},t.Consumer=t};et.createElement=aE;et.createFactory=function(t){var e=aE.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:O2,render:t}};et.isValidElement=Sv;et.lazy=function(t){return{$$typeof:L2,_payload:{_status:-1,_result:t},_init:V2}};et.memo=function(t,e){return{$$typeof:M2,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};et.unstable_act=lE;et.useCallback=function(t,e){return Xn.current.useCallback(t,e)};et.useContext=function(t){return Xn.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};et.useEffect=function(t,e){return Xn.current.useEffect(t,e)};et.useId=function(){return Xn.current.useId()};et.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Xn.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};et.useRef=function(t){return Xn.current.useRef(t)};et.useState=function(t){return Xn.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Xn.current.useTransition()};et.version="18.3.1";eE.exports=et;var w=eE.exports;const pe=vh(w),lf=C2({__proto__:null,default:pe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=w,U2=Symbol.for("react.element"),W2=Symbol.for("react.fragment"),H2=Object.prototype.hasOwnProperty,q2=B2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K2={key:!0,ref:!0,__self:!0,__source:!0};function uE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)H2.call(e,r)&&!K2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U2,type:t,key:s,ref:o,props:i,_owner:q2.current}}xh.Fragment=W2;xh.jsx=uE;xh.jsxs=uE;ZS.exports=xh;var l=ZS.exports;function cE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cE(t))&&(r&&(r+=" "),r+=e);return r}function G2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}G2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var oc=t=>typeof t=="number"&&!isNaN(t),yo=t=>typeof t=="string",qi=t=>typeof t=="function",Q2=t=>yo(t)||oc(t),wg=t=>yo(t)||qi(t)?t:null,Y2=(t,e)=>t===!1||oc(t)&&t>0?t:e,Sg=t=>w.isValidElement(t)||yo(t)||qi(t)||oc(t);function X2(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function J2({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,E=n?`${e}--${o}`:e,T=w.useRef(0);return w.useLayoutEffect(()=>{let S=c.current,I=m.split(" "),C=y=>{y.target===c.current&&(h(),S.removeEventListener("animationend",C),S.removeEventListener("animationcancel",C),T.current===0&&y.type!=="animationcancel"&&S.classList.remove(...I))};S.classList.add(...I),S.addEventListener("animationend",C),S.addEventListener("animationcancel",C)},[]),w.useEffect(()=>{let S=c.current,I=()=>{S.removeEventListener("animationend",I),r?X2(S,u,i):u()};f||(a?I():(T.current=1,S.className+=` ${E}`,S.addEventListener("animationend",I)))},[f]),pe.createElement(pe.Fragment,null,s)}}function Fb(t,e){return{content:dE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function dE(t,e,n=!1){return w.isValidElement(t)&&!yo(t.type)?w.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):qi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Z2({closeToast:t,theme:e,ariaLabel:n="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function eA({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let E=$e("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),T=qi(s)?s({rtl:u,type:r,defaultClassName:E}):$e(E,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:m,...S}))}var tA=1,fE=()=>`${tA++}`;function nA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=y=>(c.add(y),()=>c.delete(y)),h=()=>{o=Array.from(u.values()),c.forEach(y=>y())},m=({containerId:y,toastId:x,updateId:R})=>{let M=y?y!==t:t!==1,N=u.has(x)&&R==null;return M||N},E=(y,x)=>{u.forEach(R=>{var M;(x==null||x===R.props.toastId)&&((M=R.toggle)==null||M.call(R,y))})},T=y=>{var x,R;(R=(x=y.props)==null?void 0:x.onClose)==null||R.call(x,y.removalReason),y.isActive=!1},S=y=>{if(y==null)u.forEach(T);else{let x=u.get(y);x&&T(x)}h()},I=()=>{i-=s.length,s=[]},C=y=>{var x,R;let{toastId:M,updateId:N}=y.props,b=N==null;y.staleId&&u.delete(y.staleId),y.isActive=!0,u.set(M,y),h(),n(Fb(y,b?"added":"updated")),b&&((R=(x=y.props).onOpen)==null||R.call(x))};return{id:t,props:a,observe:f,toggle:E,removeToast:S,toasts:u,clearQueue:I,buildToast:(y,x)=>{if(m(x))return;let{toastId:R,updateId:M,data:N,staleId:b,delay:p}=x,g=M==null;g&&i++;let _={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(x).filter(([j,P])=>P!=null)),toastId:R,updateId:M,data:N,isIn:!1,className:wg(x.className||a.toastClassName),progressClassName:wg(x.progressClassName||a.progressClassName),autoClose:x.isLoading?!1:Y2(x.autoClose,a.autoClose),closeToast(j){u.get(R).removalReason=j,S(R)},deleteToast(){let j=u.get(R);if(j!=null){if(n(Fb(j,"removed")),u.delete(R),i--,i<0&&(i=0),s.length>0){C(s.shift());return}h()}}};_.closeButton=a.closeButton,x.closeButton===!1||Sg(x.closeButton)?_.closeButton=x.closeButton:x.closeButton===!0&&(_.closeButton=Sg(a.closeButton)?a.closeButton:!0);let O={content:y,props:_,staleId:b};a.limit&&a.limit>0&&i>a.limit&&g?s.push(O):oc(p)?setTimeout(()=>{C(O)},p):C(O)},setProps(y){a=y},setToggle:(y,x)=>{let R=u.get(y);R&&(R.toggle=x)},isToastActive:y=>{var x;return(x=u.get(y))==null?void 0:x.isActive},getSnapshot:()=>o}}var Gn=new Map,wu=[],Eg=new Set,rA=t=>Eg.forEach(e=>e(t)),hE=()=>Gn.size>0;function iA(){wu.forEach(t=>mE(t.content,t.options)),wu=[]}var sA=(t,{containerId:e})=>{var n;return(n=Gn.get(e||1))==null?void 0:n.toasts.get(t)};function pE(t,e){var n;if(e)return!!((n=Gn.get(e))!=null&&n.isToastActive(t));let r=!1;return Gn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function oA(t){if(!hE()){wu=wu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Q2(t))Gn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Gn.get(t.containerId);e?e.removeToast(t.id):Gn.forEach(n=>{n.removeToast(t.id)})}}var aA=(t={})=>{Gn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function mE(t,e){Sg(t)&&(hE()||wu.push({content:t,options:e}),Gn.forEach(n=>{n.buildToast(t,e)}))}function lA(t){var e;(e=Gn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function gE(t,e){Gn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function uA(t){let e=t.containerId||1;return{subscribe(n){let r=nA(e,t,rA);Gn.set(e,r);let i=r.observe(n);return iA(),()=>{i(),Gn.delete(e)}},setProps(n){var r;(r=Gn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Gn.get(e))==null?void 0:n.getSnapshot()}}}function cA(t){return Eg.add(t),()=>{Eg.delete(t)}}function dA(t){return t&&(yo(t.toastId)||oc(t.toastId))?t.toastId:fE()}function ac(t,e){return mE(t,e),e.toastId}function bh(t,e){return{...e,type:e&&e.type||t,toastId:dA(e)}}function _h(t){return(e,n)=>ac(e,bh(t,n))}function Ee(t,e){return ac(t,bh("default",e))}Ee.loading=(t,e)=>ac(t,bh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function fA(t,{pending:e,error:n,success:r},i){let s;e&&(s=yo(e)?Ee.loading(e,i):Ee.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){Ee.dismiss(s);return}let m={type:c,...o,...i,data:h},E=yo(f)?{render:f}:f;return s?Ee.update(s,{...m,...E}):Ee(E.render,{...m,...E}),h},u=qi(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}Ee.promise=fA;Ee.success=_h("success");Ee.info=_h("info");Ee.error=_h("error");Ee.warning=_h("warning");Ee.warn=Ee.warning;Ee.dark=(t,e)=>ac(t,bh("default",{theme:"dark",...e}));function hA(t){oA(t)}Ee.dismiss=hA;Ee.clearWaitingQueue=aA;Ee.isActive=pE;Ee.update=(t,e={})=>{let n=sA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:fE()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,ac(o,s)}};Ee.done=t=>{Ee.update(t,{progress:1})};Ee.onChange=cA;Ee.play=t=>gE(!0,t);Ee.pause=t=>gE(!1,t);function pA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=w.useRef(uA(t)).current;i(t);let s=(e=w.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:pE,count:s==null?void 0:s.length}}function mA(t){let[e,n]=w.useState(!1),[r,i]=w.useState(!1),s=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;lA({id:t.toastId,containerId:t.containerId,fn:n}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||C(),window.addEventListener("focus",I),window.addEventListener("blur",C)}function E(){window.removeEventListener("focus",I),window.removeEventListener("blur",C)}function T(b){if(t.draggable===!0||t.draggable===b.pointerType){y();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=b.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=b.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(b){let{top:p,bottom:g,left:_,right:O}=s.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&t.pauseOnHover&&b.clientX>=_&&b.clientX<=O&&b.clientY>=p&&b.clientY<=g?C():I()}function I(){n(!0)}function C(){n(!1)}function y(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",M)}function x(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",M)}function R(b){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&C(),t.draggableDirection==="x"?o.delta=b.clientX-o.start:o.delta=b.clientY-o.start,o.start!==b.clientX&&(o.canCloseOnClick=!1);let g=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${g},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){x();let b=s.current;if(o.canDrag&&o.didMove&&b){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}let N={onPointerDown:T,onPointerUp:S};return a&&u&&(N.onMouseEnter=C,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=b=>{f&&f(b),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var gA=typeof window<"u"?w.useLayoutEffect:w.useEffect,wh=({theme:t,type:e,isLoading:n,...r})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function yA(t){return pe.createElement(wh,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vA(t){return pe.createElement(wh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xA(t){return pe.createElement(wh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bA(t){return pe.createElement(wh,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _A(){return pe.createElement("div",{className:"Toastify__spinner"})}var Tg={info:vA,warning:yA,success:xA,error:bA,spinner:_A},wA=t=>t in Tg;function SA({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(qi(r)?i=r({...s,isLoading:n}):w.isValidElement(r)?i=w.cloneElement(r,s):n?i=Tg.spinner():wA(e)&&(i=Tg[e](s))),i}var EA=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=mA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:E,position:T,className:S,style:I,progressClassName:C,updateId:y,role:x,progress:R,rtl:M,toastId:N,deleteToast:b,isIn:p,isLoading:g,closeOnClick:_,theme:O,ariaLabel:j}=t,P=$e("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":_}),z=qi(S)?S({rtl:M,position:T,type:f,defaultClassName:P}):$e(P,S),F=SA(t),B=!!R||!u,U={closeToast:m,type:f,theme:O},L=null;return o===!1||(qi(o)?L=o(U):w.isValidElement(o)?L=w.cloneElement(o,U):L=Z2(U)),pe.createElement(E,{isIn:p,done:b,position:T,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:z,...i,style:I,ref:r,...p&&{role:x,"aria-label":j}},F!=null&&pe.createElement("div",{className:$e("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!g})},F),dE(a,t,!e),L,!t.customProgressBar&&pe.createElement(eA,{...y&&!B?{key:`p-${y}`}:{},rtl:M,theme:O,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:C,controlledProgress:B,progress:R||0})))},TA=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),CA=J2(TA("bounce",!0)),IA={position:"top-right",transition:CA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function RA(t){let e={...IA,...t},n=t.stacked,[r,i]=w.useState(!0),s=w.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=pA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:E}=e;function T(I){let C=$e("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return qi(c)?c({position:I,rtl:h,defaultClassName:C}):$e(C,wg(c))}function S(){n&&(i(!0),Ee.play())}return gA(()=>{var I;if(n){let C=s.current.querySelectorAll('[data-in="true"]'),y=12,x=(I=e.position)==null?void 0:I.includes("top"),R=0,M=0;Array.from(C).reverse().forEach((N,b)=>{let p=N;p.classList.add("Toastify__toast--stacked"),b>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=x?"top":"bot");let g=R*(r?.2:1)+(r?0:y*b);p.style.setProperty("--y",`${x?g:g*-1}px`),p.style.setProperty("--g",`${y}`),p.style.setProperty("--s",`${1-(r?M:0)}`),R+=p.offsetHeight,M+=.025})}},[r,u,n]),w.useEffect(()=>{function I(C){var y;let x=s.current;E(C)&&((y=x.querySelector('[tabIndex="0"]'))==null||y.focus(),i(!1),Ee.pause()),C.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(i(!0),Ee.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[E]),pe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Ee.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,C)=>{let y=C.length?{...f}:{...f,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:T(I),"data-stacked":n,style:y,key:`c-${I}`},C.map(({content:x,props:R})=>pe.createElement(EA,{...R,stacked:n,collapseAll:S,isIn:a(R.toastId,R.containerId),key:`t-${R.key}`},x)))}))}var Cg={},yE={exports:{}},Sr={},vE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var K=H-1>>>1,Q=L[K];if(0<i(Q,V))L[K]=V,L[H]=Q,H=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var K=0,Q=L.length,Y=Q>>>1;K<Y;){var se=2*(K+1)-1,ce=L[se],ye=se+1,q=L[ye];if(0>i(ce,H))ye<Q&&0>i(q,ce)?(L[K]=q,L[ye]=H,K=ye):(L[K]=ce,L[se]=H,K=se);else if(ye<Q&&0>i(q,H))L[K]=q,L[ye]=H,K=ye;else break e}}return V}function i(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,E=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(c)}}function R(L){if(S=!1,x(L),!T)if(n(u)!==null)T=!0,B(M);else{var V=n(c);V!==null&&U(R,V.startTime-L)}}function M(L,V){T=!1,S&&(S=!1,C(p),p=-1),E=!0;var H=m;try{for(x(V),h=n(u);h!==null&&(!(h.expirationTime>V)||L&&!O());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var Q=K(h.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(u)&&r(u),x(V)}else r(u);h=n(u)}if(h!==null)var Y=!0;else{var se=n(c);se!==null&&U(R,se.startTime-V),Y=!1}return Y}finally{h=null,m=H,E=!1}}var N=!1,b=null,p=-1,g=5,_=-1;function O(){return!(t.unstable_now()-_<g)}function j(){if(b!==null){var L=t.unstable_now();_=L;var V=!0;try{V=b(!0,L)}finally{V?P():(N=!1,b=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=j,P=function(){F.postMessage(null)}}else P=function(){I(j,0)};function B(L){b=L,N||(N=!0,P())}function U(L,V){p=I(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,B(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var H=m;m=V;try{return L()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=m;m=L;try{return V()}finally{m=H}},t.unstable_scheduleCallback=function(L,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,L={id:f++,callback:V,priorityLevel:L,startTime:H,expirationTime:Q,sortIndex:-1},H>K?(L.sortIndex=H,e(c,L),n(u)===null&&L===n(c)&&(S?(C(p),p=-1):S=!0,U(R,H-K))):(L.sortIndex=Q,e(u,L),T||E||(T=!0,B(M))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var V=m;return function(){var H=m;m=V;try{return L.apply(this,arguments)}finally{m=H}}}})(xE);vE.exports=xE;var kA=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=w,xr=kA;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bE=new Set,Su={};function Oo(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(Su[t]=e,t=0;t<e.length;t++)bE.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,AA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vb={},zb={};function jA(t){return Ig.call(zb,t)?!0:Ig.call(Vb,t)?!1:AA.test(t)?zb[t]=!0:(Vb[t]=!0,!1)}function OA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NA(t,e,n,r){if(e===null||typeof e>"u"||OA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ev=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);An[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ev,Tv);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ev,Tv);An[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NA(e,n,i,r)&&(n=null),r||i===null?jA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),wE=Symbol.for("react.context"),Rv=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),Bb=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=Bb&&t[Bb]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,mm;function Kl(t){if(mm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mm=e&&e[1]||""}return`
`+mm+t}var gm=!1;function ym(t,e){if(!t||gm)return"";gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function MA(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=ym(t.type,!1),t;case 11:return t=ym(t.type.render,!1),t;case 1:return t=ym(t.type,!0),t;default:return""}}function Ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case Rg:return"Profiler";case Iv:return"StrictMode";case kg:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wE:return(t.displayName||"Context")+".Consumer";case _E:return(t._context.displayName||"Context")+".Provider";case Rv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kv:return e=t.displayName||null,e!==null?e:Ag(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Ag(t(e))}catch{}}return null}function LA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(e);case 8:return e===Iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DA(t){var e=EE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function td(t){t._valueTracker||(t._valueTracker=DA(t))}function TE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jg(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ub(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Og(t,e){CE(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Gl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function IE(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nd,kE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$A=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){$A.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function PE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function AE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FA=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dg(t,e){if(e){if(FA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=null;function Pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vg=null,xa=null,ba=null;function Kb(t){if(t=cc(t)){if(typeof Vg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Ih(e),Vg(t.stateNode,t.type,e))}}function jE(t){xa?ba?ba.push(t):ba=[t]:xa=t}function OE(){if(xa){var t=xa,e=ba;if(ba=xa=null,Kb(t),e)for(t=0;t<e.length;t++)Kb(e[t])}}function NE(t,e){return t(e)}function ME(){}var vm=!1;function LE(t,e,n){if(vm)return t(e,n);vm=!0;try{return NE(t,e,n)}finally{vm=!1,(xa!==null||ba!==null)&&(ME(),OE())}}function Tu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var zg=!1;if(Ki)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){zg=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{zg=!1}function VA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var su=!1,cf=null,df=!1,Bg=null,zA={onError:function(t){su=!0,cf=t}};function BA(t,e,n,r,i,s,o,a,u){su=!1,cf=null,VA.apply(zA,arguments)}function UA(t,e,n,r,i,s,o,a,u){if(BA.apply(this,arguments),su){if(su){var c=cf;su=!1,cf=null}else throw Error(ae(198));df||(df=!0,Bg=c)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gb(t){if(No(t)!==t)throw Error(ae(188))}function WA(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gb(i),t;if(s===r)return Gb(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function $E(t){return t=WA(t),t!==null?FE(t):null}function FE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FE(t);if(e!==null)return e;t=t.sibling}return null}var VE=xr.unstable_scheduleCallback,Qb=xr.unstable_cancelCallback,HA=xr.unstable_shouldYield,qA=xr.unstable_requestPaint,Jt=xr.unstable_now,KA=xr.unstable_getCurrentPriorityLevel,Av=xr.unstable_ImmediatePriority,zE=xr.unstable_UserBlockingPriority,ff=xr.unstable_NormalPriority,GA=xr.unstable_LowPriority,BE=xr.unstable_IdlePriority,Sh=null,hi=null;function QA(t){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:JA,YA=Math.log,XA=Math.LN2;function JA(t){return t>>>=0,t===0?32:31-(YA(t)/XA|0)|0}var rd=64,id=4194304;function Ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ql(a):(s&=o,s!==0&&(r=Ql(s)))}else o=n&~i,o!==0?r=Ql(o):s!==0&&(r=Ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ei(e),i=1<<n,r|=t[n],e&=~i;return r}function ZA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ej(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ei(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ZA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UE(){var t=rd;return rd<<=1,!(rd&4194240)&&(rd=64),t}function xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=n}function tj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ei(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ei(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var St=0;function WE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HE,Ov,qE,KE,GE,Wg=!1,sd=[],Ss=null,Es=null,Ts=null,Cu=new Map,Iu=new Map,ys=[],nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yb(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Al(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cc(e),e!==null&&Ov(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rj(t,e,n,r,i){switch(e){case"focusin":return Ss=Al(Ss,t,e,n,r,i),!0;case"dragenter":return Es=Al(Es,t,e,n,r,i),!0;case"mouseover":return Ts=Al(Ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,Al(Cu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Iu.set(s,Al(Iu.get(s)||null,t,e,n,r,i)),!0}return!1}function QE(t){var e=oo(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=DE(n),e!==null){t.blockedOn=e,GE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fg=r,n.target.dispatchEvent(r),Fg=null}else return e=cc(n),e!==null&&Ov(e),t.blockedOn=n,!1;e.shift()}return!0}function Xb(t,e,n){Od(t)&&n.delete(e)}function ij(){Wg=!1,Ss!==null&&Od(Ss)&&(Ss=null),Es!==null&&Od(Es)&&(Es=null),Ts!==null&&Od(Ts)&&(Ts=null),Cu.forEach(Xb),Iu.forEach(Xb)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,ij)))}function Ru(t){function e(i){return jl(i,t)}if(0<sd.length){jl(sd[0],t);for(var n=1;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&jl(Ss,t),Es!==null&&jl(Es,t),Ts!==null&&jl(Ts,t),Cu.forEach(e),Iu.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&ys.shift()}var _a=is.ReactCurrentBatchConfig,pf=!0;function sj(t,e,n,r){var i=St,s=_a.transition;_a.transition=null;try{St=1,Nv(t,e,n,r)}finally{St=i,_a.transition=s}}function oj(t,e,n,r){var i=St,s=_a.transition;_a.transition=null;try{St=4,Nv(t,e,n,r)}finally{St=i,_a.transition=s}}function Nv(t,e,n,r){if(pf){var i=Hg(t,e,n,r);if(i===null)km(t,e,r,mf,n),Yb(t,r);else if(rj(i,t,e,n,r))r.stopPropagation();else if(Yb(t,r),e&4&&-1<nj.indexOf(t)){for(;i!==null;){var s=cc(i);if(s!==null&&HE(s),s=Hg(t,e,n,r),s===null&&km(t,e,r,mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else km(t,e,r,null,n)}}var mf=null;function Hg(t,e,n,r){if(mf=null,t=Pv(r),t=oo(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mf=t,null}function YE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KA()){case Av:return 1;case zE:return 4;case ff:case GA:return 16;case BE:return 536870912;default:return 16}default:return 16}}var xs=null,Mv=null,Nd=null;function XE(){if(Nd)return Nd;var t,e=Mv,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nd=i.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function od(){return!0}function Jb(){return!1}function Er(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?od:Jb,this.isPropagationStopped=Jb,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=Er(al),uc=Ut({},al,{view:0,detail:0}),aj=Er(uc),bm,_m,Ol,Eh=Ut({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(bm=t.screenX-Ol.screenX,_m=t.screenY-Ol.screenY):_m=bm=0,Ol=t),bm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),Zb=Er(Eh),lj=Ut({},Eh,{dataTransfer:0}),uj=Er(lj),cj=Ut({},uc,{relatedTarget:0}),wm=Er(cj),dj=Ut({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=Er(dj),hj=Ut({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pj=Er(hj),mj=Ut({},al,{data:0}),e_=Er(mj),gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vj[t])?!!e[t]:!1}function Dv(){return xj}var bj=Ut({},uc,{key:function(t){if(t.key){var e=gj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_j=Er(bj),wj=Ut({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t_=Er(wj),Sj=Ut({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),Ej=Er(Sj),Tj=Ut({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=Er(Tj),Ij=Ut({},Eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rj=Er(Ij),kj=[9,13,27,32],$v=Ki&&"CompositionEvent"in window,ou=null;Ki&&"documentMode"in document&&(ou=document.documentMode);var Pj=Ki&&"TextEvent"in window&&!ou,JE=Ki&&(!$v||ou&&8<ou&&11>=ou),n_=" ",r_=!1;function ZE(t,e){switch(t){case"keyup":return kj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Aj(t,e){switch(t){case"compositionend":return eT(e);case"keypress":return e.which!==32?null:(r_=!0,n_);case"textInput":return t=e.data,t===n_&&r_?null:t;default:return null}}function jj(t,e){if(oa)return t==="compositionend"||!$v&&ZE(t,e)?(t=XE(),Nd=Mv=xs=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JE&&e.locale!=="ko"?null:e.data;default:return null}}var Oj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Oj[t.type]:e==="textarea"}function tT(t,e,n,r){jE(r),e=gf(e,"onChange"),0<e.length&&(n=new Lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,ku=null;function Nj(t){fT(t,0)}function Th(t){var e=ua(t);if(TE(e))return t}function Mj(t,e){if(t==="change")return e}var nT=!1;if(Ki){var Sm;if(Ki){var Em="oninput"in document;if(!Em){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Em=typeof s_.oninput=="function"}Sm=Em}else Sm=!1;nT=Sm&&(!document.documentMode||9<document.documentMode)}function o_(){au&&(au.detachEvent("onpropertychange",rT),ku=au=null)}function rT(t){if(t.propertyName==="value"&&Th(ku)){var e=[];tT(e,ku,t,Pv(t)),LE(Nj,e)}}function Lj(t,e,n){t==="focusin"?(o_(),au=e,ku=n,au.attachEvent("onpropertychange",rT)):t==="focusout"&&o_()}function Dj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(ku)}function $j(t,e){if(t==="click")return Th(e)}function Fj(t,e){if(t==="input"||t==="change")return Th(e)}function Vj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:Vj;function Pu(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function a_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l_(t,e){var n=a_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a_(n)}}function iT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sT(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uf(t.document)}return e}function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zj(t){var e=sT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iT(n.ownerDocument.documentElement,n)){if(r!==null&&Fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=l_(n,s);var o=l_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bj=Ki&&"documentMode"in document&&11>=document.documentMode,aa=null,qg=null,lu=null,Kg=!1;function u_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||aa==null||aa!==uf(r)||(r=aa,"selectionStart"in r&&Fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Pu(lu,r)||(lu=r,r=gf(qg,"onSelect"),0<r.length&&(e=new Lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function ad(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Tm={},oT={};Ki&&(oT=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Ch(t){if(Tm[t])return Tm[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oT)return Tm[t]=e[n];return t}var aT=Ch("animationend"),lT=Ch("animationiteration"),uT=Ch("animationstart"),cT=Ch("transitionend"),dT=new Map,c_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){dT.set(t,e),Oo(e,[t])}for(var Cm=0;Cm<c_.length;Cm++){var Im=c_[Cm],Uj=Im.toLowerCase(),Wj=Im[0].toUpperCase()+Im.slice(1);zs(Uj,"on"+Wj)}zs(aT,"onAnimationEnd");zs(lT,"onAnimationIteration");zs(uT,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(cT,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function d_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UA(r,e,void 0,t),t.currentTarget=null}function fT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;d_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;d_(i,a,c),s=u}}}if(df)throw t=Bg,df=!1,Bg=null,t}function Ot(t,e){var n=e[Jg];n===void 0&&(n=e[Jg]=new Set);var r=t+"__bubble";n.has(r)||(hT(e,t,2,!1),n.add(r))}function Rm(t,e,n){var r=0;e&&(r|=4),hT(n,t,r,e)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[ld]){t[ld]=!0,bE.forEach(function(n){n!=="selectionchange"&&(Hj.has(n)||Rm(n,!1,t),Rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ld]||(e[ld]=!0,Rm("selectionchange",!1,e))}}function hT(t,e,n,r){switch(YE(e)){case 1:var i=sj;break;case 4:i=oj;break;default:i=Nv}n=i.bind(null,e,n,t),i=void 0,!zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function km(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=oo(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LE(function(){var c=s,f=Pv(n),h=[];e:{var m=dT.get(t);if(m!==void 0){var E=Lv,T=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":E=_j;break;case"focusin":T="focus",E=wm;break;case"focusout":T="blur",E=wm;break;case"beforeblur":case"afterblur":E=wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=uj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Ej;break;case aT:case lT:case uT:E=fj;break;case cT:E=Cj;break;case"scroll":E=aj;break;case"wheel":E=Rj;break;case"copy":case"cut":case"paste":E=pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=t_}var S=(e&4)!==0,I=!S&&t==="scroll",C=S?m!==null?m+"Capture":null:m;S=[];for(var y=c,x;y!==null;){x=y;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,C!==null&&(R=Tu(y,C),R!=null&&S.push(ju(y,R,x)))),I)break;y=y.return}0<S.length&&(m=new E(m,T,null,n,f),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==Fg&&(T=n.relatedTarget||n.fromElement)&&(oo(T)||T[Gi]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=c,T=T?oo(T):null,T!==null&&(I=No(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=c),E!==T)){if(S=Zb,R="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=t_,R="onPointerLeave",C="onPointerEnter",y="pointer"),I=E==null?m:ua(E),x=T==null?m:ua(T),m=new S(R,y+"leave",E,n,f),m.target=I,m.relatedTarget=x,R=null,oo(f)===c&&(S=new S(C,y+"enter",T,n,f),S.target=x,S.relatedTarget=I,R=S),I=R,E&&T)t:{for(S=E,C=T,y=0,x=S;x;x=qo(x))y++;for(x=0,R=C;R;R=qo(R))x++;for(;0<y-x;)S=qo(S),y--;for(;0<x-y;)C=qo(C),x--;for(;y--;){if(S===C||C!==null&&S===C.alternate)break t;S=qo(S),C=qo(C)}S=null}else S=null;E!==null&&f_(h,m,E,S,!1),T!==null&&I!==null&&f_(h,I,T,S,!0)}}e:{if(m=c?ua(c):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var M=Mj;else if(i_(m))if(nT)M=Fj;else{M=Dj;var N=Lj}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=$j);if(M&&(M=M(t,c))){tT(h,M,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ng(m,"number",m.value)}switch(N=c?ua(c):window,t){case"focusin":(i_(N)||N.contentEditable==="true")&&(aa=N,qg=c,lu=null);break;case"focusout":lu=qg=aa=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,u_(h,n,f);break;case"selectionchange":if(Bj)break;case"keydown":case"keyup":u_(h,n,f)}var b;if($v)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else oa?ZE(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(JE&&n.locale!=="ko"&&(oa||p!=="onCompositionStart"?p==="onCompositionEnd"&&oa&&(b=XE()):(xs=f,Mv="value"in xs?xs.value:xs.textContent,oa=!0)),N=gf(c,p),0<N.length&&(p=new e_(p,t,null,n,f),h.push({event:p,listeners:N}),b?p.data=b:(b=eT(n),b!==null&&(p.data=b)))),(b=Pj?Aj(t,n):jj(t,n))&&(c=gf(c,"onBeforeInput"),0<c.length&&(f=new e_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=b))}fT(h,e)})}function ju(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tu(t,n),s!=null&&r.unshift(ju(t,s,i)),s=Tu(t,e),s!=null&&r.push(ju(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Tu(n,s),u!=null&&o.unshift(ju(n,u,a))):i||(u=Tu(n,s),u!=null&&o.push(ju(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qj=/\r\n?/g,Kj=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(qj,`
`).replace(Kj,"")}function ud(t,e,n){if(e=h_(e),h_(t)!==e&&n)throw Error(ae(425))}function yf(){}var Gg=null,Qg=null;function Yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,Gj=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,Qj=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(Yj)}:Xg;function Yj(t){setTimeout(function(){throw t})}function Pm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ru(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),di="__reactFiber$"+ll,Ou="__reactProps$"+ll,Gi="__reactContainer$"+ll,Jg="__reactEvents$"+ll,Xj="__reactListeners$"+ll,Jj="__reactHandles$"+ll;function oo(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gi]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m_(t);t!==null;){if(n=t[di])return n;t=m_(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[di]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Ih(t){return t[Ou]||null}var Zg=[],ca=-1;function Bs(t){return{current:t}}function Mt(t){0>ca||(t.current=Zg[ca],Zg[ca]=null,ca--)}function At(t,e){ca++,Zg[ca]=t.current,t.current=e}var Ms={},Un=Bs(Ms),ir=Bs(!1),vo=Ms;function Ma(t,e){var n=t.type.contextTypes;if(!n)return Ms;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function vf(){Mt(ir),Mt(Un)}function g_(t,e,n){if(Un.current!==Ms)throw Error(ae(168));At(Un,e),At(ir,n)}function pT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,LA(t)||"Unknown",i));return Ut({},n,r)}function xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,vo=Un.current,At(Un,t),At(ir,ir.current),!0}function y_(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=pT(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Mt(ir),Mt(Un),At(Un,t)):Mt(ir),At(ir,n)}var Ai=null,Rh=!1,Am=!1;function mT(t){Ai===null?Ai=[t]:Ai.push(t)}function Zj(t){Rh=!0,mT(t)}function Us(){if(!Am&&Ai!==null){Am=!0;var t=0,e=St;try{var n=Ai;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ai=null,Rh=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(t+1)),VE(Av,Us),i}finally{St=e,Am=!1}}return null}var da=[],fa=0,bf=null,_f=0,jr=[],Or=0,xo=null,Di=1,$i="";function eo(t,e){da[fa++]=_f,da[fa++]=bf,bf=t,_f=e}function gT(t,e,n){jr[Or++]=Di,jr[Or++]=$i,jr[Or++]=xo,xo=t;var r=Di;t=$i;var i=32-ei(r)-1;r&=~(1<<i),n+=1;var s=32-ei(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Di=1<<32-ei(e)+i|n<<i|r,$i=s+t}else Di=1<<s|n<<i|r,$i=t}function Vv(t){t.return!==null&&(eo(t,1),gT(t,1,0))}function zv(t){for(;t===bf;)bf=da[--fa],da[fa]=null,_f=da[--fa],da[fa]=null;for(;t===xo;)xo=jr[--Or],jr[Or]=null,$i=jr[--Or],jr[Or]=null,Di=jr[--Or],jr[Or]=null}var mr=null,hr=null,$t=!1,Jr=null;function yT(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,hr=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:Di,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,hr=null,!0):!1;default:return!1}}function ey(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ty(t){if($t){var e=hr;if(e){var n=e;if(!v_(t,e)){if(ey(t))throw Error(ae(418));e=Cs(n.nextSibling);var r=mr;e&&v_(t,e)?yT(r,n):(t.flags=t.flags&-4097|2,$t=!1,mr=t)}}else{if(ey(t))throw Error(ae(418));t.flags=t.flags&-4097|2,$t=!1,mr=t}}}function x_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function cd(t){if(t!==mr)return!1;if(!$t)return x_(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yg(t.type,t.memoizedProps)),e&&(e=hr)){if(ey(t))throw vT(),Error(ae(418));for(;e;)yT(t,e),e=Cs(e.nextSibling)}if(x_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=mr?Cs(t.stateNode.nextSibling):null;return!0}function vT(){for(var t=hr;t;)t=Cs(t.nextSibling)}function La(){hr=mr=null,$t=!1}function Bv(t){Jr===null?Jr=[t]:Jr.push(t)}var eO=is.ReactCurrentBatchConfig;function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function dd(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function b_(t){var e=t._init;return e(t._payload)}function xT(t){function e(C,y){if(t){var x=C.deletions;x===null?(C.deletions=[y],C.flags|=16):x.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function r(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function i(C,y){return C=Ps(C,y),C.index=0,C.sibling=null,C}function s(C,y,x){return C.index=x,t?(x=C.alternate,x!==null?(x=x.index,x<y?(C.flags|=2,y):x):(C.flags|=2,y)):(C.flags|=1048576,y)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,y,x,R){return y===null||y.tag!==6?(y=$m(x,C.mode,R),y.return=C,y):(y=i(y,x),y.return=C,y)}function u(C,y,x,R){var M=x.type;return M===sa?f(C,y,x.props.children,R,x.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ps&&b_(M)===y.type)?(R=i(y,x.props),R.ref=Nl(C,y,x),R.return=C,R):(R=Bd(x.type,x.key,x.props,null,C.mode,R),R.ref=Nl(C,y,x),R.return=C,R)}function c(C,y,x,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Fm(x,C.mode,R),y.return=C,y):(y=i(y,x.children||[]),y.return=C,y)}function f(C,y,x,R,M){return y===null||y.tag!==7?(y=po(x,C.mode,R,M),y.return=C,y):(y=i(y,x),y.return=C,y)}function h(C,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$m(""+y,C.mode,x),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ed:return x=Bd(y.type,y.key,y.props,null,C.mode,x),x.ref=Nl(C,null,y),x.return=C,x;case ia:return y=Fm(y,C.mode,x),y.return=C,y;case ps:var R=y._init;return h(C,R(y._payload),x)}if(Gl(y)||kl(y))return y=po(y,C.mode,x,null),y.return=C,y;dd(C,y)}return null}function m(C,y,x,R){var M=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:a(C,y,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ed:return x.key===M?u(C,y,x,R):null;case ia:return x.key===M?c(C,y,x,R):null;case ps:return M=x._init,m(C,y,M(x._payload),R)}if(Gl(x)||kl(x))return M!==null?null:f(C,y,x,R,null);dd(C,x)}return null}function E(C,y,x,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return C=C.get(x)||null,a(y,C,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ed:return C=C.get(R.key===null?x:R.key)||null,u(y,C,R,M);case ia:return C=C.get(R.key===null?x:R.key)||null,c(y,C,R,M);case ps:var N=R._init;return E(C,y,x,N(R._payload),M)}if(Gl(R)||kl(R))return C=C.get(x)||null,f(y,C,R,M,null);dd(y,R)}return null}function T(C,y,x,R){for(var M=null,N=null,b=y,p=y=0,g=null;b!==null&&p<x.length;p++){b.index>p?(g=b,b=null):g=b.sibling;var _=m(C,b,x[p],R);if(_===null){b===null&&(b=g);break}t&&b&&_.alternate===null&&e(C,b),y=s(_,y,p),N===null?M=_:N.sibling=_,N=_,b=g}if(p===x.length)return n(C,b),$t&&eo(C,p),M;if(b===null){for(;p<x.length;p++)b=h(C,x[p],R),b!==null&&(y=s(b,y,p),N===null?M=b:N.sibling=b,N=b);return $t&&eo(C,p),M}for(b=r(C,b);p<x.length;p++)g=E(b,C,p,x[p],R),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?p:g.key),y=s(g,y,p),N===null?M=g:N.sibling=g,N=g);return t&&b.forEach(function(O){return e(C,O)}),$t&&eo(C,p),M}function S(C,y,x,R){var M=kl(x);if(typeof M!="function")throw Error(ae(150));if(x=M.call(x),x==null)throw Error(ae(151));for(var N=M=null,b=y,p=y=0,g=null,_=x.next();b!==null&&!_.done;p++,_=x.next()){b.index>p?(g=b,b=null):g=b.sibling;var O=m(C,b,_.value,R);if(O===null){b===null&&(b=g);break}t&&b&&O.alternate===null&&e(C,b),y=s(O,y,p),N===null?M=O:N.sibling=O,N=O,b=g}if(_.done)return n(C,b),$t&&eo(C,p),M;if(b===null){for(;!_.done;p++,_=x.next())_=h(C,_.value,R),_!==null&&(y=s(_,y,p),N===null?M=_:N.sibling=_,N=_);return $t&&eo(C,p),M}for(b=r(C,b);!_.done;p++,_=x.next())_=E(b,C,p,_.value,R),_!==null&&(t&&_.alternate!==null&&b.delete(_.key===null?p:_.key),y=s(_,y,p),N===null?M=_:N.sibling=_,N=_);return t&&b.forEach(function(j){return e(C,j)}),$t&&eo(C,p),M}function I(C,y,x,R){if(typeof x=="object"&&x!==null&&x.type===sa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ed:e:{for(var M=x.key,N=y;N!==null;){if(N.key===M){if(M=x.type,M===sa){if(N.tag===7){n(C,N.sibling),y=i(N,x.props.children),y.return=C,C=y;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ps&&b_(M)===N.type){n(C,N.sibling),y=i(N,x.props),y.ref=Nl(C,N,x),y.return=C,C=y;break e}n(C,N);break}else e(C,N);N=N.sibling}x.type===sa?(y=po(x.props.children,C.mode,R,x.key),y.return=C,C=y):(R=Bd(x.type,x.key,x.props,null,C.mode,R),R.ref=Nl(C,y,x),R.return=C,C=R)}return o(C);case ia:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(C,y.sibling),y=i(y,x.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=Fm(x,C.mode,R),y.return=C,C=y}return o(C);case ps:return N=x._init,I(C,y,N(x._payload),R)}if(Gl(x))return T(C,y,x,R);if(kl(x))return S(C,y,x,R);dd(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(C,y.sibling),y=i(y,x),y.return=C,C=y):(n(C,y),y=$m(x,C.mode,R),y.return=C,C=y),o(C)):n(C,y)}return I}var Da=xT(!0),bT=xT(!1),wf=Bs(null),Sf=null,ha=null,Uv=null;function Wv(){Uv=ha=Sf=null}function Hv(t){var e=wf.current;Mt(wf),t._currentValue=e}function ny(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wa(t,e){Sf=t,Uv=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(Uv!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(Sf===null)throw Error(ae(308));ha=t,Sf.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var ao=null;function qv(t){ao===null?ao=[t]:ao.push(t)}function _T(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qi(t,r)}function Qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function Kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qi(t,n)}return i=r.interleaved,i===null?(e.next=e,qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qi(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}function __(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ef(t,e,n,r){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,S=a;switch(m=e,E=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=Ut({},h,m);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=E,u=h):f=f.next=E,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var dc={},pi=Bs(dc),Nu=Bs(dc),Mu=Bs(dc);function lo(t){if(t===dc)throw Error(ae(174));return t}function Gv(t,e){switch(At(Mu,e),At(Nu,t),At(pi,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lg(e,t)}Mt(pi),At(pi,e)}function $a(){Mt(pi),Mt(Nu),Mt(Mu)}function ST(t){lo(Mu.current);var e=lo(pi.current),n=Lg(e,t.type);e!==n&&(At(Nu,t),At(pi,n))}function Qv(t){Nu.current===t&&(Mt(pi),Mt(Nu))}var zt=Bs(0);function Tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jm=[];function Yv(){for(var t=0;t<jm.length;t++)jm[t]._workInProgressVersionPrimary=null;jm.length=0}var Dd=is.ReactCurrentDispatcher,Om=is.ReactCurrentBatchConfig,bo=0,Bt=null,pn=null,yn=null,Cf=!1,uu=!1,Lu=0,tO=0;function Mn(){throw Error(ae(321))}function Xv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function Jv(t,e,n,r,i,s){if(bo=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?sO:oO,t=n(r,i),uu){s=0;do{if(uu=!1,Lu=0,25<=s)throw Error(ae(301));s+=1,yn=pn=null,e.updateQueue=null,Dd.current=aO,t=n(r,i)}while(uu)}if(Dd.current=If,e=pn!==null&&pn.next!==null,bo=0,yn=pn=Bt=null,Cf=!1,e)throw Error(ae(300));return t}function Zv(){var t=Lu!==0;return Lu=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Bt.memoizedState=yn=t:yn=yn.next=t,yn}function Vr(){if(pn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=yn===null?Bt.memoizedState:yn.next;if(e!==null)yn=e,pn=t;else{if(t===null)throw Error(ae(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},yn===null?Bt.memoizedState=yn=t:yn=yn.next=t}return yn}function Du(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((bo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Bt.lanes|=f,_o|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,ni(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mm(t){var e=Vr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ni(s,e.memoizedState)||(nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ET(){}function TT(t,e){var n=Bt,r=Vr(),i=e(),s=!ni(r.memoizedState,i);if(s&&(r.memoizedState=i,nr=!0),r=r.queue,e0(RT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,$u(9,IT.bind(null,n,r,i,e),void 0,null),xn===null)throw Error(ae(349));bo&30||CT(n,e,i)}return i}function CT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&PT(t)}function RT(t,e,n){return n(function(){kT(e)&&PT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function PT(t){var e=Qi(t,1);e!==null&&ti(e,t,1,-1)}function S_(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=iO.bind(null,Bt,t),[e.memoizedState,t]}function $u(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AT(){return Vr().memoizedState}function $d(t,e,n,r){var i=li();Bt.flags|=t,i.memoizedState=$u(1|e,n,void 0,r===void 0?null:r)}function kh(t,e,n,r){var i=Vr();r=r===void 0?null:r;var s=void 0;if(pn!==null){var o=pn.memoizedState;if(s=o.destroy,r!==null&&Xv(r,o.deps)){i.memoizedState=$u(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=$u(1|e,n,s,r)}function E_(t,e){return $d(8390656,8,t,e)}function e0(t,e){return kh(2048,8,t,e)}function jT(t,e){return kh(4,2,t,e)}function OT(t,e){return kh(4,4,t,e)}function NT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MT(t,e,n){return n=n!=null?n.concat([t]):null,kh(4,4,NT.bind(null,e,t),n)}function t0(){}function LT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DT(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $T(t,e,n){return bo&21?(ni(n,e)||(n=UE(),Bt.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function nO(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=Om.transition;Om.transition={};try{t(!1),e()}finally{St=n,Om.transition=r}}function FT(){return Vr().memoizedState}function rO(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VT(t))zT(e,n);else if(n=_T(t,e,n,r),n!==null){var i=Qn();ti(n,t,r,i),BT(n,e,r)}}function iO(t,e,n){var r=ks(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VT(t))zT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ni(a,o)){var u=e.interleaved;u===null?(i.next=i,qv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=_T(t,e,i,r),n!==null&&(i=Qn(),ti(n,t,r,i),BT(n,e,r))}}function VT(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function zT(t,e){uu=Cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}var If={readContext:Fr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},sO={readContext:Fr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:E_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,NT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rO.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:S_,useDebugValue:t0,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=S_(!1),e=t[0];return t=nO.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=li();if($t){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),xn===null)throw Error(ae(349));bo&30||CT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,E_(RT.bind(null,r,s,t),[t]),r.flags|=2048,$u(9,IT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=li(),e=xn.identifierPrefix;if($t){var n=$i,r=Di;n=(r&~(1<<32-ei(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oO={readContext:Fr,useCallback:LT,useContext:Fr,useEffect:e0,useImperativeHandle:MT,useInsertionEffect:jT,useLayoutEffect:OT,useMemo:DT,useReducer:Nm,useRef:AT,useState:function(){return Nm(Du)},useDebugValue:t0,useDeferredValue:function(t){var e=Vr();return $T(e,pn.memoizedState,t)},useTransition:function(){var t=Nm(Du)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ET,useSyncExternalStore:TT,useId:FT,unstable_isNewReconciler:!1},aO={readContext:Fr,useCallback:LT,useContext:Fr,useEffect:e0,useImperativeHandle:MT,useInsertionEffect:jT,useLayoutEffect:OT,useMemo:DT,useReducer:Mm,useRef:AT,useState:function(){return Mm(Du)},useDebugValue:t0,useDeferredValue:function(t){var e=Vr();return pn===null?e.memoizedState=t:$T(e,pn.memoizedState,t)},useTransition:function(){var t=Mm(Du)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:ET,useSyncExternalStore:TT,useId:FT,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ry(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=ks(t),s=Bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=ks(t),s=Bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(ti(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=ks(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&(ti(e,t,r,n),Ld(e,t,r))}};function T_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function UT(t,e,n){var r=!1,i=Ms,s=e.contextType;return typeof s=="object"&&s!==null?s=Fr(s):(i=sr(e)?vo:Un.current,r=e.contextTypes,s=(r=r!=null)?Ma(t,i):Ms),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function iy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Kv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fr(s):(s=sr(e)?vo:Un.current,i.context=Ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ry(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=MA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lO=typeof WeakMap=="function"?WeakMap:Map;function WT(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,my=r),sy(t,e)},n}function HT(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sy(t,e),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wO.bind(null,t,e,n),e.then(t,t))}function R_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function k_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var uO=is.ReactCurrentOwner,nr=!1;function Kn(t,e,n,r){e.child=t===null?bT(e,null,n,r):Da(e,t.child,n,r)}function P_(t,e,n,r,i){n=n.render;var s=e.ref;return wa(e,i),r=Jv(t,e,n,r,s,i),n=Zv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):($t&&n&&Vv(e),e.flags|=1,Kn(t,e,r,i),e.child)}function A_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!u0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qT(t,e,s,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(o,r)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function qT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pu(s,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return oy(t,e,n,r,i)}function KT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(ma,dr),dr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(ma,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,At(ma,dr),dr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,At(ma,dr),dr|=r;return Kn(t,e,i,n),e.child}function GT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oy(t,e,n,r,i){var s=sr(n)?vo:Un.current;return s=Ma(e,s),wa(e,i),n=Jv(t,e,n,r,s,i),r=Zv(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):($t&&r&&Vv(e),e.flags|=1,Kn(t,e,n,i),e.child)}function j_(t,e,n,r,i){if(sr(n)){var s=!0;xf(e)}else s=!1;if(wa(e,i),e.stateNode===null)Fd(t,e),UT(e,n,r),iy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fr(c):(c=sr(n)?vo:Un.current,c=Ma(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&C_(e,o,r,c),ms=!1;var m=e.memoizedState;o.state=m,Ef(e,r,o,i),u=e.memoizedState,a!==r||m!==u||ir.current||ms?(typeof f=="function"&&(ry(e,n,f,r),u=e.memoizedState),(a=ms||T_(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fr(u):(u=sr(n)?vo:Un.current,u=Ma(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&C_(e,o,r,u),ms=!1,m=e.memoizedState,o.state=m,Ef(e,r,o,i);var T=e.memoizedState;a!==h||m!==T||ir.current||ms?(typeof E=="function"&&(ry(e,n,E,r),T=e.memoizedState),(c=ms||T_(e,n,c,r,m,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ay(t,e,n,r,s,i)}function ay(t,e,n,r,i,s){GT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&y_(e,n,!1),Yi(t,e,s);r=e.stateNode,uO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&y_(e,n,!0),e.child}function QT(t){var e=t.stateNode;e.pendingContext?g_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g_(t,e.context,!1),Gv(t,e.containerInfo)}function O_(t,e,n,r,i){return La(),Bv(i),e.flags|=256,Kn(t,e,n,r),e.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function YT(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(zt,i&1),t===null)return ty(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Oh(o,r,0,null),t=po(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uy(n),e.memoizedState=ly,t):n0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ps(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ps(a,s):(s=po(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ly,r}return s=t.child,t=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n0(t,e){return e=Oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&Bv(r),Da(e,t.child,null,n),t=n0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lm(Error(ae(422))),fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Oh({mode:"visible",children:r.children},i,0,null),s=po(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=uy(o),e.memoizedState=ly,s);if(!(e.mode&1))return fd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Lm(s,r,void 0),fd(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),ti(r,t,i,-1))}return l0(),r=Lm(Error(ae(421))),fd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hr=Cs(i.nextSibling),mr=e,$t=!0,Jr=null,t!==null&&(jr[Or++]=Di,jr[Or++]=$i,jr[Or++]=xo,Di=t.id,$i=t.overflow,xo=e),e=n0(e,r.children),e.flags|=4096,e)}function N_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ny(t.return,e,n)}function Dm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,n,e);else if(t.tag===19)N_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(At(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dm(e,!0,n,null,s);break;case"together":Dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dO(t,e,n){switch(e.tag){case 3:QT(e),La();break;case 5:ST(e);break;case 1:sr(e.type)&&xf(e);break;case 4:Gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;At(wf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(At(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?YT(t,e,n):(At(zt,zt.current&1),t=Yi(t,e,n),t!==null?t.sibling:null);At(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,KT(t,e,n)}return Yi(t,e,n)}var JT,cy,ZT,eC;JT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cy=function(){};ZT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lo(pi.current);var s=null;switch(n){case"input":i=jg(t,i),r=jg(t,r),s=[];break;case"select":i=Ut({},i,{value:void 0}),r=Ut({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yf)}Dg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Su.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Su.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fO(t,e,n){var r=e.pendingProps;switch(zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(e),null;case 1:return sr(e.type)&&vf(),Ln(e),null;case 3:return r=e.stateNode,$a(),Mt(ir),Mt(Un),Yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(vy(Jr),Jr=null))),cy(t,e),Ln(e),null;case 5:Qv(e);var i=lo(Mu.current);if(n=e.type,t!==null&&e.stateNode!=null)ZT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Ln(e),null}if(t=lo(pi.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[di]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<Yl.length;i++)Ot(Yl[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ub(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":Hb(r,s),Ot("invalid",r)}Dg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,a,t),i=["children",""+a]):Su.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":td(r),Wb(r,s,!0);break;case"textarea":td(r),qb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[di]=e,t[Ou]=r,JT(t,e,!1,!1),e.stateNode=t;e:{switch(o=$g(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yl.length;i++)Ot(Yl[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":Ub(t,r),i=jg(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ut({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":Hb(t,r),i=Mg(t,r),Ot("invalid",t);break;default:i=r}Dg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?AE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Eu(t,u):typeof u=="number"&&Eu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Su.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&Cv(t,s,u,o))}switch(n){case"input":td(t),Wb(t,r,!1);break;case"textarea":td(t),qb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ln(e),null;case 6:if(t&&e.stateNode!=null)eC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=lo(Mu.current),lo(pi.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Ln(e),null;case 13:if(Mt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&hr!==null&&e.mode&1&&!(e.flags&128))vT(),La(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[di]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ln(e),s=!1}else Jr!==null&&(vy(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?mn===0&&(mn=3):l0())),e.updateQueue!==null&&(e.flags|=4),Ln(e),null);case 4:return $a(),cy(t,e),t===null&&Au(e.stateNode.containerInfo),Ln(e),null;case 10:return Hv(e.type._context),Ln(e),null;case 17:return sr(e.type)&&vf(),Ln(e),null;case 19:if(Mt(zt),s=e.memoizedState,s===null)return Ln(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ml(s,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tf(t),o!==null){for(e.flags|=128,Ml(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return At(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jt()>Va&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Ln(e),null}else 2*Jt()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=zt.current,At(zt,r?n&1|2:n&1),e):(Ln(e),null);case 22:case 23:return a0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dr&1073741824&&(Ln(e),e.subtreeFlags&6&&(e.flags|=8192)):Ln(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function hO(t,e){switch(zv(e),e.tag){case 1:return sr(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Mt(ir),Mt(Un),Yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qv(e),null;case 13:if(Mt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(zt),null;case 4:return $a(),null;case 10:return Hv(e.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var hd=!1,zn=!1,pO=typeof WeakSet=="function"?WeakSet:Set,xe=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function dy(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var M_=!1;function mO(t,e){if(Gg=pf,t=sT(),Fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qg={focusedElem:t,selectionRange:n},pf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,I=T.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?S:Yr(e.type,S),I);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){Gt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return T=M_,M_=!1,T}function cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dy(e,n,s)}i=i.next}while(i!==r)}}function Ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tC(t){var e=t.alternate;e!==null&&(t.alternate=null,tC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Ou],delete e[Jg],delete e[Xj],delete e[Jj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nC(t){return t.tag===5||t.tag===3||t.tag===4}function L_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yf));else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}function py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(py(t,e,n),t=t.sibling;t!==null;)py(t,e,n),t=t.sibling}var Sn=null,Xr=!1;function ds(t,e,n){for(n=n.child;n!==null;)rC(t,e,n),n=n.sibling}function rC(t,e,n){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:zn||pa(n,e);case 6:var r=Sn,i=Xr;Sn=null,ds(t,e,n),Sn=r,Xr=i,Sn!==null&&(Xr?(t=Sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(Xr?(t=Sn,n=n.stateNode,t.nodeType===8?Pm(t.parentNode,n):t.nodeType===1&&Pm(t,n),Ru(t)):Pm(Sn,n.stateNode));break;case 4:r=Sn,i=Xr,Sn=n.stateNode.containerInfo,Xr=!0,ds(t,e,n),Sn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dy(n,e,o),i=i.next}while(i!==r)}ds(t,e,n);break;case 1:if(!zn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,ds(t,e,n),zn=r):ds(t,e,n);break;default:ds(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pO),e.forEach(function(r){var i=EO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sn=a.stateNode,Xr=!1;break e;case 3:Sn=a.stateNode.containerInfo,Xr=!0;break e;case 4:Sn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(Sn===null)throw Error(ae(160));rC(s,o,i),Sn=null,Xr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iC(e,t),e=e.sibling}function iC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),ai(t),r&4){try{cu(3,t,t.return),Ah(3,t)}catch(S){Gt(t,t.return,S)}try{cu(5,t,t.return)}catch(S){Gt(t,t.return,S)}}break;case 1:Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Gr(e,t),ai(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{Eu(i,"")}catch(S){Gt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CE(i,s),$g(a,o);var c=$g(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?AE(i,h):f==="dangerouslySetInnerHTML"?kE(i,h):f==="children"?Eu(i,h):Cv(i,f,h,c)}switch(a){case"input":Og(i,s);break;case"textarea":IE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?va(i,!!s.multiple,E,!1):m!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(S){Gt(t,t.return,S)}}break;case 6:if(Gr(e,t),ai(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Gt(t,t.return,S)}}break;case 3:if(Gr(e,t),ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(e.containerInfo)}catch(S){Gt(t,t.return,S)}break;case 4:Gr(e,t),ai(t);break;case 13:Gr(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s0=Jt())),r&4&&D_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(c=zn)||f,Gr(e,t),zn=c):Gr(e,t),ai(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(h=xe=f;xe!==null;){switch(m=xe,E=m.child,m.tag){case 0:case 11:case 14:case 15:cu(4,m,m.return);break;case 1:pa(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){Gt(r,n,S)}}break;case 5:pa(m,m.return);break;case 22:if(m.memoizedState!==null){F_(h);continue}}E!==null?(E.return=m,xe=E):F_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=PE("display",o))}catch(S){Gt(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Gt(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gr(e,t),ai(t),r&4&&D_(t);break;case 21:break;default:Gr(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nC(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eu(i,""),r.flags&=-33);var s=L_(t);py(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L_(t);hy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gO(t,e,n){xe=t,sC(t)}function sC(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||zn;a=hd;var c=zn;if(hd=o,(zn=u)&&!c)for(xe=i;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?V_(i):u!==null?(u.return=o,xe=u):V_(i);for(;s!==null;)xe=s,sC(s),s=s.sibling;xe=i,hd=a,zn=c}$_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):$_(t)}}function $_(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||Ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ru(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}zn||e.flags&512&&fy(e)}catch(m){Gt(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function F_(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function V_(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ah(4,e)}catch(u){Gt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Gt(e,i,u)}}var s=e.return;try{fy(e)}catch(u){Gt(e,s,u)}break;case 5:var o=e.return;try{fy(e)}catch(u){Gt(e,o,u)}}}catch(u){Gt(e,e.return,u)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var yO=Math.ceil,Rf=is.ReactCurrentDispatcher,r0=is.ReactCurrentOwner,Lr=is.ReactCurrentBatchConfig,dt=0,xn=null,an=null,Rn=0,dr=0,ma=Bs(0),mn=0,Fu=null,_o=0,jh=0,i0=0,du=null,er=null,s0=0,Va=1/0,Pi=null,kf=!1,my=null,Rs=null,pd=!1,bs=null,Pf=0,fu=0,gy=null,Vd=-1,zd=0;function Qn(){return dt&6?Jt():Vd!==-1?Vd:Vd=Jt()}function ks(t){return t.mode&1?dt&2&&Rn!==0?Rn&-Rn:eO.transition!==null?(zd===0&&(zd=UE()),zd):(t=St,t!==0||(t=window.event,t=t===void 0?16:YE(t.type)),t):1}function ti(t,e,n,r){if(50<fu)throw fu=0,gy=null,Error(ae(185));lc(t,n,r),(!(dt&2)||t!==xn)&&(t===xn&&(!(dt&2)&&(jh|=n),mn===4&&vs(t,Rn)),or(t,r),n===1&&dt===0&&!(e.mode&1)&&(Va=Jt()+500,Rh&&Us()))}function or(t,e){var n=t.callbackNode;ej(t,e);var r=hf(t,t===xn?Rn:0);if(r===0)n!==null&&Qb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qb(n),e===1)t.tag===0?Zj(z_.bind(null,t)):mT(z_.bind(null,t)),Qj(function(){!(dt&6)&&Us()}),n=null;else{switch(WE(r)){case 1:n=Av;break;case 4:n=zE;break;case 16:n=ff;break;case 536870912:n=BE;break;default:n=ff}n=hC(n,oC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oC(t,e){if(Vd=-1,zd=0,dt&6)throw Error(ae(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=hf(t,t===xn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Af(t,r);else{e=r;var i=dt;dt|=2;var s=lC();(xn!==t||Rn!==e)&&(Pi=null,Va=Jt()+500,ho(t,e));do try{bO();break}catch(a){aC(t,a)}while(!0);Wv(),Rf.current=s,dt=i,an!==null?e=0:(xn=null,Rn=0,e=mn)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(r=i,e=yy(t,i))),e===1)throw n=Fu,ho(t,0),vs(t,r),or(t,Jt()),n;if(e===6)vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!vO(i)&&(e=Af(t,r),e===2&&(s=Ug(t),s!==0&&(r=s,e=yy(t,s))),e===1))throw n=Fu,ho(t,0),vs(t,r),or(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:to(t,er,Pi);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=s0+500-Jt(),10<e)){if(hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xg(to.bind(null,t,er,Pi),e);break}to(t,er,Pi);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ei(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yO(r/1960))-r,10<r){t.timeoutHandle=Xg(to.bind(null,t,er,Pi),r);break}to(t,er,Pi);break;case 5:to(t,er,Pi);break;default:throw Error(ae(329))}}}return or(t,Jt()),t.callbackNode===n?oC.bind(null,t):null}function yy(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=Af(t,e),t!==2&&(e=er,er=n,e!==null&&vy(e)),t}function vy(t){er===null?er=t:er.push.apply(er,t)}function vO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~i0,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ei(e),r=1<<n;t[n]=-1,e&=~r}}function z_(t){if(dt&6)throw Error(ae(327));Sa();var e=hf(t,0);if(!(e&1))return or(t,Jt()),null;var n=Af(t,e);if(t.tag!==0&&n===2){var r=Ug(t);r!==0&&(e=r,n=yy(t,r))}if(n===1)throw n=Fu,ho(t,0),vs(t,e),or(t,Jt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,er,Pi),or(t,Jt()),null}function o0(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(Va=Jt()+500,Rh&&Us())}}function wo(t){bs!==null&&bs.tag===0&&!(dt&6)&&Sa();var e=dt;dt|=1;var n=Lr.transition,r=St;try{if(Lr.transition=null,St=1,t)return t()}finally{St=r,Lr.transition=n,dt=e,!(dt&6)&&Us()}}function a0(){dr=ma.current,Mt(ma)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gj(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(zv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vf();break;case 3:$a(),Mt(ir),Mt(Un),Yv();break;case 5:Qv(r);break;case 4:$a();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Hv(r.type._context);break;case 22:case 23:a0()}n=n.return}if(xn=t,an=t=Ps(t.current,null),Rn=dr=e,mn=0,Fu=null,i0=jh=_o=0,er=du=null,ao!==null){for(e=0;e<ao.length;e++)if(n=ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ao=null}return t}function aC(t,e){do{var n=an;try{if(Wv(),Dd.current=If,Cf){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cf=!1}if(bo=0,yn=pn=Bt=null,uu=!1,Lu=0,r0.current=null,n===null||n.return===null){mn=1,Fu=e,an=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Rn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=R_(o);if(E!==null){E.flags&=-257,k_(E,o,a,s,e),E.mode&1&&I_(s,c,e),e=E,u=c;var T=e.updateQueue;if(T===null){var S=new Set;S.add(u),e.updateQueue=S}else T.add(u);break e}else{if(!(e&1)){I_(s,c,e),l0();break e}u=Error(ae(426))}}else if($t&&a.mode&1){var I=R_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),k_(I,o,a,s,e),Bv(Fa(u,a));break e}}s=u=Fa(u,a),mn!==4&&(mn=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=WT(s,u,e);__(s,C);break e;case 1:a=u;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rs===null||!Rs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=HT(s,a,e);__(s,R);break e}}s=s.return}while(s!==null)}cC(n)}catch(M){e=M,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function lC(){var t=Rf.current;return Rf.current=If,t===null?If:t}function l0(){(mn===0||mn===3||mn===2)&&(mn=4),xn===null||!(_o&268435455)&&!(jh&268435455)||vs(xn,Rn)}function Af(t,e){var n=dt;dt|=2;var r=lC();(xn!==t||Rn!==e)&&(Pi=null,ho(t,e));do try{xO();break}catch(i){aC(t,i)}while(!0);if(Wv(),dt=n,Rf.current=r,an!==null)throw Error(ae(261));return xn=null,Rn=0,mn}function xO(){for(;an!==null;)uC(an)}function bO(){for(;an!==null&&!HA();)uC(an)}function uC(t){var e=fC(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?cC(t):an=e,r0.current=null}function cC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hO(n,e),n!==null){n.flags&=32767,an=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,an=null;return}}else if(n=fO(n,e,dr),n!==null){an=n;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);mn===0&&(mn=5)}function to(t,e,n){var r=St,i=Lr.transition;try{Lr.transition=null,St=1,_O(t,e,n,r)}finally{Lr.transition=i,St=r}return null}function _O(t,e,n,r){do Sa();while(bs!==null);if(dt&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tj(t,s),t===xn&&(an=xn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pd||(pd=!0,hC(ff,function(){return Sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=St;St=1;var a=dt;dt|=4,r0.current=null,mO(t,n),iC(n,t),zj(Qg),pf=!!Gg,Qg=Gg=null,t.current=n,gO(n),qA(),dt=a,St=o,Lr.transition=s}else t.current=n;if(pd&&(pd=!1,bs=t,Pf=i),s=t.pendingLanes,s===0&&(Rs=null),QA(n.stateNode),or(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,t=my,my=null,t;return Pf&1&&t.tag!==0&&Sa(),s=t.pendingLanes,s&1?t===gy?fu++:(fu=0,gy=t):fu=0,Us(),null}function Sa(){if(bs!==null){var t=WE(Pf),e=Lr.transition,n=St;try{if(Lr.transition=null,St=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,Pf=0,dt&6)throw Error(ae(331));var i=dt;for(dt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:cu(8,f,s)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var m=f.sibling,E=f.return;if(tC(f),f===c){xe=null;break}if(m!==null){m.return=E,xe=m;break}xe=E}}}var T=s.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,xe=C;break e}xe=s.return}}var y=t.current;for(xe=y;xe!==null;){o=xe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,xe=x;else e:for(o=y;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ah(9,a)}}catch(M){Gt(a,a.return,M)}if(a===o){xe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,xe=R;break e}xe=a.return}}if(dt=i,Us(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(Sh,t)}catch{}r=!0}return r}finally{St=n,Lr.transition=e}}return!1}function B_(t,e,n){e=Fa(n,e),e=WT(t,e,1),t=Is(t,e,1),e=Qn(),t!==null&&(lc(t,1,e),or(t,e))}function Gt(t,e,n){if(t.tag===3)B_(t,t,n);else for(;e!==null;){if(e.tag===3){B_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){t=Fa(n,t),t=HT(e,t,1),e=Is(e,t,1),t=Qn(),e!==null&&(lc(e,1,t),or(e,t));break}}e=e.return}}function wO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,xn===t&&(Rn&n)===n&&(mn===4||mn===3&&(Rn&130023424)===Rn&&500>Jt()-s0?ho(t,0):i0|=n),or(t,e)}function dC(t,e){e===0&&(t.mode&1?(e=id,id<<=1,!(id&130023424)&&(id=4194304)):e=1);var n=Qn();t=Qi(t,e),t!==null&&(lc(t,e,n),or(t,n))}function SO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dC(t,n)}function EO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),dC(t,n)}var fC;fC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,dO(t,e,n);nr=!!(t.flags&131072)}else nr=!1,$t&&e.flags&1048576&&gT(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var i=Ma(e,Un.current);wa(e,n),i=Jv(null,e,r,t,i,n);var s=Zv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(s=!0,xf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kv(e),i.updater=Ph,e.stateNode=i,i._reactInternals=e,iy(e,r,t,n),e=ay(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&Vv(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CO(r),t=Yr(r,t),i){case 0:e=oy(null,e,r,t,n);break e;case 1:e=j_(null,e,r,t,n);break e;case 11:e=P_(null,e,r,t,n);break e;case 14:e=A_(null,e,r,Yr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),oy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),j_(t,e,r,i,n);case 3:e:{if(QT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wT(t,e),Ef(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fa(Error(ae(423)),e),e=O_(t,e,r,n,i);break e}else if(r!==i){i=Fa(Error(ae(424)),e),e=O_(t,e,r,n,i);break e}else for(hr=Cs(e.stateNode.containerInfo.firstChild),mr=e,$t=!0,Jr=null,n=bT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Yi(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&ty(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yg(r,i)?o=null:s!==null&&Yg(r,s)&&(e.flags|=32),GT(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&ty(e),null;case 13:return YT(t,e,n);case 4:return Gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),P_(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,At(wf,r._currentValue),r._currentValue=o,s!==null)if(ni(s.value,o)){if(s.children===i.children&&!ir.current){e=Yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Bi(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ny(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ny(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wa(e,n),i=Fr(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),A_(t,e,r,i,n);case 15:return qT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Fd(t,e),e.tag=1,sr(r)?(t=!0,xf(e)):t=!1,wa(e,n),UT(e,r,i),iy(e,r,i,n),ay(null,e,r,!0,t,n);case 19:return XT(t,e,n);case 22:return KT(t,e,n)}throw Error(ae(156,e.tag))};function hC(t,e){return VE(t,e)}function TO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new TO(t,e,n,r)}function u0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CO(t){if(typeof t=="function")return u0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rv)return 11;if(t===kv)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")u0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return po(n.children,i,s,e);case Iv:o=8,i|=8;break;case Rg:return t=Mr(12,n,e,i|2),t.elementType=Rg,t.lanes=s,t;case kg:return t=Mr(13,n,e,i),t.elementType=kg,t.lanes=s,t;case Pg:return t=Mr(19,n,e,i),t.elementType=Pg,t.lanes=s,t;case SE:return Oh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _E:o=10;break e;case wE:o=9;break e;case Rv:o=11;break e;case kv:o=14;break e;case ps:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function po(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function Oh(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=SE,t.lanes=n,t.stateNode={isHidden:!1},t}function $m(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function Fm(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function c0(t,e,n,r,i,s,o,a,u){return t=new IO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kv(s),t}function RO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pC(t){if(!t)return Ms;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(sr(n))return pT(t,n,e)}return e}function mC(t,e,n,r,i,s,o,a,u){return t=c0(n,r,!0,t,i,s,o,a,u),t.context=pC(null),n=t.current,r=Qn(),i=ks(n),s=Bi(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,lc(t,i,r),or(t,r),t}function Nh(t,e,n,r){var i=e.current,s=Qn(),o=ks(i);return n=pC(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&(ti(t,i,o,s),Ld(t,i,o)),o}function jf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d0(t,e){U_(t,e),(t=t.alternate)&&U_(t,e)}function kO(){return null}var gC=typeof reportError=="function"?reportError:function(t){console.error(t)};function f0(t){this._internalRoot=t}Mh.prototype.render=f0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Nh(t,e,null,null)};Mh.prototype.unmount=f0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Nh(null,t,null,null)}),e[Gi]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&QE(t)}};function h0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W_(){}function PO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=jf(o);s.call(c)}}var o=mC(e,r,t,0,null,!1,!1,"",W_);return t._reactRootContainer=o,t[Gi]=o.current,Au(t.nodeType===8?t.parentNode:t),wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=jf(u);a.call(c)}}var u=c0(t,0,!1,null,null,!1,!1,"",W_);return t._reactRootContainer=u,t[Gi]=u.current,Au(t.nodeType===8?t.parentNode:t),wo(function(){Nh(e,u,n,r)}),u}function Dh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=jf(o);a.call(u)}}Nh(e,o,t,i)}else o=PO(n,e,t,i,r);return jf(o)}HE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ql(e.pendingLanes);n!==0&&(jv(e,n|1),or(e,Jt()),!(dt&6)&&(Va=Jt()+500,Us()))}break;case 13:wo(function(){var r=Qi(t,1);if(r!==null){var i=Qn();ti(r,t,1,i)}}),d0(t,1)}};Ov=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var n=Qn();ti(e,t,134217728,n)}d0(t,134217728)}};qE=function(t){if(t.tag===13){var e=ks(t),n=Qi(t,e);if(n!==null){var r=Qn();ti(n,t,e,r)}d0(t,e)}};KE=function(){return St};GE=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};Vg=function(t,e,n){switch(e){case"input":if(Og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ih(r);if(!i)throw Error(ae(90));TE(r),Og(r,i)}}}break;case"textarea":IE(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};NE=o0;ME=wo;var AO={usingClientEntryPoint:!1,Events:[cc,ua,Ih,jE,OE,o0]},Ll={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jO={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$E(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Sh=md.inject(jO),hi=md}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AO;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(e))throw Error(ae(200));return RO(t,e,null,n)};Sr.createRoot=function(t,e){if(!h0(t))throw Error(ae(299));var n=!1,r="",i=gC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=c0(t,1,!1,null,null,n,!1,r,i),t[Gi]=e.current,Au(t.nodeType===8?t.parentNode:t),new f0(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=$E(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return wo(t)};Sr.hydrate=function(t,e,n){if(!Lh(e))throw Error(ae(200));return Dh(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!h0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mC(e,null,t,1,n??null,i,!1,s,o),t[Gi]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mh(e)};Sr.render=function(t,e,n){if(!Lh(e))throw Error(ae(200));return Dh(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!Lh(t))throw Error(ae(40));return t._reactRootContainer?(wo(function(){Dh(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};Sr.unstable_batchedUpdates=o0;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lh(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Dh(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(t){console.error(t)}}yC(),yE.exports=Sr;var p0=yE.exports;const gd=vh(p0);var H_=p0;Cg.createRoot=H_.createRoot,Cg.hydrateRoot=H_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const q_="popstate";function OO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Mo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),xy("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Of(s))}function r(i,s){m0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return MO(e,n,r,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NO(){return Math.random().toString(36).substr(2,8)}function K_(t,e){return{usr:t.state,key:t.key,idx:e}}function xy(t,e,n,r){return n===void 0&&(n=null),Vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||r||NO()})}function Of(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_s.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Vu({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=_s.Pop;let I=f(),C=I==null?null:I-c;c=I,u&&u({action:a,location:S.location,delta:C})}function m(I,C){a=_s.Push;let y=xy(S.location,I,C);n&&n(y,I),c=f()+1;let x=K_(y,c),R=S.createHref(y);try{o.pushState(x,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&u&&u({action:a,location:S.location,delta:1})}function E(I,C){a=_s.Replace;let y=xy(S.location,I,C);n&&n(y,I),c=f();let x=K_(y,c),R=S.createHref(y);o.replaceState(x,"",R),s&&u&&u({action:a,location:S.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof I=="string"?I:Of(I);return y=y.replace(/ $/,"%20"),un(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let S={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(q_,h),u=I,()=>{i.removeEventListener(q_,h),u=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:E,go(I){return o.go(I)}};return S}var G_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G_||(G_={}));function LO(t,e,n){return n===void 0&&(n="/"),DO(t,e,n)}function DO(t,e,n,r){let i=typeof e=="string"?Mo(e):e,s=g0(i.pathname||"/",n);if(s==null)return null;let o=vC(t);$O(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=YO(s);a=KO(o[u],c)}return a}function vC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(un(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=As([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of xC(s.path))i(s,o,u)}),e}function xC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=xC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function $O(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FO=/^:[\w-]+$/,VO=3,zO=2,BO=1,UO=10,WO=-2,Q_=t=>t==="*";function HO(t,e){let n=t.split("/"),r=n.length;return n.some(Q_)&&(r+=WO),e&&(r+=zO),n.filter(i=>!Q_(i)).reduce((i,s)=>i+(FO.test(s)?VO:s===""?BO:UO),r)}function qO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=GO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:As([s,h.pathname]),pathnameBase:eN(As([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=As([s,h.pathnameBase]))}return o}function GO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const T=a[h];return E&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function QO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),m0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return m0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:JO(n,e):e,search:tN(r),hash:nN(i)}}function JO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bC(t,e){let n=ZO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _C(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mo(t):(i=Vu({},t),un(!i.pathname||!i.pathname.includes("?"),Vm("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),Vm("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),Vm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=XO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const As=t=>t.join("/").replace(/\/\/+/g,"/"),eN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wC=["post","put","patch","delete"];new Set(wC);const iN=["get",...wC];new Set(iN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}const y0=w.createContext(null),sN=w.createContext(null),Lo=w.createContext(null),$h=w.createContext(null),Ws=w.createContext({outlet:null,matches:[],isDataRoute:!1}),SC=w.createContext(null);function oN(t,e){let{relative:n}=e===void 0?{}:e;fc()||un(!1);let{basename:r,navigator:i}=w.useContext(Lo),{hash:s,pathname:o,search:a}=TC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:As([r,o])),i.createHref({pathname:u,search:a,hash:s})}function fc(){return w.useContext($h)!=null}function Hs(){return fc()||un(!1),w.useContext($h).location}function EC(t){w.useContext(Lo).static||w.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=w.useContext(Ws);return t?xN():aN()}function aN(){fc()||un(!1);let t=w.useContext(y0),{basename:e,future:n,navigator:r}=w.useContext(Lo),{matches:i}=w.useContext(Ws),{pathname:s}=Hs(),o=JSON.stringify(bC(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return EC(()=>{a.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=_C(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:As([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function hc(){let{matches:t}=w.useContext(Ws),e=t[t.length-1];return e?e.params:{}}function TC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Lo),{matches:i}=w.useContext(Ws),{pathname:s}=Hs(),o=JSON.stringify(bC(i,r.v7_relativeSplatPath));return w.useMemo(()=>_C(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function lN(t,e){return uN(t,e)}function uN(t,e,n,r){fc()||un(!1);let{navigator:i}=w.useContext(Lo),{matches:s}=w.useContext(Ws),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Hs(),f;if(e){var h;let I=typeof e=="string"?Mo(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||un(!1),f=I}else f=c;let m=f.pathname||"/",E=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=LO(t,{pathname:E}),S=pN(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:As([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:As([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&S?w.createElement($h.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_s.Pop}},S):S}function cN(){let t=vN(),e=rN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const dN=w.createElement(cN,null);class fN extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ws.Provider,{value:this.props.routeContext},w.createElement(SC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(y0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ws.Provider,{value:e},r)}function pN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||un(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:E}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let E,T=!1,S=null,I=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||dN,u&&(c<0&&m===0?(bN("route-fallback"),T=!0,I=null):c===m&&(T=!0,I=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),y=()=>{let x;return E?x=S:T?x=I:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=f,w.createElement(hN,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(fN,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):y()},null)}var CC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CC||{}),IC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IC||{});function mN(t){let e=w.useContext(y0);return e||un(!1),e}function gN(t){let e=w.useContext(sN);return e||un(!1),e}function yN(t){let e=w.useContext(Ws);return e||un(!1),e}function RC(t){let e=yN(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function vN(){var t;let e=w.useContext(SC),n=gN(),r=RC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xN(){let{router:t}=mN(CC.UseNavigateStable),e=RC(IC.UseNavigateStable),n=w.useRef(!1);return EC(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zu({fromRouteId:e},s)))},[t,e])}const Y_={};function bN(t,e,n){Y_[t]||(Y_[t]=!0)}function _N(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hn(t){un(!1)}function wN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_s.Pop,navigator:s,static:o=!1,future:a}=t;fc()&&un(!1);let u=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:s,static:o,future:zu({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Mo(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:T="default"}=r,S=w.useMemo(()=>{let I=g0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:E,key:T},navigationType:i}},[u,f,h,m,E,T,i]);return S==null?null:w.createElement(Lo.Provider,{value:c},w.createElement($h.Provider,{children:n,value:S}))}function SN(t){let{children:e,location:n}=t;return lN(by(e),n)}new Promise(()=>{});function by(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,by(r.props.children,s));return}r.type!==hn&&un(!1),!r.props.index||!r.props.children||un(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=by(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function EN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CN(t,e){return t.button===0&&(!e||e==="_self")&&!TN(t)}const IN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RN="6";try{window.__reactRouterVersion=RN}catch{}const kN="startTransition",X_=lf[kN];function PN(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=OO({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(h=>{c&&X_?X_(()=>u(h)):u(h)},[u,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>_N(r),[r]),w.createElement(wN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,za=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=EN(e,IN),{basename:E}=w.useContext(Lo),T,S=!1;if(typeof c=="string"&&jN.test(c)&&(T=c,AN))try{let x=new URL(window.location.href),R=c.startsWith("//")?new URL(x.protocol+c):new URL(c),M=g0(R.pathname,E);R.origin===x.origin&&M!=null?c=M+R.search+R.hash:S=!0}catch{}let I=oN(c,{relative:i}),C=ON(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function y(x){r&&r(x),x.defaultPrevented||C(x)}return w.createElement("a",_y({},m,{href:T||I,onClick:S||s?r:y,ref:n,target:u}))});var J_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J_||(J_={}));var Z_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z_||(Z_={}));function ON(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Ur(),c=Hs(),f=TC(t,{relative:o});return w.useCallback(h=>{if(CN(h,n)){h.preventDefault();let m=r!==void 0?r:Of(c)===Of(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,E=c&63;u||(E=64,o||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new MN;const m=s<<2|a>>4;if(r.push(m),c!==64){const E=a<<4&240|c>>2;if(r.push(E),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(t){const e=kC(t);return PC.encodeByteArray(e,!0)},Nf=function(t){return LN(t).replace(/\./g,"")},AC=function(t){try{return PC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=()=>DN().__FIREBASE_DEFAULTS__,FN=()=>{if(typeof process>"u"||typeof e1>"u")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AC(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return $N()||FN()||VN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jC=t=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OC=t=>{const e=jC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NC=()=>{var t;return(t=Fh())===null||t===void 0?void 0:t.config},MC=t=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function UN(){var t;const e=(t=Fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GN(){return!UN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QN(){try{return typeof indexedDB=="object"}catch{return!1}}function YN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XN,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ei(i,a,r)}}function JN(t,e){return t.replace(ZN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZN=/\{\$([^}]+)}/g;function eM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(t1(s)&&t1(o)){if(!Mf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function t1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tM(t,e){const n=new nM(t,e);return n.subscribe.bind(n)}class nM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zm),i.error===void 0&&(i.error=zm),i.complete===void 0&&(i.complete=zm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oM(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sM(t){return t===no?void 0:t}function oM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const lM={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},uM=at.INFO,cM={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},dM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v0{constructor(e){this.name=e,this._logLevel=uM,this._logHandler=dM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const fM=(t,e)=>e.some(n=>t instanceof n);let n1,r1;function hM(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pM(){return r1||(r1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DC=new WeakMap,wy=new WeakMap,$C=new WeakMap,Bm=new WeakMap,x0=new WeakMap;function mM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(js(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),x0.set(e,t),e}function gM(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yM(t){Sy=t(Sy)}function vM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Um(this),e,...n);return $C.set(r,e.sort?e.sort():[e]),js(r)}:pM().includes(t)?function(...e){return t.apply(Um(this),e),js(DC.get(this))}:function(...e){return js(t.apply(Um(this),e))}}function xM(t){return typeof t=="function"?vM(t):(t instanceof IDBTransaction&&gM(t),fM(t,hM())?new Proxy(t,Sy):t)}function js(t){if(t instanceof IDBRequest)return mM(t);if(Bm.has(t))return Bm.get(t);const e=xM(t);return e!==t&&(Bm.set(t,e),x0.set(e,t)),e}const Um=t=>x0.get(t);function bM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(js(o.result),u.oldVersion,u.newVersion,js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _M=["get","getKey","getAll","getAllKeys","count"],wM=["put","add","delete","clear"],Wm=new Map;function i1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_M.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Wm.set(e,s),s}yM(t=>({...t,get:(e,n,r)=>i1(e,n)||t.get(e,n,r),has:(e,n)=>!!i1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",s1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new v0("@firebase/app"),TM="@firebase/app-compat",CM="@firebase/analytics-compat",IM="@firebase/analytics",RM="@firebase/app-check-compat",kM="@firebase/app-check",PM="@firebase/auth",AM="@firebase/auth-compat",jM="@firebase/database",OM="@firebase/data-connect",NM="@firebase/database-compat",MM="@firebase/functions",LM="@firebase/functions-compat",DM="@firebase/installations",$M="@firebase/installations-compat",FM="@firebase/messaging",VM="@firebase/messaging-compat",zM="@firebase/performance",BM="@firebase/performance-compat",UM="@firebase/remote-config",WM="@firebase/remote-config-compat",HM="@firebase/storage",qM="@firebase/storage-compat",KM="@firebase/firestore",GM="@firebase/vertexai-preview",QM="@firebase/firestore-compat",YM="firebase",XM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",JM={[Ey]:"fire-core",[TM]:"fire-core-compat",[IM]:"fire-analytics",[CM]:"fire-analytics-compat",[kM]:"fire-app-check",[RM]:"fire-app-check-compat",[PM]:"fire-auth",[AM]:"fire-auth-compat",[jM]:"fire-rtdb",[OM]:"fire-data-connect",[NM]:"fire-rtdb-compat",[MM]:"fire-fn",[LM]:"fire-fn-compat",[DM]:"fire-iid",[$M]:"fire-iid-compat",[FM]:"fire-fcm",[VM]:"fire-fcm-compat",[zM]:"fire-perf",[BM]:"fire-perf-compat",[UM]:"fire-rc",[WM]:"fire-rc-compat",[HM]:"fire-gcs",[qM]:"fire-gcs-compat",[KM]:"fire-fst",[QM]:"fire-fst-compat",[GM]:"fire-vertex","fire-js":"fire-js",[YM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,ZM=new Map,Cy=new Map;function o1(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Cy.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const n of Lf.values())o1(n,t);for(const n of ZM.values())o1(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new pc("app","Firebase",eL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=XM;function FC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(n||(n=NC()),!n)throw Os.create("no-options");const s=Lf.get(i);if(s){if(Mf(n,s.options)&&Mf(r,s.config))return s;throw Os.create("duplicate-app",{appName:i})}const o=new aM(i);for(const u of Cy.values())o.addComponent(u);const a=new tL(n,r,o);return Lf.set(i,a),a}function b0(t=Ty){const e=Lf.get(t);if(!e&&t===Ty&&NC())return FC();if(!e)throw Os.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=JM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(a.join(" "));return}So(new Ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firebase-heartbeat-database",rL=1,Bu="firebase-heartbeat-store";let Hm=null;function VC(){return Hm||(Hm=bM(nL,rL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function iL(t){try{const n=(await VC()).transaction(Bu),r=await n.objectStore(Bu).get(zC(t));return await n.done,r}catch(e){if(e instanceof Ei)Xi.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function a1(t,e){try{const r=(await VC()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,zC(t)),await r.done}catch(n){if(n instanceof Ei)Xi.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function zC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=1024,oL=30*24*60*60*1e3;class aL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=oL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:i}=lL(this._heartbeatsCache.heartbeats),s=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xi.warn(n),""}}}function l1(){return new Date().toISOString().substring(0,10)}function lL(t,e=sL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),u1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),u1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QN()?YN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function u1(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){So(new Ls("platform-logger",e=>new SM(e),"PRIVATE")),So(new Ls("heartbeat",e=>new aL(e),"PRIVATE")),mi(Ey,s1,t),mi(Ey,s1,"esm2017"),mi("fire-js","")}cL("");var dL="firebase",fL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(dL,fL,"app");var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,BC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,p){function g(){}g.prototype=p.prototype,b.D=p.prototype,b.prototype=new g,b.prototype.constructor=b,b.C=function(_,O,j){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return p.prototype[O].apply(_,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,p,g){g||(g=0);var _=Array(16);if(typeof p=="string")for(var O=0;16>O;++O)_[O]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(O=0;16>O;++O)_[O]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=b.g[0],g=b.g[1],O=b.g[2];var j=b.g[3],P=p+(j^g&(O^j))+_[0]+3614090360&4294967295;p=g+(P<<7&4294967295|P>>>25),P=j+(O^p&(g^O))+_[1]+3905402710&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(g^j&(p^g))+_[2]+606105819&4294967295,O=j+(P<<17&4294967295|P>>>15),P=g+(p^O&(j^p))+_[3]+3250441966&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(j^g&(O^j))+_[4]+4118548399&4294967295,p=g+(P<<7&4294967295|P>>>25),P=j+(O^p&(g^O))+_[5]+1200080426&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(g^j&(p^g))+_[6]+2821735955&4294967295,O=j+(P<<17&4294967295|P>>>15),P=g+(p^O&(j^p))+_[7]+4249261313&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(j^g&(O^j))+_[8]+1770035416&4294967295,p=g+(P<<7&4294967295|P>>>25),P=j+(O^p&(g^O))+_[9]+2336552879&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(g^j&(p^g))+_[10]+4294925233&4294967295,O=j+(P<<17&4294967295|P>>>15),P=g+(p^O&(j^p))+_[11]+2304563134&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(j^g&(O^j))+_[12]+1804603682&4294967295,p=g+(P<<7&4294967295|P>>>25),P=j+(O^p&(g^O))+_[13]+4254626195&4294967295,j=p+(P<<12&4294967295|P>>>20),P=O+(g^j&(p^g))+_[14]+2792965006&4294967295,O=j+(P<<17&4294967295|P>>>15),P=g+(p^O&(j^p))+_[15]+1236535329&4294967295,g=O+(P<<22&4294967295|P>>>10),P=p+(O^j&(g^O))+_[1]+4129170786&4294967295,p=g+(P<<5&4294967295|P>>>27),P=j+(g^O&(p^g))+_[6]+3225465664&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(j^p))+_[11]+643717713&4294967295,O=j+(P<<14&4294967295|P>>>18),P=g+(j^p&(O^j))+_[0]+3921069994&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(g^O))+_[5]+3593408605&4294967295,p=g+(P<<5&4294967295|P>>>27),P=j+(g^O&(p^g))+_[10]+38016083&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(j^p))+_[15]+3634488961&4294967295,O=j+(P<<14&4294967295|P>>>18),P=g+(j^p&(O^j))+_[4]+3889429448&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(g^O))+_[9]+568446438&4294967295,p=g+(P<<5&4294967295|P>>>27),P=j+(g^O&(p^g))+_[14]+3275163606&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(j^p))+_[3]+4107603335&4294967295,O=j+(P<<14&4294967295|P>>>18),P=g+(j^p&(O^j))+_[8]+1163531501&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(O^j&(g^O))+_[13]+2850285829&4294967295,p=g+(P<<5&4294967295|P>>>27),P=j+(g^O&(p^g))+_[2]+4243563512&4294967295,j=p+(P<<9&4294967295|P>>>23),P=O+(p^g&(j^p))+_[7]+1735328473&4294967295,O=j+(P<<14&4294967295|P>>>18),P=g+(j^p&(O^j))+_[12]+2368359562&4294967295,g=O+(P<<20&4294967295|P>>>12),P=p+(g^O^j)+_[5]+4294588738&4294967295,p=g+(P<<4&4294967295|P>>>28),P=j+(p^g^O)+_[8]+2272392833&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^g)+_[11]+1839030562&4294967295,O=j+(P<<16&4294967295|P>>>16),P=g+(O^j^p)+_[14]+4259657740&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^j)+_[1]+2763975236&4294967295,p=g+(P<<4&4294967295|P>>>28),P=j+(p^g^O)+_[4]+1272893353&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^g)+_[7]+4139469664&4294967295,O=j+(P<<16&4294967295|P>>>16),P=g+(O^j^p)+_[10]+3200236656&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^j)+_[13]+681279174&4294967295,p=g+(P<<4&4294967295|P>>>28),P=j+(p^g^O)+_[0]+3936430074&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^g)+_[3]+3572445317&4294967295,O=j+(P<<16&4294967295|P>>>16),P=g+(O^j^p)+_[6]+76029189&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(g^O^j)+_[9]+3654602809&4294967295,p=g+(P<<4&4294967295|P>>>28),P=j+(p^g^O)+_[12]+3873151461&4294967295,j=p+(P<<11&4294967295|P>>>21),P=O+(j^p^g)+_[15]+530742520&4294967295,O=j+(P<<16&4294967295|P>>>16),P=g+(O^j^p)+_[2]+3299628645&4294967295,g=O+(P<<23&4294967295|P>>>9),P=p+(O^(g|~j))+_[0]+4096336452&4294967295,p=g+(P<<6&4294967295|P>>>26),P=j+(g^(p|~O))+_[7]+1126891415&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~g))+_[14]+2878612391&4294967295,O=j+(P<<15&4294967295|P>>>17),P=g+(j^(O|~p))+_[5]+4237533241&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~j))+_[12]+1700485571&4294967295,p=g+(P<<6&4294967295|P>>>26),P=j+(g^(p|~O))+_[3]+2399980690&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~g))+_[10]+4293915773&4294967295,O=j+(P<<15&4294967295|P>>>17),P=g+(j^(O|~p))+_[1]+2240044497&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~j))+_[8]+1873313359&4294967295,p=g+(P<<6&4294967295|P>>>26),P=j+(g^(p|~O))+_[15]+4264355552&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~g))+_[6]+2734768916&4294967295,O=j+(P<<15&4294967295|P>>>17),P=g+(j^(O|~p))+_[13]+1309151649&4294967295,g=O+(P<<21&4294967295|P>>>11),P=p+(O^(g|~j))+_[4]+4149444226&4294967295,p=g+(P<<6&4294967295|P>>>26),P=j+(g^(p|~O))+_[11]+3174756917&4294967295,j=p+(P<<10&4294967295|P>>>22),P=O+(p^(j|~g))+_[2]+718787259&4294967295,O=j+(P<<15&4294967295|P>>>17),P=g+(j^(O|~p))+_[9]+3951481745&4294967295,b.g[0]=b.g[0]+p&4294967295,b.g[1]=b.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+j&4294967295}r.prototype.u=function(b,p){p===void 0&&(p=b.length);for(var g=p-this.blockSize,_=this.B,O=this.h,j=0;j<p;){if(O==0)for(;j<=g;)i(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<p;)if(_[O++]=b.charCodeAt(j++),O==this.blockSize){i(this,_),O=0;break}}else for(;j<p;)if(_[O++]=b[j++],O==this.blockSize){i(this,_),O=0;break}}this.h=O,this.o+=p},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var p=1;p<b.length-8;++p)b[p]=0;var g=8*this.o;for(p=b.length-8;p<b.length;++p)b[p]=g&255,g/=256;for(this.u(b),b=Array(16),p=g=0;4>p;++p)for(var _=0;32>_;_+=8)b[g++]=this.g[p]>>>_&255;return b};function s(b,p){var g=a;return Object.prototype.hasOwnProperty.call(g,b)?g[b]:g[b]=p(b)}function o(b,p){this.h=p;for(var g=[],_=!0,O=b.length-1;0<=O;O--){var j=b[O]|0;_&&j==p||(g[O]=j,_=!1)}this.g=g}var a={};function u(b){return-128<=b&&128>b?s(b,function(p){return new o([p|0],0>p?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return I(c(-b));for(var p=[],g=1,_=0;b>=g;_++)p[_]=b/g|0,g*=4294967296;return new o(p,0)}function f(b,p){if(b.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(b.charAt(0)=="-")return I(f(b.substring(1),p));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=c(Math.pow(p,8)),_=h,O=0;O<b.length;O+=8){var j=Math.min(8,b.length-O),P=parseInt(b.substring(O,O+j),p);8>j?(j=c(Math.pow(p,j)),_=_.j(j).add(c(P))):(_=_.j(g),_=_.add(c(P)))}return _}var h=u(0),m=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var b=0,p=1,g=0;g<this.g.length;g++){var _=this.i(g);b+=(0<=_?_:4294967296+_)*p,p*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(S(this))return"-"+I(this).toString(b);for(var p=c(Math.pow(b,6)),g=this,_="";;){var O=R(g,p).g;g=C(g,O.j(p));var j=((0<g.g.length?g.g[0]:g.h)>>>0).toString(b);if(g=O,T(g))return j+_;for(;6>j.length;)j="0"+j;_=j+_}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var p=0;p<b.g.length;p++)if(b.g[p]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=C(this,b),S(b)?-1:T(b)?0:1};function I(b){for(var p=b.g.length,g=[],_=0;_<p;_++)g[_]=~b.g[_];return new o(g,~b.h).add(m)}t.abs=function(){return S(this)?I(this):this},t.add=function(b){for(var p=Math.max(this.g.length,b.g.length),g=[],_=0,O=0;O<=p;O++){var j=_+(this.i(O)&65535)+(b.i(O)&65535),P=(j>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);_=P>>>16,j&=65535,P&=65535,g[O]=P<<16|j}return new o(g,g[g.length-1]&-2147483648?-1:0)};function C(b,p){return b.add(I(p))}t.j=function(b){if(T(this)||T(b))return h;if(S(this))return S(b)?I(this).j(I(b)):I(I(this).j(b));if(S(b))return I(this.j(I(b)));if(0>this.l(E)&&0>b.l(E))return c(this.m()*b.m());for(var p=this.g.length+b.g.length,g=[],_=0;_<2*p;_++)g[_]=0;for(_=0;_<this.g.length;_++)for(var O=0;O<b.g.length;O++){var j=this.i(_)>>>16,P=this.i(_)&65535,z=b.i(O)>>>16,F=b.i(O)&65535;g[2*_+2*O]+=P*F,y(g,2*_+2*O),g[2*_+2*O+1]+=j*F,y(g,2*_+2*O+1),g[2*_+2*O+1]+=P*z,y(g,2*_+2*O+1),g[2*_+2*O+2]+=j*z,y(g,2*_+2*O+2)}for(_=0;_<p;_++)g[_]=g[2*_+1]<<16|g[2*_];for(_=p;_<2*p;_++)g[_]=0;return new o(g,0)};function y(b,p){for(;(b[p]&65535)!=b[p];)b[p+1]+=b[p]>>>16,b[p]&=65535,p++}function x(b,p){this.g=b,this.h=p}function R(b,p){if(T(p))throw Error("division by zero");if(T(b))return new x(h,h);if(S(b))return p=R(I(b),p),new x(I(p.g),I(p.h));if(S(p))return p=R(b,I(p)),new x(I(p.g),p.h);if(30<b.g.length){if(S(b)||S(p))throw Error("slowDivide_ only works with positive integers.");for(var g=m,_=p;0>=_.l(b);)g=M(g),_=M(_);var O=N(g,1),j=N(_,1);for(_=N(_,2),g=N(g,2);!T(_);){var P=j.add(_);0>=P.l(b)&&(O=O.add(g),j=P),_=N(_,1),g=N(g,1)}return p=C(b,O.j(p)),new x(O,p)}for(O=h;0<=b.l(p);){for(g=Math.max(1,Math.floor(b.m()/p.m())),_=Math.ceil(Math.log(g)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),j=c(g),P=j.j(p);S(P)||0<P.l(b);)g-=_,j=c(g),P=j.j(p);T(j)&&(j=m),O=O.add(j),b=C(b,P)}return new x(O,b)}t.A=function(b){return R(this,b).h},t.and=function(b){for(var p=Math.max(this.g.length,b.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)&b.i(_);return new o(g,this.h&b.h)},t.or=function(b){for(var p=Math.max(this.g.length,b.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)|b.i(_);return new o(g,this.h|b.h)},t.xor=function(b){for(var p=Math.max(this.g.length,b.g.length),g=[],_=0;_<p;_++)g[_]=this.i(_)^b.i(_);return new o(g,this.h^b.h)};function M(b){for(var p=b.g.length+1,g=[],_=0;_<p;_++)g[_]=b.i(_)<<1|b.i(_-1)>>>31;return new o(g,b.h)}function N(b,p){var g=p>>5;p%=32;for(var _=b.g.length-g,O=[],j=0;j<_;j++)O[j]=0<p?b.i(j+g)>>>p|b.i(j+g+1)<<32-p:b.i(j+g);return new o(O,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,mo=o}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UC,Zl,WC,Ud,Iy,HC,qC,KC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,k){return d==Array.prototype||d==Object.prototype||(d[v]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var v=0;v<d.length;++v){var k=d[v];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var k=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var G=d[D];if(!(G in k))break e;k=k[G]}d=d[d.length-1],D=k[d],v=v(D),v!=D&&v!=null&&e(k,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var k=0,D=!1,G={next:function(){if(!D&&k<d.length){var X=k++;return{value:v(X,d[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return s(this,function(v,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function c(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,k){return d.call.apply(d.bind,arguments)}function h(d,v,k){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function m(d,v,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,v){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function T(d,v){function k(){}k.prototype=v.prototype,d.aa=v.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(D,G,X){for(var de=Array(arguments.length-2),It=2;It<arguments.length;It++)de[It-2]=arguments[It];return v.prototype[G].apply(D,de)}}function S(d){const v=d.length;if(0<v){const k=Array(v);for(let D=0;D<v;D++)k[D]=d[D];return k}return[]}function I(d,v){for(let k=1;k<arguments.length;k++){const D=arguments[k];if(u(D)){const G=d.length||0,X=D.length||0;d.length=G+X;for(let de=0;de<X;de++)d[G+de]=D[de]}else d.push(D)}}class C{constructor(v,k){this.i=v,this.j=k,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(d){return/^[\s\xa0]*$/.test(d)}function x(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(d,v,k){for(const D in d)v.call(k,d[D],D,d)}function b(d,v){for(const k in d)v.call(void 0,d[k],k,d)}function p(d){const v={};for(const k in d)v[k]=d[k];return v}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,v){let k,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(k in D)d[k]=D[k];for(let X=0;X<g.length;X++)k=g[X],Object.prototype.hasOwnProperty.call(D,k)&&(d[k]=D[k])}}function O(d){var v=1;d=d.split(":");const k=[];for(;0<v&&d.length;)k.push(d.shift()),v--;return d.length&&k.push(d.join(":")),k}function j(d){a.setTimeout(()=>{throw d},0)}function P(){var d=V;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,k){const D=F.get();D.set(v,k),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new C(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,k){this.h=v,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,V=new z,H=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(K)}};var K=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(k){j(k)}var v=F;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}L=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};a.addEventListener("test",k,v),a.removeEventListener("test",k,v)}catch{}return d}();function ce(d,v){if(Y.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(M){e:{try{R(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else k=="mouseover"?v=d.fromElement:k=="mouseout"&&(v=d.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ce.aa.h.call(this)}}T(ce,Y);var ye={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),ne=0;function W(d,v,k,D,G){this.listener=d,this.proxy=null,this.src=v,this.type=k,this.capture=!!D,this.ha=G,this.key=++ne,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ee(d){this.src=d,this.g={},this.h=0}ee.prototype.add=function(d,v,k,D,G){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var de=he(d,v,D,G);return-1<de?(v=d[de],k||(v.fa=!1)):(v=new W(v,this.src,X,!!D,G),v.fa=k,d.push(v)),v};function re(d,v){var k=v.type;if(k in d.g){var D=d.g[k],G=Array.prototype.indexOf.call(D,v,void 0),X;(X=0<=G)&&Array.prototype.splice.call(D,G,1),X&&(le(v),d.g[k].length==0&&(delete d.g[k],d.h--))}}function he(d,v,k,D){for(var G=0;G<d.length;++G){var X=d[G];if(!X.da&&X.listener==v&&X.capture==!!k&&X.ha==D)return G}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ve={};function _e(d,v,k,D,G){if(Array.isArray(v)){for(var X=0;X<v.length;X++)_e(d,v[X],k,D,G);return null}return k=gt(k),d&&d[q]?d.K(v,k,c(D)?!!D.capture:!1,G):Ye(d,v,k,!1,D,G)}function Ye(d,v,k,D,G,X){if(!v)throw Error("Invalid event type");var de=c(G)?!!G.capture:!!G,It=lt(d);if(It||(d[me]=It=new ee(d)),k=It.add(v,k,D,de,X),k.proxy)return k;if(D=we(),k.proxy=D,D.src=d,D.listener=k,d.addEventListener)se||(G=de),G===void 0&&(G=!1),d.addEventListener(v.toString(),D,G);else if(d.attachEvent)d.attachEvent(Qe(v.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function we(){function d(k){return v.call(d.src,d.listener,k)}const v=it;return d}function Ve(d,v,k,D,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ve(d,v[X],k,D,G);else D=c(D)?!!D.capture:!!D,k=gt(k),d&&d[q]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],k=he(X,k,D,G),-1<k&&(le(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=lt(d))&&(v=d.g[v.toString()],d=-1,v&&(d=he(v,k,D,G)),(k=-1<d?v[d]:null)&&Ae(k))}function Ae(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[q])re(v.i,d);else{var k=d.type,D=d.proxy;v.removeEventListener?v.removeEventListener(k,D,d.capture):v.detachEvent?v.detachEvent(Qe(k),D):v.addListener&&v.removeListener&&v.removeListener(D),(k=lt(v))?(re(k,d),k.h==0&&(k.src=null,v[me]=null)):le(d)}}}function Qe(d){return d in ve?ve[d]:ve[d]="on"+d}function it(d,v){if(d.da)d=!0;else{v=new ce(v,this);var k=d.listener,D=d.ha||d.src;d.fa&&Ae(d),d=k.call(D,v)}return d}function lt(d){return d=d[me],d instanceof ee?d:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(d){return typeof d=="function"?d:(d[Me]||(d[Me]=function(v){return d.handleEvent(v)}),d[Me])}function Re(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}T(Re,Q),Re.prototype[q]=!0,Re.prototype.removeEventListener=function(d,v,k,D){Ve(this,d,v,k,D)};function Ue(d,v){var k,D=d.F;if(D)for(k=[];D;D=D.F)k.push(D);if(d=d.M,D=v.type||v,typeof v=="string")v=new Y(v,d);else if(v instanceof Y)v.target=v.target||d;else{var G=v;v=new Y(D,d),_(v,G)}if(G=!0,k)for(var X=k.length-1;0<=X;X--){var de=v.g=k[X];G=Le(de,D,!0,v)&&G}if(de=v.g=d,G=Le(de,D,!0,v)&&G,G=Le(de,D,!1,v)&&G,k)for(X=0;X<k.length;X++)de=v.g=k[X],G=Le(de,D,!1,v)&&G}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var k=d.g[v],D=0;D<k.length;D++)le(k[D]);delete d.g[v],d.h--}}this.F=null},Re.prototype.K=function(d,v,k,D){return this.i.add(String(d),v,!1,k,D)},Re.prototype.L=function(d,v,k,D){return this.i.add(String(d),v,!0,k,D)};function Le(d,v,k,D){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,X=0;X<v.length;++X){var de=v[X];if(de&&!de.da&&de.capture==k){var It=de.listener,wn=de.ha||de.src;de.fa&&re(d.i,de),G=It.call(wn,D)!==!1&&G}}return G&&!D.defaultPrevented}function Te(d,v,k){if(typeof d=="function")k&&(d=m(d,k));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function bt(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,bt(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class kt extends Q{constructor(v,k){super(),this.m=v,this.l=k,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(d){Q.call(this),this.h=d,this.g={}}T(Xe,Q);var Se=[];function tt(d){N(d.g,function(v,k){this.g.hasOwnProperty(k)&&Ae(v)},d),d.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),tt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Cr=a.JSON.parse,os=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Qs(){}Qs.prototype.h=null;function Ir(d){return d.h||(d.h=d.i())}function si(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){Y.call(this,"d")}T(as,Y);function J(){Y.call(this,"c")}T(J,Y);var De={},A=null;function te(){return A=A||new Re}De.La="serverreachability";function ue(d){Y.call(this,De.La,d)}T(ue,Y);function Fe(d){const v=te();Ue(v,new ue(v))}De.STAT_EVENT="statevent";function st(d,v){Y.call(this,De.STAT_EVENT,d),this.stat=v}T(st,Y);function nt(d){const v=te();Ue(v,new st(v,d))}De.Ma="timingevent";function _t(d,v){Y.call(this,De.Ma,d),this.size=v}T(_t,Y);function je(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function ot(){this.g=!0}ot.prototype.xa=function(){this.g=!1};function kr(d,v,k,D,G,X){d.info(function(){if(d.g)if(X)for(var de="",It=X.split("&"),wn=0;wn<It.length;wn++){var ft=It[wn].split("=");if(1<ft.length){var On=ft[0];ft=ft[1];var Nn=On.split("_");de=2<=Nn.length&&Nn[1]=="type"?de+(On+"="+ft+"&"):de+(On+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+v+`
`+k+`
`+de})}function oi(d,v,k,D,G,X,de){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+v+`
`+k+`
`+X+" "+de})}function Hn(d,v,k,D){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Yt(d,k)+(D?" "+D:"")})}function rn(d,v){d.info(function(){return"TIMEOUT: "+v})}ot.prototype.info=function(){};function Yt(d,v){if(!d.g)return v;if(!v)return null;try{var k=JSON.parse(v);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var D=k[d];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return qe(k)}catch{return v}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ft;function Bo(){}T(Bo,Qs),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Ft=new Bo;function ls(d,v,k,D){this.j=d,this.i=v,this.l=k,this.R=D||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jx}function Jx(){this.i=null,this.g="",this.h=!1}var Zx={},rm={};function im(d,v,k){d.L=1,d.v=Wc(Ri(v)),d.m=k,d.P=!0,eb(d,null)}function eb(d,v){d.F=Date.now(),zc(d),d.A=Ri(d.v);var k=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),pb(k.i,"t",D),d.C=0,k=d.j.J,d.h=new Jx,d.g=jb(d.j,k?v:null,!d.m),0<d.O&&(d.M=new kt(m(d.Y,d,d.g),d.O)),v=d.U,k=d.g,D=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Se[0]=G.toString()),G=Se);for(var X=0;X<G.length;X++){var de=_e(k,G[X],D||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Fe(),kr(d.i,d.u,d.A,d.l,d.R,d.m)}ls.prototype.ca=function(d){d=d.target;const v=this.M;v&&ki(d)==3?v.j():this.Y(d)},ls.prototype.Y=function(d){try{if(d==this.g)e:{const Nn=ki(this.g);var v=this.g.Ba();const Ho=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||_b(this.g)))){this.J||Nn!=4||v==7||(v==8||0>=Ho?Fe(3):Fe(2)),sm(this);var k=this.g.Z();this.X=k;t:if(tb(this)){var D=_b(this.g);d="";var G=D.length,X=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),_l(this);var de="";break t}this.h.i=new a.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(D[v],{stream:!(X&&v==G-1)});D.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=k==200,oi(this.i,this.u,this.A,this.l,this.R,Nn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var It,wn=this.g;if((It=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(It)){var ft=It;break t}}ft=null}if(k=ft)Hn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,k);else{this.o=!1,this.s=3,nt(12),Ys(this),_l(this);break e}}if(this.P){k=!0;let Kr;for(;!this.J&&this.C<de.length;)if(Kr=a2(this,de),Kr==rm){Nn==4&&(this.s=4,nt(14),k=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kr==Zx){this.s=4,nt(15),Hn(this.i,this.l,de,"[Invalid Chunk]"),k=!1;break}else Hn(this.i,this.l,Kr,null),om(this,Kr);if(tb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||de.length!=0||this.h.h||(this.s=1,nt(16),k=!1),this.o=this.o&&k,!k)Hn(this.i,this.l,de,"[Invalid Chunked Response]"),Ys(this),_l(this);else if(0<de.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),fm(On),On.M=!0,nt(11))}}else Hn(this.i,this.l,de,null),om(this,de);Nn==4&&Ys(this),this.o&&!this.J&&(Nn==4?Rb(this.j,this):(this.o=!1,zc(this)))}else E2(this.g),k==400&&0<de.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ys(this),_l(this)}}}catch{}finally{}};function tb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function a2(d,v){var k=d.C,D=v.indexOf(`
`,k);return D==-1?rm:(k=Number(v.substring(k,D)),isNaN(k)?Zx:(D+=1,D+k>v.length?rm:(v=v.slice(D,D+k),d.C=D+k,v)))}ls.prototype.cancel=function(){this.J=!0,Ys(this)};function zc(d){d.S=Date.now()+d.I,nb(d,d.I)}function nb(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=je(m(d.ba,d),v)}function sm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(rn(this.i,this.A),this.L!=2&&(Fe(),nt(17)),Ys(this),this.s=2,_l(this)):nb(this,this.S-d)};function _l(d){d.j.G==0||d.J||Rb(d.j,d)}function Ys(d){sm(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,tt(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function om(d,v){try{var k=d.j;if(k.G!=0&&(k.g==d||am(k.h,d))){if(!d.K&&am(k.h,d)&&k.G==3){try{var D=k.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Yc(k),Gc(k);else break e;dm(k),nt(18)}}else k.za=G[1],0<k.za-k.T&&37500>G[2]&&k.F&&k.v==0&&!k.C&&(k.C=je(m(k.Za,k),6e3));if(1>=sb(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Js(k,11)}else if((d.K||k.g==d)&&Yc(k),!y(v))for(G=k.Da.g.parse(v),v=0;v<G.length;v++){let ft=G[v];if(k.T=ft[0],ft=ft[1],k.G==2)if(ft[0]=="c"){k.K=ft[1],k.ia=ft[2];const On=ft[3];On!=null&&(k.la=On,k.j.info("VER="+k.la));const Nn=ft[4];Nn!=null&&(k.Aa=Nn,k.j.info("SVER="+k.Aa));const Ho=ft[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(D=1.5*Ho,k.L=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const Kr=d.g;if(Kr){const Jc=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var X=D.h;X.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(lm(X,X.h),X.h=null))}if(D.D){const hm=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(D.ya=hm,jt(D.I,D.D,hm))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),D=k;var de=d;if(D.qa=Ab(D,D.J?D.ia:null,D.W),de.K){ob(D.h,de);var It=de,wn=D.L;wn&&(It.I=wn),It.B&&(sm(It),zc(It)),D.g=de}else Cb(D);0<k.i.length&&Qc(k)}else ft[0]!="stop"&&ft[0]!="close"||Js(k,7);else k.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Js(k,7):cm(k):ft[0]!="noop"&&k.l&&k.l.ta(ft),k.v=0)}}Fe(4)}catch{}}var l2=class{constructor(d,v){this.g=d,this.map=v}};function rb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ib(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function sb(d){return d.h?1:d.g?d.g.size:0}function am(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function lm(d,v){d.g?d.g.add(v):d.h=v}function ob(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}rb.prototype.cancel=function(){if(this.i=ab(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ab(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const k of d.g.values())v=v.concat(k.D);return v}return S(d.i)}function u2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var v=[],k=d.length,D=0;D<k;D++)v.push(d[D]);return v}v=[],k=0;for(D in d)v[k++]=d[D];return v}function c2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var v=[];d=d.length;for(var k=0;k<d;k++)v.push(k);return v}v=[],k=0;for(const D in d)v[k++]=D;return v}}}function lb(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var k=c2(d),D=u2(d),G=D.length,X=0;X<G;X++)v.call(void 0,D[X],k&&k[X],d)}var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d2(d,v){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var D=d[k].indexOf("="),G=null;if(0<=D){var X=d[k].substring(0,D);G=d[k].substring(D+1)}else X=d[k];v(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Xs){this.h=d.h,Bc(this,d.j),this.o=d.o,this.g=d.g,Uc(this,d.s),this.l=d.l;var v=d.i,k=new El;k.i=v.i,v.g&&(k.g=new Map(v.g),k.h=v.h),cb(this,k),this.m=d.m}else d&&(v=String(d).match(ub))?(this.h=!1,Bc(this,v[1]||"",!0),this.o=wl(v[2]||""),this.g=wl(v[3]||"",!0),Uc(this,v[4]),this.l=wl(v[5]||"",!0),cb(this,v[6]||"",!0),this.m=wl(v[7]||"")):(this.h=!1,this.i=new El(null,this.h))}Xs.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Sl(v,db,!0),":");var k=this.g;return(k||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Sl(v,db,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(Sl(k,k.charAt(0)=="/"?p2:h2,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",Sl(k,g2)),d.join("")};function Ri(d){return new Xs(d)}function Bc(d,v,k){d.j=k?wl(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Uc(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function cb(d,v,k){v instanceof El?(d.i=v,y2(d.i,d.h)):(k||(v=Sl(v,m2)),d.i=new El(v,d.h))}function jt(d,v,k){d.i.set(v,k)}function Wc(d){return jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function wl(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sl(d,v,k){return typeof d=="string"?(d=encodeURI(d).replace(v,f2),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function f2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var db=/[#\/\?@]/g,h2=/[#\?:]/g,p2=/[#\?]/g,m2=/[#\?@]/g,g2=/#/g;function El(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&d2(d.i,function(v,k){d.add(decodeURIComponent(v.replace(/\+/g," ")),k)}))}t=El.prototype,t.add=function(d,v){us(this),this.i=null,d=Uo(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(v),this.h+=1,this};function fb(d,v){us(d),v=Uo(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function hb(d,v){return us(d),v=Uo(d,v),d.g.has(v)}t.forEach=function(d,v){us(this),this.g.forEach(function(k,D){k.forEach(function(G){d.call(v,G,D,this)},this)},this)},t.na=function(){us(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),k=[];for(let D=0;D<v.length;D++){const G=d[D];for(let X=0;X<G.length;X++)k.push(v[D])}return k},t.V=function(d){us(this);let v=[];if(typeof d=="string")hb(this,d)&&(v=v.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)v=v.concat(d[k])}return v},t.set=function(d,v){return us(this),this.i=null,d=Uo(this,d),hb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function pb(d,v,k){fb(d,v),0<k.length&&(d.i=null,d.g.set(Uo(d,v),S(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var k=0;k<v.length;k++){var D=v[k];const X=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var G=X;de[D]!==""&&(G+="="+encodeURIComponent(String(de[D]))),d.push(G)}}return this.i=d.join("&")};function Uo(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function y2(d,v){v&&!d.j&&(us(d),d.i=null,d.g.forEach(function(k,D){var G=D.toLowerCase();D!=G&&(fb(this,D),pb(this,G,k))},d)),d.j=v}function v2(d,v){const k=new ot;if(a.Image){const D=new Image;D.onload=E(cs,k,"TestLoadImage: loaded",!0,v,D),D.onerror=E(cs,k,"TestLoadImage: error",!1,v,D),D.onabort=E(cs,k,"TestLoadImage: abort",!1,v,D),D.ontimeout=E(cs,k,"TestLoadImage: timeout",!1,v,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else v(!1)}function x2(d,v){const k=new ot,D=new AbortController,G=setTimeout(()=>{D.abort(),cs(k,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:D.signal}).then(X=>{clearTimeout(G),X.ok?cs(k,"TestPingServer: ok",!0,v):cs(k,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),cs(k,"TestPingServer: error",!1,v)})}function cs(d,v,k,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(k)}catch{}}function b2(){this.g=new os}function _2(d,v,k){const D=k||"";try{lb(d,function(G,X){let de=G;c(G)&&(de=qe(G)),v.push(D+X+"="+encodeURIComponent(de))})}catch(G){throw v.push(D+"type="+encodeURIComponent("_badmap")),G}}function Hc(d){this.l=d.Ub||null,this.j=d.eb||!1}T(Hc,Qs),Hc.prototype.g=function(){return new qc(this.l,this.j)},Hc.prototype.i=function(d){return function(){return d}}({});function qc(d,v){Re.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(qc,Re),t=qc.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Cl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function mb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Tl(this):Cl(this),this.readyState==3&&mb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Tl(this))},t.Qa=function(d){this.g&&(this.response=d,Tl(this))},t.ga=function(){this.g&&Tl(this)};function Tl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cl(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var k=v.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=v.next();return d.join(`\r
`)};function Cl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function gb(d){let v="";return N(d,function(k,D){v+=D,v+=":",v+=k,v+=`\r
`}),v}function um(d,v,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=gb(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):jt(d,v,k))}function Ht(d){Re.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ht,Re);var w2=/^https?$/i,S2=["POST","PUT"];t=Ht.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ft.g(),this.v=this.o?Ir(this.o):Ir(Ft),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){yb(this,X);return}if(d=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)k.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())k.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S2,v,void 0))||D||G||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of k)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bb(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){yb(this,X)}};function yb(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,vb(d),Kc(d)}function vb(d){d.A||(d.A=!0,Ue(d,"complete"),Ue(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ue(this,"complete"),Ue(this,"abort"),Kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kc(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xb(this):this.bb())},t.bb=function(){xb(this)};function xb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ki(d)!=4||d.Z()!=2)){if(d.u&&ki(d)==4)Te(d.Ea,0,d);else if(Ue(d,"readystatechange"),ki(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var k;if(!(k=v)){var D;if(D=de===0){var G=String(d.D).match(ub)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!w2.test(G?G.toLowerCase():"")}k=D}if(k)Ue(d,"complete"),Ue(d,"success");else{d.m=6;try{var X=2<ki(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",vb(d)}}finally{Kc(d)}}}}function Kc(d,v){if(d.g){bb(d);const k=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ue(d,"ready");try{k.onreadystatechange=D}catch{}}}function bb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ki(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cr(v)}};function _b(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function E2(d){const v={};d=(d.g&&2<=ki(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(y(d[D]))continue;var k=O(d[D]);const G=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=v[G]||[];v[G]=X,X.push(k)}b(v,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(d,v,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||v}function wb(d){this.Aa=0,this.i=[],this.j=new ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Il("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Il("baseRetryDelayMs",5e3,d),this.cb=Il("retryDelaySeedMs",1e4,d),this.Wa=Il("forwardChannelMaxRetries",2,d),this.wa=Il("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rb(d&&d.concurrentRequestLimit),this.Da=new b2,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wb.prototype,t.la=8,t.G=1,t.connect=function(d,v,k,D){nt(0),this.W=d,this.H=v||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.I=Ab(this,null,this.W),Qc(this)};function cm(d){if(Sb(d),d.G==3){var v=d.U++,k=Ri(d.I);if(jt(k,"SID",d.K),jt(k,"RID",v),jt(k,"TYPE","terminate"),Rl(d,k),v=new ls(d,d.j,v),v.L=2,v.v=Wc(Ri(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=v.v,k=!0),k||(v.g=jb(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zc(v)}Pb(d)}function Gc(d){d.g&&(fm(d),d.g.cancel(),d.g=null)}function Sb(d){Gc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Yc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Qc(d){if(!ib(d.h)&&!d.s){d.s=!0;var v=d.Ga;U||H(),L||(U(),L=!0),V.add(v,d),d.B=0}}function T2(d,v){return sb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=je(m(d.Ga,d,v),kb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new ls(this,this.j,d);let X=this.o;if(this.S&&(X?(X=p(X),_(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var v=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=k;break e}if(v===4096||k===this.i.length-1){v=k+1;break e}}v=1e3}else v=1e3;v=Tb(this,G,v),k=Ri(this.I),jt(k,"RID",d),jt(k,"CVER",22),this.D&&jt(k,"X-HTTP-Session-Id",this.D),Rl(this,k),X&&(this.O?v="headers="+encodeURIComponent(String(gb(X)))+"&"+v:this.m&&um(k,this.m,X)),lm(this.h,G),this.Ua&&jt(k,"TYPE","init"),this.P?(jt(k,"$req",v),jt(k,"SID","null"),G.T=!0,im(G,k,null)):im(G,k,v),this.G=2}}else this.G==3&&(d?Eb(this,d):this.i.length==0||ib(this.h)||Eb(this))};function Eb(d,v){var k;v?k=v.l:k=d.U++;const D=Ri(d.I);jt(D,"SID",d.K),jt(D,"RID",k),jt(D,"AID",d.T),Rl(d,D),d.m&&d.o&&um(D,d.m,d.o),k=new ls(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Tb(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),lm(d.h,k),im(k,D,v)}function Rl(d,v){d.H&&N(d.H,function(k,D){jt(v,D,k)}),d.l&&lb({},function(k,D){jt(v,D,k)})}function Tb(d,v,k){k=Math.min(d.i.length,k);var D=d.l?m(d.l.Na,d.l,d):null;e:{var G=d.i;let X=-1;for(;;){const de=["count="+k];X==-1?0<k?(X=G[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let It=!0;for(let wn=0;wn<k;wn++){let ft=G[wn].g;const On=G[wn].map;if(ft-=X,0>ft)X=Math.max(0,G[wn].g-100),It=!1;else try{_2(On,de,"req"+ft+"_")}catch{D&&D(On)}}if(It){D=de.join("&");break e}}}return d=d.i.splice(0,k),v.D=d,D}function Cb(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;U||H(),L||(U(),L=!0),V.add(v,d),d.v=0}}function dm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=je(m(d.Fa,d),kb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ib(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=je(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Gc(this),Ib(this))};function fm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Ib(d){d.g=new ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ri(d.qa);jt(v,"RID","rpc"),jt(v,"SID",d.K),jt(v,"AID",d.T),jt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&jt(v,"TO",d.ja),jt(v,"TYPE","xmlhttp"),Rl(d,v),d.m&&d.o&&um(v,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=Wc(Ri(v)),k.m=null,k.P=!0,eb(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),dm(this),nt(19))};function Yc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Rb(d,v){var k=null;if(d.g==v){Yc(d),fm(d),d.g=null;var D=2}else if(am(d.h,v))k=v.D,ob(d.h,v),D=1;else return;if(d.G!=0){if(v.o)if(D==1){k=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;D=te(),Ue(D,new _t(D,k)),Qc(d)}else Cb(d);else if(G=v.s,G==3||G==0&&0<v.X||!(D==1&&T2(d,v)||D==2&&dm(d)))switch(k&&0<k.length&&(v=d.h,v.i=v.i.concat(k)),G){case 1:Js(d,5);break;case 4:Js(d,10);break;case 3:Js(d,6);break;default:Js(d,2)}}}function kb(d,v){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*v}function Js(d,v){if(d.j.info("Error code "+v),v==2){var k=m(d.fb,d),D=d.Xa;const G=!D;D=new Xs(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bc(D,"https"),Wc(D),G?v2(D.toString(),k):x2(D.toString(),k)}else nt(2);d.G=0,d.l&&d.l.sa(v),Pb(d),Sb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Pb(d){if(d.G=0,d.ka=[],d.l){const v=ab(d.h);(v.length!=0||d.i.length!=0)&&(I(d.ka,v),I(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function Ab(d,v,k){var D=k instanceof Xs?Ri(k):new Xs(k);if(D.g!="")v&&(D.g=v+"."+D.g),Uc(D,D.s);else{var G=a.location;D=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var X=new Xs(null);D&&Bc(X,D),v&&(X.g=v),G&&Uc(X,G),k&&(X.l=k),D=X}return k=d.D,v=d.ya,k&&v&&jt(D,k,v),jt(D,"VER",d.la),Rl(d,D),D}function jb(d,v,k){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ht(new Hc({eb:k})):new Ht(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ob(){}t=Ob.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(d,v){return new ur(d,v)};function ur(d,v){Re.call(this),this.g=new wb(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Wo(this)}T(ur,Re),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){cm(this.g)},ur.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=qe(d),d=k);v.i.push(new l2(v.Ya++,d)),v.G==3&&Qc(v)},ur.prototype.N=function(){this.g.l=null,delete this.j,cm(this.g),delete this.g,ur.aa.N.call(this)};function Nb(d){as.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const k in v){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}T(Nb,as);function Mb(){J.call(this),this.status=1}T(Mb,J);function Wo(d){this.g=d}T(Wo,Ob),Wo.prototype.ua=function(){Ue(this.g,"a")},Wo.prototype.ta=function(d){Ue(this.g,new Nb(d))},Wo.prototype.sa=function(d){Ue(this.g,new Mb)},Wo.prototype.ra=function(){Ue(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,KC=function(){return new Xc},qC=function(){return te()},HC=De,Iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Ud=Ii,Ne.COMPLETE="complete",WC=Ne,si.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Zl=si,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,UC=Ht}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const d1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new v0("@firebase/firestore");function Dl(){return Eo.logLevel}function Ce(t,...e){if(Eo.logLevel<=at.DEBUG){const n=e.map(_0);Eo.debug(`Firestore (${ul}): ${t}`,...n)}}function Ji(t,...e){if(Eo.logLevel<=at.ERROR){const n=e.map(_0);Eo.error(`Firestore (${ul}): ${t}`,...n)}}function To(t,...e){if(Eo.logLevel<=at.WARN){const n=e.map(_0);Eo.warn(`Firestore (${ul}): ${t}`,...n)}}function _0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function Et(t,e){t||He()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class hL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pL{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new GC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Vn(e)}}class mL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Et(this.o===void 0);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new yL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new cn(0,0))}static max(){return new Ke(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(),r===void 0?r=e.length-n:r>e.length-n&&He(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Nt extends Uu{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const bL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Uu{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return bL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Nt.fromString(e))}static fromName(e){return new Oe(Nt.fromString(e).popFirst(5))}static empty(){return new Oe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Nt(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new Ds(i,Oe.empty(),e)}function wL(t){return new Ds(t.readTime,t.key,-1)}class Ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(Ke.min(),Oe.empty(),-1)}static max(){return new Ds(Ke.max(),Oe.empty(),-1)}}function SL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==EL)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}S0.oe=-1;function zh(t){return t==null}function Df(t){return t===0&&1/t==-1/0}function IL(t){return typeof t=="number"&&Number.isInteger(t)&&!Df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new kn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XC("Invalid base64 string: "+s):s}}(e);return new bn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const RL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(Et(!!t),typeof t=="string"){let e=0;const n=RL.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function T0(t){const e=t.mapValue.fields.__previous_value__;return E0(e)?T0(e):e}function Wu(t){const e=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E0(t)?4:AL(t)?9007199254740991:PL(t)?10:11:He()}function _i(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$s(i.timestampValue),a=$s(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xt(i.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xt(i.integerValue)===Xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xt(i.doubleValue),a=Xt(s.doubleValue);return o===a?Df(o)===Df(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(f1(o)!==f1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!_i(o[u],a[u])))return!1;return!0}(t,e);default:return He()}}function Hu(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xt(s.integerValue||s.doubleValue),u=Xt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return p1(t.timestampValue,e.timestampValue);case 4:return p1(Wu(t),Wu(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Co(s),u=Co(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=ht(a[c],u[c]);if(f!==0)return f}return ht(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ht(Xt(s.latitude),Xt(o.latitude));return a!==0?a:ht(Xt(s.longitude),Xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,S=ht(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return S!==0?S:m1(E,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xd.mapValue&&o===xd.mapValue)return 0;if(s===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=ht(u[h],f[h]);if(m!==0)return m;const E=Wa(a[u[h]],c[f[h]]);if(E!==0)return E}return ht(u.length,f.length)}(t.mapValue,e.mapValue);default:throw He()}}function p1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=$s(t),r=$s(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function m1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wa(n[i],r[i]);if(s)return s}return ht(n.length,r.length)}function Ha(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ry(n.fields[o])}`;return i+"}"}(t.mapValue):He()}function g1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function C0(t){return!!t&&"arrayValue"in t}function y1(t){return!!t&&"nullValue"in t}function v1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function PL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(hu(this.value))}}function JC(t){const e=[];return $o(t.fields,(n,r)=>{const i=new vn([n]);if(Wd(r)){const s=JC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bn(e,0,Ke.min(),Ke.min(),Ke.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,Ke.min(),Ke.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Ke.min(),Ke.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.position=e,this.inclusive=n}}function x1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{}class ln extends ZC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NL(e,n,r):n==="array-contains"?new DL(e,r):n==="in"?new $L(e,r):n==="not-in"?new FL(e,r):n==="array-contains-any"?new VL(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ML(e,r):new LL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends ZC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return eI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eI(t){return t.op==="and"}function tI(t){return OL(t)&&eI(t)}function OL(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Py(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Ha(t.value);if(tI(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function nI(t,e){return t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&nI(o,i.filters[a]),!0):!1}(t,e):void He()}function rI(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(rI).join(" ,")+"}"}(t):"Filter"}class NL extends ln{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ML extends ln{constructor(e,n){super(e,"in",n),this.keys=iI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LL extends ln{constructor(e,n){super(e,"not-in",n),this.keys=iI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class DL extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C0(n)&&Hu(n.arrayValue,this.value)}}class $L extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class FL extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hu(this.value.arrayValue,n)}}class VL extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function _1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zL(t,e,n,r,i,s,o)}function I0(t){const e=Ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.ue=n}return e.ue}function R0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b1(t.startAt,e.startAt)&&b1(t.endAt,e.endAt)}function Ay(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BL(t,e,n,r,i,s,o,a){return new cl(t,e,n,r,i,s,o,a)}function Bh(t){return new cl(t)}function w1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sI(t){return t.collectionGroup!==null}function pu(t){const e=Ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kn(vn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qu(s,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new qu(vn.keyField(),r))}return e.ce}function gi(t){const e=Ge(t);return e.le||(e.le=UL(e,pu(t))),e.le}function UL(t,e){if(t.limitType==="F")return _1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qu(i.field,s)});const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return _1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jy(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Oy(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return R0(gi(t),gi(e))&&t.limitType===e.limitType}function oI(t){return`${I0(gi(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rI(i)).join(", ")}]`),zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ha(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ha(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function Wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of pu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=x1(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,pu(r),i)||r.endAt&&!function(o,a,u){const c=x1(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,pu(r),i))}(t,e)}function WL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aI(t){return(e,n)=>{let r=!1;for(const i of pu(t)){const s=HL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HL(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Wa(u,c):He()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return YC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Wt(Oe.comparator);function Zi(){return qL}const lI=new Wt(Oe.comparator);function eu(...t){let e=lI;for(const n of t)e=e.insert(n.key,n);return e}function uI(t){let e=lI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return mu()}function cI(){return mu()}function mu(){return new dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const KL=new Wt(Oe.comparator),GL=new kn(Oe.comparator);function rt(...t){let e=GL;for(const n of t)e=e.add(n);return e}const QL=new kn(ht);function YL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function dI(t){return{integerValue:""+t}}function XL(t,e){return IL(e)?dI(e):k0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function JL(t,e,n){return t instanceof Ku?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&E0(s)&&(s=T0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gu?hI(t,e):t instanceof Qu?pI(t,e):function(i,s){const o=fI(i,s),a=S1(o)+S1(i.Pe);return ky(o)&&ky(i.Pe)?dI(a):k0(i.serializer,a)}(t,e)}function ZL(t,e,n){return t instanceof Gu?hI(t,e):t instanceof Qu?pI(t,e):n}function fI(t,e){return t instanceof Ff?function(r){return ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ku extends Hh{}class Gu extends Hh{constructor(e){super(),this.elements=e}}function hI(t,e){const n=mI(e);for(const r of t.elements)n.some(i=>_i(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends Hh{constructor(e){super(),this.elements=e}}function pI(t,e){let n=mI(e);for(const r of t.elements)n=n.filter(i=>!_i(i,r));return{arrayValue:{values:n}}}class Ff extends Hh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function S1(t){return Xt(t.integerValue||t.doubleValue)}function mI(t){return C0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.field=e,this.transform=n}}function tD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gu&&i instanceof Gu||r instanceof Qu&&i instanceof Qu?Ba(r.elements,i.elements,_i):r instanceof Ff&&i instanceof Ff?_i(r.Pe,i.Pe):r instanceof Ku&&i instanceof Ku}(t.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qh{}function gI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P0(t.key,Dr.none()):new vc(t.key,t.data,Dr.none());{const n=t.data,r=tr.empty();let i=new kn(vn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qs(t.key,r,new pr(i.toArray()),Dr.none())}}function rD(t,e,n){t instanceof vc?function(i,s,o){const a=i.value.clone(),u=T1(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(i,s,o){if(!Hd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=T1(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(yI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof vc?function(s,o,a,u){if(!Hd(s.precondition,o))return a;const c=s.value.clone(),f=C1(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(s,o,a,u){if(!Hd(s.precondition,o))return a;const c=C1(s.fieldTransforms,u,o),f=o.data;return f.setAll(yI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Hd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=fI(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ba(r,i,(s,o)=>tD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vc extends qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T1(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZL(o,a,n[i]))}return r}function C1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JL(s,o,e))}return r}class P0 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=gI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>E1(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>E1(n,r))}}class A0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return KL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new A0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ut;function uD(t){switch(t){default:return He();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function vI(t){if(t===void 0)return Ji("GRPC error has no .code"),ie.UNKNOWN;switch(t){case sn.OK:return ie.OK;case sn.CANCELLED:return ie.CANCELLED;case sn.UNKNOWN:return ie.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ie.INTERNAL;case sn.UNAVAILABLE:return ie.UNAVAILABLE;case sn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case sn.NOT_FOUND:return ie.NOT_FOUND;case sn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case sn.ABORTED:return ie.ABORTED;case sn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case sn.DATA_LOSS:return ie.DATA_LOSS;default:return He()}}(ut=sn||(sn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new mo([4294967295,4294967295],0);function I1(t){const e=cD().encode(t),n=new BC;return n.update(e),new Uint8Array(n.digest())}function R1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class j0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(dD)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=I1(e),[r,i]=R1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new j0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=I1(e),[r,i]=R1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(Ke.min(),i,new Wt(ht),Zi(),rt())}}class xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xI{constructor(e,n){this.targetId=e,this.me=n}}class bI{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class k1{constructor(){this.fe=0,this.ge=A1(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),n=rt(),r=rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He()}}),new xc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=A1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=P1(),this.Qe=new Wt(ht)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:He()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ay(s))if(r===0){const o=new Oe(s.path);this.Ue(n,o,Bn.newNoDocument(o,Ke.min()))}else Et(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Co(r).toUint8Array()}catch(u){if(u instanceof XC)return To("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new j0(o,i,s)}catch(u){return To(u instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ay(a.target)){const u=new Oe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Bn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=rt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Kh(e,n,this.Qe,this.ke,r);return this.ke=Zi(),this.qe=P1(),this.Qe=new Wt(ht),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new k1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kn(ht),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function P1(){return new Wt(Oe.comparator)}function A1(){return new Wt(Oe.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},pD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class gD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ny(t,e){return t.useProto3Json||zh(e)?e:{value:e}}function Vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yD(t,e){return Vf(t,e.toTimestamp())}function yi(t){return Et(!!t),Ke.fromTimestamp(function(n){const r=$s(n);return new cn(r.seconds,r.nanos)}(t))}function O0(t,e){return My(t,e).canonicalString()}function My(t,e){const n=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wI(t){const e=Nt.fromString(t);return Et(II(e)),e}function Ly(t,e){return O0(t.databaseId,e.path)}function qm(t,e){const n=wI(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(EI(n))}function SI(t,e){return O0(t.databaseId,e)}function vD(t){const e=wI(t);return e.length===4?Nt.emptyPath():EI(e)}function Dy(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EI(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function j1(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function xD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Et(f===void 0||typeof f=="string"),bn.fromBase64String(f||"")):(Et(f===void 0||f instanceof Buffer||f instanceof Uint8Array),bn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ie.UNKNOWN:vI(c.code);return new ge(f,c.message||"")}(o);n=new bI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qm(t,r.document.name),s=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):Ke.min(),a=new tr({mapValue:{fields:r.document.fields}}),u=Bn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new qd(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qm(t,r.document),s=r.readTime?yi(r.readTime):Ke.min(),o=Bn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qm(t,r.document),s=r.removedTargetIds||[];n=new qd([],s,i,null)}else{if(!("filter"in e))return He();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lD(i,s),a=r.targetId;n=new xI(a,o)}}return n}function bD(t,e){let n;if(e instanceof vc)n={update:j1(t,e.key,e.value)};else if(e instanceof P0)n={delete:Ly(t,e.key)};else if(e instanceof qs)n={update:j1(t,e.key,e.data),updateMask:kD(e.fieldMask)};else{if(!(e instanceof sD))return He();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ff)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw He()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He()}(t,e.precondition)),n}function _D(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yi(i.updateTime):yi(s);return o.isEqual(Ke.min())&&(o=yi(s)),new nD(o,i.transformResults||[])}(n,e))):[]}function wD(t,e){return{documents:[SI(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SI(t,i);const s=function(c){if(c.length!==0)return CI(ri.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ta(m.field),direction:CD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ny(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function ED(t){let e=vD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=TI(h);return m instanceof ri&&tI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(T){return new qu(na(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,zh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,E=h.values||[];return new $f(E,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,E=h.values||[];return new $f(E,m)}(n.endAt)),BL(e,i,o,s,a,"F",u,c)}function TD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return ln.create(o,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(t):t.fieldFilter!==void 0?function(n){return ln.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>TI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He()}}(n.compositeFilter.op))}(t):He()}function CD(t){return hD[t]}function ID(t){return pD[t]}function RD(t){return mD[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return vn.fromServerFormat(t.fieldPath)}function CI(t){return t instanceof ln?function(n){if(n.op==="=="){if(v1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(y1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(y1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:ID(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>CI(i));return r.length===1?r[0]:{compositeFilter:{op:RD(n.op),filters:r}}}(t):He()}function kD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function II(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,s=Ke.min(),o=Ke.min(),a=bn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ct=e}}function AD(t){const e=ED({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.un=new OD}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ds.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(Nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qa(0)}static kn(){return new qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new dl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,pr.empty(),cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=eu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zi();const o=mu(),a=function(){return mu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof qs)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),gu(f.mutation,c,f.mutation.getFieldMask(),cn.now())):o.set(c.key,pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new MD(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mu();let i=new Wt((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||pr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=cI();f.forEach(m=>{if(!s.has(m)){const E=gI(n.get(m),r.get(m));E!==null&&h.set(m,E),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(uo());let a=-1,u=s;return o.next(c=>oe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?oe.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,rt())).next(f=>({batchId:a,changes:uI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let i=eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=eu();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{const c=function(h,m){return new cl(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Bn.newInvalidDocument(f)))});let a=eu();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&gu(f.mutation,c,pr.empty(),cn.now()),Wh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yi(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:AD(i.bundledQuery),readTime:yi(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new Wt(Oe.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),s=n.length+1,o=new Oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=uo(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=uo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aD(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.Tr=new kn(gn.Er),this.dr=new kn(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Oe(new Nt([])),r=new gn(n,e),i=new gn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Oe(new Nt([])),r=new gn(n,e),i=new gn(n,e+1);let s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Oe.comparator(e.key,n.key)||ht(e.wr,n.wr)}static Ar(e,n){return ht(e.wr,n.wr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kn(gn.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(ht);return n.forEach(i=>{const s=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const o=new gn(new Oe(s),0);let a=new kn(ht);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const s=new gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new gn(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Mr=e,this.docs=function(){return new Wt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Zi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zi();const o=n.path,a=new Oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||SL(wL(f),r)<=0||(i.has(f.key)||Wh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BD(this)}getSize(e){return oe.resolve(this.size)}}class BD extends ND{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.Nr=new dl(n=>I0(n),R0),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new N0,this.targetCount=0,this.kr=qa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new S0(0),this.Kr=!1,this.Kr=!0,this.$r=new FD,this.referenceDelegate=e(this),this.Ur=new UD(this),this.indexManager=new jD,this.remoteDocumentCache=function(i){return new zD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new PD(n),this.Gr=new DD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $D,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new HD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class HD extends TL{constructor(e){super(),this.currentSequenceNumber=e}}class M0{constructor(e){this.persistence=e,this.Jr=new N0,this.Yr=null}static Zr(e){return new M0(e)}get Xr(){if(this.Yr)return this.Yr;throw He()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=Oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new L0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GN()?8:CL(Wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Dl()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Dl()<=at.DEBUG&&Ce("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Dl()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):oe.resolve())}Yi(e,n){if(w1(n))return oe.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oy(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Oy(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return w1(n)||i.isEqual(Ke.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?oe.resolve(null):(Dl()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,o,n,_L(i,-1)).next(a=>a))})}ts(e,n){let r=new kn(aI(e));return n.forEach((i,s)=>{Wh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Dl()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ds.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wt(ht),this._s=new dl(s=>I0(s),R0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function QD(t,e,n,r){return new GD(t,e,n,r)}async function RI(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function YD(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let E=oe.resolve();return m.forEach(T=>{E=E.next(()=>f.getEntry(u,T)).next(S=>{const I=c.docVersions.get(T);Et(I!==null),S.version.compareTo(I)<0&&(h.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),f.addEntry(S)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kI(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XD(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let E=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(S,I,C){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(s,E))});let u=Zi(),c=rt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(JD(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ke.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function JD(t,e,n){let r=rt(),i=rt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function ZD(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function e6(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ws(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $y(t,e,n){const r=Ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yc(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function O1(t,e,n){const r=Ge(t);let i=Ke.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=Ge(u),m=h._s.get(f);return m!==void 0?oe.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ke.min(),n?s:rt())).next(a=>(t6(r,WL(e),a),{documents:a,Ts:s})))}function t6(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class N1{constructor(){this.activeTargetIds=YL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n6{constructor(){this.so=new N1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new N1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Km(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class o6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Km(),u=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw To("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=i6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Km();return new Promise((o,a)=>{const u=new UC;u.setWithCredentials(!0),u.listenOnce(WC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ud.NO_ERROR:const f=u.getResponseJson();Ce(Dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ud.TIMEOUT:Ce(Dn,`RPC '${e}' ${s} timed out`),a(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const h=u.getStatus();if(Ce(Dn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const T=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(C)>=0?C:ie.UNKNOWN}(E.status);a(new ge(T,E.message))}else a(new ge(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Ce(Dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ce(Dn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Km(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KC(),a=qC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Ce(Dn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,E=!1;const T=new s6({Io:I=>{E?Ce(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ce(Dn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ce(Dn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),S=(I,C,y)=>{I.listen(C,x=>{try{y(x)}catch(R){setTimeout(()=>{throw R},0)}})};return S(h,Zl.EventType.OPEN,()=>{E||(Ce(Dn,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),S(h,Zl.EventType.CLOSE,()=>{E||(E=!0,Ce(Dn,`RPC '${e}' stream ${i} transport closed`),T.So())}),S(h,Zl.EventType.ERROR,I=>{E||(E=!0,To(Dn,`RPC '${e}' stream ${i} transport errored:`,I),T.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),S(h,Zl.EventType.MESSAGE,I=>{var C;if(!E){const y=I.data[0];Et(!!y);const x=y,R=x.error||((C=x[0])===null||C===void 0?void 0:C.error);if(R){Ce(Dn,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let N=function(g){const _=sn[g];if(_!==void 0)return vI(_)}(M),b=R.message;N===void 0&&(N=ie.INTERNAL,b="Unknown error status: "+M+" with message "+R.message),E=!0,T.So(new ge(N,b)),h.close()}else Ce(Dn,`RPC '${e}' stream ${i} received:`,y),T.bo(y)}}),S(a,HC.STAT_EVENT,I=>{I.stat===Iy.PROXY?Ce(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Iy.NOPROXY&&Ce(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return new gD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a6 extends AI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?yi(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Dy(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ay(u)?{documents:wD(s,u)}:{query:SD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_I(s,o.resumeToken);const c=Ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Vf(s,o.snapshotVersion.toTimestamp());const c=Ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=TD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.a_(n)}}class l6 extends AI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_D(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Dy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,My(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,My(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class c6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Fo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ge(u);c.L_.add(4),await bc(c),c.q_.set("Unknown"),c.L_.delete(4),await Qh(c)}(this))})}),this.q_=new c6(r,i)}}async function Qh(t){if(Fo(t))for(const e of t.B_)await e(!0)}async function bc(t){for(const e of t.B_)await e(!1)}function jI(t,e){const n=Ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),V0(n)?F0(n):fl(n).r_()&&$0(n,e))}function D0(t,e){const n=Ge(t),r=fl(n);n.N_.delete(e),r.r_()&&OI(n,e),n.N_.size===0&&(r.r_()?r.o_():Fo(n)&&n.q_.set("Unknown"))}function $0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).A_(e)}function OI(t,e){t.Q_.xe(e),fl(t).R_(e)}function F0(t){t.Q_=new fD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.q_.v_()}function V0(t){return Fo(t)&&!fl(t).n_()&&t.N_.size>0}function Fo(t){return Ge(t).L_.size===0}function NI(t){t.Q_=void 0}async function f6(t){t.q_.set("Online")}async function h6(t){t.N_.forEach((e,n)=>{$0(t,e)})}async function p6(t,e){NI(t),V0(t)?(t.q_.M_(e),F0(t)):t.q_.set("Unknown")}async function m6(t,e,n){if(t.q_.set("Online"),e instanceof bI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(t,r)}else if(e instanceof qd?t.Q_.Ke(e):e instanceof xI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(bn.EMPTY_BYTE_STRING,f.snapshotVersion)),OI(s,u);const h=new ws(f.target,u,c,f.sequenceNumber);$0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await zf(t,r)}}async function zf(t,e,n){if(!yc(e))throw e;t.L_.add(1),await bc(t),t.q_.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qh(t)})}function MI(t,e){return e().catch(n=>zf(t,n,e))}async function Yh(t){const e=Ge(t),n=Fs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;g6(e);)try{const i=await ZD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,y6(e,i)}catch(i){await zf(e,i)}LI(e)&&DI(e)}function g6(t){return Fo(t)&&t.O_.length<10}function y6(t,e){t.O_.push(e);const n=Fs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LI(t){return Fo(t)&&!Fs(t).n_()&&t.O_.length>0}function DI(t){Fs(t).start()}async function v6(t){Fs(t).p_()}async function x6(t){const e=Fs(t);for(const n of t.O_)e.m_(n.mutations)}async function b6(t,e,n){const r=t.O_.shift(),i=A0.from(r,e,n);await MI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yh(t)}async function _6(t,e){e&&Fs(t).V_&&await async function(r,i){if(function(o){return uD(o)&&o!==ie.ABORTED}(i.code)){const s=r.O_.shift();Fs(r).s_(),await MI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yh(r)}}(t,e),LI(t)&&DI(t)}async function L1(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.L_.add(3),await bc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qh(n)}async function w6(t,e){const n=Ge(t);e?(n.L_.delete(2),await Qh(n)):e||(n.L_.add(2),await bc(n),n.q_.set("Unknown"))}function fl(t){return t.K_||(t.K_=function(n,r,i){const s=Ge(n);return s.w_(),new a6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:f6.bind(null,t),Ro:h6.bind(null,t),mo:p6.bind(null,t),d_:m6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),V0(t)?F0(t):t.q_.set("Unknown")):(await t.K_.stop(),NI(t))})),t.K_}function Fs(t){return t.U_||(t.U_=function(n,r,i){const s=Ge(n);return s.w_(),new l6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:v6.bind(null,t),mo:_6.bind(null,t),f_:x6.bind(null,t),g_:b6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new z0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B0(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),yc(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.W_=new Wt(Oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):He():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ka{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ka(e,n,Ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class E6{constructor(){this.queries=$1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=$1(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function $1(){return new dl(t=>oI(t),Uh)}async function U0(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new S6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=B0(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&H0(n)}async function W0(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T6(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&H0(n)}function C6(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function H0(t){t.Y_.forEach(e=>{e.next()})}var Fy,F1;(F1=Fy||(Fy={})).ea="default",F1.Cache="cache";class q0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.key=e}}class FI{constructor(e){this.key=e}}class I6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=aI(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new D1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=Wh(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;m&&E?m.data.isEqual(E.data)?T!==S&&(r.track({type:3,doc:E}),I=!0):this.ga(m,E)||(r.track({type:2,doc:E}),I=!0,(u&&this.Aa(E,u)>0||c&&this.Aa(E,c)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),I=!0):m&&!E&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(E?(o=o.add(E),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(E,T){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return S(E)-S(T)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ka(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new D1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $I(r))}),n}ba(e){this.Ta=e.Ts,this.da=rt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class R6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k6{constructor(e){this.key=e,this.va=!1}}class P6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new dl(a=>oI(a),Uh),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Oe.comparator),this.Na=new Map,this.La=new N0,this.Ba={},this.ka=new Map,this.qa=qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function A6(t,e,n=!0){const r=HI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await VI(r,e,n,!0),i}async function j6(t,e){const n=HI(t);await VI(n,e,!0,!1)}async function VI(t,e,n,r){const i=await e6(t.localStore,gi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await O6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jI(t.remoteStore,i),a}async function O6(t,e,n,r,i){t.Ka=(h,m,E)=>async function(S,I,C,y){let x=I.view.ma(C);x.ns&&(x=await O1(S.localStore,I.query,!1).then(({documents:b})=>I.view.ma(b,x)));const R=y&&y.targetChanges.get(I.targetId),M=y&&y.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(x,S.isPrimaryClient,R,M);return z1(S,I.targetId,N.wa),N.snapshot}(t,h,m,E);const s=await O1(t.localStore,e,!0),o=new I6(e,s.Ts),a=o.ma(s.documents),u=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);z1(t,n,c.wa);const f=new R6(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function N6(t,e,n){const r=Ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Uh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&D0(r.remoteStore,i.targetId),Vy(r,i.targetId)}).catch(gc)):(Vy(r,i.targetId),await $y(r.localStore,i.targetId,!0))}async function M6(t,e){const n=Ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D0(n.remoteStore,r.targetId))}async function L6(t,e,n){const r=U6(t);try{const i=await function(o,a){const u=Ge(o),c=cn.now(),f=a.reduce((E,T)=>E.add(T.key),rt());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Zi(),S=rt();return u.cs.getEntries(E,f).next(I=>{T=I,T.forEach((C,y)=>{y.isValidDocument()||(S=S.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(I=>{h=I;const C=[];for(const y of a){const x=iD(y,h.get(y.key).overlayedDocument);x!=null&&C.push(new qs(y.key,x,JC(x.value.mapValue),Dr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,C,a)}).next(I=>{m=I;const C=I.applyToLocalDocumentSet(h,S);return u.documentOverlayCache.saveOverlays(E,I.batchId,C)})}).then(()=>({batchId:m.batchId,changes:uI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Wt(ht)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await _c(r,i.changes),await Yh(r.remoteStore)}catch(i){const s=B0(i,"Failed to persist write");n.reject(s)}}async function zI(t,e){const n=Ge(t);try{const r=await XD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Et(o.va):i.removedDocuments.size>0&&(Et(o.va),o.va=!1))}),await _c(n,r,e)}catch(r){await gc(r)}}function V1(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ge(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&H0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D6(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Wt(Oe.comparator);o=o.insert(s,Bn.newNoDocument(s,Ke.min()));const a=rt().add(s),u=new Kh(Ke.min(),new Map,new Wt(ht),o,a);await zI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),K0(r)}else await $y(r.localStore,e,!1).then(()=>Vy(r,e,n)).catch(gc)}async function $6(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await YD(n.localStore,e);UI(n,r,null),BI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _c(n,i)}catch(i){await gc(i)}}async function F6(t,e,n){const r=Ge(t);try{const i=await function(o,a){const u=Ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Et(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);UI(r,e,n),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _c(r,i)}catch(i){await gc(i)}}function BI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UI(t,e,n){const r=Ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||WI(t,r)})}function WI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(D0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),K0(t))}function z1(t,e,n){for(const r of n)r instanceof $I?(t.La.addReference(r.key,e),V6(t,r)):r instanceof FI?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||WI(t,r.key)):He()}function V6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),K0(t))}function K0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Oe(Nt.fromString(e)),r=t.qa.next();t.Na.set(r,new k6(n)),t.Oa=t.Oa.insert(n,r),jI(t.remoteStore,new ws(gi(Bh(n.path)),r,"TargetPurposeLimboResolution",S0.oe))}}async function _c(t,e,n){const r=Ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=L0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=Ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(c,m=>oe.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>oe.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!yc(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),T=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(m,S)}}}(r.localStore,s))}async function z6(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _c(n,r.hs)}}function B6(t,e){const n=Ge(t),r=n.Na.get(e);if(r&&r.va)return rt().add(r.key);{let i=rt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function HI(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D6.bind(null,e),e.Ca.d_=T6.bind(null,e.eventManager),e.Ca.$a=C6.bind(null,e.eventManager),e}function U6(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F6.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QD(this.persistence,new KD,e.initialUser,this.serializer)}Ga(e){return new WD(M0.Zr,this.serializer)}Wa(e){return new n6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z6.bind(null,this.syncEngine),await w6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E6}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),r=function(s){return new o6(s)}(e.databaseInfo);return function(s,o,a,u){return new u6(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new d6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>V1(this.syncEngine,n,0),function(){return M1.D()?new M1:new r6}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new P6(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ge(i);Ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zy.provider={build:()=>new zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=w0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=B0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qm(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H6(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L1(e.remoteStore,i)),t._onlineComponents=e}async function H6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Qm(t,new Bf)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Qm(t,new Bf);return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await B1(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await B1(t,new zy))),t._onlineComponents}function q6(t){return qI(t).then(e=>e.syncEngine)}async function Uf(t){const e=await qI(t),n=e.eventManager;return n.onListen=A6.bind(null,e.syncEngine),n.onUnlisten=N6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M6.bind(null,e.syncEngine),n}function K6(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new G0({next:m=>{f.Za(),o.enqueueAndForget(()=>W0(s,h));const E=m.docs.has(a);!E&&m.fromCache?c.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new q0(Bh(a.path),f,{includeMetadataChanges:!0,_a:!0});return U0(s,h)}(await Uf(t),t.asyncQueue,e,n,r)),r.promise}function G6(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new G0({next:m=>{f.Za(),o.enqueueAndForget(()=>W0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new q0(a,f,{includeMetadataChanges:!0,_a:!0});return U0(s,h)}(await Uf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QI(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H1(t){if(Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QC;switch(r.type){case"firstParty":return new gL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U1.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),U1.delete(n),r.terminate())}(this),Promise.resolve()}}function YI(t,e,n,r={}){var i;const s=(t=Yn(t,Jh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Vn.MOCK_USER;else{a=LC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vn(c)}t._authCredentials=new hL(new GC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Wi extends ss{constructor(e,n,r){super(e,n,Bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Oe(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=dn(t),GI("collection","path",e),t instanceof Jh){const r=Nt.fromString(e,...n);return H1(r),new Wi(t,null,r)}{if(!(t instanceof Pn||t instanceof Wi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return H1(r),new Wi(t.firestore,null,r)}}function be(t,e,...n){if(t=dn(t),arguments.length===1&&(e=w0.newId()),GI("doc","path",e),t instanceof Jh){const r=Nt.fromString(e,...n);return W1(r),new Pn(t,null,new Oe(r))}{if(!(t instanceof Pn||t instanceof Wi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return W1(r),new Pn(t.firestore,t instanceof Wi?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PI(this,"async_queue_retry"),this.Vu=()=>{const r=Gm();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yc(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&He()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function G1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends Jh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K1(e),this._firestoreClient=void 0,await e}}}function XI(t,e){const n=typeof t=="object"?t:b0(),r=typeof t=="string"?t:"(default)",i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OC("firestore");s&&YI(i,...s)}return i}function wc(t){if(t._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q6(t),t._firestoreClient}function Q6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new kL(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,KI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new W6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(bn.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=/^__.*__$/;class X6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class JI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class Q0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Q0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZI(this.Cu)&&Y6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class J6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gh(e)}Qu(e,n,r,i=!1){return new Q0({Cu:e,methodName:n,qu:r,path:vn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(t){const e=t._freezeSettings(),n=Gh(t._databaseId);return new J6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);X0("Data must be an object, but it was:",o,r);const a=tR(r,o);let u,c;if(s.merge)u=new pr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=By(e,h,n);if(!o.contains(m))throw new ge(ie.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rR(f,m)||f.push(m)}u=new pr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new X6(new tr(a),u,c)}class np extends Ec{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}class Y0 extends Ec{_toFieldTransform(e){return new eD(e.path,new Ku)}isEqual(e){return e instanceof Y0}}function Z6(t,e,n,r){const i=t.Qu(1,e,n);X0("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();$o(r,(u,c)=>{const f=J0(e,u,n);c=dn(c);const h=i.Nu(f);if(c instanceof np)s.push(f);else{const m=Tc(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new pr(s);return new JI(o,a,i.fieldTransforms)}function e3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[By(e,r,n)],u=[i];if(s.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(By(e,s[m])),u.push(s[m+1]);const c=[],f=tr.empty();for(let m=a.length-1;m>=0;--m)if(!rR(c,a[m])){const E=a[m];let T=u[m];T=dn(T);const S=o.Nu(E);if(T instanceof np)c.push(E);else{const I=Tc(T,S);I!=null&&(c.push(E),f.set(E,I))}}const h=new pr(c);return new JI(f,h,o.fieldTransforms)}function t3(t,e,n,r=!1){return Tc(n,t.Qu(r?4:3,e))}function Tc(t,e){if(nR(t=dn(t)))return X0("Unsupported field value:",e,t),tR(t,e);if(t instanceof Ec)return function(r,i){if(!ZI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Tc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cn.fromDate(r);return{timestampValue:Vf(i.serializer,s)}}if(r instanceof cn){const s=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vf(i.serializer,s)}}if(r instanceof Zh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:_I(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ep)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return k0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xh(r)}`)}(t,e)}function tR(t,e){const n={};return YC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const s=Tc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof Zh||t instanceof Ro||t instanceof Pn||t instanceof Ec||t instanceof ep)}function X0(t,e,n){if(!nR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function By(t,e,n){if((e=dn(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return J0(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const n3=new RegExp("[~\\*/\\[\\]]");function J0(t,e,n){if(e.search(n3)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sc(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ge(ie.INVALID_ARGUMENT,a+t+u)}function rR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r3 extends iR{data(){return super.data()}}function rp(t,e){return typeof e=="string"?J0(t,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z0{}class ex extends Z0{}function br(t,e,...n){let r=[];e instanceof Z0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof ip).length,a=s.filter(u=>u instanceof Cc).length;if(o>1||o>0&&a>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cc extends ex{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cc(e,n,r)}_apply(e){const n=this._parse(e);return aR(e._query,n),new ss(e.firestore,e.converter,jy(e._query,n))}_parse(e){const n=tp(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Y1(h,f);const E=[];for(const T of h)E.push(Q1(u,s,T));m={arrayValue:{values:E}}}else m=Q1(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Y1(h,f),m=t3(a,o,h,f==="in"||f==="not-in");return ln.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _r(t,e,n){const r=e,i=rp("where",t);return Cc._create(i,r,n)}class ip extends Z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ip(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)aR(o,u),o=jy(o,u)}(e._query,n),new ss(e.firestore,e.converter,jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sp extends ex{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sp(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(s,o)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new cl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function oR(t,e="asc"){const n=e,r=rp("orderBy",t);return sp._create(r,n)}function Q1(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sI(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Oe.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g1(t,new Oe(r))}if(n instanceof Pn)return g1(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function Y1(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lR{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Xt(o.doubleValue));return new ep(s)}convertGeoPoint(e){return new Zh(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=T0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=$s(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);Et(II(r));const i=new Ua(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return i.isEqual(n)||Ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tx extends iR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yu extends tx{data(e={}){return super.data(e)}}class nx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yu(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new yu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new yu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:i3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){t=Yn(t,Pn);const e=Yn(t.firestore,wi);return K6(wc(e),t._key).then(n=>cR(e,t,n))}class rx extends lR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function en(t){t=Yn(t,ss);const e=Yn(t.firestore,wi),n=wc(e),r=new rx(e);return sR(t._query),G6(n,t._query).then(i=>new nx(e,r,t,i))}function ar(t,e,n){t=Yn(t,Pn);const r=Yn(t.firestore,wi),i=uR(t.converter,e,n);return Ic(r,[eR(tp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Zt(t,e,n,...r){t=Yn(t,Pn);const i=Yn(t.firestore,wi),s=tp(i);let o;return o=typeof(e=dn(e))=="string"||e instanceof Sc?e3(s,"updateDoc",t._key,e,n,r):Z6(s,"updateDoc",t._key,e),Ic(i,[o.toMutation(t._key,Dr.exists(!0))])}function $r(t){return Ic(Yn(t.firestore,wi),[new P0(t._key,Dr.none())])}function es(t,e){const n=Yn(t.firestore,wi),r=be(t),i=uR(t.converter,e);return Ic(n,[eR(tp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function Ct(t,...e){var n,r,i;t=dn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||G1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(G1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof Pn)c=Yn(t.firestore,wi),f=Bh(t._key.path),u={next:h=>{e[o]&&e[o](cR(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Yn(t,ss);c=Yn(h.firestore,wi),f=h._query;const m=new rx(c);u={next:E=>{e[o]&&e[o](new nx(c,m,h,E))},error:e[o+1],complete:e[o+2]},sR(t._query)}return function(m,E,T,S){const I=new G0(S),C=new q0(E,I,T);return m.asyncQueue.enqueueAndForget(async()=>U0(await Uf(m),C)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>W0(await Uf(m),C))}}(wc(c),f,a,u)}function Ic(t,e){return function(r,i){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>L6(await q6(r),i,s)),s.promise}(wc(t),e)}function cR(t,e,n){const r=n.docs.get(e._key),i=new rx(t);return new tx(t,i,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}function Uy(){return new Y0("serverTimestamp")}(function(e,n=!0){(function(i){ul=i})(Do),So(new Ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wi(new pL(r.getProvider("auth-internal")),new vL(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(d1,"4.7.3",e),mi(d1,"4.7.3","esm2017")})();const ix=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:lR,Bytes:Ro,CollectionReference:Wi,DocumentReference:Pn,DocumentSnapshot:tx,FieldPath:Sc,FieldValue:Ec,Firestore:wi,FirestoreError:ge,GeoPoint:Zh,Query:ss,QueryCompositeFilterConstraint:ip,QueryConstraint:ex,QueryDocumentSnapshot:yu,QueryFieldFilterConstraint:Cc,QueryOrderByConstraint:sp,QuerySnapshot:nx,SnapshotMetadata:ga,Timestamp:cn,VectorValue:ep,_AutoId:w0,_ByteString:bn,_DatabaseId:Ua,_DocumentKey:Oe,_EmptyAuthCredentialsProvider:QC,_FieldPath:vn,_cast:Yn,_logWarn:To,_validateIsNotUsedTogether:QI,addDoc:es,collection:ke,connectFirestoreEmulator:YI,deleteDoc:$r,doc:be,ensureFirestoreConfigured:wc,executeWrite:Ic,getDoc:Qt,getDocs:en,getFirestore:XI,onSnapshot:Ct,orderBy:oR,query:br,serverTimestamp:Uy,setDoc:ar,updateDoc:Zt,where:_r},Symbol.toStringTag,{value:"Module"}));function sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fR=dR,hR=new pc("auth","Firebase",dR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new v0("@firebase/auth");function s3(t,...e){Hf.logLevel<=at.WARN&&Hf.warn(`Auth (${Do}): ${t}`,...e)}function Kd(t,...e){Hf.logLevel<=at.ERROR&&Hf.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw ox(t,...e)}function vi(t,...e){return ox(t,...e)}function pR(t,e,n){const r=Object.assign(Object.assign({},fR()),{[e]:n});return new pc("auth","Firebase",r).create(e,{appName:t.name})}function Hi(t){return pR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hR.create(t,...e)}function Be(t,e,...n){if(!t)throw ox(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function ts(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o3(){return X1()==="http:"||X1()==="https:"}function X1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o3()||HN()||"connection"in navigator)?navigator.onLine:!0}function l3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=BN()||qN()}get(){return a3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Rc(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gs(t,e,n,r,i={}){return gR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return WN()||(c.referrerPolicy="no-referrer"),mR.fetch()(yR(t,t.config.apiHost,n,a),c)})}async function gR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},u3),e);try{const i=new f3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _d(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _d(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pR(t,f,c);ii(t,f)}}catch(i){if(i instanceof Ei)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function kc(t,e,n,r,i={}){const s=await Gs(t,e,n,r,i);return"mfaPendingCredential"in s&&ii(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ax(t.config,i):`${t.config.apiScheme}://${i}`}function d3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),c3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(t,e,r);return i.customData._tokenResponse=n,i}function J1(t){return t!==void 0&&t.enterprise!==void 0}class h3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function p3(t,e){return Gs(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){return Gs(t,"POST","/v1/accounts:delete",e)}async function vR(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=lx(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vu(Ym(i.auth_time)),issuedAtTime:vu(Ym(i.iat)),expirationTime:vu(Ym(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ym(t){return Number(t)*1e3}function lx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(n);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z1(t){const e=lx(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&g3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yu(t,vR(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_R(s.providerUserInfo):[],a=v3(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function bR(t){const e=dn(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _R(t){return t.map(e=>{var{providerId:n}=e,r=sx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){const n=await gR(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b3(t,e){return Gs(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=Z1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await x3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ta;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return bR(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Yu(this,m3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:x,emailVerified:R,isAnonymous:M,providerData:N,stsTokenManager:b}=n;Be(x&&b,e,"internal-error");const p=Ta.fromJSON(this.name,b);Be(typeof x=="string",e,"internal-error"),fs(h,e.name),fs(m,e.name),Be(typeof R=="boolean",e,"internal-error"),Be(typeof M=="boolean",e,"internal-error"),fs(E,e.name),fs(T,e.name),fs(S,e.name),fs(I,e.name),fs(C,e.name),fs(y,e.name);const g=new Vi({uid:x,auth:e,email:m,emailVerified:R,displayName:h,isAnonymous:M,photoURL:T,phoneNumber:E,tenantId:S,stsTokenManager:p,createdAt:C,lastLoginAt:y});return N&&Array.isArray(N)&&(g.providerData=N.map(_=>Object.assign({},_))),I&&(g._redirectEventId=I),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const s=new Vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_R(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ta;a.updateFromIdToken(r);const u=new Vi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function zi(t){ts(t instanceof Function,"Expected a class definition");let e=ew.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ew.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wR.type="NONE";const qy=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(zi(qy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zi(qy);const o=Gd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=Vi._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ca(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ca(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RR(e))return"Blackberry";if(kR(e))return"Webos";if(ER(e))return"Safari";if((e.includes("chrome/")||TR(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SR(t=Wn()){return/firefox\//i.test(t)}function ER(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TR(t=Wn()){return/crios\//i.test(t)}function CR(t=Wn()){return/iemobile/i.test(t)}function IR(t=Wn()){return/android/i.test(t)}function RR(t=Wn()){return/blackberry/i.test(t)}function kR(t=Wn()){return/webos/i.test(t)}function ux(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _3(t=Wn()){var e;return ux(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w3(){return KN()&&document.documentMode===10}function PR(t=Wn()){return ux(t)||IR(t)||kR(t)||RR(t)||/windows phone/i.test(t)||CR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e=[]){let n;switch(t){case"Browser":n=tw(Wn());break;case"Worker":n=`${tw(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=6;class C3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:T3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nw(this),this.idTokenSubscription=new nw(this),this.beforeStateQueue=new S3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vR(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Hi(this));const n=e?dn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E3(this),n=new C3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&s3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return dn(t)}class nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=tM(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R3(t){op=t}function jR(t){return op.loadJS(t)}function k3(){return op.recaptchaEnterpriseScript}function P3(){return op.gapiScript}function A3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j3="recaptcha-enterprise",O3="NO_RECAPTCHA";class N3{constructor(e){this.type=j3,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{p3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new h3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;J1(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(O3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&J1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k3();u.length!==0&&(u+=a),jR(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function rw(t,e,n,r=!1){const i=new N3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ky(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mf(s,e??{}))return i;ii(i,"already-initialized")}return n.initialize({options:e})}function M3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NR(t,e,n){const r=Vo(t);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=MR(e),{host:o,port:a}=L3(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),D3()}function MR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L3(t){const e=MR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iw(o)}}}function iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function $3(t,e){return Gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function z3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends ap{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",F3);case"emailLink":return V3(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",$3);case"emailLink":return z3(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="http://localhost";class Vs extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sx(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:B3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W3(t){const e=Xl(Jl(t)).link,n=e?Xl(Jl(e)).deep_link_id:null,r=Xl(Jl(t)).deep_link_id;return(r?Xl(Jl(r)).link:null)||r||n||e||t}class lp{constructor(e){var n,r,i,s,o,a;const u=Xl(Jl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=U3((i=u.mode)!==null&&i!==void 0?i:null);Be(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W3(e);try{return new lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lp.parseLink(n);return Be(r,"argument-error"),Ga._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends LR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Pc{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Pc{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Pc{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){return kc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Vi._fromIdTokenResponse(e,r,i),o=sw(r);return new ko({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sw(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kf(e,n,r,i)}}function DR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(t,s,e,r):s})}async function q3(t,e,n=!1){const r=await Yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(Hi(r));const i="reauthenticate";try{const s=await Yu(t,DR(r,i,e,t),n);Be(s.idToken,r,"internal-error");const o=lx(s.idToken);Be(o,r,"internal-error");const{sub:a}=o;return Be(t.uid===a,r,"user-mismatch"),ko._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e,n=!1){if(fi(t.app))return Promise.reject(Hi(t));const r="signIn",i=await DR(t,r,e),s=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FR(t,e){return $R(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nu(t,e,n){if(fi(t.app))return Promise.reject(Hi(t));const r=Vo(t),o=await Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H3).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&VR(t),u}),a=await ko._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zR(t,e,n){return fi(t.app)?Promise.reject(Hi(t)):FR(dn(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VR(t),r})}function BR(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function UR(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function wr(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function WR(t){return dn(t).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=1e3,Q3=10;class qR extends HR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);w3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qR.type="LOCAL";const KR=qR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends HR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GR.type="SESSION";const cx=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await Y3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=dx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function J3(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function Z3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t4(){return QR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebaseLocalStorageDb",n4=1,Qf="firebaseLocalStorage",XR="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function r4(){const t=indexedDB.deleteDatabase(YR);return new Ac(t).toPromise()}function Gy(){const t=indexedDB.open(YR,n4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qf,{keyPath:XR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await r4(),e(await Gy()))})})}async function ow(t,e,n){const r=cp(t,!0).put({[XR]:e,value:n});return new Ac(r).toPromise()}async function i4(t,e){const n=cp(t,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function aw(t,e){const n=cp(t,!0).delete(e);return new Ac(n).toPromise()}const s4=800,o4=3;class JR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(t4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z3(),!this.activeServiceWorker)return;this.sender=new X3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gy();return await ow(e,Gf,"1"),await aw(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ow(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cp(i,!1).getAll();return new Ac(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JR.type="LOCAL";const ZR=JR;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e){return e?zi(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l4(t){return $R(t.auth,new fx(t),t.bypassAuthState)}function u4(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),K3(n,new fx(t),t.bypassAuthState)}async function c4(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),q3(n,new fx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l4;case"linkViaPopup":case"linkViaRedirect":return c4;case"reauthViaPopup":case"reauthViaRedirect":return u4;default:ii(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Rc(2e3,1e4);class ya extends ek{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d4.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="pendingRedirect",Qd=new Map;class h4 extends ek{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await p4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p4(t,e){const n=y4(e),r=g4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function m4(t,e){Qd.set(t._key(),e)}function g4(t){return zi(t._redirectPersistence)}function y4(t){return Gd(f4,t.config.apiKey,t.name)}async function v4(t,e,n=!1){if(fi(t.app))return Promise.reject(Hi(t));const r=Vo(t),i=a4(r,e),o=await new h4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=10*60*1e3;class b4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e={}){return Gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w4(t);for(const n of e)try{if(C4(n))return}catch{}ii(t,"unauthorized-domain")}function C4(t){const e=Wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E4.test(n))return!1;if(S4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new Rc(3e4,6e4);function uw(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R4(t){return new Promise((e,n)=>{var r,i,s;function o(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(vi(t,"network-request-failed"))},timeout:I4.get()})}if(!((i=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xi().gapi)===null||s===void 0)&&s.load)o();else{const a=A3("iframefcb");return xi()[a]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},jR(`${P3()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function k4(t){return Yd=Yd||R4(t),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new Rc(5e3,15e3),A4="__/auth/iframe",j4="emulator/auth/iframe",O4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ax(e,j4):`https://${t.config.authDomain}/${A4}`,r={apiKey:e.apiKey,appName:t.name,v:Do},i=N4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function L4(t){const e=await k4(t),n=xi().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:M4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vi(t,"network-request-failed"),a=xi().setTimeout(()=>{s(o)},P4.get());function u(){xi().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,F4=600,V4="_blank",z4="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B4(t,e,n,r=$4,i=F4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},D4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Wn().toLowerCase();n&&(a=TR(c)?V4:n),SR(c)&&(e=e||z4,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[E,T])=>`${m}${E}=${T},`,"");if(_3(c)&&a!=="_self")return U4(e||"",a),new cw(null);const h=window.open(e||"",a,f);Be(h,t,"popup-blocked");try{h.focus()}catch{}return new cw(h)}function U4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__/auth/handler",H4="emulator/auth/handler",q4=encodeURIComponent("fac");async function dw(t,e,n,r,i,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:i};if(e instanceof LR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Pc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${q4}=${encodeURIComponent(u)}`:"";return`${K4(t)}?${mc(a).slice(1)}${c}`}function K4({config:t}){return t.emulator?ax(t,H4):`https://${t.authDomain}/${W4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class G4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cx,this._completeRedirectFn=v4,this._overrideRedirectResult=m4}async _openPopup(e,n,r,i){var s;ts((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dw(e,n,r,Wy(),i);return B4(e,o,dx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dw(e,n,r,Wy(),i);return J3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ts(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L4(e),r=new b4(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xm];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PR()||ER()||ux()}}const nk=G4;var fw="@firebase/auth",hw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X4(t){So(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(t)},c=new I3(r,i,s,u);return M3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new Ls("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new Q4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(fw,hw,Y4(t)),mi(fw,hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=5*60,Z4=MC("authIdTokenMaxAge")||J4;let pw=null;const e5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z4)return;const i=n==null?void 0:n.token;pw!==i&&(pw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function In(t=b0()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OR(t,{popupRedirectResolver:nk,persistence:[ZR,KR,cx]}),r=MC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=e5(s.toString());UR(n,o,()=>o(n.currentUser)),BR(n,a=>o(a))}}const i=jC("auth");return i&&NR(n,`http://${i}`),n}function t5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",t5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X4("Browser");const rk=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:lp,AuthCredential:ap,EmailAuthCredential:Ga,EmailAuthProvider:zo,FacebookAuthProvider:ji,GithubAuthProvider:Ni,GoogleAuthProvider:Oi,OAuthCredential:Vs,TwitterAuthProvider:Mi,beforeAuthStateChanged:UR,browserLocalPersistence:KR,browserPopupRedirectResolver:nk,browserSessionPersistence:cx,connectAuthEmulator:NR,createUserWithEmailAndPassword:nu,getAuth:In,getIdTokenResult:xR,inMemoryPersistence:qy,indexedDBLocalPersistence:ZR,initializeAuth:OR,onAuthStateChanged:wr,onIdTokenChanged:BR,prodErrorMap:fR,reload:bR,signInWithCredential:FR,signInWithEmailAndPassword:zR,signOut:WR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebasestorage.googleapis.com",n5="storageBucket",r5=2*60*1e3,i5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ei{constructor(e,n,r=0){super(Jm(e),`Firebase Storage: ${n} (${Jm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Jm(t){return"storage/"+t}function s5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ti(Si.UNKNOWN,t)}function o5(){return new Ti(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a5(){return new Ti(Si.CANCELED,"User canceled the upload/download.")}function l5(t){return new Ti(Si.INVALID_URL,"Invalid URL '"+t+"'.")}function u5(t){return new Ti(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mw(t){return new Ti(Si.INVALID_ARGUMENT,t)}function sk(){return new Ti(Si.APP_DELETED,"The Firebase app was deleted.")}function c5(t){return new Ti(Si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zr.makeFromUrl(e,n)}catch{return new Zr(e,"")}if(r.path==="")return r;throw u5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},S=n===ik?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${I}`,"i"),x=[{regex:a,indices:u,postModify:s},{regex:E,indices:T,postModify:c},{regex:C,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<x.length;R++){const M=x[R],N=M.regex.exec(e);if(N){const b=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new Zr(b,p),M.postModify(r);break}}if(r==null)throw l5(e);return r}}class d5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(E,u())},I)}function m(){s&&clearTimeout(s)}function E(I,...C){if(c){m();return}if(I){m(),f.call(null,I,...C);return}if(u()||o){m(),f.call(null,I,...C);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let T=!1;function S(I){T||(T=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function h5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){return t!==void 0}function gw(t,e,n,r){if(r<e)throw mw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mw(`Invalid value for '${t}'. Expected ${n} or less.`)}function m5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Yf.NO_ERROR,u=s.getStatus();if(!a||g5(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Yf.ABORT;r(!1,new wd(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new wd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());p5(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=s5();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?sk():a5();o(u)}else{const u=o5();o(u)}};this.canceled_?n(!1,new wd(!1,null,!0)):this.backoffId_=f5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w5(t,e,n,r,i,s,o=!0){const a=m5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return b5(c,e),v5(c,n),x5(c,s),_5(c,r),new y5(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this._service=e,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xf(e,n)}get root(){const e=new Zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E5(this._location.path)}get storage(){return this._service}get parent(){const e=S5(this._location.path);if(e===null)return null;const n=new Zr(this._location.bucket,e);return new Xf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c5(e)}}function yw(t,e){const n=e==null?void 0:e[n5];return n==null?null:Zr.makeFromBucketSpec(n,t)}function T5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LC(i,t.app.options.projectId))}class C5{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ik,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r5,this._maxUploadRetryTime=i5,this._requests=new Set,i!=null?this._bucket=Zr.makeFromBucketSpec(i,this._host):this._bucket=yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,e):this._bucket=yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new d5(sk());{const o=w5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vw="@firebase/storage",xw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="storage";function I5(t=b0(),e){t=dn(t);const r=Vh(t,ok).getImmediate({identifier:e}),i=OC("storage");return i&&R5(r,...i),r}function R5(t,e,n,r={}){T5(t,e,n,r)}function k5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new C5(n,r,i,e,Do)}function P5(){So(new Ls(ok,k5,"PUBLIC").setMultipleInstances(!0)),mi(vw,xw,""),mi(vw,xw,"esm2017")}P5();const A5={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},dp=FC(A5),Z=XI(dp),ro=In(dp);I5(dp);const j5=Object.freeze(Object.defineProperty({__proto__:null,app:dp,auth:ro,db:Z},Symbol.toStringTag,{value:"Module"}));function O5(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function N5(){const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(""),o=Ur();w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),w.useEffect(()=>{async function c(){const h=(await en(ke(Z,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=O5(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function Po(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const M5=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function L5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function D5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $5=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(D5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=L5(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Fn="-ms-",Jf="-moz-",yt="-webkit-",ak="comm",hx="rule",px="decl",F5="@import",lk="@keyframes",V5="@layer",z5=Math.abs,fp=String.fromCharCode,B5=Object.assign;function U5(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function uk(t){return t.trim()}function W5(t,e){return(t=e.exec(t))?t[0]:t}function vt(t,e,n){return t.replace(e,n)}function Qy(t,e){return t.indexOf(e)}function Cn(t,e){return t.charCodeAt(e)|0}function Xu(t,e,n){return t.slice(e,n)}function ui(t){return t.length}function mx(t){return t.length}function Sd(t,e){return e.push(t),t}function H5(t,e){return t.map(e).join("")}var hp=1,Qa=1,ck=0,lr=0,on=0,hl="";function pp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:hp,column:Qa,length:o,return:""}}function $l(t,e){return B5(pp("",null,null,"",null,null,0),t,{length:-t.length},e)}function q5(){return on}function K5(){return on=lr>0?Cn(hl,--lr):0,Qa--,on===10&&(Qa=1,hp--),on}function gr(){return on=lr<ck?Cn(hl,lr++):0,Qa++,on===10&&(Qa=1,hp++),on}function bi(){return Cn(hl,lr)}function Xd(){return lr}function jc(t,e){return Xu(hl,t,e)}function Ju(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dk(t){return hp=Qa=1,ck=ui(hl=t),lr=0,[]}function fk(t){return hl="",t}function Jd(t){return uk(jc(lr-1,Yy(t===91?t+2:t===40?t+1:t)))}function G5(t){for(;(on=bi())&&on<33;)gr();return Ju(t)>2||Ju(on)>3?"":" "}function Q5(t,e){for(;--e&&gr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return jc(t,Xd()+(e<6&&bi()==32&&gr()==32))}function Yy(t){for(;gr();)switch(on){case t:return lr;case 34:case 39:t!==34&&t!==39&&Yy(on);break;case 40:t===41&&Yy(t);break;case 92:gr();break}return lr}function Y5(t,e){for(;gr()&&t+on!==57;)if(t+on===84&&bi()===47)break;return"/*"+jc(e,lr-1)+"*"+fp(t===47?t:gr())}function X5(t){for(;!Ju(bi());)gr();return jc(t,lr)}function J5(t){return fk(Zd("",null,null,null,[""],t=dk(t),0,[0],t))}function Zd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,E=0,T=0,S=1,I=1,C=1,y=0,x="",R=i,M=s,N=r,b=x;I;)switch(T=y,y=gr()){case 40:if(T!=108&&Cn(b,h-1)==58){Qy(b+=vt(Jd(y),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:b+=Jd(y);break;case 9:case 10:case 13:case 32:b+=G5(T);break;case 92:b+=Q5(Xd()-1,7);continue;case 47:switch(bi()){case 42:case 47:Sd(Z5(Y5(gr(),Xd()),e,n),u);break;default:b+="/"}break;case 123*S:a[c++]=ui(b)*C;case 125*S:case 59:case 0:switch(y){case 0:case 125:I=0;case 59+f:C==-1&&(b=vt(b,/\f/g,"")),E>0&&ui(b)-h&&Sd(E>32?_w(b+";",r,n,h-1):_w(vt(b," ","")+";",r,n,h-2),u);break;case 59:b+=";";default:if(Sd(N=bw(b,e,n,c,f,i,a,x,R=[],M=[],h),s),y===123)if(f===0)Zd(b,e,N,N,R,s,h,a,M);else switch(m===99&&Cn(b,3)===110?100:m){case 100:case 108:case 109:case 115:Zd(t,N,N,r&&Sd(bw(t,N,N,0,0,i,a,x,i,R=[],h),M),i,M,h,a,r?R:M);break;default:Zd(b,N,N,N,[""],M,0,a,M)}}c=f=E=0,S=C=1,x=b="",h=o;break;case 58:h=1+ui(b),E=T;default:if(S<1){if(y==123)--S;else if(y==125&&S++==0&&K5()==125)continue}switch(b+=fp(y),y*S){case 38:C=f>0?1:(b+="\f",-1);break;case 44:a[c++]=(ui(b)-1)*C,C=1;break;case 64:bi()===45&&(b+=Jd(gr())),m=bi(),f=h=ui(x=b+=X5(Xd())),y++;break;case 45:T===45&&ui(b)==2&&(S=0)}}return s}function bw(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],E=mx(m),T=0,S=0,I=0;T<r;++T)for(var C=0,y=Xu(t,h+1,h=z5(S=o[T])),x=t;C<E;++C)(x=uk(S>0?m[C]+" "+y:vt(y,/&\f/g,m[C])))&&(u[I++]=x);return pp(t,e,n,i===0?hx:a,u,c,f)}function Z5(t,e,n){return pp(t,e,n,ak,fp(q5()),Xu(t,2,-2),0)}function _w(t,e,n,r){return pp(t,e,n,px,Xu(t,0,r),Xu(t,r+1,-1),r)}function Ra(t,e){for(var n="",r=mx(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function e$(t,e,n,r){switch(t.type){case V5:if(t.children.length)break;case F5:case px:return t.return=t.return||t.value;case ak:return"";case lk:return t.return=t.value+"{"+Ra(t.children,r)+"}";case hx:t.value=t.props.join(",")}return ui(n=Ra(t.children,r))?t.return=t.value+"{"+n+"}":""}function t$(t){var e=mx(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function n$(t){return function(e){e.root||(e=e.return)&&t(e)}}function hk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var r$=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!Ju(s);)gr();return jc(e,lr)},i$=function(e,n){var r=-1,i=44;do switch(Ju(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=r$(lr-1,n,r);break;case 2:e[r]+=Jd(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fp(i)}while(i=gr());return e},s$=function(e,n){return fk(i$(dk(e),n))},ww=new WeakMap,o$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ww.get(r))&&!i){ww.set(e,!0);for(var s=[],o=s$(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},a$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pk(t,e){switch(U5(t,e)){case 5103:return yt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+t+Jf+t+Fn+t+t;case 6828:case 4268:return yt+t+Fn+t+t;case 6165:return yt+t+Fn+"flex-"+t+t;case 5187:return yt+t+vt(t,/(\w+).+(:[^]+)/,yt+"box-$1$2"+Fn+"flex-$1$2")+t;case 5443:return yt+t+Fn+"flex-item-"+vt(t,/flex-|-self/,"")+t;case 4675:return yt+t+Fn+"flex-line-pack"+vt(t,/align-content|flex-|-self/,"")+t;case 5548:return yt+t+Fn+vt(t,"shrink","negative")+t;case 5292:return yt+t+Fn+vt(t,"basis","preferred-size")+t;case 6060:return yt+"box-"+vt(t,"-grow","")+yt+t+Fn+vt(t,"grow","positive")+t;case 4554:return yt+vt(t,/([^-])(transform)/g,"$1"+yt+"$2")+t;case 6187:return vt(vt(vt(t,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),t,"")+t;case 5495:case 3959:return vt(t,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return vt(vt(t,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+Fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+t+t;case 4095:case 3583:case 4068:case 2532:return vt(t,/(.+)-inline(.+)/,yt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ui(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return vt(t,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+Jf+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Qy(t,"stretch")?pk(vt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cn(t,e+1)!==115)break;case 6444:switch(Cn(t,ui(t)-3-(~Qy(t,"!important")&&10))){case 107:return vt(t,":",":"+yt)+t;case 101:return vt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(Cn(t,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+Fn+"$2box$3")+t}break;case 5936:switch(Cn(t,e+11)){case 114:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return yt+t+Fn+vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return yt+t+Fn+t+t}return t}var l$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case px:e.return=pk(e.value,e.length);break;case lk:return Ra([$l(e,{value:vt(e.value,"@","@"+yt)})],i);case hx:if(e.length)return H5(e.props,function(s){switch(W5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ra([$l(e,{props:[vt(s,/:(read-\w+)/,":"+Jf+"$1")]})],i);case"::placeholder":return Ra([$l(e,{props:[vt(s,/:(plac\w+)/,":"+yt+"input-$1")]}),$l(e,{props:[vt(s,/:(plac\w+)/,":"+Jf+"$1")]}),$l(e,{props:[vt(s,/:(plac\w+)/,Fn+"input-$1")]})],i)}return""})}},u$=[l$],mk=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var I=S.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||u$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var I=S.getAttribute("data-emotion").split(" "),C=1;C<I.length;C++)s[I[C]]=!0;a.push(S)});var u,c=[o$,a$];{var f,h=[e$,n$(function(S){f.insert(S)})],m=t$(c.concat(i,h)),E=function(I){return Ra(J5(I),m)};u=function(I,C,y,x){f=y,E(I?I+"{"+C.styles+"}":C.styles),x&&(T.inserted[C.name]=!0)}}var T={key:n,sheet:new $5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return T.sheet.hydrate(a),T},gk={exports:{}},Tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,gx=_n?Symbol.for("react.element"):60103,yx=_n?Symbol.for("react.portal"):60106,mp=_n?Symbol.for("react.fragment"):60107,gp=_n?Symbol.for("react.strict_mode"):60108,yp=_n?Symbol.for("react.profiler"):60114,vp=_n?Symbol.for("react.provider"):60109,xp=_n?Symbol.for("react.context"):60110,vx=_n?Symbol.for("react.async_mode"):60111,bp=_n?Symbol.for("react.concurrent_mode"):60111,_p=_n?Symbol.for("react.forward_ref"):60112,wp=_n?Symbol.for("react.suspense"):60113,c$=_n?Symbol.for("react.suspense_list"):60120,Sp=_n?Symbol.for("react.memo"):60115,Ep=_n?Symbol.for("react.lazy"):60116,d$=_n?Symbol.for("react.block"):60121,f$=_n?Symbol.for("react.fundamental"):60117,h$=_n?Symbol.for("react.responder"):60118,p$=_n?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gx:switch(t=t.type,t){case vx:case bp:case mp:case yp:case gp:case wp:return t;default:switch(t=t&&t.$$typeof,t){case xp:case _p:case Ep:case Sp:case vp:return t;default:return e}}case yx:return e}}}function yk(t){return Tr(t)===bp}Tt.AsyncMode=vx;Tt.ConcurrentMode=bp;Tt.ContextConsumer=xp;Tt.ContextProvider=vp;Tt.Element=gx;Tt.ForwardRef=_p;Tt.Fragment=mp;Tt.Lazy=Ep;Tt.Memo=Sp;Tt.Portal=yx;Tt.Profiler=yp;Tt.StrictMode=gp;Tt.Suspense=wp;Tt.isAsyncMode=function(t){return yk(t)||Tr(t)===vx};Tt.isConcurrentMode=yk;Tt.isContextConsumer=function(t){return Tr(t)===xp};Tt.isContextProvider=function(t){return Tr(t)===vp};Tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gx};Tt.isForwardRef=function(t){return Tr(t)===_p};Tt.isFragment=function(t){return Tr(t)===mp};Tt.isLazy=function(t){return Tr(t)===Ep};Tt.isMemo=function(t){return Tr(t)===Sp};Tt.isPortal=function(t){return Tr(t)===yx};Tt.isProfiler=function(t){return Tr(t)===yp};Tt.isStrictMode=function(t){return Tr(t)===gp};Tt.isSuspense=function(t){return Tr(t)===wp};Tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mp||t===bp||t===yp||t===gp||t===wp||t===c$||typeof t=="object"&&t!==null&&(t.$$typeof===Ep||t.$$typeof===Sp||t.$$typeof===vp||t.$$typeof===xp||t.$$typeof===_p||t.$$typeof===f$||t.$$typeof===h$||t.$$typeof===p$||t.$$typeof===d$)};Tt.typeOf=Tr;gk.exports=Tt;var m$=gk.exports,vk=m$,g$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xk={};xk[vk.ForwardRef]=g$;xk[vk.Memo]=y$;var v$=!0;function bk(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var xx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||v$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},bx=function(e,n,r){xx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function x$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var b$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_$=/[A-Z]|^ms/g,w$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_k=function(e){return e.charCodeAt(1)===45},Sw=function(e){return e!=null&&typeof e!="boolean"},Zm=hk(function(t){return _k(t)?t:t.replace(_$,"-$&").toLowerCase()}),Ew=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(w$,function(r,i,s){return ci={name:i,styles:s,next:ci},i})}return b$[e]!==1&&!_k(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ci={name:i.name,styles:i.styles,next:ci},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ci={name:o.name,styles:o.styles,next:ci},o=o.next;var a=s.styles+";";return a}return S$(t,e,n)}case"function":{if(t!==void 0){var u=ci,c=n(t);return ci=u,Zu(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function S$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Sw(a)&&(r+=Zm(s)+":"+Ew(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)Sw(o[u])&&(r+=Zm(s)+":"+Ew(s,o[u])+";");else{var c=Zu(t,e,o);switch(s){case"animation":case"animationName":{r+=Zm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var Tw=/label:\s*([^\s;{]+)\s*(;|$)/g,ci;function Oc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ci=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Zu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Zu(n,e,t[a]),r){var u=s;i+=u[a]}Tw.lastIndex=0;for(var c="",f;(f=Tw.exec(i))!==null;)c+="-"+f[1];var h=x$(i)+c;return{name:h,styles:i,next:ci}}var E$=function(e){return e()},wk=lf.useInsertionEffect?lf.useInsertionEffect:!1,Sk=wk||E$,Cw=wk||w.useLayoutEffect,Ek=w.createContext(typeof HTMLElement<"u"?mk({key:"css"}):null),T$=Ek.Provider,_x=function(e){return w.forwardRef(function(n,r){var i=w.useContext(Ek);return e(n,i,r)})},pl=w.createContext({}),wx={}.hasOwnProperty,Xy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",C$=function(e,n){var r={};for(var i in n)wx.call(n,i)&&(r[i]=n[i]);return r[Xy]=e,r},I$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return xx(n,r,i),Sk(function(){return bx(n,r,i)}),null},R$=_x(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Xy],s=[r],o="";typeof t.className=="string"?o=bk(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Oc(s,void 0,w.useContext(pl));o+=e.key+"-"+a.name;var u={};for(var c in t)wx.call(t,c)&&c!=="css"&&c!==Xy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),w.createElement(w.Fragment,null,w.createElement(I$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,u))}),k$=R$,eg={exports:{}},Iw;function Tk(){return Iw||(Iw=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(eg)),eg.exports}Tk();var Rw=function(e,n){var r=arguments;if(n==null||!wx.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=k$,s[1]=C$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Rw||(Rw={}));var P$=_x(function(t,e){var n=t.styles,r=Oc([n],void 0,w.useContext(pl)),i=w.useRef();return Cw(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),Cw(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&bx(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Ck(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Oc(e)}function Tp(){var t=Ck.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var A$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,j$=hk(function(t){return A$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),O$=j$,N$=function(e){return e!=="theme"},kw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?O$:N$},Pw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},M$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return xx(n,r,i),Sk(function(){return bx(n,r,i)}),null},L$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Pw(e,n,r),u=a||kw(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,T=1;T<E;T++)h.push(f[T],m[T])}var S=_x(function(I,C,y){var x=c&&I.as||i,R="",M=[],N=I;if(I.theme==null){N={};for(var b in I)N[b]=I[b];N.theme=w.useContext(pl)}typeof I.className=="string"?R=bk(C.registered,M,I.className):I.className!=null&&(R=I.className+" ");var p=Oc(h.concat(M),C.registered,N);R+=C.key+"-"+p.name,o!==void 0&&(R+=" "+o);var g=c&&a===void 0?kw(x):u,_={};for(var O in I)c&&O==="as"||g(O)&&(_[O]=I[O]);return _.className=R,y&&(_.ref=y),w.createElement(w.Fragment,null,w.createElement(M$,{cache:C,serialized:p,isStringTag:typeof x=="string"}),w.createElement(x,_))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(I,C){var y=t(I,$({},n,C,{shouldForwardProp:Pw(S,C,!0)}));return y.apply(void 0,h)},S}},D$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Jy=L$.bind(null);D$.forEach(function(t){Jy[t]=Jy(t)});function $$(t,e){const n=mk({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const tg=new Map;function F$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=w.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&tg.has(s))return tg.get(s);const o=$$(e,n);return tg.set(s,o),o},[e,n]);return e||n?l.jsx(T$,{value:i,children:r}):r}function V$(t){return t==null||Object.keys(t).length===0}function Ik(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(V$(i)?n:i):e;return l.jsx(P$,{styles:r})}function Sx(t,e){return Jy(t,e)}const Rk=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Aw=[];function Zf(t){return Aw[0]=t,Oc(Aw)}const z$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Ik,StyledEngineProvider:F$,ThemeContext:pl,css:Ck,default:Sx,internal_processStyles:Rk,internal_serializeStyles:Zf,keyframes:Tp},Symbol.toStringTag,{value:"Module"}));function Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Li(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kk(t){if(w.isValidElement(t)||!Li(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=kk(t[n])}),e}function yr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return Li(t)&&Li(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])?r[i]=e[i]:Li(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Li(t[i])?r[i]=yr(t[i],e[i],n):n.clone?r[i]=Li(e[i])?kk(e[i]):e[i]:r[i]=e[i]}),r}const B$=Object.freeze(Object.defineProperty({__proto__:null,default:yr,isPlainObject:Li},Symbol.toStringTag,{value:"Module"})),U$=["values","unit","step"],W$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function Pk(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ie(t,U$),s=W$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,E){const T=o.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:E)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const E=o.indexOf(m);return E===0?a(o[1]):E===o.length-1?u(o[E]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const H$={borderRadius:4};function xu(t,e){return e?yr(t,e,{clone:!1}):t}const Ex={xs:0,sm:600,md:900,lg:1200,xl:1536},jw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Ex[t]}px)`};function zr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||jw;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||jw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Ex).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function q$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Ow(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function K$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Cp({values:t,breakpoints:e,base:n}){const r=n||K$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function We(t){if(typeof t!="string")throw new Error(Po(7));return t.charAt(0).toUpperCase()+t.slice(1)}const G$=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Ya(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function eh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ya(t,n)||r,e&&(i=e(i,r,t)),i}function tn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Ya(u,r)||{};return zr(o,a,h=>{let m=eh(c,i,h);return h===m&&typeof h=="string"&&(m=eh(c,i,`${e}${h==="default"?"":We(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function Q$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Y$={m:"margin",p:"padding"},X$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Nw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},J$=Q$(t=>{if(t.length>2)if(Nw[t])t=Nw[t];else return[t];const[e,n]=t.split(""),r=Y$[e],i=X$[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Tx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Cx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Tx,...Cx];function Nc(t,e,n,r){var i;const s=(i=Ya(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Ak(t){return Nc(t,"spacing",8)}function Mc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Z$(t,e){return n=>t.reduce((r,i)=>(r[i]=Mc(e,n),r),{})}function eF(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=J$(n),s=Z$(i,r),o=t[n];return zr(t,o,s)}function jk(t,e){const n=Ak(t.theme);return Object.keys(t).map(r=>eF(t,e,r,n)).reduce(xu,{})}function qt(t){return jk(t,Tx)}qt.propTypes={};qt.filterProps=Tx;function Kt(t){return jk(t,Cx)}Kt.propTypes={};Kt.filterProps=Cx;function tF(t=8){if(t.mui)return t;const e=Ak({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Ip(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?xu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Wr(t,e){return tn({prop:t,themeKey:"borders",transform:e})}const nF=Wr("border",Nr),rF=Wr("borderTop",Nr),iF=Wr("borderRight",Nr),sF=Wr("borderBottom",Nr),oF=Wr("borderLeft",Nr),aF=Wr("borderColor"),lF=Wr("borderTopColor"),uF=Wr("borderRightColor"),cF=Wr("borderBottomColor"),dF=Wr("borderLeftColor"),fF=Wr("outline",Nr),hF=Wr("outlineColor"),Rp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Nc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Mc(e,r)});return zr(t,t.borderRadius,n)}return null};Rp.propTypes={};Rp.filterProps=["borderRadius"];Ip(nF,rF,iF,sF,oF,aF,lF,uF,cF,dF,Rp,fF,hF);const kp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({gap:Mc(e,r)});return zr(t,t.gap,n)}return null};kp.propTypes={};kp.filterProps=["gap"];const Pp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({columnGap:Mc(e,r)});return zr(t,t.columnGap,n)}return null};Pp.propTypes={};Pp.filterProps=["columnGap"];const Ap=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({rowGap:Mc(e,r)});return zr(t,t.rowGap,n)}return null};Ap.propTypes={};Ap.filterProps=["rowGap"];const pF=tn({prop:"gridColumn"}),mF=tn({prop:"gridRow"}),gF=tn({prop:"gridAutoFlow"}),yF=tn({prop:"gridAutoColumns"}),vF=tn({prop:"gridAutoRows"}),xF=tn({prop:"gridTemplateColumns"}),bF=tn({prop:"gridTemplateRows"}),_F=tn({prop:"gridTemplateAreas"}),wF=tn({prop:"gridArea"});Ip(kp,Pp,Ap,pF,mF,gF,yF,vF,xF,bF,_F,wF);function ka(t,e){return e==="grey"?e:t}const SF=tn({prop:"color",themeKey:"palette",transform:ka}),EF=tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ka}),TF=tn({prop:"backgroundColor",themeKey:"palette",transform:ka});Ip(SF,EF,TF);function fr(t){return t<=1&&t!==0?`${t*100}%`:t}const CF=tn({prop:"width",transform:fr}),Ix=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Ex[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:fr(n)}};return zr(t,t.maxWidth,e)}return null};Ix.filterProps=["maxWidth"];const IF=tn({prop:"minWidth",transform:fr}),RF=tn({prop:"height",transform:fr}),kF=tn({prop:"maxHeight",transform:fr}),PF=tn({prop:"minHeight",transform:fr});tn({prop:"size",cssProperty:"width",transform:fr});tn({prop:"size",cssProperty:"height",transform:fr});const AF=tn({prop:"boxSizing"});Ip(CF,Ix,IF,RF,kF,PF,AF);const Lc={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Rp},color:{themeKey:"palette",transform:ka},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ka},backgroundColor:{themeKey:"palette",transform:ka},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kp},rowGap:{style:Ap},columnGap:{style:Pp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fr},maxWidth:{style:Ix},minWidth:{transform:fr},height:{transform:fr},maxHeight:{transform:fr},minHeight:{transform:fr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function OF(t,e){return typeof t=="function"?t(e):t}function Ok(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Ya(i,c)||{};return h?h(o):zr(o,r,T=>{let S=eh(m,f,T);return T===S&&typeof T=="string"&&(S=eh(m,f,`${n}${T==="default"?"":We(T)}`,T)),u===!1?S:{[u]:S}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Lc;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=q$(s.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(T=>{const S=OF(f[T],s);if(S!=null)if(typeof S=="object")if(a[T])E=xu(E,t(T,S,s,a));else{const I=zr({theme:s},S,C=>({[T]:C}));jF(I,S)?E[T]=e({sx:S,theme:s,nested:!0}):E=xu(E,I)}else E=xu(E,t(T,S,s,a))}),!o&&s.modularCssLayers?{"@layer sx":Ow(m,E)}:Ow(m,E)}return Array.isArray(i)?i.map(u):u(i)}return e}const ml=Ok();ml.filterProps=["sx"];function Nk(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const NF=["breakpoints","palette","spacing","shape"];function Dc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ie(t,NF),a=Pk(n),u=tF(i);let c=yr({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:u,shape:$({},H$,s)},o);return c.applyStyles=Nk,c=e.reduce((f,h)=>yr(f,h),c),c.unstable_sxConfig=$({},Lc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return ml({sx:h,theme:this})},c}const MF=Object.freeze(Object.defineProperty({__proto__:null,default:Dc,private_createBreakpoints:Pk,unstable_applyStyles:Nk},Symbol.toStringTag,{value:"Module"}));function LF(t){return Object.keys(t).length===0}function Rx(t=null){const e=w.useContext(pl);return!e||LF(e)?t:e}const DF=Dc();function jp(t=DF){return Rx(t)}function ng(t){const e=Zf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function Mk({styles:t,themeId:e,defaultTheme:n={}}){const r=jp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>ng(typeof o=="function"?o(i):o)):s=ng(s)),l.jsx(Ik,{styles:s})}const $F=["sx"],FF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Lc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Op(t){const{sx:e}=t,n=Ie(t,$F),{systemProps:r,otherProps:i}=FF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Li(a)?$({},r,a):r}:s=$({},r,e),$({},i,{sx:s})}const VF=Object.freeze(Object.defineProperty({__proto__:null,default:ml,extendSxProp:Op,unstable_createStyleFunctionSx:Ok,unstable_defaultSxConfig:Lc},Symbol.toStringTag,{value:"Module"})),Mw=t=>t,zF=()=>{let t=Mw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Mw}}},Lk=zF(),BF=["className","component"];function UF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Sx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ml);return w.forwardRef(function(u,c){const f=jp(n),h=Op(u),{className:m,component:E="div"}=h,T=Ie(h,BF);return l.jsx(s,$({as:E,ref:c,className:$e(m,i?i(r):r),theme:e&&f[e]||f},T))})}const WF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pt(t,e,n="Mui"){const r=WF[e];return r?`${n}-${r}`:`${Lk.generate(t)}-${e}`}function ct(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=pt(t,i,n)}),r}var Dk={exports:{}},Rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx=Symbol.for("react.transitional.element"),Px=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Dp=Symbol.for("react.consumer"),$p=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),HF=Symbol.for("react.view_transition"),qF=Symbol.for("react.client.reference");function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kx:switch(t=t.type,t){case Np:case Lp:case Mp:case Vp:case zp:case HF:return t;default:switch(t=t&&t.$$typeof,t){case $p:case Fp:case Up:case Bp:return t;case Dp:return t;default:return e}}case Px:return e}}}Rt.ContextConsumer=Dp;Rt.ContextProvider=$p;Rt.Element=kx;Rt.ForwardRef=Fp;Rt.Fragment=Np;Rt.Lazy=Up;Rt.Memo=Bp;Rt.Portal=Px;Rt.Profiler=Lp;Rt.StrictMode=Mp;Rt.Suspense=Vp;Rt.SuspenseList=zp;Rt.isContextConsumer=function(t){return Hr(t)===Dp};Rt.isContextProvider=function(t){return Hr(t)===$p};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kx};Rt.isForwardRef=function(t){return Hr(t)===Fp};Rt.isFragment=function(t){return Hr(t)===Np};Rt.isLazy=function(t){return Hr(t)===Up};Rt.isMemo=function(t){return Hr(t)===Bp};Rt.isPortal=function(t){return Hr(t)===Px};Rt.isProfiler=function(t){return Hr(t)===Lp};Rt.isStrictMode=function(t){return Hr(t)===Mp};Rt.isSuspense=function(t){return Hr(t)===Vp};Rt.isSuspenseList=function(t){return Hr(t)===zp};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Np||t===Lp||t===Mp||t===Vp||t===zp||typeof t=="object"&&t!==null&&(t.$$typeof===Up||t.$$typeof===Bp||t.$$typeof===$p||t.$$typeof===Dp||t.$$typeof===Fp||t.$$typeof===qF||t.getModuleId!==void 0)};Rt.typeOf=Hr;Dk.exports=Rt;var Lw=Dk.exports;const KF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function $k(t){const e=`${t}`.match(KF);return e&&e[1]||""}function Fk(t,e=""){return t.displayName||t.name||$k(t)||e}function Dw(t,e,n){const r=Fk(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function GF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Fk(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Lw.ForwardRef:return Dw(t,t.render,"ForwardRef");case Lw.Memo:return Dw(t,t.type,"memo");default:return}}}const QF=Object.freeze(Object.defineProperty({__proto__:null,default:GF,getFunctionName:$k},Symbol.toStringTag,{value:"Module"})),YF=["ownerState"],XF=["variants"],JF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ZF(t){return Object.keys(t).length===0}function eV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function rg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function $w(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const tV=Dc(),nV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ed({defaultTheme:t,theme:e,themeId:n}){return ZF(e)?t:e[n]||e}function rV(t){return t?(e,n)=>n[t]:null}function ef(t,e,n){let{ownerState:r}=e,i=Ie(e,YF);const s=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>ef(o,$({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Ie(s,XF);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props($({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style($({ownerState:r},i,r)):c.style;u.push(n?$w(Zf(h),n):h)}}),u}return n?$w(Zf(s),n):s}function iV(t={}){const{themeId:e,defaultTheme:n=tV,rootShouldForwardProp:r=rg,slotShouldForwardProp:i=rg}=t,s=o=>ml($({},o,{theme:Ed($({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Rk(o,N=>N.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=rV(nV(c))}=a,E=Ie(a,JF),T=u&&u.startsWith("Mui")||c?"components":"custom",S=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,y=rg;c==="Root"||c==="root"?y=r:c?y=i:eV(o)&&(y=void 0);const x=Sx(o,$({shouldForwardProp:y,label:C},E)),R=N=>typeof N=="function"&&N.__emotion_real!==N||Li(N)?b=>{const p=Ed({theme:b.theme,defaultTheme:n,themeId:e});return ef(N,$({},b,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...b)=>{let p=R(N);const g=b?b.map(R):[];u&&m&&g.push(j=>{const P=Ed($({},j,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const z=P.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=ef(U,$({},j,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!S&&g.push(j=>{var P;const z=Ed($({},j,{defaultTheme:n,themeId:e})),F=z==null||(P=z.components)==null||(P=P[u])==null?void 0:P.variants;return ef({variants:F},$({},j,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const _=g.length-b.length;if(Array.isArray(N)&&_>0){const j=new Array(_).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const O=x(p,...g);return o.muiName&&(O.muiName=o.muiName),O};return x.withConfig&&(M.withConfig=x.withConfig),M}}const sV=iV();function ec(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=$({},s),Object.keys(i).forEach(o=>{n[r][o]=ec(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function oV(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:ec(e.components[n].defaultProps,r)}function aV({props:t,name:e,defaultTheme:n,themeId:r}){let i=jp(n);return r&&(i=i[r]||i),oV({theme:i,name:e,props:t})}const ns=typeof window<"u"?w.useLayoutEffect:w.useEffect;function lV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const uV=Object.freeze(Object.defineProperty({__proto__:null,default:lV},Symbol.toStringTag,{value:"Module"}));function Fw(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Vk(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function ig(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function vr(t){return t&&t.ownerDocument||document}function Ao(t){return vr(t).defaultView||window}function Zy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Vw=0;function cV(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(Vw+=1,n(`mui-${Vw}`))},[e]),r}const zw=lf.useId;function Ax(t){if(zw!==void 0){const e=zw();return t??e}return cV(t)}function Bw({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,u=w.useCallback(c=>{i||o(c)},[]);return[a,u]}function co(t){const e=w.useRef(t);return ns(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function jn(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Zy(n,e)})},t)}const Uw={};function dV(t,e){const n=w.useRef(Uw);return n.current===Uw&&(n.current=t(e)),n}const fV=[];function hV(t){w.useEffect(t,fV)}class Wp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Wp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function zk(){const t=dV(Wp.create).current;return hV(t.disposeEffect),t}let Hp=!0,ev=!1;const pV=new Wp,mV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&mV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function yV(t){t.metaKey||t.altKey||t.ctrlKey||(Hp=!0)}function sg(){Hp=!1}function vV(){this.visibilityState==="hidden"&&ev&&(Hp=!0)}function xV(t){t.addEventListener("keydown",yV,!0),t.addEventListener("mousedown",sg,!0),t.addEventListener("pointerdown",sg,!0),t.addEventListener("touchstart",sg,!0),t.addEventListener("visibilitychange",vV,!0)}function bV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Hp||gV(e)}function Bk(){const t=w.useCallback(i=>{i!=null&&xV(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(ev=!0,pV.start(100,()=>{ev=!1}),e.current=!1,!0):!1}function r(i){return bV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Uk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function xt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function th(t){return typeof t=="string"}function Wk(t,e,n){return t===void 0||th(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function Hk(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Ww(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function qk(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const E=$e(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),T=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),S=$({},n,i,r);return E.length>0&&(S.className=E),Object.keys(T).length>0&&(S.style=T),{props:S,internalRef:void 0}}const o=Hk($({},i,r)),a=Ww(r),u=Ww(i),c=e(o),f=$e(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function Kk(t,e,n){return typeof t=="function"?t(e,n):t}const _V=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xa(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ie(t,_V),a=s?{}:Kk(r,i),{props:u,internalRef:c}=qk($({},o,{externalSlotProps:a})),f=jn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Wk(n,$({},u,{ref:f}),i)}function $c(t){if(parseInt(w.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const Gk=w.createContext(null);function Qk(){return w.useContext(Gk)}const wV=typeof Symbol=="function"&&Symbol.for,SV=wV?Symbol.for("mui.nested"):"__THEME_NESTED__";function EV(t,e){return typeof e=="function"?e(t):$({},t,e)}function TV(t){const{children:e,theme:n}=t,r=Qk(),i=w.useMemo(()=>{const s=r===null?n:EV(r,n);return s!=null&&(s[SV]=r!==null),s},[n,r]);return l.jsx(Gk.Provider,{value:i,children:e})}const CV=["value"],Yk=w.createContext();function IV(t){let{value:e}=t,n=Ie(t,CV);return l.jsx(Yk.Provider,$({value:e??!0},n))}const RV=()=>{const t=w.useContext(Yk);return t??!1},Xk=w.createContext(void 0);function kV({value:t,children:e}){return l.jsx(Xk.Provider,{value:t,children:e})}function PV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?ec(i.defaultProps,r):!i.styleOverrides&&!i.variants?ec(i,r):r}function AV({props:t,name:e}){const n=w.useContext(Xk);return PV({props:t,name:e,theme:{components:n}})}function jV(t){const e=Rx(),n=Ax()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,ns(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx(Mk,{styles:i}):null}const Hw={};function qw(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?$({},e,{[t]:s}):s;return r?()=>o:o}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function OV(t){const{children:e,theme:n,themeId:r}=t,i=Rx(Hw),s=Qk()||Hw,o=qw(r,i,n),a=qw(r,s,n,!0),u=o.direction==="rtl",c=jV(o);return l.jsx(TV,{theme:a,children:l.jsx(pl.Provider,{value:o,children:l.jsx(IV,{value:u,children:l.jsxs(kV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const NV=["className","component","disableGutters","fixed","maxWidth","classes"],MV=Dc(),LV=sV("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${We(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),DV=t=>aV({props:t,name:"MuiContainer",defaultTheme:MV}),$V=(t,e)=>{const n=u=>pt(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${We(String(o))}`,i&&"fixed",s&&"disableGutters"]};return xt(a,n,r)};function FV(t={}){const{createStyledComponent:e=LV,useThemeProps:n=DV,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>$({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return w.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:T="lg"}=c,S=Ie(c,NV),I=$({},c,{component:h,disableGutters:m,fixed:E,maxWidth:T}),C=$V(I,r);return l.jsx(i,$({as:h,ownerState:I,className:$e(C.root,f),ref:u},S))})}var Fc={},Jk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Jk);var Zk=Jk.exports,og={exports:{}},Kw;function VV(){return Kw||(Kw=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(og)),og.exports}const zV=rs(z$),BV=rs(B$),UV=rs(G$),WV=rs(QF),HV=rs(MF),qV=rs(VF);var gl=Zk;Object.defineProperty(Fc,"__esModule",{value:!0});var KV=Fc.default=oz;Fc.shouldForwardProp=tf;Fc.systemDefaultTheme=void 0;var Pr=gl(Tk()),tv=gl(VV()),nh=ez(zV),GV=BV;gl(UV);gl(WV);var QV=gl(HV),YV=gl(qV);const XV=["ownerState"],JV=["variants"],ZV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function eP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(eP=function(r){return r?n:e})(t)}function ez(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=eP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function tz(t){return Object.keys(t).length===0}function nz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function tf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Gw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const rz=Fc.systemDefaultTheme=(0,QV.default)(),iz=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Td({defaultTheme:t,theme:e,themeId:n}){return tz(e)?t:e[n]||e}function sz(t){return t?(e,n)=>n[t]:null}function nf(t,e,n){let{ownerState:r}=e,i=(0,tv.default)(e,XV);const s=typeof t=="function"?t((0,Pr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>nf(o,(0,Pr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,tv.default)(s,JV);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,Pr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,Pr.default)({ownerState:r},i,r)):c.style;u.push(n?Gw((0,nh.internal_serializeStyles)(h),n):h)}}),u}return n?Gw((0,nh.internal_serializeStyles)(s),n):s}function oz(t={}){const{themeId:e,defaultTheme:n=rz,rootShouldForwardProp:r=tf,slotShouldForwardProp:i=tf}=t,s=o=>(0,YV.default)((0,Pr.default)({},o,{theme:Td((0,Pr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,nh.internal_processStyles)(o,N=>N.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=sz(iz(c))}=a,E=(0,tv.default)(a,ZV),T=u&&u.startsWith("Mui")||c?"components":"custom",S=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,y=tf;c==="Root"||c==="root"?y=r:c?y=i:nz(o)&&(y=void 0);const x=(0,nh.default)(o,(0,Pr.default)({shouldForwardProp:y,label:C},E)),R=N=>typeof N=="function"&&N.__emotion_real!==N||(0,GV.isPlainObject)(N)?b=>{const p=Td({theme:b.theme,defaultTheme:n,themeId:e});return nf(N,(0,Pr.default)({},b,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...b)=>{let p=R(N);const g=b?b.map(R):[];u&&m&&g.push(j=>{const P=Td((0,Pr.default)({},j,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const z=P.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=nf(U,(0,Pr.default)({},j,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!S&&g.push(j=>{var P;const z=Td((0,Pr.default)({},j,{defaultTheme:n,themeId:e})),F=z==null||(P=z.components)==null||(P=P[u])==null?void 0:P.variants;return nf({variants:F},(0,Pr.default)({},j,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const _=g.length-b.length;if(Array.isArray(N)&&_>0){const j=new Array(_).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const O=x(p,...g);return o.muiName&&(O.muiName=o.muiName),O};return x.withConfig&&(M.withConfig=x.withConfig),M}}function az(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var nn={};const lz=rs(M5),uz=rs(uV);var tP=Zk;Object.defineProperty(nn,"__esModule",{value:!0});var rr=nn.alpha=sP;nn.blend=bz;nn.colorChannel=void 0;var nv=nn.darken=Ox;nn.decomposeColor=Br;nn.emphasize=oP;var cz=nn.getContrastRatio=mz;nn.getLuminance=rh;nn.hexToRgb=nP;nn.hslToRgb=iP;var rv=nn.lighten=Nx;nn.private_safeAlpha=gz;nn.private_safeColorChannel=void 0;nn.private_safeDarken=yz;nn.private_safeEmphasize=xz;nn.private_safeLighten=vz;nn.recomposeColor=yl;nn.rgbToHex=pz;var Qw=tP(lz),dz=tP(uz);function jx(t,e=0,n=1){return(0,dz.default)(t,e,n)}function nP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function fz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Br(t){if(t.type)return t;if(t.charAt(0)==="#")return Br(nP(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Qw.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Qw.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const rP=t=>{const e=Br(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};nn.colorChannel=rP;const hz=(t,e)=>{try{return rP(t)}catch{return t}};nn.private_safeColorChannel=hz;function yl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pz(t){if(t.indexOf("#")===0)return t;const{values:e}=Br(t);return`#${e.map((n,r)=>fz(r===3?Math.round(255*n):n)).join("")}`}function iP(t){t=Br(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),yl({type:a,values:u})}function rh(t){t=Br(t);let e=t.type==="hsl"||t.type==="hsla"?Br(iP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mz(t,e){const n=rh(t),r=rh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sP(t,e){return t=Br(t),e=jx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,yl(t)}function gz(t,e,n){try{return sP(t,e)}catch{return t}}function Ox(t,e){if(t=Br(t),e=jx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return yl(t)}function yz(t,e,n){try{return Ox(t,e)}catch{return t}}function Nx(t,e){if(t=Br(t),e=jx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return yl(t)}function vz(t,e,n){try{return Nx(t,e)}catch{return t}}function oP(t,e=.15){return rh(t)>.5?Ox(t,e):Nx(t,e)}function xz(t,e,n){try{return oP(t,e)}catch{return t}}function bz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=Br(t),o=Br(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return yl({type:"rgb",values:a})}const tc={black:"#000",white:"#fff"},_z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ko={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Go={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Qo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Yo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},wz=["mode","contrastThreshold","tonalOffset"],Yw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tc.white,default:tc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ag={text:{primary:tc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Xw(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=rv(t.main,i):e==="dark"&&(t.dark=nv(t.main,s)))}function Sz(t="light"){return t==="dark"?{main:Qo[200],light:Qo[50],dark:Qo[400]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function Ez(t="light"){return t==="dark"?{main:Ko[200],light:Ko[50],dark:Ko[400]}:{main:Ko[500],light:Ko[300],dark:Ko[700]}}function Tz(t="light"){return t==="dark"?{main:Go[500],light:Go[300],dark:Go[700]}:{main:Go[700],light:Go[400],dark:Go[800]}}function Cz(t="light"){return t==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[700],light:Yo[500],dark:Yo[900]}}function Iz(t="light"){return t==="dark"?{main:Xo[400],light:Xo[300],dark:Xo[700]}:{main:Xo[800],light:Xo[500],dark:Xo[900]}}function Rz(t="light"){return t==="dark"?{main:Fl[400],light:Fl[300],dark:Fl[700]}:{main:"#ed6c02",light:Fl[500],dark:Fl[900]}}function kz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ie(t,wz),s=t.primary||Sz(e),o=t.secondary||Ez(e),a=t.error||Tz(e),u=t.info||Cz(e),c=t.success||Iz(e),f=t.warning||Rz(e);function h(S){return cz(S,ag.text.primary)>=n?ag.text.primary:Yw.text.primary}const m=({color:S,name:I,mainShade:C=500,lightShade:y=300,darkShade:x=700})=>{if(S=$({},S),!S.main&&S[C]&&(S.main=S[C]),!S.hasOwnProperty("main"))throw new Error(Po(11,I?` (${I})`:"",C));if(typeof S.main!="string")throw new Error(Po(12,I?` (${I})`:"",JSON.stringify(S.main)));return Xw(S,"light",y,r),Xw(S,"dark",x,r),S.contrastText||(S.contrastText=h(S.main)),S},E={dark:ag,light:Yw};return yr($({common:$({},tc),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:_z,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const Pz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Az(t){return Math.round(t*1e5)/1e5}const Jw={textTransform:"uppercase"},Zw='"Roboto", "Helvetica", "Arial", sans-serif';function jz(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Zw,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Ie(n,Pz),E=i/14,T=h||(C=>`${C/c*E}rem`),S=(C,y,x,R,M)=>$({fontFamily:r,fontWeight:C,fontSize:T(y),lineHeight:x},r===Zw?{letterSpacing:`${Az(R/y)}em`}:{},M,f),I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(a,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(a,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(a,14,1.75,.4,Jw),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,Jw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr($({htmlFontSize:c,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const Oz=.2,Nz=.14,Mz=.12;function Lt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Oz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Nz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Mz})`].join(",")}const Lz=["none",Lt(0,2,1,-1,0,1,1,0,0,1,3,0),Lt(0,3,1,-2,0,2,2,0,0,1,5,0),Lt(0,3,3,-2,0,3,4,0,0,1,8,0),Lt(0,2,4,-1,0,4,5,0,0,1,10,0),Lt(0,3,5,-1,0,5,8,0,0,1,14,0),Lt(0,3,5,-1,0,6,10,0,0,1,18,0),Lt(0,4,5,-2,0,7,10,1,0,2,16,1),Lt(0,5,5,-3,0,8,10,1,0,3,14,2),Lt(0,5,6,-3,0,9,12,1,0,3,16,2),Lt(0,6,6,-3,0,10,14,1,0,4,18,3),Lt(0,6,7,-4,0,11,15,1,0,4,20,3),Lt(0,7,8,-4,0,12,17,2,0,5,22,4),Lt(0,7,8,-4,0,13,19,2,0,5,24,4),Lt(0,7,9,-4,0,14,21,2,0,5,26,4),Lt(0,8,9,-5,0,15,22,2,0,6,28,5),Lt(0,8,10,-5,0,16,24,2,0,6,30,5),Lt(0,8,11,-5,0,17,26,2,0,6,32,5),Lt(0,9,11,-5,0,18,28,2,0,7,34,6),Lt(0,9,12,-6,0,19,29,2,0,7,36,6),Lt(0,10,13,-6,0,20,31,3,0,8,38,7),Lt(0,10,13,-6,0,21,33,3,0,8,40,7),Lt(0,10,14,-6,0,22,35,3,0,8,42,7),Lt(0,11,14,-7,0,23,36,3,0,9,44,8),Lt(0,11,15,-7,0,24,38,3,0,9,46,8)],Dz=["duration","easing","delay"],$z={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Fz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eS(t){return`${Math.round(t)}ms`}function Vz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function zz(t){const e=$({},$z,t.easing),n=$({},Fz,t.duration);return $({getAutoHeightDuration:Vz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Ie(s,Dz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:eS(o)} ${a} ${typeof u=="string"?u:eS(u)}`).join(",")}},t,{easing:e,duration:n})}const Bz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Uz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Mx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ie(t,Uz);if(t.vars&&t.generateCssVars===void 0)throw new Error(Po(18));const a=kz(r),u=Dc(t);let c=yr(u,{mixins:az(u.breakpoints,n),palette:a,shadows:Lz.slice(),typography:jz(a,s),transitions:zz(i),zIndex:$({},Bz)});return c=yr(c,o),c=e.reduce((f,h)=>yr(f,h),c),c.unstable_sxConfig=$({},Lc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return ml({sx:h,theme:this})},c}const Lx=Mx(),Ja="$$material";function aP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qr=t=>aP(t)&&t!=="classes",Pe=KV({themeId:Ja,defaultTheme:Lx,rootShouldForwardProp:qr});function mt(t){return AV(t)}const Wz=FV({createStyledComponent:Pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${We(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>mt({props:t,name:"MuiContainer"})});function Hz(t){return pt("MuiTypography",t)}ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const qz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Kz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${We(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return xt(a,Hz,o)},Gz=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${We(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),tS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Qz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Yz=t=>Qz[t]||t,wt=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTypography"}),i=Yz(r.color),s=Op($({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=tS}=s,T=Ie(s,qz),S=$({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:E}),I=u||(h?"p":E[m]||tS[m])||"span",C=Kz(S);return l.jsx(Gz,$({as:I,ref:n,ownerState:S,className:$e(C.root,a)},T))});function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},iv(t,e)}function lP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,iv(t,e)}const nS={disabled:!1},ih=pe.createContext(null);var Xz=function(e){return e.scrollTop},ru="unmounted",io="exited",so="entering",ra="entered",sv="exiting",Ci=function(t){lP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=io,s.appearStatus=so):u=ra:r.unmountOnExit||r.mountOnEnter?u=ru:u=io,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ru?{status:io}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==so&&o!==ra&&(s=so):(o===so||o===ra)&&(s=sv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===so){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gd.findDOMNode(this);o&&Xz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===io&&this.setState({status:ru})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[gd.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||nS.disabled){this.safeSetState({status:ra},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:so},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:ra},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:gd.findDOMNode(this);if(!s||nS.disabled){this.safeSetState({status:io},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:sv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:io},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:gd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ru)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(ih.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},e}(pe.Component);Ci.contextType=ih;Ci.propTypes={};function Jo(){}Ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jo,onEntering:Jo,onEntered:Jo,onExit:Jo,onExiting:Jo,onExited:Jo};Ci.UNMOUNTED=ru;Ci.EXITED=io;Ci.ENTERING=so;Ci.ENTERED=ra;Ci.EXITING=sv;function Jz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dx(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Zz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function e8(t,e){return Dx(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fo(n,"appear",t),enter:fo(n,"enter",t),exit:fo(n,"exit",t)})})}function t8(t,e,n){var r=Dx(t.children),i=Zz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=w.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}):!u&&a&&!f?i[s]=w.cloneElement(o,{in:!1}):u&&a&&w.isValidElement(c)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}))}}),i}var n8=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},r8={component:"div",childFactory:function(e){return e}},$x=function(t){lP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Jz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?e8(i,a):t8(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Dx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ie(i,["component","childFactory"]),u=this.state.contextValue,c=n8(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pe.createElement(ih.Provider,{value:u},c):pe.createElement(ih.Provider,{value:u},pe.createElement(s,a,c))},e}(pe.Component);$x.propTypes={};$x.defaultProps=r8;function i8(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=w.useState(!1),m=$e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},T=$e(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),w.useEffect(()=>{if(!a&&u!=null){const S=setTimeout(u,c);return()=>{clearTimeout(S)}}},[u,a,c]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:T})})}const Ar=ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),s8=["center","classes","className"];let qp=t=>t,rS,iS,sS,oS;const ov=550,o8=80,a8=Tp(rS||(rS=qp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),l8=Tp(iS||(iS=qp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),u8=Tp(sS||(sS=qp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),c8=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),d8=Pe(i8,{name:"MuiTouchRipple",slot:"Ripple"})(oS||(oS=qp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ar.rippleVisible,a8,ov,({theme:t})=>t.transitions.easing.easeInOut,Ar.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ar.child,Ar.childLeaving,l8,ov,({theme:t})=>t.transitions.easing.easeInOut,Ar.childPulsate,u8,({theme:t})=>t.transitions.easing.easeInOut),f8=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ie(r,s8),[u,c]=w.useState([]),f=w.useRef(0),h=w.useRef(null);w.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=w.useRef(!1),E=zk(),T=w.useRef(null),S=w.useRef(null),I=w.useCallback(R=>{const{pulsate:M,rippleX:N,rippleY:b,rippleSize:p,cb:g}=R;c(_=>[..._,l.jsx(d8,{classes:{ripple:$e(s.ripple,Ar.ripple),rippleVisible:$e(s.rippleVisible,Ar.rippleVisible),ripplePulsate:$e(s.ripplePulsate,Ar.ripplePulsate),child:$e(s.child,Ar.child),childLeaving:$e(s.childLeaving,Ar.childLeaving),childPulsate:$e(s.childPulsate,Ar.childPulsate)},timeout:ov,pulsate:M,rippleX:N,rippleY:b,rippleSize:p},f.current)]),f.current+=1,h.current=g},[s]),C=w.useCallback((R={},M={},N=()=>{})=>{const{pulsate:b=!1,center:p=i||M.pulsate,fakeElement:g=!1}=M;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const _=g?null:S.current,O=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,P,z;if(p||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)j=Math.round(O.width/2),P=Math.round(O.height/2);else{const{clientX:F,clientY:B}=R.touches&&R.touches.length>0?R.touches[0]:R;j=Math.round(F-O.left),P=Math.round(B-O.top)}if(p)z=Math.sqrt((2*O.width**2+O.height**2)/3),z%2===0&&(z+=1);else{const F=Math.max(Math.abs((_?_.clientWidth:0)-j),j)*2+2,B=Math.max(Math.abs((_?_.clientHeight:0)-P),P)*2+2;z=Math.sqrt(F**2+B**2)}R!=null&&R.touches?T.current===null&&(T.current=()=>{I({pulsate:b,rippleX:j,rippleY:P,rippleSize:z,cb:N})},E.start(o8,()=>{T.current&&(T.current(),T.current=null)})):I({pulsate:b,rippleX:j,rippleY:P,rippleSize:z,cb:N})},[i,I,E]),y=w.useCallback(()=>{C({},{pulsate:!0})},[C]),x=w.useCallback((R,M)=>{if(E.clear(),(R==null?void 0:R.type)==="touchend"&&T.current){T.current(),T.current=null,E.start(0,()=>{x(R,M)});return}T.current=null,c(N=>N.length>0?N.slice(1):N),h.current=M},[E]);return w.useImperativeHandle(n,()=>({pulsate:y,start:C,stop:x}),[y,C,x]),l.jsx(c8,$({className:$e(Ar.root,s.root,o),ref:S},a,{children:l.jsx($x,{component:null,exit:!0,children:u})}))});function h8(t){return pt("MuiButtonBase",t)}const p8=ct("MuiButtonBase",["root","disabled","focusVisible"]),m8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],g8=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=xt({root:["root",e&&"disabled",n&&"focusVisible"]},h8,i);return n&&r&&(o.root+=` ${r}`),o},y8=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${p8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Fx=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:T,onClick:S,onContextMenu:I,onDragLeave:C,onFocus:y,onFocusVisible:x,onKeyDown:R,onKeyUp:M,onMouseDown:N,onMouseLeave:b,onMouseUp:p,onTouchEnd:g,onTouchMove:_,onTouchStart:O,tabIndex:j=0,TouchRippleProps:P,touchRippleRef:z,type:F}=r,B=Ie(r,m8),U=w.useRef(null),L=w.useRef(null),V=jn(L,z),{isFocusVisibleRef:H,onFocus:K,onBlur:Q,ref:Y}=Bk(),[se,ce]=w.useState(!1);c&&se&&ce(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),U.current.focus()}}),[]);const[ye,q]=w.useState(!1);w.useEffect(()=>{q(!0)},[]);const ne=ye&&!f&&!c;w.useEffect(()=>{se&&m&&!f&&ye&&L.current.pulsate()},[f,m,se,ye]);function W(Te,bt,kt=h){return co(Xe=>(bt&&bt(Xe),!kt&&L.current&&L.current[Te](Xe),!0))}const le=W("start",N),ee=W("stop",I),re=W("stop",C),he=W("stop",p),me=W("stop",Te=>{se&&Te.preventDefault(),b&&b(Te)}),ve=W("start",O),_e=W("stop",g),Ye=W("stop",_),we=W("stop",Te=>{Q(Te),H.current===!1&&ce(!1),T&&T(Te)},!1),Ve=co(Te=>{U.current||(U.current=Te.currentTarget),K(Te),H.current===!0&&(ce(!0),x&&x(Te)),y&&y(Te)}),Ae=()=>{const Te=U.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},Qe=w.useRef(!1),it=co(Te=>{m&&!Qe.current&&se&&L.current&&Te.key===" "&&(Qe.current=!0,L.current.stop(Te,()=>{L.current.start(Te)})),Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&Te.preventDefault(),R&&R(Te),Te.target===Te.currentTarget&&Ae()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),S&&S(Te))}),lt=co(Te=>{m&&Te.key===" "&&L.current&&se&&!Te.defaultPrevented&&(Qe.current=!1,L.current.stop(Te,()=>{L.current.pulsate(Te)})),M&&M(Te),S&&Te.target===Te.currentTarget&&Ae()&&Te.key===" "&&!Te.defaultPrevented&&S(Te)});let Me=u;Me==="button"&&(B.href||B.to)&&(Me=E);const gt={};Me==="button"?(gt.type=F===void 0?"button":F,gt.disabled=c):(!B.href&&!B.to&&(gt.role="button"),c&&(gt["aria-disabled"]=c));const Re=jn(n,Y,U),Ue=$({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:j,focusVisible:se}),Le=g8(Ue);return l.jsxs(y8,$({as:Me,className:$e(Le.root,a),ownerState:Ue,onBlur:we,onClick:S,onContextMenu:ee,onFocus:Ve,onKeyDown:it,onKeyUp:lt,onMouseDown:le,onMouseLeave:me,onMouseUp:he,onDragLeave:re,onTouchEnd:_e,onTouchMove:Ye,onTouchStart:ve,ref:Re,tabIndex:c?-1:j,type:F},gt,B,{children:[o,ne?l.jsx(f8,$({ref:V,center:s},P)):null]}))});function v8(t){return pt("MuiButton",t)}const Cd=ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),x8=w.createContext({}),b8=w.createContext(void 0),_8=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],w8=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${We(e)}`,`size${We(i)}`,`${s}Size${We(i)}`,`color${We(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${We(i)}`],endIcon:["icon","endIcon",`iconSize${We(i)}`]},u=xt(a,v8,o);return $({},o,u)},uP=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),S8=Pe(Fx,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${We(n.color)}`],e[`size${We(n.size)}`],e[`${n.variant}Size${We(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Cd.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Cd.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${rr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Cd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Cd.disabled}`]:{boxShadow:"none"}}),E8=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${We(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},uP(t))),T8=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${We(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},uP(t))),go=w.forwardRef(function(e,n){const r=w.useContext(x8),i=w.useContext(b8),s=ec(r,e),o=mt({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:T,focusVisibleClassName:S,fullWidth:I=!1,size:C="medium",startIcon:y,type:x,variant:R="text"}=o,M=Ie(o,_8),N=$({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:I,size:C,type:x,variant:R}),b=w8(N),p=y&&l.jsx(E8,{className:b.startIcon,ownerState:N,children:y}),g=T&&l.jsx(T8,{className:b.endIcon,ownerState:N,children:T}),_=i||"";return l.jsxs(S8,$({ownerState:N,className:$e(r.className,b.root,f,_),component:c,disabled:h,focusRipple:!E,focusVisibleClassName:$e(b.focusVisible,S),ref:n,type:x},M,{classes:b,children:[p,a,g]}))}),aS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Vx(){const t=jp(Lx);return t[Ja]||t}function C8(t){return pt("MuiPaper",t)}ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I8=["className","component","elevation","square","variant"],R8=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return xt(s,C8,i)},k8=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${rr("#fff",aS(e.elevation))}, ${rr("#fff",aS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Kp=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Ie(r,I8),f=$({},r,{component:s,elevation:o,square:a,variant:u}),h=R8(f);return l.jsx(k8,$({as:s,ownerState:f,className:$e(h.root,i),ref:n},c))}),P8=["theme"];function A8(t){let{theme:e}=t,n=Ie(t,P8);const r=e[Ja];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(OV,$({},n,{themeId:r?Ja:void 0,theme:i}))}const j8=ct("MuiBox",["root"]),O8=Mx(),En=UF({themeId:Ja,defaultTheme:O8,defaultClassName:j8.root,generateClassName:Lk.generate}),N8=["onChange","maxRows","minRows","style","value"];function Id(t){return parseInt(t,10)||0}const M8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function L8(t){for(const e in t)return!1;return!0}function lS(t){return L8(t)||t.outerHeightStyle===0&&!t.overflowing}const D8=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Ie(e,N8),{current:c}=w.useRef(a!=null),f=w.useRef(null),h=jn(n,f),m=w.useRef(null),E=w.useRef(null),T=w.useCallback(()=>{const x=f.current,R=E.current;if(!x||!R)return;const N=Ao(x).getComputedStyle(x);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=x.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const b=N.boxSizing,p=Id(N.paddingBottom)+Id(N.paddingTop),g=Id(N.borderBottomWidth)+Id(N.borderTopWidth),_=R.scrollHeight;R.value="x";const O=R.scrollHeight;let j=_;s&&(j=Math.max(Number(s)*O,j)),i&&(j=Math.min(Number(i)*O,j)),j=Math.max(j,O);const P=j+(b==="border-box"?p+g:0),z=Math.abs(j-_)<=1;return{outerHeightStyle:P,overflowing:z}},[i,s,e.placeholder]),S=co(()=>{const x=f.current,R=T();if(!x||!R||lS(R))return!1;const M=R.outerHeightStyle;return m.current!=null&&m.current!==M}),I=w.useCallback(()=>{const x=f.current,R=T();if(!x||!R||lS(R))return;const M=R.outerHeightStyle;m.current!==M&&(m.current=M,x.style.height=`${M}px`),x.style.overflow=R.overflowing?"hidden":""},[T]),C=w.useRef(-1);ns(()=>{const x=Vk(I),R=f==null?void 0:f.current;if(!R)return;const M=Ao(R);M.addEventListener("resize",x);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{S()&&(N.unobserve(R),cancelAnimationFrame(C.current),I(),C.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{x.clear(),cancelAnimationFrame(C.current),M.removeEventListener("resize",x),N&&N.disconnect()}},[T,I,S]),ns(()=>{I()});const y=x=>{c||I(),r&&r(x)};return l.jsxs(w.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:y,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:$({},M8.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function vl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const zx=w.createContext(void 0);function xl(){return w.useContext(zx)}function cP(t){return l.jsx(Mk,$({},t,{defaultTheme:Lx,themeId:Ja}))}function uS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function sh(t,e=!1){return t&&(uS(t.value)&&t.value!==""||e&&uS(t.defaultValue)&&t.defaultValue!=="")}function $8(t){return t.startAdornment}function F8(t){return pt("MuiInputBase",t)}const Za=ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),V8=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Gp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${We(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Qp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},z8=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:E,type:T}=t,S={root:["root",`color${We(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${We(m)}`,f&&"multiline",E&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",T==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",E&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return xt(S,F8,e)},Yp=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Gp})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Za.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Xp=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Za.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Za.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),B8=l.jsx(cP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Bx=w.forwardRef(function(e,n){var r;const i=mt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:T,fullWidth:S=!1,id:I,inputComponent:C="input",inputProps:y={},inputRef:x,maxRows:R,minRows:M,multiline:N=!1,name:b,onBlur:p,onChange:g,onClick:_,onFocus:O,onKeyDown:j,onKeyUp:P,placeholder:z,readOnly:F,renderSuffix:B,rows:U,slotProps:L={},slots:V={},startAdornment:H,type:K="text",value:Q}=i,Y=Ie(i,V8),se=y.value!=null?y.value:Q,{current:ce}=w.useRef(se!=null),ye=w.useRef(),q=w.useCallback(Le=>{},[]),ne=jn(ye,x,y.ref,q),[W,le]=w.useState(!1),ee=xl(),re=vl({props:i,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ee?ee.focused:W,w.useEffect(()=>{!ee&&m&&W&&(le(!1),p&&p())},[ee,m,W,p]);const he=ee&&ee.onFilled,me=ee&&ee.onEmpty,ve=w.useCallback(Le=>{sh(Le)?he&&he():me&&me()},[he,me]);ns(()=>{ce&&ve({value:se})},[se,ve,ce]);const _e=Le=>{if(re.disabled){Le.stopPropagation();return}O&&O(Le),y.onFocus&&y.onFocus(Le),ee&&ee.onFocus?ee.onFocus(Le):le(!0)},Ye=Le=>{p&&p(Le),y.onBlur&&y.onBlur(Le),ee&&ee.onBlur?ee.onBlur(Le):le(!1)},we=(Le,...Te)=>{if(!ce){const bt=Le.target||ye.current;if(bt==null)throw new Error(Po(1));ve({value:bt.value})}y.onChange&&y.onChange(Le,...Te),g&&g(Le,...Te)};w.useEffect(()=>{ve(ye.current)},[]);const Ve=Le=>{ye.current&&Le.currentTarget===Le.target&&ye.current.focus(),_&&_(Le)};let Ae=C,Qe=y;N&&Ae==="input"&&(U?Qe=$({type:void 0,minRows:U,maxRows:U},Qe):Qe=$({type:void 0,maxRows:R,minRows:M},Qe),Ae=D8);const it=Le=>{ve(Le.animationName==="mui-auto-fill-cancel"?ye.current:{value:"x"})};w.useEffect(()=>{ee&&ee.setAdornedStart(!!H)},[ee,H]);const lt=$({},i,{color:re.color||"primary",disabled:re.disabled,endAdornment:T,error:re.error,focused:re.focused,formControl:ee,fullWidth:S,hiddenLabel:re.hiddenLabel,multiline:N,size:re.size,startAdornment:H,type:K}),Me=z8(lt),gt=V.root||c.Root||Yp,Re=L.root||f.root||{},Ue=V.input||c.Input||Xp;return Qe=$({},Qe,(r=L.input)!=null?r:f.input),l.jsxs(w.Fragment,{children:[!E&&B8,l.jsxs(gt,$({},Re,!th(gt)&&{ownerState:$({},lt,Re.ownerState)},{ref:n,onClick:Ve},Y,{className:$e(Me.root,Re.className,u,F&&"MuiInputBase-readOnly"),children:[H,l.jsx(zx.Provider,{value:null,children:l.jsx(Ue,$({ownerState:lt,"aria-invalid":re.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:re.disabled,id:I,onAnimationStart:it,name:b,placeholder:z,readOnly:F,required:re.required,rows:U,value:se,onKeyDown:j,onKeyUp:P,type:K},Qe,!th(Ue)&&{as:Ae,ownerState:$({},lt,Qe.ownerState)},{ref:ne,className:$e(Me.input,Qe.className,F&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:we,onFocus:_e}))}),T,B?B($({},re,{startAdornment:H})):null]}))]})});function U8(t){return pt("MuiInput",t)}const Vl=$({},Za,ct("MuiInput",["root","underline","input"])),W8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],H8=t=>{const{classes:e,disableUnderline:n}=t,i=xt({root:["root",!n&&"underline"],input:["input"]},U8,e);return $({},e,i)},q8=Pe(Yp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vl.disabled}, .${Vl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Vl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),K8=Pe(Xp,{name:"MuiInput",slot:"Input",overridesResolver:Qp})({}),Ux=w.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:T,slots:S={},type:I="text"}=a,C=Ie(a,W8),y=H8(a),R={root:{ownerState:{disableUnderline:u}}},M=T??f?yr(T??f,R):R,N=(r=(i=S.root)!=null?i:c.Root)!=null?r:q8,b=(s=(o=S.input)!=null?o:c.Input)!=null?s:K8;return l.jsx(Bx,$({slots:{root:N,input:b},slotProps:M,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:I},C,{classes:y}))});Ux.muiName="Input";function G8(t){return pt("MuiFilledInput",t)}const Zs=$({},Za,ct("MuiFilledInput",["root","underline","input"])),Q8=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Y8=t=>{const{classes:e,disableUnderline:n}=t,i=xt({root:["root",!n&&"underline"],input:["input"]},G8,e);return $({},e,i)},X8=Pe(Yp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Gp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Zs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Zs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Zs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Zs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Zs.disabled}, .${Zs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Zs.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),J8=Pe(Xp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Wx=w.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:T={},type:S="text"}=a,I=Ie(a,Q8),C=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:S}),y=Y8(a),x={root:{ownerState:C},input:{ownerState:C}},R=E??c?yr(x,E??c):x,M=(r=(i=T.root)!=null?i:u.Root)!=null?r:X8,N=(s=(o=T.input)!=null?o:u.Input)!=null?s:J8;return l.jsx(Bx,$({slots:{root:M,input:N},componentsProps:R,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:S},I,{classes:y}))});Wx.muiName="Input";var cS;const Z8=["children","classes","className","label","notched"],eB=Pe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),tB=Pe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:qr})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function nB(t){const{className:e,label:n,notched:r}=t,i=Ie(t,Z8),s=n!=null&&n!=="",o=$({},t,{notched:r,withLabel:s});return l.jsx(eB,$({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(tB,{ownerState:o,children:s?l.jsx("span",{children:n}):cS||(cS=l.jsx("span",{className:"notranslate",children:""}))})}))}function rB(t){return pt("MuiOutlinedInput",t)}const hs=$({},Za,ct("MuiOutlinedInput",["root","notchedOutline","input"])),iB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],sB=t=>{const{classes:e}=t,r=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},rB,e);return $({},e,r)},oB=Pe(Yp,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Gp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${hs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${hs.focused} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${hs.error} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${hs.disabled} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),aB=Pe(nB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),lB=Pe(Xp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Qp})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Hx=w.forwardRef(function(e,n){var r,i,s,o,a;const u=mt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:T,slots:S={},type:I="text"}=u,C=Ie(u,iB),y=sB(u),x=xl(),R=vl({props:u,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=$({},u,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:x,fullWidth:f,hiddenLabel:R.hiddenLabel,multiline:E,size:R.size,type:I}),N=(r=(i=S.root)!=null?i:c.Root)!=null?r:oB,b=(s=(o=S.input)!=null?o:c.Input)!=null?s:lB;return l.jsx(Bx,$({slots:{root:N,input:b},renderSuffix:p=>l.jsx(aB,{ownerState:M,className:y.notchedOutline,label:m!=null&&m!==""&&R.required?a||(a=l.jsxs(w.Fragment,{children:[m,"","*"]})):m,notched:typeof T<"u"?T:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:I},C,{classes:$({},y,{notchedOutline:null})}))});Hx.muiName="Input";function uB(t){return pt("MuiFormLabel",t)}const bu=ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cB=["children","className","color","component","disabled","error","filled","focused","required"],dB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${We(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return xt(u,uB,e)},fB=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${bu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${bu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bu.error}`]:{color:(t.vars||t).palette.error.main}})),hB=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${bu.error}`]:{color:(t.vars||t).palette.error.main}})),pB=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ie(r,cB),u=xl(),c=vl({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=dB(f);return l.jsxs(fB,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(hB,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))});function mB(t){return pt("MuiInputLabel",t)}ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const gB=["disableAnimation","margin","shrink","variant","className"],yB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${We(r)}`,o],asterisk:[a&&"asterisk"]},c=xt(u,mB,e);return $({},e,c)},vB=Pe(pB,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${bu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),xB=w.forwardRef(function(e,n){const r=mt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ie(r,gB),u=xl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=vl({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=yB(h);return l.jsx(vB,$({"data-shrink":c,ownerState:h,ref:n,className:$e(m.root,o)},a,{classes:m}))});function bB(t){return pt("MuiFormControl",t)}ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _B=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${We(n)}`,r&&"fullWidth"]};return xt(i,bB,e)},SB=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${We(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),dP=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:T=!1,size:S="medium",variant:I="outlined"}=r,C=Ie(r,_B),y=$({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:E,required:T,size:S,variant:I}),x=wB(y),[R,M]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,z=>{if(!ig(z,["Input","Select"]))return;const F=ig(z,["Select"])?z.props.input:z;F&&$8(F.props)&&(P=!0)}),P}),[N,b]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,z=>{ig(z,["Input","Select"])&&(sh(z.props,!0)||sh(z.props.inputProps,!0))&&(P=!0)}),P}),[p,g]=w.useState(!1);u&&p&&g(!1);const _=f!==void 0&&!u?f:p;let O;const j=w.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:o,disabled:u,error:c,filled:N,focused:_,fullWidth:h,hiddenLabel:m,size:S,onBlur:()=>{g(!1)},onEmpty:()=>{b(!1)},onFilled:()=>{b(!0)},onFocus:()=>{g(!0)},registerEffect:O,required:T,variant:I}),[R,o,u,c,N,_,h,m,O,T,S,I]);return l.jsx(zx.Provider,{value:j,children:l.jsx(SB,$({as:a,ownerState:y,className:$e(x.root,s),ref:n},C,{children:i}))})});function EB(t){return pt("MuiFormHelperText",t)}const dS=ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fS;const TB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],CB=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${We(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return xt(c,EB,e)},IB=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${We(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${dS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),RB=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ie(r,TB),u=xl(),c=vl({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=CB(f);return l.jsx(IB,$({as:o,ownerState:f,className:$e(h.root,s),ref:n},a,{children:i===" "?fS||(fS=l.jsx("span",{className:"notranslate",children:""})):i}))}),av=w.createContext({});function kB(t){return pt("MuiList",t)}ct("MuiList",["root","padding","dense","subheader"]);const PB=["children","className","component","dense","disablePadding","subheader"],AB=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return xt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kB,e)},jB=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),OB=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Ie(r,PB),h=w.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:o,dense:a,disablePadding:u}),E=AB(m);return l.jsx(av.Provider,{value:h,children:l.jsxs(jB,$({as:o,className:$e(E.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),NB=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function lg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function hS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function fP(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function zl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!fP(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const MB=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ie(e,NB),E=w.useRef(null),T=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ns(()=>{i&&E.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,{direction:R})=>{const M=!E.current.style.width;if(x.clientHeight<E.current.clientHeight&&M){const N=`${Uk(vr(x))}px`;E.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const S=x=>{const R=E.current,M=x.key,N=vr(R).activeElement;if(M==="ArrowDown")x.preventDefault(),zl(R,N,c,u,lg);else if(M==="ArrowUp")x.preventDefault(),zl(R,N,c,u,hS);else if(M==="Home")x.preventDefault(),zl(R,null,c,u,lg);else if(M==="End")x.preventDefault(),zl(R,null,c,u,hS);else if(M.length===1){const b=T.current,p=M.toLowerCase(),g=performance.now();b.keys.length>0&&(g-b.lastTime>500?(b.keys=[],b.repeating=!0,b.previousKeyMatched=!0):b.repeating&&p!==b.keys[0]&&(b.repeating=!1)),b.lastTime=g,b.keys.push(p);const _=N&&!b.repeating&&fP(N,b);b.previousKeyMatched&&(_||zl(R,N,!1,u,lg,b))?x.preventDefault():b.previousKeyMatched=!1}f&&f(x)},I=jn(E,n);let C=-1;w.Children.forEach(o,(x,R)=>{if(!w.isValidElement(x)){C===R&&(C+=1,C>=o.length&&(C=-1));return}x.props.disabled||(h==="selectedMenu"&&x.props.selected||C===-1)&&(C=R),C===R&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const y=w.Children.map(o,(x,R)=>{if(R===C){const M={};return s&&(M.autoFocus=!0),x.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),w.cloneElement(x,M)}return x});return l.jsx(OB,$({role:"menu",ref:I,className:a,onKeyDown:S,tabIndex:i?0:-1},m,{children:y}))}),hP=t=>t.scrollTop;function oh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const LB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function lv(t){return`scale(${t}, ${t**2})`}const DB={entering:{opacity:1,transform:lv(1)},entered:{opacity:1,transform:"none"}},ug=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),pP=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:E,style:T,timeout:S="auto",TransitionComponent:I=Ci}=e,C=Ie(e,LB),y=zk(),x=w.useRef(),R=Vx(),M=w.useRef(null),N=jn(M,$c(s),n),b=F=>B=>{if(F){const U=M.current;B===void 0?F(U):F(U,B)}},p=b(f),g=b((F,B)=>{hP(F);const{duration:U,delay:L,easing:V}=oh({style:T,timeout:S,easing:o},{mode:"enter"});let H;S==="auto"?(H=R.transitions.getAutoHeightDuration(F.clientHeight),x.current=H):H=U,F.style.transition=[R.transitions.create("opacity",{duration:H,delay:L}),R.transitions.create("transform",{duration:ug?H:H*.666,delay:L,easing:V})].join(","),u&&u(F,B)}),_=b(c),O=b(E),j=b(F=>{const{duration:B,delay:U,easing:L}=oh({style:T,timeout:S,easing:o},{mode:"exit"});let V;S==="auto"?(V=R.transitions.getAutoHeightDuration(F.clientHeight),x.current=V):V=B,F.style.transition=[R.transitions.create("opacity",{duration:V,delay:U}),R.transitions.create("transform",{duration:ug?V:V*.666,delay:ug?U:U||V*.333,easing:L})].join(","),F.style.opacity=0,F.style.transform=lv(.75),h&&h(F)}),P=b(m),z=F=>{S==="auto"&&y.start(x.current||0,F),r&&r(M.current,F)};return l.jsx(I,$({appear:i,in:a,nodeRef:M,onEnter:g,onEntered:_,onEntering:p,onExit:j,onExited:P,onExiting:O,addEndListener:z,timeout:S==="auto"?null:S},C,{children:(F,B)=>w.cloneElement(s,$({style:$({opacity:0,transform:lv(.75),visibility:F==="exited"&&!a?"hidden":void 0},DB[F],T,s.props.style),ref:N},B))}))});pP.muiSupportAuto=!0;function $B(t){const e=vr(t);return e.body===t?Ao(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function _u(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function pS(t){return parseInt(Ao(t).getComputedStyle(t).paddingRight,10)||0}function FB(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function mS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!FB(o);a&&u&&_u(o,i)})}function cg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function VB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($B(r)){const o=Uk(vr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${pS(r)+o}px`;const a=vr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${pS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=vr(r).body;else{const o=r.parentElement,a=Ao(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function zB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class BB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&_u(e.modalRef,!1);const i=zB(n);mS(n,e.mount,e.modalRef,i,!0);const s=cg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=cg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=VB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=cg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&_u(e.modalRef,n),mS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&_u(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const UB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function WB(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function HB(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function qB(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||HB(t))}function KB(t){const e=[],n=[];return Array.from(t.querySelectorAll(UB)).forEach((r,i)=>{const s=WB(r);s===-1||!qB(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function GB(){return!0}function QB(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=KB,isEnabled:o=GB,open:a}=t,u=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),h=w.useRef(null),m=w.useRef(null),E=w.useRef(!1),T=w.useRef(null),S=jn($c(e),T),I=w.useRef(null);w.useEffect(()=>{!a||!T.current||(E.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!T.current)return;const x=vr(T.current);return T.current.contains(x.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),E.current&&T.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),w.useEffect(()=>{if(!a||!T.current)return;const x=vr(T.current),R=b=>{I.current=b,!(r||!o()||b.key!=="Tab")&&x.activeElement===T.current&&b.shiftKey&&(u.current=!0,f.current&&f.current.focus())},M=()=>{const b=T.current;if(b===null)return;if(!x.hasFocus()||!o()||u.current){u.current=!1;return}if(b.contains(x.activeElement)||r&&x.activeElement!==c.current&&x.activeElement!==f.current)return;if(x.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((x.activeElement===c.current||x.activeElement===f.current)&&(p=s(T.current)),p.length>0){var g,_;const O=!!((g=I.current)!=null&&g.shiftKey&&((_=I.current)==null?void 0:_.key)==="Tab"),j=p[0],P=p[p.length-1];typeof j!="string"&&typeof P!="string"&&(O?P.focus():j.focus())}else b.focus()};x.addEventListener("focusin",M),x.addEventListener("keydown",R,!0);const N=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),x.removeEventListener("focusin",M),x.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const C=x=>{h.current===null&&(h.current=x.relatedTarget),E.current=!0,m.current=x.target;const R=e.props.onFocus;R&&R(x)},y=x=>{h.current===null&&(h.current=x.relatedTarget),E.current=!0};return l.jsxs(w.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:S,onFocus:C}),l.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:f,"data-testid":"sentinelEnd"})]})}function YB(t){return typeof t=="function"?t():t}const XB=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),u=jn(w.isValidElement(r)?$c(r):null,n);if(ns(()=>{s||a(YB(i)||document.body)},[i,s]),ns(()=>{if(o&&!s)return Zy(n,o),()=>{Zy(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const c={ref:u};return w.cloneElement(r,c)}return l.jsx(w.Fragment,{children:r})}return l.jsx(w.Fragment,{children:o&&p0.createPortal(r,o)})}),JB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ZB={entering:{opacity:1},entered:{opacity:1}},e9=w.forwardRef(function(e,n){const r=Vx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:T,onExiting:S,style:I,timeout:C=i,TransitionComponent:y=Ci}=e,x=Ie(e,JB),R=w.useRef(null),M=jn(R,$c(a),n),N=z=>F=>{if(z){const B=R.current;F===void 0?z(B):z(B,F)}},b=N(m),p=N((z,F)=>{hP(z);const B=oh({style:I,timeout:C,easing:u},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",B),z.style.transition=r.transitions.create("opacity",B),f&&f(z,F)}),g=N(h),_=N(S),O=N(z=>{const F=oh({style:I,timeout:C,easing:u},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",F),z.style.transition=r.transitions.create("opacity",F),E&&E(z)}),j=N(T),P=z=>{s&&s(R.current,z)};return l.jsx(y,$({appear:o,in:c,nodeRef:R,onEnter:p,onEntered:g,onEntering:b,onExit:O,onExited:j,onExiting:_,addEndListener:P,timeout:C},x,{children:(z,F)=>w.cloneElement(a,$({style:$({opacity:0,visibility:z==="exited"&&!c?"hidden":void 0},ZB[z],I,a.props.style),ref:M},F))}))});function t9(t){return pt("MuiBackdrop",t)}ct("MuiBackdrop",["root","invisible"]);const n9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],r9=t=>{const{classes:e,invisible:n}=t;return xt({root:["root",n&&"invisible"]},t9,e)},i9=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),s9=w.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:T={},slots:S={},TransitionComponent:I=e9,transitionDuration:C}=o,y=Ie(o,n9),x=$({},o,{component:c,invisible:m}),R=r9(x),M=(r=T.root)!=null?r:h.root;return l.jsx(I,$({in:E,timeout:C},y,{children:l.jsx(i9,$({"aria-hidden":!0},M,{as:(i=(s=S.root)!=null?s:f.Root)!=null?i:c,className:$e(R.root,u,M==null?void 0:M.className),ownerState:$({},x,M==null?void 0:M.ownerState),classes:R,ref:n,children:a}))}))});function o9(t){return typeof t=="function"?t():t}function a9(t){return t?t.props.hasOwnProperty("in"):!1}const l9=new BB;function u9(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=l9,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=w.useRef({}),E=w.useRef(null),T=w.useRef(null),S=jn(T,h),[I,C]=w.useState(!f),y=a9(u);let x=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(x=!1);const R=()=>vr(E.current),M=()=>(m.current.modalRef=T.current,m.current.mount=E.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},b=co(()=>{const B=o9(e)||R().body;i.add(M(),B),T.current&&N()}),p=w.useCallback(()=>i.isTopModal(M()),[i]),g=co(B=>{E.current=B,B&&(f&&p()?N():T.current&&_u(T.current,x))}),_=w.useCallback(()=>{i.remove(M(),x)},[x,i]);w.useEffect(()=>()=>{_()},[_]),w.useEffect(()=>{f?b():(!y||!s)&&_()},[f,_,y,s,b]);const O=B=>U=>{var L;(L=B.onKeyDown)==null||L.call(B,U),!(U.key!=="Escape"||U.which===229||!p())&&(n||(U.stopPropagation(),c&&c(U,"escapeKeyDown")))},j=B=>U=>{var L;(L=B.onClick)==null||L.call(B,U),U.target===U.currentTarget&&c&&c(U,"backdropClick")};return{getRootProps:(B={})=>{const U=Hk(t);delete U.onTransitionEnter,delete U.onTransitionExited;const L=$({},U,B);return $({role:"presentation"},L,{onKeyDown:O(L),ref:S})},getBackdropProps:(B={})=>{const U=B;return $({"aria-hidden":!0},U,{onClick:j(U),open:f})},getTransitionProps:()=>{const B=()=>{C(!1),o&&o()},U=()=>{C(!0),a&&a(),s&&_()};return{onEnter:Fw(B,u==null?void 0:u.props.onEnter),onExited:Fw(U,u==null?void 0:u.props.onExited)}},rootRef:S,portalRef:g,isTopModal:p,exited:I,hasTransition:y}}function c9(t){return pt("MuiModal",t)}ct("MuiModal",["root","hidden","backdrop"]);const d9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],f9=t=>{const{open:e,exited:n,classes:r}=t;return xt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},c9,r)},h9=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),p9=Pe(s9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),m9=w.forwardRef(function(e,n){var r,i,s,o,a,u;const c=mt({name:"MuiModal",props:e}),{BackdropComponent:f=p9,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:T,container:S,component:I,components:C={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:b=!1,disableScrollLock:p=!1,hideBackdrop:g=!1,keepMounted:_=!1,onBackdropClick:O,open:j,slotProps:P,slots:z}=c,F=Ie(c,d9),B=$({},c,{closeAfterTransition:E,disableAutoFocus:x,disableEnforceFocus:R,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:b,disableScrollLock:p,hideBackdrop:g,keepMounted:_}),{getRootProps:U,getBackdropProps:L,getTransitionProps:V,portalRef:H,isTopModal:K,exited:Q,hasTransition:Y}=u9($({},B,{rootRef:n})),se=$({},B,{exited:Q}),ce=f9(se),ye={};if(T.props.tabIndex===void 0&&(ye.tabIndex="-1"),Y){const{onEnter:he,onExited:me}=V();ye.onEnter=he,ye.onExited=me}const q=(r=(i=z==null?void 0:z.root)!=null?i:C.Root)!=null?r:h9,ne=(s=(o=z==null?void 0:z.backdrop)!=null?o:C.Backdrop)!=null?s:f,W=(a=P==null?void 0:P.root)!=null?a:y.root,le=(u=P==null?void 0:P.backdrop)!=null?u:y.backdrop,ee=Xa({elementType:q,externalSlotProps:W,externalForwardedProps:F,getSlotProps:U,additionalProps:{ref:n,as:I},ownerState:se,className:$e(m,W==null?void 0:W.className,ce==null?void 0:ce.root,!se.open&&se.exited&&(ce==null?void 0:ce.hidden))}),re=Xa({elementType:ne,externalSlotProps:le,additionalProps:h,getSlotProps:he=>L($({},he,{onClick:me=>{O&&O(me),he!=null&&he.onClick&&he.onClick(me)}})),className:$e(le==null?void 0:le.className,h==null?void 0:h.className,ce==null?void 0:ce.backdrop),ownerState:se});return!_&&!j&&(!Y||Q)?null:l.jsx(XB,{ref:H,container:S,disablePortal:N,children:l.jsxs(q,$({},ee,{children:[!g&&f?l.jsx(ne,$({},re)):null,l.jsx(QB,{disableEnforceFocus:R,disableAutoFocus:x,disableRestoreFocus:b,isEnabled:K,open:j,children:w.cloneElement(T,ye)})]}))})});function g9(t){return pt("MuiPopover",t)}ct("MuiPopover",["root","paper"]);const y9=["onEntering"],v9=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],x9=["slotProps"];function gS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function yS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function vS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function dg(t){return typeof t=="function"?t():t}const b9=t=>{const{classes:e}=t;return xt({root:["root"],paper:["paper"]},g9,e)},_9=Pe(m9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mP=Pe(Kp,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),w9=w.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:T,elevation:S=8,marginThreshold:I=16,open:C,PaperProps:y={},slots:x,slotProps:R,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=pP,transitionDuration:b="auto",TransitionProps:{onEntering:p}={},disableScrollLock:g=!1}=o,_=Ie(o.TransitionProps,y9),O=Ie(o,v9),j=(r=R==null?void 0:R.paper)!=null?r:y,P=w.useRef(),z=jn(P,j.ref),F=$({},o,{anchorOrigin:c,anchorReference:h,elevation:S,marginThreshold:I,externalPaperSlotProps:j,transformOrigin:M,TransitionComponent:N,transitionDuration:b,TransitionProps:_}),B=b9(F),U=w.useCallback(()=>{if(h==="anchorPosition")return f;const he=dg(u),ve=(he&&he.nodeType===1?he:vr(P.current).body).getBoundingClientRect();return{top:ve.top+gS(ve,c.vertical),left:ve.left+yS(ve,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),L=w.useCallback(he=>({vertical:gS(he,M.vertical),horizontal:yS(he,M.horizontal)}),[M.horizontal,M.vertical]),V=w.useCallback(he=>{const me={width:he.offsetWidth,height:he.offsetHeight},ve=L(me);if(h==="none")return{top:null,left:null,transformOrigin:vS(ve)};const _e=U();let Ye=_e.top-ve.vertical,we=_e.left-ve.horizontal;const Ve=Ye+me.height,Ae=we+me.width,Qe=Ao(dg(u)),it=Qe.innerHeight-I,lt=Qe.innerWidth-I;if(I!==null&&Ye<I){const Me=Ye-I;Ye-=Me,ve.vertical+=Me}else if(I!==null&&Ve>it){const Me=Ve-it;Ye-=Me,ve.vertical+=Me}if(I!==null&&we<I){const Me=we-I;we-=Me,ve.horizontal+=Me}else if(Ae>lt){const Me=Ae-lt;we-=Me,ve.horizontal+=Me}return{top:`${Math.round(Ye)}px`,left:`${Math.round(we)}px`,transformOrigin:vS(ve)}},[u,h,U,L,I]),[H,K]=w.useState(C),Q=w.useCallback(()=>{const he=P.current;if(!he)return;const me=V(he);me.top!==null&&(he.style.top=me.top),me.left!==null&&(he.style.left=me.left),he.style.transformOrigin=me.transformOrigin,K(!0)},[V]);w.useEffect(()=>(g&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[u,g,Q]);const Y=(he,me)=>{p&&p(he,me),Q()},se=()=>{K(!1)};w.useEffect(()=>{C&&Q()}),w.useImperativeHandle(a,()=>C?{updatePosition:()=>{Q()}}:null,[C,Q]),w.useEffect(()=>{if(!C)return;const he=Vk(()=>{Q()}),me=Ao(u);return me.addEventListener("resize",he),()=>{he.clear(),me.removeEventListener("resize",he)}},[u,C,Q]);let ce=b;b==="auto"&&!N.muiSupportAuto&&(ce=void 0);const ye=T||(u?vr(dg(u)).body:void 0),q=(i=x==null?void 0:x.root)!=null?i:_9,ne=(s=x==null?void 0:x.paper)!=null?s:mP,W=Xa({elementType:ne,externalSlotProps:$({},j,{style:H?j.style:$({},j.style,{opacity:0})}),additionalProps:{elevation:S,ref:z},ownerState:F,className:$e(B.paper,j==null?void 0:j.className)}),le=Xa({elementType:q,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ye,open:C},ownerState:F,className:$e(B.root,E)}),{slotProps:ee}=le,re=Ie(le,x9);return l.jsx(q,$({},re,!th(q)&&{slotProps:ee,disableScrollLock:g},{children:l.jsx(N,$({appear:!0,in:C,onEntering:Y,onExited:se,timeout:ce},_,{children:l.jsx(ne,$({},W,{children:m}))}))}))});function S9(t){return pt("MuiMenu",t)}ct("MuiMenu",["root","paper","list"]);const E9=["onEntering"],T9=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],C9={vertical:"top",horizontal:"right"},I9={vertical:"top",horizontal:"left"},R9=t=>{const{classes:e}=t;return xt({root:["root"],paper:["paper"],list:["list"]},S9,e)},k9=Pe(w9,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),P9=Pe(mP,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),A9=Pe(MB,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),j9=w.forwardRef(function(e,n){var r,i;const s=mt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:T,transitionDuration:S="auto",TransitionProps:{onEntering:I}={},variant:C="selectedMenu",slots:y={},slotProps:x={}}=s,R=Ie(s.TransitionProps,E9),M=Ie(s,T9),N=RV(),b=$({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:E,transitionDuration:S,TransitionProps:R,variant:C}),p=R9(b),g=o&&!c&&m,_=w.useRef(null),O=(L,V)=>{_.current&&_.current.adjustStyleForScrollbar(L,{direction:N?"rtl":"ltr"}),I&&I(L,V)},j=L=>{L.key==="Tab"&&(L.preventDefault(),h&&h(L,"tabKeyDown"))};let P=-1;w.Children.map(a,(L,V)=>{w.isValidElement(L)&&(L.props.disabled||(C==="selectedMenu"&&L.props.selected||P===-1)&&(P=V))});const z=(r=y.paper)!=null?r:P9,F=(i=x.paper)!=null?i:E,B=Xa({elementType:y.root,externalSlotProps:x.root,ownerState:b,className:[p.root,u]}),U=Xa({elementType:z,externalSlotProps:F,ownerState:b,className:p.paper});return l.jsx(k9,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?C9:I9,slots:{paper:z,root:y.root},slotProps:{root:B,paper:U},open:m,ref:n,transitionDuration:S,TransitionProps:$({onEntering:O},R),ownerState:b},M,{classes:T,children:l.jsx(A9,$({onKeyDown:j,actions:_,autoFocus:o&&(P===-1||c),autoFocusItem:g,variant:C},f,{className:$e(p.list,f.className),children:a}))}))});function O9(t){return pt("MuiNativeSelect",t)}const qx=ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),N9=["className","disabled","error","IconComponent","inputRef","variant"],M9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${We(n)}`,s&&"iconOpen",r&&"disabled"]};return xt(a,O9,e)},gP=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${qx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),L9=Pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${qx.multiple}`]:e.multiple}]}})(gP),yP=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${qx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),D9=Pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${We(n.variant)}`],n.open&&e.iconOpen]}})(yP),$9=w.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Ie(e,N9),f=$({},e,{disabled:i,variant:u,error:s}),h=M9(f);return l.jsxs(w.Fragment,{children:[l.jsx(L9,$({ownerState:f,className:$e(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(D9,{as:o,ownerState:f,className:h.icon})]})});function F9(t){return pt("MuiSelect",t)}const Bl=ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var xS;const V9=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],z9=Pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Bl.select}`]:e.select},{[`&.${Bl.select}`]:e[n.variant]},{[`&.${Bl.error}`]:e.error},{[`&.${Bl.multiple}`]:e.multiple}]}})(gP,{[`&.${Bl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),B9=Pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${We(n.variant)}`],n.open&&e.iconOpen]}})(yP),U9=Pe("input",{shouldForwardProp:t=>aP(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function W9(t){return t==null||typeof t=="string"&&!t.trim()}const H9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${We(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return xt(a,F9,e)},q9=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:T=!1,IconComponent:S,inputRef:I,labelId:C,MenuProps:y={},multiple:x,name:R,onBlur:M,onChange:N,onClose:b,onFocus:p,onOpen:g,open:_,readOnly:O,renderValue:j,SelectDisplayProps:P={},tabIndex:z,value:F,variant:B="standard"}=e,U=Ie(e,V9),[L,V]=Bw({controlled:F,default:h,name:"Select"}),[H,K]=Bw({controlled:_,default:f,name:"Select"}),Q=w.useRef(null),Y=w.useRef(null),[se,ce]=w.useState(null),{current:ye}=w.useRef(_!=null),[q,ne]=w.useState(),W=jn(n,I),le=w.useCallback(Se=>{Y.current=Se,Se&&ce(Se)},[]),ee=se==null?void 0:se.parentNode;w.useImperativeHandle(W,()=>({focus:()=>{Y.current.focus()},node:Q.current,value:L}),[L]),w.useEffect(()=>{f&&H&&se&&!ye&&(ne(a?null:ee.clientWidth),Y.current.focus())},[se,a]),w.useEffect(()=>{o&&Y.current.focus()},[o]),w.useEffect(()=>{if(!C)return;const Se=vr(Y.current).getElementById(C);if(Se){const tt=()=>{getSelection().isCollapsed&&Y.current.focus()};return Se.addEventListener("click",tt),()=>{Se.removeEventListener("click",tt)}}},[C]);const re=(Se,tt)=>{Se?g&&g(tt):b&&b(tt),ye||(ne(a?null:ee.clientWidth),K(Se))},he=Se=>{Se.button===0&&(Se.preventDefault(),Y.current.focus(),re(!0,Se))},me=Se=>{re(!1,Se)},ve=w.Children.toArray(u),_e=Se=>{const tt=ve.find(qe=>qe.props.value===Se.target.value);tt!==void 0&&(V(tt.props.value),N&&N(Se,tt))},Ye=Se=>tt=>{let qe;if(tt.currentTarget.hasAttribute("tabindex")){if(x){qe=Array.isArray(L)?L.slice():[];const Cr=L.indexOf(Se.props.value);Cr===-1?qe.push(Se.props.value):qe.splice(Cr,1)}else qe=Se.props.value;if(Se.props.onClick&&Se.props.onClick(tt),L!==qe&&(V(qe),N)){const Cr=tt.nativeEvent||tt,os=new Cr.constructor(Cr.type,Cr);Object.defineProperty(os,"target",{writable:!0,value:{value:qe,name:R}}),N(os,Se)}x||re(!1,tt)}},we=Se=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Se.key)!==-1&&(Se.preventDefault(),re(!0,Se))},Ve=se!==null&&H,Ae=Se=>{!Ve&&M&&(Object.defineProperty(Se,"target",{writable:!0,value:{value:L,name:R}}),M(Se))};delete U["aria-invalid"];let Qe,it;const lt=[];let Me=!1;(sh({value:L})||E)&&(j?Qe=j(L):Me=!0);const gt=ve.map(Se=>{if(!w.isValidElement(Se))return null;let tt;if(x){if(!Array.isArray(L))throw new Error(Po(2));tt=L.some(qe=>bS(qe,Se.props.value)),tt&&Me&&lt.push(Se.props.children)}else tt=bS(L,Se.props.value),tt&&Me&&(it=Se.props.children);return w.cloneElement(Se,{"aria-selected":tt?"true":"false",onClick:Ye(Se),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),Se.props.onKeyUp&&Se.props.onKeyUp(qe)},role:"option",selected:tt,value:void 0,"data-value":Se.props.value})});Me&&(x?lt.length===0?Qe=null:Qe=lt.reduce((Se,tt,qe)=>(Se.push(tt),qe<lt.length-1&&Se.push(", "),Se),[]):Qe=it);let Re=q;!a&&ye&&se&&(Re=ee.clientWidth);let Ue;typeof z<"u"?Ue=z:Ue=m?null:0;const Le=P.id||(R?`mui-component-select-${R}`:void 0),Te=$({},e,{variant:B,value:L,open:Ve,error:T}),bt=H9(Te),kt=$({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Xe=Ax();return l.jsxs(w.Fragment,{children:[l.jsx(z9,$({ref:le,tabIndex:Ue,role:"combobox","aria-controls":Xe,"aria-disabled":m?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,Le].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:we,onMouseDown:m||O?null:he,onBlur:Ae,onFocus:p},P,{ownerState:Te,className:$e(P.className,bt.select,c),id:Le,children:W9(Qe)?xS||(xS=l.jsx("span",{className:"notranslate",children:""})):Qe})),l.jsx(U9,$({"aria-invalid":T,value:Array.isArray(L)?L.join(","):L,name:R,ref:Q,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:m,className:bt.nativeInput,autoFocus:o,ownerState:Te},U)),l.jsx(B9,{as:S,className:bt.icon,ownerState:Te}),l.jsx(j9,$({id:`menu-${R||""}`,anchorEl:ee,open:Ve,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:$({"aria-labelledby":C,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:Xe},y.MenuListProps),slotProps:$({},y.slotProps,{paper:$({},kt,{style:$({minWidth:Re},kt!=null?kt.style:null)})}),children:gt}))]})});function K9(t){return pt("MuiSvgIcon",t)}ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const G9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Q9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${We(e)}`,`fontSize${We(n)}`]};return xt(i,K9,r)},Y9=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${We(n.color)}`],e[`fontSize${We(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,E,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),uv=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=Ie(r,G9),T=w.isValidElement(i)&&i.type==="svg",S=$({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:T}),I={};f||(I.viewBox=m);const C=Q9(S);return l.jsxs(Y9,$({as:a,className:$e(C.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,E,T&&i.props,{ownerState:S,children:[T?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});uv.muiName="SvgIcon";function bl(t,e){function n(r,i){return l.jsx(uv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=uv.muiName,w.memo(w.forwardRef(n))}const X9=bl(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),J9=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Z9=["root"],eU=t=>{const{classes:e}=t;return e},Kx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qr(t)&&t!=="variant",slot:"Root"},tU=Pe(Ux,Kx)(""),nU=Pe(Hx,Kx)(""),rU=Pe(Wx,Kx)(""),Gx=w.forwardRef(function(e,n){const r=mt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=X9,id:h,input:m,inputProps:E,label:T,labelId:S,MenuProps:I,multiple:C=!1,native:y=!1,onClose:x,onOpen:R,open:M,renderValue:N,SelectDisplayProps:b,variant:p="outlined"}=r,g=Ie(r,J9),_=y?$9:q9,O=xl(),j=vl({props:r,muiFormControl:O,states:["variant","error"]}),P=j.variant||p,z=$({},r,{variant:P,classes:o}),F=eU(z),B=Ie(F,Z9),U=m||{standard:l.jsx(tU,{ownerState:z}),outlined:l.jsx(nU,{label:T,ownerState:z}),filled:l.jsx(rU,{ownerState:z})}[P],L=jn(n,$c(U));return l.jsx(w.Fragment,{children:w.cloneElement(U,$({inputComponent:_,inputProps:$({children:s,error:j.error,IconComponent:f,variant:P,type:void 0,multiple:C},y?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:S,MenuProps:I,onClose:x,onOpen:R,open:M,renderValue:N,SelectDisplayProps:$({id:h},b)},E,{classes:E?yr(B,E.classes):B},m?m.props.inputProps:{})},(C&&y||c)&&P==="outlined"?{notched:!0}:{},{ref:L,className:$e(U.props.className,a,F.root)},!m&&{variant:P},g))})});Gx.muiName="Select";function iU(t){return pt("MuiTextField",t)}ct("MuiTextField",["root"]);const sU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],oU={standard:Ux,filled:Wx,outlined:Hx},aU=t=>{const{classes:e}=t;return xt({root:["root"]},iU,e)},lU=Pe(dP,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cr=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:T,id:S,InputLabelProps:I,inputProps:C,InputProps:y,inputRef:x,label:R,maxRows:M,minRows:N,multiline:b=!1,name:p,onBlur:g,onChange:_,onFocus:O,placeholder:j,required:P=!1,rows:z,select:F=!1,SelectProps:B,type:U,value:L,variant:V="outlined"}=r,H=Ie(r,sU),K=$({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:E,multiline:b,required:P,select:F,variant:V}),Q=aU(K),Y={};V==="outlined"&&(I&&typeof I.shrink<"u"&&(Y.notched=I.shrink),Y.label=R),F&&((!B||!B.native)&&(Y.id=void 0),Y["aria-describedby"]=void 0);const se=Ax(S),ce=T&&se?`${se}-helper-text`:void 0,ye=R&&se?`${se}-label`:void 0,q=oU[V],ne=l.jsx(q,$({"aria-describedby":ce,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:E,multiline:b,name:p,rows:z,maxRows:M,minRows:N,type:U,value:L,id:se,inputRef:x,onBlur:g,onChange:_,onFocus:O,placeholder:j,inputProps:C},Y,y));return l.jsxs(lU,$({className:$e(Q.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:P,color:u,variant:V,ownerState:K},H,{children:[R!=null&&R!==""&&l.jsx(xB,$({htmlFor:se,id:ye},I,{children:R})),F?l.jsx(Gx,$({"aria-describedby":ce,id:se,labelId:ye,value:L,input:ne},B,{children:o})):ne,T&&l.jsx(RB,$({id:ce},m,{children:T}))]}))});function uU(t){return pt("MuiCard",t)}ct("MuiCard",["root"]);const cU=["className","raised"],dU=t=>{const{classes:e}=t;return xt({root:["root"]},uU,e)},fU=Pe(Kp,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),rf=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ie(r,cU),a=$({},r,{raised:s}),u=dU(a);return l.jsx(fU,$({className:$e(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function hU(t){return pt("MuiCardContent",t)}ct("MuiCardContent",["root"]);const pU=["className","component"],mU=t=>{const{classes:e}=t;return xt({root:["root"]},hU,e)},gU=Pe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),sf=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ie(r,pU),a=$({},r,{component:s}),u=mU(a);return l.jsx(gU,$({as:s,className:$e(u.root,i),ownerState:a,ref:n},o))});function yU(t){return pt("MuiCardMedia",t)}ct("MuiCardMedia",["root","media","img"]);const vU=["children","className","component","image","src","style"],xU=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return xt({root:["root",n&&"media",r&&"img"]},yU,e)},bU=Pe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),_U=["video","audio","picture","iframe","img"],wU=["picture","img"],_S=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Ie(r,vU),h=_U.indexOf(o)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},c):c,E=$({},r,{component:o,isMediaComponent:h,isImageComponent:wU.indexOf(o)!==-1}),T=xU(E);return l.jsx(bU,$({className:$e(T.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||u:void 0},f,{children:i}))}),SU=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],EU=["component","slots","slotProps"],TU=["component"];function wS(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,u=Ie(e,SU),{component:c,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=s,m=Ie(s,EU),E=f[t]||r,T=Kk(h[t],i),S=qk($({className:n},u,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:T})),{props:{component:I},internalRef:C}=S,y=Ie(S.props,TU),x=jn(C,T==null?void 0:T.ref,e.ref),R=o?o(y):{},M=$({},i,R),N=t==="root"?I||c:I,b=Wk(E,$({},t==="root"&&!c&&!f[t]&&a,t!=="root"&&!f[t]&&a,y,N&&{as:N},{ref:x}),M);return Object.keys(R).forEach(p=>{delete b[p]}),[E,b]}var vP={},xP={},Jp={},bP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(bP);var CU="Expected a function",SS=NaN,IU="[object Symbol]",RU=/^\s+|\s+$/g,kU=/^[-+]0x[0-9a-f]+$/i,PU=/^0b[01]+$/i,AU=/^0o[0-7]+$/i,jU=parseInt,OU=typeof ql=="object"&&ql&&ql.Object===Object&&ql,NU=typeof self=="object"&&self&&self.Object===Object&&self,MU=OU||NU||Function("return this")(),LU=Object.prototype,DU=LU.toString,$U=Math.max,FU=Math.min,fg=function(){return MU.Date.now()};function VU(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(CU);e=ES(e)||0,cv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?$U(ES(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(N){var b=r,p=i;return r=i=void 0,c=N,o=t.apply(p,b),o}function T(N){return c=N,a=setTimeout(C,e),f?E(N):o}function S(N){var b=N-u,p=N-c,g=e-b;return h?FU(g,s-p):g}function I(N){var b=N-u,p=N-c;return u===void 0||b>=e||b<0||h&&p>=s}function C(){var N=fg();if(I(N))return y(N);a=setTimeout(C,S(N))}function y(N){return a=void 0,m&&r?E(N):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function R(){return a===void 0?o:y(fg())}function M(){var N=fg(),b=I(N);if(r=arguments,i=this,u=N,b){if(a===void 0)return T(u);if(h)return a=setTimeout(C,e),E(u)}return a===void 0&&(a=setTimeout(C,e)),o}return M.cancel=x,M.flush=R,M}function cv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function zU(t){return!!t&&typeof t=="object"}function BU(t){return typeof t=="symbol"||zU(t)&&DU.call(t)==IU}function ES(t){if(typeof t=="number")return t;if(BU(t))return SS;if(cv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(RU,"");var n=PU.test(t);return n||AU.test(t)?jU(t.slice(2),n?2:8):kU.test(t)?SS:+t}var UU=VU,_P={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_P);var Zp=_P.exports,fe={},Qx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(w);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Qx);Object.defineProperty(fe,"__esModule",{value:!0});fe.checkSpecKeys=fe.checkNavigable=fe.changeSlide=fe.canUseDOM=fe.canGoNext=void 0;fe.clamp=SP;fe.extractObject=void 0;fe.filterSettings=iW;fe.validSettings=fe.swipeStart=fe.swipeMove=fe.swipeEnd=fe.slidesOnRight=fe.slidesOnLeft=fe.slideHandler=fe.siblingDirection=fe.safePreventDefault=fe.lazyStartIndex=fe.lazySlidesOnRight=fe.lazySlidesOnLeft=fe.lazyEndIndex=fe.keyHandler=fe.initializedState=fe.getWidth=fe.getTrackLeft=fe.getTrackCSS=fe.getTrackAnimateCSS=fe.getTotalSlides=fe.getSwipeDirection=fe.getSlideCount=fe.getRequiredLazySlides=fe.getPreClones=fe.getPostClones=fe.getOnDemandLazySlides=fe.getNavigableIndexes=fe.getHeight=void 0;var WU=wP(w),HU=wP(Qx);function wP(t){return t&&t.__esModule?t:{default:t}}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){qU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qU(t,e,n){return(e=KU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=GU(t,"string");return nc(e)=="symbol"?e:e+""}function GU(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SP(t,e,n){return Math.max(e,Math.min(t,n))}var Pa=fe.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},EP=fe.getOnDemandLazySlides=function(e){for(var n=[],r=TP(e),i=CP(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};fe.getRequiredLazySlides=function(e){for(var n=[],r=TP(e),i=CP(e),s=r;s<i;s++)n.push(s);return n};var TP=fe.lazyStartIndex=function(e){return e.currentSlide-QU(e)},CP=fe.lazyEndIndex=function(e){return e.currentSlide+YU(e)},QU=fe.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},YU=fe.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},dv=fe.getWidth=function(e){return e&&e.offsetWidth||0},IP=fe.getHeight=function(e){return e&&e.offsetHeight||0},RP=fe.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},kP=fe.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};fe.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};fe.initializedState=function(e){var n=WU.default.Children.count(e.children),r=e.listRef,i=Math.ceil(dv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(dv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&IP(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=EP(Dt(Dt({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var T={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(T.autoplaying="playing"),T};fe.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,T=e.lazyLoadedList;if(n&&r)return{};var S=o,I,C,y,x={},R={},M=s?o:SP(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?S=o+a:o>=a&&(S=o-a),u&&T.indexOf(S)<0&&(T=T.concat(S)),x={animating:!0,currentSlide:S,lazyLoadedList:T,targetSlide:S},R={animating:!1,targetSlide:S}}else I=S,S<0?(I=S+a,s?a%h!==0&&(I=a-a%h):I=0):!kP(e)&&S>c?S=I=c:f&&S>=a?(S=s?a:a-1,I=s?0:a-1):S>=a&&(I=S-a,s?a%h!==0&&(I=0):I=a-m),!s&&S+m>=a&&(I=a-m),C=lh(Dt(Dt({},e),{},{slideIndex:S})),y=lh(Dt(Dt({},e),{},{slideIndex:I})),s||(C===y&&(S=I),C=y),u&&(T=T.concat(EP(Dt(Dt({},e),{},{currentSlide:S})))),E?(x={animating:!0,currentSlide:I,trackStyle:PP(Dt(Dt({},e),{},{left:C})),lazyLoadedList:T,targetSlide:M},R={animating:!1,currentSlide:I,trackStyle:ah(Dt(Dt({},e),{},{left:y})),swipeLeft:null,targetSlide:M}):x={currentSlide:I,trackStyle:ah(Dt(Dt({},e),{},{left:y})),lazyLoadedList:T,targetSlide:M};return{state:x,nextState:R}};fe.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,T=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,E&&!T&&(i=h-s,a=i===-1?f-1:i),T||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,E&&!T&&(a=(h+u)%f+r),T||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,T){var S=eW(Dt(Dt({},e),{},{targetSlide:a}));a>n.currentSlide&&S==="left"?a=a-f:a<n.currentSlide&&S==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};fe.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};fe.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Pa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};fe.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,T=n.swiping,S=n.slideCount,I=n.slidesToScroll,C=n.infinite,y=n.touchObject,x=n.swipeEvent,R=n.listHeight,M=n.listWidth;if(!r){if(i)return Pa(e);s&&o&&a&&Pa(e);var N,b={},p=lh(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var g=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!T&&g>10)return{scrolling:!0};a&&(y.swipeLength=g);var _=(u?-1:1)*(y.curX>y.startX?1:-1);a&&(_=y.curY>y.startY?1:-1);var O=Math.ceil(S/I),j=RP(n.touchObject,a),P=y.swipeLength;return C||(c===0&&(j==="right"||j==="down")||c+1>=O&&(j==="left"||j==="up")||!kP(n)&&(j==="left"||j==="up"))&&(P=y.swipeLength*f,h===!1&&m&&(m(j),b.edgeDragged=!0)),!E&&x&&(x(j),b.swiped=!0),s?N=p+P*(R/M)*_:u?N=p-P*_:N=p+P*_,a&&(N=p+P*_),b=Dt(Dt({},b),{},{touchObject:y,swipeLeft:N,trackStyle:ah(Dt(Dt({},n),{},{left:N}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(b.swiping=!0,Pa(e)),b}};fe.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,T=n.currentSlide,S=n.infinite;if(!r)return i&&Pa(e),{};var I=u?c/a:o/a,C=RP(s,u),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return y;if(s.swipeLength>I){Pa(e),m&&m(C);var x,R,M=S?T:E;switch(C){case"left":case"up":R=M+IS(n),x=f?CS(n,R):R,y.currentDirection=0;break;case"right":case"down":R=M-IS(n),x=f?CS(n,R):R,y.currentDirection=1;break;default:x=M}y.triggerSlideHandler=x}else{var N=lh(n);y.trackStyle=PP(Dt(Dt({},n),{},{left:N}))}return y};var XU=fe.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},CS=fe.checkNavigable=function(e,n){var r=XU(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},IS=fe.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+IP(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+dv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},Yx=fe.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},ah=fe.getTrackCSS=function(e){Yx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=ZU(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Dt(Dt({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},PP=fe.getTrackAnimateCSS=function(e){Yx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ah(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},lh=fe.getTrackLeft=function(e){if(e.unslick)return 0;Yx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,T=e.vertical,S=0,I,C,y=0;if(E||e.slideCount===1)return 0;var x=0;if(i?(x=-of(e),o%u!==0&&n+u>o&&(x=-(n>o?a-(n-o):o%u)),s&&(x+=parseInt(a/2))):(o%u!==0&&n+u>o&&(x=a-o%u),s&&(x=parseInt(a/2))),S=x*c,y=x*m,T?I=n*m*-1+y:I=n*c*-1+S,h===!0){var R,M=r&&r.node;if(R=n+of(e),C=M&&M.childNodes[R],I=C?C.offsetLeft*-1:0,s===!0){R=i?n+of(e):n,C=M&&M.children[R],I=0;for(var N=0;N<R;N++)I-=M&&M.children[N]&&M.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=C&&(f-C.offsetWidth)/2}}return I},of=fe.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},JU=fe.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},ZU=fe.getTotalSlides=function(e){return e.slideCount===1?1:of(e)+e.slideCount+JU(e)},eW=fe.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+tW(e)?"left":"right":e.targetSlide<e.currentSlide-nW(e)?"right":"left"},tW=fe.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},nW=fe.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};fe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var rW=fe.validSettings=Object.keys(HU.default);function iW(t){return rW.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var em={};Object.defineProperty(em,"__esModule",{value:!0});em.Track=void 0;var gs=AP(w),hg=AP(Zp),Rd=fe;function AP(t){return t&&t.__esModule?t:{default:t}}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(null,arguments)}function sW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OP(r.key),r)}}function aW(t,e,n){return e&&oW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hv(t,e)}function uW(t){var e=jP();return function(){var n,r=uh(t);if(e){var i=uh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cW(this,n)}}function cW(t,e){if(e&&(el(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pv(t)}function pv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jP=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){mv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mv(t,e,n){return(e=OP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OP(t){var e=dW(t,"string");return el(e)=="symbol"?e:e+""}function dW(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},fW=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},mg=function(e,n){return e.key||n},hW=function(e){var n,r=[],i=[],s=[],o=gs.default.Children.count(e.children),a=(0,Rd.lazyStartIndex)(e),u=(0,Rd.lazyEndIndex)(e);return gs.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=gs.default.createElement("div",null);var E=fW(Zn(Zn({},e),{},{index:f})),T=h.props.className||"",S=pg(Zn(Zn({},e),{},{index:f}));if(r.push(gs.default.cloneElement(h,{key:"original"+mg(h,f),"data-index":f,className:(0,hg.default)(S,T),tabIndex:"-1","aria-hidden":!S["slick-active"],style:Zn(Zn({outline:"none"},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Rd.getPreClones)(e)&&(n=-I,n>=a&&(h=c),S=pg(Zn(Zn({},e),{},{index:n})),i.push(gs.default.cloneElement(h,{key:"precloned"+mg(h,n),"data-index":n,tabIndex:"-1",className:(0,hg.default)(S,T),"aria-hidden":!S["slick-active"],style:Zn(Zn({},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Rd.getPostClones)(e)&&(n=o+f,n<u&&(h=c),S=pg(Zn(Zn({},e),{},{index:n})),s.push(gs.default.cloneElement(h,{key:"postcloned"+mg(h,n),"data-index":n,tabIndex:"-1",className:(0,hg.default)(S,T),"aria-hidden":!S["slick-active"],style:Zn(Zn({},h.props.style||{}),E),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};em.Track=function(t){lW(n,t);var e=uW(n);function n(){var r;sW(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),mv(pv(r),"node",null),mv(pv(r),"handleRef",function(a){r.node=a}),r}return aW(n,[{key:"render",value:function(){var i=hW(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return gs.default.createElement("div",fv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(gs.default.PureComponent);var tm={};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}Object.defineProperty(tm,"__esModule",{value:!0});tm.Dots=void 0;var kd=NP(w),pW=NP(Zp),kS=fe;function NP(t){return t&&t.__esModule?t:{default:t}}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){gW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gW(t,e,n){return(e=MP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MP(r.key),r)}}function xW(t,e,n){return e&&vW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MP(t){var e=bW(t,"string");return tl(e)=="symbol"?e:e+""}function bW(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gv(t,e)}function wW(t){var e=LP();return function(){var n,r=ch(t);if(e){var i=ch(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SW(this,n)}}function SW(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EW(t)}function EW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}var TW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};tm.Dots=function(t){_W(n,t);var e=wW(n);function n(){return yW(this,n),e.apply(this,arguments)}return xW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=TW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),T={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},S=[],I=0;I<E;I++){var C=(I+1)*c-1,y=u?C:(0,kS.clamp)(C,0,h-1),x=y-(c-1),R=u?x:(0,kS.clamp)(x,0,h-1),M=(0,pW.default)({"slick-active":u?m>=R&&m<=y:m===R}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},b=this.clickHandler.bind(this,N);S=S.concat(kd.default.createElement("li",{key:I,className:M},kd.default.cloneElement(this.props.customPaging(I),{onClick:b})))}return kd.default.cloneElement(this.props.appendDots(S),mW({className:this.props.dotsClass},T))}}]),n}(kd.default.PureComponent);var nl={};function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}Object.defineProperty(nl,"__esModule",{value:!0});nl.PrevArrow=nl.NextArrow=void 0;var Aa=$P(w),DP=$P(Zp),CW=fe;function $P(t){return t&&t.__esModule?t:{default:t}}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(null,arguments)}function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return(e=zP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zP(r.key),r)}}function VP(t,e,n){return e&&RW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zP(t){var e=kW(t,"string");return rl(e)=="symbol"?e:e+""}function kW(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yv(t,e)}function UP(t){var e=WP();return function(){var n,r=hh(t);if(e){var i=hh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return PW(this,n)}}function PW(t,e){if(e&&(rl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AW(t)}function AW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}nl.PrevArrow=function(t){BP(n,t);var e=UP(n);function n(){return FP(this,n),e.apply(this,arguments)}return VP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,DP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Aa.default.cloneElement(this.props.prevArrow,fh(fh({},o),a)):u=Aa.default.createElement("button",dh({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Aa.default.PureComponent);nl.NextArrow=function(t){BP(n,t);var e=UP(n);function n(){return FP(this,n),e.apply(this,arguments)}return VP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,CW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,DP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Aa.default.cloneElement(this.props.nextArrow,fh(fh({},o),a)):u=Aa.default.createElement("button",dh({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Aa.default.PureComponent);var HP=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),vv=typeof window<"u"&&typeof document<"u"&&window.document===document,ph=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),jW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ph):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),OW=2;function NW(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){jW(s)}function a(){var u=Date.now();if(n){if(u-i<OW)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var MW=20,LW=["top","right","bottom","left","width","height","size","weight"],DW=typeof MutationObserver<"u",$W=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=NW(this.refresh.bind(this),MW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!vv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),DW?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!vv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=LW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),qP=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},il=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ph},KP=nm(0,0,0,0);function mh(t){return parseFloat(t)||0}function jS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+mh(s)},0)}function FW(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=mh(o)}return n}function VW(t){var e=t.getBBox();return nm(0,0,e.width,e.height)}function zW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return KP;var r=il(t).getComputedStyle(t),i=FW(r),s=i.left+i.right,o=i.top+i.bottom,a=mh(r.width),u=mh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=jS(r,"left","right")+s),Math.round(u+o)!==n&&(u-=jS(r,"top","bottom")+o)),!UW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return nm(i.left,i.top,a,u)}var BW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof il(t).SVGGraphicsElement}:function(t){return t instanceof il(t).SVGElement&&typeof t.getBBox=="function"}}();function UW(t){return t===il(t).document.documentElement}function WW(t){return vv?BW(t)?VW(t):zW(t):KP}function HW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return qP(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function nm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var qW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=WW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),KW=function(){function t(e,n){var r=HW(n);qP(this,{target:e,contentRect:r})}return t}(),GW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new HP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new qW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new KW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),GP=typeof WeakMap<"u"?new WeakMap:new HP,QP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$W.getInstance(),r=new GW(e,n,this);GP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){QP.prototype[t]=function(){var e;return(e=GP.get(this))[t].apply(e,arguments)}});var QW=function(){return typeof ph.ResizeObserver<"u"?ph.ResizeObserver:QP}();const YW=Object.freeze(Object.defineProperty({__proto__:null,default:QW},Symbol.toStringTag,{value:"Module"})),XW=rs(YW);Object.defineProperty(Jp,"__esModule",{value:!0});Jp.InnerSlider=void 0;var qn=Vc(w),JW=Vc(bP),ZW=Vc(UU),e7=Vc(Zp),Vt=fe,t7=em,n7=tm,OS=nl,r7=Vc(XW);function Vc(t){return t&&t.__esModule?t:{default:t}}function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(null,arguments)}function i7(t,e){if(t==null)return{};var n,r,i=s7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XP(r.key),r)}}function l7(t,e,n){return e&&a7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xv(t,e)}function xv(t,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xv(t,e)}function c7(t){var e=YP();return function(){var n,r=yh(t);if(e){var i=yh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d7(this,n)}}function d7(t,e){if(e&&(jo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}function Ze(t,e,n){return(e=XP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t){var e=f7(t,"string");return jo(e)=="symbol"?e:e+""}function f7(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Jp.InnerSlider=function(t){u7(n,t);var e=c7(n);function n(r){var i;o7(this,n),i=e.call(this,r),Ze(Je(i),"listRefHandler",function(o){return i.list=o}),Ze(Je(i),"trackRefHandler",function(o){return i.track=o}),Ze(Je(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Vt.getHeight)(o)+"px"}}),Ze(Je(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ze({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new r7.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Ze(Je(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Ze(Je(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=qn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:qn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Ze(Je(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,ZW.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Ze(Je(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Ze(Je(i),"updateState",function(o,a,u){var c=(0,Vt.initializedState)(o);o=ze(ze(ze({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Vt.getTrackLeft)(o);o=ze(ze({},o),{},{left:f});var h=(0,Vt.getTrackCSS)(o);(a||qn.default.Children.count(i.props.children)!==qn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Ze(Je(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Vt.getPreClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Vt.getPostClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(b){u.push(b.props.style.width),o+=b.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var E=0;E<i.state.currentSlide;E++)a+=u[E];var T={width:o+"px",left:-a+"px"};if(i.props.centerMode){var S="".concat(u[i.state.currentSlide],"px");T.left="calc(".concat(T.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:T}}var I=qn.default.Children.count(i.props.children),C=ze(ze(ze({},i.props),i.state),{},{slideCount:I}),y=(0,Vt.getPreClones)(C)+(0,Vt.getPostClones)(C)+I,x=100/i.props.slidesToShow*y,R=100/y,M=-R*((0,Vt.getPreClones)(C)+i.state.currentSlide)*x/100;i.props.centerMode&&(M+=(100-R*x/100)/2);var N={width:x+"%",left:M+"%"};return{slideWidth:R+"%",trackStyle:N}}),Ze(Je(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Ze(Je(i),"progressiveLazyLoad",function(){for(var o=[],a=ze(ze({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Vt.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Vt.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Ze(Je(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,E=u.afterChange,T=i.state.currentSlide,S=(0,Vt.slideHandler)(ze(ze(ze({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=S.state,C=S.nextState;if(I){f&&f(T,I.currentSlide);var y=I.lazyLoadedList.filter(function(x){return i.state.lazyLoadedList.indexOf(x)<0});h&&y.length>0&&h(y),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(T),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),C&&(i.animationEndCallback=setTimeout(function(){var x=C.animating,R=i7(C,["animating"]);i.setState(R,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:x})},10)),E&&E(I.currentSlide),delete i.animationEndCallback})},m))})}}),Ze(Je(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=ze(ze({},i.props),i.state),c=(0,Vt.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Ze(Je(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Ze(Je(i),"keyHandler",function(o){var a=(0,Vt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Ze(Je(i),"selectHandler",function(o){i.changeSlide(o)}),Ze(Je(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Ze(Je(i),"enableBodyScroll",function(){window.ontouchmove=null}),Ze(Je(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Vt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Ze(Je(i),"swipeMove",function(o){var a=(0,Vt.swipeMove)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Ze(Je(i),"swipeEnd",function(o){var a=(0,Vt.swipeEnd)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Ze(Je(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Ze(Je(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Ze(Je(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Ze(Je(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Ze(Je(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Vt.canGoNext)(ze(ze({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Ze(Je(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Ze(Je(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Ze(Je(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Ze(Je(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Ze(Je(i),"render",function(){var o=(0,e7.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ze(ze({},i.props),i.state),u=(0,Vt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=ze(ze({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Vt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=ze(ze({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=qn.default.createElement(n7.Dots,h)}var E,T,S=(0,Vt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=i.changeSlide,i.props.arrows&&(E=qn.default.createElement(OS.PrevArrow,S),T=qn.default.createElement(OS.NextArrow,S));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var C=null;i.props.vertical===!1?i.props.centerMode===!0&&(C={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(C={padding:i.props.centerPadding+" 0px"});var y=ze(ze({},I),C),x=i.props.touchMove,R={className:"slick-list",style:y,onClick:i.clickHandler,onMouseDown:x?i.swipeStart:null,onMouseMove:i.state.dragging&&x?i.swipeMove:null,onMouseUp:x?i.swipeEnd:null,onMouseLeave:i.state.dragging&&x?i.swipeEnd:null,onTouchStart:x?i.swipeStart:null,onTouchMove:i.state.dragging&&x?i.swipeMove:null,onTouchEnd:x?i.touchEnd:null,onTouchCancel:i.state.dragging&&x?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(R={className:"slick-list"},M={className:o,style:i.props.style}),qn.default.createElement("div",M,i.props.unslick?"":E,qn.default.createElement("div",gh({ref:i.listRefHandler},R),qn.default.createElement(t7.Track,gh({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":T,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=ze(ze({},JW.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:qn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ze(ze({},i.state),s),i}return l7(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(jo(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||qn.default.Children.count(this.props.children)!==qn.default.Children.count(i.children)}}]),n}(qn.default.Component);var h7=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},p7=h7,m7=p7,g7=function(t){var e=/[height|width]$/;return e.test(t)},MS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=m7(r),g7(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},y7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=MS(n),r<t.length-1&&(e+=", ")}),e):MS(t)},v7=y7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(w),n=Jp,r=o(v7),i=o(Qx),s=fe;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var O in _)({}).hasOwnProperty.call(_,O)&&(p[O]=_[O])}return p},u.apply(null,arguments)}function c(p,g){var _=Object.keys(p);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(p);g&&(O=O.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),_.push.apply(_,O)}return _}function f(p){for(var g=1;g<arguments.length;g++){var _=arguments[g]!=null?arguments[g]:{};g%2?c(Object(_),!0).forEach(function(O){M(p,O,_[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(_)):c(Object(_)).forEach(function(O){Object.defineProperty(p,O,Object.getOwnPropertyDescriptor(_,O))})}return p}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){for(var _=0;_<g.length;_++){var O=g[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,N(O.key),O)}}function E(p,g,_){return g&&m(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function T(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&S(p,g)}function S(p,g){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,O){return _.__proto__=O,_},S(p,g)}function I(p){var g=x();return function(){var _,O=R(p);if(g){var j=R(this).constructor;_=Reflect.construct(O,arguments,j)}else _=O.apply(this,arguments);return C(this,_)}}function C(p,g){if(g&&(a(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(p)}function y(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function x(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!p})()}function R(p){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},R(p)}function M(p,g,_){return(g=N(g))in p?Object.defineProperty(p,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):p[g]=_,p}function N(p){var g=b(p,"string");return a(g)=="symbol"?g:g+""}function b(p,g){if(a(p)!="object"||!p)return p;var _=p[Symbol.toPrimitive];if(_!==void 0){var O=_.call(p,g);if(a(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}t.default=function(p){T(_,p);var g=I(_);function _(O){var j;return h(this,_),j=g.call(this,O),M(y(j),"innerSliderRefHandler",function(P){return j.innerSlider=P}),M(y(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(y(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(y(j),"slickGoTo",function(P){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(P,z)}),M(y(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(y(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return E(_,[{key:"media",value:function(j,P){var z=window.matchMedia(j),F=function(U){var L=U.matches;L&&P()};z.addListener(F),this._responsiveMediaHandlers.push({mql:z,query:j,listener:F})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var P=this.props.responsive.map(function(F){return F.breakpoint});P.sort(function(F,B){return F-B}),P.forEach(function(F,B){var U;B===0?U=(0,r.default)({minWidth:0,maxWidth:F}):U=(0,r.default)({minWidth:P[B-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&j.media(U,function(){j.setState({breakpoint:F})})});var z=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(z,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){j.mql.removeListener(j.listener)})}},{key:"render",value:function(){var j=this,P,z;this.state.breakpoint?(z=this.props.responsive.filter(function(se){return se.breakpoint===j.state.breakpoint}),P=z[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),z[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var B=[],U=null,L=0;L<F.length;L+=P.rows*P.slidesPerRow){for(var V=[],H=L;H<L+P.rows*P.slidesPerRow;H+=P.slidesPerRow){for(var K=[],Q=H;Q<H+P.slidesPerRow&&(P.variableWidth&&F[Q].props.style&&(U=F[Q].props.style.width),!(Q>=F.length));Q+=1)K.push(e.default.cloneElement(F[Q],{key:100*L+10*H+Q,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));V.push(e.default.createElement("div",{key:10*L+H},K))}P.variableWidth?B.push(e.default.createElement("div",{key:L,style:{width:U}},V)):B.push(e.default.createElement("div",{key:L},V))}if(P==="unslick"){var Y="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Y},F)}else B.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),B)}}]),_}(e.default.Component)})(xP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(xP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(vP);const af=vh(vP);function JP({onClick:t}){return l.jsx(go,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const x7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}];function b7(){const t=typeof window<"u"&&window.innerWidth<=600,e={dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!1,variableWidth:!1}}]};return l.jsx("div",{style:{maxWidth:900,margin:"0 auto",padding:t?"12px 0":"32px 0"},children:l.jsx(af,{...e,children:x7.map((n,r)=>l.jsxs("div",{style:{padding:t?12:24,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #c7d2fe22",margin:t?"0 2px":"0 8px",minHeight:t?120:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:t?15:18,fontWeight:600,color:"#2d3748",marginBottom:8},children:n.name}),l.jsx("div",{style:{fontSize:t?12:15,color:"#6366f1",marginBottom:8},children:n.city}),l.jsxs("div",{style:{fontSize:t?13:16,color:"#222",fontStyle:"italic"},children:["",n.text,""]})]},r))})})}function _7(t){return pt("MuiLink",t)}const w7=ct("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),ZP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},S7=t=>ZP[t]||t,E7=({theme:t,ownerState:e})=>{const n=S7(e.color),r=Ya(t,`palette.${n}`,!1)||e.color,i=Ya(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:rr(r,.4)},T7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],C7=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${We(i)}`,n==="button"&&"button",r&&"focusVisible"]};return xt(s,_7,e)},I7=Pe(wt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${We(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>$({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&$({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:E7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${w7.focusVisible}`]:{outline:"auto"}})),Ul=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:c,underline:f="always",variant:h="inherit",sx:m}=r,E=Ie(r,T7),{isFocusVisibleRef:T,onBlur:S,onFocus:I,ref:C}=Bk(),[y,x]=w.useState(!1),R=jn(n,C),M=g=>{S(g),T.current===!1&&x(!1),a&&a(g)},N=g=>{I(g),T.current===!0&&x(!0),u&&u(g)},b=$({},r,{color:s,component:o,focusVisible:y,underline:f,variant:h}),p=C7(b);return l.jsx(I7,$({color:s,className:$e(p.root,i),classes:c,component:o,onBlur:M,onFocus:N,ref:R,ownerState:b,variant:h,sx:[...Object.keys(ZP).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},E))});function R7(){return l.jsxs(En,{component:"footer",sx:{width:"100%",bgcolor:"#f4f6fa",borderTop:"1px solid #e0e7ef",py:3,mt:8,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",px:{xs:2,sm:6},fontSize:15},children:[l.jsxs(wt,{color:"primary",fontWeight:700,children:["Pharmastack  ",new Date().getFullYear()]}),l.jsxs(En,{sx:{display:"flex",gap:3,mt:{xs:2,sm:0}},children:[l.jsx(Ul,{href:"/",underline:"hover",color:"inherit",children:"Home"}),l.jsx(Ul,{href:"/shop",underline:"hover",color:"inherit",children:"Shop"}),l.jsx(Ul,{href:"/store",underline:"hover",color:"inherit",children:"Pharmacies"}),l.jsx(Ul,{href:"/auth",underline:"hover",color:"inherit",children:"Login"}),l.jsx(Ul,{href:"mailto:pharmastack@gmail.com",underline:"hover",color:"inherit",children:"Contact"})]})]})}function k7(){w.useEffect(()=>{const y=Ct(ke(Z,"products"),x=>{const R=x.docs.map(M=>({id:M.id,...M.data()}));E(R)});return()=>y()},[]);const t={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},e={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[n,r]=w.useState([]),[i,s]=w.useState([]),o=i;w.useEffect(()=>{const y=Ct(ke(Z,"users"),x=>{const R=[],M=new Set;x.docs.forEach(N=>{const b=N.data();b.businessSlug&&!M.has(b.businessSlug)&&(R.push({name:b.businessName||b.businessSlug,img:b.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:b.rating||4.5,slug:b.businessSlug}),M.add(b.businessSlug))}),s(R)});return()=>y()},[]);const a={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},[u,c]=w.useState(null),[f,h]=w.useState(""),[m,E]=w.useState([]),[T,S]=w.useState(""),I=Ur();w.useEffect(()=>{const y=Ct(ke(Z,"products"),x=>{const R=new Set;x.docs.forEach(M=>{const N=M.data().class;N&&typeof N=="string"&&N.trim()&&R.add(N.trim())}),r(Array.from(R).sort())});return()=>y()},[]),w.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(y=>{const x={lat:y.coords.latitude,lng:y.coords.longitude};c(x),localStorage.setItem("customerLocation",JSON.stringify(x))},y=>{h("Location access denied. Please enable location services.")})},[]);const C=y=>{y.preventDefault(),T.trim()?I(`/shop?search=${encodeURIComponent(T.trim())}`):I("/shop")};return l.jsxs(Wz,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0},children:[l.jsxs(Kp,{elevation:3,sx:{p:5,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, #f4f6fa 60%, #e0e7ff 100%)"},children:[l.jsx(wt,{variant:"h3",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:" Welcome to Pharmastack"}),l.jsx(wt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Making Medicine Accessible, Findable, and Available to All."}),l.jsxs(En,{sx:{position:"relative",background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderLeft:"6px solid #6366f1",borderRadius:3,p:2.5,my:2.5,boxShadow:"0 2px 12px #c7d2fe22",color:"#2d3748",fontSize:18,fontWeight:500,textAlign:"center",letterSpacing:.1,lineHeight:1.6,maxWidth:600,mx:"auto",overflow:"hidden"},children:[l.jsx("span",{style:{color:"#6366f1",fontWeight:700,fontSize:20,display:"block",marginBottom:4},children:"Our Mission"}),l.jsx("span",{style:{position:"relative",zIndex:1},children:"We are solving the problem of inequitable access to medicines by building a digital map of real-time medicine availabilitya connected ecosystem ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."}),l.jsx("span",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,background:"linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 40%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)",transform:"translateX(-100%)",animation:"gloss-move 7s cubic-bezier(.4,.6,.6,1) infinite"}}),l.jsx("style",{children:`
              @keyframes gloss-move {
                0% { transform: translateX(-100%); }
                60% { transform: translateX(120%); }
                100% { transform: translateX(120%); }
              }
            `})]}),l.jsx(En,{my:3,children:u?l.jsxs(wt,{variant:"body1",color:"secondary",children:[" Your location: ",l.jsxs("b",{children:[u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}):l.jsx(wt,{variant:"body2",color:"text.disabled",children:f||"Detecting your location..."})}),l.jsxs(En,{component:"form",onSubmit:C,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mt:6,mb:2},children:[l.jsx(cr,{variant:"outlined",placeholder:"Search drugs...",value:T,onChange:y=>S(y.target.value),sx:{width:320,background:"#fff",borderRadius:2},size:"medium"}),l.jsx(go,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Search"})]}),l.jsx(En,{sx:{mb:3,background:"#f8fafc",borderRadius:2,minHeight:220,px:1,py:2},children:m.length===0?null:l.jsx(af,{...t,children:m.map((y,x)=>l.jsx(En,{sx:{px:1},children:l.jsxs(rf,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(_S,{component:"img",image:y.image||"/default-medicine.png",alt:y.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(sf,{sx:{p:0},children:l.jsx(wt,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:y.name||"Unnamed"})})]})},y.id||x))})}),l.jsx(wt,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(En,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(af,{...e,children:n.map(y=>{const x=m.find(R=>R.class&&R.class.trim()===y);return l.jsx(En,{children:l.jsxs(rf,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>I(`/shop?category=${encodeURIComponent(y)}`),children:[x&&l.jsx(En,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:x.image||"/default-medicine.png",alt:x.name||y,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(sf,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(wt,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:y})})]})},y)})})}),l.jsx(wt,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(En,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:o.length===0?null:l.jsx(af,{...a,children:o.map(y=>l.jsx(En,{sx:{px:1},children:l.jsxs(rf,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>I(`/store/${y.slug}`),children:[l.jsx(_S,{component:"img",height:"80",image:y.img,alt:y.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(sf,{sx:{textAlign:"center",pb:2},children:[l.jsx(wt,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:y.name}),l.jsxs(wt,{variant:"body2",color:"text.secondary",children:[" ",y.rating]}),l.jsx(go,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:x=>{x.stopPropagation(),I(`/store/${y.slug}`)},children:"Shop Now"})]})]})},y.slug))})}),l.jsx(go,{component:za,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:" Find a pharmacy store near you"})]}),l.jsx(b7,{}),l.jsx(JP,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsx(R7,{})]})}const P7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function $n(){return typeof window<"u"&&window.innerWidth<=600}function A7(){const[t,e]=w.useState(!1),{slug:n}=hc(),[r,i]=w.useState(null),[s,o]=w.useState([]),[a,u]=w.useState([]),[c,f]=w.useState(""),[h,m]=w.useState(null),[E,T]=w.useState(null),[S,I]=w.useState(""),[C,y]=w.useState(!0),[x,R]=w.useState(typeof window<"u"?window.innerWidth:1200),M=In(),N=(g,_,O,j)=>{const P=V=>V*Math.PI/180,F=P(O-g),B=P(j-_),U=Math.sin(F/2)**2+Math.cos(P(g))*Math.cos(P(O))*Math.sin(B/2)**2;return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},b=g=>{const j=g*1.64,P=Math.max(1,Math.round(j/25*60));return{drivingKm:j,minutes:P}};w.useEffect(()=>{if(!navigator.geolocation){T("denied");return}navigator.geolocation.getCurrentPosition(g=>{const _={lat:g.coords.latitude,lng:g.coords.longitude};T(_);const O=M.currentUser;if(O){const j=be(Z,"users",O.uid);Qt(j).then(P=>{const z=P.data();z&&z.role==="customer"&&ar(j,{lat:_.lat,lng:_.lng},{merge:!0})})}},()=>T("denied"))},[M]),w.useEffect(()=>{const g=wr(M,_=>{i(_)});return()=>g()},[M]),w.useEffect(()=>{y(!0);const g=Ct(ke(Z,"products"),async _=>{const j=(await Promise.all(_.docs.map(async P=>{var F,B;const z={id:P.id,...P.data()};if(z.ownerId){const U=be(Z,"users",z.ownerId),L=await Qt(U);if(L.exists()){const V=L.data();z.businessName=V.businessName||"Unknown Pharmacy",z.ownerSlug=V.slug||null,z.ownerRole=V.role||null,(F=V.location)!=null&&F.latitude&&((B=V.location)!=null&&B.longitude)&&(z.businessLat=V.location.latitude,z.businessLng=V.location.longitude),z.businessState=V.businessState||V.state||""}}return z}))).filter(P=>P.ownerRole!=="distributor");o(j),y(!1)});return()=>g()},[]),w.useEffect(()=>{const g=()=>R(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),w.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(L=>L.ownerSlug===n):s;S&&(g=g.filter(L=>L.businessState===S));const _={};for(const L of g){const V=(L.normalizedName||L.name||"").toLowerCase().trim();_[V]||(_[V]=[]),_[V].push(L)}const O=Object.values(_).map(L=>(E&&E!=="denied"&&(L=L.map(V=>{if(V.businessLat&&V.businessLng){const H=N(E.lat,E.lng,V.businessLat,V.businessLng),{minutes:K}=b(H);return{...V,minutesAway:K}}return{...V,minutesAway:1/0}}),L.sort((V,H)=>V.minutesAway-H.minutesAway)),L)).flat(),j=(L="")=>L.toLowerCase().trim().replace(/\s+/g," "),P={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},z=j(c),F=(P[z]||z).split(" "),B=(L,V)=>L.includes(V)||V.length>3&&L.startsWith(V.slice(0,3))||V.length>3&&L.endsWith(V.slice(-3)),U=O.filter(L=>{const V=j(L.name),H=j(L.ingredient),K=j(L.class);return F.some(Q=>V.includes(Q)||H.includes(Q)||K.includes(Q)||B(V,Q)||B(H,Q)||B(K,Q))});u(U)},[s,E,c,n]);const p=async g=>{if(!r)return alert("Please log in first");let _={...g};if((!_.businessPhone||!_.businessWhatsapp)&&_.ownerId)try{const F=be(Z,"users",_.ownerId),B=await Qt(F);if(B.exists()){const U=B.data();_.businessPhone=U.businessPhone||"",_.businessWhatsapp=U.businessWhatsapp||""}}catch{}const O=be(Z,"carts",r.uid),j=await Qt(O);let P=j.exists()?j.data().items||[]:[];const z=P.findIndex(F=>F.name===_.name);z>=0?P[z].quantity+=1:P.push({..._,quantity:1}),await ar(O,{items:P}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:$n()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:$n()?22:32,marginBottom:8,letterSpacing:1},children:[" ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:$n()?8:16,margin:$n()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:$n()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:$n()?"8px":"12px",width:"100%",maxWidth:$n()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:$n()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:S,onChange:g=>I(g.target.value),style:{padding:$n()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:$n()?15:17,minWidth:$n()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),P7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),C?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:x<=420?"repeat(3, 1fr)":x<=800?"repeat(2, 1fr)":"repeat(auto-fill, minmax(260px, 1fr))",gap:x<=420?8:x<=800?14:28,marginTop:18,alignItems:"start"},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:x<=420?"8px 6px":x<=800?"12px 10px":"18px 16px",borderRadius:"12px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:x<=420?"140px":x<=800?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:_=>{$n()||(_.currentTarget.style.boxShadow="0 8px 32px #6366f133",_.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:_=>{$n()||(_.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",_.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:x<=420?70:x<=800?110:150,objectFit:"cover",borderRadius:"8px",marginBottom:x<=420?6:10,background:"#f4f6fb"},onError:_=>{_.target.onerror=null,_.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:$n()?90:150,borderRadius:10,marginBottom:$n()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:$n()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:x<=420?12:x<=800?15:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:x<=420?10:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:x<=420?9:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:x<=420?11:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:[" ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:_=>_.currentTarget.style.background="#4f46e5",onMouseLeave:_=>_.currentTarget.style.background="#6366f1",disabled:typeof p!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?" Right here":` ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function e2(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState(0),[o,a]=w.useState(!1),[u,c]=w.useState({}),[f,h]=w.useState([]),[m,E]=w.useState(null),T=In(),S=Ur();w.useEffect(()=>{t&&Qt(be(Z,"users",t.uid)).then(N=>{N.exists()&&E(N.data())})},[t]),w.useEffect(()=>{const N=Array.from(new Set(n.filter(b=>b.registeredOnly&&b.ownerId).map(b=>b.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const b of f)await ar(be(Z,"businessRegistrations",`${b}_${t.uid}`),{distributorId:b,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===b),status:"pending",date:new Date().toISOString()});Ee.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};w.useEffect(()=>wr(T,b=>{e(b),b&&C(b.uid)}),[T]);const C=async N=>{try{const b=be(Z,"carts",N),p=await Qt(b);p.exists()?r(p.data().items||[]):r([])}catch(b){console.error("Error loading cart:",b)}},y=async(N,b)=>{try{await ar(be(Z,"carts",N),{items:b})}catch(p){console.error("Error saving cart:",p)}};w.useEffect(()=>{const N=n.reduce((b,p)=>b+p.price*(p.quantity||1),0);s(N)},[n]);const x=N=>{if(!t)return Ee.error("Please login first");const b=[...n],p=b.findIndex(g=>g.name===N.name);p>=0?b[p].quantity+=1:b.push({...N,quantity:1}),r(b),y(t.uid,b)},R=N=>{if(!t)return Ee.error("Please login first");const b=[...n],p=b.findIndex(g=>g.name===N);p>=0&&(b[p].quantity>1?b[p].quantity-=1:b.splice(p,1)),r(b),y(t.uid,b)},M=()=>{if(!t)return Ee.error("Please login to proceed to payment");if(n.length===0)return Ee.info("Cart is empty");S("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,b)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",b+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,b)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>x(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>R(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},b)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,b)=>N+(b.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:M,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const j7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function O7(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("Pending"),[o,a]=w.useState({}),u=In();if(w.useEffect(()=>{const T=wr(u,S=>{if(e(S),S){const I=br(ke(Z,"orders"),_r("userId","==",S.uid)),C=Ct(I,y=>{const x=y.docs.map(R=>({id:R.id,...R.data()}));x.sort((R,M)=>new Date(M.date)-new Date(R.date)),r(x)});return()=>C()}});return()=>T()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async T=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=be(Z,"orders",T);await Zt(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=T=>{a(S=>({...S,[T]:!S[T]}))},h=T=>T.reduce((S,I)=>S+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],E=m.reduce((T,S)=>(S==="Processing"?T[S]=n.filter(I=>{const C=I.status||"Pending";return C==="Processing"||C==="In-Progress"}):T[S]=n.filter(I=>(I.status||"Pending")===S),T),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(T=>{var S;return l.jsxs("button",{onClick:()=>s(T),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===T?"#007bff":"#eee",color:i===T?"#fff":"#000",fontWeight:i===T?"bold":"normal"},children:[T," (",((S=E[T])==null?void 0:S.length)||0,")"]},T)})}),E[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):E[i].map(T=>{var S;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",j7(T.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),T.items&&T.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(T.items.reduce((I,C)=>{const y=C.businessName||"Unknown",x=C.businessPhone||C.phoneNumber||"N/A",R=C.businessWhatsapp||C.whatsappNumber||"N/A";return I.set(y+"__"+x+"__"+R,{name:y,phone:x,whatsapp:R}),I},new Map).values()).map(({name:I,phone:C,whatsapp:y})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",C&&C!=="N/A"?l.jsxs("a",{href:`tel:${C}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",y&&y!=="N/A"?l.jsxs("a",{href:`https://wa.me/${y.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:y}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+C+y))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId||"Not assigned",(T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId)&&(T.agentPhoneNumber||T.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",T.agentPhoneNumber?l.jsxs("a",{href:`tel:${T.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",T.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${T.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(T.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[T.id]?"#ede9fe":"#7c3aed",color:o[T.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[T.id]?"0 2px 8px #ede9fe":"none"},children:o[T.id]?"Hide Items":"View Items"}),o[T.id]&&((S=T.items)==null?void 0:S.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:T.items.map((I,C)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:y=>{y.target.onerror=null,y.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},C))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(T.items||[])]}),(T.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(T.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},T.id)})]})}const N7="modulepreload",M7=function(t){return"/medcins/"+t},LS={},ja=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=M7(u),u in LS)return;LS[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":N7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},L7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function D7(){const t=Ur(),[e,n]=w.useState(null),[r,i]=w.useState(""),[s,o]=w.useState(""),[a,u]=w.useState(""),[c,f]=w.useState(""),[h,m]=w.useState(""),[E,T]=w.useState(""),[S,I]=w.useState(""),[C,y]=w.useState(!1),[x,R]=w.useState(!1),[M,N]=w.useState(!1),[b,p]=w.useState({}),[g,_]=w.useState(!1),O={},[j,P]=w.useState(""),[z,F]=w.useState(""),[B,U]=w.useState(""),[L,V]=w.useState(""),[H,K]=w.useState(""),[Q,Y]=w.useState(""),[se,ce]=w.useState(""),[ye,q]=w.useState(""),[ne,W]=w.useState(""),[le,ee]=w.useState(""),[re,he]=w.useState(""),[me,ve]=w.useState(""),[_e,Ye]=w.useState(null),[we,Ve]=w.useState(!1),[Ae,Qe]=w.useState(null),[it,lt]=w.useState(!1),[Me,gt]=w.useState(""),[Re,Ue]=w.useState("");pe.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const Le=async()=>{try{if(!ye||!ne){alert("Please provide distributor name and license number.");return}const J=await captureDistributorLocation();if(!J){alert(" Location required to complete distributor signup.");return}const A=(await nu(ro,r,s)).user,te=await bt(ye),ue={email:A.email,role:"distributor",businessName:ye,licenseNumber:ne,location:J,slug:te,businessSlug:te,createdAt:new Date().toISOString()};await kt(A.uid,ue),n({...A,...ue}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${te}`),R(!1),q(""),W(""),Ye(null)}catch(J){console.error("Distributor signup error:",J),alert(J.message||"Distributor signup failed")}},Te=J=>J.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),bt=async J=>{let De=Te(J);const A=ke(Z,"users");let te=De,ue=1;for(;;){const Fe=br(A,_r("slug","==",te));if((await en(Fe)).empty)break;te=`${De}${ue++}`}return te},kt=async(J,De)=>{console.log("Writing user doc for:",J,De),await ar(be(Z,"users",J),De)},Xe=async()=>{try{if(!B||!L||!H){alert("Please provide address, state, and city.");return}const De=(await nu(ro,r,s)).user,A={email:De.email,role:"customer",address:B,state:L,city:H,landmark:Q,createdAt:new Date().toISOString()};await kt(De.uid,A),n({...De,...A}),alert(" Customer signup successful!")}catch(J){console.error("Customer signup error:",J),alert(J.message)}},Se=async()=>navigator.geolocation?(lt(!0),new Promise((J,De)=>{navigator.geolocation.getCurrentPosition(A=>{const te={latitude:A.coords.latitude,longitude:A.coords.longitude};Qe(te),lt(!1),J(te)},A=>{lt(!1),alert(" Location access denied or unavailable."),De(A)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),tt=async()=>{try{if(!a||!se||!c){alert("Please provide business name, address, and license number.");return}const J=await Se();if(!J){alert(" Location required to complete business signup.");return}const A=(await nu(ro,r,s)).user;console.log("Business user created:",A.uid);const te=await bt(a);console.log("Generated unique slug:",te);const ue={email:A.email,role:"medicine-manager",businessName:a,address:c,city:E,state:h,landmark:S,licenseNumber:se,location:J,lat:J.latitude,lng:J.longitude,slug:te,businessSlug:te,businessPhone:Me,businessWhatsapp:Re,createdAt:new Date().toISOString()};await kt(A.uid,ue),console.log("Firestore user record created for business:",ue),n({...A,...ue}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${te}`),y(!1),u(""),f(""),ce(""),Qe(null)}catch(J){console.error("Business signup error:",J),alert(J.message||"Business signup failed")}},qe=async()=>{try{const De=(await zR(ro,r,s)).user,A=await Qt(be(Z,"users",De.uid));A.exists()?(n({...De,...A.data()}),A.data().role==="delivery-agent"&&A.data().slug&&t(`/agent/${A.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...De}))}catch(J){console.error("Login error:",J),alert(J.message||"Login failed")}},Cr=async()=>{await WR(ro),n(null)},os=async()=>{try{_(!0);const J=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const _t of J)if(!b[_t]){alert(`Please fill the ${_t} field.`),_(!1);return}const A=(await nu(ro,b.email,s)).user,te=await bt(b.companyName),ue={...b,role:"delivery-agent",slug:te,createdAt:new Date().toISOString()};await kt(A.uid,ue);const Fe={companyName:b.companyName,phoneNumber:b.phoneNumber,whatsappNumber:b.whatsappNumber,rcNumber:b.rcNumber,businessAddress:b.businessAddress,email:b.email,coverageArea:b.coverageArea,operatingHours:b.operatingHours,logoUrl:b.logoUrl,state:b.state,city:b.city,landmark:b.landmark,userId:A.uid,createdAt:new Date().toISOString(),slug:te},{addDoc:st,collection:nt}=await ja(async()=>{const{addDoc:_t,collection:je}=await Promise.resolve().then(()=>ix);return{addDoc:_t,collection:je}},void 0);await st(nt(Z,"deliveryAgents"),Fe),n({...A,...ue}),alert(" Delivery agent signup successful!"),N(!1),p(O)}catch(J){console.error("Delivery agent signup error:",J),alert(J.message||"Delivery agent signup failed")}finally{_(!1)}},[Qs,Ir]=w.useState(!1),[si,Rr]=w.useState("customer"),as=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Cr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Qs?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:si,onChange:J=>Rr(J.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:as.map(J=>l.jsx("option",{value:J.key,children:J.label},J.key))})}),si==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:J=>P(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:z,onChange:J=>F(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:B,onChange:J=>U(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:L,onChange:J=>V(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:H,onChange:J=>K(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Q,onChange:J=>Y(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Xe,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:J=>u(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:J=>f(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:se,onChange:J=>ce(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:J=>m(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),L7.map(J=>l.jsx("option",{value:J,children:J},J))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:J=>T(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S,onChange:J=>I(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Me,onChange:J=>gt(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Re,onChange:J=>Ue(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:tt,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),si==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:ye,onChange:J=>q(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ne,onChange:J=>W(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:le,onChange:J=>ee(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:re,onChange:J=>he(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:me,onChange:J=>ve(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Le,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:we,children:we?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),_e&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",_e.latitude.toFixed(5),", ",_e.longitude.toFixed(5)]})]}),si==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:b.companyName,onChange:J=>p(De=>({...De,companyName:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:b.phoneNumber,onChange:J=>p(De=>({...De,phoneNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:b.whatsappNumber,onChange:J=>p(De=>({...De,whatsappNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:b.rcNumber,onChange:J=>p(De=>({...De,rcNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:b.businessAddress,onChange:J=>p(De=>({...De,businessAddress:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:b.state,onChange:J=>p(De=>({...De,state:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:b.city,onChange:J=>p(De=>({...De,city:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:b.landmark,onChange:J=>p(De=>({...De,landmark:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:b.coverageArea,onChange:J=>p(De=>({...De,coverageArea:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:b.operatingHours,onChange:J=>p(De=>({...De,operatingHours:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:b.logoUrl,onChange:J=>p(De=>({...De,logoUrl:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:b.email,onChange:J=>p(De=>({...De,email:J.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:os,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:g,children:g?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Ir(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:qe,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Ir(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var t2={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(ql,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var _=M(g);_.chunkSize=parseInt(_.chunkSize),g.step||g.chunk||(_.chunkSize=null),this._handle=new S(_),(this._handle.streamer=this)._config=_}).call(this,p),this.parseChunk=function(g,_){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let P=this._config.newline;P||(j=this._config.quoteChar||'"',P=this._handle.guessLineEndings(g,j)),g=[...g.split(P).slice(O)].join(P)}this.isFirstChunk&&b(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(g))!==void 0&&(g=j),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+g,j=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=j.meta.cursor,O=(this._finished||(this._partialLine=O.substring(g-this._baseIndex),this._baseIndex=g),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:j,workerId:c.WORKER_ID,finished:O});else if(b(this._config.chunk)&&!_){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!O||!b(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(g){b(this._config.error)?this._config.error(g):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:g,finished:!1})}}function h(p){var g;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(_){this._input=_,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var _,O=this._config.downloadRequestHeaders;for(_ in O)g.setRequestHeader(_,O[_])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+j));try{g.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(_=>(_=_.getResponseHeader("Content-Range"))!==null?parseInt(_.substring(_.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(_){_=g.statusText||_,this._sendError(new Error(_))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var g,_,O=typeof FileReader<"u";this.stream=function(j){this._input=j,_=j.slice||j.webkitSlice||j.mozSlice,O?((g=new FileReader).onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),j=_.call(j,this._start,P)),g.readAsText(j,this._config.encoding));O||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(g.error)}}function E(p){var g;f.call(this,p=p||{}),this.stream=function(_){return g=_,this._nextChunk()},this._nextChunk=function(){var _,O;if(!this._finished)return _=this._config.chunkSize,g=_?(O=g.substring(0,_),g.substring(_)):(O=g,""),this._finished=!g,this.parseChunk(O)}}function T(p){f.call(this,p=p||{});var g=[],_=!0,O=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):_=!0},this._streamData=N(function(j){try{g.push(typeof j=="string"?j:j.toString(this._config.encoding)),_&&(_=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(p){var g,_,O,j,P=Math.pow(2,53),z=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,L=0,V=0,H=!1,K=!1,Q=[],Y={data:[],errors:[],meta:{}};function se(ne){return p.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function ce(){if(Y&&O&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),O=!1),p.skipEmptyLines&&(Y.data=Y.data.filter(function(re){return!se(re)})),ye()){let re=function(he,me){b(p.transformHeader)&&(he=p.transformHeader(he,me)),Q.push(he)};var ee=re;if(Y)if(Array.isArray(Y.data[0])){for(var ne=0;ye()&&ne<Y.data.length;ne++)Y.data[ne].forEach(re);Y.data.splice(0,1)}else Y.data.forEach(re)}function W(re,he){for(var me=p.header?{}:[],ve=0;ve<re.length;ve++){var _e=ve,Ye=re[ve],Ye=((we,Ve)=>(Ae=>(p.dynamicTypingFunction&&p.dynamicTyping[Ae]===void 0&&(p.dynamicTyping[Ae]=p.dynamicTypingFunction(Ae)),(p.dynamicTyping[Ae]||p.dynamicTyping)===!0))(we)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((Ae=>{if(F.test(Ae)&&(Ae=parseFloat(Ae),z<Ae&&Ae<P))return 1})(Ve)?parseFloat(Ve):B.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(_e=p.header?ve>=Q.length?"__parsed_extra":Q[ve]:_e,Ye=p.transform?p.transform(Ye,_e):Ye);_e==="__parsed_extra"?(me[_e]=me[_e]||[],me[_e].push(Ye)):me[_e]=Ye}return p.header&&(ve>Q.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+ve,V+he):ve<Q.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+ve,V+he)),me}var le;Y&&(p.header||p.dynamicTyping||p.transform)&&(le=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(W),le=Y.data.length):Y.data=W(Y.data,0),p.header&&Y.meta&&(Y.meta.fields=Q),V+=le)}function ye(){return p.header&&Q.length===0}function q(ne,W,le,ee){ne={type:ne,code:W,message:le},ee!==void 0&&(ne.row=ee),Y.errors.push(ne)}b(p.step)&&(j=p.step,p.step=function(ne){Y=ne,ye()?ce():(ce(),Y.data.length!==0&&(L+=ne.data.length,p.preview&&L>p.preview?_.abort():(Y.data=Y.data[0],j(Y,U))))}),this.parse=function(ne,W,le){var ee=p.quoteChar||'"',ee=(p.newline||(p.newline=this.guessLineEndings(ne,ee)),O=!1,p.delimiter?b(p.delimiter)&&(p.delimiter=p.delimiter(ne),Y.meta.delimiter=p.delimiter):((ee=((re,he,me,ve,_e)=>{var Ye,we,Ve,Ae;_e=_e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Qe=0;Qe<_e.length;Qe++){for(var it,lt=_e[Qe],Me=0,gt=0,Re=0,Ue=(Ve=void 0,new C({comments:ve,delimiter:lt,newline:he,preview:10}).parse(re)),Le=0;Le<Ue.data.length;Le++)me&&se(Ue.data[Le])?Re++:(it=Ue.data[Le].length,gt+=it,Ve===void 0?Ve=it:0<it&&(Me+=Math.abs(it-Ve),Ve=it));0<Ue.data.length&&(gt/=Ue.data.length-Re),(we===void 0||Me<=we)&&(Ae===void 0||Ae<gt)&&1.99<gt&&(we=Me,Ye=lt,Ae=gt)}return{successful:!!(p.delimiter=Ye),bestDelimiter:Ye}})(ne,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=ee.bestDelimiter:(O=!0,p.delimiter=c.DefaultDelimiter),Y.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&ee.preview++,g=ne,_=new C(ee),Y=_.parse(g,W,le),ce(),H?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,_.abort(),g=b(p.chunk)?"":g.substring(_.getCharIndex())},this.resume=function(){U.streamer._halted?(H=!1,U.streamer.parseChunk(g,!0)):setTimeout(U.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,_.abort(),Y.meta.aborted=!0,b(p.complete)&&p.complete(Y),g=""},this.guessLineEndings=function(re,ee){re=re.substring(0,1048576);var ee=new RegExp(I(ee)+"([^]*?)"+I(ee),"gm"),le=(re=re.replace(ee,"")).split("\r"),ee=re.split(`
`),re=1<ee.length&&ee[0].length<le[0].length;if(le.length===1||re)return`
`;for(var he=0,me=0;me<le.length;me++)le[me][0]===`
`&&he++;return he>=le.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(p){var g=(p=p||{}).delimiter,_=p.newline,O=p.comments,j=p.step,P=p.preview,z=p.fastMode,F=null,B=!1,U=p.quoteChar==null?'"':p.quoteChar,L=U;if(p.escapeChar!==void 0&&(L=p.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),O===g)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var V=0,H=!1;this.parse=function(K,Q,Y){if(typeof K!="string")throw new Error("Input must be a string");var se=K.length,ce=g.length,ye=_.length,q=O.length,ne=b(j),W=[],le=[],ee=[],re=V=0;if(!K)return Me();if(z||z!==!1&&K.indexOf(U)===-1){for(var he=K.split(_),me=0;me<he.length;me++){if(ee=he[me],V+=ee.length,me!==he.length-1)V+=_.length;else if(Y)return Me();if(!O||ee.substring(0,q)!==O){if(ne){if(W=[],Ae(ee.split(g)),gt(),H)return Me()}else Ae(ee.split(g));if(P&&P<=me)return W=W.slice(0,P),Me(!0)}}return Me()}for(var ve=K.indexOf(g,V),_e=K.indexOf(_,V),Ye=new RegExp(I(L)+I(U),"g"),we=K.indexOf(U,V);;)if(K[V]===U)for(we=V,V++;;){if((we=K.indexOf(U,we+1))===-1)return Y||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:V}),it();if(we===se-1)return it(K.substring(V,we).replace(Ye,U));if(U===L&&K[we+1]===L)we++;else if(U===L||we===0||K[we-1]!==L){ve!==-1&&ve<we+1&&(ve=K.indexOf(g,we+1));var Ve=Qe((_e=_e!==-1&&_e<we+1?K.indexOf(_,we+1):_e)===-1?ve:Math.min(ve,_e));if(K.substr(we+1+Ve,ce)===g){ee.push(K.substring(V,we).replace(Ye,U)),K[V=we+1+Ve+ce]!==U&&(we=K.indexOf(U,V)),ve=K.indexOf(g,V),_e=K.indexOf(_,V);break}if(Ve=Qe(_e),K.substring(we+1+Ve,we+1+Ve+ye)===_){if(ee.push(K.substring(V,we).replace(Ye,U)),lt(we+1+Ve+ye),ve=K.indexOf(g,V),we=K.indexOf(U,V),ne&&(gt(),H))return Me();if(P&&W.length>=P)return Me(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:V}),we++}}else if(O&&ee.length===0&&K.substring(V,V+q)===O){if(_e===-1)return Me();V=_e+ye,_e=K.indexOf(_,V),ve=K.indexOf(g,V)}else if(ve!==-1&&(ve<_e||_e===-1))ee.push(K.substring(V,ve)),V=ve+ce,ve=K.indexOf(g,V);else{if(_e===-1)break;if(ee.push(K.substring(V,_e)),lt(_e+ye),ne&&(gt(),H))return Me();if(P&&W.length>=P)return Me(!0)}return it();function Ae(Re){W.push(Re),re=V}function Qe(Re){var Ue=0;return Ue=Re!==-1&&(Re=K.substring(we+1,Re))&&Re.trim()===""?Re.length:Ue}function it(Re){return Y||(Re===void 0&&(Re=K.substring(V)),ee.push(Re),V=se,Ae(ee),ne&&gt()),Me()}function lt(Re){V=Re,Ae(ee),ee=[],_e=K.indexOf(_,V)}function Me(Re){if(p.header&&!Q&&W.length&&!B){var Ue=W[0],Le=Object.create(null),Te=new Set(Ue);let bt=!1;for(let kt=0;kt<Ue.length;kt++){let Xe=Ue[kt];if(Le[Xe=b(p.transformHeader)?p.transformHeader(Xe,kt):Xe]){let Se,tt=Le[Xe];for(;Se=Xe+"_"+tt,tt++,Te.has(Se););Te.add(Se),Ue[kt]=Se,Le[Xe]++,bt=!0,(F=F===null?{}:F)[Se]=Xe}else Le[Xe]=1,Ue[kt]=Xe;Te.add(Xe)}bt&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:W,errors:le,meta:{delimiter:g,linebreak:_,aborted:H,truncated:!!Re,cursor:re+(Q||0),renamedHeaders:F}}}function gt(){j(Me()),W=[],le=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return V}}function y(p){var g=p.data,_=a[g.workerId],O=!1;if(g.error)_.userError(g.error,g.file);else if(g.results&&g.results.data){var j={abort:function(){O=!0,x(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(b(_.userStep)){for(var P=0;P<g.results.data.length&&(_.userStep({data:g.results.data[P],errors:g.results.errors,meta:g.results.meta},j),!O);P++);delete g.results}else b(_.userChunk)&&(_.userChunk(g.results,j,g.file),delete g.results)}g.finished&&!O&&x(g.workerId,g.results)}function x(p,g){var _=a[p];b(_.userComplete)&&_.userComplete(g),_.terminate(),delete a[p]}function R(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var g,_=Array.isArray(p)?[]:{};for(g in p)_[g]=M(p[g]);return _}function N(p,g){return function(){p.apply(g,arguments)}}function b(p){return typeof p=="function"}return c.parse=function(p,g){var _=(g=g||{}).dynamicTyping||!1;if(b(_)&&(g.dynamicTypingFunction=_,_={}),g.dynamicTyping=_,g.transform=!!b(g.transform)&&g.transform,!g.worker||!c.WORKERS_SUPPORTED)return _=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(p),_=new(g.download?h:E)(g)):p.readable===!0&&b(p.read)&&b(p.on)?_=new T(g):(r.File&&p instanceof File||p instanceof Object)&&(_=new m(g)),_.stream(p);(_=(()=>{var O;return!!c.WORKERS_SUPPORTED&&(O=(()=>{var j=r.URL||r.webkitURL||null,P=n.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=y,O.id=u++,a[O.id]=O)})()).userStep=g.step,_.userChunk=g.chunk,_.userComplete=g.complete,_.userError=g.error,g.step=b(g.step),g.chunk=b(g.chunk),g.complete=b(g.complete),g.error=b(g.error),delete g.worker,_.postMessage({input:p,config:g,workerId:_.id})},c.unparse=function(p,g){var _=!1,O=!0,j=",",P=`\r
`,z='"',F=z+z,B=!1,U=null,L=!1,V=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Q){return g.delimiter.indexOf(Q)!==-1}).length||(j=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(_=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(B=g.skipEmptyLines),typeof g.newline=="string"&&(P=g.newline),typeof g.quoteChar=="string"&&(z=g.quoteChar),typeof g.header=="boolean"&&(O=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");U=g.columns}g.escapeChar!==void 0&&(F=g.escapeChar+z),g.escapeFormulae instanceof RegExp?L=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(z),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return H(null,p,B);if(typeof p[0]=="object")return H(U||Object.keys(p[0]),p,B)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||U),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),H(p.fields||[],p.data||[],B);throw new Error("Unable to serialize unrecognized input");function H(Q,Y,se){var ce="",ye=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(Q)&&0<Q.length),q=!Array.isArray(Y[0]);if(ye&&O){for(var ne=0;ne<Q.length;ne++)0<ne&&(ce+=j),ce+=K(Q[ne],ne);0<Y.length&&(ce+=P)}for(var W=0;W<Y.length;W++){var le=(ye?Q:Y[W]).length,ee=!1,re=ye?Object.keys(Y[W]).length===0:Y[W].length===0;if(se&&!ye&&(ee=se==="greedy"?Y[W].join("").trim()==="":Y[W].length===1&&Y[W][0].length===0),se==="greedy"&&ye){for(var he=[],me=0;me<le;me++){var ve=q?Q[me]:me;he.push(Y[W][ve])}ee=he.join("").trim()===""}if(!ee){for(var _e=0;_e<le;_e++){0<_e&&!re&&(ce+=j);var Ye=ye&&q?Q[_e]:_e;ce+=K(Y[W][Ye],_e)}W<Y.length-1&&(!se||0<le&&!re)&&(ce+=P)}}return ce}function K(Q,Y){var se,ce;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(ce=!1,L&&typeof Q=="string"&&L.test(Q)&&(Q="'"+Q,ce=!0),se=Q.toString().replace(V,F),(ce=ce||_===!0||typeof _=="function"&&_(Q,Y)||Array.isArray(_)&&_[Y]||((ye,q)=>{for(var ne=0;ne<q.length;ne++)if(-1<ye.indexOf(q[ne]))return!0;return!1})(se,c.BAD_DELIMITERS)||-1<se.indexOf(j)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?z+se+z:se)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=C,c.ParserHandle=S,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=E,c.ReadableStreamStreamer=T,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var g=p.config||{},_=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)_.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},g)})}),O(),this;function O(){if(_.length===0)b(p.complete)&&p.complete();else{var P,z,F,B,U=_[0];if(b(p.before)){var L=p.before(U.file,U.inputElem);if(typeof L=="object"){if(L.action==="abort")return P="AbortError",z=U.file,F=U.inputElem,B=L.reason,void(b(p.error)&&p.error({name:P},z,F,B));if(L.action==="skip")return void j();typeof L.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,L.config))}else if(L==="skip")return void j()}var V=U.instanceConfig.complete;U.instanceConfig.complete=function(H){b(V)&&V(H,U.file,U.inputElem),j()},c.parse(U.file,U.instanceConfig)}}function j(){_.splice(0,1),O()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(T.prototype=Object.create(f.prototype)).constructor=T,c})})(t2);var $7=t2.exports;const n2=vh($7);function F7({businessId:t}){const[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,o]=w.useState({}),a=Ur();return w.useEffect(()=>{if(!t)return;const u=br(ke(Z,"chats"),_r("participants","array-contains",t)),c=Ct(u,async f=>{const h=[],m=new Set;f.forEach(T=>{const S=T.data(),I=S.participants.find(C=>C!==t);I&&(h.push({id:T.id,...S,customerId:I}),m.add(I))}),n(h);const E={};await Promise.all(Array.from(m).map(async T=>{const S=await Qt(be(Z,"users",T));S.exists()&&(E[T]=S.data())})),o(E),i(!1)});return()=>c()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(u=>{const c=s[u.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:c.photo||"https://ui-avatars.com/api/?name="+(c.name||c.email||"Customer"),alt:c.name||c.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:c.name||c.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:c.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:u.customerId,chatId:u.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},u.id)})})]})}const gg=["name","ingredient","class","price","image"];function V7(){const[t,e]=w.useState(""),[n,r]=w.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=w.useState(null);if(w.useEffect(()=>{ja(async()=>{const{getAuth:F,onAuthStateChanged:B}=await Promise.resolve().then(()=>rk);return{getAuth:F,onAuthStateChanged:B}},void 0).then(({getAuth:F,onAuthStateChanged:B})=>{const U=F();B(U,async L=>{if(L){const{getDoc:V,doc:H}=await ja(async()=>{const{getDoc:Q,doc:Y}=await Promise.resolve().then(()=>ix);return{getDoc:Q,doc:Y}},void 0),K=await V(H(Z,"users",L.uid));a(K.exists()?K.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=w.useState(null),[f,h]=w.useState(null),[m,E]=w.useState([]),[T,S]=w.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,C]=w.useState(null),[y,x]=w.useState([]),[R,M]=w.useState([]),N=m.filter(F=>{var U,L,V;const B=t.toLowerCase();return((U=F.name)==null?void 0:U.toLowerCase().includes(B))||((L=F.ingredient)==null?void 0:L.toLowerCase().includes(B))||((V=F.class)==null?void 0:V.toLowerCase().includes(B))}),b=In();w.useEffect(()=>{const F=wr(b,async B=>{if(B){c(B);try{const U=await Qt(be(Z,"users",B.uid));U.exists()?h(U.data()):h({role:"customer"})}catch(U){console.error("Error fetching user doc:",U),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[b]),w.useEffect(()=>{if(!u)return;const F=Ct(ke(Z,"products"),B=>{const U=B.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.ownerId===u.uid);E(U)});return()=>F()},[u]),w.useEffect(()=>{if(!u)return;const F=Ct(ke(Z,"batches"),B=>{const U=B.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.uploadedBy===u.uid);M(U)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),g=async F=>{if(F.preventDefault(),!u)return Ee.error("Please log in first");if(!f)return Ee.info("Loading user data...");const{name:B,ingredient:U,class:L,price:V,image:H}=T;if(!B||!U||!L||!V)return Ee.warn("Please fill all required fields");const K=parseInt(V,10);if(isNaN(K)||K<0)return Ee.warn("Price must be a positive number");const{ownerSlug:Q,businessName:Y}=p(),se=(f==null?void 0:f.pharmacist)||null;try{I?(await Zt(be(Z,"products",I),{name:B,ingredient:U,class:L,price:K,image:H||"",ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),C(null)):await es(ke(Z,"products"),{name:B,ingredient:U,class:L,price:K,image:H||"",ownerId:u.uid,ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),S({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(ce){console.error(ce),Ee.error("Error saving medicine")}},_=F=>{const B=F.target.files[0];B&&n2.parse(B,{header:!0,skipEmptyLines:!0,complete:U=>{const L=U.data.map(V=>{const H={};return gg.forEach(K=>H[K]=V[K]||(K==="price"?0:"N/A")),H});x(L)}})},O=async()=>{if(!y.length)return Ee.info("No CSV data to upload");if(!u)return Ee.error("Please log in first");if(!f)return Ee.info("Loading user data...");const F=be(ke(Z,"batches")),B=[],{ownerSlug:U,businessName:L}=p(),V=(f==null?void 0:f.pharmacist)||null;for(let H of y)try{const K=await es(ke(Z,"products"),{name:H.name,ingredient:H.ingredient,class:H.class,price:parseInt(H.price,10)||0,image:H.image==="N/A"?"":H.image,batchId:F.id,ownerId:u.uid,ownerSlug:U||"",businessName:L||"",isPOM:!!H.isPOM,pharmacist:V||null});B.push(K.id)}catch(K){console.error("CSV upload error for row:",H,K)}try{await ar(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:B})}catch(H){console.error("Failed to create batch doc:",H)}alert(` ${B.length} medicines uploaded`),Ee.success(` ${B.length} medicines uploaded`),x([])},j=F=>{S({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),C(F.id),r("add")},P=async F=>{if(window.confirm("Delete this medicine?"))try{await $r(be(Z,"products",F.id)),Ee.success("Medicine deleted.")}catch(B){console.error(B),Ee.error("Error deleting medicine")}},z=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let B of F.medicineIds)await $r(be(Z,"products",B));await $r(be(Z,"batches",F.id)),Ee.success("Batch deleted.")}catch(B){console.error(B),Ee.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsx(B7,{user:u,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:g,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:T.name,onChange:F=>S({...T,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:T.ingredient,onChange:F=>S({...T,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:T.class,onChange:F=>S({...T,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:T.price,onChange:F=>S({...T,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:T.image,onChange:F=>S({...T,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:T.isPOM,onChange:F=>S({...T,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{C(null),S({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:_,style:{marginBottom:"10px"}}),y.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:gg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:y.map((F,B)=>l.jsx("tr",{children:gg.map(U=>l.jsx("td",{children:F[U]},U))},B))})]}),l.jsx("button",{onClick:O,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),R.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:R.map(F=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((B=F.medicineIds)==null?void 0:B.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>z(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>j(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(z7,{userId:u.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(F7,{businessId:u.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function z7({userId:t}){const[e,n]=pe.useState(null),[r,i]=pe.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=pe.useState(!1),[a,u]=pe.useState(!1);pe.useEffect(()=>{const h=be(Z,"users",t);Qt(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await Zt(be(Z,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function B7({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=pe.useState(!1),[s,o]=pe.useState(!1),[a,u]=pe.useState(""),c=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),u(""),o(!1),!navigator.geolocation){u("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async T=>{const S={latitude:T.coords.latitude,longitude:T.coords.longitude};try{await Zt(be(Z,"users",t.uid),{location:S,lat:S.latitude,lng:S.longitude}),n(I=>({...I,location:S,lat:S.latitude,lng:S.longitude})),o(!0)}catch{u("Failed to update location.")}i(!1)},T=>{u("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",c&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",c.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}function U7(t){return pt("MuiAlert",t)}const DS=ct("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function W7(t){return pt("MuiIconButton",t)}const H7=ct("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),q7=["edge","children","className","color","disabled","disableFocusRipple","size"],K7=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${We(r)}`,i&&`edge${We(i)}`,`size${We(s)}`]};return xt(o,W7,e)},G7=Pe(Fx,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${We(n.color)}`],n.edge&&e[`edge${We(n.edge)}`],e[`size${We(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${H7.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Q7=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:u=!1,disableFocusRipple:c=!1,size:f="medium"}=r,h=Ie(r,q7),m=$({},r,{edge:i,color:a,disabled:u,disableFocusRipple:c,size:f}),E=K7(m);return l.jsx(G7,$({className:$e(E.root,o),centerRipple:!0,focusRipple:!c,disabled:u,ref:n},h,{ownerState:m,children:s}))}),Y7=bl(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),X7=bl(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),J7=bl(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Z7=bl(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),eH=bl(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),tH=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],nH=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${We(n||r)}`,`${e}${We(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return xt(s,U7,i)},rH=Pe(Kp,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${We(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?nv:rv,n=t.palette.mode==="light"?rv:nv;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${DS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${DS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),iH=Pe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),sH=Pe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$S=Pe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),FS={success:l.jsx(Y7,{fontSize:"inherit"}),warning:l.jsx(X7,{fontSize:"inherit"}),error:l.jsx(J7,{fontSize:"inherit"}),info:l.jsx(Z7,{fontSize:"inherit"})},VS=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:u,components:c={},componentsProps:f={},icon:h,iconMapping:m=FS,onClose:E,role:T="alert",severity:S="success",slotProps:I={},slots:C={},variant:y="standard"}=r,x=Ie(r,tH),R=$({},r,{color:u,severity:S,variant:y,colorSeverity:u||S}),M=nH(R),N={slots:$({closeButton:c.CloseButton,closeIcon:c.CloseIcon},C),slotProps:$({},f,I)},[b,p]=wS("closeButton",{elementType:Q7,externalForwardedProps:N,ownerState:R}),[g,_]=wS("closeIcon",{elementType:eH,externalForwardedProps:N,ownerState:R});return l.jsxs(rH,$({role:T,elevation:0,ownerState:R,className:$e(M.root,o),ref:n},x,{children:[h!==!1?l.jsx(iH,{ownerState:R,className:M.icon,children:h||m[S]||FS[S]}):null,l.jsx(sH,{ownerState:R,className:M.message,children:s}),i!=null?l.jsx($S,{ownerState:R,className:M.action,children:i}):null,i==null&&E?l.jsx($S,{ownerState:R,className:M.action,children:l.jsx(b,$({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(g,$({fontSize:"small"},_))}))}):null]}))}),oH=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),aH=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),lH=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=$({html:oH(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},aH(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function uH(t){const e=mt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(w.Fragment,{children:[l.jsx(cP,{styles:i=>lH(i,r)}),n]})}function cH(t){return pt("MuiDivider",t)}const zS=ct("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dH=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],fH=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return xt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},cH,r)},hH=Pe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:rr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),pH=Pe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),r2=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,T=Ie(r,dH),S=$({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:E}),I=fH(S);return l.jsx(hH,$({as:a,className:$e(I.root,o),role:h,ref:n,ownerState:S},T,{children:s?l.jsx(pH,{className:I.wrapper,ownerState:S,children:s}):null}))});r2.muiSkipListHighlight=!0;const BS=w.createContext();function mH(t){return pt("MuiGrid",t)}const gH=[0,1,2,3,4,5,6,7,8,9,10],yH=["column-reverse","column","row-reverse","row"],vH=["nowrap","wrap-reverse","wrap"],Wl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],rc=ct("MuiGrid",["root","container","item","zeroMinWidth",...gH.map(t=>`spacing-xs-${t}`),...yH.map(t=>`direction-xs-${t}`),...vH.map(t=>`wrap-xs-${t}`),...Wl.map(t=>`grid-xs-${t}`),...Wl.map(t=>`grid-sm-${t}`),...Wl.map(t=>`grid-md-${t}`),...Wl.map(t=>`grid-lg-${t}`),...Wl.map(t=>`grid-xl-${t}`)]),xH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Oa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function bH({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Cp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${Oa(f)})`;c={flexBasis:h,maxWidth:h}}}s=$({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function _H({theme:t,ownerState:e}){const n=Cp({values:e.direction,breakpoints:t.breakpoints.values});return zr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${rc.item}`]={maxWidth:"none"}),i})}function i2({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function wH({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Cp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=i2({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Oa(f)}`,[`& > .${rc.item}`]:{paddingTop:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${rc.item}`]:{paddingTop:0}}})}return i}function SH({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Cp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=i2({breakpoints:t.breakpoints.values,values:s})),i=zr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Oa(f)})`,marginLeft:`-${Oa(f)}`,[`& > .${rc.item}`]:{paddingLeft:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${rc.item}`]:{paddingLeft:0}}})}return i}function EH(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const TH=Pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=EH(o,c,e));const h=[];return c.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),_H,wH,SH,bH);function CH(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const IH=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=CH(s,u));const f=[];u.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return xt(h,mH,e)},Pt=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiGrid"}),{breakpoints:i}=Vx(),s=Op(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:T=0,wrap:S="wrap",zeroMinWidth:I=!1}=s,C=Ie(s,xH),y=E||T,x=u||T,R=w.useContext(BS),M=f?a||12:R,N={},b=$({},C);i.keys.forEach(_=>{C[_]!=null&&(N[_]=C[_],delete b[_])});const p=$({},s,{columns:M,container:f,direction:h,item:m,rowSpacing:y,columnSpacing:x,wrap:S,zeroMinWidth:I,spacing:T},N,{breakpoints:i.keys}),g=IH(p);return l.jsx(BS.Provider,{value:M,children:l.jsx(TH,$({ownerState:p,className:$e(g.root,o),as:c,ref:n},b))})}),US=ct("MuiListItemIcon",["root","alignItemsFlexStart"]),WS=ct("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function RH(t){return pt("MuiMenuItem",t)}const Hl=ct("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],PH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},AH=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=xt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},RH,o);return $({},o,u)},jH=Pe(Fx,{shouldForwardProp:t=>qr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:PH})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Hl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Hl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:rr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Hl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Hl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${zS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${zS.inset}`]:{marginLeft:52},[`& .${WS.root}`]:{marginTop:0,marginBottom:0},[`& .${WS.inset}`]:{paddingLeft:36},[`& .${US.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${US.root} svg`]:{fontSize:"1.25rem"}}))),HS=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,E=Ie(r,kH),T=w.useContext(av),S=w.useMemo(()=>({dense:o||T.dense||!1,disableGutters:u}),[T.dense,o,u]),I=w.useRef(null);ns(()=>{i&&I.current&&I.current.focus()},[i]);const C=$({},r,{dense:S.dense,divider:a,disableGutters:u}),y=AH(r),x=jn(I,n);let R;return r.disabled||(R=h!==void 0?h:-1),l.jsx(av.Provider,{value:S,children:l.jsx(jH,$({ref:x,role:f,tabIndex:R,component:s,focusVisibleClassName:$e(y.focusVisible,c),className:$e(y.root,m)},E,{ownerState:C,classes:y}))})});var ic=function(){return ic=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ic.apply(this,arguments)};function Xx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Pd=[];function OH(){var t="https://js.paystack.co/v1/inline.js",e=w.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return w.useEffect(function(){if(Pd.includes(t))r({loaded:!0,error:!1});else{Pd.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Pd.indexOf(t);a>=0&&Pd.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var NH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function s2(t){var e=OH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=ic(ic({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,E=c.phone,T=c.email,S=c.amount,I=c.reference,C=c.metadata,y=C===void 0?{}:C,x=c.currency,R=x===void 0?"NGN":x,M=c.channels,N=c.label,b=N===void 0?"":N,p=c.plan,g=p===void 0?"":p,_=c.quantity,O=_===void 0?"":_,j=c.subaccount,P=j===void 0?"":j,z=c.transaction_charge,F=z===void 0?0:z,B=c.bearer,U=B===void 0?"account":B,L=c.split,V=c.split_code;if(n){var H={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:T,firstname:h,lastname:m,phone:E,amount:S,currency:R,plan:g,quantity:O,channels:M,subaccount:P,transaction_charge:F,bearer:U,label:b,metadata:y,split:L,split_code:V,"data-custom-button":c["data-custom-button"]||""};NH(H)}}return w.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var MH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=Xx(t,["text","className","children","onSuccess","onClose"]),a=s2(o);return pe.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},o2=w.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),LH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Xx(t,["children","onSuccess","onClose"]),s=s2(i);return pe.createElement(o2.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},DH=function(t){var e=t.children,n=t.ref,r=w.useContext(o2),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};w.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=Xx(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return pe.createElement(LH,ic({},s,{onSuccess:o,onClose:a}),pe.createElement(DH,{ref:e},n))});async function $H(t){if(!t)return null;const e=br(ke(Z,"coupons"),_r("code","==",t)),n=await en(e);return n.empty?null:n.docs[0].data()}function FH(){var L,V,H;const[t,e]=w.useState(""),[n,r]=w.useState(null),[i,s]=w.useState(""),o=In(),a=Ur(),u=Hs(),[c,f]=w.useState(null),[h,m]=w.useState(((L=u.state)==null?void 0:L.cart)||[]),[E,T]=w.useState(((V=u.state)==null?void 0:V.total)||0),S=h.length===1&&((H=h[0])==null?void 0:H.isConsultation),[I,C]=w.useState("standard"),[y,x]=w.useState(S?0:500),[R,M]=w.useState(1e3),[N,b]=w.useState(E+(S?0:y)),[p,g]=w.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),_="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";w.useEffect(()=>wr(o,async Q=>{if(!Q)return a("/auth");if(f(Q),h.length===0){const Y=be(Z,"carts",Q.uid),se=await Qt(Y);if(se.exists()){const ce=se.data().items||[];m(ce);const ye=ce.reduce((q,ne)=>q+ne.price*(ne.quantity||1),0);T(ye),b(ye+y)}}}),[o,h.length,y,a]),w.useEffect(()=>{let K=h.some(ce=>ce.isPOM)?500:0,Q=y,Y=E,se=0;n&&(n.removePOM&&(K=0),n.removeDelivery&&(Q=0),n.percent>0&&(se=Math.round((Y+K+Q)*(n.percent/100)))),M(K),b(Y+K+Q-se)},[E,y,h,n]),w.useEffect(()=>{x(S?0:I==="standard"?500:3e3)},[I,S]);const O=async()=>{s("");const K=await $H(t.trim().toUpperCase());K?(r(K),s("")):(r(null),s("Invalid coupon code"))},j=()=>S?["name","phone","address","age","complaint"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}):["name","phone","address","city","state"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}),P={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:N*100,publicKey:_},z=async K=>{if(!c||h.length===0)return;const Q=be(ke(Z,"orders"));await ar(Q,{userId:c.uid,items:h,subtotal:E,deliveryFee:y,pomFee:R,total:N,status:"Processing",date:new Date().toISOString(),paymentReference:(K==null?void 0:K.reference)||"COUPON_FREE",deliveryInfo:p,coupon:n||null,deliveryType:I}),await ar(be(Z,"carts",c.uid),{items:[]}),m([]),T(0),b(0),Ee.success(" Payment successful! Order created.");const Y=h.find(ce=>ce.isConsultation&&ce.whatsapp);if(Y){window.location.href=`https://wa.me/${Y.whatsapp}`;return}const se=h.find(ce=>ce.isPOM&&ce.pharmacist&&ce.ownerId);if(se&&se.pharmacist&&se.ownerId){a(`/chat/${se.ownerId}`,{state:{pharmacist:se.pharmacist,businessName:se.businessName}});return}h.some(ce=>ce.isPOM)?a("/medinterface"):a("/orders")},F=()=>{Ee.info("Payment cancelled.")},B=K=>{g({...p,[K.target.name]:K.target.value})},U=()=>{alert(" Please complete all delivery information before proceeding.")};return c?l.jsx(En,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(rf,{children:l.jsxs(sf,{children:[l.jsx(wt,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(wt,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(En,{sx:{mb:2},children:h.map((K,Q)=>l.jsxs(En,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(wt,{children:[K.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",K.quantity||1]})]}),l.jsxs(wt,{fontWeight:500,children:["",K.price*(K.quantity||1)]})]},Q))}),l.jsxs(Pt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Subtotal:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,children:["",E]})}),!S&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Delivery Type:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsx(dP,{fullWidth:!0,size:"small",children:l.jsxs(Gx,{value:I,onChange:K=>C(K.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(HS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(HS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{children:"Delivery Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:y]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{color:R>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:500,color:R>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:R]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{color:"primary",children:"Discount:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{color:"primary",children:["-",Math.round((E+R+(n!=null&&n.removeDelivery?0:y))*(n.percent/100))]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(wt,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(wt,{fontWeight:700,children:["",N]})})]}),l.jsxs(En,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(cr,{size:"small",label:"Coupon code",value:t,onChange:K=>e(K.target.value),sx:{mr:1,flex:1}}),l.jsx(go,{variant:"outlined",onClick:O,children:"Apply"})]}),i&&l.jsx(VS,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(VS,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(r2,{sx:{my:3}}),S?l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Consultation Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Age",name:"age",value:p.age,onChange:B,type:"number"})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:p.complaint,onChange:B,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"City",name:"city",value:p.city,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"State",name:"state",value:p.state,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(cr,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:p.instructions,onChange:B,multiline:!0,minRows:2})})]})]}),l.jsx(En,{sx:{mt:2,textAlign:"center"},children:j()?N>0?l.jsx(MH,{text:"Pay Now ",className:"paystack-button",...P,callback:z,close:F,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>z({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:U,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function VH(){const[t,e]=w.useState([]),[n,r]=w.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=w.useState(null);w.useEffect(()=>{const c=Ct(ke(Z,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await Zt(be(Z,"coupons",i),n),s(null)):await es(ke(Z,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await $r(be(Z,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function zH(){const[t,e]=w.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=w.useState([]),[i,s]=w.useState(null),[o,a]=w.useState({}),[u,c]=w.useState(!1),[f,h]=w.useState("");w.useEffect(()=>{const y=Ct(ke(Z,"deliveryAgents"),x=>{r(x.docs.map(R=>({id:R.id,...R.data()})))});return()=>y()},[]),w.useEffect(()=>{async function y(){const x=br(ke(Z,"deliveryAgents"));(await en(x)).forEach(async M=>{typeof M.data().approved>"u"&&await be(Z,"deliveryAgents",M.id).update({approved:!1})})}y()},[]);const m=y=>{a({...o,[y.target.name]:y.target.value})},E=y=>{s(y.id),a(y)},T=async y=>{await Zt(be(Z,"deliveryAgents",y),o),s(null),a({})},S=async y=>{window.confirm("Delete this delivery agent?")&&await $r(be(Z,"deliveryAgents",y))},I=async y=>{c(!0),h(""),await Zt(be(Z,"deliveryAgents",y),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},C=async y=>{c(!0),h(""),await Zt(be(Z,"deliveryAgents",y),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(y=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===y.id?l.jsxs("form",{onSubmit:x=>{x.preventDefault(),T(y.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(pe.Fragment,{children:[l.jsx("img",{src:y.logoUrl,alt:y.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:y.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:y.businessAddress}),l.jsxs("div",{children:["RC Number: ",y.rcNumber]}),l.jsxs("div",{children:["Phone: ",y.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",y.whatsappNumber]}),l.jsxs("div",{children:["Email: ",y.email]}),l.jsxs("div",{children:["Coverage: ",y.coverageArea]}),l.jsxs("div",{children:["Hours: ",y.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(y),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>S(y.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!y.approved&&l.jsx("button",{onClick:()=>I(y.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),y.approved&&l.jsx("button",{onClick:()=>C(y.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),y.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},y.id))]})})}function BH(){const[t,e]=w.useState([]);w.useEffect(()=>{(async()=>{try{const te=await en(ke(Z,"deliveryAgents"));e(te.docs.map(ue=>({id:ue.id,...ue.data()})))}catch{e([])}})()},[]);const[n,r]=w.useState({}),i=async(A,te)=>{try{const ue=t.find(st=>st.id===te),Fe=(ue==null?void 0:ue.userId)||"";await Zt(be(Z,"orders",A),{riderId:Fe,assignedAgentId:Fe,assignedAgentName:ue?ue.companyName||ue.name||ue.email||ue.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(st=>({...st,[A]:!1})),Ee.success("Order reassigned successfully.")}catch{Ee.error("Failed to reassign order.")}},s=async A=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await Zt(be(Z,"orders",A.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),Ee.success("Order cancelled.")}catch{Ee.error("Failed to cancel order.")}},[o,a]=w.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=w.useState(""),[f,h]=w.useState(""),[m,E]=w.useState(""),[T,S]=w.useState(""),[I,C]=w.useState({}),[y,x]=w.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,b]=pe.useState(null);if(w.useEffect(()=>{ja(async()=>{const{getAuth:A,onAuthStateChanged:te}=await Promise.resolve().then(()=>rk);return{getAuth:A,onAuthStateChanged:te}},void 0).then(({getAuth:A,onAuthStateChanged:te})=>{const ue=A();te(ue,async Fe=>{if(Fe){const{getDoc:st,doc:nt}=await ja(async()=>{const{getDoc:ot,doc:kr}=await Promise.resolve().then(()=>ix);return{getDoc:ot,doc:kr}},void 0),{db:_t}=await ja(async()=>{const{db:ot}=await Promise.resolve().then(()=>j5);return{db:ot}},void 0),je=await st(nt(_t,"users",Fe.uid));b(je.exists()?je.data().role:null)}else b(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,g]=w.useState([]);w.useEffect(()=>{const A=Ct(ke(Z,"businessRegistrations"),te=>{g(te.docs.map(ue=>({id:ue.id,...ue.data()})))});return()=>A()},[]);const _=async(A,te)=>{if(await Zt(be(Z,"businessRegistrations",A.id),{status:te}),te==="declined"){const ue=br(ke(Z,"orders"),_r("userId","==",A.businessId),_r("items","array-contains-any",A.cart)),Fe=await en(ue);for(const st of Fe.docs)await Zt(be(Z,"orders",st.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}Ee.info(`Registration ${te}`)},[O,j]=w.useState(""),[P,z]=w.useState(""),[F,B]=w.useState(""),[U,L]=w.useState(""),[V,H]=w.useState(""),K=()=>{let A=J;O&&(A=A.filter(je=>new Date(je.completedAt||je.date)>=new Date(O))),P&&(A=A.filter(je=>new Date(je.completedAt||je.date)<=new Date(P))),F&&(A=A.filter(je=>je.medicVerifiedBy===F)),U&&(A=A.filter(je=>je.items&&je.items.some(ot=>ot.name&&ot.name.toLowerCase().includes(U.toLowerCase())))),V==="true"&&(A=A.filter(je=>je.items&&je.items.some(ot=>ot.isPOM))),V==="false"&&(A=A.filter(je=>je.items&&!je.items.some(ot=>ot.isPOM)));const te=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],ue=A.map(je=>[je.id,new Date(je.completedAt||je.date).toLocaleString(),qe[je.userId]&&qe[je.userId].email?qe[je.userId].email:je.userId,je.medicVerifiedBy?(Re.concat(Le).find(ot=>ot.id===je.medicVerifiedBy)||{}).name||je.medicVerifiedBy:"",je.total||Rr(je.items||[]),je.items?je.items.map(ot=>`${ot.name} (${ot.quantity||1})`).join("; "):"",je.items?je.items.filter(ot=>ot.isPOM).map(ot=>ot.name).join("; "):""]),Fe=[te,...ue].map(je=>je.map(ot=>`"${String(ot).replace(/"/g,'""')}"`).join(",")).join(`\r
`),st=new Blob([Fe],{type:"text/csv"}),nt=URL.createObjectURL(st),_t=document.createElement("a");_t.href=nt,_t.download=`orders_${Date.now()}.csv`,document.body.appendChild(_t),_t.click(),document.body.removeChild(_t),URL.revokeObjectURL(nt)},[Q,Y]=w.useState(""),[se,ce]=w.useState(null),[ye,q]=w.useState(null),[ne,W]=w.useState([]),[le,ee]=w.useState([]),[re,he]=w.useState(""),[me,ve]=w.useState([]),[_e,Ye]=w.useState([]),[we,Ve]=w.useState("products"),[Ae,Qe]=w.useState({}),[it,lt]=w.useState(null),[Me,gt]=w.useState(!0),[Re,Ue]=w.useState([]),[Le,Te]=w.useState([]),[bt,kt]=w.useState(""),[Xe,Se]=w.useState("date-desc"),tt=In();w.useEffect(()=>{const A=wr(tt,async te=>{if(te){ce(te);const ue=await Qt(be(Z,"users",te.uid));q(ue.exists()?ue.data():{role:"customer"})}else ce(null),q(null)});return()=>A()},[tt]),w.useEffect(()=>{const A=Ct(ke(Z,"products"),ue=>W(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()})))),te=Ct(ke(Z,"batches"),ue=>{ee(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()}))),gt(!1)});return()=>{A(),te()}},[]),w.useEffect(()=>{if(!ye)return;const A=Ct(ke(Z,"users"),te=>ve(te.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>A()},[ye]),w.useEffect(()=>{const A=Ct(ke(Z,"orders"),te=>{const ue=te.docs.map(Fe=>({id:Fe.id,...Fe.data()}));ue.sort((Fe,st)=>new Date(st.date)-new Date(Fe.date)),Ye(ue)});return()=>A()},[]);const qe={};me.forEach(A=>qe[A.id]=A);const Cr=async A=>{if(window.confirm(`Delete medicine: ${A.name}?`))try{await $r(be(Z,"products",A.id)),Ee.success("Medicine deleted.")}catch(te){console.error(te),Ee.error("Error deleting medicine")}},os=async A=>{if(window.confirm(`Delete batch: ${A.name}?`))try{for(let te of A.medicineIds)await $r(be(Z,"products",te));await $r(be(Z,"batches",A.id))}catch(te){console.error(te),alert("Error deleting batch")}},Qs=async(A,te)=>{try{await Zt(be(Z,"users",A),{role:te}),alert("Role updated!")}catch(ue){console.error(ue),alert("Error updating role")}},Ir=A=>Qe(te=>({...te,[A]:!te[A]}));w.useEffect(()=>{en(ke(Z,"verifyMedics")).then(A=>{Ue(A.docs.map(te=>({id:te.id,...te.data(),type:"Prescription Verification"})))}),en(ke(Z,"consultMedics")).then(A=>{Te(A.docs.map(te=>({id:te.id,...te.data(),type:"Consultation"})))})},[]);const si=async A=>{var Fe;const te=(Fe=A.items)==null?void 0:Fe.some(st=>st.isPOM);let ue=null;if(te){if(!Q)return alert("Select a verifying medic before completing POM order.");ue=Q}window.confirm("Mark order as completed?")&&(await Zt(be(Z,"orders",A.id),{status:"Completed",completedBy:se.uid,completedAt:new Date().toISOString(),medicVerifiedBy:ue||null}),alert(" Order marked completed"),Y(""))},Rr=A=>A.reduce((te,ue)=>te+ue.price*(ue.quantity||1),0);if(!se)return l.jsx("p",{children:"Please log in to access admin."});if(!ye)return l.jsx("p",{children:"Loading user data..."});if(ye.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Me)return l.jsx("p",{children:"Loading dashboard..."});const as=_e.filter(A=>A.status==="Processing"||A.status==="In-Progress").filter(A=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[A.userId])==null?void 0:ue.email)||A.userId).toLowerCase().includes(te)||((Fe=A.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((A,te)=>Xe==="date-desc"?new Date(te.date)-new Date(A.date):Xe==="date-asc"?new Date(A.date)-new Date(te.date):Xe==="amount-desc"?(te.total||0)-(A.total||0):Xe==="amount-asc"?(A.total||0)-(te.total||0):0),J=_e.filter(A=>A.status==="Completed"),De=J.filter(A=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[A.userId])==null?void 0:ue.email)||A.userId).toLowerCase().includes(te)||((Fe=A.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((A,te)=>Xe==="date-desc"?new Date(te.completedAt||te.date)-new Date(A.completedAt||A.date):Xe==="date-asc"?new Date(A.completedAt||A.date)-new Date(te.completedAt||te.date):Xe==="amount-desc"?(te.total||0)-(A.total||0):Xe==="amount-asc"?(A.total||0)-(te.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((A,te)=>{var ue,Fe,st,nt,_t;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((ue=A.businessInfo)==null?void 0:ue.businessName)||A.businessId]}),l.jsxs("p",{children:["Email: ",((Fe=A.businessInfo)==null?void 0:Fe.email)||""]}),l.jsxs("p",{children:["Phone: ",((st=A.businessInfo)==null?void 0:st.phone)||""]}),l.jsxs("p",{children:["Address: ",((nt=A.businessInfo)==null?void 0:nt.address)||""]}),l.jsxs("p",{children:["Products: ",(_t=A.cart)==null?void 0:_t.map(je=>je.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:A.status})]}),A.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>_(A,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>_(A,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},A.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>Ve("products"),style:Zo(we==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>Ve("users"),style:Zo(we==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>Ve("orders"),style:Zo(we==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>Ve("medics"),style:Zo(we==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>Ve("deliveryagents"),style:Zo(we==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>Ve("coupons"),style:Zo(we==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",se.email]}),we==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(zH,{})]})]})]}),we==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:re,onChange:A=>he(A.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),le.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:le.filter(A=>{var ue;return re?(((ue=qe[A.uploadedBy])==null?void 0:ue.businessName)||"").toLowerCase().includes(re.toLowerCase()):!0}).map(A=>{var te,ue;return l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:new Date(A.date).toLocaleString()}),l.jsx("td",{children:((te=qe[A.uploadedBy])==null?void 0:te.businessName)||A.uploadedBy}),l.jsx("td",{children:((ue=A.medicineIds)==null?void 0:ue.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>os(A),children:"Delete"})})]},A.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:A=>c(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:A=>h(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:A=>E(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(ne.map(A=>A.class).filter(Boolean))].sort().map(A=>l.jsx("option",{value:A,children:A},A))]}),l.jsxs("select",{value:T||"",onChange:A=>S(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(ne.map(A=>A.ownerId).filter(Boolean))].map(A=>{var te;return l.jsx("option",{value:A,children:((te=qe[A])==null?void 0:te.businessName)||A},A)})]})]}),ne.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ne.filter(A=>{var te,ue;return!(u&&!((te=A.name)!=null&&te.toLowerCase().includes(u.toLowerCase()))||f&&!((ue=A.ingredient)!=null&&ue.toLowerCase().includes(f.toLowerCase()))||m&&A.class!==m||T&&A.ownerId!==T)}).map(A=>{var te;return l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:A.name}),l.jsx("td",{children:A.ingredient}),l.jsx("td",{children:A.class}),l.jsx("td",{children:A.price}),l.jsx("td",{children:((te=qe[A.ownerId])==null?void 0:te.businessName)||A.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Cr(A),children:"Delete"})})]},A.id)})})]})]}),we==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),me.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:yg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:me.map(A=>l.jsxs("tr",{style:vg,children:[l.jsx("td",{children:A.email}),l.jsx("td",{children:A.role}),l.jsx("td",{children:l.jsxs("select",{value:A.role||"customer",onChange:te=>Qs(A.id,te.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>lt(A),children:"View Details"})})]},A.id))})]}),it&&l.jsx(UH,{user:it,medicines:ne.filter(A=>A.ownerId===it.id),orders:_e.filter(A=>A.userId===it.id),onClose:()=>lt(null)})]}),we==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,pending:!A.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:A=>Se(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>z(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...Le].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:U,onChange:A=>L(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>H(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),as.length===0?l.jsx("p",{children:"No pending orders."}):as.map(A=>{var oi,Hn,rn,Yt,Ii;const te=(oi=A.items)==null?void 0:oi.some(Ne=>Ne.isPOM),ue=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",Fe=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,st=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let nt="N/A",_t=null,je=null;if(A.businessId&&qe[A.businessId]){const Ne=qe[A.businessId];nt=`${Ne.address||""}, ${Ne.city||""}, ${Ne.state||""}`,_t=Ne.lat||null,je=Ne.lng||null}const ot=Ae[A.id]?I[A.id]?A.items:(Hn=A.items)==null?void 0:Hn.slice(0,3):[],kr=A.items&&A.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(A.id),children:Ae[A.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((rn=qe[A.userId])==null?void 0:rn.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ue]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Fe&&st?`${Fe}, ${st}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",nt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",_t&&je?`${_t}, ${je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Ne=A.riderId||A.assignedAgentId;let Ft=null;return Ne&&qe[Ne]?(Ft=qe[Ne],`${Ft.companyName||Ft.name||Ft.email||Ne}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Ne&&t.length?(Ft=t.find(Bo=>Bo.id===Ne),Ft?`${Ft.companyName||Ft.name||Ft.id}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Ne):Ne||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Ne=>({...Ne,[A.id]:!Ne[A.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[A.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Ne=>{Ne.target.value&&i(A.id,Ne.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.companyName||Ne.name||Ne.email||Ne.id,Ne.phoneNumber||Ne.whatsappNumber?` (${[Ne.phoneNumber,Ne.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Ne.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!A.riderId&&!A.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):A.status==="cancelled"&&A.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):A.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):A.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(A.riderId||A.assignedAgentId)&&A.status!=="Completed"&&A.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):A.status]})]}),Ae[A.id]&&((Yt=A.items)==null?void 0:Yt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[A.id]?"none":120,overflowY:kr&&!I[A.id]?"hidden":"auto",marginBottom:4},children:ot.map((Ne,Ft)=>l.jsxs("li",{children:[Ne.name," - ",Ne.price," x ",Ne.quantity||1]},Ft))}),kr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>C(Ne=>({...Ne,[A.id]:!Ne[A.id]})),children:I[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Rr(A.items||[]),te&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),te&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Q,onChange:Ne=>Y(Ne.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Re,...Le].map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.name," (",Ne.profession,") - ",Ne.type]},Ne.id))]})]}),l.jsx("button",{onClick:()=>si(A),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(A),children:"Cancel Order"}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString(),l.jsx("br",{}),A.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Ii=Re.find(Ne=>Ne.id===A.medicVerifiedBy))==null?void 0:Ii.name)||A.medicVerifiedBy]})]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,completed:!A.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:A=>Se(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>z(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...Le].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:U,onChange:A=>L(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>H(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),De.length===0?l.jsx("p",{children:"No completed orders found."}):De.map(A=>{var kr,oi,Hn,rn;const te=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",ue=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,Fe=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(A.businessId&&qe[A.businessId]){const Yt=qe[A.businessId];st=`${Yt.address||""}, ${Yt.city||""}, ${Yt.state||""}`,nt=Yt.lat||null,_t=Yt.lng||null}const je=Ae[A.id]?y[A.id]?A.items:(kr=A.items)==null?void 0:kr.slice(0,3):[],ot=A.items&&A.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.completedAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(A.id),children:Ae[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=qe[A.userId])==null?void 0:oi.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[A.id]&&((Hn=A.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:y[A.id]?"none":120,overflowY:ot&&!y[A.id]?"hidden":"auto",marginBottom:4},children:je.map((Yt,Ii)=>l.jsxs("li",{children:[Yt.name," - ",Yt.price," x ",Yt.quantity||1]},Ii))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>x(Yt=>({...Yt,[A.id]:!Yt[A.id]})),children:y[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Rr(A.items||[])]}),A.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((rn=Re.concat(Le).find(Yt=>Yt.id===A.medicVerifiedBy))==null?void 0:rn.name)||A.medicVerifiedBy]}),A.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(A.completedAt).toLocaleString()]})]},A.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(A=>({...A,cancelled:!A.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:A=>kt(A.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:A=>Se(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:O,onChange:A=>j(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:A=>z(A.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:A=>B(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...Le].map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.profession,")"]},A.id))]}),l.jsx("input",{type:"text",value:U,onChange:A=>L(A.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:A=>H(A.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),_e.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):_e.filter(A=>A.status==="cancelled"&&A.cancelledBy==="admin").map(A=>{var kr,oi,Hn;const te=A.deliveryInfo?`${A.deliveryInfo.address||""}, ${A.deliveryInfo.city||""}, ${A.deliveryInfo.state||""}`:"N/A",ue=A.deliveryInfo&&A.deliveryInfo.lat?A.deliveryInfo.lat:null,Fe=A.deliveryInfo&&A.deliveryInfo.lng?A.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(A.businessId&&qe[A.businessId]){const rn=qe[A.businessId];st=`${rn.address||""}, ${rn.city||""}, ${rn.state||""}`,nt=rn.lat||null,_t=rn.lng||null}const je=Ae[A.id]?y[A.id]?A.items:(kr=A.items)==null?void 0:kr.slice(0,3):[],ot=A.items&&A.items.length>3;return l.jsxs("div",{style:xg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",A.deliveryType?A.deliveryType.charAt(0).toUpperCase()+A.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(A.cancelledAt||A.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Ir(A.id),children:Ae[A.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((oi=qe[A.userId])==null?void 0:oi.email)||A.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!A.deliveryInfo||!A.deliveryInfo.address&&!A.deliveryInfo.city&&!A.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[A.id]&&((Hn=A.items)==null?void 0:Hn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:y[A.id]?"none":120,overflowY:ot&&!y[A.id]?"hidden":"auto",marginBottom:4},children:je.map((rn,Yt)=>l.jsxs("li",{children:[rn.name," - ",rn.price," x ",rn.quantity||1]},Yt))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>x(rn=>({...rn,[A.id]:!rn[A.id]})),children:y[A.id]?"Show Less":`Show All (${A.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",A.total||Rr(A.items||[])]}),A.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(A.cancelledAt).toLocaleString()]})]},A.id)})]})]})]}),we==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(WH,{})]}),we==="coupons"&&l.jsx(VH,{})]})}const Zo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),yg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},vg={borderBottom:"1px solid #eee"},xg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function UH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function WH(){const[t,e]=pe.useState([]),[n,r]=pe.useState([]),[i,s]=pe.useState([]),[o,a]=pe.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=pe.useState(!1),[f,h]=pe.useState(null);pe.useEffect(()=>{(async()=>{const I=await en(ke(Z,"verifyMedics"));e(I.docs.map(R=>({id:R.id,...R.data()})));const C=await en(ke(Z,"consultMedics"));r(C.docs.map(R=>({id:R.id,...R.data()})));const y=await en(ke(Z,"users")),x=[];y.docs.forEach(R=>{const M=R.data();M.role==="medicine-manager"&&M.pharmacist&&x.push({...M.pharmacist,id:R.id,online:!0})}),s(x)})()},[]);const m=async(S,I)=>{await Zt(be(Z,S==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),S==="verify"?e(y=>y.map(x=>x.id===I.id?{...x,online:!I.online}:x)):r(y=>y.map(x=>x.id===I.id?{...x,online:!I.online}:x))},E=S=>{a({...o,[S.target.name]:S.target.value})},T=async S=>{S.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(y=>y.trim()),whatsapp:o.whatsapp},C=o.section==="verify"?"verifyMedics":"consultMedics";f?await Zt(be(Z,C,f.id),I):await es(ke(Z,C),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:T,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((S,I)=>(I.online===!0)-(S.online===!0)).map(S=>{let I=[];return Array.isArray(S.languages)?I=S.languages:typeof S.languages=="string"&&(I=S.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["Pharmacy: ",S.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:S.id,section:"verify"}),a({section:"verify",photo:S.photo,name:S.name,profession:S.profession,license:S.license,pharmacyName:S.pharmacyName,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((S,I)=>(I.online===!0)-(S.online===!0)).map(S=>{let I=[];return Array.isArray(S.languages)?I=S.languages:typeof S.languages=="string"&&(I=S.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",S),title:S.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:S.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:S.photo,alt:S.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:S.name})}),l.jsx("div",{children:S.profession}),l.jsxs("div",{children:["License: ",S.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${S.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:S.id,section:"consult"}),a({section:"consult",photo:S.photo,name:S.name,profession:S.profession,license:S.license,languages:Array.isArray(S.languages)?S.languages.join(", "):S.languages,whatsapp:S.whatsapp})},children:"Edit"})]},S.id)})})]})}function HH(){const{slug:t}=hc();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(e2,{storeSlug:t})]})}function qH(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),i=Ur(),s=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:_,photo:O}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!o)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[O&&l.jsx("img",{src:O,alt:_,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",_]})},[o,a]=w.useState(null),[u,c]=w.useState(null),f=In(),{slug:h}=hc(),[m,E]=w.useState(null),[T,S]=w.useState(!0),[I,C]=w.useState([]),[y,x]=w.useState([]),[R,M]=w.useState(""),[N,b]=w.useState(null),p=(_,O,j,P)=>{const z=H=>H*Math.PI/180,B=z(j-_),U=z(P-O),L=Math.sin(B/2)**2+Math.cos(z(_))*Math.cos(z(j))*Math.sin(U/2)**2;return 6371*(2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)))},g=_=>{const P=_*1.64,z=Math.max(1,Math.round(P/25*60));return{drivingKm:P,minutes:z}};return w.useEffect(()=>{const _=wr(f,O=>{a(O)});return()=>_()},[f]),w.useEffect(()=>{if(!m)return;const _=Ct(ke(Z,"orders"),O=>{const z=O.docs.map(F=>({id:F.id,...F.data()})).filter(F=>Array.isArray(F.items)&&F.items.some(B=>B.ownerId===m.uid)).filter(F=>!t.includes(F.id));z.length>0&&(z.forEach(F=>{Ee.info(` New order received! Order ID: ${F.id}`)}),e(F=>[...F,...z.map(B=>B.id)]))});return()=>_()},[m,t]),w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(_=>b({lat:_.coords.latitude,lng:_.coords.longitude}),()=>b(null))},[]),w.useEffect(()=>{if(!h)return;S(!0),(async()=>{const O=br(ke(Z,"users"),_r("slug","==",h)),j=await en(O);if(j.empty)E(null);else{const P=j.docs[0];E({uid:P.id,...P.data()})}S(!1)})()},[h]),w.useEffect(()=>{if(!m)return;const _=br(ke(Z,"products"),_r("ownerId","==",m.uid)),O=Ct(_,j=>{const P=j.docs.map(z=>({id:z.id,...z.data()}));C(P)});return()=>O()},[m]),w.useEffect(()=>{if(!I)return;const _=(F="")=>F.toLowerCase().trim().replace(/\s+/g," "),O={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=_(R),P=(O[j]||j).split(" "),z=I.map(F=>{var B,U;if(N&&((B=m.location)!=null&&B.latitude)&&((U=m.location)!=null&&U.longitude)){const L=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:V}=g(L);return{...F,minutesAway:V}}return{...F,minutesAway:1/0}}).filter(F=>{const B=_(F.name),U=_(F.ingredient),L=_(F.class);return P.some(V=>B.includes(V)||U.includes(V)||L.includes(V))}).sort((F,B)=>F.minutesAway-B.minutesAway);x(z)},[I,R,N,m]),T?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(s,{}),l.jsxs("h2",{children:[" ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:R,onChange:_=>M(_.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),y.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:y.map(_=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[_.image&&l.jsx("img",{src:_.image,alt:_.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:_.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:_.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",_.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",_.price!==void 0?_.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!o)return alert("Please log in first");const O=be(Z,"carts",o.uid),j=await Qt(O);let P=j.exists()?j.data().items||[]:[];const z=P.findIndex(F=>F.name===_.name);z>=0?P[z].quantity+=1:P.push({..._,quantity:1}),await ar(O,{items:P}),c(_.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>c(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),u===_.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),_.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:_.minutesAway<=1?" Right here":` ~${_.minutesAway} mins away`})]},_.id))})]})}function fn(){return typeof window<"u"&&window.innerWidth<=600}function KH(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState("");if(w.useEffect(()=>{async function a(){const u=await en(ke(Z,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:fn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:fn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:fn()?15:16,width:fn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:fn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:fn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:fn()?14:32},children:o.map(a=>l.jsxs(za,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:fn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:fn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:fn()?50:80,height:fn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:fn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:fn()?50:80,height:fn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:fn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:fn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:fn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:fn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:fn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const GH=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},QH=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},qS=["admin","medicine-manager","distributor"],KS=["admin","distributor"];function YH(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState("shop"),[o,a]=w.useState([]),[u,c]=w.useState([]),[f,h]=w.useState(""),[m,E]=w.useState(null),[T,S]=w.useState(null);w.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(x=>E({lat:x.coords.latitude,lng:x.coords.longitude}),()=>E("denied"))},[]),w.useEffect(()=>{const x=Ct(ke(Z,"products"),async R=>{const M=await Promise.all(R.docs.map(async N=>{var p,g;const b={id:N.id,...N.data()};if(b.ownerId){const _=be(Z,"users",b.ownerId),O=await Qt(_);if(O.exists()){const j=O.data();b.businessName=j.businessName||"Unknown Distributor",b.ownerSlug=j.slug||null,b.ownerRole=j.role||null,(p=j.location)!=null&&p.latitude&&((g=j.location)!=null&&g.longitude)&&(b.businessLat=j.location.latitude,b.businessLng=j.location.longitude)}}return b}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>x()},[]),w.useEffect(()=>{if(o.length===0)return;let x=o;if(f.trim()){const R=f.toLowerCase();x=o.filter(M=>M.name&&M.name.toLowerCase().includes(R)||M.ingredient&&M.ingredient.toLowerCase().includes(R)||M.class&&M.class.toLowerCase().includes(R))}m&&m!=="denied"&&(x=x.map(R=>{if(R.businessLat&&R.businessLng){const M=GH(m.lat,m.lng,R.businessLat,R.businessLng),{minutes:N}=QH(M);return{...R,minutesAway:N}}return{...R,minutesAway:1/0}}),x.sort((R,M)=>R.minutesAway-M.minutesAway)),c(x)},[o,f,m]);const I=async x=>{if(!t)return alert("Please login first");try{const R=be(Z,"carts",t.uid),M=await Qt(R);let N=[];M.exists()&&(N=M.data().items||[]);const b=N.findIndex(p=>p.id===x.id);b>=0?N[b].quantity+=1:N.push({...x,quantity:1}),await ar(R,{items:N}),S(`Added ${x.name} to cart!`),setTimeout(()=>S(null),1500)}catch{alert("Error adding to cart")}};if(w.useEffect(()=>{const x=In(),R=wr(x,async M=>{if(!M){e(null),r(null);return}e(M);const N=be(Z,"users",M.uid),b=await Qt(N);r(b.exists()?b.data().role:null)});return()=>R()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!qS.includes(n)&&!KS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const C=qS.includes(n),y=KS.includes(n);return i==="shop"&&!C||i==="add"&&!y?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[C&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),y&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&C&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:x=>h(x.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T&&l.jsx("div",{style:{color:"green",marginBottom:10},children:T}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(x=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[x.registeredOnly&&x.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),x.image&&l.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:x.name}),l.jsx("p",{children:l.jsx("em",{children:x.ingredient})}),l.jsxs("p",{children:["Class: ",x.class]}),l.jsxs("p",{children:["Price: ",x.price]}),Array.isArray(x.moqs)&&x.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",x.moqs.map((R,M)=>l.jsx("span",{style:{marginRight:8},children:R.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",x.businessName]}),x.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:x.minutesAway<=1?" Right here":` ~${x.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(x),children:"Add to Cart"})]},x.id))})]}),i==="add"&&y&&l.jsx(XH,{user:t,role:n})]})}function XH({user:t,role:e}){const[n,r]=pe.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=pe.useState([]),[o,a]=pe.useState(!1);pe.useEffect(()=>{if(e!=="distributor")return;const L=Ct(ke(Z,"businessRegistrations"),V=>{s(V.docs.filter(H=>H.data().distributorId===t.uid&&H.data().status==="approved").map(H=>H.data()))});return()=>L()},[t,e]);const u=(L,V)=>{const H=n.moqs.map((K,Q)=>Q===L?{type:V.target.value}:K);r({...n,moqs:H})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=L=>{r({...n,moqs:n.moqs.filter((V,H)=>H!==L)})},[h,m]=pe.useState(null),[E,T]=pe.useState([]),[S,I]=pe.useState([]),[C,y]=pe.useState([]),[x,R]=pe.useState(!1),[M,N]=pe.useState(null),[b,p]=pe.useState(null);pe.useEffect(()=>{if(!t)return;const L=Ct(ke(Z,"products"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.ownerId===t.uid)),T(H)});return()=>L()},[t]),pe.useEffect(()=>{if(!t)return;const L=Ct(ke(Z,"batches"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.uploadedBy===t.uid)),I(H)});return()=>L()},[t]);function g(){var L;return(L=t==null?void 0:t.email)==null?void 0:L.includes("admin")}const _=L=>r({...n,[L.target.name]:L.target.value}),O=async()=>{const L=!n.registeredOnly;if(r({...n,registeredOnly:L}),e==="distributor"&&(t!=null&&t.uid)){const V=ke(Z,"products"),H=await getDocs(V),K=[];H.docs.forEach(Q=>{if(Q.data().ownerId===t.uid){const se={registeredOnly:L};L?se.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:se.registeredUniqueId=null,K.push(updateDoc(be(Z,"products",Q.id),se))}}),await Promise.all(K),window.location.reload()}},j=async L=>{L.preventDefault(),R(!0),p(null),N(null);try{let V=e,H=null,K=null;if(e==="distributor"){const Y=be(Z,"users",t.uid),se=await Qt(Y);se.exists()&&(H=se.data().slug||se.data().businessSlug||null),n.registeredOnly&&(K=`${t.uid}_${Date.now()}`)}const Q={...n,ownerId:t.uid,ownerRole:V,ownerSlug:H};K&&(Q.registeredUniqueId=K),h?(await ar(be(Z,"products",h),Q,{merge:!0}),m(null),N("Medicine updated!")):(await es(ke(Z,"products"),Q),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}R(!1)},P=L=>{r({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",moqs:L.moqs||[{type:"sachet",value:"",price:""}]}),m(L.id)},z=async L=>{if(window.confirm("Delete this medicine?")){R(!0);try{await $r(be(Z,"products",L.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}R(!1)}},F=L=>{const V=L.target.files[0];V&&n2.parse(V,{header:!0,skipEmptyLines:!0,complete:H=>{y(H.data)},error:()=>p("Failed to parse CSV")})},B=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!C.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),R(!1);return}R(!0),p(null),N(null);const L=be(ke(Z,"batches")),V=[];let H=e,K=null;if(e==="distributor"){const Q=be(Z,"users",t.uid),Y=await Qt(Q);Y.exists()&&(K=Y.data().slug||Y.data().businessSlug||null)}for(let Q of C)try{let Y=[];if(Q.moqs)try{Y=JSON.parse(Q.moqs)}catch{}let se=null;e==="distributor"&&Q.registeredOnly===!0&&(se=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const ce=await es(ke(Z,"products"),{name:Q.name,ingredient:Q.ingredient,class:Q.class,price:parseInt(Q.price,10)||0,image:Q.image||"",batchId:L.id,ownerId:t.uid,ownerRole:H,ownerSlug:K,moqs:Y,registeredOnly:!!Q.registeredOnly,...se?{registeredUniqueId:se}:{}});V.push(ce.id)}catch{}await ar(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:V}),N(`${V.length} medicines uploaded`),y([]),R(!1)},U=async L=>{if(window.confirm("Delete this batch and its medicines?")){R(!0);try{for(let V of L.medicineIds)await $r(be(Z,"products",V));await $r(be(Z,"batches",L.id)),N("Batch deleted")}catch{p("Error deleting batch")}R(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(L=>!L),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((L,V)=>{var H,K,Q;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((H=L.businessInfo)==null?void 0:H.businessName)||L.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((K=L.businessInfo)==null?void 0:K.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=L.businessInfo)==null?void 0:Q.phone)||""})]},V)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:_,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:_,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:_,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:_,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:_,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:O,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((L,V)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:L.type,onChange:H=>u(V,H),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(V),style:{color:"red"},children:""})]},V)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:x,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),C.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:B,disabled:x,children:["Submit CSV (",C.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",g()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:Array.isArray(L.moqs)&&L.moqs.length>0?L.moqs.map((V,H)=>l.jsx("span",{style:{marginRight:8},children:V.type},H)):"-"}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>z(L),children:"Delete"})]})]},L.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",g()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:S.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:L.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>U(L),children:"Delete Batch"})})]},L.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),b&&l.jsx("div",{style:{color:"red",marginTop:10},children:b})]})}function GS({medics:t}){const e=Ur();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(s=>s.trim()).filter(Boolean));const i=()=>{e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:i,children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:n.name}),l.jsx("div",{children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:n.pharmacyName}),l.jsxs("div",{children:["License: ",n.license]}),l.jsxs("div",{children:["Languages: ",r.join(", ")]})]},n.id)})})}function JH(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState("verify"),[o,a]=w.useState("");return w.useEffect(()=>{(async()=>{let f=(await en(ke(Z,"verifyMedics"))).docs.map(E=>({id:E.id,...E.data()}));(await en(ke(Z,"users"))).docs.forEach(E=>{const T=E.data();T.role==="medicine-manager"&&T.pharmacist&&f.push({...T.pharmacist,id:E.id,online:!0})}),e(f);const m=await en(ke(Z,"consultMedics"));r(m.docs.map(E=>({id:E.id,...E.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(GS,{medics:t.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(GS,{medics:n.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}const sl=()=>typeof window<"u"&&window.innerWidth<=600,bg="/pharmastack-logo.png",QS="pharmastack-config",_g="navbarLogoUrl";function ZH(t){return t==="admin"}const eq={background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderBottom:"1px solid #e0e7ff",boxShadow:"0 2px 8px #c7d2fe22",position:"sticky",top:0,zIndex:1e3,width:"100%"},tq=()=>({maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:sl()?"0 8px":"0 24px",height:sl()?54:70,minWidth:0,flexWrap:"nowrap",gap:0}),nq={display:"flex",alignItems:"center",height:"100%",marginLeft:0},rq=()=>({display:"flex",alignItems:"center",gap:sl()?8:24,flexGrow:1,justifyContent:"center",flexWrap:"nowrap",fontSize:sl()?13:16,minWidth:0,overflowX:"auto",whiteSpace:"nowrap",scrollbarWidth:"thin",msOverflowStyle:"auto"}),iq={display:"flex",alignItems:"center",gap:10,justifyContent:"flex-end",minWidth:120},sq={color:"#2d3748",textDecoration:"none",fontWeight:600,fontSize:sl()?13:16,padding:sl()?"6px 8px":"8px 14px",borderRadius:8,transition:"background 0.2s, color 0.2s",whiteSpace:"nowrap",minWidth:0,maxWidth:"100vw",overflow:"hidden",textOverflow:"ellipsis"},oq={color:"#014d4e",borderBottom:"2px solid #014d4e"},YS={fontWeight:900,fontSize:22,color:"#6366f1",letterSpacing:1.2,display:"flex",alignItems:"center",gap:8,textDecoration:"none"},XS={height:120,display:"block",objectFit:"contain",cursor:"pointer",borderRadius:5,background:"transparent"};function Qr({to:t,children:e,...n}){const i=Hs().pathname===t;return l.jsx(za,{to:t,style:{...sq,...i?oq:{}},...n,children:e})}function aq(){var y,x;const[t,e]=w.useState(!1),[n,r]=w.useState(bg),[i,s]=w.useState(!1),o=w.useRef(),a=((y=In().currentUser)==null?void 0:y.email)||"",u=((x=a[0])==null?void 0:x.toUpperCase())||"?";w.useEffect(()=>{(async()=>{try{const M=await Qt(be(Z,"config",QS));M.exists()&&M.data()[_g]?r(M.data()[_g]):r(bg)}catch{r(bg)}})()},[]);const c=async R=>{const M=R.target.files&&R.target.files[0];if(M){s(!0);try{const N=new FileReader;N.onload=async b=>{const p=b.target.result;await ar(be(Z,"config",QS),{[_g]:p},{merge:!0}),r(p),s(!1)},N.readAsDataURL(M)}catch{alert("Logo upload failed. Please try again."),s(!1)}}};Ur();const[f,h]=w.useState(0),[m,E]=w.useState(null);w.useEffect(()=>{const R=In();let M=null;const N=wr(R,b=>{if(M&&M(),b){const p=be(Z,"carts",b.uid);M=Ct(p,g=>{if(g.exists()){const _=g.data().items||[];h(_.length)}else h(0)})}else h(0)});return()=>{N(),M&&M()}},[]);const I=Hs().pathname.match(/^\/store\/([^\/]+)/),C=I?I[1]:null;return w.useEffect(()=>{const R=In(),M=wr(R,async N=>{if(N){const b=await Qt(be(Z,"users",N.uid));E(b.exists()?b.data().role:null)}else E(null)});return()=>M()},[]),l.jsx("nav",{style:eq,children:l.jsxs("div",{style:tq(),children:[l.jsx("div",{style:nq,children:ZH(m)?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",ref:o,style:{display:"none"},onChange:c,disabled:i}),l.jsx(za,{to:"/",style:YS,onClick:R=>{R.preventDefault(),i||o.current.click()},children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:{...XS,border:i?"2px solid #fbbf24":"2px dashed #b3e5fc",opacity:i?.5:1},title:i?"Uploading...":"Click to upload new logo"})})]}):l.jsx(za,{to:"/",style:YS,children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:XS})})}),l.jsx("div",{style:rq(),children:m!=="delivery-agent"&&l.jsxs(l.Fragment,{children:[C?l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:`/store/${C}`,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Qr,{to:`/store/${C}/cart`,children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:"/shop",children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Qr,{to:"/cart",children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}),l.jsx(Qr,{to:"/orders",children:"Orders"}),m!=="medicine-manager"&&l.jsx(Qr,{to:"/medinterface",children:"Medinterface"}),!C&&m&&m!=="customer"&&l.jsxs(l.Fragment,{children:[(m==="medicine-manager"||m==="admin"||m==="delivery-agent")&&l.jsx(Qr,{to:"/add-medicine",children:"Add Medicine"}),m==="admin"&&l.jsx(Qr,{to:"/admin",children:"Admin"}),(m==="delivery-agent"||m==="admin")&&l.jsx(Qr,{to:"/agents",children:"All Agents"})]})]})}),l.jsx("div",{style:iq,children:m?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{onClick:()=>e(!t),style:{width:38,height:38,borderRadius:"50%",background:"#00796b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},title:a,children:u}),l.jsx("button",{onClick:async()=>{await In().signOut(),window.location.href="/pharmastack/#/auth"},style:{width:38,height:38,borderRadius:"50%",background:"#e53935",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"none",marginLeft:0,cursor:"pointer",fontSize:18,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"background 0.2s"},title:"Sign Out",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M13.5 13.5L17 10M17 10L13.5 6.5M17 10H7",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round"})]})})]}),t&&l.jsxs("div",{style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:a}),l.jsx("button",{onClick:async()=>{await In().signOut(),window.location.href="/pharmastack/#/auth"},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qr,{to:"/auth",children:"Login"}),l.jsx(Qr,{to:"/auth",children:"Signup"})]})})]})})}function lq(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("");function o(q){if(!i.trim())return q;const ne=i.trim().toLowerCase();return q.filter(W=>{var _e,Ye,we,Ve,Ae,Qe,it,lt,Me,gt,Re,Ue,Le,Te,bt,kt;const le=(((_e=E[W.userId])==null?void 0:_e.email)||"").toLowerCase(),ee=(W.items&&W.items[0]&&((Ye=c[W.items[0].ownerId])==null?void 0:Ye.name)||"").toLowerCase(),re=((((we=W.deliveryInfo)==null?void 0:we.address)||"")+" "+(((Ve=W.deliveryInfo)==null?void 0:Ve.city)||"")+" "+(((Ae=W.deliveryInfo)==null?void 0:Ae.state)||"")).toLowerCase(),he=W.items&&W.items[0]&&((((Qe=c[W.items[0].ownerId])==null?void 0:Qe.address)||"")+" "+(((it=c[W.items[0].ownerId])==null?void 0:it.city)||"")+" "+(((lt=c[W.items[0].ownerId])==null?void 0:lt.state)||"")).toLowerCase()||"",me=[(Me=W.deliveryInfo)==null?void 0:Me.lat,(gt=W.deliveryInfo)==null?void 0:gt.lng,(Le=c[(Ue=(Re=W.items)==null?void 0:Re[0])==null?void 0:Ue.ownerId])==null?void 0:Le.lat,(kt=c[(bt=(Te=W.items)==null?void 0:Te[0])==null?void 0:bt.ownerId])==null?void 0:kt.lng].filter(Boolean).join(",").toLowerCase(),ve=(W.items||[]).map(Xe=>Xe.name).join(", ").toLowerCase();return le.includes(ne)||ee.includes(ne)||re.includes(ne)||he.includes(ne)||me.includes(ne)||ve.includes(ne)})}const[a,u]=pe.useState("processing"),[c,f]=w.useState({});w.useEffect(()=>{const q=Ct(ke(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();ee.role==="medicine-manager"&&(W[le.id]={name:ee.businessName||le.id,address:ee.businessAddress||ee.address||"-",lat:ee.lat||ee.latitude||null,lng:ee.lng||ee.longitude||null})}),f(W)});return()=>q()},[]);const[h,m]=w.useState(!0);w.useEffect(()=>{const q=In(),ne=wr(q,W=>{e(W),m(!1)});return()=>ne()},[]),w.useEffect(()=>{if(h||!t)return;const q=Ct(ke(Z,"orders"),ne=>{const ee=ne.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.status==="Processing"&&!re.assignedAgentId&&re.deliveryType&&re.deliveryType.toLowerCase()==="express").filter(re=>!n.includes(re.id));ee.length>0&&(ee.forEach(re=>{Ee.info(` New express delivery order! Order ID: ${re.id}`)}),r(re=>[...re,...ee.map(he=>he.id)]))});return()=>q()},[h,t,n]);const[E,T]=w.useState({});w.useEffect(()=>{const q=Ct(ke(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();W[le.id]=ee.email||le.id}),T(W)});return()=>q()},[]);const[S,I]=w.useState([]),[C,y]=w.useState([]),[x,R]=w.useState([]),[M,N]=w.useState(()=>{const q=localStorage.getItem("agentCanceledOrders");return q?JSON.parse(q):[]}),[b,p]=w.useState({}),[g,_]=w.useState({}),[O,j]=w.useState(null),{slug:P}=hc(),[z,F]=w.useState(null),[B,U]=w.useState(!1),[L,V]=w.useState(!0),[H,K]=w.useState("availability");w.useEffect(()=>{if(h||!t)return;const q=Ct(ke(Z,"orders"),ne=>{const W=ne.docs.map(le=>({id:le.id,...le.data()}));I(W.filter(le=>le.status==="Completed"&&le.assignedAgentId===t.uid)),R(W.filter(le=>le.status==="In-Progress"&&le.assignedAgentId===t.uid)),y(W.filter(le=>le.status==="Processing"&&!le.assignedAgentId&&!M.some(ee=>ee.id===le.id)&&le.deliveryType&&le.deliveryType.toLowerCase()==="express"))});return()=>q()},[h,t,M]);const Q=async q=>{j(q);try{await Zt(be(Z,"orders",q),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:z.slug,assignedAgentName:z.companyName,companyName:z.companyName,agentPhoneNumber:z.phoneNumber||"",agentWhatsappNumber:z.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),Ee.success("Order accepted!")}catch{Ee.error("Failed to accept order")}j(null)},Y=async q=>{try{await Zt(be(Z,"orders",q),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),Ee.success("Order marked as delivered!")}catch{Ee.error("Failed to mark as delivered")}},se=async q=>{try{await Zt(be(Z,"orders",q),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),Ee.info("Order moved back to processing.")}catch{Ee.error("Failed to move order back to processing")}},ce=q=>{const ne=C.find(W=>W.id===q)||x.find(W=>W.id===q);ne&&(N(W=>{const le=[...W,ne];return localStorage.setItem("agentCanceledOrders",JSON.stringify(le)),le}),u("canceled"))};w.useEffect(()=>{const q=ne=>{ne.key==="agentCanceledOrders"&&N(ne.newValue?JSON.parse(ne.newValue):[])};return window.addEventListener("storage",q),()=>window.removeEventListener("storage",q)},[]);const ye=async()=>{if(z){U(!0);try{const q=be(Z,"deliveryAgents",z.id);await Zt(q,{available:!z.available}),F({...z,available:!z.available}),Ee.success("Availability updated.")}catch{Ee.error("Failed to update availability")}U(!1)}};return w.useEffect(()=>{async function q(){V(!0);const W=(await en(ke(Z,"deliveryAgents"))).docs.map(re=>re.data());console.log("All agent slugs:",W.map(re=>re.slug));const le=br(ke(Z,"deliveryAgents"),_r("slug","==",P),_r("approved","==",!0)),ee=await en(le);ee.empty?F(null):F({id:ee.docs[0].id,...ee.docs[0].data()}),V(!1)}q()},[P]),L||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):z?!t||t.uid!==z.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:z.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:z.companyName}),l.jsxs("div",{children:["Phone: ",z.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",z.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",z.rcNumber]}),l.jsxs("div",{children:["Address: ",z.businessAddress]}),l.jsxs("div",{children:["Email: ",z.email]}),l.jsxs("div",{children:["Coverage: ",z.coverageArea]}),l.jsxs("div",{children:["Hours: ",z.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="availability"?"2px solid #1976d2":"1px solid #ccc",background:H==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="orders"?"2px solid #1976d2":"1px solid #ccc",background:H==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[H==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",z.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ye,disabled:B,children:z.available?"Set Not Available":"Set Available"})]})]}),H==="orders"&&(z.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:q=>s(q.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(M).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},q.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(C).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(C).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof q.deliveryType," | ",JSON.stringify(q.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;let re=W.lat,he=W.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),re&&he?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",re,", ",he]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Q(q.id),disabled:O===q.id,children:O===q.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>ce(q.id),children:"Cancel Order"})]})]},q.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(x).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(x).map(q=>{var ee;const ne=!!b[q.id],W=!!g[q.id],le=async()=>{await Y(q.id),p(re=>({...re,[q.id]:!0})),_(re=>({...re,[q.id]:!0})),setTimeout(()=>_(re=>({...re,[q.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const re=c[q.items[0].ownerId],he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:re.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):he}),re.lat&&re.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",re.lat,", ",re.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const re=q.deliveryInfo||{},he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;let ve=re.lat,_e=re.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):he}),ve&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ve,", ",_e]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=q.items)==null?void 0:ee.map(re=>`${re.name} x${re.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:le,disabled:ne,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:()=>se(q.id),disabled:ne,children:"Failed"})]}),W&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),ne&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},q.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(S).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(S).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",q.completedAt?new Date(q.completedAt).toLocaleString():"-"]})]},q.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function JS(){const[t,e]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{async function i(){r(!0);const s=br(ke(Z,"deliveryAgents"),_r("approved","==",!0)),o=await en(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(za,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const uq=Mx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function cq(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function dq(){var p,g;const{businessId:t}=hc(),e=Hs(),n=Ur(),[r,i]=w.useState(null),[s,o]=w.useState(null),[a,u]=w.useState([]),[c,f]=w.useState(""),[h,m]=w.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,T]=w.useState(((g=e.state)==null?void 0:g.businessName)||"Pharmacy"),[S,I]=w.useState(null),[C,y]=w.useState(null),[x,R]=w.useState(!1),M=w.useRef(null);w.useEffect(()=>{const _=In(),O=wr(_,j=>{j?i(j):n("/auth")});return()=>O()},[n]),w.useEffect(()=>{h&&E||t&&Qt(be(Z,"users",t)).then(_=>{if(_.exists()){const O=_.data();m(O.pharmacist||null),T(O.businessName||"Pharmacy")}})},[t,h,E]),w.useEffect(()=>{if(!r||!t)return;const _=ke(Z,"chats"),O=br(_,_r("participants","array-contains",r.uid));en(O).then(j=>{let P=null;j.forEach(z=>{z.data().participants.includes(t)&&(P=z.id)}),P?o(P):es(_,{participants:[r.uid,t],createdAt:Uy()}).then(z=>o(z.id))})},[r,t]),w.useEffect(()=>{if(!s)return;const _=br(ke(Z,"chats",s,"messages"),oR("timestamp","asc")),O=Ct(_,j=>{u(j.docs.map(P=>({id:P.id,...P.data()})))});return()=>O()},[s]),w.useEffect(()=>{var _;(_=M.current)==null||_.scrollIntoView({behavior:"smooth"})},[a]);const N=async _=>{if(_.preventDefault(),!c.trim()&&!S||!r||!s)return;let O=null,j=!1;if(S){R(!0);try{const{url:P,isBase64:z}=await cq(S);O=P,j=z}catch{alert("Image upload failed")}R(!1)}await es(ke(Z,"chats",s,"messages"),{text:c,image:O||null,isBase64:j,sender:r.uid,senderName:r.displayName||r.email,timestamp:Uy()}),f(""),I(null),y(null)},b=_=>{const O=_.target.files[0];O&&(I(O),y(URL.createObjectURL(O)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(_=>l.jsxs("div",{style:{marginBottom:10,textAlign:_.sender===(r==null?void 0:r.uid)?"right":"left"},children:[_.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:_.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),_.text&&l.jsx("span",{style:{background:_.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:_.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:_.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:_.senderName})]},_.id)),l.jsx("div",{ref:M})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:c,onChange:_=>f(_.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:b}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),C&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:C,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{I(null),y(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:x?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:x?"not-allowed":"pointer"},disabled:x,children:x?"Sending...":"Send"})]})]}):null}Cg.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsxs(A8,{theme:uq,children:[l.jsx(uH,{}),l.jsx(PN,{children:l.jsxs(l.Fragment,{children:[l.jsx(aq,{}),l.jsx(fq,{}),l.jsx(JP,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(SN,{children:[l.jsx(hn,{path:"/agent/:slug",element:l.jsx(lq,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(JS,{})}),l.jsx(hn,{path:"/",element:l.jsx(k7,{})}),l.jsx(hn,{path:"/shop",element:l.jsx(A7,{})}),l.jsx(hn,{path:"/cart",element:l.jsx(e2,{})}),l.jsx(hn,{path:"/auth",element:l.jsx(D7,{})}),l.jsx(hn,{path:"/orders",element:l.jsx(O7,{})}),l.jsx(hn,{path:"/add-medicine",element:l.jsx(V7,{})}),l.jsx(hn,{path:"/payment",element:l.jsx(FH,{})}),l.jsx(hn,{path:"/admin",element:l.jsx(BH,{})}),l.jsx(hn,{path:"/store",element:l.jsx(KH,{})}),l.jsx(hn,{path:"/store/:slug",element:l.jsx(qH,{})}),l.jsx(hn,{path:"/store/:slug/cart",element:l.jsx(HH,{})}),l.jsx(hn,{path:"/restock",element:l.jsx(YH,{})}),l.jsx(hn,{path:"/medinterface",element:l.jsx(JH,{})}),l.jsx(hn,{path:"/businesses",element:l.jsx(N5,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(JS,{})}),l.jsx(hn,{path:"/chat/:businessId",element:l.jsx(dq,{})})]}),l.jsx(RA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function fq(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Ur();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
