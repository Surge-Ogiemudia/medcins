function RP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ei(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var rE={exports:{}},vh={},iE={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),kP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),jP=Symbol.for("react.profiler"),OP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),$P=Symbol.for("react.lazy"),Ub=Symbol.iterator;function FP(t){return t===null||typeof t!="object"?null:(t=Ub&&t[Ub]||t["@@iterator"],typeof t=="function"?t:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function rl(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=rl.prototype;function wv(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}var Sv=wv.prototype=new lE;Sv.constructor=wv;oE(Sv,rl.prototype);Sv.isPureReactComponent=!0;var Wb=Array.isArray,uE=Object.prototype.hasOwnProperty,Ev={current:null},cE={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uE.call(e,r)&&!cE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tc,type:t,key:s,ref:o,props:i,_owner:Ev.current}}function VP(t,e){return{$$typeof:tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===tc}function zP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hb=/\/+/g;function gm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zP(""+t.key):e.toString(36)}function Rd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tc:case kP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gm(o,0):r,Wb(i)?(n="",t!=null&&(n=t.replace(Hb,"$&/")+"/"),Rd(i,e,n,"",function(c){return c})):i!=null&&(Tv(i)&&(i=VP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wb(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+gm(s,a);o+=Rd(s,e,n,u,i)}else if(u=FP(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+gm(s,a++),o+=Rd(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(t,e,n){if(t==null)return t;var r=[],i=0;return Rd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},kd={transition:null},UP={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:kd,ReactCurrentOwner:Ev};function fE(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!Tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=rl;et.Fragment=PP;et.Profiler=jP;et.PureComponent=wv;et.StrictMode=AP;et.Suspense=LP;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;et.act=fE;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ev.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)uE.call(e,u)&&!cE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tc,type:t.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:NP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OP,_context:t},t.Consumer=t};et.createElement=dE;et.createFactory=function(t){var e=dE.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:MP,render:t}};et.isValidElement=Tv;et.lazy=function(t){return{$$typeof:$P,_payload:{_status:-1,_result:t},_init:BP}};et.memo=function(t,e){return{$$typeof:DP,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=kd.transition;kd.transition={};try{t()}finally{kd.transition=e}};et.unstable_act=fE;et.useCallback=function(t,e){return Yn.current.useCallback(t,e)};et.useContext=function(t){return Yn.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};et.useEffect=function(t,e){return Yn.current.useEffect(t,e)};et.useId=function(){return Yn.current.useId()};et.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return Yn.current.useMemo(t,e)};et.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};et.useRef=function(t){return Yn.current.useRef(t)};et.useState=function(t){return Yn.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return Yn.current.useTransition()};et.version="18.3.1";iE.exports=et;var b=iE.exports;const pe=yh(b),of=RP({__proto__:null,default:pe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP=b,HP=Symbol.for("react.element"),qP=Symbol.for("react.fragment"),KP=Object.prototype.hasOwnProperty,GP=WP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QP={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KP.call(e,r)&&!QP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HP,type:t,key:s,ref:o,props:i,_owner:GP.current}}vh.Fragment=qP;vh.jsx=hE;vh.jsxs=hE;rE.exports=vh;var l=rE.exports;function pE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pE(t))&&(r&&(r+=" "),r+=e);return r}function YP(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}YP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nc=t=>typeof t=="number"&&!isNaN(t),yo=t=>typeof t=="string",Ki=t=>typeof t=="function",XP=t=>yo(t)||nc(t),wg=t=>yo(t)||Ki(t)?t:null,JP=(t,e)=>t===!1||nc(t)&&t>0?t:e,Sg=t=>b.isValidElement(t)||yo(t)||Ki(t)||nc(t);function ZP(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function eA({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,E=n?`${e}--${o}`:e,T=b.useRef(0);return b.useLayoutEffect(()=>{let _=c.current,I=m.split(" "),C=v=>{v.target===c.current&&(h(),_.removeEventListener("animationend",C),_.removeEventListener("animationcancel",C),T.current===0&&v.type!=="animationcancel"&&_.classList.remove(...I))};_.classList.add(...I),_.addEventListener("animationend",C),_.addEventListener("animationcancel",C)},[]),b.useEffect(()=>{let _=c.current,I=()=>{_.removeEventListener("animationend",I),r?ZP(_,u,i):u()};f||(a?I():(T.current=1,_.className+=` ${E}`,_.addEventListener("animationend",I)))},[f]),pe.createElement(pe.Fragment,null,s)}}function qb(t,e){return{content:mE(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function mE(t,e,n=!1){return b.isValidElement(t)&&!yo(t.type)?b.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ki(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function tA({closeToast:t,theme:e,ariaLabel:n="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nA({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let E=Me("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),T=Ki(s)?s({rtl:u,type:r,defaultClassName:E}):Me(E,s),_={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:m,..._}))}var rA=1,gE=()=>`${rA++}`;function iA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=v=>(c.add(v),()=>c.delete(v)),h=()=>{o=Array.from(u.values()),c.forEach(v=>v())},m=({containerId:v,toastId:w,updateId:P})=>{let M=v?v!==t:t!==1,N=u.has(w)&&P==null;return M||N},E=(v,w)=>{u.forEach(P=>{var M;(w==null||w===P.props.toastId)&&((M=P.toggle)==null||M.call(P,v))})},T=v=>{var w,P;(P=(w=v.props)==null?void 0:w.onClose)==null||P.call(w,v.removalReason),v.isActive=!1},_=v=>{if(v==null)u.forEach(T);else{let w=u.get(v);w&&T(w)}h()},I=()=>{i-=s.length,s=[]},C=v=>{var w,P;let{toastId:M,updateId:N}=v.props,S=N==null;v.staleId&&u.delete(v.staleId),v.isActive=!0,u.set(M,v),h(),n(qb(v,S?"added":"updated")),S&&((P=(w=v.props).onOpen)==null||P.call(w))};return{id:t,props:a,observe:f,toggle:E,removeToast:_,toasts:u,clearQueue:I,buildToast:(v,w)=>{if(m(w))return;let{toastId:P,updateId:M,data:N,staleId:S,delay:p}=w,g=M==null;g&&i++;let x={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(w).filter(([j,R])=>R!=null)),toastId:P,updateId:M,data:N,isIn:!1,className:wg(w.className||a.toastClassName),progressClassName:wg(w.progressClassName||a.progressClassName),autoClose:w.isLoading?!1:JP(w.autoClose,a.autoClose),closeToast(j){u.get(P).removalReason=j,_(P)},deleteToast(){let j=u.get(P);if(j!=null){if(n(qb(j,"removed")),u.delete(P),i--,i<0&&(i=0),s.length>0){C(s.shift());return}h()}}};x.closeButton=a.closeButton,w.closeButton===!1||Sg(w.closeButton)?x.closeButton=w.closeButton:w.closeButton===!0&&(x.closeButton=Sg(a.closeButton)?a.closeButton:!0);let A={content:v,props:x,staleId:S};a.limit&&a.limit>0&&i>a.limit&&g?s.push(A):nc(p)?setTimeout(()=>{C(A)},p):C(A)},setProps(v){a=v},setToggle:(v,w)=>{let P=u.get(v);P&&(P.toggle=w)},isToastActive:v=>{var w;return(w=u.get(v))==null?void 0:w.isActive},getSnapshot:()=>o}}var Kn=new Map,vu=[],Eg=new Set,sA=t=>Eg.forEach(e=>e(t)),yE=()=>Kn.size>0;function oA(){vu.forEach(t=>xE(t.content,t.options)),vu=[]}var aA=(t,{containerId:e})=>{var n;return(n=Kn.get(e||1))==null?void 0:n.toasts.get(t)};function vE(t,e){var n;if(e)return!!((n=Kn.get(e))!=null&&n.isToastActive(t));let r=!1;return Kn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function lA(t){if(!yE()){vu=vu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||XP(t))Kn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Kn.get(t.containerId);e?e.removeToast(t.id):Kn.forEach(n=>{n.removeToast(t.id)})}}var uA=(t={})=>{Kn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function xE(t,e){Sg(t)&&(yE()||vu.push({content:t,options:e}),Kn.forEach(n=>{n.buildToast(t,e)}))}function cA(t){var e;(e=Kn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function bE(t,e){Kn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function dA(t){let e=t.containerId||1;return{subscribe(n){let r=iA(e,t,sA);Kn.set(e,r);let i=r.observe(n);return oA(),()=>{i(),Kn.delete(e)}},setProps(n){var r;(r=Kn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Kn.get(e))==null?void 0:n.getSnapshot()}}}function fA(t){return Eg.add(t),()=>{Eg.delete(t)}}function hA(t){return t&&(yo(t.toastId)||nc(t.toastId))?t.toastId:gE()}function rc(t,e){return xE(t,e),e.toastId}function xh(t,e){return{...e,type:e&&e.type||t,toastId:hA(e)}}function bh(t){return(e,n)=>rc(e,xh(t,n))}function Se(t,e){return rc(t,xh("default",e))}Se.loading=(t,e)=>rc(t,xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function pA(t,{pending:e,error:n,success:r},i){let s;e&&(s=yo(e)?Se.loading(e,i):Se.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){Se.dismiss(s);return}let m={type:c,...o,...i,data:h},E=yo(f)?{render:f}:f;return s?Se.update(s,{...m,...E}):Se(E.render,{...m,...E}),h},u=Ki(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}Se.promise=pA;Se.success=bh("success");Se.info=bh("info");Se.error=bh("error");Se.warning=bh("warning");Se.warn=Se.warning;Se.dark=(t,e)=>rc(t,xh("default",{theme:"dark",...e}));function mA(t){lA(t)}Se.dismiss=mA;Se.clearWaitingQueue=uA;Se.isActive=vE;Se.update=(t,e={})=>{let n=aA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:gE()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,rc(o,s)}};Se.done=t=>{Se.update(t,{progress:1})};Se.onChange=fA;Se.play=t=>bE(!0,t);Se.pause=t=>bE(!1,t);function gA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=b.useRef(dA(t)).current;i(t);let s=(e=b.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:vE,count:s==null?void 0:s.length}}function yA(t){let[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;cA({id:t.toastId,containerId:t.containerId,fn:n}),b.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{E()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||C(),window.addEventListener("focus",I),window.addEventListener("blur",C)}function E(){window.removeEventListener("focus",I),window.removeEventListener("blur",C)}function T(S){if(t.draggable===!0||t.draggable===S.pointerType){v();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(S){let{top:p,bottom:g,left:x,right:A}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=x&&S.clientX<=A&&S.clientY>=p&&S.clientY<=g?C():I()}function I(){n(!0)}function C(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",M)}function w(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",M)}function P(S){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&C(),t.draggableDirection==="x"?o.delta=S.clientX-o.start:o.delta=S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1);let g=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${g},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function M(){w();let S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}let N={onPointerDown:T,onPointerUp:_};return a&&u&&(N.onMouseEnter=C,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=S=>{f&&f(S),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var vA=typeof window<"u"?b.useLayoutEffect:b.useEffect,_h=({theme:t,type:e,isLoading:n,...r})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function xA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _A(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wA(t){return pe.createElement(_h,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function SA(){return pe.createElement("div",{className:"Toastify__spinner"})}var Tg={info:bA,warning:xA,success:_A,error:wA,spinner:SA},EA=t=>t in Tg;function TA({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Ki(r)?i=r({...s,isLoading:n}):b.isValidElement(r)?i=b.cloneElement(r,s):n?i=Tg.spinner():EA(e)&&(i=Tg[e](s))),i}var CA=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=yA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:E,position:T,className:_,style:I,progressClassName:C,updateId:v,role:w,progress:P,rtl:M,toastId:N,deleteToast:S,isIn:p,isLoading:g,closeOnClick:x,theme:A,ariaLabel:j}=t,R=Me("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":x}),z=Ki(_)?_({rtl:M,position:T,type:f,defaultClassName:R}):Me(R,_),F=TA(t),B=!!P||!u,U={closeToast:m,type:f,theme:A},L=null;return o===!1||(Ki(o)?L=o(U):b.isValidElement(o)?L=b.cloneElement(o,U):L=tA(U)),pe.createElement(E,{isIn:p,done:S,position:T,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:z,...i,style:I,ref:r,...p&&{role:w,"aria-label":j}},F!=null&&pe.createElement("div",{className:Me("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!g})},F),mE(a,t,!e),L,!t.customProgressBar&&pe.createElement(nA,{...v&&!B?{key:`p-${v}`}:{},rtl:M,theme:A,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:C,controlledProgress:B,progress:P||0})))},IA=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),RA=eA(IA("bounce",!0)),kA={position:"top-right",transition:RA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function PA(t){let e={...kA,...t},n=t.stacked,[r,i]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=gA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:E}=e;function T(I){let C=Me("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return Ki(c)?c({position:I,rtl:h,defaultClassName:C}):Me(C,wg(c))}function _(){n&&(i(!0),Se.play())}return vA(()=>{var I;if(n){let C=s.current.querySelectorAll('[data-in="true"]'),v=12,w=(I=e.position)==null?void 0:I.includes("top"),P=0,M=0;Array.from(C).reverse().forEach((N,S)=>{let p=N;p.classList.add("Toastify__toast--stacked"),S>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=w?"top":"bot");let g=P*(r?.2:1)+(r?0:v*S);p.style.setProperty("--y",`${w?g:g*-1}px`),p.style.setProperty("--g",`${v}`),p.style.setProperty("--s",`${1-(r?M:0)}`),P+=p.offsetHeight,M+=.025})}},[r,u,n]),b.useEffect(()=>{function I(C){var v;let w=s.current;E(C)&&((v=w.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),Se.pause()),C.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(i(!0),Se.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[E]),pe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,C)=>{let v=C.length?{...f}:{...f,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:T(I),"data-stacked":n,style:v,key:`c-${I}`},C.map(({content:w,props:P})=>pe.createElement(CA,{...P,stacked:n,collapseAll:_,isIn:a(P.toastId,P.containerId),key:`t-${P.key}`},w)))}))}var Cg={},_E={exports:{}},_r={},wE={exports:{}},SE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var H=L.length;L.push(V);e:for(;0<H;){var K=H-1>>>1,Q=L[K];if(0<i(Q,V))L[K]=V,L[H]=Q,H=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],H=L.pop();if(H!==V){L[0]=H;e:for(var K=0,Q=L.length,Y=Q>>>1;K<Y;){var se=2*(K+1)-1,ce=L[se],ye=se+1,q=L[ye];if(0>i(ce,H))ye<Q&&0>i(q,ce)?(L[K]=q,L[ye]=H,K=ye):(L[K]=ce,L[se]=H,K=se);else if(ye<Q&&0>i(q,H))L[K]=q,L[ye]=H,K=ye;else break e}}return V}function i(L,V){var H=L.sortIndex-V.sortIndex;return H!==0?H:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,E=!1,T=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(c)}}function P(L){if(_=!1,w(L),!T)if(n(u)!==null)T=!0,B(M);else{var V=n(c);V!==null&&U(P,V.startTime-L)}}function M(L,V){T=!1,_&&(_=!1,C(p),p=-1),E=!0;var H=m;try{for(w(V),h=n(u);h!==null&&(!(h.expirationTime>V)||L&&!A());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var Q=K(h.expirationTime<=V);V=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(u)&&r(u),w(V)}else r(u);h=n(u)}if(h!==null)var Y=!0;else{var se=n(c);se!==null&&U(P,se.startTime-V),Y=!1}return Y}finally{h=null,m=H,E=!1}}var N=!1,S=null,p=-1,g=5,x=-1;function A(){return!(t.unstable_now()-x<g)}function j(){if(S!==null){var L=t.unstable_now();x=L;var V=!0;try{V=S(!0,L)}finally{V?R():(N=!1,S=null)}}else N=!1}var R;if(typeof v=="function")R=function(){v(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=j,R=function(){F.postMessage(null)}}else R=function(){I(j,0)};function B(L){S=L,N||(N=!0,R())}function U(L,V){p=I(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,B(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var H=m;m=V;try{return L()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=m;m=L;try{return V()}finally{m=H}},t.unstable_scheduleCallback=function(L,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,L={id:f++,callback:V,priorityLevel:L,startTime:H,expirationTime:Q,sortIndex:-1},H>K?(L.sortIndex=H,e(c,L),n(u)===null&&L===n(c)&&(_?(C(p),p=-1):_=!0,U(P,H-K))):(L.sortIndex=Q,e(u,L),T||E||(T=!0,B(M))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var V=m;return function(){var H=m;m=V;try{return L.apply(this,arguments)}finally{m=H}}}})(SE);wE.exports=SE;var AA=wE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA=b,yr=AA;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EE=new Set,xu={};function jo(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(xu[t]=e,t=0;t<e.length;t++)EE.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,OA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kb={},Gb={};function NA(t){return Ig.call(Gb,t)?!0:Ig.call(Kb,t)?!1:OA.test(t)?Gb[t]=!0:(Kb[t]=!0,!1)}function MA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LA(t,e,n,r){if(e===null||typeof e>"u"||MA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cv=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cv,Iv);Pn[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rv(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LA(e,n,i,r)&&(n=null),r||i===null?NA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=jA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),Qb=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,ym;function Ul(t){if(ym===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ym=e&&e[1]||""}return`
`+ym+t}var vm=!1;function xm(t,e){if(!t||vm)return"";vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{vm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function DA(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=xm(t.type,!1),t;case 11:return t=xm(t.type.render,!1),t;case 1:return t=xm(t.type,!0),t;default:return""}}function Ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case Rg:return"Profiler";case kv:return"StrictMode";case kg:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CE:return(t.displayName||"Context")+".Consumer";case TE:return(t._context.displayName||"Context")+".Provider";case Pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Av:return e=t.displayName||null,e!==null?e:Ag(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Ag(t(e))}catch{}}return null}function $A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FA(t){var e=RE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=FA(t))}function kE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=RE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function af(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jg(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PE(t,e){e=e.checked,e!=null&&Rv(t,"checked",e,!1)}function Og(t,e){PE(t,e);var n=Ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||af(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ms(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Wl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ms(n)}}function AE(t,e){var n=Ms(e.value),r=Ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,OE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){VA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function NE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function ME(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zA=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dg(t,e){if(e){if(zA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=null;function jv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vg=null,xa=null,ba=null;function e_(t){if(t=oc(t)){if(typeof Vg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Ch(e),Vg(t.stateNode,t.type,e))}}function LE(t){xa?ba?ba.push(t):ba=[t]:xa=t}function DE(){if(xa){var t=xa,e=ba;if(ba=xa=null,e_(t),e)for(t=0;t<e.length;t++)e_(e[t])}}function $E(t,e){return t(e)}function FE(){}var bm=!1;function VE(t,e,n){if(bm)return t(e,n);bm=!0;try{return $E(t,e,n)}finally{bm=!1,(xa!==null||ba!==null)&&(FE(),DE())}}function _u(t,e){var n=t.stateNode;if(n===null)return null;var r=Ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var zg=!1;if(Gi)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){zg=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{zg=!1}function BA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var tu=!1,lf=null,uf=!1,Bg=null,UA={onError:function(t){tu=!0,lf=t}};function WA(t,e,n,r,i,s,o,a,u){tu=!1,lf=null,BA.apply(UA,arguments)}function HA(t,e,n,r,i,s,o,a,u){if(WA.apply(this,arguments),tu){if(tu){var c=lf;tu=!1,lf=null}else throw Error(ae(198));uf||(uf=!0,Bg=c)}}function Oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t_(t){if(Oo(t)!==t)throw Error(ae(188))}function qA(t){var e=t.alternate;if(!e){if(e=Oo(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t_(i),t;if(s===r)return t_(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function BE(t){return t=qA(t),t!==null?UE(t):null}function UE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UE(t);if(e!==null)return e;t=t.sibling}return null}var WE=yr.unstable_scheduleCallback,n_=yr.unstable_cancelCallback,KA=yr.unstable_shouldYield,GA=yr.unstable_requestPaint,Zt=yr.unstable_now,QA=yr.unstable_getCurrentPriorityLevel,Ov=yr.unstable_ImmediatePriority,HE=yr.unstable_UserBlockingPriority,cf=yr.unstable_NormalPriority,YA=yr.unstable_LowPriority,qE=yr.unstable_IdlePriority,wh=null,fi=null;function XA(t){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:ej,JA=Math.log,ZA=Math.LN2;function ej(t){return t>>>=0,t===0?32:31-(JA(t)/ZA|0)|0}var Zc=64,ed=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function df(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Hl(a):(s&=o,s!==0&&(r=Hl(s)))}else o=n&~i,o!==0?r=Hl(o):s!==0&&(r=Hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jr(e),i=1<<n,r|=t[n],e&=~i;return r}function tj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=tj(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KE(){var t=Zc;return Zc<<=1,!(Zc&4194240)&&(Zc=64),t}function _m(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jr(e),t[e]=n}function rj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wt=0;function GE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QE,Mv,YE,XE,JE,Wg=!1,td=[],Es=null,Ts=null,Cs=null,wu=new Map,Su=new Map,ys=[],ij="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r_(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function Rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oc(e),e!==null&&Mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sj(t,e,n,r,i){switch(e){case"focusin":return Es=Rl(Es,t,e,n,r,i),!0;case"dragenter":return Ts=Rl(Ts,t,e,n,r,i),!0;case"mouseover":return Cs=Rl(Cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wu.set(s,Rl(wu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,Rl(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function ZE(t){var e=ao(t.target);if(e!==null){var n=Oo(e);if(n!==null){if(e=n.tag,e===13){if(e=zE(n),e!==null){t.blockedOn=e,JE(t.priority,function(){YE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fg=r,n.target.dispatchEvent(r),Fg=null}else return e=oc(n),e!==null&&Mv(e),t.blockedOn=n,!1;e.shift()}return!0}function i_(t,e,n){Pd(t)&&n.delete(e)}function oj(){Wg=!1,Es!==null&&Pd(Es)&&(Es=null),Ts!==null&&Pd(Ts)&&(Ts=null),Cs!==null&&Pd(Cs)&&(Cs=null),wu.forEach(i_),Su.forEach(i_)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,oj)))}function Eu(t){function e(i){return kl(i,t)}if(0<td.length){kl(td[0],t);for(var n=1;n<td.length;n++){var r=td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&kl(Es,t),Ts!==null&&kl(Ts,t),Cs!==null&&kl(Cs,t),wu.forEach(e),Su.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&ys.shift()}var _a=rs.ReactCurrentBatchConfig,ff=!0;function aj(t,e,n,r){var i=wt,s=_a.transition;_a.transition=null;try{wt=1,Lv(t,e,n,r)}finally{wt=i,_a.transition=s}}function lj(t,e,n,r){var i=wt,s=_a.transition;_a.transition=null;try{wt=4,Lv(t,e,n,r)}finally{wt=i,_a.transition=s}}function Lv(t,e,n,r){if(ff){var i=Hg(t,e,n,r);if(i===null)Am(t,e,r,hf,n),r_(t,r);else if(sj(i,t,e,n,r))r.stopPropagation();else if(r_(t,r),e&4&&-1<ij.indexOf(t)){for(;i!==null;){var s=oc(i);if(s!==null&&QE(s),s=Hg(t,e,n,r),s===null&&Am(t,e,r,hf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Am(t,e,r,null,n)}}var hf=null;function Hg(t,e,n,r){if(hf=null,t=jv(r),t=ao(t),t!==null)if(e=Oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function eT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QA()){case Ov:return 1;case HE:return 4;case cf:case YA:return 16;case qE:return 536870912;default:return 16}default:return 16}}var xs=null,Dv=null,Ad=null;function tT(){if(Ad)return Ad;var t,e=Dv,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ad=i.slice(t,1<r?1-r:void 0)}function jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nd(){return!0}function s_(){return!1}function wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nd:s_,this.isPropagationStopped=s_,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=wr(il),sc=Ut({},il,{view:0,detail:0}),uj=wr(sc),wm,Sm,Pl,Sh=Ut({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(wm=t.screenX-Pl.screenX,Sm=t.screenY-Pl.screenY):Sm=wm=0,Pl=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:Sm}}),o_=wr(Sh),cj=Ut({},Sh,{dataTransfer:0}),dj=wr(cj),fj=Ut({},sc,{relatedTarget:0}),Em=wr(fj),hj=Ut({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),pj=wr(hj),mj=Ut({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gj=wr(mj),yj=Ut({},il,{data:0}),a_=wr(yj),vj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _j(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bj[t])?!!e[t]:!1}function Fv(){return _j}var wj=Ut({},sc,{key:function(t){if(t.key){var e=vj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(t){return t.type==="keypress"?jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sj=wr(wj),Ej=Ut({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=wr(Ej),Tj=Ut({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),Cj=wr(Tj),Ij=Ut({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rj=wr(Ij),kj=Ut({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pj=wr(kj),Aj=[9,13,27,32],Vv=Gi&&"CompositionEvent"in window,nu=null;Gi&&"documentMode"in document&&(nu=document.documentMode);var jj=Gi&&"TextEvent"in window&&!nu,nT=Gi&&(!Vv||nu&&8<nu&&11>=nu),u_=" ",c_=!1;function rT(t,e){switch(t){case"keyup":return Aj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Oj(t,e){switch(t){case"compositionend":return iT(e);case"keypress":return e.which!==32?null:(c_=!0,u_);case"textInput":return t=e.data,t===u_&&c_?null:t;default:return null}}function Nj(t,e){if(oa)return t==="compositionend"||!Vv&&rT(t,e)?(t=tT(),Ad=Dv=xs=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nT&&e.locale!=="ko"?null:e.data;default:return null}}var Mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mj[t.type]:e==="textarea"}function sT(t,e,n,r){LE(r),e=pf(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Tu=null;function Lj(t){gT(t,0)}function Eh(t){var e=ua(t);if(kE(e))return t}function Dj(t,e){if(t==="change")return e}var oT=!1;if(Gi){var Tm;if(Gi){var Cm="oninput"in document;if(!Cm){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Cm=typeof f_.oninput=="function"}Tm=Cm}else Tm=!1;oT=Tm&&(!document.documentMode||9<document.documentMode)}function h_(){ru&&(ru.detachEvent("onpropertychange",aT),Tu=ru=null)}function aT(t){if(t.propertyName==="value"&&Eh(Tu)){var e=[];sT(e,Tu,t,jv(t)),VE(Lj,e)}}function $j(t,e,n){t==="focusin"?(h_(),ru=e,Tu=n,ru.attachEvent("onpropertychange",aT)):t==="focusout"&&h_()}function Fj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eh(Tu)}function Vj(t,e){if(t==="click")return Eh(e)}function zj(t,e){if(t==="input"||t==="change")return Eh(e)}function Bj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:Bj;function Cu(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m_(t,e){var n=p_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p_(n)}}function lT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uT(){for(var t=window,e=af();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=af(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Uj(t){var e=uT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lT(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m_(n,s);var o=m_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wj=Gi&&"documentMode"in document&&11>=document.documentMode,aa=null,qg=null,iu=null,Kg=!1;function g_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||aa==null||aa!==af(r)||(r=aa,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Cu(iu,r)||(iu=r,r=pf(qg,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Im={},cT={};Gi&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Th(t){if(Im[t])return Im[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cT)return Im[t]=e[n];return t}var dT=Th("animationend"),fT=Th("animationiteration"),hT=Th("animationstart"),pT=Th("transitionend"),mT=new Map,y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){mT.set(t,e),jo(e,[t])}for(var Rm=0;Rm<y_.length;Rm++){var km=y_[Rm],Hj=km.toLowerCase(),qj=km[0].toUpperCase()+km.slice(1);Us(Hj,"on"+qj)}Us(dT,"onAnimationEnd");Us(fT,"onAnimationIteration");Us(hT,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(pT,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function v_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HA(r,e,void 0,t),t.currentTarget=null}function gT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;v_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;v_(i,a,c),s=u}}}if(uf)throw t=Bg,uf=!1,Bg=null,t}function Ot(t,e){var n=e[Jg];n===void 0&&(n=e[Jg]=new Set);var r=t+"__bubble";n.has(r)||(yT(e,t,2,!1),n.add(r))}function Pm(t,e,n){var r=0;e&&(r|=4),yT(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[id]){t[id]=!0,EE.forEach(function(n){n!=="selectionchange"&&(Kj.has(n)||Pm(n,!1,t),Pm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,Pm("selectionchange",!1,e))}}function yT(t,e,n,r){switch(eT(e)){case 1:var i=aj;break;case 4:i=lj;break;default:i=Lv}n=i.bind(null,e,n,t),i=void 0,!zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Am(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ao(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}VE(function(){var c=s,f=jv(n),h=[];e:{var m=mT.get(t);if(m!==void 0){var E=$v,T=t;switch(t){case"keypress":if(jd(n)===0)break e;case"keydown":case"keyup":E=Sj;break;case"focusin":T="focus",E=Em;break;case"focusout":T="blur",E=Em;break;case"beforeblur":case"afterblur":E=Em;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=dj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Cj;break;case dT:case fT:case hT:E=pj;break;case pT:E=Rj;break;case"scroll":E=uj;break;case"wheel":E=Pj;break;case"copy":case"cut":case"paste":E=gj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=l_}var _=(e&4)!==0,I=!_&&t==="scroll",C=_?m!==null?m+"Capture":null:m;_=[];for(var v=c,w;v!==null;){w=v;var P=w.stateNode;if(w.tag===5&&P!==null&&(w=P,C!==null&&(P=_u(v,C),P!=null&&_.push(Ru(v,P,w)))),I)break;v=v.return}0<_.length&&(m=new E(m,T,null,n,f),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==Fg&&(T=n.relatedTarget||n.fromElement)&&(ao(T)||T[Qi]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=c,T=T?ao(T):null,T!==null&&(I=Oo(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=c),E!==T)){if(_=o_,P="onMouseLeave",C="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=l_,P="onPointerLeave",C="onPointerEnter",v="pointer"),I=E==null?m:ua(E),w=T==null?m:ua(T),m=new _(P,v+"leave",E,n,f),m.target=I,m.relatedTarget=w,P=null,ao(f)===c&&(_=new _(C,v+"enter",T,n,f),_.target=w,_.relatedTarget=I,P=_),I=P,E&&T)t:{for(_=E,C=T,v=0,w=_;w;w=qo(w))v++;for(w=0,P=C;P;P=qo(P))w++;for(;0<v-w;)_=qo(_),v--;for(;0<w-v;)C=qo(C),w--;for(;v--;){if(_===C||C!==null&&_===C.alternate)break t;_=qo(_),C=qo(C)}_=null}else _=null;E!==null&&x_(h,m,E,_,!1),T!==null&&I!==null&&x_(h,I,T,_,!0)}}e:{if(m=c?ua(c):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var M=Dj;else if(d_(m))if(oT)M=zj;else{M=Fj;var N=$j}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=Vj);if(M&&(M=M(t,c))){sT(h,M,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ng(m,"number",m.value)}switch(N=c?ua(c):window,t){case"focusin":(d_(N)||N.contentEditable==="true")&&(aa=N,qg=c,iu=null);break;case"focusout":iu=qg=aa=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,g_(h,n,f);break;case"selectionchange":if(Wj)break;case"keydown":case"keyup":g_(h,n,f)}var S;if(Vv)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else oa?rT(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(nT&&n.locale!=="ko"&&(oa||p!=="onCompositionStart"?p==="onCompositionEnd"&&oa&&(S=tT()):(xs=f,Dv="value"in xs?xs.value:xs.textContent,oa=!0)),N=pf(c,p),0<N.length&&(p=new a_(p,t,null,n,f),h.push({event:p,listeners:N}),S?p.data=S:(S=iT(n),S!==null&&(p.data=S)))),(S=jj?Oj(t,n):Nj(t,n))&&(c=pf(c,"onBeforeInput"),0<c.length&&(f=new a_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=S))}gT(h,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_u(t,n),s!=null&&r.unshift(Ru(t,s,i)),s=_u(t,e),s!=null&&r.push(Ru(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=_u(n,s),u!=null&&o.unshift(Ru(n,u,a))):i||(u=_u(n,s),u!=null&&o.push(Ru(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Gj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(Gj,`
`).replace(Qj,"")}function sd(t,e,n){if(e=b_(e),b_(t)!==e&&n)throw Error(ae(425))}function mf(){}var Gg=null,Qg=null;function Yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,Yj=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,Xj=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(Jj)}:Xg;function Jj(t){setTimeout(function(){throw t})}function jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Eu(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),ci="__reactFiber$"+sl,ku="__reactProps$"+sl,Qi="__reactContainer$"+sl,Jg="__reactEvents$"+sl,Zj="__reactListeners$"+sl,eO="__reactHandles$"+sl;function ao(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qi]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w_(t);t!==null;){if(n=t[ci])return n;t=w_(t)}return e}t=n,n=t.parentNode}return null}function oc(t){return t=t[ci]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Ch(t){return t[ku]||null}var Zg=[],ca=-1;function Ws(t){return{current:t}}function Mt(t){0>ca||(t.current=Zg[ca],Zg[ca]=null,ca--)}function At(t,e){ca++,Zg[ca]=t.current,t.current=e}var Ls={},Bn=Ws(Ls),nr=Ws(!1),vo=Ls;function Ma(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rr(t){return t=t.childContextTypes,t!=null}function gf(){Mt(nr),Mt(Bn)}function S_(t,e,n){if(Bn.current!==Ls)throw Error(ae(168));At(Bn,e),At(nr,n)}function vT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,$A(t)||"Unknown",i));return Ut({},n,r)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,vo=Bn.current,At(Bn,t),At(nr,nr.current),!0}function E_(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=vT(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Mt(nr),Mt(Bn),At(Bn,t)):Mt(nr),At(nr,n)}var ji=null,Ih=!1,Om=!1;function xT(t){ji===null?ji=[t]:ji.push(t)}function tO(t){Ih=!0,xT(t)}function Hs(){if(!Om&&ji!==null){Om=!0;var t=0,e=wt;try{var n=ji;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ji=null,Ih=!1}catch(i){throw ji!==null&&(ji=ji.slice(t+1)),WE(Ov,Hs),i}finally{wt=e,Om=!1}}return null}var da=[],fa=0,vf=null,xf=0,Ar=[],jr=0,xo=null,$i=1,Fi="";function to(t,e){da[fa++]=xf,da[fa++]=vf,vf=t,xf=e}function bT(t,e,n){Ar[jr++]=$i,Ar[jr++]=Fi,Ar[jr++]=xo,xo=t;var r=$i;t=Fi;var i=32-Jr(r)-1;r&=~(1<<i),n+=1;var s=32-Jr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-Jr(e)+i|n<<i|r,Fi=s+t}else $i=1<<s|n<<i|r,Fi=t}function Bv(t){t.return!==null&&(to(t,1),bT(t,1,0))}function Uv(t){for(;t===vf;)vf=da[--fa],da[fa]=null,xf=da[--fa],da[fa]=null;for(;t===xo;)xo=Ar[--jr],Ar[jr]=null,Fi=Ar[--jr],Ar[jr]=null,$i=Ar[--jr],Ar[jr]=null}var pr=null,dr=null,$t=!1,Yr=null;function _T(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,dr=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:$i,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,dr=null,!0):!1;default:return!1}}function ey(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ty(t){if($t){var e=dr;if(e){var n=e;if(!T_(t,e)){if(ey(t))throw Error(ae(418));e=Is(n.nextSibling);var r=pr;e&&T_(t,e)?_T(r,n):(t.flags=t.flags&-4097|2,$t=!1,pr=t)}}else{if(ey(t))throw Error(ae(418));t.flags=t.flags&-4097|2,$t=!1,pr=t}}}function C_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function od(t){if(t!==pr)return!1;if(!$t)return C_(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yg(t.type,t.memoizedProps)),e&&(e=dr)){if(ey(t))throw wT(),Error(ae(418));for(;e;)_T(t,e),e=Is(e.nextSibling)}if(C_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dr=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dr=null}}else dr=pr?Is(t.stateNode.nextSibling):null;return!0}function wT(){for(var t=dr;t;)t=Is(t.nextSibling)}function La(){dr=pr=null,$t=!1}function Wv(t){Yr===null?Yr=[t]:Yr.push(t)}var nO=rs.ReactCurrentBatchConfig;function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I_(t){var e=t._init;return e(t._payload)}function ST(t){function e(C,v){if(t){var w=C.deletions;w===null?(C.deletions=[v],C.flags|=16):w.push(v)}}function n(C,v){if(!t)return null;for(;v!==null;)e(C,v),v=v.sibling;return null}function r(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function i(C,v){return C=As(C,v),C.index=0,C.sibling=null,C}function s(C,v,w){return C.index=w,t?(w=C.alternate,w!==null?(w=w.index,w<v?(C.flags|=2,v):w):(C.flags|=2,v)):(C.flags|=1048576,v)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,v,w,P){return v===null||v.tag!==6?(v=Vm(w,C.mode,P),v.return=C,v):(v=i(v,w),v.return=C,v)}function u(C,v,w,P){var M=w.type;return M===sa?f(C,v,w.props.children,P,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ps&&I_(M)===v.type)?(P=i(v,w.props),P.ref=Al(C,v,w),P.return=C,P):(P=Fd(w.type,w.key,w.props,null,C.mode,P),P.ref=Al(C,v,w),P.return=C,P)}function c(C,v,w,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=zm(w,C.mode,P),v.return=C,v):(v=i(v,w.children||[]),v.return=C,v)}function f(C,v,w,P,M){return v===null||v.tag!==7?(v=po(w,C.mode,P,M),v.return=C,v):(v=i(v,w),v.return=C,v)}function h(C,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vm(""+v,C.mode,w),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:return w=Fd(v.type,v.key,v.props,null,C.mode,w),w.ref=Al(C,null,v),w.return=C,w;case ia:return v=zm(v,C.mode,w),v.return=C,v;case ps:var P=v._init;return h(C,P(v._payload),w)}if(Wl(v)||Cl(v))return v=po(v,C.mode,w,null),v.return=C,v;ad(C,v)}return null}function m(C,v,w,P){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(C,v,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return w.key===M?u(C,v,w,P):null;case ia:return w.key===M?c(C,v,w,P):null;case ps:return M=w._init,m(C,v,M(w._payload),P)}if(Wl(w)||Cl(w))return M!==null?null:f(C,v,w,P,null);ad(C,w)}return null}function E(C,v,w,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return C=C.get(w)||null,a(v,C,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Yc:return C=C.get(P.key===null?w:P.key)||null,u(v,C,P,M);case ia:return C=C.get(P.key===null?w:P.key)||null,c(v,C,P,M);case ps:var N=P._init;return E(C,v,w,N(P._payload),M)}if(Wl(P)||Cl(P))return C=C.get(w)||null,f(v,C,P,M,null);ad(v,P)}return null}function T(C,v,w,P){for(var M=null,N=null,S=v,p=v=0,g=null;S!==null&&p<w.length;p++){S.index>p?(g=S,S=null):g=S.sibling;var x=m(C,S,w[p],P);if(x===null){S===null&&(S=g);break}t&&S&&x.alternate===null&&e(C,S),v=s(x,v,p),N===null?M=x:N.sibling=x,N=x,S=g}if(p===w.length)return n(C,S),$t&&to(C,p),M;if(S===null){for(;p<w.length;p++)S=h(C,w[p],P),S!==null&&(v=s(S,v,p),N===null?M=S:N.sibling=S,N=S);return $t&&to(C,p),M}for(S=r(C,S);p<w.length;p++)g=E(S,C,p,w[p],P),g!==null&&(t&&g.alternate!==null&&S.delete(g.key===null?p:g.key),v=s(g,v,p),N===null?M=g:N.sibling=g,N=g);return t&&S.forEach(function(A){return e(C,A)}),$t&&to(C,p),M}function _(C,v,w,P){var M=Cl(w);if(typeof M!="function")throw Error(ae(150));if(w=M.call(w),w==null)throw Error(ae(151));for(var N=M=null,S=v,p=v=0,g=null,x=w.next();S!==null&&!x.done;p++,x=w.next()){S.index>p?(g=S,S=null):g=S.sibling;var A=m(C,S,x.value,P);if(A===null){S===null&&(S=g);break}t&&S&&A.alternate===null&&e(C,S),v=s(A,v,p),N===null?M=A:N.sibling=A,N=A,S=g}if(x.done)return n(C,S),$t&&to(C,p),M;if(S===null){for(;!x.done;p++,x=w.next())x=h(C,x.value,P),x!==null&&(v=s(x,v,p),N===null?M=x:N.sibling=x,N=x);return $t&&to(C,p),M}for(S=r(C,S);!x.done;p++,x=w.next())x=E(S,C,p,x.value,P),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?p:x.key),v=s(x,v,p),N===null?M=x:N.sibling=x,N=x);return t&&S.forEach(function(j){return e(C,j)}),$t&&to(C,p),M}function I(C,v,w,P){if(typeof w=="object"&&w!==null&&w.type===sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:e:{for(var M=w.key,N=v;N!==null;){if(N.key===M){if(M=w.type,M===sa){if(N.tag===7){n(C,N.sibling),v=i(N,w.props.children),v.return=C,C=v;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ps&&I_(M)===N.type){n(C,N.sibling),v=i(N,w.props),v.ref=Al(C,N,w),v.return=C,C=v;break e}n(C,N);break}else e(C,N);N=N.sibling}w.type===sa?(v=po(w.props.children,C.mode,P,w.key),v.return=C,C=v):(P=Fd(w.type,w.key,w.props,null,C.mode,P),P.ref=Al(C,v,w),P.return=C,C=P)}return o(C);case ia:e:{for(N=w.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(C,v.sibling),v=i(v,w.children||[]),v.return=C,C=v;break e}else{n(C,v);break}else e(C,v);v=v.sibling}v=zm(w,C.mode,P),v.return=C,C=v}return o(C);case ps:return N=w._init,I(C,v,N(w._payload),P)}if(Wl(w))return T(C,v,w,P);if(Cl(w))return _(C,v,w,P);ad(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(C,v.sibling),v=i(v,w),v.return=C,C=v):(n(C,v),v=Vm(w,C.mode,P),v.return=C,C=v),o(C)):n(C,v)}return I}var Da=ST(!0),ET=ST(!1),bf=Ws(null),_f=null,ha=null,Hv=null;function qv(){Hv=ha=_f=null}function Kv(t){var e=bf.current;Mt(bf),t._currentValue=e}function ny(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wa(t,e){_f=t,Hv=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(_f===null)throw Error(ae(308));ha=t,_f.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var lo=null;function Gv(t){lo===null?lo=[t]:lo.push(t)}function TT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yi(t,r)}function Yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function Qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yi(t,n)}return i=r.interleaved,i===null?(e.next=e,Gv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yi(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nv(t,n)}}function R_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wf(t,e,n,r){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,_=a;switch(m=e,E=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=Ut({},h,m);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=E,u=h):f=f.next=E,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function k_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var ac={},hi=Ws(ac),Pu=Ws(ac),Au=Ws(ac);function uo(t){if(t===ac)throw Error(ae(174));return t}function Yv(t,e){switch(At(Au,e),At(Pu,t),At(hi,ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lg(e,t)}Mt(hi),At(hi,e)}function $a(){Mt(hi),Mt(Pu),Mt(Au)}function IT(t){uo(Au.current);var e=uo(hi.current),n=Lg(e,t.type);e!==n&&(At(Pu,t),At(hi,n))}function Xv(t){Pu.current===t&&(Mt(hi),Mt(Pu))}var zt=Ws(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nm=[];function Jv(){for(var t=0;t<Nm.length;t++)Nm[t]._workInProgressVersionPrimary=null;Nm.length=0}var Nd=rs.ReactCurrentDispatcher,Mm=rs.ReactCurrentBatchConfig,bo=0,Bt=null,mn=null,vn=null,Ef=!1,su=!1,ju=0,rO=0;function Nn(){throw Error(ae(321))}function Zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function e0(t,e,n,r,i,s){if(bo=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?aO:lO,t=n(r,i),su){s=0;do{if(su=!1,ju=0,25<=s)throw Error(ae(301));s+=1,vn=mn=null,e.updateQueue=null,Nd.current=uO,t=n(r,i)}while(su)}if(Nd.current=Tf,e=mn!==null&&mn.next!==null,bo=0,vn=mn=Bt=null,Ef=!1,e)throw Error(ae(300));return t}function t0(){var t=ju!==0;return ju=0,t}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Bt.memoizedState=vn=t:vn=vn.next=t,vn}function Fr(){if(mn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=vn===null?Bt.memoizedState:vn.next;if(e!==null)vn=e,mn=t;else{if(t===null)throw Error(ae(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},vn===null?Bt.memoizedState=vn=t:vn=vn.next=t}return vn}function Ou(t,e){return typeof e=="function"?e(t):e}function Lm(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=mn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((bo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Bt.lanes|=f,_o|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,ei(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dm(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ei(s,e.memoizedState)||(tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RT(){}function kT(t,e){var n=Bt,r=Fr(),i=e(),s=!ei(r.memoizedState,i);if(s&&(r.memoizedState=i,tr=!0),r=r.queue,n0(jT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vn!==null&&vn.memoizedState.tag&1){if(n.flags|=2048,Nu(9,AT.bind(null,n,r,i,e),void 0,null),bn===null)throw Error(ae(349));bo&30||PT(n,e,i)}return i}function PT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AT(t,e,n,r){e.value=n,e.getSnapshot=r,OT(e)&&NT(t)}function jT(t,e,n){return n(function(){OT(e)&&NT(t)})}function OT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function NT(t){var e=Yi(t,1);e!==null&&Zr(e,t,1,-1)}function P_(t){var e=ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=oO.bind(null,Bt,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MT(){return Fr().memoizedState}function Md(t,e,n,r){var i=ai();Bt.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function Rh(t,e,n,r){var i=Fr();r=r===void 0?null:r;var s=void 0;if(mn!==null){var o=mn.memoizedState;if(s=o.destroy,r!==null&&Zv(r,o.deps)){i.memoizedState=Nu(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function A_(t,e){return Md(8390656,8,t,e)}function n0(t,e){return Rh(2048,8,t,e)}function LT(t,e){return Rh(4,2,t,e)}function DT(t,e){return Rh(4,4,t,e)}function $T(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FT(t,e,n){return n=n!=null?n.concat([t]):null,Rh(4,4,$T.bind(null,e,t),n)}function r0(){}function VT(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zT(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BT(t,e,n){return bo&21?(ei(n,e)||(n=KE(),Bt.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function iO(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=Mm.transition;Mm.transition={};try{t(!1),e()}finally{wt=n,Mm.transition=r}}function UT(){return Fr().memoizedState}function sO(t,e,n){var r=Ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WT(t))HT(e,n);else if(n=TT(t,e,n,r),n!==null){var i=Gn();Zr(n,t,r,i),qT(n,e,r)}}function oO(t,e,n){var r=Ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WT(t))HT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ei(a,o)){var u=e.interleaved;u===null?(i.next=i,Gv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=TT(t,e,i,r),n!==null&&(i=Gn(),Zr(n,t,r,i),qT(n,e,r))}}function WT(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function HT(t,e){su=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nv(t,n)}}var Tf={readContext:$r,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},aO={readContext:$r,useCallback:function(t,e){return ai().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:A_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,$T.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sO.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=ai();return t={current:t},e.memoizedState=t},useState:P_,useDebugValue:r0,useDeferredValue:function(t){return ai().memoizedState=t},useTransition:function(){var t=P_(!1),e=t[0];return t=iO.bind(null,t[1]),ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=ai();if($t){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),bn===null)throw Error(ae(349));bo&30||PT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,A_(jT.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,AT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ai(),e=bn.identifierPrefix;if($t){var n=Fi,r=$i;n=(r&~(1<<32-Jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lO={readContext:$r,useCallback:VT,useContext:$r,useEffect:n0,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:DT,useMemo:zT,useReducer:Lm,useRef:MT,useState:function(){return Lm(Ou)},useDebugValue:r0,useDeferredValue:function(t){var e=Fr();return BT(e,mn.memoizedState,t)},useTransition:function(){var t=Lm(Ou)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:RT,useSyncExternalStore:kT,useId:UT,unstable_isNewReconciler:!1},uO={readContext:$r,useCallback:VT,useContext:$r,useEffect:n0,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:DT,useMemo:zT,useReducer:Dm,useRef:MT,useState:function(){return Dm(Ou)},useDebugValue:r0,useDeferredValue:function(t){var e=Fr();return mn===null?e.memoizedState=t:BT(e,mn.memoizedState,t)},useTransition:function(){var t=Dm(Ou)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:RT,useSyncExternalStore:kT,useId:UT,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ry(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?Oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=Ps(t),s=Ui(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rs(t,s,i),e!==null&&(Zr(e,t,i,r),Od(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gn(),i=Ps(t),s=Ui(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rs(t,s,i),e!==null&&(Zr(e,t,i,r),Od(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gn(),r=Ps(t),i=Ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,r),e!==null&&(Zr(e,t,r,n),Od(e,t,r))}};function j_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,s):!0}function KT(t,e,n){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(i=rr(e)?vo:Bn.current,r=e.contextTypes,s=(r=r!=null)?Ma(t,i):Ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function iy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$r(s):(s=rr(e)?vo:Bn.current,i.context=Ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ry(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kh.enqueueReplaceState(i,i.state,null),wf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=DA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $m(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cO=typeof WeakMap=="function"?WeakMap:Map;function GT(t,e,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){If||(If=!0,my=r),sy(t,e)},n}function QT(t,e,n){n=Ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sy(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EO.bind(null,t,e,n),e.then(t,t))}function M_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ui(-1,1),e.tag=2,Rs(n,e,1))),n.lanes|=1),t)}var dO=rs.ReactCurrentOwner,tr=!1;function qn(t,e,n,r){e.child=t===null?ET(e,null,n,r):Da(e,t.child,n,r)}function D_(t,e,n,r,i){n=n.render;var s=e.ref;return wa(e,i),r=e0(t,e,n,r,s,i),n=t0(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):($t&&n&&Bv(e),e.flags|=1,qn(t,e,r,i),e.child)}function $_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!d0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YT(t,e,s,r,i)):(t=Fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=As(s,r),t.ref=e.ref,t.return=e,e.child=t}function YT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cu(s,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return oy(t,e,n,r,i)}function XT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(ma,ur),ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(ma,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,At(ma,ur),ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,At(ma,ur),ur|=r;return qn(t,e,i,n),e.child}function JT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oy(t,e,n,r,i){var s=rr(n)?vo:Bn.current;return s=Ma(e,s),wa(e,i),n=e0(t,e,n,r,s,i),r=t0(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):($t&&r&&Bv(e),e.flags|=1,qn(t,e,n,i),e.child)}function F_(t,e,n,r,i){if(rr(n)){var s=!0;yf(e)}else s=!1;if(wa(e,i),e.stateNode===null)Ld(t,e),KT(e,n,r),iy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=rr(n)?vo:Bn.current,c=Ma(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&O_(e,o,r,c),ms=!1;var m=e.memoizedState;o.state=m,wf(e,r,o,i),u=e.memoizedState,a!==r||m!==u||nr.current||ms?(typeof f=="function"&&(ry(e,n,f,r),u=e.memoizedState),(a=ms||j_(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=$r(u):(u=rr(n)?vo:Bn.current,u=Ma(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&O_(e,o,r,u),ms=!1,m=e.memoizedState,o.state=m,wf(e,r,o,i);var T=e.memoizedState;a!==h||m!==T||nr.current||ms?(typeof E=="function"&&(ry(e,n,E,r),T=e.memoizedState),(c=ms||j_(e,n,c,r,m,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ay(t,e,n,r,s,i)}function ay(t,e,n,r,i,s){JT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&E_(e,n,!1),Xi(t,e,s);r=e.stateNode,dO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):qn(t,e,a,s),e.memoizedState=r.state,i&&E_(e,n,!0),e.child}function ZT(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),Yv(t,e.containerInfo)}function V_(t,e,n,r,i){return La(),Wv(i),e.flags|=256,qn(t,e,n,r),e.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function eC(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(zt,i&1),t===null)return ty(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jh(o,r,0,null),t=po(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uy(n),e.memoizedState=ly,t):i0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=As(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=As(a,s):(s=po(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ly,r}return s=t.child,t=s.sibling,r=As(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function i0(t,e){return e=jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ld(t,e,n,r){return r!==null&&Wv(r),Da(e,t.child,null,n),t=i0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$m(Error(ae(422))),ld(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jh({mode:"visible",children:r.children},i,0,null),s=po(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=uy(o),e.memoizedState=ly,s);if(!(e.mode&1))return ld(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=$m(s,r,void 0),ld(t,e,o,r)}if(a=(o&t.childLanes)!==0,tr||a){if(r=bn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yi(t,i),Zr(r,t,i,-1))}return c0(),r=$m(Error(ae(421))),ld(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dr=Is(i.nextSibling),pr=e,$t=!0,Yr=null,t!==null&&(Ar[jr++]=$i,Ar[jr++]=Fi,Ar[jr++]=xo,$i=t.id,Fi=t.overflow,xo=e),e=i0(e,r.children),e.flags|=4096,e)}function z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ny(t.return,e,n)}function Fm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z_(t,n,e);else if(t.tag===19)z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(At(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fm(e,!0,n,null,s);break;case"together":Fm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=As(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=As(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hO(t,e,n){switch(e.tag){case 3:ZT(e),La();break;case 5:IT(e);break;case 1:rr(e.type)&&yf(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;At(bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(At(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?eC(t,e,n):(At(zt,zt.current&1),t=Xi(t,e,n),t!==null?t.sibling:null);At(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,XT(t,e,n)}return Xi(t,e,n)}var nC,cy,rC,iC;nC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cy=function(){};rC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uo(hi.current);var s=null;switch(n){case"input":i=jg(t,i),r=jg(t,r),s=[];break;case"select":i=Ut({},i,{value:void 0}),r=Ut({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mf)}Dg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iC=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pO(t,e,n){var r=e.pendingProps;switch(Uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return rr(e.type)&&gf(),Mn(e),null;case 3:return r=e.stateNode,$a(),Mt(nr),Mt(Bn),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yr!==null&&(vy(Yr),Yr=null))),cy(t,e),Mn(e),null;case 5:Xv(e);var i=uo(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)rC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Mn(e),null}if(t=uo(hi.current),od(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ci]=e,r[ku]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<ql.length;i++)Ot(ql[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Yb(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":Jb(r,s),Ot("invalid",r)}Dg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),i=["children",""+a]):xu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Xc(r),Xb(r,s,!0);break;case"textarea":Xc(r),Zb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ci]=e,t[ku]=r,nC(t,e,!1,!1),e.stateNode=t;e:{switch(o=$g(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<ql.length;i++)Ot(ql[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":Yb(t,r),i=jg(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ut({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":Jb(t,r),i=Mg(t,r),Ot("invalid",t);break;default:i=r}Dg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ME(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&OE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bu(t,u):typeof u=="number"&&bu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&Rv(t,s,u,o))}switch(n){case"input":Xc(t),Xb(t,r,!1);break;case"textarea":Xc(t),Zb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ms(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?va(t,!!r.multiple,s,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)iC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=uo(Au.current),uo(hi.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(s=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:sd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return Mn(e),null;case 13:if(Mt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&dr!==null&&e.mode&1&&!(e.flags&128))wT(),La(),e.flags|=98560,s=!1;else if(s=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[ci]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Yr!==null&&(vy(Yr),Yr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?gn===0&&(gn=3):c0())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return $a(),cy(t,e),t===null&&Iu(e.stateNode.containerInfo),Mn(e),null;case 10:return Kv(e.type._context),Mn(e),null;case 17:return rr(e.type)&&gf(),Mn(e),null;case 19:if(Mt(zt),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)jl(s,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sf(t),o!==null){for(e.flags|=128,jl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return At(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zt()>Va&&(e.flags|=128,r=!0,jl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Mn(e),null}else 2*Zt()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,jl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zt(),e.sibling=null,n=zt.current,At(zt,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return u0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function mO(t,e){switch(Uv(e),e.tag){case 1:return rr(e.type)&&gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Mt(nr),Mt(Bn),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Mt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(zt),null;case 4:return $a(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return u0(),null;case 24:return null;default:return null}}var ud=!1,Vn=!1,gO=typeof WeakSet=="function"?WeakSet:Set,xe=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function dy(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var B_=!1;function yO(t,e){if(Gg=ff,t=uT(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var E;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(E=h.firstChild)!==null;)m=h,h=E;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(E=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=E}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qg={focusedElem:t,selectionRange:n},ff=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,I=T.memoizedState,C=e.stateNode,v=C.getSnapshotBeforeUpdate(e.elementType===e.type?_:Gr(e.type,_),I);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(P){Gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return T=B_,B_=!1,T}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dy(e,n,s)}i=i.next}while(i!==r)}}function Ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sC(t){var e=t.alternate;e!==null&&(t.alternate=null,sC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[ku],delete e[Jg],delete e[Zj],delete e[eO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oC(t){return t.tag===5||t.tag===3||t.tag===4}function U_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mf));else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}function py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(py(t,e,n),t=t.sibling;t!==null;)py(t,e,n),t=t.sibling}var En=null,Qr=!1;function ds(t,e,n){for(n=n.child;n!==null;)aC(t,e,n),n=n.sibling}function aC(t,e,n){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:Vn||pa(n,e);case 6:var r=En,i=Qr;En=null,ds(t,e,n),En=r,Qr=i,En!==null&&(Qr?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Qr?(t=En,n=n.stateNode,t.nodeType===8?jm(t.parentNode,n):t.nodeType===1&&jm(t,n),Eu(t)):jm(En,n.stateNode));break;case 4:r=En,i=Qr,En=n.stateNode.containerInfo,Qr=!0,ds(t,e,n),En=r,Qr=i;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dy(n,e,o),i=i.next}while(i!==r)}ds(t,e,n);break;case 1:if(!Vn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Gt(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,ds(t,e,n),Vn=r):ds(t,e,n);break;default:ds(t,e,n)}}function W_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gO),e.forEach(function(r){var i=CO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Qr=!1;break e;case 3:En=a.stateNode.containerInfo,Qr=!0;break e;case 4:En=a.stateNode.containerInfo,Qr=!0;break e}a=a.return}if(En===null)throw Error(ae(160));aC(s,o,i),En=null,Qr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lC(e,t),e=e.sibling}function lC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),oi(t),r&4){try{ou(3,t,t.return),Ph(3,t)}catch(_){Gt(t,t.return,_)}try{ou(5,t,t.return)}catch(_){Gt(t,t.return,_)}}break;case 1:Kr(e,t),oi(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Kr(e,t),oi(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{bu(i,"")}catch(_){Gt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PE(i,s),$g(a,o);var c=$g(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?ME(i,h):f==="dangerouslySetInnerHTML"?OE(i,h):f==="children"?bu(i,h):Rv(i,f,h,c)}switch(a){case"input":Og(i,s);break;case"textarea":AE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?va(i,!!s.multiple,E,!1):m!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[ku]=s}catch(_){Gt(t,t.return,_)}}break;case 6:if(Kr(e,t),oi(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Gt(t,t.return,_)}}break;case 3:if(Kr(e,t),oi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eu(e.containerInfo)}catch(_){Gt(t,t.return,_)}break;case 4:Kr(e,t),oi(t);break;case 13:Kr(e,t),oi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(a0=Zt())),r&4&&W_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(c=Vn)||f,Kr(e,t),Vn=c):Kr(e,t),oi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(xe=t,f=t.child;f!==null;){for(h=xe=f;xe!==null;){switch(m=xe,E=m.child,m.tag){case 0:case 11:case 14:case 15:ou(4,m,m.return);break;case 1:pa(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){Gt(r,n,_)}}break;case 5:pa(m,m.return);break;case 22:if(m.memoizedState!==null){q_(h);continue}}E!==null?(E.return=m,xe=E):q_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=NE("display",o))}catch(_){Gt(t,t.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Gt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kr(e,t),oi(t),r&4&&W_(t);break;case 21:break;default:Kr(e,t),oi(t)}}function oi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oC(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bu(i,""),r.flags&=-33);var s=U_(t);py(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=U_(t);hy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vO(t,e,n){xe=t,uC(t)}function uC(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ud;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Vn;a=ud;var c=Vn;if(ud=o,(Vn=u)&&!c)for(xe=i;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?K_(i):u!==null?(u.return=o,xe=u):K_(i);for(;s!==null;)xe=s,uC(s),s=s.sibling;xe=i,ud=a,Vn=c}H_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):H_(t)}}function H_(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||Ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Eu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Vn||e.flags&512&&fy(e)}catch(m){Gt(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function q_(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function K_(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ph(4,e)}catch(u){Gt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Gt(e,i,u)}}var s=e.return;try{fy(e)}catch(u){Gt(e,s,u)}break;case 5:var o=e.return;try{fy(e)}catch(u){Gt(e,o,u)}}}catch(u){Gt(e,e.return,u)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var xO=Math.ceil,Cf=rs.ReactCurrentDispatcher,s0=rs.ReactCurrentOwner,Mr=rs.ReactCurrentBatchConfig,dt=0,bn=null,un=null,In=0,ur=0,ma=Ws(0),gn=0,Mu=null,_o=0,Ah=0,o0=0,au=null,Zn=null,a0=0,Va=1/0,Ai=null,If=!1,my=null,ks=null,cd=!1,bs=null,Rf=0,lu=0,gy=null,Dd=-1,$d=0;function Gn(){return dt&6?Zt():Dd!==-1?Dd:Dd=Zt()}function Ps(t){return t.mode&1?dt&2&&In!==0?In&-In:nO.transition!==null?($d===0&&($d=KE()),$d):(t=wt,t!==0||(t=window.event,t=t===void 0?16:eT(t.type)),t):1}function Zr(t,e,n,r){if(50<lu)throw lu=0,gy=null,Error(ae(185));ic(t,n,r),(!(dt&2)||t!==bn)&&(t===bn&&(!(dt&2)&&(Ah|=n),gn===4&&vs(t,In)),ir(t,r),n===1&&dt===0&&!(e.mode&1)&&(Va=Zt()+500,Ih&&Hs()))}function ir(t,e){var n=t.callbackNode;nj(t,e);var r=df(t,t===bn?In:0);if(r===0)n!==null&&n_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n_(n),e===1)t.tag===0?tO(G_.bind(null,t)):xT(G_.bind(null,t)),Xj(function(){!(dt&6)&&Hs()}),n=null;else{switch(GE(r)){case 1:n=Ov;break;case 4:n=HE;break;case 16:n=cf;break;case 536870912:n=qE;break;default:n=cf}n=yC(n,cC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cC(t,e){if(Dd=-1,$d=0,dt&6)throw Error(ae(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=df(t,t===bn?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kf(t,r);else{e=r;var i=dt;dt|=2;var s=fC();(bn!==t||In!==e)&&(Ai=null,Va=Zt()+500,ho(t,e));do try{wO();break}catch(a){dC(t,a)}while(!0);qv(),Cf.current=s,dt=i,un!==null?e=0:(bn=null,In=0,e=gn)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(r=i,e=yy(t,i))),e===1)throw n=Mu,ho(t,0),vs(t,r),ir(t,Zt()),n;if(e===6)vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!bO(i)&&(e=kf(t,r),e===2&&(s=Ug(t),s!==0&&(r=s,e=yy(t,s))),e===1))throw n=Mu,ho(t,0),vs(t,r),ir(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:no(t,Zn,Ai);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=a0+500-Zt(),10<e)){if(df(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xg(no.bind(null,t,Zn,Ai),e);break}no(t,Zn,Ai);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xO(r/1960))-r,10<r){t.timeoutHandle=Xg(no.bind(null,t,Zn,Ai),r);break}no(t,Zn,Ai);break;case 5:no(t,Zn,Ai);break;default:throw Error(ae(329))}}}return ir(t,Zt()),t.callbackNode===n?cC.bind(null,t):null}function yy(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=kf(t,e),t!==2&&(e=Zn,Zn=n,e!==null&&vy(e)),t}function vy(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function bO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~o0,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jr(e),r=1<<n;t[n]=-1,e&=~r}}function G_(t){if(dt&6)throw Error(ae(327));Sa();var e=df(t,0);if(!(e&1))return ir(t,Zt()),null;var n=kf(t,e);if(t.tag!==0&&n===2){var r=Ug(t);r!==0&&(e=r,n=yy(t,r))}if(n===1)throw n=Mu,ho(t,0),vs(t,e),ir(t,Zt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,Zn,Ai),ir(t,Zt()),null}function l0(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(Va=Zt()+500,Ih&&Hs())}}function wo(t){bs!==null&&bs.tag===0&&!(dt&6)&&Sa();var e=dt;dt|=1;var n=Mr.transition,r=wt;try{if(Mr.transition=null,wt=1,t)return t()}finally{wt=r,Mr.transition=n,dt=e,!(dt&6)&&Hs()}}function u0(){ur=ma.current,Mt(ma)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yj(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gf();break;case 3:$a(),Mt(nr),Mt(Bn),Jv();break;case 5:Xv(r);break;case 4:$a();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Kv(r.type._context);break;case 22:case 23:u0()}n=n.return}if(bn=t,un=t=As(t.current,null),In=ur=e,gn=0,Mu=null,o0=Ah=_o=0,Zn=au=null,lo!==null){for(e=0;e<lo.length;e++)if(n=lo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}lo=null}return t}function dC(t,e){do{var n=un;try{if(qv(),Nd.current=Tf,Ef){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}if(bo=0,vn=mn=Bt=null,su=!1,ju=0,s0.current=null,n===null||n.return===null){gn=1,Mu=e,un=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=In,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=M_(o);if(E!==null){E.flags&=-257,L_(E,o,a,s,e),E.mode&1&&N_(s,c,e),e=E,u=c;var T=e.updateQueue;if(T===null){var _=new Set;_.add(u),e.updateQueue=_}else T.add(u);break e}else{if(!(e&1)){N_(s,c,e),c0();break e}u=Error(ae(426))}}else if($t&&a.mode&1){var I=M_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),L_(I,o,a,s,e),Wv(Fa(u,a));break e}}s=u=Fa(u,a),gn!==4&&(gn=2),au===null?au=[s]:au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=GT(s,u,e);R_(s,C);break e;case 1:a=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ks===null||!ks.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=QT(s,a,e);R_(s,P);break e}}s=s.return}while(s!==null)}pC(n)}catch(M){e=M,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function fC(){var t=Cf.current;return Cf.current=Tf,t===null?Tf:t}function c0(){(gn===0||gn===3||gn===2)&&(gn=4),bn===null||!(_o&268435455)&&!(Ah&268435455)||vs(bn,In)}function kf(t,e){var n=dt;dt|=2;var r=fC();(bn!==t||In!==e)&&(Ai=null,ho(t,e));do try{_O();break}catch(i){dC(t,i)}while(!0);if(qv(),dt=n,Cf.current=r,un!==null)throw Error(ae(261));return bn=null,In=0,gn}function _O(){for(;un!==null;)hC(un)}function wO(){for(;un!==null&&!KA();)hC(un)}function hC(t){var e=gC(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?pC(t):un=e,s0.current=null}function pC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mO(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,un=null;return}}else if(n=pO(n,e,ur),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);gn===0&&(gn=5)}function no(t,e,n){var r=wt,i=Mr.transition;try{Mr.transition=null,wt=1,SO(t,e,n,r)}finally{Mr.transition=i,wt=r}return null}function SO(t,e,n,r){do Sa();while(bs!==null);if(dt&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rj(t,s),t===bn&&(un=bn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cd||(cd=!0,yC(cf,function(){return Sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mr.transition,Mr.transition=null;var o=wt;wt=1;var a=dt;dt|=4,s0.current=null,yO(t,n),lC(n,t),Uj(Qg),ff=!!Gg,Qg=Gg=null,t.current=n,vO(n),GA(),dt=a,wt=o,Mr.transition=s}else t.current=n;if(cd&&(cd=!1,bs=t,Rf=i),s=t.pendingLanes,s===0&&(ks=null),XA(n.stateNode),ir(t,Zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=my,my=null,t;return Rf&1&&t.tag!==0&&Sa(),s=t.pendingLanes,s&1?t===gy?lu++:(lu=0,gy=t):lu=0,Hs(),null}function Sa(){if(bs!==null){var t=GE(Rf),e=Mr.transition,n=wt;try{if(Mr.transition=null,wt=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,Rf=0,dt&6)throw Error(ae(331));var i=dt;for(dt|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:ou(8,f,s)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var m=f.sibling,E=f.return;if(sC(f),f===c){xe=null;break}if(m!==null){m.return=E,xe=m;break}xe=E}}}var T=s.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,xe=C;break e}xe=s.return}}var v=t.current;for(xe=v;xe!==null;){o=xe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,xe=w;else e:for(o=v;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ph(9,a)}}catch(M){Gt(a,a.return,M)}if(a===o){xe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,xe=P;break e}xe=a.return}}if(dt=i,Hs(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(wh,t)}catch{}r=!0}return r}finally{wt=n,Mr.transition=e}}return!1}function Q_(t,e,n){e=Fa(n,e),e=GT(t,e,1),t=Rs(t,e,1),e=Gn(),t!==null&&(ic(t,1,e),ir(t,e))}function Gt(t,e,n){if(t.tag===3)Q_(t,t,n);else for(;e!==null;){if(e.tag===3){Q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Fa(n,t),t=QT(e,t,1),e=Rs(e,t,1),t=Gn(),e!==null&&(ic(e,1,t),ir(e,t));break}}e=e.return}}function EO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&n,bn===t&&(In&n)===n&&(gn===4||gn===3&&(In&130023424)===In&&500>Zt()-a0?ho(t,0):o0|=n),ir(t,e)}function mC(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var n=Gn();t=Yi(t,e),t!==null&&(ic(t,e,n),ir(t,n))}function TO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mC(t,n)}function CO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),mC(t,n)}var gC;gC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,hO(t,e,n);tr=!!(t.flags&131072)}else tr=!1,$t&&e.flags&1048576&&bT(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ld(t,e),t=e.pendingProps;var i=Ma(e,Bn.current);wa(e,n),i=e0(null,e,r,t,i,n);var s=t0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rr(r)?(s=!0,yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(e),i.updater=kh,e.stateNode=i,i._reactInternals=e,iy(e,r,t,n),e=ay(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&Bv(e),qn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ld(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RO(r),t=Gr(r,t),i){case 0:e=oy(null,e,r,t,n);break e;case 1:e=F_(null,e,r,t,n);break e;case 11:e=D_(null,e,r,t,n);break e;case 14:e=$_(null,e,r,Gr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),oy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),F_(t,e,r,i,n);case 3:e:{if(ZT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CT(t,e),wf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fa(Error(ae(423)),e),e=V_(t,e,r,n,i);break e}else if(r!==i){i=Fa(Error(ae(424)),e),e=V_(t,e,r,n,i);break e}else for(dr=Is(e.stateNode.containerInfo.firstChild),pr=e,$t=!0,Yr=null,n=ET(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Xi(t,e,n);break e}qn(t,e,r,n)}e=e.child}return e;case 5:return IT(e),t===null&&ty(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yg(r,i)?o=null:s!==null&&Yg(r,s)&&(e.flags|=32),JT(t,e),qn(t,e,o,n),e.child;case 6:return t===null&&ty(e),null;case 13:return eC(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):qn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),D_(t,e,r,i,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,At(bf,r._currentValue),r._currentValue=o,s!==null)if(ei(s.value,o)){if(s.children===i.children&&!nr.current){e=Xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ui(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ny(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ny(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wa(e,n),i=$r(i),r=r(i),e.flags|=1,qn(t,e,r,n),e.child;case 14:return r=e.type,i=Gr(r,e.pendingProps),i=Gr(r.type,i),$_(t,e,r,i,n);case 15:return YT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),Ld(t,e),e.tag=1,rr(r)?(t=!0,yf(e)):t=!1,wa(e,n),KT(e,r,i),iy(e,r,i,n),ay(null,e,r,!0,t,n);case 19:return tC(t,e,n);case 22:return XT(t,e,n)}throw Error(ae(156,e.tag))};function yC(t,e){return WE(t,e)}function IO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,r){return new IO(t,e,n,r)}function d0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RO(t){if(typeof t=="function")return d0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pv)return 11;if(t===Av)return 14}return 2}function As(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")d0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return po(n.children,i,s,e);case kv:o=8,i|=8;break;case Rg:return t=Nr(12,n,e,i|2),t.elementType=Rg,t.lanes=s,t;case kg:return t=Nr(13,n,e,i),t.elementType=kg,t.lanes=s,t;case Pg:return t=Nr(19,n,e,i),t.elementType=Pg,t.lanes=s,t;case IE:return jh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TE:o=10;break e;case CE:o=9;break e;case Pv:o=11;break e;case Av:o=14;break e;case ps:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function po(t,e,n,r){return t=Nr(7,t,r,e),t.lanes=n,t}function jh(t,e,n,r){return t=Nr(22,t,r,e),t.elementType=IE,t.lanes=n,t.stateNode={isHidden:!1},t}function Vm(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function zm(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f0(t,e,n,r,i,s,o,a,u){return t=new kO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(s),t}function PO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vC(t){if(!t)return Ls;t=t._reactInternals;e:{if(Oo(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(rr(n))return vT(t,n,e)}return e}function xC(t,e,n,r,i,s,o,a,u){return t=f0(n,r,!0,t,i,s,o,a,u),t.context=vC(null),n=t.current,r=Gn(),i=Ps(n),s=Ui(r,i),s.callback=e??null,Rs(n,s,i),t.current.lanes=i,ic(t,i,r),ir(t,r),t}function Oh(t,e,n,r){var i=e.current,s=Gn(),o=Ps(i);return n=vC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ui(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rs(i,e,o),t!==null&&(Zr(t,i,o,s),Od(t,i,o)),o}function Pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h0(t,e){Y_(t,e),(t=t.alternate)&&Y_(t,e)}function AO(){return null}var bC=typeof reportError=="function"?reportError:function(t){console.error(t)};function p0(t){this._internalRoot=t}Nh.prototype.render=p0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Oh(t,e,null,null)};Nh.prototype.unmount=p0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Oh(null,t,null,null)}),e[Qi]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=XE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&ZE(t)}};function m0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X_(){}function jO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Pf(o);s.call(c)}}var o=xC(e,r,t,0,null,!1,!1,"",X_);return t._reactRootContainer=o,t[Qi]=o.current,Iu(t.nodeType===8?t.parentNode:t),wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Pf(u);a.call(c)}}var u=f0(t,0,!1,null,null,!1,!1,"",X_);return t._reactRootContainer=u,t[Qi]=u.current,Iu(t.nodeType===8?t.parentNode:t),wo(function(){Oh(e,u,n,r)}),u}function Lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Pf(o);a.call(u)}}Oh(e,o,t,i)}else o=jO(n,e,t,i,r);return Pf(o)}QE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(Nv(e,n|1),ir(e,Zt()),!(dt&6)&&(Va=Zt()+500,Hs()))}break;case 13:wo(function(){var r=Yi(t,1);if(r!==null){var i=Gn();Zr(r,t,1,i)}}),h0(t,1)}};Mv=function(t){if(t.tag===13){var e=Yi(t,134217728);if(e!==null){var n=Gn();Zr(e,t,134217728,n)}h0(t,134217728)}};YE=function(t){if(t.tag===13){var e=Ps(t),n=Yi(t,e);if(n!==null){var r=Gn();Zr(n,t,e,r)}h0(t,e)}};XE=function(){return wt};JE=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};Vg=function(t,e,n){switch(e){case"input":if(Og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ch(r);if(!i)throw Error(ae(90));kE(r),Og(r,i)}}}break;case"textarea":AE(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};$E=l0;FE=wo;var OO={usingClientEntryPoint:!1,Events:[oc,ua,Ch,LE,DE,l0]},Ol={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NO={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||AO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{wh=dd.inject(NO),fi=dd}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(e))throw Error(ae(200));return PO(t,e,null,n)};_r.createRoot=function(t,e){if(!m0(t))throw Error(ae(299));var n=!1,r="",i=bC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f0(t,1,!1,null,null,n,!1,r,i),t[Qi]=e.current,Iu(t.nodeType===8?t.parentNode:t),new p0(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=BE(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return wo(t)};_r.hydrate=function(t,e,n){if(!Mh(e))throw Error(ae(200));return Lh(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!m0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xC(e,null,t,1,n??null,i,!1,s,o),t[Qi]=e.current,Iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nh(e)};_r.render=function(t,e,n){if(!Mh(e))throw Error(ae(200));return Lh(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!Mh(t))throw Error(ae(40));return t._reactRootContainer?(wo(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};_r.unstable_batchedUpdates=l0;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mh(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Lh(t,e,n,!1,r)};_r.version="18.3.1-next-f1338f8080-20240426";function _C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_C)}catch(t){console.error(t)}}_C(),_E.exports=_r;var g0=_E.exports;const fd=yh(g0);var J_=g0;Cg.createRoot=J_.createRoot,Cg.hydrateRoot=J_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const Z_="popstate";function MO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=No(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),xy("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Af(s))}function r(i,s){y0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DO(e,n,r,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LO(){return Math.random().toString(36).substr(2,8)}function e1(t,e){return{usr:t.state,key:t.key,idx:e}}function xy(t,e,n,r){return n===void 0&&(n=null),Lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?No(e):e,{state:n,key:e&&e.key||r||LO()})}function Af(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function No(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_s.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Lu({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=_s.Pop;let I=f(),C=I==null?null:I-c;c=I,u&&u({action:a,location:_.location,delta:C})}function m(I,C){a=_s.Push;let v=xy(_.location,I,C);n&&n(v,I),c=f()+1;let w=e1(v,c),P=_.createHref(v);try{o.pushState(w,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&u&&u({action:a,location:_.location,delta:1})}function E(I,C){a=_s.Replace;let v=xy(_.location,I,C);n&&n(v,I),c=f();let w=e1(v,c),P=_.createHref(v);o.replaceState(w,"",P),s&&u&&u({action:a,location:_.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:Af(I);return v=v.replace(/ $/,"%20"),nn(C,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,C)}let _={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Z_,h),u=I,()=>{i.removeEventListener(Z_,h),u=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:E,go(I){return o.go(I)}};return _}var t1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(t1||(t1={}));function $O(t,e,n){return n===void 0&&(n="/"),FO(t,e,n)}function FO(t,e,n,r){let i=typeof e=="string"?No(e):e,s=v0(i.pathname||"/",n);if(s==null)return null;let o=wC(t);VO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=JO(s);a=QO(o[u],c)}return a}function wC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(nn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=js([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of SC(s.path))i(s,o,u)}),e}function SC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function VO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zO=/^:[\w-]+$/,BO=3,UO=2,WO=1,HO=10,qO=-2,n1=t=>t==="*";function KO(t,e){let n=t.split("/"),r=n.length;return n.some(n1)&&(r+=qO),e&&(r+=UO),n.filter(i=>!n1(i)).reduce((i,s)=>i+(zO.test(s)?BO:s===""?WO:HO),r)}function GO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=YO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:js([s,h.pathname]),pathnameBase:nN(js([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=js([s,h.pathnameBase]))}return o}function YO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const T=a[h];return E&&!T?c[m]=void 0:c[m]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function XO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),y0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return y0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function v0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?No(t):t;return{pathname:n?n.startsWith("/")?n:eN(n,e):e,search:rN(r),hash:iN(i)}}function eN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t,e){let n=tN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=No(t):(i=Lu({},t),nn(!i.pathname||!i.pathname.includes("?"),Bm("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Bm("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Bm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=ZO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const js=t=>t.join("/").replace(/\/\/+/g,"/"),nN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EC=["post","put","patch","delete"];new Set(EC);const oN=["get",...EC];new Set(oN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}const _0=b.createContext(null),aN=b.createContext(null),qs=b.createContext(null),Dh=b.createContext(null),is=b.createContext({outlet:null,matches:[],isDataRoute:!1}),TC=b.createContext(null);function lN(t,e){let{relative:n}=e===void 0?{}:e;ol()||nn(!1);let{basename:r,navigator:i}=b.useContext(qs),{hash:s,pathname:o,search:a}=IC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:js([r,o])),i.createHref({pathname:u,search:a,hash:s})}function ol(){return b.useContext(Dh)!=null}function Mo(){return ol()||nn(!1),b.useContext(Dh).location}function CC(t){b.useContext(qs).static||b.useLayoutEffect(t)}function Sr(){let{isDataRoute:t}=b.useContext(is);return t?_N():uN()}function uN(){ol()||nn(!1);let t=b.useContext(_0),{basename:e,future:n,navigator:r}=b.useContext(qs),{matches:i}=b.useContext(is),{pathname:s}=Mo(),o=JSON.stringify(x0(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return CC(()=>{a.current=!0}),b.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=b0(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:js([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function lc(){let{matches:t}=b.useContext(is),e=t[t.length-1];return e?e.params:{}}function IC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(qs),{matches:i}=b.useContext(is),{pathname:s}=Mo(),o=JSON.stringify(x0(i,r.v7_relativeSplatPath));return b.useMemo(()=>b0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cN(t,e){return dN(t,e)}function dN(t,e,n,r){ol()||nn(!1);let{navigator:i}=b.useContext(qs),{matches:s}=b.useContext(is),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Mo(),f;if(e){var h;let I=typeof e=="string"?No(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||nn(!1),f=I}else f=c;let m=f.pathname||"/",E=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=$O(t,{pathname:E}),_=gN(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:js([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:js([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&_?b.createElement(Dh.Provider,{value:{location:Du({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_s.Pop}},_):_}function fN(){let t=bN(),e=sN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const hN=b.createElement(fN,null);class pN extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(is.Provider,{value:this.props.routeContext},b.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mN(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(_0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(is.Provider,{value:e},r)}function gN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||nn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:E}=n,T=h.route.loader&&m[h.route.id]===void 0&&(!E||E[h.route.id]===void 0);if(h.route.lazy||T){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let E,T=!1,_=null,I=null;n&&(E=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||hN,u&&(c<0&&m===0?(wN("route-fallback"),T=!0,I=null):c===m&&(T=!0,I=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),v=()=>{let w;return E?w=_:T?w=I:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=f,b.createElement(mN,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(pN,{location:n.location,revalidation:n.revalidation,component:_,error:E,children:v(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):v()},null)}var RC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RC||{}),kC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kC||{});function yN(t){let e=b.useContext(_0);return e||nn(!1),e}function vN(t){let e=b.useContext(aN);return e||nn(!1),e}function xN(t){let e=b.useContext(is);return e||nn(!1),e}function PC(t){let e=xN(),n=e.matches[e.matches.length-1];return n.route.id||nn(!1),n.route.id}function bN(){var t;let e=b.useContext(TC),n=vN(),r=PC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _N(){let{router:t}=yN(RC.UseNavigateStable),e=PC(kC.UseNavigateStable),n=b.useRef(!1);return CC(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Du({fromRouteId:e},s)))},[t,e])}const r1={};function wN(t,e,n){r1[t]||(r1[t]=!0)}function SN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function EN(t){let{to:e,replace:n,state:r,relative:i}=t;ol()||nn(!1);let{future:s,static:o}=b.useContext(qs),{matches:a}=b.useContext(is),{pathname:u}=Mo(),c=Sr(),f=b0(e,x0(a,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(f);return b.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Yt(t){nn(!1)}function TN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_s.Pop,navigator:s,static:o=!1,future:a}=t;ol()&&nn(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:s,static:o,future:Du({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=No(r));let{pathname:f="/",search:h="",hash:m="",state:E=null,key:T="default"}=r,_=b.useMemo(()=>{let I=v0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:E,key:T},navigationType:i}},[u,f,h,m,E,T,i]);return _==null?null:b.createElement(qs.Provider,{value:c},b.createElement(Dh.Provider,{children:n,value:_}))}function CN(t){let{children:e,location:n}=t;return cN(by(e),n)}new Promise(()=>{});function by(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,by(r.props.children,s));return}r.type!==Yt&&nn(!1),!r.props.index||!r.props.children||nn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=by(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function IN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kN(t,e){return t.button===0&&(!e||e==="_self")&&!RN(t)}const PN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AN="6";try{window.__reactRouterVersion=AN}catch{}const jN="startTransition",i1=of[jN];function ON(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=MO({window:i,v5Compat:!0}));let o=s.current,[a,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=b.useCallback(h=>{c&&i1?i1(()=>u(h)):u(h)},[u,c]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>SN(r),[r]),b.createElement(TN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=IN(e,PN),{basename:E}=b.useContext(qs),T,_=!1;if(typeof c=="string"&&MN.test(c)&&(T=c,NN))try{let w=new URL(window.location.href),P=c.startsWith("//")?new URL(w.protocol+c):new URL(c),M=v0(P.pathname,E);P.origin===w.origin&&M!=null?c=M+P.search+P.hash:_=!0}catch{}let I=lN(c,{relative:i}),C=LN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||C(w)}return b.createElement("a",_y({},m,{href:T||I,onClick:_||s?r:v,ref:n,target:u}))});var s1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s1||(s1={}));var o1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o1||(o1={}));function LN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Sr(),c=Mo(),f=IC(t,{relative:o});return b.useCallback(h=>{if(kN(h,n)){h.preventDefault();let m=r!==void 0?r:Af(c)===Af(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var a1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,E=c&63;u||(E=64,o||(m=64)),r.push(n[f],n[h],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new $N;const m=s<<2|a>>4;if(r.push(m),c!==64){const E=a<<4&240|c>>2;if(r.push(E),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FN=function(t){const e=AC(t);return jC.encodeByteArray(e,!0)},jf=function(t){return FN(t).replace(/\./g,"")},OC=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=()=>VN().__FIREBASE_DEFAULTS__,BN=()=>{if(typeof process>"u"||typeof a1>"u")return;const t=a1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OC(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return zN()||BN()||UN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NC=t=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MC=t=>{const e=NC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LC=()=>{var t;return(t=Fh())===null||t===void 0?void 0:t.config},DC=t=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function qN(){var t;const e=(t=Fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YN(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XN(){return!qN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eM,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ti(i,a,r)}}function tM(t,e){return t.replace(nM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nM=/\{\$([^}]+)}/g;function rM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(l1(s)&&l1(o)){if(!Of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iM(t,e){const n=new sM(t,e);return n.subscribe.bind(n)}class sM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uM(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lM(t){return t===ro?void 0:t}function uM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const dM={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},fM=at.INFO,hM={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},pM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w0{constructor(e){this.name=e,this._logLevel=fM,this._logHandler=pM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const mM=(t,e)=>e.some(n=>t instanceof n);let u1,c1;function gM(){return u1||(u1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yM(){return c1||(c1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,wy=new WeakMap,VC=new WeakMap,Wm=new WeakMap,S0=new WeakMap;function vM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Os(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FC.set(n,t)}).catch(()=>{}),S0.set(e,t),e}function xM(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bM(t){Sy=t(Sy)}function _M(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hm(this),e,...n);return VC.set(r,e.sort?e.sort():[e]),Os(r)}:yM().includes(t)?function(...e){return t.apply(Hm(this),e),Os(FC.get(this))}:function(...e){return Os(t.apply(Hm(this),e))}}function wM(t){return typeof t=="function"?_M(t):(t instanceof IDBTransaction&&xM(t),mM(t,gM())?new Proxy(t,Sy):t)}function Os(t){if(t instanceof IDBRequest)return vM(t);if(Wm.has(t))return Wm.get(t);const e=wM(t);return e!==t&&(Wm.set(t,e),S0.set(e,t)),e}const Hm=t=>S0.get(t);function SM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Os(o.result),u.oldVersion,u.newVersion,Os(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EM=["get","getKey","getAll","getAllKeys","count"],TM=["put","add","delete","clear"],qm=new Map;function d1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EM.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return qm.set(e,s),s}bM(t=>({...t,get:(e,n,r)=>d1(e,n)||t.get(e,n,r),has:(e,n)=>!!d1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",f1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new w0("@firebase/app"),RM="@firebase/app-compat",kM="@firebase/analytics-compat",PM="@firebase/analytics",AM="@firebase/app-check-compat",jM="@firebase/app-check",OM="@firebase/auth",NM="@firebase/auth-compat",MM="@firebase/database",LM="@firebase/data-connect",DM="@firebase/database-compat",$M="@firebase/functions",FM="@firebase/functions-compat",VM="@firebase/installations",zM="@firebase/installations-compat",BM="@firebase/messaging",UM="@firebase/messaging-compat",WM="@firebase/performance",HM="@firebase/performance-compat",qM="@firebase/remote-config",KM="@firebase/remote-config-compat",GM="@firebase/storage",QM="@firebase/storage-compat",YM="@firebase/firestore",XM="@firebase/vertexai-preview",JM="@firebase/firestore-compat",ZM="firebase",eL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",tL={[Ey]:"fire-core",[RM]:"fire-core-compat",[PM]:"fire-analytics",[kM]:"fire-analytics-compat",[jM]:"fire-app-check",[AM]:"fire-app-check-compat",[OM]:"fire-auth",[NM]:"fire-auth-compat",[MM]:"fire-rtdb",[LM]:"fire-data-connect",[DM]:"fire-rtdb-compat",[$M]:"fire-fn",[FM]:"fire-fn-compat",[VM]:"fire-iid",[zM]:"fire-iid-compat",[BM]:"fire-fcm",[UM]:"fire-fcm-compat",[WM]:"fire-perf",[HM]:"fire-perf-compat",[qM]:"fire-rc",[KM]:"fire-rc-compat",[GM]:"fire-gcs",[QM]:"fire-gcs-compat",[YM]:"fire-fst",[JM]:"fire-fst-compat",[XM]:"fire-vertex","fire-js":"fire-js",[ZM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,nL=new Map,Cy=new Map;function h1(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Cy.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const n of Nf.values())h1(n,t);for(const n of nL.values())h1(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new uc("app","Firebase",rL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=eL;function zC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(n||(n=LC()),!n)throw Ns.create("no-options");const s=Nf.get(i);if(s){if(Of(n,s.options)&&Of(r,s.config))return s;throw Ns.create("duplicate-app",{appName:i})}const o=new cM(i);for(const u of Cy.values())o.addComponent(u);const a=new iL(n,r,o);return Nf.set(i,a),a}function E0(t=Ty){const e=Nf.get(t);if(!e&&t===Ty&&LC())return zC();if(!e)throw Ns.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let i=(r=tL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}So(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="firebase-heartbeat-database",oL=1,$u="firebase-heartbeat-store";let Km=null;function BC(){return Km||(Km=SM(sL,oL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),Km}async function aL(t){try{const n=(await BC()).transaction($u),r=await n.objectStore($u).get(UC(t));return await n.done,r}catch(e){if(e instanceof Ti)Ji.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function p1(t,e){try{const r=(await BC()).transaction($u,"readwrite");await r.objectStore($u).put(e,UC(t)),await r.done}catch(n){if(n instanceof Ti)Ji.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function UC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=1024,uL=30*24*60*60*1e3;class cL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=m1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m1(),{heartbeatsToSend:r,unsentEntries:i}=dL(this._heartbeatsCache.heartbeats),s=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ji.warn(n),""}}}function m1(){return new Date().toISOString().substring(0,10)}function dL(t,e=lL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g1(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){So(new Ds("platform-logger",e=>new CM(e),"PRIVATE")),So(new Ds("heartbeat",e=>new cL(e),"PRIVATE")),pi(Ey,f1,t),pi(Ey,f1,"esm2017"),pi("fire-js","")}hL("");var pL="firebase",mL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(pL,mL,"app");var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,WC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,p){function g(){}g.prototype=p.prototype,S.D=p.prototype,S.prototype=new g,S.prototype.constructor=S,S.C=function(x,A,j){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return p.prototype[A].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,p,g){g||(g=0);var x=Array(16);if(typeof p=="string")for(var A=0;16>A;++A)x[A]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(A=0;16>A;++A)x[A]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=S.g[0],g=S.g[1],A=S.g[2];var j=S.g[3],R=p+(j^g&(A^j))+x[0]+3614090360&4294967295;p=g+(R<<7&4294967295|R>>>25),R=j+(A^p&(g^A))+x[1]+3905402710&4294967295,j=p+(R<<12&4294967295|R>>>20),R=A+(g^j&(p^g))+x[2]+606105819&4294967295,A=j+(R<<17&4294967295|R>>>15),R=g+(p^A&(j^p))+x[3]+3250441966&4294967295,g=A+(R<<22&4294967295|R>>>10),R=p+(j^g&(A^j))+x[4]+4118548399&4294967295,p=g+(R<<7&4294967295|R>>>25),R=j+(A^p&(g^A))+x[5]+1200080426&4294967295,j=p+(R<<12&4294967295|R>>>20),R=A+(g^j&(p^g))+x[6]+2821735955&4294967295,A=j+(R<<17&4294967295|R>>>15),R=g+(p^A&(j^p))+x[7]+4249261313&4294967295,g=A+(R<<22&4294967295|R>>>10),R=p+(j^g&(A^j))+x[8]+1770035416&4294967295,p=g+(R<<7&4294967295|R>>>25),R=j+(A^p&(g^A))+x[9]+2336552879&4294967295,j=p+(R<<12&4294967295|R>>>20),R=A+(g^j&(p^g))+x[10]+4294925233&4294967295,A=j+(R<<17&4294967295|R>>>15),R=g+(p^A&(j^p))+x[11]+2304563134&4294967295,g=A+(R<<22&4294967295|R>>>10),R=p+(j^g&(A^j))+x[12]+1804603682&4294967295,p=g+(R<<7&4294967295|R>>>25),R=j+(A^p&(g^A))+x[13]+4254626195&4294967295,j=p+(R<<12&4294967295|R>>>20),R=A+(g^j&(p^g))+x[14]+2792965006&4294967295,A=j+(R<<17&4294967295|R>>>15),R=g+(p^A&(j^p))+x[15]+1236535329&4294967295,g=A+(R<<22&4294967295|R>>>10),R=p+(A^j&(g^A))+x[1]+4129170786&4294967295,p=g+(R<<5&4294967295|R>>>27),R=j+(g^A&(p^g))+x[6]+3225465664&4294967295,j=p+(R<<9&4294967295|R>>>23),R=A+(p^g&(j^p))+x[11]+643717713&4294967295,A=j+(R<<14&4294967295|R>>>18),R=g+(j^p&(A^j))+x[0]+3921069994&4294967295,g=A+(R<<20&4294967295|R>>>12),R=p+(A^j&(g^A))+x[5]+3593408605&4294967295,p=g+(R<<5&4294967295|R>>>27),R=j+(g^A&(p^g))+x[10]+38016083&4294967295,j=p+(R<<9&4294967295|R>>>23),R=A+(p^g&(j^p))+x[15]+3634488961&4294967295,A=j+(R<<14&4294967295|R>>>18),R=g+(j^p&(A^j))+x[4]+3889429448&4294967295,g=A+(R<<20&4294967295|R>>>12),R=p+(A^j&(g^A))+x[9]+568446438&4294967295,p=g+(R<<5&4294967295|R>>>27),R=j+(g^A&(p^g))+x[14]+3275163606&4294967295,j=p+(R<<9&4294967295|R>>>23),R=A+(p^g&(j^p))+x[3]+4107603335&4294967295,A=j+(R<<14&4294967295|R>>>18),R=g+(j^p&(A^j))+x[8]+1163531501&4294967295,g=A+(R<<20&4294967295|R>>>12),R=p+(A^j&(g^A))+x[13]+2850285829&4294967295,p=g+(R<<5&4294967295|R>>>27),R=j+(g^A&(p^g))+x[2]+4243563512&4294967295,j=p+(R<<9&4294967295|R>>>23),R=A+(p^g&(j^p))+x[7]+1735328473&4294967295,A=j+(R<<14&4294967295|R>>>18),R=g+(j^p&(A^j))+x[12]+2368359562&4294967295,g=A+(R<<20&4294967295|R>>>12),R=p+(g^A^j)+x[5]+4294588738&4294967295,p=g+(R<<4&4294967295|R>>>28),R=j+(p^g^A)+x[8]+2272392833&4294967295,j=p+(R<<11&4294967295|R>>>21),R=A+(j^p^g)+x[11]+1839030562&4294967295,A=j+(R<<16&4294967295|R>>>16),R=g+(A^j^p)+x[14]+4259657740&4294967295,g=A+(R<<23&4294967295|R>>>9),R=p+(g^A^j)+x[1]+2763975236&4294967295,p=g+(R<<4&4294967295|R>>>28),R=j+(p^g^A)+x[4]+1272893353&4294967295,j=p+(R<<11&4294967295|R>>>21),R=A+(j^p^g)+x[7]+4139469664&4294967295,A=j+(R<<16&4294967295|R>>>16),R=g+(A^j^p)+x[10]+3200236656&4294967295,g=A+(R<<23&4294967295|R>>>9),R=p+(g^A^j)+x[13]+681279174&4294967295,p=g+(R<<4&4294967295|R>>>28),R=j+(p^g^A)+x[0]+3936430074&4294967295,j=p+(R<<11&4294967295|R>>>21),R=A+(j^p^g)+x[3]+3572445317&4294967295,A=j+(R<<16&4294967295|R>>>16),R=g+(A^j^p)+x[6]+76029189&4294967295,g=A+(R<<23&4294967295|R>>>9),R=p+(g^A^j)+x[9]+3654602809&4294967295,p=g+(R<<4&4294967295|R>>>28),R=j+(p^g^A)+x[12]+3873151461&4294967295,j=p+(R<<11&4294967295|R>>>21),R=A+(j^p^g)+x[15]+530742520&4294967295,A=j+(R<<16&4294967295|R>>>16),R=g+(A^j^p)+x[2]+3299628645&4294967295,g=A+(R<<23&4294967295|R>>>9),R=p+(A^(g|~j))+x[0]+4096336452&4294967295,p=g+(R<<6&4294967295|R>>>26),R=j+(g^(p|~A))+x[7]+1126891415&4294967295,j=p+(R<<10&4294967295|R>>>22),R=A+(p^(j|~g))+x[14]+2878612391&4294967295,A=j+(R<<15&4294967295|R>>>17),R=g+(j^(A|~p))+x[5]+4237533241&4294967295,g=A+(R<<21&4294967295|R>>>11),R=p+(A^(g|~j))+x[12]+1700485571&4294967295,p=g+(R<<6&4294967295|R>>>26),R=j+(g^(p|~A))+x[3]+2399980690&4294967295,j=p+(R<<10&4294967295|R>>>22),R=A+(p^(j|~g))+x[10]+4293915773&4294967295,A=j+(R<<15&4294967295|R>>>17),R=g+(j^(A|~p))+x[1]+2240044497&4294967295,g=A+(R<<21&4294967295|R>>>11),R=p+(A^(g|~j))+x[8]+1873313359&4294967295,p=g+(R<<6&4294967295|R>>>26),R=j+(g^(p|~A))+x[15]+4264355552&4294967295,j=p+(R<<10&4294967295|R>>>22),R=A+(p^(j|~g))+x[6]+2734768916&4294967295,A=j+(R<<15&4294967295|R>>>17),R=g+(j^(A|~p))+x[13]+1309151649&4294967295,g=A+(R<<21&4294967295|R>>>11),R=p+(A^(g|~j))+x[4]+4149444226&4294967295,p=g+(R<<6&4294967295|R>>>26),R=j+(g^(p|~A))+x[11]+3174756917&4294967295,j=p+(R<<10&4294967295|R>>>22),R=A+(p^(j|~g))+x[2]+718787259&4294967295,A=j+(R<<15&4294967295|R>>>17),R=g+(j^(A|~p))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var g=p-this.blockSize,x=this.B,A=this.h,j=0;j<p;){if(A==0)for(;j<=g;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<p;)if(x[A++]=S.charCodeAt(j++),A==this.blockSize){i(this,x),A=0;break}}else for(;j<p;)if(x[A++]=S[j++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=p},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var g=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=g&255,g/=256;for(this.u(S),S=Array(16),p=g=0;4>p;++p)for(var x=0;32>x;x+=8)S[g++]=this.g[p]>>>x&255;return S};function s(S,p){var g=a;return Object.prototype.hasOwnProperty.call(g,S)?g[S]:g[S]=p(S)}function o(S,p){this.h=p;for(var g=[],x=!0,A=S.length-1;0<=A;A--){var j=S[A]|0;x&&j==p||(g[A]=j,x=!1)}this.g=g}var a={};function u(S){return-128<=S&&128>S?s(S,function(p){return new o([p|0],0>p?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(c(-S));for(var p=[],g=1,x=0;S>=g;x++)p[x]=S/g|0,g*=4294967296;return new o(p,0)}function f(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return I(f(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=c(Math.pow(p,8)),x=h,A=0;A<S.length;A+=8){var j=Math.min(8,S.length-A),R=parseInt(S.substring(A,A+j),p);8>j?(j=c(Math.pow(p,j)),x=x.j(j).add(c(R))):(x=x.j(g),x=x.add(c(R)))}return x}var h=u(0),m=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();for(var S=0,p=1,g=0;g<this.g.length;g++){var x=this.i(g);S+=(0<=x?x:4294967296+x)*p,p*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(_(this))return"-"+I(this).toString(S);for(var p=c(Math.pow(S,6)),g=this,x="";;){var A=P(g,p).g;g=C(g,A.j(p));var j=((0<g.g.length?g.g[0]:g.h)>>>0).toString(S);if(g=A,T(g))return j+x;for(;6>j.length;)j="0"+j;x=j+x}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=C(this,S),_(S)?-1:T(S)?0:1};function I(S){for(var p=S.g.length,g=[],x=0;x<p;x++)g[x]=~S.g[x];return new o(g,~S.h).add(m)}t.abs=function(){return _(this)?I(this):this},t.add=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0,A=0;A<=p;A++){var j=x+(this.i(A)&65535)+(S.i(A)&65535),R=(j>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);x=R>>>16,j&=65535,R&=65535,g[A]=R<<16|j}return new o(g,g[g.length-1]&-2147483648?-1:0)};function C(S,p){return S.add(I(p))}t.j=function(S){if(T(this)||T(S))return h;if(_(this))return _(S)?I(this).j(I(S)):I(I(this).j(S));if(_(S))return I(this.j(I(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var p=this.g.length+S.g.length,g=[],x=0;x<2*p;x++)g[x]=0;for(x=0;x<this.g.length;x++)for(var A=0;A<S.g.length;A++){var j=this.i(x)>>>16,R=this.i(x)&65535,z=S.i(A)>>>16,F=S.i(A)&65535;g[2*x+2*A]+=R*F,v(g,2*x+2*A),g[2*x+2*A+1]+=j*F,v(g,2*x+2*A+1),g[2*x+2*A+1]+=R*z,v(g,2*x+2*A+1),g[2*x+2*A+2]+=j*z,v(g,2*x+2*A+2)}for(x=0;x<p;x++)g[x]=g[2*x+1]<<16|g[2*x];for(x=p;x<2*p;x++)g[x]=0;return new o(g,0)};function v(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function w(S,p){this.g=S,this.h=p}function P(S,p){if(T(p))throw Error("division by zero");if(T(S))return new w(h,h);if(_(S))return p=P(I(S),p),new w(I(p.g),I(p.h));if(_(p))return p=P(S,I(p)),new w(I(p.g),p.h);if(30<S.g.length){if(_(S)||_(p))throw Error("slowDivide_ only works with positive integers.");for(var g=m,x=p;0>=x.l(S);)g=M(g),x=M(x);var A=N(g,1),j=N(x,1);for(x=N(x,2),g=N(g,2);!T(x);){var R=j.add(x);0>=R.l(S)&&(A=A.add(g),j=R),x=N(x,1),g=N(g,1)}return p=C(S,A.j(p)),new w(A,p)}for(A=h;0<=S.l(p);){for(g=Math.max(1,Math.floor(S.m()/p.m())),x=Math.ceil(Math.log(g)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),j=c(g),R=j.j(p);_(R)||0<R.l(S);)g-=x,j=c(g),R=j.j(p);T(j)&&(j=m),A=A.add(j),S=C(S,R)}return new w(A,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)&S.i(x);return new o(g,this.h&S.h)},t.or=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)|S.i(x);return new o(g,this.h|S.h)},t.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),g=[],x=0;x<p;x++)g[x]=this.i(x)^S.i(x);return new o(g,this.h^S.h)};function M(S){for(var p=S.g.length+1,g=[],x=0;x<p;x++)g[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(g,S.h)}function N(S,p){var g=p>>5;p%=32;for(var x=S.g.length-g,A=[],j=0;j<x;j++)A[j]=0<p?S.i(j+g)>>>p|S.i(j+g+1)<<32-p:S.i(j+g);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,mo=o}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HC,Ql,qC,Vd,Iy,KC,GC,QC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,k){return d==Array.prototype||d==Object.prototype||(d[y]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var y=0;y<d.length;++y){var k=d[y];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var k=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var G=d[D];if(!(G in k))break e;k=k[G]}d=d[d.length-1],D=k[d],y=y(D),y!=D&&y!=null&&e(k,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var k=0,D=!1,G={next:function(){if(!D&&k<d.length){var X=k++;return{value:y(X,d[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,k){return d.call.apply(d.bind,arguments)}function h(d,y,k){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function m(d,y,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function E(d,y){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function T(d,y){function k(){}k.prototype=y.prototype,d.aa=y.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(D,G,X){for(var de=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)de[Tt-2]=arguments[Tt];return y.prototype[G].apply(D,de)}}function _(d){const y=d.length;if(0<y){const k=Array(y);for(let D=0;D<y;D++)k[D]=d[D];return k}return[]}function I(d,y){for(let k=1;k<arguments.length;k++){const D=arguments[k];if(u(D)){const G=d.length||0,X=D.length||0;d.length=G+X;for(let de=0;de<X;de++)d[G+de]=D[de]}else d.push(D)}}class C{constructor(y,k){this.i=y,this.j=k,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function N(d,y,k){for(const D in d)y.call(k,d[D],D,d)}function S(d,y){for(const k in d)y.call(void 0,d[k],k,d)}function p(d){const y={};for(const k in d)y[k]=d[k];return y}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,y){let k,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(k in D)d[k]=D[k];for(let X=0;X<g.length;X++)k=g[X],Object.prototype.hasOwnProperty.call(D,k)&&(d[k]=D[k])}}function A(d){var y=1;d=d.split(":");const k=[];for(;0<y&&d.length;)k.push(d.shift()),y--;return d.length&&k.push(d.join(":")),k}function j(d){a.setTimeout(()=>{throw d},0)}function R(){var d=V;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,k){const D=F.get();D.set(y,k),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new C(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(y,k){this.h=y,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let U,L=!1,V=new z,H=()=>{const d=a.Promise.resolve(void 0);U=()=>{d.then(K)}};var K=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(k){j(k)}var y=F;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}L=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};a.addEventListener("test",k,y),a.removeEventListener("test",k,y)}catch{}return d}();function ce(d,y){if(Y.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(M){e:{try{P(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else k=="mouseover"?y=d.fromElement:k=="mouseout"&&(y=d.toElement);this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ye[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ce.aa.h.call(this)}}T(ce,Y);var ye={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),ne=0;function W(d,y,k,D,G){this.listener=d,this.proxy=null,this.src=y,this.type=k,this.capture=!!D,this.ha=G,this.key=++ne,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ee(d){this.src=d,this.g={},this.h=0}ee.prototype.add=function(d,y,k,D,G){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var de=he(d,y,D,G);return-1<de?(y=d[de],k||(y.fa=!1)):(y=new W(y,this.src,X,!!D,G),y.fa=k,d.push(y)),y};function re(d,y){var k=y.type;if(k in d.g){var D=d.g[k],G=Array.prototype.indexOf.call(D,y,void 0),X;(X=0<=G)&&Array.prototype.splice.call(D,G,1),X&&(le(y),d.g[k].length==0&&(delete d.g[k],d.h--))}}function he(d,y,k,D){for(var G=0;G<d.length;++G){var X=d[G];if(!X.da&&X.listener==y&&X.capture==!!k&&X.ha==D)return G}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ve={};function be(d,y,k,D,G){if(Array.isArray(y)){for(var X=0;X<y.length;X++)be(d,y[X],k,D,G);return null}return k=yt(k),d&&d[q]?d.K(y,k,c(D)?!!D.capture:!1,G):Ye(d,y,k,!1,D,G)}function Ye(d,y,k,D,G,X){if(!y)throw Error("Invalid event type");var de=c(G)?!!G.capture:!!G,Tt=ut(d);if(Tt||(d[me]=Tt=new ee(d)),k=Tt.add(y,k,D,de,X),k.proxy)return k;if(D=_e(),k.proxy=D,D.src=d,D.listener=k,d.addEventListener)se||(G=de),G===void 0&&(G=!1),d.addEventListener(y.toString(),D,G);else if(d.attachEvent)d.attachEvent(Qe(y.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function _e(){function d(k){return y.call(d.src,d.listener,k)}const y=it;return d}function Ve(d,y,k,D,G){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ve(d,y[X],k,D,G);else D=c(D)?!!D.capture:!!D,k=yt(k),d&&d[q]?(d=d.i,y=String(y).toString(),y in d.g&&(X=d.g[y],k=he(X,k,D,G),-1<k&&(le(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete d.g[y],d.h--)))):d&&(d=ut(d))&&(y=d.g[y.toString()],d=-1,y&&(d=he(y,k,D,G)),(k=-1<d?y[d]:null)&&Ae(k))}function Ae(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[q])re(y.i,d);else{var k=d.type,D=d.proxy;y.removeEventListener?y.removeEventListener(k,D,d.capture):y.detachEvent?y.detachEvent(Qe(k),D):y.addListener&&y.removeListener&&y.removeListener(D),(k=ut(y))?(re(k,d),k.h==0&&(k.src=null,y[me]=null)):le(d)}}}function Qe(d){return d in ve?ve[d]:ve[d]="on"+d}function it(d,y){if(d.da)d=!0;else{y=new ce(y,this);var k=d.listener,D=d.ha||d.src;d.fa&&Ae(d),d=k.call(D,y)}return d}function ut(d){return d=d[me],d instanceof ee?d:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(d){return typeof d=="function"?d:(d[Le]||(d[Le]=function(y){return d.handleEvent(y)}),d[Le])}function Re(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}T(Re,Q),Re.prototype[q]=!0,Re.prototype.removeEventListener=function(d,y,k,D){Ve(this,d,y,k,D)};function We(d,y){var k,D=d.F;if(D)for(k=[];D;D=D.F)k.push(D);if(d=d.M,D=y.type||y,typeof y=="string")y=new Y(y,d);else if(y instanceof Y)y.target=y.target||d;else{var G=y;y=new Y(D,d),x(y,G)}if(G=!0,k)for(var X=k.length-1;0<=X;X--){var de=y.g=k[X];G=De(de,D,!0,y)&&G}if(de=y.g=d,G=De(de,D,!0,y)&&G,G=De(de,D,!1,y)&&G,k)for(X=0;X<k.length;X++)de=y.g=k[X],G=De(de,D,!1,y)&&G}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var k=d.g[y],D=0;D<k.length;D++)le(k[D]);delete d.g[y],d.h--}}this.F=null},Re.prototype.K=function(d,y,k,D){return this.i.add(String(d),y,!1,k,D)},Re.prototype.L=function(d,y,k,D){return this.i.add(String(d),y,!0,k,D)};function De(d,y,k,D){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,X=0;X<y.length;++X){var de=y[X];if(de&&!de.da&&de.capture==k){var Tt=de.listener,Sn=de.ha||de.src;de.fa&&re(d.i,de),G=Tt.call(Sn,D)!==!1&&G}}return G&&!D.defaultPrevented}function Ee(d,y,k){if(typeof d=="function")k&&(d=m(d,k));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function bt(d){d.g=Ee(()=>{d.g=null,d.i&&(d.i=!1,bt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class kt extends Q{constructor(y,k){super(),this.m=y,this.l=k,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(d){Q.call(this),this.h=d,this.g={}}T(Xe,Q);var we=[];function tt(d){N(d.g,function(y,k){this.g.hasOwnProperty(k)&&Ae(y)},d),d.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),tt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Tr=a.JSON.parse,os=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ys(){}Ys.prototype.h=null;function Cr(d){return d.h||(d.h=d.i())}function ii(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){Y.call(this,"d")}T(as,Y);function J(){Y.call(this,"c")}T(J,Y);var $e={},O=null;function te(){return O=O||new Re}$e.La="serverreachability";function ue(d){Y.call(this,$e.La,d)}T(ue,Y);function Fe(d){const y=te();We(y,new ue(y))}$e.STAT_EVENT="statevent";function st(d,y){Y.call(this,$e.STAT_EVENT,d),this.stat=y}T(st,Y);function nt(d){const y=te();We(y,new st(y,d))}$e.Ma="timingevent";function _t(d,y){Y.call(this,$e.Ma,d),this.size=y}T(_t,Y);function je(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function ot(){this.g=!0}ot.prototype.xa=function(){this.g=!1};function Rr(d,y,k,D,G,X){d.info(function(){if(d.g)if(X)for(var de="",Tt=X.split("&"),Sn=0;Sn<Tt.length;Sn++){var pt=Tt[Sn].split("=");if(1<pt.length){var jn=pt[0];pt=pt[1];var On=jn.split("_");de=2<=On.length&&On[1]=="type"?de+(jn+"="+pt+"&"):de+(jn+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+y+`
`+k+`
`+de})}function si(d,y,k,D,G,X,de){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+y+`
`+k+`
`+X+" "+de})}function Wn(d,y,k,D){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qt(d,k)+(D?" "+D:"")})}function on(d,y){d.info(function(){return"TIMEOUT: "+y})}ot.prototype.info=function(){};function Qt(d,y){if(!d.g)return y;if(!y)return null;try{var k=JSON.parse(y);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var D=k[d];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return qe(k)}catch{return y}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ft;function Bo(){}T(Bo,Ys),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Ft=new Bo;function ls(d,y,k,D){this.j=d,this.i=y,this.l=k,this.R=D||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}var ob={},sm={};function om(d,y,k){d.L=1,d.v=Vc(ki(y)),d.m=k,d.P=!0,ab(d,null)}function ab(d,y){d.F=Date.now(),Dc(d),d.A=ki(d.v);var k=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),_b(k.i,"t",D),d.C=0,k=d.j.J,d.h=new sb,d.g=Fb(d.j,k?y:null,!d.m),0<d.O&&(d.M=new kt(m(d.Y,d,d.g),d.O)),y=d.U,k=d.g,D=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(we[0]=G.toString()),G=we);for(var X=0;X<G.length;X++){var de=be(k,G[X],D||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Fe(),Rr(d.i,d.u,d.A,d.l,d.R,d.m)}ls.prototype.ca=function(d){d=d.target;const y=this.M;y&&Pi(d)==3?y.j():this.Y(d)},ls.prototype.Y=function(d){try{if(d==this.g)e:{const On=Pi(this.g);var y=this.g.Ba();const Ho=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Rb(this.g)))){this.J||On!=4||y==7||(y==8||0>=Ho?Fe(3):Fe(2)),am(this);var k=this.g.Z();this.X=k;t:if(lb(this)){var D=Rb(this.g);d="";var G=D.length,X=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),vl(this);var de="";break t}this.h.i=new a.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(D[y],{stream:!(X&&y==G-1)});D.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=k==200,si(this.i,this.u,this.A,this.l,this.R,On,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,Sn=this.g;if((Tt=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Tt)){var pt=Tt;break t}}pt=null}if(k=pt)Wn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lm(this,k);else{this.o=!1,this.s=3,nt(12),Xs(this),vl(this);break e}}if(this.P){k=!0;let qr;for(;!this.J&&this.C<de.length;)if(qr=uP(this,de),qr==sm){On==4&&(this.s=4,nt(14),k=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==ob){this.s=4,nt(15),Wn(this.i,this.l,de,"[Invalid Chunk]"),k=!1;break}else Wn(this.i,this.l,qr,null),lm(this,qr);if(lb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||de.length!=0||this.h.h||(this.s=1,nt(16),k=!1),this.o=this.o&&k,!k)Wn(this.i,this.l,de,"[Invalid Chunked Response]"),Xs(this),vl(this);else if(0<de.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),pm(jn),jn.M=!0,nt(11))}}else Wn(this.i,this.l,de,null),lm(this,de);On==4&&Xs(this),this.o&&!this.J&&(On==4?Mb(this.j,this):(this.o=!1,Dc(this)))}else CP(this.g),k==400&&0<de.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Xs(this),vl(this)}}}catch{}finally{}};function lb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function uP(d,y){var k=d.C,D=y.indexOf(`
`,k);return D==-1?sm:(k=Number(y.substring(k,D)),isNaN(k)?ob:(D+=1,D+k>y.length?sm:(y=y.slice(D,D+k),d.C=D+k,y)))}ls.prototype.cancel=function(){this.J=!0,Xs(this)};function Dc(d){d.S=Date.now()+d.I,ub(d,d.I)}function ub(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=je(m(d.ba,d),y)}function am(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(on(this.i,this.A),this.L!=2&&(Fe(),nt(17)),Xs(this),this.s=2,vl(this)):ub(this,this.S-d)};function vl(d){d.j.G==0||d.J||Mb(d.j,d)}function Xs(d){am(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,tt(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function lm(d,y){try{var k=d.j;if(k.G!=0&&(k.g==d||um(k.h,d))){if(!d.K&&um(k.h,d)&&k.G==3){try{var D=k.Da.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)qc(k),Wc(k);else break e;hm(k),nt(18)}}else k.za=G[1],0<k.za-k.T&&37500>G[2]&&k.F&&k.v==0&&!k.C&&(k.C=je(m(k.Za,k),6e3));if(1>=fb(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Zs(k,11)}else if((d.K||k.g==d)&&qc(k),!v(y))for(G=k.Da.g.parse(y),y=0;y<G.length;y++){let pt=G[y];if(k.T=pt[0],pt=pt[1],k.G==2)if(pt[0]=="c"){k.K=pt[1],k.ia=pt[2];const jn=pt[3];jn!=null&&(k.la=jn,k.j.info("VER="+k.la));const On=pt[4];On!=null&&(k.Aa=On,k.j.info("SVER="+k.Aa));const Ho=pt[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(D=1.5*Ho,k.L=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const qr=d.g;if(qr){const Gc=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gc){var X=D.h;X.g||Gc.indexOf("spdy")==-1&&Gc.indexOf("quic")==-1&&Gc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(cm(X,X.h),X.h=null))}if(D.D){const mm=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;mm&&(D.ya=mm,jt(D.I,D.D,mm))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),D=k;var de=d;if(D.qa=$b(D,D.J?D.ia:null,D.W),de.K){hb(D.h,de);var Tt=de,Sn=D.L;Sn&&(Tt.I=Sn),Tt.B&&(am(Tt),Dc(Tt)),D.g=de}else Ob(D);0<k.i.length&&Hc(k)}else pt[0]!="stop"&&pt[0]!="close"||Zs(k,7);else k.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Zs(k,7):fm(k):pt[0]!="noop"&&k.l&&k.l.ta(pt),k.v=0)}}Fe(4)}catch{}}var cP=class{constructor(d,y){this.g=d,this.map=y}};function cb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function db(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fb(d){return d.h?1:d.g?d.g.size:0}function um(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function cm(d,y){d.g?d.g.add(y):d.h=y}function hb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}cb.prototype.cancel=function(){if(this.i=pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const k of d.g.values())y=y.concat(k.D);return y}return _(d.i)}function dP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var y=[],k=d.length,D=0;D<k;D++)y.push(d[D]);return y}y=[],k=0;for(D in d)y[k++]=d[D];return y}function fP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var y=[];d=d.length;for(var k=0;k<d;k++)y.push(k);return y}y=[],k=0;for(const D in d)y[k++]=D;return y}}}function mb(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var k=fP(d),D=dP(d),G=D.length,X=0;X<G;X++)y.call(void 0,D[X],k&&k[X],d)}var gb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hP(d,y){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var D=d[k].indexOf("="),G=null;if(0<=D){var X=d[k].substring(0,D);G=d[k].substring(D+1)}else X=d[k];y(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Js(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Js){this.h=d.h,$c(this,d.j),this.o=d.o,this.g=d.g,Fc(this,d.s),this.l=d.l;var y=d.i,k=new _l;k.i=y.i,y.g&&(k.g=new Map(y.g),k.h=y.h),yb(this,k),this.m=d.m}else d&&(y=String(d).match(gb))?(this.h=!1,$c(this,y[1]||"",!0),this.o=xl(y[2]||""),this.g=xl(y[3]||"",!0),Fc(this,y[4]),this.l=xl(y[5]||"",!0),yb(this,y[6]||"",!0),this.m=xl(y[7]||"")):(this.h=!1,this.i=new _l(null,this.h))}Js.prototype.toString=function(){var d=[],y=this.j;y&&d.push(bl(y,vb,!0),":");var k=this.g;return(k||y=="file")&&(d.push("//"),(y=this.o)&&d.push(bl(y,vb,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(bl(k,k.charAt(0)=="/"?gP:mP,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",bl(k,vP)),d.join("")};function ki(d){return new Js(d)}function $c(d,y,k){d.j=k?xl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Fc(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function yb(d,y,k){y instanceof _l?(d.i=y,xP(d.i,d.h)):(k||(y=bl(y,yP)),d.i=new _l(y,d.h))}function jt(d,y,k){d.i.set(y,k)}function Vc(d){return jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bl(d,y,k){return typeof d=="string"?(d=encodeURI(d).replace(y,pP),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vb=/[#\/\?@]/g,mP=/[#\?:]/g,gP=/[#\?]/g,yP=/[#\?@]/g,vP=/#/g;function _l(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&hP(d.i,function(y,k){d.add(decodeURIComponent(y.replace(/\+/g," ")),k)}))}t=_l.prototype,t.add=function(d,y){us(this),this.i=null,d=Uo(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(y),this.h+=1,this};function xb(d,y){us(d),y=Uo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function bb(d,y){return us(d),y=Uo(d,y),d.g.has(y)}t.forEach=function(d,y){us(this),this.g.forEach(function(k,D){k.forEach(function(G){d.call(y,G,D,this)},this)},this)},t.na=function(){us(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),k=[];for(let D=0;D<y.length;D++){const G=d[D];for(let X=0;X<G.length;X++)k.push(y[D])}return k},t.V=function(d){us(this);let y=[];if(typeof d=="string")bb(this,d)&&(y=y.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)y=y.concat(d[k])}return y},t.set=function(d,y){return us(this),this.i=null,d=Uo(this,d),bb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function _b(d,y,k){xb(d,y),0<k.length&&(d.i=null,d.g.set(Uo(d,y),_(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var k=0;k<y.length;k++){var D=y[k];const X=encodeURIComponent(String(D)),de=this.V(D);for(D=0;D<de.length;D++){var G=X;de[D]!==""&&(G+="="+encodeURIComponent(String(de[D]))),d.push(G)}}return this.i=d.join("&")};function Uo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function xP(d,y){y&&!d.j&&(us(d),d.i=null,d.g.forEach(function(k,D){var G=D.toLowerCase();D!=G&&(xb(this,D),_b(this,G,k))},d)),d.j=y}function bP(d,y){const k=new ot;if(a.Image){const D=new Image;D.onload=E(cs,k,"TestLoadImage: loaded",!0,y,D),D.onerror=E(cs,k,"TestLoadImage: error",!1,y,D),D.onabort=E(cs,k,"TestLoadImage: abort",!1,y,D),D.ontimeout=E(cs,k,"TestLoadImage: timeout",!1,y,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else y(!1)}function _P(d,y){const k=new ot,D=new AbortController,G=setTimeout(()=>{D.abort(),cs(k,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:D.signal}).then(X=>{clearTimeout(G),X.ok?cs(k,"TestPingServer: ok",!0,y):cs(k,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),cs(k,"TestPingServer: error",!1,y)})}function cs(d,y,k,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(k)}catch{}}function wP(){this.g=new os}function SP(d,y,k){const D=k||"";try{mb(d,function(G,X){let de=G;c(G)&&(de=qe(G)),y.push(D+X+"="+encodeURIComponent(de))})}catch(G){throw y.push(D+"type="+encodeURIComponent("_badmap")),G}}function zc(d){this.l=d.Ub||null,this.j=d.eb||!1}T(zc,Ys),zc.prototype.g=function(){return new Bc(this.l,this.j)},zc.prototype.i=function(d){return function(){return d}}({});function Bc(d,y){Re.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bc,Re),t=Bc.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Sl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?wl(this):Sl(this),this.readyState==3&&wb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wl(this))},t.Qa=function(d){this.g&&(this.response=d,wl(this))},t.ga=function(){this.g&&wl(this)};function wl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Sl(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var k=y.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=y.next();return d.join(`\r
`)};function Sl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sb(d){let y="";return N(d,function(k,D){y+=D,y+=":",y+=k,y+=`\r
`}),y}function dm(d,y,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=Sb(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):jt(d,y,k))}function Ht(d){Re.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ht,Re);var EP=/^https?$/i,TP=["POST","PUT"];t=Ht.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ft.g(),this.v=this.o?Cr(this.o):Cr(Ft),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Eb(this,X);return}if(d=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)k.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())k.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TP,y,void 0))||D||G||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of k)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ib(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Eb(this,X)}};function Eb(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Tb(d),Uc(d)}function Tb(d){d.A||(d.A=!0,We(d,"complete"),We(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,We(this,"complete"),We(this,"abort"),Uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cb(this):this.bb())},t.bb=function(){Cb(this)};function Cb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Pi(d)!=4||d.Z()!=2)){if(d.u&&Pi(d)==4)Ee(d.Ea,0,d);else if(We(d,"readystatechange"),Pi(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var k;if(!(k=y)){var D;if(D=de===0){var G=String(d.D).match(gb)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),D=!EP.test(G?G.toLowerCase():"")}k=D}if(k)We(d,"complete"),We(d,"success");else{d.m=6;try{var X=2<Pi(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Tb(d)}}finally{Uc(d)}}}}function Uc(d,y){if(d.g){Ib(d);const k=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||We(d,"ready");try{k.onreadystatechange=D}catch{}}}function Ib(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Tr(y)}};function Rb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function CP(d){const y={};d=(d.g&&2<=Pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(v(d[D]))continue;var k=A(d[D]);const G=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=y[G]||[];y[G]=X,X.push(k)}S(y,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(d,y,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||y}function kb(d){this.Aa=0,this.i=[],this.j=new ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=El("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=El("baseRetryDelayMs",5e3,d),this.cb=El("retryDelaySeedMs",1e4,d),this.Wa=El("forwardChannelMaxRetries",2,d),this.wa=El("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new cb(d&&d.concurrentRequestLimit),this.Da=new wP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kb.prototype,t.la=8,t.G=1,t.connect=function(d,y,k,D){nt(0),this.W=d,this.H=y||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.I=$b(this,null,this.W),Hc(this)};function fm(d){if(Pb(d),d.G==3){var y=d.U++,k=ki(d.I);if(jt(k,"SID",d.K),jt(k,"RID",y),jt(k,"TYPE","terminate"),Tl(d,k),y=new ls(d,d.j,y),y.L=2,y.v=Vc(ki(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=y.v,k=!0),k||(y.g=Fb(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Dc(y)}Db(d)}function Wc(d){d.g&&(pm(d),d.g.cancel(),d.g=null)}function Pb(d){Wc(d),d.u&&(a.clearTimeout(d.u),d.u=null),qc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Hc(d){if(!db(d.h)&&!d.s){d.s=!0;var y=d.Ga;U||H(),L||(U(),L=!0),V.add(y,d),d.B=0}}function IP(d,y){return fb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=je(m(d.Ga,d,y),Lb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new ls(this,this.j,d);let X=this.o;if(this.S&&(X?(X=p(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var y=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,4096<y){y=k;break e}if(y===4096||k===this.i.length-1){y=k+1;break e}}y=1e3}else y=1e3;y=jb(this,G,y),k=ki(this.I),jt(k,"RID",d),jt(k,"CVER",22),this.D&&jt(k,"X-HTTP-Session-Id",this.D),Tl(this,k),X&&(this.O?y="headers="+encodeURIComponent(String(Sb(X)))+"&"+y:this.m&&dm(k,this.m,X)),cm(this.h,G),this.Ua&&jt(k,"TYPE","init"),this.P?(jt(k,"$req",y),jt(k,"SID","null"),G.T=!0,om(G,k,null)):om(G,k,y),this.G=2}}else this.G==3&&(d?Ab(this,d):this.i.length==0||db(this.h)||Ab(this))};function Ab(d,y){var k;y?k=y.l:k=d.U++;const D=ki(d.I);jt(D,"SID",d.K),jt(D,"RID",k),jt(D,"AID",d.T),Tl(d,D),d.m&&d.o&&dm(D,d.m,d.o),k=new ls(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),y&&(d.i=y.D.concat(d.i)),y=jb(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),cm(d.h,k),om(k,D,y)}function Tl(d,y){d.H&&N(d.H,function(k,D){jt(y,D,k)}),d.l&&mb({},function(k,D){jt(y,D,k)})}function jb(d,y,k){k=Math.min(d.i.length,k);var D=d.l?m(d.l.Na,d.l,d):null;e:{var G=d.i;let X=-1;for(;;){const de=["count="+k];X==-1?0<k?(X=G[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let Tt=!0;for(let Sn=0;Sn<k;Sn++){let pt=G[Sn].g;const jn=G[Sn].map;if(pt-=X,0>pt)X=Math.max(0,G[Sn].g-100),Tt=!1;else try{SP(jn,de,"req"+pt+"_")}catch{D&&D(jn)}}if(Tt){D=de.join("&");break e}}}return d=d.i.splice(0,k),y.D=d,D}function Ob(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;U||H(),L||(U(),L=!0),V.add(y,d),d.v=0}}function hm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=je(m(d.Fa,d),Lb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Nb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=je(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Wc(this),Nb(this))};function pm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Nb(d){d.g=new ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ki(d.qa);jt(y,"RID","rpc"),jt(y,"SID",d.K),jt(y,"AID",d.T),jt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&jt(y,"TO",d.ja),jt(y,"TYPE","xmlhttp"),Tl(d,y),d.m&&d.o&&dm(y,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=Vc(ki(y)),k.m=null,k.P=!0,ab(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Wc(this),hm(this),nt(19))};function qc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Mb(d,y){var k=null;if(d.g==y){qc(d),pm(d),d.g=null;var D=2}else if(um(d.h,y))k=y.D,hb(d.h,y),D=1;else return;if(d.G!=0){if(y.o)if(D==1){k=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;D=te(),We(D,new _t(D,k)),Hc(d)}else Ob(d);else if(G=y.s,G==3||G==0&&0<y.X||!(D==1&&IP(d,y)||D==2&&hm(d)))switch(k&&0<k.length&&(y=d.h,y.i=y.i.concat(k)),G){case 1:Zs(d,5);break;case 4:Zs(d,10);break;case 3:Zs(d,6);break;default:Zs(d,2)}}}function Lb(d,y){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*y}function Zs(d,y){if(d.j.info("Error code "+y),y==2){var k=m(d.fb,d),D=d.Xa;const G=!D;D=new Js(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$c(D,"https"),Vc(D),G?bP(D.toString(),k):_P(D.toString(),k)}else nt(2);d.G=0,d.l&&d.l.sa(y),Db(d),Pb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Db(d){if(d.G=0,d.ka=[],d.l){const y=pb(d.h);(y.length!=0||d.i.length!=0)&&(I(d.ka,y),I(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function $b(d,y,k){var D=k instanceof Js?ki(k):new Js(k);if(D.g!="")y&&(D.g=y+"."+D.g),Fc(D,D.s);else{var G=a.location;D=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var X=new Js(null);D&&$c(X,D),y&&(X.g=y),G&&Fc(X,G),k&&(X.l=k),D=X}return k=d.D,y=d.ya,k&&y&&jt(D,k,y),jt(D,"VER",d.la),Tl(d,D),D}function Fb(d,y,k){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Ht(new zc({eb:k})):new Ht(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vb(){}t=Vb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kc(){}Kc.prototype.g=function(d,y){return new ar(d,y)};function ar(d,y){Re.call(this),this.g=new kb(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!v(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!v(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Wo(this)}T(ar,Re),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){fm(this.g)},ar.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=qe(d),d=k);y.i.push(new cP(y.Ya++,d)),y.G==3&&Hc(y)},ar.prototype.N=function(){this.g.l=null,delete this.j,fm(this.g),delete this.g,ar.aa.N.call(this)};function zb(d){as.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const k in y){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}T(zb,as);function Bb(){J.call(this),this.status=1}T(Bb,J);function Wo(d){this.g=d}T(Wo,Vb),Wo.prototype.ua=function(){We(this.g,"a")},Wo.prototype.ta=function(d){We(this.g,new zb(d))},Wo.prototype.sa=function(d){We(this.g,new Bb)},Wo.prototype.ra=function(){We(this.g,"b")},Kc.prototype.createWebChannel=Kc.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,QC=function(){return new Kc},GC=function(){return te()},KC=$e,Iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Vd=Ri,Ne.COMPLETE="complete",qC=Ne,ii.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Ql=ii,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,HC=Ht}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const v1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new w0("@firebase/firestore");function Nl(){return Eo.logLevel}function Te(t,...e){if(Eo.logLevel<=at.DEBUG){const n=e.map(T0);Eo.debug(`Firestore (${al}): ${t}`,...n)}}function Zi(t,...e){if(Eo.logLevel<=at.ERROR){const n=e.map(T0);Eo.error(`Firestore (${al}): ${t}`,...n)}}function To(t,...e){if(Eo.logLevel<=at.WARN){const n=e.map(T0);Eo.warn(`Firestore (${al}): ${t}`,...n)}}function T0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function St(t,e){t||He()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class gL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yL{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new YC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Fn(e)}}class vL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _L{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){St(this.o===void 0);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new bL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new fn(0,0))}static max(){return new Ke(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(),r===void 0?r=e.length-n:r>e.length-n&&He(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Nt extends Fu{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const SL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Fu{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return SL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Nt.fromString(e))}static fromName(e){return new Oe(Nt.fromString(e).popFirst(5))}static empty(){return new Oe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Nt(e.slice()))}}function EL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new $s(i,Oe.empty(),e)}function TL(t){return new $s(t.readTime,t.key,-1)}class $s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(Ke.min(),Oe.empty(),-1)}static max(){return new $s(Ke.max(),Oe.empty(),-1)}}function CL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==IL)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}I0.oe=-1;function zh(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function PL(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rn(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Rn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZC("Invalid base64 string: "+s):s}}(e);return new _n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(St(!!t),typeof t=="string"){let e=0;const n=AL.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function k0(t){const e=t.mapValue.fields.__previous_value__;return R0(e)?k0(e):e}function Vu(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md={mapValue:{}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:NL(t)?9007199254740991:OL(t)?10:11:He()}function bi(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fs(i.timestampValue),a=Fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Jt(i.geoPointValue.latitude)===Jt(s.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jt(i.integerValue)===Jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jt(i.doubleValue),a=Jt(s.doubleValue);return o===a?Mf(o)===Mf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(x1(o)!==x1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!bi(o[u],a[u])))return!1;return!0}(t,e);default:return He()}}function zu(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jt(s.integerValue||s.doubleValue),u=Jt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return _1(t.timestampValue,e.timestampValue);case 4:return _1(Vu(t),Vu(e));case 5:return mt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Co(s),u=Co(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=mt(a[c],u[c]);if(f!==0)return f}return mt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=mt(Jt(s.latitude),Jt(o.latitude));return a!==0?a:mt(Jt(s.longitude),Jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},E=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(u=m.value)===null||u===void 0?void 0:u.arrayValue,_=mt(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return _!==0?_:w1(E,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=mt(u[h],f[h]);if(m!==0)return m;const E=Ua(a[u[h]],c[f[h]]);if(E!==0)return E}return mt(u.length,f.length)}(t.mapValue,e.mapValue);default:throw He()}}function _1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Fs(t),r=Fs(e),i=mt(n.seconds,r.seconds);return i!==0?i:mt(n.nanos,r.nanos)}function w1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ua(n[i],r[i]);if(s)return s}return mt(n.length,r.length)}function Wa(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ry(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ry(n.fields[o])}`;return i+"}"}(t.mapValue):He()}function S1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function E1(t){return!!t&&"nullValue"in t}function T1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function OL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new er(uu(this.value))}}function eI(t){const e=[];return Do(t.fields,(n,r)=>{const i=new xn([n]);if(zd(r)){const s=eI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zn(e,0,Ke.min(),Ke.min(),Ke.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new zn(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new zn(e,2,n,Ke.min(),Ke.min(),er.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Ke.min(),Ke.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function C1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(o.referenceValue),n.key):r=Ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function I1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ML(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class cn extends tI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DL(e,n,r):n==="array-contains"?new VL(e,r):n==="in"?new zL(e,r):n==="not-in"?new BL(e,r):n==="array-contains-any"?new UL(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $L(e,r):new FL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ua(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends tI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ti(e,n)}matches(e){return nI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nI(t){return t.op==="and"}function rI(t){return LL(t)&&nI(t)}function LL(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function Py(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(rI(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function iI(t,e){return t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)}(t,e):t instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iI(o,i.filters[a]),!0):!1}(t,e):void He()}function sI(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(sI).join(" ,")+"}"}(t):"Filter"}class DL extends cn{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $L extends cn{constructor(e,n){super(e,"in",n),this.keys=oI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FL extends cn{constructor(e,n){super(e,"not-in",n),this.keys=oI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class VL extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&zu(n.arrayValue,this.value)}}class zL extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class BL extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zu(this.value.arrayValue,n)}}class UL extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function R1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WL(t,e,n,r,i,s,o)}function A0(t){const e=Ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.ue=n}return e.ue}function j0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ML(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I1(t.startAt,e.startAt)&&I1(t.endAt,e.endAt)}function Ay(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HL(t,e,n,r,i,s,o,a){return new ll(t,e,n,r,i,s,o,a)}function Bh(t){return new ll(t)}function k1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aI(t){return t.collectionGroup!==null}function cu(t){const e=Ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rn(xn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bu(s,r))}),n.has(xn.keyField().canonicalString())||e.ce.push(new Bu(xn.keyField(),r))}return e.ce}function mi(t){const e=Ge(t);return e.le||(e.le=qL(e,cu(t))),e.le}function qL(t,e){if(t.limitType==="F")return R1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bu(i.field,s)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return R1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jy(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Oy(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return j0(mi(t),mi(e))&&t.limitType===e.limitType}function lI(t){return`${A0(mi(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sI(i)).join(", ")}]`),zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(mi(t))}; limitType=${t.limitType})`}function Wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=C1(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,cu(r),i)||r.endAt&&!function(o,a,u){const c=C1(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,cu(r),i))}(t,e)}function KL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uI(t){return(e,n)=>{let r=!1;for(const i of cu(t)){const s=GL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GL(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ua(u,c):He()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Wt(Oe.comparator);function es(){return QL}const cI=new Wt(Oe.comparator);function Yl(...t){let e=cI;for(const n of t)e=e.insert(n.key,n);return e}function dI(t){let e=cI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return du()}function fI(){return du()}function du(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const YL=new Wt(Oe.comparator),XL=new Rn(Oe.comparator);function rt(...t){let e=XL;for(const n of t)e=e.add(n);return e}const JL=new Rn(mt);function ZL(){return JL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function hI(t){return{integerValue:""+t}}function eD(t,e){return PL(e)?hI(e):O0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function tD(t,e,n){return t instanceof Uu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&R0(s)&&(s=k0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wu?mI(t,e):t instanceof Hu?gI(t,e):function(i,s){const o=pI(i,s),a=P1(o)+P1(i.Pe);return ky(o)&&ky(i.Pe)?hI(a):O0(i.serializer,a)}(t,e)}function nD(t,e,n){return t instanceof Wu?mI(t,e):t instanceof Hu?gI(t,e):n}function pI(t,e){return t instanceof Df?function(r){return ky(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uu extends Hh{}class Wu extends Hh{constructor(e){super(),this.elements=e}}function mI(t,e){const n=yI(e);for(const r of t.elements)n.some(i=>bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hu extends Hh{constructor(e){super(),this.elements=e}}function gI(t,e){let n=yI(e);for(const r of t.elements)n=n.filter(i=>!bi(i,r));return{arrayValue:{values:n}}}class Df extends Hh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P1(t){return Jt(t.integerValue||t.doubleValue)}function yI(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n){this.field=e,this.transform=n}}function iD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wu&&i instanceof Wu||r instanceof Hu&&i instanceof Hu?za(r.elements,i.elements,bi):r instanceof Df&&i instanceof Df?bi(r.Pe,i.Pe):r instanceof Uu&&i instanceof Uu}(t.transform,e.transform)}class sD{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qh{}function vI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N0(t.key,Lr.none()):new hc(t.key,t.data,Lr.none());{const n=t.data,r=er.empty();let i=new Rn(xn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ks(t.key,r,new fr(i.toArray()),Lr.none())}}function oD(t,e,n){t instanceof hc?function(i,s,o){const a=i.value.clone(),u=j1(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(i,s,o){if(!Bd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=j1(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fu(t,e,n,r){return t instanceof hc?function(s,o,a,u){if(!Bd(s.precondition,o))return a;const c=s.value.clone(),f=O1(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(s,o,a,u){if(!Bd(s.precondition,o))return a;const c=O1(s.fieldTransforms,u,o),f=o.data;return f.setAll(xI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Bd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function aD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pI(r.transform,i||null);s!=null&&(n===null&&(n=er.empty()),n.set(r.field,s))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,(s,o)=>iD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j1(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nD(o,a,n[i]))}return r}function O1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tD(s,o,e))}return r}class N0 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lD extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=vI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,r)=>A1(n,r))&&za(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class M0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=function(){return YL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new M0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,ct;function fD(t){switch(t){default:return He();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function bI(t){if(t===void 0)return Zi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case an.OK:return ie.OK;case an.CANCELLED:return ie.CANCELLED;case an.UNKNOWN:return ie.UNKNOWN;case an.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case an.INTERNAL:return ie.INTERNAL;case an.UNAVAILABLE:return ie.UNAVAILABLE;case an.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case an.NOT_FOUND:return ie.NOT_FOUND;case an.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case an.ABORTED:return ie.ABORTED;case an.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case an.DATA_LOSS:return ie.DATA_LOSS;default:return He()}}(ct=an||(an={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new mo([4294967295,4294967295],0);function N1(t){const e=hD().encode(t),n=new WC;return n.update(e),new Uint8Array(n.digest())}function M1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class L0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(pD)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=N1(e),[r,i]=M1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=N1(e),[r,i]=M1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(Ke.min(),i,new Wt(mt),es(),rt())}}class pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pc(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _I{constructor(e,n){this.targetId=e,this.me=n}}class wI{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L1{constructor(){this.fe=0,this.ge=$1(),this.pe=_n.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),n=rt(),r=rt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He()}}),new pc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mD{constructor(e){this.Le=e,this.Be=new Map,this.ke=es(),this.qe=D1(),this.Qe=new Wt(mt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:He()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ay(s))if(r===0){const o=new Oe(s.path);this.Ue(n,o,zn.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Co(r).toUint8Array()}catch(u){if(u instanceof ZC)return To("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new L0(o,i,s)}catch(u){return To(u instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ay(a.target)){const u=new Oe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,zn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=rt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Kh(e,n,this.Qe,this.ke,r);return this.ke=es(),this.qe=D1(),this.Qe=new Wt(mt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new L1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rn(mt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D1(){return new Wt(Oe.comparator)}function $1(){return new Wt(Oe.comparator)}const gD={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vD={and:"AND",or:"OR"};class xD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ny(t,e){return t.useProto3Json||zh(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bD(t,e){return $f(t,e.toTimestamp())}function gi(t){return St(!!t),Ke.fromTimestamp(function(n){const r=Fs(n);return new fn(r.seconds,r.nanos)}(t))}function D0(t,e){return My(t,e).canonicalString()}function My(t,e){const n=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EI(t){const e=Nt.fromString(t);return St(kI(e)),e}function Ly(t,e){return D0(t.databaseId,e.path)}function Gm(t,e){const n=EI(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(CI(n))}function TI(t,e){return D0(t.databaseId,e)}function _D(t){const e=EI(t);return e.length===4?Nt.emptyPath():CI(e)}function Dy(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CI(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F1(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function wD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(St(f===void 0||typeof f=="string"),_n.fromBase64String(f||"")):(St(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_n.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?ie.UNKNOWN:bI(c.code);return new ge(f,c.message||"")}(o);n=new wI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gm(t,r.document.name),s=gi(r.document.updateTime),o=r.document.createTime?gi(r.document.createTime):Ke.min(),a=new er({mapValue:{fields:r.document.fields}}),u=zn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Ud(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gm(t,r.document),s=r.readTime?gi(r.readTime):Ke.min(),o=zn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gm(t,r.document),s=r.removedTargetIds||[];n=new Ud([],s,i,null)}else{if(!("filter"in e))return He();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dD(i,s),a=r.targetId;n=new _I(a,o)}}return n}function SD(t,e){let n;if(e instanceof hc)n={update:F1(t,e.key,e.value)};else if(e instanceof N0)n={delete:Ly(t,e.key)};else if(e instanceof Ks)n={update:F1(t,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof lD))return He();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Df)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw He()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He()}(t,e.precondition)),n}function ED(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gi(i.updateTime):gi(s);return o.isEqual(Ke.min())&&(o=gi(s)),new sD(o,i.transformResults||[])}(n,e))):[]}function TD(t,e){return{documents:[TI(t,e.path)]}}function CD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TI(t,i);const s=function(c){if(c.length!==0)return RI(ti.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ta(m.field),direction:kD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ny(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function ID(t){let e=_D(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=II(h);return m instanceof ti&&rI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(T){return new Bu(na(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,zh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,E=h.values||[];return new Lf(E,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,E=h.values||[];return new Lf(E,m)}(n.endAt)),HL(e,i,o,s,a,"F",u,c)}function RD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function II(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(t):t.fieldFilter!==void 0?function(n){return cn.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(r=>II(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He()}}(n.compositeFilter.op))}(t):He()}function kD(t){return gD[t]}function PD(t){return yD[t]}function AD(t){return vD[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return xn.fromServerFormat(t.fieldPath)}function RI(t){return t instanceof cn?function(n){if(n.op==="=="){if(T1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(E1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(E1(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:PD(n.op),value:n.value}}}(t):t instanceof ti?function(n){const r=n.getFilters().map(i=>RI(i));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(t):He()}function jD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,s=Ke.min(),o=Ke.min(),a=_n.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.ct=e}}function ND(t){const e=ID({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.un=new LD}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve($s.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class LD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rn(Nt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fu(r.mutation,i,fr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=es();const o=du(),a=function(){return du()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ks)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),fu(f.mutation,c,f.mutation.getFieldMask(),fn.now())):o.set(c.key,fr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new $D(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let i=new Wt((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||fr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||rt()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=fI();f.forEach(m=>{if(!s.has(m)){const E=vI(n.get(m),r.get(m));E!==null&&h.set(m,E),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(co());let a=-1,u=s;return o.next(c=>oe.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?oe.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,rt())).next(f=>({batchId:a,changes:dI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{const c=function(h,m){return new ll(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,zn.newInvalidDocument(f)))});let a=Yl();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&fu(f.mutation,c,fr.empty(),fn.now()),Wh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ND(i.bundledQuery),readTime:gi(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.overlays=new Wt(Oe.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=co(),s=n.length+1,o=new Oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=co(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=co(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cD(n,r));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Tr=new Rn(yn.Er),this.dr=new Rn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Oe(new Nt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Oe(new Nt([])),r=new yn(n,e),i=new yn(n,e+1);let s=rt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Oe.comparator(e.key,n.key)||mt(e.wr,n.wr)}static Ar(e,n){return mt(e.wr,n.wr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rn(yn.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rn(mt);return n.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const o=new yn(new Oe(s),0);let a=new Rn(mt);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yn(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.Mr=e,this.docs=function(){return new Wt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=es();const o=n.path,a=new Oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CL(TL(f),r)<=0||(i.has(f.key)||Wh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HD(this)}getSize(e){return oe.resolve(this.size)}}class HD extends DD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.Nr=new ul(n=>A0(n),j0),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $0,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new I0(0),this.Kr=!1,this.Kr=!0,this.$r=new BD,this.referenceDelegate=e(this),this.Ur=new qD(this),this.indexManager=new MD,this.remoteDocumentCache=function(i){return new WD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OD(n),this.Gr=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new GD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GD extends RL{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Jr=new $0,this.Yr=null}static Zr(e){return new F0(e)}get Xr(){if(this.Yr)return this.Yr;throw He()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=Oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rt(),i=rt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return XN()?8:kL(Un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nl()<=at.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Nl()<=at.DEBUG&&Te("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nl()<=at.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):oe.resolve())}Yi(e,n){if(k1(n))return oe.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oy(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Oy(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return k1(n)||i.isEqual(Ke.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?oe.resolve(null):(Nl()<=at.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,o,n,EL(i,-1)).next(a=>a))})}ts(e,n){let r=new Rn(uI(e));return n.forEach((i,s)=>{Wh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Nl()<=at.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,$s.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wt(mt),this._s=new ul(s=>A0(s),j0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JD(t,e,n,r){return new XD(t,e,n,r)}async function PI(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=rt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function ZD(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let E=oe.resolve();return m.forEach(T=>{E=E.next(()=>f.getEntry(u,T)).next(_=>{const I=c.docVersions.get(T);St(I!==null),_.version.compareTo(I)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),f.addEntry(_)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=rt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AI(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e6(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let E=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?E=E.withResumeToken(_n.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(h,E),function(_,I,C){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,E,f)&&a.push(n.Ur.updateTargetData(s,E))});let u=es(),c=rt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(t6(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ke.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function t6(t,e,n){let r=rt(),i=rt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=es();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ke.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function n6(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r6(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ws(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $y(t,e,n){const r=Ge(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fc(o))throw o;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function V1(t,e,n){const r=Ge(t);let i=Ke.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=Ge(u),m=h._s.get(f);return m!==void 0?oe.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ke.min(),n?s:rt())).next(a=>(i6(r,KL(e),a),{documents:a,Ts:s})))}function i6(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class z1{constructor(){this.activeTargetIds=ZL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s6{constructor(){this.so=new z1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new z1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function Qm(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class u6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Qm(),u=this.xo(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Te("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw To("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=a6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Qm();return new Promise((o,a)=>{const u=new HC;u.setWithCredentials(!0),u.listenOnce(qC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:const f=u.getResponseJson();Te(Ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Vd.TIMEOUT:Te(Ln,`RPC '${e}' ${s} timed out`),a(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const h=u.getStatus();if(Te(Ln,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const T=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(C)>=0?C:ie.UNKNOWN}(E.status);a(new ge(T,E.message))}else a(new ge(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Te(Ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Te(Ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Qm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QC(),a=GC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Te(Ln,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,E=!1;const T=new l6({Io:I=>{E?Te(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Te(Ln,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Te(Ln,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),_=(I,C,v)=>{I.listen(C,w=>{try{v(w)}catch(P){setTimeout(()=>{throw P},0)}})};return _(h,Ql.EventType.OPEN,()=>{E||(Te(Ln,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),_(h,Ql.EventType.CLOSE,()=>{E||(E=!0,Te(Ln,`RPC '${e}' stream ${i} transport closed`),T.So())}),_(h,Ql.EventType.ERROR,I=>{E||(E=!0,To(Ln,`RPC '${e}' stream ${i} transport errored:`,I),T.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ql.EventType.MESSAGE,I=>{var C;if(!E){const v=I.data[0];St(!!v);const w=v,P=w.error||((C=w[0])===null||C===void 0?void 0:C.error);if(P){Te(Ln,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let N=function(g){const x=an[g];if(x!==void 0)return bI(x)}(M),S=P.message;N===void 0&&(N=ie.INTERNAL,S="Unknown error status: "+M+" with message "+P.message),E=!0,T.So(new ge(N,S)),h.close()}else Te(Ln,`RPC '${e}' stream ${i} received:`,v),T.bo(v)}}),_(a,KC.STAT_EVENT,I=>{I.stat===Iy.PROXY?Te(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Iy.NOPROXY&&Te(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return new xD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends OI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=wD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?gi(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Dy(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ay(u)?{documents:TD(s,u)}:{query:CD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SI(s,o.resumeToken);const c=Ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=$f(s,o.snapshotVersion.toTimestamp());const c=Ny(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.a_(n)}}class d6 extends OI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ED(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Dy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,My(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,My(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zi(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{$o(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ge(u);c.L_.add(4),await mc(c),c.q_.set("Unknown"),c.L_.delete(4),await Qh(c)}(this))})}),this.q_=new h6(r,i)}}async function Qh(t){if($o(t))for(const e of t.B_)await e(!0)}async function mc(t){for(const e of t.B_)await e(!1)}function NI(t,e){const n=Ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),W0(n)?U0(n):cl(n).r_()&&B0(n,e))}function z0(t,e){const n=Ge(t),r=cl(n);n.N_.delete(e),r.r_()&&MI(n,e),n.N_.size===0&&(r.r_()?r.o_():$o(n)&&n.q_.set("Unknown"))}function B0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).A_(e)}function MI(t,e){t.Q_.xe(e),cl(t).R_(e)}function U0(t){t.Q_=new mD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.q_.v_()}function W0(t){return $o(t)&&!cl(t).n_()&&t.N_.size>0}function $o(t){return Ge(t).L_.size===0}function LI(t){t.Q_=void 0}async function m6(t){t.q_.set("Online")}async function g6(t){t.N_.forEach((e,n)=>{B0(t,e)})}async function y6(t,e){LI(t),W0(t)?(t.q_.M_(e),U0(t)):t.q_.set("Unknown")}async function v6(t,e,n){if(t.q_.set("Online"),e instanceof wI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ff(t,r)}else if(e instanceof Ud?t.Q_.Ke(e):e instanceof _I?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await AI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(_n.EMPTY_BYTE_STRING,f.snapshotVersion)),MI(s,u);const h=new ws(f.target,u,c,f.sequenceNumber);B0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await Ff(t,r)}}async function Ff(t,e,n){if(!fc(e))throw e;t.L_.add(1),await mc(t),t.q_.set("Offline"),n||(n=()=>AI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qh(t)})}function DI(t,e){return e().catch(n=>Ff(t,n,e))}async function Yh(t){const e=Ge(t),n=Vs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;x6(e);)try{const i=await n6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,b6(e,i)}catch(i){await Ff(e,i)}$I(e)&&FI(e)}function x6(t){return $o(t)&&t.O_.length<10}function b6(t,e){t.O_.push(e);const n=Vs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $I(t){return $o(t)&&!Vs(t).n_()&&t.O_.length>0}function FI(t){Vs(t).start()}async function _6(t){Vs(t).p_()}async function w6(t){const e=Vs(t);for(const n of t.O_)e.m_(n.mutations)}async function S6(t,e,n){const r=t.O_.shift(),i=M0.from(r,e,n);await DI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yh(t)}async function E6(t,e){e&&Vs(t).V_&&await async function(r,i){if(function(o){return fD(o)&&o!==ie.ABORTED}(i.code)){const s=r.O_.shift();Vs(r).s_(),await DI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yh(r)}}(t,e),$I(t)&&FI(t)}async function U1(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.L_.add(3),await mc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qh(n)}async function T6(t,e){const n=Ge(t);e?(n.L_.delete(2),await Qh(n)):e||(n.L_.add(2),await mc(n),n.q_.set("Unknown"))}function cl(t){return t.K_||(t.K_=function(n,r,i){const s=Ge(n);return s.w_(),new c6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m6.bind(null,t),Ro:g6.bind(null,t),mo:y6.bind(null,t),d_:v6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),W0(t)?U0(t):t.q_.set("Unknown")):(await t.K_.stop(),LI(t))})),t.K_}function Vs(t){return t.U_||(t.U_=function(n,r,i){const s=Ge(n);return s.w_(),new d6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_6.bind(null,t),mo:E6.bind(null,t),f_:w6.bind(null,t),g_:S6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new H0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q0(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),fc(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.W_=new Wt(Oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):He():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qa(e,n,Ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class I6{constructor(){this.queries=H1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=H1(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function H1(){return new ul(t=>lI(t),Uh)}async function K0(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new C6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q0(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Q0(n)}async function G0(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R6(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Q0(n)}function k6(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Q0(t){t.Y_.forEach(e=>{e.next()})}var Fy,q1;(q1=Fy||(Fy={})).ea="default",q1.Cache="cache";class Y0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.key=e}}class zI{constructor(e){this.key=e}}class P6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=uI(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),E=Wh(this.query,h)?h:null,T=!!m&&this.mutatedKeys.has(m.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;m&&E?m.data.isEqual(E.data)?T!==_&&(r.track({type:3,doc:E}),I=!0):this.ga(m,E)||(r.track({type:2,doc:E}),I=!0,(u&&this.Aa(E,u)>0||c&&this.Aa(E,c)<0)&&(a=!0)):!m&&E?(r.track({type:0,doc:E}),I=!0):m&&!E&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(E?(o=o.add(E),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(E,T){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return _(E)-_(T)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new qa(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new VI(r))}),n}ba(e){this.Ta=e.Ts,this.da=rt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class A6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j6{constructor(e){this.key=e,this.va=!1}}class O6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ul(a=>lI(a),Uh),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Oe.comparator),this.Na=new Map,this.La=new $0,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function N6(t,e,n=!0){const r=KI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await BI(r,e,n,!0),i}async function M6(t,e){const n=KI(t);await BI(n,e,!0,!1)}async function BI(t,e,n,r){const i=await r6(t.localStore,mi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await L6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NI(t.remoteStore,i),a}async function L6(t,e,n,r,i){t.Ka=(h,m,E)=>async function(_,I,C,v){let w=I.view.ma(C);w.ns&&(w=await V1(_.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,w)));const P=v&&v.targetChanges.get(I.targetId),M=v&&v.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(w,_.isPrimaryClient,P,M);return G1(_,I.targetId,N.wa),N.snapshot}(t,h,m,E);const s=await V1(t.localStore,e,!0),o=new P6(e,s.Ts),a=o.ma(s.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);G1(t,n,c.wa);const f=new A6(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function D6(t,e,n){const r=Ge(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Uh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z0(r.remoteStore,i.targetId),Vy(r,i.targetId)}).catch(dc)):(Vy(r,i.targetId),await $y(r.localStore,i.targetId,!0))}async function $6(t,e){const n=Ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z0(n.remoteStore,r.targetId))}async function F6(t,e,n){const r=q6(t);try{const i=await function(o,a){const u=Ge(o),c=fn.now(),f=a.reduce((E,T)=>E.add(T.key),rt());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=es(),_=rt();return u.cs.getEntries(E,f).next(I=>{T=I,T.forEach((C,v)=>{v.isValidDocument()||(_=_.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(I=>{h=I;const C=[];for(const v of a){const w=aD(v,h.get(v.key).overlayedDocument);w!=null&&C.push(new Ks(v.key,w,eI(w.value.mapValue),Lr.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,C,a)}).next(I=>{m=I;const C=I.applyToLocalDocumentSet(h,_);return u.documentOverlayCache.saveOverlays(E,I.batchId,C)})}).then(()=>({batchId:m.batchId,changes:dI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Wt(mt)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await gc(r,i.changes),await Yh(r.remoteStore)}catch(i){const s=q0(i,"Failed to persist write");n.reject(s)}}async function UI(t,e){const n=Ge(t);try{const r=await e6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?St(o.va):i.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await gc(n,r,e)}catch(r){await dc(r)}}function K1(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ge(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&Q0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V6(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Wt(Oe.comparator);o=o.insert(s,zn.newNoDocument(s,Ke.min()));const a=rt().add(s),u=new Kh(Ke.min(),new Map,new Wt(mt),o,a);await UI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),X0(r)}else await $y(r.localStore,e,!1).then(()=>Vy(r,e,n)).catch(dc)}async function z6(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await ZD(n.localStore,e);HI(n,r,null),WI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gc(n,i)}catch(i){await dc(i)}}async function B6(t,e,n){const r=Ge(t);try{const i=await function(o,a){const u=Ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);HI(r,e,n),WI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gc(r,i)}catch(i){await dc(i)}}function WI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function HI(t,e,n){const r=Ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||qI(t,r)})}function qI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(z0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),X0(t))}function G1(t,e,n){for(const r of n)r instanceof VI?(t.La.addReference(r.key,e),U6(t,r)):r instanceof zI?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||qI(t,r.key)):He()}function U6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(r),X0(t))}function X0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Oe(Nt.fromString(e)),r=t.qa.next();t.Na.set(r,new j6(n)),t.Oa=t.Oa.insert(n,r),NI(t.remoteStore,new ws(mi(Bh(n.path)),r,"TargetPurposeLimboResolution",I0.oe))}}async function gc(t,e,n){const r=Ge(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=V0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=Ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(c,m=>oe.forEach(m.$i,E=>f.persistence.referenceDelegate.addReference(h,m.targetId,E)).next(()=>oe.forEach(m.Ui,E=>f.persistence.referenceDelegate.removeReference(h,m.targetId,E)))))}catch(h){if(!fc(h))throw h;Te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const E=f.os.get(m),T=E.snapshotVersion,_=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(m,_)}}}(r.localStore,s))}async function W6(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await PI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(n,r.hs)}}function H6(t,e){const n=Ge(t),r=n.Na.get(e);if(r&&r.va)return rt().add(r.key);{let i=rt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function KI(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V6.bind(null,e),e.Ca.d_=R6.bind(null,e.eventManager),e.Ca.$a=k6.bind(null,e.eventManager),e}function q6(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B6.bind(null,e),e}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JD(this.persistence,new YD,e.initialUser,this.serializer)}Ga(e){return new KD(F0.Zr,this.serializer)}Wa(e){return new s6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await T6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I6}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),r=function(s){return new u6(s)}(e.databaseInfo);return function(s,o,a,u){return new f6(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new p6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return B1.D()?new B1:new o6}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new O6(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ge(i);Te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zy.provider={build:()=>new zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xm(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G6(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),t._onlineComponents=e}async function G6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Xm(t,new Vf)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await Xm(t,new Vf);return t._offlineComponents}async function GI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await Q1(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await Q1(t,new zy))),t._onlineComponents}function Q6(t){return GI(t).then(e=>e.syncEngine)}async function zf(t){const e=await GI(t),n=e.eventManager;return n.onListen=N6.bind(null,e.syncEngine),n.onUnlisten=D6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$6.bind(null,e.syncEngine),n}function Y6(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new J0({next:m=>{f.Za(),o.enqueueAndForget(()=>G0(s,h));const E=m.docs.has(a);!E&&m.fromCache?c.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&u&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new Y0(Bh(a.path),f,{includeMetadataChanges:!0,_a:!0});return K0(s,h)}(await zf(t),t.asyncQueue,e,n,r)),r.promise}function X6(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new J0({next:m=>{f.Za(),o.enqueueAndForget(()=>G0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new Y0(a,f,{includeMetadataChanges:!0,_a:!0});return K0(s,h)}(await zf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XI(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X1(t){if(!Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J1(t){if(Oe.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XC;switch(r.type){case"firstParty":return new xL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y1.get(n);r&&(Te("ComponentProvider","Removing Datastore"),Y1.delete(n),r.terminate())}(this),Promise.resolve()}}function JI(t,e,n,r={}){var i;const s=(t=Qn(t,Jh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Fn.MOCK_USER;else{a=$C(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fn(c)}t._authCredentials=new gL(new YC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Hi extends ss{constructor(e,n,r){super(e,n,Bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Oe(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=hn(t),YI("collection","path",e),t instanceof Jh){const r=Nt.fromString(e,...n);return J1(r),new Hi(t,null,r)}{if(!(t instanceof kn||t instanceof Hi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return J1(r),new Hi(t.firestore,null,r)}}function Ce(t,e,...n){if(t=hn(t),arguments.length===1&&(e=C0.newId()),YI("doc","path",e),t instanceof Jh){const r=Nt.fromString(e,...n);return X1(r),new kn(t,null,new Oe(r))}{if(!(t instanceof kn||t instanceof Hi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return X1(r),new kn(t.firestore,t instanceof Hi?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jI(this,"async_queue_retry"),this.Vu=()=>{const r=Ym();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Wi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=H0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&He()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function tw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _i extends Jh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ew,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ew(e),this._firestoreClient=void 0,await e}}}function ZI(t,e){const n=typeof t=="object"?t:E0(),r=typeof t=="string"?t:"(default)",i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MC("firestore");s&&JI(i,...s)}return i}function yc(t){if(t._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J6(t),t._firestoreClient}function J6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new jL(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,QI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(_n.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^__.*__$/;class e3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class eR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class Z0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tR(this.Cu)&&Z6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class t3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gh(e)}Qu(e,n,r,i=!1){return new Z0({Cu:e,methodName:n,qu:r,path:xn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(t){const e=t._freezeSettings(),n=Gh(t._databaseId);return new t3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);tx("Data must be an object, but it was:",o,r);const a=rR(r,o);let u,c;if(s.merge)u=new fr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=By(e,h,n);if(!o.contains(m))throw new ge(ie.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);sR(f,m)||f.push(m)}u=new fr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new e3(new er(a),u,c)}class np extends xc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}class ex extends xc{_toFieldTransform(e){return new rD(e.path,new Uu)}isEqual(e){return e instanceof ex}}function n3(t,e,n,r){const i=t.Qu(1,e,n);tx("Data must be an object, but it was:",i,r);const s=[],o=er.empty();Do(r,(u,c)=>{const f=nx(e,u,n);c=hn(c);const h=i.Nu(f);if(c instanceof np)s.push(f);else{const m=bc(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new fr(s);return new eR(o,a,i.fieldTransforms)}function r3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[By(e,r,n)],u=[i];if(s.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(By(e,s[m])),u.push(s[m+1]);const c=[],f=er.empty();for(let m=a.length-1;m>=0;--m)if(!sR(c,a[m])){const E=a[m];let T=u[m];T=hn(T);const _=o.Nu(E);if(T instanceof np)c.push(E);else{const I=bc(T,_);I!=null&&(c.push(E),f.set(E,I))}}const h=new fr(c);return new eR(f,h,o.fieldTransforms)}function i3(t,e,n,r=!1){return bc(n,t.Qu(r?4:3,e))}function bc(t,e){if(iR(t=hn(t)))return tx("Unsupported field value:",e,t),rR(t,e);if(t instanceof xc)return function(r,i){if(!tR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=bc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fn.fromDate(r);return{timestampValue:$f(i.serializer,s)}}if(r instanceof fn){const s=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,s)}}if(r instanceof Zh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:SI(i.serializer,r._byteString)};if(r instanceof kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:D0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ep)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return O0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xh(r)}`)}(t,e)}function rR(t,e){const n={};return JC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const s=bc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof Zh||t instanceof Ro||t instanceof kn||t instanceof xc||t instanceof ep)}function tx(t,e,n){if(!iR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function By(t,e,n){if((e=hn(e))instanceof vc)return e._internalPath;if(typeof e=="string")return nx(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const s3=new RegExp("[~\\*/\\[\\]]");function nx(t,e,n){if(e.search(s3)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ge(ie.INVALID_ARGUMENT,a+t+u)}function sR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o3 extends oR{data(){return super.data()}}function rp(t,e){return typeof e=="string"?nx(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class ix extends rx{}function vr(t,e,...n){let r=[];e instanceof rx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof ip).length,a=s.filter(u=>u instanceof _c).length;if(o>1||o>0&&a>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _c extends ix{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _c(e,n,r)}_apply(e){const n=this._parse(e);return uR(e._query,n),new ss(e.firestore,e.converter,jy(e._query,n))}_parse(e){const n=tp(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){rw(h,f);const E=[];for(const T of h)E.push(nw(u,s,T));m={arrayValue:{values:E}}}else m=nw(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||rw(h,f),m=i3(a,o,h,f==="in"||f==="not-in");return cn.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xr(t,e,n){const r=e,i=rp("where",t);return _c._create(i,r,n)}class ip extends rx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ip(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)uR(o,u),o=jy(o,u)}(e._query,n),new ss(e.firestore,e.converter,jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sp extends ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sp(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(s,o)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ll(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function lR(t,e="asc"){const n=e,r=rp("orderBy",t);return sp._create(r,n)}function nw(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aI(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!Oe.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S1(t,new Oe(r))}if(n instanceof kn)return S1(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function rw(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cR{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Jt(o.doubleValue));return new ep(s)}convertGeoPoint(e){return new Zh(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=k0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);St(kI(r));const i=new Ba(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return i.isEqual(n)||Zi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sx extends oR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hu extends sx{data(e={}){return super.data(e)}}class ox{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hu(this._firestore,this._userDataWriter,r.key,r,new ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:a3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){t=Qn(t,kn);const e=Qn(t.firestore,_i);return Y6(yc(e),t._key).then(n=>fR(e,t,n))}class ax extends cR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function tn(t){t=Qn(t,ss);const e=Qn(t.firestore,_i),n=yc(e),r=new ax(e);return aR(t._query),X6(n,t._query).then(i=>new ox(e,r,t,i))}function br(t,e,n){t=Qn(t,kn);const r=Qn(t.firestore,_i),i=dR(t.converter,e,n);return wc(r,[nR(tp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function en(t,e,n,...r){t=Qn(t,kn);const i=Qn(t.firestore,_i),s=tp(i);let o;return o=typeof(e=hn(e))=="string"||e instanceof vc?r3(s,"updateDoc",t._key,e,n,r):n3(s,"updateDoc",t._key,e),wc(i,[o.toMutation(t._key,Lr.exists(!0))])}function Dr(t){return wc(Qn(t.firestore,_i),[new N0(t._key,Lr.none())])}function ts(t,e){const n=Qn(t.firestore,_i),r=Ce(t),i=dR(t.converter,e);return wc(n,[nR(tp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function It(t,...e){var n,r,i;t=hn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof kn)c=Qn(t.firestore,_i),f=Bh(t._key.path),u={next:h=>{e[o]&&e[o](fR(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Qn(t,ss);c=Qn(h.firestore,_i),f=h._query;const m=new ax(c);u={next:E=>{e[o]&&e[o](new ox(c,m,h,E))},error:e[o+1],complete:e[o+2]},aR(t._query)}return function(m,E,T,_){const I=new J0(_),C=new Y0(E,I,T);return m.asyncQueue.enqueueAndForget(async()=>K0(await zf(m),C)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>G0(await zf(m),C))}}(yc(c),f,a,u)}function wc(t,e){return function(r,i){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>F6(await Q6(r),i,s)),s.promise}(yc(t),e)}function fR(t,e,n){const r=n.docs.get(e._key),i=new ax(t);return new sx(t,i,e._key,r,new ga(n.hasPendingWrites,n.fromCache),e.converter)}function Uy(){return new ex("serverTimestamp")}(function(e,n=!0){(function(i){al=i})(Lo),So(new Ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _i(new yL(r.getProvider("auth-internal")),new _L(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pi(v1,"4.7.3",e),pi(v1,"4.7.3","esm2017")})();const lx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:cR,Bytes:Ro,CollectionReference:Hi,DocumentReference:kn,DocumentSnapshot:sx,FieldPath:vc,FieldValue:xc,Firestore:_i,FirestoreError:ge,GeoPoint:Zh,Query:ss,QueryCompositeFilterConstraint:ip,QueryConstraint:ix,QueryDocumentSnapshot:hu,QueryFieldFilterConstraint:_c,QueryOrderByConstraint:sp,QuerySnapshot:ox,SnapshotMetadata:ga,Timestamp:fn,VectorValue:ep,_AutoId:C0,_ByteString:_n,_DatabaseId:Ba,_DocumentKey:Oe,_EmptyAuthCredentialsProvider:XC,_FieldPath:xn,_cast:Qn,_logWarn:To,_validateIsNotUsedTogether:XI,addDoc:ts,collection:ke,connectFirestoreEmulator:JI,deleteDoc:Dr,doc:Ce,ensureFirestoreConfigured:yc,executeWrite:wc,getDoc:dn,getDocs:tn,getFirestore:ZI,onSnapshot:It,orderBy:lR,query:vr,serverTimestamp:Uy,setDoc:br,updateDoc:en,where:xr},Symbol.toStringTag,{value:"Module"}));function ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pR=hR,mR=new uc("auth","Firebase",hR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new w0("@firebase/auth");function l3(t,...e){Uf.logLevel<=at.WARN&&Uf.warn(`Auth (${Lo}): ${t}`,...e)}function Wd(t,...e){Uf.logLevel<=at.ERROR&&Uf.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw cx(t,...e)}function yi(t,...e){return cx(t,...e)}function gR(t,e,n){const r=Object.assign(Object.assign({},pR()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function qi(t){return gR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mR.create(t,...e)}function Ue(t,e,...n){if(!t)throw cx(e,...n)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function ns(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u3(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u3()||GN()||"connection"in navigator)?navigator.onLine:!0}function d3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=HN()||QN()}get(){return c3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Sc(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qs(t,e,n,r,i={}){return vR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return KN()||(c.referrerPolicy="no-referrer"),yR.fetch()(xR(t,t.config.apiHost,n,a),c)})}async function vR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},f3),e);try{const i=new m3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw yd(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gR(t,f,c);ni(t,f)}}catch(i){if(i instanceof Ti)throw i;ni(t,"network-request-failed",{message:String(i)})}}async function Ec(t,e,n,r,i={}){const s=await Qs(t,e,n,r,i);return"mfaPendingCredential"in s&&ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dx(t.config,i):`${t.config.apiScheme}://${i}`}function p3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),h3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(t,e,r);return i.customData._tokenResponse=n,i}function sw(t){return t!==void 0&&t.enterprise!==void 0}class g3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function y3(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function bR(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _R(t,e=!1){const n=hn(t),r=await n.getIdToken(e),i=fx(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pu(Jm(i.auth_time)),issuedAtTime:pu(Jm(i.iat)),expirationTime:pu(Jm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jm(t){return Number(t)*1e3}function fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=OC(n);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ow(t){const e=fx(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&x3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qu(t,bR(n,{idToken:r}));Ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SR(s.providerUserInfo):[],a=_3(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function wR(t){const e=hn(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SR(t){return t.map(e=>{var{providerId:n}=e,r=ux(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){const n=await vR(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S3(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ta;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ux(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _R(this,e)}reload(){return wR(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await qu(this,v3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:P,isAnonymous:M,providerData:N,stsTokenManager:S}=n;Ue(w&&S,e,"internal-error");const p=Ta.fromJSON(this.name,S);Ue(typeof w=="string",e,"internal-error"),fs(h,e.name),fs(m,e.name),Ue(typeof P=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),fs(E,e.name),fs(T,e.name),fs(_,e.name),fs(I,e.name),fs(C,e.name),fs(v,e.name);const g=new zi({uid:w,auth:e,email:m,emailVerified:P,displayName:h,isAnonymous:M,photoURL:T,phoneNumber:E,tenantId:_,stsTokenManager:p,createdAt:C,lastLoginAt:v});return N&&Array.isArray(N)&&(g.providerData=N.map(x=>Object.assign({},x))),I&&(g._redirectEventId=I),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const s=new zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?SR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ta;a.updateFromIdToken(r);const u=new zi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;function Bi(t){ns(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ER.type="NONE";const qy=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ca(Bi(qy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Bi(qy);const o=Hd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=zi._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ca(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ca(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(AR(e))return"Webos";if(CR(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(kR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TR(t=Un()){return/firefox\//i.test(t)}function CR(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(t=Un()){return/crios\//i.test(t)}function RR(t=Un()){return/iemobile/i.test(t)}function kR(t=Un()){return/android/i.test(t)}function PR(t=Un()){return/blackberry/i.test(t)}function AR(t=Un()){return/webos/i.test(t)}function hx(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E3(t=Un()){var e;return hx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T3(){return YN()&&document.documentMode===10}function jR(t=Un()){return hx(t)||kR(t)||AR(t)||PR(t)||/windows phone/i.test(t)||RR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e=[]){let n;switch(t){case"Browser":n=lw(Un());break;case"Worker":n=`${lw(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=6;class k3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:R3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new C3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bR(this,{idToken:e}),r=await zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(qi(this));const n=e?hn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I3(this),n=new k3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fo(t){return hn(t)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=iM(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A3(t){op=t}function NR(t){return op.loadJS(t)}function j3(){return op.recaptchaEnterpriseScript}function O3(){return op.gapiScript}function N3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const M3="recaptcha-enterprise",L3="NO_RECAPTCHA";class D3{constructor(e){this.type=M3,this.auth=Fo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{y3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new g3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;sw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(L3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&sw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=j3();u.length!==0&&(u+=a),NR(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function cw(t,e,n,r=!1){const i=new D3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ky(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await cw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await cw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Of(s,e??{}))return i;ni(i,"already-initialized")}return n.initialize({options:e})}function $3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LR(t,e,n){const r=Fo(t);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=DR(e),{host:o,port:a}=F3(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),V3()}function DR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F3(t){const e=DR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dw(o)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function z3(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function W3(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends ap{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",B3);case"emailLink":return U3(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",z3);case"emailLink":return W3(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="http://localhost";class zs extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ux(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:H3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K3(t){const e=Kl(Gl(t)).link,n=e?Kl(Gl(e)).deep_link_id:null,r=Kl(Gl(t)).deep_link_id;return(r?Kl(Gl(r)).link:null)||r||n||e||t}class lp{constructor(e){var n,r,i,s,o,a;const u=Kl(Gl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=q3((i=u.mode)!==null&&i!==void 0?i:null);Ue(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=K3(e);try{return new lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lp.parseLink(n);return Ue(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends $R{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Tc{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Tc{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Tc{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e){return Ec(t,"POST","/v1/accounts:signUp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zi._fromIdTokenResponse(e,r,i),o=fw(r);return new ko({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fw(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hf(e,n,r,i)}}function FR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(t,s,e,r):s})}async function Q3(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e,n=!1){const{auth:r}=t;if(di(r.app))return Promise.reject(qi(r));const i="reauthenticate";try{const s=await qu(t,FR(r,i,e,t),n);Ue(s.idToken,r,"internal-error");const o=fx(s.idToken);Ue(o,r,"internal-error");const{sub:a}=o;return Ue(t.uid===a,r,"user-mismatch"),ko._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t,e,n=!1){if(di(t.app))return Promise.reject(qi(t));const r="signIn",i=await FR(t,r,e),s=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zR(t,e){return VR(Fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t){const e=Fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jl(t,e,n){if(di(t.app))return Promise.reject(qi(t));const r=Fo(t),o=await Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G3).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BR(t),u}),a=await ko._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function UR(t,e,n){return di(t.app)?Promise.reject(qi(t)):zR(hn(t),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BR(t),r})}function WR(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function HR(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function ri(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function qR(t){return hn(t).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=1e3,J3=10;class GR extends KR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);T3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GR.type="LOCAL";const QR=GR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends KR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YR.type="SESSION";const px=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await Z3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=mx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function t5(t){vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function n5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i5(){return XR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebaseLocalStorageDb",s5=1,Kf="firebaseLocalStorage",ZR="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function o5(){const t=indexedDB.deleteDatabase(JR);return new Cc(t).toPromise()}function Gy(){const t=indexedDB.open(JR,s5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kf,{keyPath:ZR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kf)?e(r):(r.close(),await o5(),e(await Gy()))})})}async function hw(t,e,n){const r=cp(t,!0).put({[ZR]:e,value:n});return new Cc(r).toPromise()}async function a5(t,e){const n=cp(t,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function pw(t,e){const n=cp(t,!0).delete(e);return new Cc(n).toPromise()}const l5=800,u5=3;class ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(i5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n5(),!this.activeServiceWorker)return;this.sender=new e5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gy();return await hw(e,qf,"1"),await pw(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cp(i,!1).getAll();return new Cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ek.type="LOCAL";const tk=ek;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){return e?Bi(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d5(t){return VR(t.auth,new gx(t),t.bypassAuthState)}function f5(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Y3(n,new gx(t),t.bypassAuthState)}async function h5(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),Q3(n,new gx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d5;case"linkViaPopup":case"linkViaRedirect":return h5;case"reauthViaPopup":case"reauthViaRedirect":return f5;default:ni(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new Sc(2e3,1e4);class ya extends nk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=mx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p5.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="pendingRedirect",qd=new Map;class g5 extends nk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await y5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y5(t,e){const n=b5(e),r=x5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v5(t,e){qd.set(t._key(),e)}function x5(t){return Bi(t._redirectPersistence)}function b5(t){return Hd(m5,t.config.apiKey,t.name)}async function _5(t,e,n=!1){if(di(t.app))return Promise.reject(qi(t));const r=Fo(t),i=c5(r,e),o=await new g5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=10*60*1e3;class S5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I5=/^https?/;async function R5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T5(t);for(const n of e)try{if(k5(n))return}catch{}ni(t,"unauthorized-domain")}function k5(t){const e=Wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I5.test(n))return!1;if(C5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new Sc(3e4,6e4);function gw(){const t=vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A5(t){return new Promise((e,n)=>{var r,i,s;function o(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),n(yi(t,"network-request-failed"))},timeout:P5.get()})}if(!((i=(r=vi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vi().gapi)===null||s===void 0)&&s.load)o();else{const a=N3("iframefcb");return vi()[a]=()=>{gapi.load?o():n(yi(t,"network-request-failed"))},NR(`${O3()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function j5(t){return Kd=Kd||A5(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Sc(5e3,15e3),N5="__/auth/iframe",M5="emulator/auth/iframe",L5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $5(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dx(e,M5):`https://${t.config.authDomain}/${N5}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},i=D5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cc(r).slice(1)}`}async function F5(t){const e=await j5(t),n=vi().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:$5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yi(t,"network-request-failed"),a=vi().setTimeout(()=>{s(o)},O5.get());function u(){vi().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z5=500,B5=600,U5="_blank",W5="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H5(t,e,n,r=z5,i=B5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},V5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Un().toLowerCase();n&&(a=IR(c)?U5:n),TR(c)&&(e=e||W5,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[E,T])=>`${m}${E}=${T},`,"");if(E3(c)&&a!=="_self")return q5(e||"",a),new yw(null);const h=window.open(e||"",a,f);Ue(h,t,"popup-blocked");try{h.focus()}catch{}return new yw(h)}function q5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="__/auth/handler",G5="emulator/auth/handler",Q5=encodeURIComponent("fac");async function vw(t,e,n,r,i,s){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:i};if(e instanceof $R){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Tc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${Q5}=${encodeURIComponent(u)}`:"";return`${Y5(t)}?${cc(a).slice(1)}${c}`}function Y5({config:t}){return t.emulator?dx(t,G5):`https://${t.authDomain}/${K5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class X5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=px,this._completeRedirectFn=_5,this._overrideRedirectResult=v5}async _openPopup(e,n,r,i){var s;ns((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vw(e,n,r,Wy(),i);return H5(e,o,mx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vw(e,n,r,Wy(),i);return t5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F5(e),r=new S5(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zm];o!==void 0&&n(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||CR()||hx()}}const ik=X5;var xw="@firebase/auth",bw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e4(t){So(new Ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OR(t)},c=new P3(r,i,s,u);return $3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new Ds("auth-internal",e=>{const n=Fo(e.getProvider("auth").getImmediate());return(r=>new J5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(xw,bw,Z5(t)),pi(xw,bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=5*60,n4=DC("authIdTokenMaxAge")||t4;let _w=null;const r4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n4)return;const i=n==null?void 0:n.token;_w!==i&&(_w=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Br(t=E0()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MR(t,{popupRedirectResolver:ik,persistence:[tk,QR,px]}),r=DC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=r4(s.toString());HR(n,o,()=>o(n.currentUser)),WR(n,a=>o(a))}}const i=NC("auth");return i&&LR(n,`http://${i}`),n}function i4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",i4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e4("Browser");const sk=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:lp,AuthCredential:ap,EmailAuthCredential:Ka,EmailAuthProvider:Vo,FacebookAuthProvider:Oi,GithubAuthProvider:Mi,GoogleAuthProvider:Ni,OAuthCredential:zs,TwitterAuthProvider:Li,beforeAuthStateChanged:HR,browserLocalPersistence:QR,browserPopupRedirectResolver:ik,browserSessionPersistence:px,connectAuthEmulator:LR,createUserWithEmailAndPassword:Jl,getAuth:Br,getIdTokenResult:_R,inMemoryPersistence:qy,indexedDBLocalPersistence:tk,initializeAuth:MR,onAuthStateChanged:ri,onIdTokenChanged:WR,prodErrorMap:pR,reload:wR,signInWithCredential:zR,signInWithEmailAndPassword:UR,signOut:qR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebasestorage.googleapis.com",s4="storageBucket",o4=2*60*1e3,a4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ti{constructor(e,n,r=0){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wi||(wi={}));function eg(t){return"storage/"+t}function l4(){const t="An unknown error occurred, please check the error payload for server response.";return new Ci(wi.UNKNOWN,t)}function u4(){return new Ci(wi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c4(){return new Ci(wi.CANCELED,"User canceled the upload/download.")}function d4(t){return new Ci(wi.INVALID_URL,"Invalid URL '"+t+"'.")}function f4(t){return new Ci(wi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ww(t){return new Ci(wi.INVALID_ARGUMENT,t)}function ak(){return new Ci(wi.APP_DELETED,"The Firebase app was deleted.")}function h4(t){return new Ci(wi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xr.makeFromUrl(e,n)}catch{return new Xr(e,"")}if(r.path==="")return r;throw f4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",E=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},_=n===ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",C=new RegExp(`^https?://${_}/${i}/${I}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:E,indices:T,postModify:c},{regex:C,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<w.length;P++){const M=w[P],N=M.regex.exec(e);if(N){const S=N[M.indices.bucket];let p=N[M.indices.path];p||(p=""),r=new Xr(S,p),M.postModify(r);break}}if(r==null)throw d4(e);return r}}class p4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(E,u())},I)}function m(){s&&clearTimeout(s)}function E(I,...C){if(c){m();return}if(I){m(),f.call(null,I,...C);return}if(u()||o){m(),f.call(null,I,...C);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let T=!1;function _(I){T||(T=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function g4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){return t!==void 0}function Sw(t,e,n,r){if(r<e)throw ww(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ww(`Invalid value for '${t}'. Expected ${n} or less.`)}function v4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gf||(Gf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Gf.NO_ERROR,u=s.getStatus();if(!a||x4(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Gf.ABORT;r(!1,new vd(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new vd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());y4(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=l4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?ak():c4();o(u)}else{const u=u4();o(u)}};this.canceled_?n(!1,new vd(!1,null,!0)):this.backoffId_=m4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function E4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function T4(t,e,n,r,i,s,o=!0){const a=v4(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return S4(c,e),_4(c,n),w4(c,s),E4(c,r),new b4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this._service=e,n instanceof Xr?this._location=n:this._location=Xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qf(e,n)}get root(){const e=new Xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I4(this._location.path)}get storage(){return this._service}get parent(){const e=C4(this._location.path);if(e===null)return null;const n=new Xr(this._location.bucket,e);return new Qf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h4(e)}}function Ew(t,e){const n=e==null?void 0:e[s4];return n==null?null:Xr.makeFromBucketSpec(n,t)}function R4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:$C(i,t.app.options.projectId))}class k4{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ok,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o4,this._maxUploadRetryTime=a4,this._requests=new Set,i!=null?this._bucket=Xr.makeFromBucketSpec(i,this._host):this._bucket=Ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xr.makeFromBucketSpec(this._url,e):this._bucket=Ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new p4(ak());{const o=T4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Tw="@firebase/storage",Cw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="storage";function P4(t=E0(),e){t=hn(t);const r=Vh(t,lk).getImmediate({identifier:e}),i=MC("storage");return i&&A4(r,...i),r}function A4(t,e,n,r={}){R4(t,e,n,r)}function j4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new k4(n,r,i,e,Lo)}function O4(){So(new Ds(lk,j4,"PUBLIC").setMultipleInstances(!0)),pi(Tw,Cw,""),pi(Tw,Cw,"esm2017")}O4();const N4={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},dp=zC(N4),Z=ZI(dp),io=Br(dp);P4(dp);const M4=Object.freeze(Object.defineProperty({__proto__:null,app:dp,auth:io,db:Z},Symbol.toStringTag,{value:"Module"}));function L4(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function D4(){const[t,e]=b.useState([]),[n,r]=b.useState(null),[i,s]=b.useState(""),o=Sr();b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),b.useEffect(()=>{async function c(){const h=(await tn(ke(Z,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=L4(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qy(t,e)}function uk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qy(t,e)}const Iw={disabled:!1},Yf=pe.createContext(null);var $4=function(e){return e.scrollTop},Zl="unmounted",so="exited",oo="entering",ra="entered",Yy="exiting",Ii=function(t){uk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=so,s.appearStatus=oo):u=ra:r.unmountOnExit||r.mountOnEnter?u=Zl:u=so,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Zl?{status:so}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==oo&&o!==ra&&(s=oo):(o===oo||o===ra)&&(s=Yy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===oo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this);o&&$4(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===so&&this.setState({status:Zl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[fd.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||Iw.disabled){this.safeSetState({status:ra},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:oo},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:ra},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:fd.findDOMNode(this);if(!s||Iw.disabled){this.safeSetState({status:so},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Yy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:so},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Zl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(Yf.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},e}(pe.Component);Ii.contextType=Yf;Ii.propTypes={};function Ko(){}Ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ko,onEntering:Ko,onEntered:Ko,onExit:Ko,onExiting:Ko,onExited:Ko};Ii.UNMOUNTED=Zl;Ii.EXITED=so;Ii.ENTERING=oo;Ii.ENTERED=ra;Ii.EXITING=Yy;function F4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yx(t,e){var n=function(s){return e&&b.isValidElement(s)?e(s):s},r=Object.create(null);return t&&b.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function V4(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function z4(t,e){return yx(t.children,function(n){return b.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fo(n,"appear",t),enter:fo(n,"enter",t),exit:fo(n,"exit",t)})})}function B4(t,e,n){var r=yx(t.children),i=V4(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(b.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=b.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}):!u&&a&&!f?i[s]=b.cloneElement(o,{in:!1}):u&&a&&b.isValidElement(c)&&(i[s]=b.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}))}}),i}var U4=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},W4={component:"div",childFactory:function(e){return e}},vx=function(t){uk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(F4(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?z4(i,a):B4(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=yx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=$({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ie(i,["component","childFactory"]),u=this.state.contextValue,c=U4(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pe.createElement(Yf.Provider,{value:u},c):pe.createElement(Yf.Provider,{value:u},pe.createElement(s,a,c))},e}(pe.Component);vx.propTypes={};vx.defaultProps=W4;function Ic(t){if(parseInt(b.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}function Po(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const H4=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function q4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function K4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var G4=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(K4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=q4(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$n="-ms-",Xf="-moz-",vt="-webkit-",ck="comm",xx="rule",bx="decl",Q4="@import",dk="@keyframes",Y4="@layer",X4=Math.abs,fp=String.fromCharCode,J4=Object.assign;function Z4(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function fk(t){return t.trim()}function e$(t,e){return(t=e.exec(t))?t[0]:t}function xt(t,e,n){return t.replace(e,n)}function Xy(t,e){return t.indexOf(e)}function Cn(t,e){return t.charCodeAt(e)|0}function Ku(t,e,n){return t.slice(e,n)}function li(t){return t.length}function _x(t){return t.length}function xd(t,e){return e.push(t),t}function t$(t,e){return t.map(e).join("")}var hp=1,Ga=1,hk=0,or=0,ln=0,dl="";function pp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:hp,column:Ga,length:o,return:""}}function Ml(t,e){return J4(pp("",null,null,"",null,null,0),t,{length:-t.length},e)}function n$(){return ln}function r$(){return ln=or>0?Cn(dl,--or):0,Ga--,ln===10&&(Ga=1,hp--),ln}function mr(){return ln=or<hk?Cn(dl,or++):0,Ga++,ln===10&&(Ga=1,hp++),ln}function xi(){return Cn(dl,or)}function Gd(){return or}function Rc(t,e){return Ku(dl,t,e)}function Gu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pk(t){return hp=Ga=1,hk=li(dl=t),or=0,[]}function mk(t){return dl="",t}function Qd(t){return fk(Rc(or-1,Jy(t===91?t+2:t===40?t+1:t)))}function i$(t){for(;(ln=xi())&&ln<33;)mr();return Gu(t)>2||Gu(ln)>3?"":" "}function s$(t,e){for(;--e&&mr()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return Rc(t,Gd()+(e<6&&xi()==32&&mr()==32))}function Jy(t){for(;mr();)switch(ln){case t:return or;case 34:case 39:t!==34&&t!==39&&Jy(ln);break;case 40:t===41&&Jy(t);break;case 92:mr();break}return or}function o$(t,e){for(;mr()&&t+ln!==57;)if(t+ln===84&&xi()===47)break;return"/*"+Rc(e,or-1)+"*"+fp(t===47?t:mr())}function a$(t){for(;!Gu(xi());)mr();return Rc(t,or)}function l$(t){return mk(Yd("",null,null,null,[""],t=pk(t),0,[0],t))}function Yd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,E=0,T=0,_=1,I=1,C=1,v=0,w="",P=i,M=s,N=r,S=w;I;)switch(T=v,v=mr()){case 40:if(T!=108&&Cn(S,h-1)==58){Xy(S+=xt(Qd(v),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:S+=Qd(v);break;case 9:case 10:case 13:case 32:S+=i$(T);break;case 92:S+=s$(Gd()-1,7);continue;case 47:switch(xi()){case 42:case 47:xd(u$(o$(mr(),Gd()),e,n),u);break;default:S+="/"}break;case 123*_:a[c++]=li(S)*C;case 125*_:case 59:case 0:switch(v){case 0:case 125:I=0;case 59+f:C==-1&&(S=xt(S,/\f/g,"")),E>0&&li(S)-h&&xd(E>32?kw(S+";",r,n,h-1):kw(xt(S," ","")+";",r,n,h-2),u);break;case 59:S+=";";default:if(xd(N=Rw(S,e,n,c,f,i,a,w,P=[],M=[],h),s),v===123)if(f===0)Yd(S,e,N,N,P,s,h,a,M);else switch(m===99&&Cn(S,3)===110?100:m){case 100:case 108:case 109:case 115:Yd(t,N,N,r&&xd(Rw(t,N,N,0,0,i,a,w,i,P=[],h),M),i,M,h,a,r?P:M);break;default:Yd(S,N,N,N,[""],M,0,a,M)}}c=f=E=0,_=C=1,w=S="",h=o;break;case 58:h=1+li(S),E=T;default:if(_<1){if(v==123)--_;else if(v==125&&_++==0&&r$()==125)continue}switch(S+=fp(v),v*_){case 38:C=f>0?1:(S+="\f",-1);break;case 44:a[c++]=(li(S)-1)*C,C=1;break;case 64:xi()===45&&(S+=Qd(mr())),m=xi(),f=h=li(w=S+=a$(Gd())),v++;break;case 45:T===45&&li(S)==2&&(_=0)}}return s}function Rw(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],E=_x(m),T=0,_=0,I=0;T<r;++T)for(var C=0,v=Ku(t,h+1,h=X4(_=o[T])),w=t;C<E;++C)(w=fk(_>0?m[C]+" "+v:xt(v,/&\f/g,m[C])))&&(u[I++]=w);return pp(t,e,n,i===0?xx:a,u,c,f)}function u$(t,e,n){return pp(t,e,n,ck,fp(n$()),Ku(t,2,-2),0)}function kw(t,e,n,r){return pp(t,e,n,bx,Ku(t,0,r),Ku(t,r+1,-1),r)}function Ra(t,e){for(var n="",r=_x(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function c$(t,e,n,r){switch(t.type){case Y4:if(t.children.length)break;case Q4:case bx:return t.return=t.return||t.value;case ck:return"";case dk:return t.return=t.value+"{"+Ra(t.children,r)+"}";case xx:t.value=t.props.join(",")}return li(n=Ra(t.children,r))?t.return=t.value+"{"+n+"}":""}function d$(t){var e=_x(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function f$(t){return function(e){e.root||(e=e.return)&&t(e)}}function gk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var h$=function(e,n,r){for(var i=0,s=0;i=s,s=xi(),i===38&&s===12&&(n[r]=1),!Gu(s);)mr();return Rc(e,or)},p$=function(e,n){var r=-1,i=44;do switch(Gu(i)){case 0:i===38&&xi()===12&&(n[r]=1),e[r]+=h$(or-1,n,r);break;case 2:e[r]+=Qd(i);break;case 4:if(i===44){e[++r]=xi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fp(i)}while(i=mr());return e},m$=function(e,n){return mk(p$(pk(e),n))},Pw=new WeakMap,g$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Pw.get(r))&&!i){Pw.set(e,!0);for(var s=[],o=m$(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},y$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function yk(t,e){switch(Z4(t,e)){case 5103:return vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+t+Xf+t+$n+t+t;case 6828:case 4268:return vt+t+$n+t+t;case 6165:return vt+t+$n+"flex-"+t+t;case 5187:return vt+t+xt(t,/(\w+).+(:[^]+)/,vt+"box-$1$2"+$n+"flex-$1$2")+t;case 5443:return vt+t+$n+"flex-item-"+xt(t,/flex-|-self/,"")+t;case 4675:return vt+t+$n+"flex-line-pack"+xt(t,/align-content|flex-|-self/,"")+t;case 5548:return vt+t+$n+xt(t,"shrink","negative")+t;case 5292:return vt+t+$n+xt(t,"basis","preferred-size")+t;case 6060:return vt+"box-"+xt(t,"-grow","")+vt+t+$n+xt(t,"grow","positive")+t;case 4554:return vt+xt(t,/([^-])(transform)/g,"$1"+vt+"$2")+t;case 6187:return xt(xt(xt(t,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),t,"")+t;case 5495:case 3959:return xt(t,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return xt(xt(t,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+$n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+t+t;case 4095:case 3583:case 4068:case 2532:return xt(t,/(.+)-inline(.+)/,vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(li(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return xt(t,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+Xf+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Xy(t,"stretch")?yk(xt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cn(t,e+1)!==115)break;case 6444:switch(Cn(t,li(t)-3-(~Xy(t,"!important")&&10))){case 107:return xt(t,":",":"+vt)+t;case 101:return xt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(Cn(t,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+$n+"$2box$3")+t}break;case 5936:switch(Cn(t,e+11)){case 114:return vt+t+$n+xt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vt+t+$n+xt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vt+t+$n+xt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return vt+t+$n+t+t}return t}var v$=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case bx:e.return=yk(e.value,e.length);break;case dk:return Ra([Ml(e,{value:xt(e.value,"@","@"+vt)})],i);case xx:if(e.length)return t$(e.props,function(s){switch(e$(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ra([Ml(e,{props:[xt(s,/:(read-\w+)/,":"+Xf+"$1")]})],i);case"::placeholder":return Ra([Ml(e,{props:[xt(s,/:(plac\w+)/,":"+vt+"input-$1")]}),Ml(e,{props:[xt(s,/:(plac\w+)/,":"+Xf+"$1")]}),Ml(e,{props:[xt(s,/:(plac\w+)/,$n+"input-$1")]})],i)}return""})}},x$=[v$],vk=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var I=_.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||x$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var I=_.getAttribute("data-emotion").split(" "),C=1;C<I.length;C++)s[I[C]]=!0;a.push(_)});var u,c=[g$,y$];{var f,h=[c$,f$(function(_){f.insert(_)})],m=d$(c.concat(i,h)),E=function(I){return Ra(l$(I),m)};u=function(I,C,v,w){f=v,E(I?I+"{"+C.styles+"}":C.styles),w&&(T.inserted[C.name]=!0)}}var T={key:n,sheet:new G4({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return T.sheet.hydrate(a),T},xk={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,wx=wn?Symbol.for("react.element"):60103,Sx=wn?Symbol.for("react.portal"):60106,mp=wn?Symbol.for("react.fragment"):60107,gp=wn?Symbol.for("react.strict_mode"):60108,yp=wn?Symbol.for("react.profiler"):60114,vp=wn?Symbol.for("react.provider"):60109,xp=wn?Symbol.for("react.context"):60110,Ex=wn?Symbol.for("react.async_mode"):60111,bp=wn?Symbol.for("react.concurrent_mode"):60111,_p=wn?Symbol.for("react.forward_ref"):60112,wp=wn?Symbol.for("react.suspense"):60113,b$=wn?Symbol.for("react.suspense_list"):60120,Sp=wn?Symbol.for("react.memo"):60115,Ep=wn?Symbol.for("react.lazy"):60116,_$=wn?Symbol.for("react.block"):60121,w$=wn?Symbol.for("react.fundamental"):60117,S$=wn?Symbol.for("react.responder"):60118,E$=wn?Symbol.for("react.scope"):60119;function Er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wx:switch(t=t.type,t){case Ex:case bp:case mp:case yp:case gp:case wp:return t;default:switch(t=t&&t.$$typeof,t){case xp:case _p:case Ep:case Sp:case vp:return t;default:return e}}case Sx:return e}}}function bk(t){return Er(t)===bp}Et.AsyncMode=Ex;Et.ConcurrentMode=bp;Et.ContextConsumer=xp;Et.ContextProvider=vp;Et.Element=wx;Et.ForwardRef=_p;Et.Fragment=mp;Et.Lazy=Ep;Et.Memo=Sp;Et.Portal=Sx;Et.Profiler=yp;Et.StrictMode=gp;Et.Suspense=wp;Et.isAsyncMode=function(t){return bk(t)||Er(t)===Ex};Et.isConcurrentMode=bk;Et.isContextConsumer=function(t){return Er(t)===xp};Et.isContextProvider=function(t){return Er(t)===vp};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wx};Et.isForwardRef=function(t){return Er(t)===_p};Et.isFragment=function(t){return Er(t)===mp};Et.isLazy=function(t){return Er(t)===Ep};Et.isMemo=function(t){return Er(t)===Sp};Et.isPortal=function(t){return Er(t)===Sx};Et.isProfiler=function(t){return Er(t)===yp};Et.isStrictMode=function(t){return Er(t)===gp};Et.isSuspense=function(t){return Er(t)===wp};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mp||t===bp||t===yp||t===gp||t===wp||t===b$||typeof t=="object"&&t!==null&&(t.$$typeof===Ep||t.$$typeof===Sp||t.$$typeof===vp||t.$$typeof===xp||t.$$typeof===_p||t.$$typeof===w$||t.$$typeof===S$||t.$$typeof===E$||t.$$typeof===_$)};Et.typeOf=Er;xk.exports=Et;var T$=xk.exports,_k=T$,C$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wk={};wk[_k.ForwardRef]=C$;wk[_k.Memo]=I$;var R$=!0;function Sk(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Tx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||R$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Cx=function(e,n,r){Tx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function k$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var P$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},A$=/[A-Z]|^ms/g,j$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ek=function(e){return e.charCodeAt(1)===45},Aw=function(e){return e!=null&&typeof e!="boolean"},tg=gk(function(t){return Ek(t)?t:t.replace(A$,"-$&").toLowerCase()}),jw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(j$,function(r,i,s){return ui={name:i,styles:s,next:ui},i})}return P$[e]!==1&&!Ek(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ui={name:i.name,styles:i.styles,next:ui},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ui={name:o.name,styles:o.styles,next:ui},o=o.next;var a=s.styles+";";return a}return O$(t,e,n)}case"function":{if(t!==void 0){var u=ui,c=n(t);return ui=u,Qu(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function O$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Aw(a)&&(r+=tg(s)+":"+jw(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)Aw(o[u])&&(r+=tg(s)+":"+jw(s,o[u])+";");else{var c=Qu(t,e,o);switch(s){case"animation":case"animationName":{r+=tg(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var Ow=/label:\s*([^\s;{]+)\s*(;|$)/g,ui;function kc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ui=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Qu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Qu(n,e,t[a]),r){var u=s;i+=u[a]}Ow.lastIndex=0;for(var c="",f;(f=Ow.exec(i))!==null;)c+="-"+f[1];var h=k$(i)+c;return{name:h,styles:i,next:ui}}var N$=function(e){return e()},Tk=of.useInsertionEffect?of.useInsertionEffect:!1,Ck=Tk||N$,Nw=Tk||b.useLayoutEffect,Ik=b.createContext(typeof HTMLElement<"u"?vk({key:"css"}):null),M$=Ik.Provider,Ix=function(e){return b.forwardRef(function(n,r){var i=b.useContext(Ik);return e(n,i,r)})},fl=b.createContext({}),Rx={}.hasOwnProperty,Zy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",L$=function(e,n){var r={};for(var i in n)Rx.call(n,i)&&(r[i]=n[i]);return r[Zy]=e,r},D$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Tx(n,r,i),Ck(function(){return Cx(n,r,i)}),null},$$=Ix(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Zy],s=[r],o="";typeof t.className=="string"?o=Sk(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=kc(s,void 0,b.useContext(fl));o+=e.key+"-"+a.name;var u={};for(var c in t)Rx.call(t,c)&&c!=="css"&&c!==Zy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),b.createElement(b.Fragment,null,b.createElement(D$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),b.createElement(i,u))}),F$=$$,ng={exports:{}},Mw;function Rk(){return Mw||(Mw=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ng)),ng.exports}Rk();var Lw=function(e,n){var r=arguments;if(n==null||!Rx.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=F$,s[1]=L$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return b.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Lw||(Lw={}));var V$=Ix(function(t,e){var n=t.styles,r=kc([n],void 0,b.useContext(fl)),i=b.useRef();return Nw(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),Nw(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Cx(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function kk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return kc(e)}function Tp(){var t=kk.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var z$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,B$=gk(function(t){return z$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),U$=B$,W$=function(e){return e!=="theme"},Dw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?U$:W$},$w=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},H$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Tx(n,r,i),Ck(function(){return Cx(n,r,i)}),null},q$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=$w(e,n,r),u=a||Dw(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var E=f.length,T=1;T<E;T++)h.push(f[T],m[T])}var _=Ix(function(I,C,v){var w=c&&I.as||i,P="",M=[],N=I;if(I.theme==null){N={};for(var S in I)N[S]=I[S];N.theme=b.useContext(fl)}typeof I.className=="string"?P=Sk(C.registered,M,I.className):I.className!=null&&(P=I.className+" ");var p=kc(h.concat(M),C.registered,N);P+=C.key+"-"+p.name,o!==void 0&&(P+=" "+o);var g=c&&a===void 0?Dw(w):u,x={};for(var A in I)c&&A==="as"||g(A)&&(x[A]=I[A]);return x.className=P,v&&(x.ref=v),b.createElement(b.Fragment,null,b.createElement(H$,{cache:C,serialized:p,isStringTag:typeof w=="string"}),b.createElement(w,x))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(I,C){var v=t(I,$({},n,C,{shouldForwardProp:$w(_,C,!0)}));return v.apply(void 0,h)},_}},K$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ev=q$.bind(null);K$.forEach(function(t){ev[t]=ev(t)});function G$(t,e){const n=vk({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const rg=new Map;function Q$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=b.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&rg.has(s))return rg.get(s);const o=G$(e,n);return rg.set(s,o),o},[e,n]);return e||n?l.jsx(M$,{value:i,children:r}):r}function Y$(t){return t==null||Object.keys(t).length===0}function Pk(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Y$(i)?n:i):e;return l.jsx(V$,{styles:r})}function kx(t,e){return ev(t,e)}const Ak=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Fw=[];function Jf(t){return Fw[0]=t,kc(Fw)}const X$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Pk,StyledEngineProvider:Q$,ThemeContext:fl,css:kk,default:kx,internal_processStyles:Ak,internal_serializeStyles:Jf,keyframes:Tp},Symbol.toStringTag,{value:"Module"}));function Di(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function jk(t){if(b.isValidElement(t)||!Di(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=jk(t[n])}),e}function gr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return Di(t)&&Di(e)&&Object.keys(e).forEach(i=>{b.isValidElement(e[i])?r[i]=e[i]:Di(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Di(t[i])?r[i]=gr(t[i],e[i],n):n.clone?r[i]=Di(e[i])?jk(e[i]):e[i]:r[i]=e[i]}),r}const J$=Object.freeze(Object.defineProperty({__proto__:null,default:gr,isPlainObject:Di},Symbol.toStringTag,{value:"Module"})),Z$=["values","unit","step"],eF=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function Ok(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ie(t,Z$),s=eF(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,E){const T=o.indexOf(E);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:E)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const E=o.indexOf(m);return E===0?a(o[1]):E===o.length-1?u(o[E]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return $({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const tF={borderRadius:4};function mu(t,e){return e?gr(t,e,{clone:!1}):t}const Px={xs:0,sm:600,md:900,lg:1200,xl:1536},Vw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Px[t]}px)`};function Vr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Vw;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Vw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Px).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function nF(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function zw(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function rF(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Cp({values:t,breakpoints:e,base:n}){const r=n||rF(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Be(t){if(typeof t!="string")throw new Error(Po(7));return t.charAt(0).toUpperCase()+t.slice(1)}const iF=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));function Ip(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Zf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ip(t,n)||r,e&&(i=e(i,r,t)),i}function rn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Ip(u,r)||{};return Vr(o,a,h=>{let m=Zf(c,i,h);return h===m&&typeof h=="string"&&(m=Zf(c,i,`${e}${h==="default"?"":Be(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function sF(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const oF={m:"margin",p:"padding"},aF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Bw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lF=sF(t=>{if(t.length>2)if(Bw[t])t=Bw[t];else return[t];const[e,n]=t.split(""),r=oF[e],i=aF[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Ax=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ax,...jx];function Pc(t,e,n,r){var i;const s=(i=Ip(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Nk(t){return Pc(t,"spacing",8)}function Ac(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function uF(t,e){return n=>t.reduce((r,i)=>(r[i]=Ac(e,n),r),{})}function cF(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=lF(n),s=uF(i,r),o=t[n];return Vr(t,o,s)}function Mk(t,e){const n=Nk(t.theme);return Object.keys(t).map(r=>cF(t,e,r,n)).reduce(mu,{})}function qt(t){return Mk(t,Ax)}qt.propTypes={};qt.filterProps=Ax;function Kt(t){return Mk(t,jx)}Kt.propTypes={};Kt.filterProps=jx;function dF(t=8){if(t.mui)return t;const e=Nk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Rp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?mu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Or(t){return typeof t!="number"?t:`${t}px solid`}function Ur(t,e){return rn({prop:t,themeKey:"borders",transform:e})}const fF=Ur("border",Or),hF=Ur("borderTop",Or),pF=Ur("borderRight",Or),mF=Ur("borderBottom",Or),gF=Ur("borderLeft",Or),yF=Ur("borderColor"),vF=Ur("borderTopColor"),xF=Ur("borderRightColor"),bF=Ur("borderBottomColor"),_F=Ur("borderLeftColor"),wF=Ur("outline",Or),SF=Ur("outlineColor"),kp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Pc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ac(e,r)});return Vr(t,t.borderRadius,n)}return null};kp.propTypes={};kp.filterProps=["borderRadius"];Rp(fF,hF,pF,mF,gF,yF,vF,xF,bF,_F,kp,wF,SF);const Pp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({gap:Ac(e,r)});return Vr(t,t.gap,n)}return null};Pp.propTypes={};Pp.filterProps=["gap"];const Ap=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({columnGap:Ac(e,r)});return Vr(t,t.columnGap,n)}return null};Ap.propTypes={};Ap.filterProps=["columnGap"];const jp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({rowGap:Ac(e,r)});return Vr(t,t.rowGap,n)}return null};jp.propTypes={};jp.filterProps=["rowGap"];const EF=rn({prop:"gridColumn"}),TF=rn({prop:"gridRow"}),CF=rn({prop:"gridAutoFlow"}),IF=rn({prop:"gridAutoColumns"}),RF=rn({prop:"gridAutoRows"}),kF=rn({prop:"gridTemplateColumns"}),PF=rn({prop:"gridTemplateRows"}),AF=rn({prop:"gridTemplateAreas"}),jF=rn({prop:"gridArea"});Rp(Pp,Ap,jp,EF,TF,CF,IF,RF,kF,PF,AF,jF);function ka(t,e){return e==="grey"?e:t}const OF=rn({prop:"color",themeKey:"palette",transform:ka}),NF=rn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ka}),MF=rn({prop:"backgroundColor",themeKey:"palette",transform:ka});Rp(OF,NF,MF);function cr(t){return t<=1&&t!==0?`${t*100}%`:t}const LF=rn({prop:"width",transform:cr}),Ox=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Px[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:cr(n)}};return Vr(t,t.maxWidth,e)}return null};Ox.filterProps=["maxWidth"];const DF=rn({prop:"minWidth",transform:cr}),$F=rn({prop:"height",transform:cr}),FF=rn({prop:"maxHeight",transform:cr}),VF=rn({prop:"minHeight",transform:cr});rn({prop:"size",cssProperty:"width",transform:cr});rn({prop:"size",cssProperty:"height",transform:cr});const zF=rn({prop:"boxSizing"});Rp(LF,Ox,DF,$F,FF,VF,zF);const jc={border:{themeKey:"borders",transform:Or},borderTop:{themeKey:"borders",transform:Or},borderRight:{themeKey:"borders",transform:Or},borderBottom:{themeKey:"borders",transform:Or},borderLeft:{themeKey:"borders",transform:Or},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Or},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kp},color:{themeKey:"palette",transform:ka},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ka},backgroundColor:{themeKey:"palette",transform:ka},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pp},rowGap:{style:jp},columnGap:{style:Ap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:cr},maxWidth:{style:Ox},minWidth:{transform:cr},height:{transform:cr},maxHeight:{transform:cr},minHeight:{transform:cr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function BF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function UF(t,e){return typeof t=="function"?t(e):t}function Lk(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Ip(i,c)||{};return h?h(o):Vr(o,r,T=>{let _=Zf(m,f,T);return T===_&&typeof T=="string"&&(_=Zf(m,f,`${n}${T==="default"?"":Be(T)}`,T)),u===!1?_:{[u]:_}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:jc;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=nF(s.breakpoints),m=Object.keys(h);let E=h;return Object.keys(f).forEach(T=>{const _=UF(f[T],s);if(_!=null)if(typeof _=="object")if(a[T])E=mu(E,t(T,_,s,a));else{const I=Vr({theme:s},_,C=>({[T]:C}));BF(I,_)?E[T]=e({sx:_,theme:s,nested:!0}):E=mu(E,I)}else E=mu(E,t(T,_,s,a))}),!o&&s.modularCssLayers?{"@layer sx":zw(m,E)}:zw(m,E)}return Array.isArray(i)?i.map(u):u(i)}return e}const hl=Lk();hl.filterProps=["sx"];function Dk(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const WF=["breakpoints","palette","spacing","shape"];function Oc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ie(t,WF),a=Ok(n),u=dF(i);let c=gr({breakpoints:a,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:u,shape:$({},tF,s)},o);return c.applyStyles=Dk,c=e.reduce((f,h)=>gr(f,h),c),c.unstable_sxConfig=$({},jc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return hl({sx:h,theme:this})},c}const HF=Object.freeze(Object.defineProperty({__proto__:null,default:Oc,private_createBreakpoints:Ok,unstable_applyStyles:Dk},Symbol.toStringTag,{value:"Module"}));function qF(t){return Object.keys(t).length===0}function Nx(t=null){const e=b.useContext(fl);return!e||qF(e)?t:e}const KF=Oc();function Op(t=KF){return Nx(t)}function ig(t){const e=Jf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function $k({styles:t,themeId:e,defaultTheme:n={}}){const r=Op(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>ig(typeof o=="function"?o(i):o)):s=ig(s)),l.jsx(Pk,{styles:s})}const GF=["sx"],QF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:jc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Np(t){const{sx:e}=t,n=Ie(t,GF),{systemProps:r,otherProps:i}=QF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Di(a)?$({},r,a):r}:s=$({},r,e),$({},i,{sx:s})}const YF=Object.freeze(Object.defineProperty({__proto__:null,default:hl,extendSxProp:Np,unstable_createStyleFunctionSx:Lk,unstable_defaultSxConfig:jc},Symbol.toStringTag,{value:"Module"})),Uw=t=>t,XF=()=>{let t=Uw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Uw}}},Mx=XF(),JF=["className","component"];function ZF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=kx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(hl);return b.forwardRef(function(u,c){const f=Op(n),h=Np(u),{className:m,component:E="div"}=h,T=Ie(h,JF);return l.jsx(s,$({as:E,ref:c,className:Me(m,i?i(r):r),theme:e&&f[e]||f},T))})}const eV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ft(t,e,n="Mui"){const r=eV[e];return r?`${n}-${r}`:`${Mx.generate(t)}-${e}`}function lt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ft(t,i,n)}),r}var Fk={exports:{}},Rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=Symbol.for("react.transitional.element"),Dx=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),$p=Symbol.for("react.consumer"),Fp=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),tV=Symbol.for("react.view_transition"),nV=Symbol.for("react.client.reference");function Wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lx:switch(t=t.type,t){case Mp:case Dp:case Lp:case zp:case Bp:case tV:return t;default:switch(t=t&&t.$$typeof,t){case Fp:case Vp:case Wp:case Up:return t;case $p:return t;default:return e}}case Dx:return e}}}Rt.ContextConsumer=$p;Rt.ContextProvider=Fp;Rt.Element=Lx;Rt.ForwardRef=Vp;Rt.Fragment=Mp;Rt.Lazy=Wp;Rt.Memo=Up;Rt.Portal=Dx;Rt.Profiler=Dp;Rt.StrictMode=Lp;Rt.Suspense=zp;Rt.SuspenseList=Bp;Rt.isContextConsumer=function(t){return Wr(t)===$p};Rt.isContextProvider=function(t){return Wr(t)===Fp};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lx};Rt.isForwardRef=function(t){return Wr(t)===Vp};Rt.isFragment=function(t){return Wr(t)===Mp};Rt.isLazy=function(t){return Wr(t)===Wp};Rt.isMemo=function(t){return Wr(t)===Up};Rt.isPortal=function(t){return Wr(t)===Dx};Rt.isProfiler=function(t){return Wr(t)===Dp};Rt.isStrictMode=function(t){return Wr(t)===Lp};Rt.isSuspense=function(t){return Wr(t)===zp};Rt.isSuspenseList=function(t){return Wr(t)===Bp};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mp||t===Dp||t===Lp||t===zp||t===Bp||typeof t=="object"&&t!==null&&(t.$$typeof===Wp||t.$$typeof===Up||t.$$typeof===Fp||t.$$typeof===$p||t.$$typeof===Vp||t.$$typeof===nV||t.getModuleId!==void 0)};Rt.typeOf=Wr;Fk.exports=Rt;var Ww=Fk.exports;const rV=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Vk(t){const e=`${t}`.match(rV);return e&&e[1]||""}function zk(t,e=""){return t.displayName||t.name||Vk(t)||e}function Hw(t,e,n){const r=zk(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function iV(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return zk(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Ww.ForwardRef:return Hw(t,t.render,"ForwardRef");case Ww.Memo:return Hw(t,t.type,"memo");default:return}}}const sV=Object.freeze(Object.defineProperty({__proto__:null,default:iV,getFunctionName:Vk},Symbol.toStringTag,{value:"Module"})),oV=["ownerState"],aV=["variants"],lV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uV(t){return Object.keys(t).length===0}function cV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function sg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function qw(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const dV=Oc(),fV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function bd({defaultTheme:t,theme:e,themeId:n}){return uV(e)?t:e[n]||e}function hV(t){return t?(e,n)=>n[t]:null}function Xd(t,e,n){let{ownerState:r}=e,i=Ie(e,oV);const s=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Xd(o,$({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Ie(s,aV);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props($({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style($({ownerState:r},i,r)):c.style;u.push(n?qw(Jf(h),n):h)}}),u}return n?qw(Jf(s),n):s}function pV(t={}){const{themeId:e,defaultTheme:n=dV,rootShouldForwardProp:r=sg,slotShouldForwardProp:i=sg}=t,s=o=>hl($({},o,{theme:bd($({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{Ak(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=hV(fV(c))}=a,E=Ie(a,lV),T=u&&u.startsWith("Mui")||c?"components":"custom",_=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,v=sg;c==="Root"||c==="root"?v=r:c?v=i:cV(o)&&(v=void 0);const w=kx(o,$({shouldForwardProp:v,label:C},E)),P=N=>typeof N=="function"&&N.__emotion_real!==N||Di(N)?S=>{const p=bd({theme:S.theme,defaultTheme:n,themeId:e});return Xd(N,$({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...S)=>{let p=P(N);const g=S?S.map(P):[];u&&m&&g.push(j=>{const R=bd($({},j,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[u]||!R.components[u].styleOverrides)return null;const z=R.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=Xd(U,$({},j,{theme:R}),R.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!_&&g.push(j=>{var R;const z=bd($({},j,{defaultTheme:n,themeId:e})),F=z==null||(R=z.components)==null||(R=R[u])==null?void 0:R.variants;return Xd({variants:F},$({},j,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const x=g.length-S.length;if(Array.isArray(N)&&x>0){const j=new Array(x).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const A=w(p,...g);return o.muiName&&(A.muiName=o.muiName),A};return w.withConfig&&(M.withConfig=w.withConfig),M}}const mV=pV();function Yu(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=$({},s),Object.keys(i).forEach(o=>{n[r][o]=Yu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function gV(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Yu(e.components[n].defaultProps,r)}function yV({props:t,name:e,defaultTheme:n,themeId:r}){let i=Op(n);return r&&(i=i[r]||i),gV({theme:i,name:e,props:t})}const Si=typeof window<"u"?b.useLayoutEffect:b.useEffect;function vV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const xV=Object.freeze(Object.defineProperty({__proto__:null,default:vV},Symbol.toStringTag,{value:"Module"}));function tv(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function $x(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function bV(t,e){return()=>null}function Jd(t,e){var n,r;return b.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function sr(t){return t&&t.ownerDocument||document}function Bs(t){return sr(t).defaultView||window}function _V(t,e){return()=>null}function eh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Kw=0;function wV(t){const[e,n]=b.useState(t),r=t||e;return b.useEffect(()=>{e==null&&(Kw+=1,n(`mui-${Kw}`))},[e]),r}const Gw=of.useId;function Hp(t){if(Gw!==void 0){const e=Gw();return t??e}return wV(t)}function SV(t,e,n,r,i){return null}function nv({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=b.useRef(t!==void 0),[s,o]=b.useState(e),a=i?t:s,u=b.useCallback(c=>{i||o(c)},[]);return[a,u]}function Ss(t){const e=b.useRef(t);return Si(()=>{e.current=t}),b.useRef((...n)=>(0,e.current)(...n)).current}function An(...t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{eh(n,e)})},t)}const Qw={};function EV(t,e){const n=b.useRef(Qw);return n.current===Qw&&(n.current=t(e)),n}const TV=[];function CV(t){b.useEffect(t,TV)}class qp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new qp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Bk(){const t=EV(qp.create).current;return CV(t.disposeEffect),t}let Kp=!0,rv=!1;const IV=new qp,RV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function kV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&RV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function PV(t){t.metaKey||t.altKey||t.ctrlKey||(Kp=!0)}function og(){Kp=!1}function AV(){this.visibilityState==="hidden"&&rv&&(Kp=!0)}function jV(t){t.addEventListener("keydown",PV,!0),t.addEventListener("mousedown",og,!0),t.addEventListener("pointerdown",og,!0),t.addEventListener("touchstart",og,!0),t.addEventListener("visibilitychange",AV,!0)}function OV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Kp||kV(e)}function Uk(){const t=b.useCallback(i=>{i!=null&&jV(i.ownerDocument)},[]),e=b.useRef(!1);function n(){return e.current?(rv=!0,IV.start(100,()=>{rv=!1}),e.current=!1,!0):!1}function r(i){return OV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Wk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function gt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function th(t){return typeof t=="string"}function Hk(t,e,n){return t===void 0||th(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function qk(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Yw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Kk(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const E=Me(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),T=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=$({},n,i,r);return E.length>0&&(_.className=E),Object.keys(T).length>0&&(_.style=T),{props:_,internalRef:void 0}}const o=qk($({},i,r)),a=Yw(r),u=Yw(i),c=e(o),f=Me(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=$({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=$({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function Gk(t,e,n){return typeof t=="function"?t(e,n):t}const NV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Qa(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ie(t,NV),a=s?{}:Gk(r,i),{props:u,internalRef:c}=Kk($({},o,{externalSlotProps:a})),f=An(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Hk(n,$({},u,{ref:f}),i)}const Qk=b.createContext(null);function Yk(){return b.useContext(Qk)}const MV=typeof Symbol=="function"&&Symbol.for,LV=MV?Symbol.for("mui.nested"):"__THEME_NESTED__";function DV(t,e){return typeof e=="function"?e(t):$({},t,e)}function $V(t){const{children:e,theme:n}=t,r=Yk(),i=b.useMemo(()=>{const s=r===null?n:DV(r,n);return s!=null&&(s[LV]=r!==null),s},[n,r]);return l.jsx(Qk.Provider,{value:i,children:e})}const FV=["value"],Xk=b.createContext();function VV(t){let{value:e}=t,n=Ie(t,FV);return l.jsx(Xk.Provider,$({value:e??!0},n))}const zV=()=>{const t=b.useContext(Xk);return t??!1},Jk=b.createContext(void 0);function BV({value:t,children:e}){return l.jsx(Jk.Provider,{value:t,children:e})}function UV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Yu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Yu(i,r):r}function WV({props:t,name:e}){const n=b.useContext(Jk);return UV({props:t,name:e,theme:{components:n}})}function HV(t){const e=Nx(),n=Hp()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Si(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx($k,{styles:i}):null}const Xw={};function Jw(t,e,n,r=!1){return b.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?$({},e,{[t]:s}):s;return r?()=>o:o}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function qV(t){const{children:e,theme:n,themeId:r}=t,i=Nx(Xw),s=Yk()||Xw,o=Jw(r,i,n),a=Jw(r,s,n,!0),u=o.direction==="rtl",c=HV(o);return l.jsx($V,{theme:a,children:l.jsx(fl.Provider,{value:o,children:l.jsx(VV,{value:u,children:l.jsxs(BV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const KV=["className","component","disableGutters","fixed","maxWidth","classes"],GV=Oc(),QV=mV("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Be(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),YV=t=>yV({props:t,name:"MuiContainer",defaultTheme:GV}),XV=(t,e)=>{const n=u=>ft(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Be(String(o))}`,i&&"fixed",s&&"disableGutters"]};return gt(a,n,r)};function JV(t={}){const{createStyledComponent:e=QV,useThemeProps:n=YV,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>$({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return b.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:E=!1,maxWidth:T="lg"}=c,_=Ie(c,KV),I=$({},c,{component:h,disableGutters:m,fixed:E,maxWidth:T}),C=XV(I,r);return l.jsx(i,$({as:h,ownerState:I,className:Me(C.root,f),ref:u},_))})}function ZV(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var sn={},Zk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Zk);var Gp=Zk.exports;const ez=Ei(H4),tz=Ei(xV);var e2=Gp;Object.defineProperty(sn,"__esModule",{value:!0});var hr=sn.alpha=i2;sn.blend=fz;sn.colorChannel=void 0;var iv=sn.darken=Vx;sn.decomposeColor=zr;sn.emphasize=s2;var nz=sn.getContrastRatio=az;sn.getLuminance=nh;sn.hexToRgb=t2;sn.hslToRgb=r2;var sv=sn.lighten=zx;sn.private_safeAlpha=lz;sn.private_safeColorChannel=void 0;sn.private_safeDarken=uz;sn.private_safeEmphasize=dz;sn.private_safeLighten=cz;sn.recomposeColor=pl;sn.rgbToHex=oz;var Zw=e2(ez),rz=e2(tz);function Fx(t,e=0,n=1){return(0,rz.default)(t,e,n)}function t2(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function iz(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function zr(t){if(t.type)return t;if(t.charAt(0)==="#")return zr(t2(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Zw.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Zw.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const n2=t=>{const e=zr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};sn.colorChannel=n2;const sz=(t,e)=>{try{return n2(t)}catch{return t}};sn.private_safeColorChannel=sz;function pl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function oz(t){if(t.indexOf("#")===0)return t;const{values:e}=zr(t);return`#${e.map((n,r)=>iz(r===3?Math.round(255*n):n)).join("")}`}function r2(t){t=zr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),pl({type:a,values:u})}function nh(t){t=zr(t);let e=t.type==="hsl"||t.type==="hsla"?zr(r2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function az(t,e){const n=nh(t),r=nh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function i2(t,e){return t=zr(t),e=Fx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pl(t)}function lz(t,e,n){try{return i2(t,e)}catch{return t}}function Vx(t,e){if(t=zr(t),e=Fx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return pl(t)}function uz(t,e,n){try{return Vx(t,e)}catch{return t}}function zx(t,e){if(t=zr(t),e=Fx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return pl(t)}function cz(t,e,n){try{return zx(t,e)}catch{return t}}function s2(t,e=.15){return nh(t)>.5?Vx(t,e):zx(t,e)}function dz(t,e,n){try{return s2(t,e)}catch{return t}}function fz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=zr(t),o=zr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return pl({type:"rgb",values:a})}const Xu={black:"#000",white:"#fff"},hz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Go={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Qo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ll={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Jo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},pz=["mode","contrastThreshold","tonalOffset"],eS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xu.white,default:Xu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ag={text:{primary:Xu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=sv(t.main,i):e==="dark"&&(t.dark=iv(t.main,s)))}function mz(t="light"){return t==="dark"?{main:Yo[200],light:Yo[50],dark:Yo[400]}:{main:Yo[700],light:Yo[400],dark:Yo[800]}}function gz(t="light"){return t==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[500],light:Go[300],dark:Go[700]}}function yz(t="light"){return t==="dark"?{main:Qo[500],light:Qo[300],dark:Qo[700]}:{main:Qo[700],light:Qo[400],dark:Qo[800]}}function vz(t="light"){return t==="dark"?{main:Xo[400],light:Xo[300],dark:Xo[700]}:{main:Xo[700],light:Xo[500],dark:Xo[900]}}function xz(t="light"){return t==="dark"?{main:Jo[400],light:Jo[300],dark:Jo[700]}:{main:Jo[800],light:Jo[500],dark:Jo[900]}}function bz(t="light"){return t==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:"#ed6c02",light:Ll[500],dark:Ll[900]}}function _z(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ie(t,pz),s=t.primary||mz(e),o=t.secondary||gz(e),a=t.error||yz(e),u=t.info||vz(e),c=t.success||xz(e),f=t.warning||bz(e);function h(_){return nz(_,ag.text.primary)>=n?ag.text.primary:eS.text.primary}const m=({color:_,name:I,mainShade:C=500,lightShade:v=300,darkShade:w=700})=>{if(_=$({},_),!_.main&&_[C]&&(_.main=_[C]),!_.hasOwnProperty("main"))throw new Error(Po(11,I?` (${I})`:"",C));if(typeof _.main!="string")throw new Error(Po(12,I?` (${I})`:"",JSON.stringify(_.main)));return tS(_,"light",v,r),tS(_,"dark",w,r),_.contrastText||(_.contrastText=h(_.main)),_},E={dark:ag,light:eS};return gr($({common:$({},Xu),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:hz,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},E[e]),i)}const wz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Sz(t){return Math.round(t*1e5)/1e5}const nS={textTransform:"uppercase"},rS='"Roboto", "Helvetica", "Arial", sans-serif';function Ez(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=rS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Ie(n,wz),E=i/14,T=h||(C=>`${C/c*E}rem`),_=(C,v,w,P,M)=>$({fontFamily:r,fontWeight:C,fontSize:T(v),lineHeight:w},r===rS?{letterSpacing:`${Sz(P/v)}em`}:{},M,f),I={h1:_(s,96,1.167,-1.5),h2:_(s,60,1.2,-.5),h3:_(o,48,1.167,0),h4:_(o,34,1.235,.25),h5:_(o,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(o,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(o,16,1.5,.15),body2:_(o,14,1.43,.15),button:_(a,14,1.75,.4,nS),caption:_(o,12,1.66,.4),overline:_(o,12,2.66,1,nS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gr($({htmlFontSize:c,pxToRem:T,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const Tz=.2,Cz=.14,Iz=.12;function Lt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Tz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Cz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Iz})`].join(",")}const Rz=["none",Lt(0,2,1,-1,0,1,1,0,0,1,3,0),Lt(0,3,1,-2,0,2,2,0,0,1,5,0),Lt(0,3,3,-2,0,3,4,0,0,1,8,0),Lt(0,2,4,-1,0,4,5,0,0,1,10,0),Lt(0,3,5,-1,0,5,8,0,0,1,14,0),Lt(0,3,5,-1,0,6,10,0,0,1,18,0),Lt(0,4,5,-2,0,7,10,1,0,2,16,1),Lt(0,5,5,-3,0,8,10,1,0,3,14,2),Lt(0,5,6,-3,0,9,12,1,0,3,16,2),Lt(0,6,6,-3,0,10,14,1,0,4,18,3),Lt(0,6,7,-4,0,11,15,1,0,4,20,3),Lt(0,7,8,-4,0,12,17,2,0,5,22,4),Lt(0,7,8,-4,0,13,19,2,0,5,24,4),Lt(0,7,9,-4,0,14,21,2,0,5,26,4),Lt(0,8,9,-5,0,15,22,2,0,6,28,5),Lt(0,8,10,-5,0,16,24,2,0,6,30,5),Lt(0,8,11,-5,0,17,26,2,0,6,32,5),Lt(0,9,11,-5,0,18,28,2,0,7,34,6),Lt(0,9,12,-6,0,19,29,2,0,7,36,6),Lt(0,10,13,-6,0,20,31,3,0,8,38,7),Lt(0,10,13,-6,0,21,33,3,0,8,40,7),Lt(0,10,14,-6,0,22,35,3,0,8,42,7),Lt(0,11,14,-7,0,23,36,3,0,9,44,8),Lt(0,11,15,-7,0,24,38,3,0,9,46,8)],kz=["duration","easing","delay"],Pz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Az={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iS(t){return`${Math.round(t)}ms`}function jz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Oz(t){const e=$({},Pz,t.easing),n=$({},Az,t.duration);return $({getAutoHeightDuration:jz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Ie(s,kz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:iS(o)} ${a} ${typeof u=="string"?u:iS(u)}`).join(",")}},t,{easing:e,duration:n})}const Nz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Bx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ie(t,Mz);if(t.vars&&t.generateCssVars===void 0)throw new Error(Po(18));const a=_z(r),u=Oc(t);let c=gr(u,{mixins:ZV(u.breakpoints,n),palette:a,shadows:Rz.slice(),typography:Ez(a,s),transitions:Oz(i),zIndex:$({},Nz)});return c=gr(c,o),c=e.reduce((f,h)=>gr(f,h),c),c.unstable_sxConfig=$({},jc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return hl({sx:h,theme:this})},c}const Ux=Bx(),Ya="$$material";function Wx(){const t=Op(Ux);return t[Ya]||t}const o2=t=>t.scrollTop;function rh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const Lz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Dz={entering:{opacity:1},entered:{opacity:1}},a2=b.forwardRef(function(e,n){const r=Wx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:E,onExited:T,onExiting:_,style:I,timeout:C=i,TransitionComponent:v=Ii}=e,w=Ie(e,Lz),P=b.useRef(null),M=An(P,Ic(a),n),N=z=>F=>{if(z){const B=P.current;F===void 0?z(B):z(B,F)}},S=N(m),p=N((z,F)=>{o2(z);const B=rh({style:I,timeout:C,easing:u},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",B),z.style.transition=r.transitions.create("opacity",B),f&&f(z,F)}),g=N(h),x=N(_),A=N(z=>{const F=rh({style:I,timeout:C,easing:u},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",F),z.style.transition=r.transitions.create("opacity",F),E&&E(z)}),j=N(T),R=z=>{s&&s(P.current,z)};return l.jsx(v,$({appear:o,in:c,nodeRef:P,onEnter:p,onEntered:g,onEntering:S,onExit:A,onExited:j,onExiting:x,addEndListener:R,timeout:C},w,{children:(z,F)=>b.cloneElement(a,$({style:$({opacity:0,visibility:z==="exited"&&!c?"hidden":void 0},Dz[z],I,a.props.style),ref:M},F))}))});var Nc={},lg={exports:{}},sS;function $z(){return sS||(sS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(lg)),lg.exports}const Fz=Ei(X$),Vz=Ei(J$),zz=Ei(iF),Bz=Ei(sV),Uz=Ei(HF),Wz=Ei(YF);var ml=Gp;Object.defineProperty(Nc,"__esModule",{value:!0});var Hz=Nc.default=i8;Nc.shouldForwardProp=Zd;Nc.systemDefaultTheme=void 0;var kr=ml(Rk()),ov=ml($z()),ih=Jz(Fz),qz=Vz;ml(zz);ml(Bz);var Kz=ml(Uz),Gz=ml(Wz);const Qz=["ownerState"],Yz=["variants"],Xz=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function l2(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(l2=function(r){return r?n:e})(t)}function Jz(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=l2(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Zz(t){return Object.keys(t).length===0}function e8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Zd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function oS(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const t8=Nc.systemDefaultTheme=(0,Kz.default)(),n8=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function _d({defaultTheme:t,theme:e,themeId:n}){return Zz(e)?t:e[n]||e}function r8(t){return t?(e,n)=>n[t]:null}function ef(t,e,n){let{ownerState:r}=e,i=(0,ov.default)(e,Qz);const s=typeof t=="function"?t((0,kr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>ef(o,(0,kr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,ov.default)(s,Yz);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,kr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,kr.default)({ownerState:r},i,r)):c.style;u.push(n?oS((0,ih.internal_serializeStyles)(h),n):h)}}),u}return n?oS((0,ih.internal_serializeStyles)(s),n):s}function i8(t={}){const{themeId:e,defaultTheme:n=t8,rootShouldForwardProp:r=Zd,slotShouldForwardProp:i=Zd}=t,s=o=>(0,Gz.default)((0,kr.default)({},o,{theme:_d((0,kr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,ih.internal_processStyles)(o,N=>N.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=r8(n8(c))}=a,E=(0,ov.default)(a,Xz),T=u&&u.startsWith("Mui")||c?"components":"custom",_=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let C,v=Zd;c==="Root"||c==="root"?v=r:c?v=i:e8(o)&&(v=void 0);const w=(0,ih.default)(o,(0,kr.default)({shouldForwardProp:v,label:C},E)),P=N=>typeof N=="function"&&N.__emotion_real!==N||(0,qz.isPlainObject)(N)?S=>{const p=_d({theme:S.theme,defaultTheme:n,themeId:e});return ef(N,(0,kr.default)({},S,{theme:p}),p.modularCssLayers?T:void 0)}:N,M=(N,...S)=>{let p=P(N);const g=S?S.map(P):[];u&&m&&g.push(j=>{const R=_d((0,kr.default)({},j,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[u]||!R.components[u].styleOverrides)return null;const z=R.components[u].styleOverrides,F={};return Object.entries(z).forEach(([B,U])=>{F[B]=ef(U,(0,kr.default)({},j,{theme:R}),R.modularCssLayers?"theme":void 0)}),m(j,F)}),u&&!_&&g.push(j=>{var R;const z=_d((0,kr.default)({},j,{defaultTheme:n,themeId:e})),F=z==null||(R=z.components)==null||(R=R[u])==null?void 0:R.variants;return ef({variants:F},(0,kr.default)({},j,{theme:z}),z.modularCssLayers?"theme":void 0)}),I||g.push(s);const x=g.length-S.length;if(Array.isArray(N)&&x>0){const j=new Array(x).fill("");p=[...N,...j],p.raw=[...N.raw,...j]}const A=w(p,...g);return o.muiName&&(A.muiName=o.muiName),A};return w.withConfig&&(M.withConfig=w.withConfig),M}}function u2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Hr=t=>u2(t)&&t!=="classes",Pe=Hz({themeId:Ya,defaultTheme:Ux,rootShouldForwardProp:Hr});function ht(t){return WV(t)}const s8=JV({createStyledComponent:Pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Be(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ht({props:t,name:"MuiContainer"})});function o8(t){return ft("MuiTypography",t)}lt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const a8=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],l8=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Be(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(a,o8,o)},u8=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Be(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),aS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},c8={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},d8=t=>c8[t]||t,Ct=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiTypography"}),i=d8(r.color),s=Np($({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:E=aS}=s,T=Ie(s,a8),_=$({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:E}),I=u||(h?"p":E[m]||aS[m])||"span",C=l8(_);return l.jsx(u8,$({as:I,ref:n,ownerState:_,className:Me(C.root,a)},T))});function f8(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=b.useState(!1),m=Me(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),E={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},T=Me(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),b.useEffect(()=>{if(!a&&u!=null){const _=setTimeout(u,c);return()=>{clearTimeout(_)}}},[u,a,c]),l.jsx("span",{className:m,style:E,children:l.jsx("span",{className:T})})}const Pr=lt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),h8=["center","classes","className"];let Qp=t=>t,lS,uS,cS,dS;const av=550,p8=80,m8=Tp(lS||(lS=Qp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),g8=Tp(uS||(uS=Qp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),y8=Tp(cS||(cS=Qp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),v8=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),x8=Pe(f8,{name:"MuiTouchRipple",slot:"Ripple"})(dS||(dS=Qp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Pr.rippleVisible,m8,av,({theme:t})=>t.transitions.easing.easeInOut,Pr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Pr.child,Pr.childLeaving,g8,av,({theme:t})=>t.transitions.easing.easeInOut,Pr.childPulsate,y8,({theme:t})=>t.transitions.easing.easeInOut),b8=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ie(r,h8),[u,c]=b.useState([]),f=b.useRef(0),h=b.useRef(null);b.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=b.useRef(!1),E=Bk(),T=b.useRef(null),_=b.useRef(null),I=b.useCallback(P=>{const{pulsate:M,rippleX:N,rippleY:S,rippleSize:p,cb:g}=P;c(x=>[...x,l.jsx(x8,{classes:{ripple:Me(s.ripple,Pr.ripple),rippleVisible:Me(s.rippleVisible,Pr.rippleVisible),ripplePulsate:Me(s.ripplePulsate,Pr.ripplePulsate),child:Me(s.child,Pr.child),childLeaving:Me(s.childLeaving,Pr.childLeaving),childPulsate:Me(s.childPulsate,Pr.childPulsate)},timeout:av,pulsate:M,rippleX:N,rippleY:S,rippleSize:p},f.current)]),f.current+=1,h.current=g},[s]),C=b.useCallback((P={},M={},N=()=>{})=>{const{pulsate:S=!1,center:p=i||M.pulsate,fakeElement:g=!1}=M;if((P==null?void 0:P.type)==="mousedown"&&m.current){m.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(m.current=!0);const x=g?null:_.current,A=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,R,z;if(p||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)j=Math.round(A.width/2),R=Math.round(A.height/2);else{const{clientX:F,clientY:B}=P.touches&&P.touches.length>0?P.touches[0]:P;j=Math.round(F-A.left),R=Math.round(B-A.top)}if(p)z=Math.sqrt((2*A.width**2+A.height**2)/3),z%2===0&&(z+=1);else{const F=Math.max(Math.abs((x?x.clientWidth:0)-j),j)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-R),R)*2+2;z=Math.sqrt(F**2+B**2)}P!=null&&P.touches?T.current===null&&(T.current=()=>{I({pulsate:S,rippleX:j,rippleY:R,rippleSize:z,cb:N})},E.start(p8,()=>{T.current&&(T.current(),T.current=null)})):I({pulsate:S,rippleX:j,rippleY:R,rippleSize:z,cb:N})},[i,I,E]),v=b.useCallback(()=>{C({},{pulsate:!0})},[C]),w=b.useCallback((P,M)=>{if(E.clear(),(P==null?void 0:P.type)==="touchend"&&T.current){T.current(),T.current=null,E.start(0,()=>{w(P,M)});return}T.current=null,c(N=>N.length>0?N.slice(1):N),h.current=M},[E]);return b.useImperativeHandle(n,()=>({pulsate:v,start:C,stop:w}),[v,C,w]),l.jsx(v8,$({className:Me(Pr.root,s.root,o),ref:_},a,{children:l.jsx(vx,{component:null,exit:!0,children:u})}))});function _8(t){return ft("MuiButtonBase",t)}const w8=lt("MuiButtonBase",["root","disabled","focusVisible"]),S8=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],E8=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=gt({root:["root",e&&"disabled",n&&"focusVisible"]},_8,i);return n&&r&&(o.root+=` ${r}`),o},T8=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${w8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Hx=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:E="a",onBlur:T,onClick:_,onContextMenu:I,onDragLeave:C,onFocus:v,onFocusVisible:w,onKeyDown:P,onKeyUp:M,onMouseDown:N,onMouseLeave:S,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:A,tabIndex:j=0,TouchRippleProps:R,touchRippleRef:z,type:F}=r,B=Ie(r,S8),U=b.useRef(null),L=b.useRef(null),V=An(L,z),{isFocusVisibleRef:H,onFocus:K,onBlur:Q,ref:Y}=Uk(),[se,ce]=b.useState(!1);c&&se&&ce(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),U.current.focus()}}),[]);const[ye,q]=b.useState(!1);b.useEffect(()=>{q(!0)},[]);const ne=ye&&!f&&!c;b.useEffect(()=>{se&&m&&!f&&ye&&L.current.pulsate()},[f,m,se,ye]);function W(Ee,bt,kt=h){return Ss(Xe=>(bt&&bt(Xe),!kt&&L.current&&L.current[Ee](Xe),!0))}const le=W("start",N),ee=W("stop",I),re=W("stop",C),he=W("stop",p),me=W("stop",Ee=>{se&&Ee.preventDefault(),S&&S(Ee)}),ve=W("start",A),be=W("stop",g),Ye=W("stop",x),_e=W("stop",Ee=>{Q(Ee),H.current===!1&&ce(!1),T&&T(Ee)},!1),Ve=Ss(Ee=>{U.current||(U.current=Ee.currentTarget),K(Ee),H.current===!0&&(ce(!0),w&&w(Ee)),v&&v(Ee)}),Ae=()=>{const Ee=U.current;return u&&u!=="button"&&!(Ee.tagName==="A"&&Ee.href)},Qe=b.useRef(!1),it=Ss(Ee=>{m&&!Qe.current&&se&&L.current&&Ee.key===" "&&(Qe.current=!0,L.current.stop(Ee,()=>{L.current.start(Ee)})),Ee.target===Ee.currentTarget&&Ae()&&Ee.key===" "&&Ee.preventDefault(),P&&P(Ee),Ee.target===Ee.currentTarget&&Ae()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),_&&_(Ee))}),ut=Ss(Ee=>{m&&Ee.key===" "&&L.current&&se&&!Ee.defaultPrevented&&(Qe.current=!1,L.current.stop(Ee,()=>{L.current.pulsate(Ee)})),M&&M(Ee),_&&Ee.target===Ee.currentTarget&&Ae()&&Ee.key===" "&&!Ee.defaultPrevented&&_(Ee)});let Le=u;Le==="button"&&(B.href||B.to)&&(Le=E);const yt={};Le==="button"?(yt.type=F===void 0?"button":F,yt.disabled=c):(!B.href&&!B.to&&(yt.role="button"),c&&(yt["aria-disabled"]=c));const Re=An(n,Y,U),We=$({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:j,focusVisible:se}),De=E8(We);return l.jsxs(T8,$({as:Le,className:Me(De.root,a),ownerState:We,onBlur:_e,onClick:_,onContextMenu:ee,onFocus:Ve,onKeyDown:it,onKeyUp:ut,onMouseDown:le,onMouseLeave:me,onMouseUp:he,onDragLeave:re,onTouchEnd:be,onTouchMove:Ye,onTouchStart:ve,ref:Re,tabIndex:c?-1:j,type:F},yt,B,{children:[o,ne?l.jsx(b8,$({ref:V,center:s},R)):null]}))});function C8(t){return ft("MuiButton",t)}const wd=lt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),I8=b.createContext({}),R8=b.createContext(void 0),k8=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],P8=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Be(e)}`,`size${Be(i)}`,`${s}Size${Be(i)}`,`color${Be(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Be(i)}`],endIcon:["icon","endIcon",`iconSize${Be(i)}`]},u=gt(a,C8,o);return $({},o,u)},c2=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),A8=Pe(Hx,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Be(n.color)}`],e[`size${Be(n.size)}`],e[`${n.variant}Size${Be(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${wd.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${wd.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${hr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${wd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${wd.disabled}`]:{boxShadow:"none"}}),j8=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Be(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},c2(t))),O8=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Be(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},c2(t))),go=b.forwardRef(function(e,n){const r=b.useContext(I8),i=b.useContext(R8),s=Yu(r,e),o=ht({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:E=!1,endIcon:T,focusVisibleClassName:_,fullWidth:I=!1,size:C="medium",startIcon:v,type:w,variant:P="text"}=o,M=Ie(o,k8),N=$({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:E,fullWidth:I,size:C,type:w,variant:P}),S=P8(N),p=v&&l.jsx(j8,{className:S.startIcon,ownerState:N,children:v}),g=T&&l.jsx(O8,{className:S.endIcon,ownerState:N,children:T}),x=i||"";return l.jsxs(A8,$({ownerState:N,className:Me(r.className,S.root,f,x),component:c,disabled:h,focusRipple:!E,focusVisibleClassName:Me(S.focusVisible,_),ref:n,type:w},M,{classes:S,children:[p,a,g]}))}),fS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function N8(t){return ft("MuiPaper",t)}lt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const M8=["className","component","elevation","square","variant"],L8=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(s,N8,i)},D8=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${hr("#fff",fS(e.elevation))}, ${hr("#fff",fS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Mc=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Ie(r,M8),f=$({},r,{component:s,elevation:o,square:a,variant:u}),h=L8(f);return l.jsx(D8,$({as:s,ownerState:f,className:Me(h.root,i),ref:n},c))}),$8=["theme"];function F8(t){let{theme:e}=t,n=Ie(t,$8);const r=e[Ya];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),l.jsx(qV,$({},n,{themeId:r?Ya:void 0,theme:i}))}const V8=lt("MuiBox",["root"]),z8=Bx(),Xt=ZF({themeId:Ya,defaultTheme:z8,defaultClassName:V8.root,generateClassName:Mx.generate}),B8=["onChange","maxRows","minRows","style","value"];function Sd(t){return parseInt(t,10)||0}const U8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function W8(t){for(const e in t)return!1;return!0}function hS(t){return W8(t)||t.outerHeightStyle===0&&!t.overflowing}const H8=b.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Ie(e,B8),{current:c}=b.useRef(a!=null),f=b.useRef(null),h=An(n,f),m=b.useRef(null),E=b.useRef(null),T=b.useCallback(()=>{const w=f.current,P=E.current;if(!w||!P)return;const N=Bs(w).getComputedStyle(w);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=N.width,P.value=w.value||e.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const S=N.boxSizing,p=Sd(N.paddingBottom)+Sd(N.paddingTop),g=Sd(N.borderBottomWidth)+Sd(N.borderTopWidth),x=P.scrollHeight;P.value="x";const A=P.scrollHeight;let j=x;s&&(j=Math.max(Number(s)*A,j)),i&&(j=Math.min(Number(i)*A,j)),j=Math.max(j,A);const R=j+(S==="border-box"?p+g:0),z=Math.abs(j-x)<=1;return{outerHeightStyle:R,overflowing:z}},[i,s,e.placeholder]),_=Ss(()=>{const w=f.current,P=T();if(!w||!P||hS(P))return!1;const M=P.outerHeightStyle;return m.current!=null&&m.current!==M}),I=b.useCallback(()=>{const w=f.current,P=T();if(!w||!P||hS(P))return;const M=P.outerHeightStyle;m.current!==M&&(m.current=M,w.style.height=`${M}px`),w.style.overflow=P.overflowing?"hidden":""},[T]),C=b.useRef(-1);Si(()=>{const w=$x(I),P=f==null?void 0:f.current;if(!P)return;const M=Bs(P);M.addEventListener("resize",w);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{_()&&(N.unobserve(P),cancelAnimationFrame(C.current),I(),C.current=requestAnimationFrame(()=>{N.observe(P)}))}),N.observe(P)),()=>{w.clear(),cancelAnimationFrame(C.current),M.removeEventListener("resize",w),N&&N.disconnect()}},[T,I,_]),Si(()=>{I()});const v=w=>{c||I(),r&&r(w)};return l.jsxs(b.Fragment,{children:[l.jsx("textarea",$({value:a,onChange:v,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:$({},U8.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function gl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const qx=b.createContext(void 0);function yl(){return b.useContext(qx)}function d2(t){return l.jsx($k,$({},t,{defaultTheme:Ux,themeId:Ya}))}function pS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function sh(t,e=!1){return t&&(pS(t.value)&&t.value!==""||e&&pS(t.defaultValue)&&t.defaultValue!=="")}function q8(t){return t.startAdornment}function K8(t){return ft("MuiInputBase",t)}const Xa=lt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),G8=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Yp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Be(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Xp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Q8=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:E,type:T}=t,_={root:["root",`color${Be(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Be(m)}`,f&&"multiline",E&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",T==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",E&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return gt(_,K8,e)},Jp=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Yp})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Zp=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Xp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xa.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Xa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Y8=l.jsx(d2,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Kx=b.forwardRef(function(e,n){var r;const i=ht({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:E,endAdornment:T,fullWidth:_=!1,id:I,inputComponent:C="input",inputProps:v={},inputRef:w,maxRows:P,minRows:M,multiline:N=!1,name:S,onBlur:p,onChange:g,onClick:x,onFocus:A,onKeyDown:j,onKeyUp:R,placeholder:z,readOnly:F,renderSuffix:B,rows:U,slotProps:L={},slots:V={},startAdornment:H,type:K="text",value:Q}=i,Y=Ie(i,G8),se=v.value!=null?v.value:Q,{current:ce}=b.useRef(se!=null),ye=b.useRef(),q=b.useCallback(De=>{},[]),ne=An(ye,w,v.ref,q),[W,le]=b.useState(!1),ee=yl(),re=gl({props:i,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ee?ee.focused:W,b.useEffect(()=>{!ee&&m&&W&&(le(!1),p&&p())},[ee,m,W,p]);const he=ee&&ee.onFilled,me=ee&&ee.onEmpty,ve=b.useCallback(De=>{sh(De)?he&&he():me&&me()},[he,me]);Si(()=>{ce&&ve({value:se})},[se,ve,ce]);const be=De=>{if(re.disabled){De.stopPropagation();return}A&&A(De),v.onFocus&&v.onFocus(De),ee&&ee.onFocus?ee.onFocus(De):le(!0)},Ye=De=>{p&&p(De),v.onBlur&&v.onBlur(De),ee&&ee.onBlur?ee.onBlur(De):le(!1)},_e=(De,...Ee)=>{if(!ce){const bt=De.target||ye.current;if(bt==null)throw new Error(Po(1));ve({value:bt.value})}v.onChange&&v.onChange(De,...Ee),g&&g(De,...Ee)};b.useEffect(()=>{ve(ye.current)},[]);const Ve=De=>{ye.current&&De.currentTarget===De.target&&ye.current.focus(),x&&x(De)};let Ae=C,Qe=v;N&&Ae==="input"&&(U?Qe=$({type:void 0,minRows:U,maxRows:U},Qe):Qe=$({type:void 0,maxRows:P,minRows:M},Qe),Ae=H8);const it=De=>{ve(De.animationName==="mui-auto-fill-cancel"?ye.current:{value:"x"})};b.useEffect(()=>{ee&&ee.setAdornedStart(!!H)},[ee,H]);const ut=$({},i,{color:re.color||"primary",disabled:re.disabled,endAdornment:T,error:re.error,focused:re.focused,formControl:ee,fullWidth:_,hiddenLabel:re.hiddenLabel,multiline:N,size:re.size,startAdornment:H,type:K}),Le=Q8(ut),yt=V.root||c.Root||Jp,Re=L.root||f.root||{},We=V.input||c.Input||Zp;return Qe=$({},Qe,(r=L.input)!=null?r:f.input),l.jsxs(b.Fragment,{children:[!E&&Y8,l.jsxs(yt,$({},Re,!th(yt)&&{ownerState:$({},ut,Re.ownerState)},{ref:n,onClick:Ve},Y,{className:Me(Le.root,Re.className,u,F&&"MuiInputBase-readOnly"),children:[H,l.jsx(qx.Provider,{value:null,children:l.jsx(We,$({ownerState:ut,"aria-invalid":re.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:re.disabled,id:I,onAnimationStart:it,name:S,placeholder:z,readOnly:F,required:re.required,rows:U,value:se,onKeyDown:j,onKeyUp:R,type:K},Qe,!th(We)&&{as:Ae,ownerState:$({},ut,Qe.ownerState)},{ref:ne,className:Me(Le.input,Qe.className,F&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:_e,onFocus:be}))}),T,B?B($({},re,{startAdornment:H})):null]}))]})});function X8(t){return ft("MuiInput",t)}const Dl=$({},Xa,lt("MuiInput",["root","underline","input"])),J8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Z8=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},X8,e);return $({},e,i)},eB=Pe(Jp,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Yp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dl.disabled}, .${Dl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Dl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),tB=Pe(Zp,{name:"MuiInput",slot:"Input",overridesResolver:Xp})({}),Gx=b.forwardRef(function(e,n){var r,i,s,o;const a=ht({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:E=!1,slotProps:T,slots:_={},type:I="text"}=a,C=Ie(a,J8),v=Z8(a),P={root:{ownerState:{disableUnderline:u}}},M=T??f?gr(T??f,P):P,N=(r=(i=_.root)!=null?i:c.Root)!=null?r:eB,S=(s=(o=_.input)!=null?o:c.Input)!=null?s:tB;return l.jsx(Kx,$({slots:{root:N,input:S},slotProps:M,fullWidth:h,inputComponent:m,multiline:E,ref:n,type:I},C,{classes:v}))});Gx.muiName="Input";function nB(t){return ft("MuiFilledInput",t)}const eo=$({},Xa,lt("MuiFilledInput",["root","underline","input"])),rB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],iB=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},nB,e);return $({},e,i)},sB=Pe(Jp,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Yp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${eo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${eo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${eo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${eo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${eo.disabled}, .${eo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${eo.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),oB=Pe(Zp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Xp})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Qx=b.forwardRef(function(e,n){var r,i,s,o;const a=ht({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:E,slots:T={},type:_="text"}=a,I=Ie(a,rB),C=$({},a,{fullWidth:f,inputComponent:h,multiline:m,type:_}),v=iB(a),w={root:{ownerState:C},input:{ownerState:C}},P=E??c?gr(w,E??c):w,M=(r=(i=T.root)!=null?i:u.Root)!=null?r:sB,N=(s=(o=T.input)!=null?o:u.Input)!=null?s:oB;return l.jsx(Kx,$({slots:{root:M,input:N},componentsProps:P,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:_},I,{classes:v}))});Qx.muiName="Input";var mS;const aB=["children","classes","className","label","notched"],lB=Pe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Hr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),uB=Pe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Hr})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function cB(t){const{className:e,label:n,notched:r}=t,i=Ie(t,aB),s=n!=null&&n!=="",o=$({},t,{notched:r,withLabel:s});return l.jsx(lB,$({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(uB,{ownerState:o,children:s?l.jsx("span",{children:n}):mS||(mS=l.jsx("span",{className:"notranslate",children:""}))})}))}function dB(t){return ft("MuiOutlinedInput",t)}const hs=$({},Xa,lt("MuiOutlinedInput",["root","notchedOutline","input"])),fB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hB=t=>{const{classes:e}=t,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},dB,e);return $({},e,r)},pB=Pe(Jp,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Yp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${hs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${hs.focused} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${hs.error} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${hs.disabled} .${hs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),mB=Pe(cB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),gB=Pe(Zp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Xp})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Yx=b.forwardRef(function(e,n){var r,i,s,o,a;const u=ht({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:E=!1,notched:T,slots:_={},type:I="text"}=u,C=Ie(u,fB),v=hB(u),w=yl(),P=gl({props:u,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M=$({},u,{color:P.color||"primary",disabled:P.disabled,error:P.error,focused:P.focused,formControl:w,fullWidth:f,hiddenLabel:P.hiddenLabel,multiline:E,size:P.size,type:I}),N=(r=(i=_.root)!=null?i:c.Root)!=null?r:pB,S=(s=(o=_.input)!=null?o:c.Input)!=null?s:gB;return l.jsx(Kx,$({slots:{root:N,input:S},renderSuffix:p=>l.jsx(mB,{ownerState:M,className:v.notchedOutline,label:m!=null&&m!==""&&P.required?a||(a=l.jsxs(b.Fragment,{children:[m,"","*"]})):m,notched:typeof T<"u"?T:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:E,ref:n,type:I},C,{classes:$({},v,{notchedOutline:null})}))});Yx.muiName="Input";function yB(t){return ft("MuiFormLabel",t)}const gu=lt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vB=["children","className","color","component","disabled","error","filled","focused","required"],xB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${Be(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return gt(u,yB,e)},bB=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${gu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${gu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${gu.error}`]:{color:(t.vars||t).palette.error.main}})),_B=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${gu.error}`]:{color:(t.vars||t).palette.error.main}})),wB=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ie(r,vB),u=yl(),c=gl({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=$({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=xB(f);return l.jsxs(bB,$({as:o,ownerState:f,className:Me(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(_B,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))});function SB(t){return ft("MuiInputLabel",t)}lt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const EB=["disableAnimation","margin","shrink","variant","className"],TB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Be(r)}`,o],asterisk:[a&&"asterisk"]},c=gt(u,SB,e);return $({},e,c)},CB=Pe(wB,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${gu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),IB=b.forwardRef(function(e,n){const r=ht({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ie(r,EB),u=yl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=gl({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=$({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=TB(h);return l.jsx(CB,$({"data-shrink":c,ownerState:h,ref:n,className:Me(m.root,o)},a,{classes:m}))});function RB(t){return ft("MuiFormControl",t)}lt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const kB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],PB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Be(n)}`,r&&"fullWidth"]};return gt(i,RB,e)},AB=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${Be(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),f2=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:E="none",required:T=!1,size:_="medium",variant:I="outlined"}=r,C=Ie(r,kB),v=$({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:E,required:T,size:_,variant:I}),w=PB(v),[P,M]=b.useState(()=>{let R=!1;return i&&b.Children.forEach(i,z=>{if(!Jd(z,["Input","Select"]))return;const F=Jd(z,["Select"])?z.props.input:z;F&&q8(F.props)&&(R=!0)}),R}),[N,S]=b.useState(()=>{let R=!1;return i&&b.Children.forEach(i,z=>{Jd(z,["Input","Select"])&&(sh(z.props,!0)||sh(z.props.inputProps,!0))&&(R=!0)}),R}),[p,g]=b.useState(!1);u&&p&&g(!1);const x=f!==void 0&&!u?f:p;let A;const j=b.useMemo(()=>({adornedStart:P,setAdornedStart:M,color:o,disabled:u,error:c,filled:N,focused:x,fullWidth:h,hiddenLabel:m,size:_,onBlur:()=>{g(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{g(!0)},registerEffect:A,required:T,variant:I}),[P,o,u,c,N,x,h,m,A,T,_,I]);return l.jsx(qx.Provider,{value:j,children:l.jsx(AB,$({as:a,ownerState:v,className:Me(w.root,s),ref:n},C,{children:i}))})});function jB(t){return ft("MuiFormHelperText",t)}const gS=lt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var yS;const OB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],NB=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${Be(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return gt(c,jB,e)},MB=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Be(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${gS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${gS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),LB=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ie(r,OB),u=yl(),c=gl({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=$({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=NB(f);return l.jsx(MB,$({as:o,ownerState:f,className:Me(h.root,s),ref:n},a,{children:i===" "?yS||(yS=l.jsx("span",{className:"notranslate",children:""})):i}))}),lv=b.createContext({});function DB(t){return ft("MuiList",t)}lt("MuiList",["root","padding","dense","subheader"]);const $B=["children","className","component","dense","disablePadding","subheader"],FB=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return gt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},DB,e)},VB=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),zB=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Ie(r,$B),h=b.useMemo(()=>({dense:a}),[a]),m=$({},r,{component:o,dense:a,disablePadding:u}),E=FB(m);return l.jsx(lv.Provider,{value:h,children:l.jsxs(VB,$({as:o,className:Me(E.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),BB=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ug(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function vS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function h2(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function $l(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!h2(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const UB=b.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ie(e,BB),E=b.useRef(null),T=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Si(()=>{i&&E.current.focus()},[i]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:P})=>{const M=!E.current.style.width;if(w.clientHeight<E.current.clientHeight&&M){const N=`${Wk(sr(w))}px`;E.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=N,E.current.style.width=`calc(100% + ${N})`}return E.current}}),[]);const _=w=>{const P=E.current,M=w.key,N=sr(P).activeElement;if(M==="ArrowDown")w.preventDefault(),$l(P,N,c,u,ug);else if(M==="ArrowUp")w.preventDefault(),$l(P,N,c,u,vS);else if(M==="Home")w.preventDefault(),$l(P,null,c,u,ug);else if(M==="End")w.preventDefault(),$l(P,null,c,u,vS);else if(M.length===1){const S=T.current,p=M.toLowerCase(),g=performance.now();S.keys.length>0&&(g-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&p!==S.keys[0]&&(S.repeating=!1)),S.lastTime=g,S.keys.push(p);const x=N&&!S.repeating&&h2(N,S);S.previousKeyMatched&&(x||$l(P,N,!1,u,ug,S))?w.preventDefault():S.previousKeyMatched=!1}f&&f(w)},I=An(E,n);let C=-1;b.Children.forEach(o,(w,P)=>{if(!b.isValidElement(w)){C===P&&(C+=1,C>=o.length&&(C=-1));return}w.props.disabled||(h==="selectedMenu"&&w.props.selected||C===-1)&&(C=P),C===P&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(C+=1,C>=o.length&&(C=-1))});const v=b.Children.map(o,(w,P)=>{if(P===C){const M={};return s&&(M.autoFocus=!0),w.props.tabIndex===void 0&&h==="selectedMenu"&&(M.tabIndex=0),b.cloneElement(w,M)}return w});return l.jsx(zB,$({role:"menu",ref:I,className:a,onKeyDown:_,tabIndex:i?0:-1},m,{children:v}))}),WB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function uv(t){return`scale(${t}, ${t**2})`}const HB={entering:{opacity:1,transform:uv(1)},entered:{opacity:1,transform:"none"}},cg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),p2=b.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:E,style:T,timeout:_="auto",TransitionComponent:I=Ii}=e,C=Ie(e,WB),v=Bk(),w=b.useRef(),P=Wx(),M=b.useRef(null),N=An(M,Ic(s),n),S=F=>B=>{if(F){const U=M.current;B===void 0?F(U):F(U,B)}},p=S(f),g=S((F,B)=>{o2(F);const{duration:U,delay:L,easing:V}=rh({style:T,timeout:_,easing:o},{mode:"enter"});let H;_==="auto"?(H=P.transitions.getAutoHeightDuration(F.clientHeight),w.current=H):H=U,F.style.transition=[P.transitions.create("opacity",{duration:H,delay:L}),P.transitions.create("transform",{duration:cg?H:H*.666,delay:L,easing:V})].join(","),u&&u(F,B)}),x=S(c),A=S(E),j=S(F=>{const{duration:B,delay:U,easing:L}=rh({style:T,timeout:_,easing:o},{mode:"exit"});let V;_==="auto"?(V=P.transitions.getAutoHeightDuration(F.clientHeight),w.current=V):V=B,F.style.transition=[P.transitions.create("opacity",{duration:V,delay:U}),P.transitions.create("transform",{duration:cg?V:V*.666,delay:cg?U:U||V*.333,easing:L})].join(","),F.style.opacity=0,F.style.transform=uv(.75),h&&h(F)}),R=S(m),z=F=>{_==="auto"&&v.start(w.current||0,F),r&&r(M.current,F)};return l.jsx(I,$({appear:i,in:a,nodeRef:M,onEnter:g,onEntered:x,onEntering:p,onExit:j,onExited:R,onExiting:A,addEndListener:z,timeout:_==="auto"?null:_},C,{children:(F,B)=>b.cloneElement(s,$({style:$({opacity:0,transform:uv(.75),visibility:F==="exited"&&!a?"hidden":void 0},HB[F],T,s.props.style),ref:N},B))}))});p2.muiSupportAuto=!0;function qB(t){const e=sr(t);return e.body===t?Bs(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function xS(t){return parseInt(Bs(t).getComputedStyle(t).paddingRight,10)||0}function KB(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function bS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!KB(o);a&&u&&yu(o,i)})}function dg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function GB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(qB(r)){const o=Wk(sr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${xS(r)+o}px`;const a=sr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${xS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=sr(r).body;else{const o=r.parentElement,a=Bs(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function QB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class YB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&yu(e.modalRef,!1);const i=QB(n);bS(n,e.mount,e.modalRef,i,!0);const s=dg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=dg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=GB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=dg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&yu(e.modalRef,n),bS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&yu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const XB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function JB(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function ZB(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function e9(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||ZB(t))}function t9(t){const e=[],n=[];return Array.from(t.querySelectorAll(XB)).forEach((r,i)=>{const s=JB(r);s===-1||!e9(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function n9(){return!0}function r9(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=t9,isEnabled:o=n9,open:a}=t,u=b.useRef(!1),c=b.useRef(null),f=b.useRef(null),h=b.useRef(null),m=b.useRef(null),E=b.useRef(!1),T=b.useRef(null),_=An(Ic(e),T),I=b.useRef(null);b.useEffect(()=>{!a||!T.current||(E.current=!n)},[n,a]),b.useEffect(()=>{if(!a||!T.current)return;const w=sr(T.current);return T.current.contains(w.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),E.current&&T.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),b.useEffect(()=>{if(!a||!T.current)return;const w=sr(T.current),P=S=>{I.current=S,!(r||!o()||S.key!=="Tab")&&w.activeElement===T.current&&S.shiftKey&&(u.current=!0,f.current&&f.current.focus())},M=()=>{const S=T.current;if(S===null)return;if(!w.hasFocus()||!o()||u.current){u.current=!1;return}if(S.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==f.current)return;if(w.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!E.current)return;let p=[];if((w.activeElement===c.current||w.activeElement===f.current)&&(p=s(T.current)),p.length>0){var g,x;const A=!!((g=I.current)!=null&&g.shiftKey&&((x=I.current)==null?void 0:x.key)==="Tab"),j=p[0],R=p[p.length-1];typeof j!="string"&&typeof R!="string"&&(A?R.focus():j.focus())}else S.focus()};w.addEventListener("focusin",M),w.addEventListener("keydown",P,!0);const N=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(N),w.removeEventListener("focusin",M),w.removeEventListener("keydown",P,!0)}},[n,r,i,o,a,s]);const C=w=>{h.current===null&&(h.current=w.relatedTarget),E.current=!0,m.current=w.target;const P=e.props.onFocus;P&&P(w)},v=w=>{h.current===null&&(h.current=w.relatedTarget),E.current=!0};return l.jsxs(b.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),b.cloneElement(e,{ref:_,onFocus:C}),l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:f,"data-testid":"sentinelEnd"})]})}function i9(t){return typeof t=="function"?t():t}const s9=b.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=b.useState(null),u=An(b.isValidElement(r)?Ic(r):null,n);if(Si(()=>{s||a(i9(i)||document.body)},[i,s]),Si(()=>{if(o&&!s)return eh(n,o),()=>{eh(n,null)}},[n,o,s]),s){if(b.isValidElement(r)){const c={ref:u};return b.cloneElement(r,c)}return l.jsx(b.Fragment,{children:r})}return l.jsx(b.Fragment,{children:o&&g0.createPortal(r,o)})});function o9(t){return ft("MuiBackdrop",t)}lt("MuiBackdrop",["root","invisible"]);const a9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],l9=t=>{const{classes:e,invisible:n}=t;return gt({root:["root",n&&"invisible"]},o9,e)},u9=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),c9=b.forwardRef(function(e,n){var r,i,s;const o=ht({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:E,slotProps:T={},slots:_={},TransitionComponent:I=a2,transitionDuration:C}=o,v=Ie(o,a9),w=$({},o,{component:c,invisible:m}),P=l9(w),M=(r=T.root)!=null?r:h.root;return l.jsx(I,$({in:E,timeout:C},v,{children:l.jsx(u9,$({"aria-hidden":!0},M,{as:(i=(s=_.root)!=null?s:f.Root)!=null?i:c,className:Me(P.root,u,M==null?void 0:M.className),ownerState:$({},w,M==null?void 0:M.ownerState),classes:P,ref:n,children:a}))}))});function d9(t){return typeof t=="function"?t():t}function f9(t){return t?t.props.hasOwnProperty("in"):!1}const h9=new YB;function p9(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=h9,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=b.useRef({}),E=b.useRef(null),T=b.useRef(null),_=An(T,h),[I,C]=b.useState(!f),v=f9(u);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const P=()=>sr(E.current),M=()=>(m.current.modalRef=T.current,m.current.mount=E.current,m.current),N=()=>{i.mount(M(),{disableScrollLock:r}),T.current&&(T.current.scrollTop=0)},S=Ss(()=>{const B=d9(e)||P().body;i.add(M(),B),T.current&&N()}),p=b.useCallback(()=>i.isTopModal(M()),[i]),g=Ss(B=>{E.current=B,B&&(f&&p()?N():T.current&&yu(T.current,w))}),x=b.useCallback(()=>{i.remove(M(),w)},[w,i]);b.useEffect(()=>()=>{x()},[x]),b.useEffect(()=>{f?S():(!v||!s)&&x()},[f,x,v,s,S]);const A=B=>U=>{var L;(L=B.onKeyDown)==null||L.call(B,U),!(U.key!=="Escape"||U.which===229||!p())&&(n||(U.stopPropagation(),c&&c(U,"escapeKeyDown")))},j=B=>U=>{var L;(L=B.onClick)==null||L.call(B,U),U.target===U.currentTarget&&c&&c(U,"backdropClick")};return{getRootProps:(B={})=>{const U=qk(t);delete U.onTransitionEnter,delete U.onTransitionExited;const L=$({},U,B);return $({role:"presentation"},L,{onKeyDown:A(L),ref:_})},getBackdropProps:(B={})=>{const U=B;return $({"aria-hidden":!0},U,{onClick:j(U),open:f})},getTransitionProps:()=>{const B=()=>{C(!1),o&&o()},U=()=>{C(!0),a&&a(),s&&x()};return{onEnter:tv(B,u==null?void 0:u.props.onEnter),onExited:tv(U,u==null?void 0:u.props.onExited)}},rootRef:_,portalRef:g,isTopModal:p,exited:I,hasTransition:v}}function m9(t){return ft("MuiModal",t)}lt("MuiModal",["root","hidden","backdrop"]);const g9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],y9=t=>{const{open:e,exited:n,classes:r}=t;return gt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},m9,r)},v9=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),x9=Pe(c9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),b9=b.forwardRef(function(e,n){var r,i,s,o,a,u;const c=ht({name:"MuiModal",props:e}),{BackdropComponent:f=x9,BackdropProps:h,className:m,closeAfterTransition:E=!1,children:T,container:_,component:I,components:C={},componentsProps:v={},disableAutoFocus:w=!1,disableEnforceFocus:P=!1,disableEscapeKeyDown:M=!1,disablePortal:N=!1,disableRestoreFocus:S=!1,disableScrollLock:p=!1,hideBackdrop:g=!1,keepMounted:x=!1,onBackdropClick:A,open:j,slotProps:R,slots:z}=c,F=Ie(c,g9),B=$({},c,{closeAfterTransition:E,disableAutoFocus:w,disableEnforceFocus:P,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:S,disableScrollLock:p,hideBackdrop:g,keepMounted:x}),{getRootProps:U,getBackdropProps:L,getTransitionProps:V,portalRef:H,isTopModal:K,exited:Q,hasTransition:Y}=p9($({},B,{rootRef:n})),se=$({},B,{exited:Q}),ce=y9(se),ye={};if(T.props.tabIndex===void 0&&(ye.tabIndex="-1"),Y){const{onEnter:he,onExited:me}=V();ye.onEnter=he,ye.onExited=me}const q=(r=(i=z==null?void 0:z.root)!=null?i:C.Root)!=null?r:v9,ne=(s=(o=z==null?void 0:z.backdrop)!=null?o:C.Backdrop)!=null?s:f,W=(a=R==null?void 0:R.root)!=null?a:v.root,le=(u=R==null?void 0:R.backdrop)!=null?u:v.backdrop,ee=Qa({elementType:q,externalSlotProps:W,externalForwardedProps:F,getSlotProps:U,additionalProps:{ref:n,as:I},ownerState:se,className:Me(m,W==null?void 0:W.className,ce==null?void 0:ce.root,!se.open&&se.exited&&(ce==null?void 0:ce.hidden))}),re=Qa({elementType:ne,externalSlotProps:le,additionalProps:h,getSlotProps:he=>L($({},he,{onClick:me=>{A&&A(me),he!=null&&he.onClick&&he.onClick(me)}})),className:Me(le==null?void 0:le.className,h==null?void 0:h.className,ce==null?void 0:ce.backdrop),ownerState:se});return!x&&!j&&(!Y||Q)?null:l.jsx(s9,{ref:H,container:_,disablePortal:N,children:l.jsxs(q,$({},ee,{children:[!g&&f?l.jsx(ne,$({},re)):null,l.jsx(r9,{disableEnforceFocus:P,disableAutoFocus:w,disableRestoreFocus:S,isEnabled:K,open:j,children:b.cloneElement(T,ye)})]}))})});function _9(t){return ft("MuiPopover",t)}lt("MuiPopover",["root","paper"]);const w9=["onEntering"],S9=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],E9=["slotProps"];function _S(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function wS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function SS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function fg(t){return typeof t=="function"?t():t}const T9=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"]},_9,e)},C9=Pe(b9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),m2=Pe(Mc,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),I9=b.forwardRef(function(e,n){var r,i,s;const o=ht({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:E,container:T,elevation:_=8,marginThreshold:I=16,open:C,PaperProps:v={},slots:w,slotProps:P,transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:N=p2,transitionDuration:S="auto",TransitionProps:{onEntering:p}={},disableScrollLock:g=!1}=o,x=Ie(o.TransitionProps,w9),A=Ie(o,S9),j=(r=P==null?void 0:P.paper)!=null?r:v,R=b.useRef(),z=An(R,j.ref),F=$({},o,{anchorOrigin:c,anchorReference:h,elevation:_,marginThreshold:I,externalPaperSlotProps:j,transformOrigin:M,TransitionComponent:N,transitionDuration:S,TransitionProps:x}),B=T9(F),U=b.useCallback(()=>{if(h==="anchorPosition")return f;const he=fg(u),ve=(he&&he.nodeType===1?he:sr(R.current).body).getBoundingClientRect();return{top:ve.top+_S(ve,c.vertical),left:ve.left+wS(ve,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),L=b.useCallback(he=>({vertical:_S(he,M.vertical),horizontal:wS(he,M.horizontal)}),[M.horizontal,M.vertical]),V=b.useCallback(he=>{const me={width:he.offsetWidth,height:he.offsetHeight},ve=L(me);if(h==="none")return{top:null,left:null,transformOrigin:SS(ve)};const be=U();let Ye=be.top-ve.vertical,_e=be.left-ve.horizontal;const Ve=Ye+me.height,Ae=_e+me.width,Qe=Bs(fg(u)),it=Qe.innerHeight-I,ut=Qe.innerWidth-I;if(I!==null&&Ye<I){const Le=Ye-I;Ye-=Le,ve.vertical+=Le}else if(I!==null&&Ve>it){const Le=Ve-it;Ye-=Le,ve.vertical+=Le}if(I!==null&&_e<I){const Le=_e-I;_e-=Le,ve.horizontal+=Le}else if(Ae>ut){const Le=Ae-ut;_e-=Le,ve.horizontal+=Le}return{top:`${Math.round(Ye)}px`,left:`${Math.round(_e)}px`,transformOrigin:SS(ve)}},[u,h,U,L,I]),[H,K]=b.useState(C),Q=b.useCallback(()=>{const he=R.current;if(!he)return;const me=V(he);me.top!==null&&(he.style.top=me.top),me.left!==null&&(he.style.left=me.left),he.style.transformOrigin=me.transformOrigin,K(!0)},[V]);b.useEffect(()=>(g&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)),[u,g,Q]);const Y=(he,me)=>{p&&p(he,me),Q()},se=()=>{K(!1)};b.useEffect(()=>{C&&Q()}),b.useImperativeHandle(a,()=>C?{updatePosition:()=>{Q()}}:null,[C,Q]),b.useEffect(()=>{if(!C)return;const he=$x(()=>{Q()}),me=Bs(u);return me.addEventListener("resize",he),()=>{he.clear(),me.removeEventListener("resize",he)}},[u,C,Q]);let ce=S;S==="auto"&&!N.muiSupportAuto&&(ce=void 0);const ye=T||(u?sr(fg(u)).body:void 0),q=(i=w==null?void 0:w.root)!=null?i:C9,ne=(s=w==null?void 0:w.paper)!=null?s:m2,W=Qa({elementType:ne,externalSlotProps:$({},j,{style:H?j.style:$({},j.style,{opacity:0})}),additionalProps:{elevation:_,ref:z},ownerState:F,className:Me(B.paper,j==null?void 0:j.className)}),le=Qa({elementType:q,externalSlotProps:(P==null?void 0:P.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ye,open:C},ownerState:F,className:Me(B.root,E)}),{slotProps:ee}=le,re=Ie(le,E9);return l.jsx(q,$({},re,!th(q)&&{slotProps:ee,disableScrollLock:g},{children:l.jsx(N,$({appear:!0,in:C,onEntering:Y,onExited:se,timeout:ce},x,{children:l.jsx(ne,$({},W,{children:m}))}))}))});function R9(t){return ft("MuiMenu",t)}lt("MuiMenu",["root","paper","list"]);const k9=["onEntering"],P9=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],A9={vertical:"top",horizontal:"right"},j9={vertical:"top",horizontal:"left"},O9=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"],list:["list"]},R9,e)},N9=Pe(I9,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),M9=Pe(m2,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),L9=Pe(UB,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),D9=b.forwardRef(function(e,n){var r,i;const s=ht({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:E={},PopoverClasses:T,transitionDuration:_="auto",TransitionProps:{onEntering:I}={},variant:C="selectedMenu",slots:v={},slotProps:w={}}=s,P=Ie(s.TransitionProps,k9),M=Ie(s,P9),N=zV(),S=$({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:E,transitionDuration:_,TransitionProps:P,variant:C}),p=O9(S),g=o&&!c&&m,x=b.useRef(null),A=(L,V)=>{x.current&&x.current.adjustStyleForScrollbar(L,{direction:N?"rtl":"ltr"}),I&&I(L,V)},j=L=>{L.key==="Tab"&&(L.preventDefault(),h&&h(L,"tabKeyDown"))};let R=-1;b.Children.map(a,(L,V)=>{b.isValidElement(L)&&(L.props.disabled||(C==="selectedMenu"&&L.props.selected||R===-1)&&(R=V))});const z=(r=v.paper)!=null?r:M9,F=(i=w.paper)!=null?i:E,B=Qa({elementType:v.root,externalSlotProps:w.root,ownerState:S,className:[p.root,u]}),U=Qa({elementType:z,externalSlotProps:F,ownerState:S,className:p.paper});return l.jsx(N9,$({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?A9:j9,slots:{paper:z,root:v.root},slotProps:{root:B,paper:U},open:m,ref:n,transitionDuration:_,TransitionProps:$({onEntering:A},P),ownerState:S},M,{classes:T,children:l.jsx(L9,$({onKeyDown:j,actions:x,autoFocus:o&&(R===-1||c),autoFocusItem:g,variant:C},f,{className:Me(p.list,f.className),children:a}))}))});function $9(t){return ft("MuiNativeSelect",t)}const Xx=lt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),F9=["className","disabled","error","IconComponent","inputRef","variant"],V9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Be(n)}`,s&&"iconOpen",r&&"disabled"]};return gt(a,$9,e)},g2=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Xx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),z9=Pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Hr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Xx.multiple}`]:e.multiple}]}})(g2),y2=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Xx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),B9=Pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Be(n.variant)}`],n.open&&e.iconOpen]}})(y2),U9=b.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Ie(e,F9),f=$({},e,{disabled:i,variant:u,error:s}),h=V9(f);return l.jsxs(b.Fragment,{children:[l.jsx(z9,$({ownerState:f,className:Me(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(B9,{as:o,ownerState:f,className:h.icon})]})});function W9(t){return ft("MuiSelect",t)}const Fl=lt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ES;const H9=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],q9=Pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Fl.select}`]:e.select},{[`&.${Fl.select}`]:e[n.variant]},{[`&.${Fl.error}`]:e.error},{[`&.${Fl.multiple}`]:e.multiple}]}})(g2,{[`&.${Fl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),K9=Pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Be(n.variant)}`],n.open&&e.iconOpen]}})(y2),G9=Pe("input",{shouldForwardProp:t=>u2(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Q9(t){return t==null||typeof t=="string"&&!t.trim()}const Y9=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Be(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(a,W9,e)},X9=b.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:E,error:T=!1,IconComponent:_,inputRef:I,labelId:C,MenuProps:v={},multiple:w,name:P,onBlur:M,onChange:N,onClose:S,onFocus:p,onOpen:g,open:x,readOnly:A,renderValue:j,SelectDisplayProps:R={},tabIndex:z,value:F,variant:B="standard"}=e,U=Ie(e,H9),[L,V]=nv({controlled:F,default:h,name:"Select"}),[H,K]=nv({controlled:x,default:f,name:"Select"}),Q=b.useRef(null),Y=b.useRef(null),[se,ce]=b.useState(null),{current:ye}=b.useRef(x!=null),[q,ne]=b.useState(),W=An(n,I),le=b.useCallback(we=>{Y.current=we,we&&ce(we)},[]),ee=se==null?void 0:se.parentNode;b.useImperativeHandle(W,()=>({focus:()=>{Y.current.focus()},node:Q.current,value:L}),[L]),b.useEffect(()=>{f&&H&&se&&!ye&&(ne(a?null:ee.clientWidth),Y.current.focus())},[se,a]),b.useEffect(()=>{o&&Y.current.focus()},[o]),b.useEffect(()=>{if(!C)return;const we=sr(Y.current).getElementById(C);if(we){const tt=()=>{getSelection().isCollapsed&&Y.current.focus()};return we.addEventListener("click",tt),()=>{we.removeEventListener("click",tt)}}},[C]);const re=(we,tt)=>{we?g&&g(tt):S&&S(tt),ye||(ne(a?null:ee.clientWidth),K(we))},he=we=>{we.button===0&&(we.preventDefault(),Y.current.focus(),re(!0,we))},me=we=>{re(!1,we)},ve=b.Children.toArray(u),be=we=>{const tt=ve.find(qe=>qe.props.value===we.target.value);tt!==void 0&&(V(tt.props.value),N&&N(we,tt))},Ye=we=>tt=>{let qe;if(tt.currentTarget.hasAttribute("tabindex")){if(w){qe=Array.isArray(L)?L.slice():[];const Tr=L.indexOf(we.props.value);Tr===-1?qe.push(we.props.value):qe.splice(Tr,1)}else qe=we.props.value;if(we.props.onClick&&we.props.onClick(tt),L!==qe&&(V(qe),N)){const Tr=tt.nativeEvent||tt,os=new Tr.constructor(Tr.type,Tr);Object.defineProperty(os,"target",{writable:!0,value:{value:qe,name:P}}),N(os,we)}w||re(!1,tt)}},_e=we=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),re(!0,we))},Ve=se!==null&&H,Ae=we=>{!Ve&&M&&(Object.defineProperty(we,"target",{writable:!0,value:{value:L,name:P}}),M(we))};delete U["aria-invalid"];let Qe,it;const ut=[];let Le=!1;(sh({value:L})||E)&&(j?Qe=j(L):Le=!0);const yt=ve.map(we=>{if(!b.isValidElement(we))return null;let tt;if(w){if(!Array.isArray(L))throw new Error(Po(2));tt=L.some(qe=>TS(qe,we.props.value)),tt&&Le&&ut.push(we.props.children)}else tt=TS(L,we.props.value),tt&&Le&&(it=we.props.children);return b.cloneElement(we,{"aria-selected":tt?"true":"false",onClick:Ye(we),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(qe)},role:"option",selected:tt,value:void 0,"data-value":we.props.value})});Le&&(w?ut.length===0?Qe=null:Qe=ut.reduce((we,tt,qe)=>(we.push(tt),qe<ut.length-1&&we.push(", "),we),[]):Qe=it);let Re=q;!a&&ye&&se&&(Re=ee.clientWidth);let We;typeof z<"u"?We=z:We=m?null:0;const De=R.id||(P?`mui-component-select-${P}`:void 0),Ee=$({},e,{variant:B,value:L,open:Ve,error:T}),bt=Y9(Ee),kt=$({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Xe=Hp();return l.jsxs(b.Fragment,{children:[l.jsx(q9,$({ref:le,tabIndex:We,role:"combobox","aria-controls":Xe,"aria-disabled":m?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[C,De].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:_e,onMouseDown:m||A?null:he,onBlur:Ae,onFocus:p},R,{ownerState:Ee,className:Me(R.className,bt.select,c),id:De,children:Q9(Qe)?ES||(ES=l.jsx("span",{className:"notranslate",children:""})):Qe})),l.jsx(G9,$({"aria-invalid":T,value:Array.isArray(L)?L.join(","):L,name:P,ref:Q,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:m,className:bt.nativeInput,autoFocus:o,ownerState:Ee},U)),l.jsx(K9,{as:_,className:bt.icon,ownerState:Ee}),l.jsx(D9,$({id:`menu-${P||""}`,anchorEl:ee,open:Ve,onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:$({"aria-labelledby":C,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Xe},v.MenuListProps),slotProps:$({},v.slotProps,{paper:$({},kt,{style:$({minWidth:Re},kt!=null?kt.style:null)})}),children:yt}))]})});function J9(t){return ft("MuiSvgIcon",t)}lt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Z9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],eU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Be(e)}`,`fontSize${Be(n)}`]};return gt(i,J9,r)},tU=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Be(n.color)}`],e[`fontSize${Be(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,E,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.active,disabled:(T=(t.vars||t).palette)==null||(T=T.action)==null?void 0:T.disabled,inherit:void 0}[e.color]}}),cv=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,E=Ie(r,Z9),T=b.isValidElement(i)&&i.type==="svg",_=$({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:T}),I={};f||(I.viewBox=m);const C=eU(_);return l.jsxs(tU,$({as:a,className:Me(C.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,E,T&&i.props,{ownerState:_,children:[T?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});cv.muiName="SvgIcon";function zo(t,e){function n(r,i){return l.jsx(cv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=cv.muiName,b.memo(b.forwardRef(n))}const nU=zo(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),rU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],iU=["root"],sU=t=>{const{classes:e}=t;return e},Jx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Hr(t)&&t!=="variant",slot:"Root"},oU=Pe(Gx,Jx)(""),aU=Pe(Yx,Jx)(""),lU=Pe(Qx,Jx)(""),Zx=b.forwardRef(function(e,n){const r=ht({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=nU,id:h,input:m,inputProps:E,label:T,labelId:_,MenuProps:I,multiple:C=!1,native:v=!1,onClose:w,onOpen:P,open:M,renderValue:N,SelectDisplayProps:S,variant:p="outlined"}=r,g=Ie(r,rU),x=v?U9:X9,A=yl(),j=gl({props:r,muiFormControl:A,states:["variant","error"]}),R=j.variant||p,z=$({},r,{variant:R,classes:o}),F=sU(z),B=Ie(F,iU),U=m||{standard:l.jsx(oU,{ownerState:z}),outlined:l.jsx(aU,{label:T,ownerState:z}),filled:l.jsx(lU,{ownerState:z})}[R],L=An(n,Ic(U));return l.jsx(b.Fragment,{children:b.cloneElement(U,$({inputComponent:x,inputProps:$({children:s,error:j.error,IconComponent:f,variant:R,type:void 0,multiple:C},v?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:_,MenuProps:I,onClose:w,onOpen:P,open:M,renderValue:N,SelectDisplayProps:$({id:h},S)},E,{classes:E?gr(B,E.classes):B},m?m.props.inputProps:{})},(C&&v||c)&&R==="outlined"?{notched:!0}:{},{ref:L,className:Me(U.props.className,a,F.root)},!m&&{variant:R},g))})});Zx.muiName="Select";function uU(t){return ft("MuiTextField",t)}lt("MuiTextField",["root"]);const cU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],dU={standard:Gx,filled:Qx,outlined:Yx},fU=t=>{const{classes:e}=t;return gt({root:["root"]},uU,e)},hU=Pe(f2,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),lr=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:E=!1,helperText:T,id:_,InputLabelProps:I,inputProps:C,InputProps:v,inputRef:w,label:P,maxRows:M,minRows:N,multiline:S=!1,name:p,onBlur:g,onChange:x,onFocus:A,placeholder:j,required:R=!1,rows:z,select:F=!1,SelectProps:B,type:U,value:L,variant:V="outlined"}=r,H=Ie(r,cU),K=$({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:E,multiline:S,required:R,select:F,variant:V}),Q=fU(K),Y={};V==="outlined"&&(I&&typeof I.shrink<"u"&&(Y.notched=I.shrink),Y.label=P),F&&((!B||!B.native)&&(Y.id=void 0),Y["aria-describedby"]=void 0);const se=Hp(_),ce=T&&se?`${se}-helper-text`:void 0,ye=P&&se?`${se}-label`:void 0,q=dU[V],ne=l.jsx(q,$({"aria-describedby":ce,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:E,multiline:S,name:p,rows:z,maxRows:M,minRows:N,type:U,value:L,id:se,inputRef:w,onBlur:g,onChange:x,onFocus:A,placeholder:j,inputProps:C},Y,v));return l.jsxs(hU,$({className:Me(Q.root,a),disabled:f,error:h,fullWidth:E,ref:n,required:R,color:u,variant:V,ownerState:K},H,{children:[P!=null&&P!==""&&l.jsx(IB,$({htmlFor:se,id:ye},I,{children:P})),F?l.jsx(Zx,$({"aria-describedby":ce,id:se,labelId:ye,value:L,input:ne},B,{children:o})):ne,T&&l.jsx(LB,$({id:ce},m,{children:T}))]}))});function pU(t){return ft("MuiCard",t)}lt("MuiCard",["root"]);const mU=["className","raised"],gU=t=>{const{classes:e}=t;return gt({root:["root"]},pU,e)},yU=Pe(Mc,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),tf=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ie(r,mU),a=$({},r,{raised:s}),u=gU(a);return l.jsx(yU,$({className:Me(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function vU(t){return ft("MuiCardContent",t)}lt("MuiCardContent",["root"]);const xU=["className","component"],bU=t=>{const{classes:e}=t;return gt({root:["root"]},vU,e)},_U=Pe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),nf=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ie(r,xU),a=$({},r,{component:s}),u=bU(a);return l.jsx(_U,$({as:s,className:Me(u.root,i),ownerState:a,ref:n},o))});function wU(t){return ft("MuiCardMedia",t)}lt("MuiCardMedia",["root","media","img"]);const SU=["children","className","component","image","src","style"],EU=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return gt({root:["root",n&&"media",r&&"img"]},wU,e)},TU=Pe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),CU=["video","audio","picture","iframe","img"],IU=["picture","img"],CS=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Ie(r,SU),h=CU.indexOf(o)!==-1,m=!h&&a?$({backgroundImage:`url("${a}")`},c):c,E=$({},r,{component:o,isMediaComponent:h,isImageComponent:IU.indexOf(o)!==-1}),T=EU(E);return l.jsx(TU,$({className:Me(T.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:E,src:h?a||u:void 0},f,{children:i}))}),RU=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],kU=["component","slots","slotProps"],PU=["component"];function IS(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a}=e,u=Ie(e,RU),{component:c,slots:f={[t]:void 0},slotProps:h={[t]:void 0}}=s,m=Ie(s,kU),E=f[t]||r,T=Gk(h[t],i),_=Kk($({className:n},u,{externalForwardedProps:t==="root"?m:void 0,externalSlotProps:T})),{props:{component:I},internalRef:C}=_,v=Ie(_.props,PU),w=An(C,T==null?void 0:T.ref,e.ref),P=o?o(v):{},M=$({},i,P),N=t==="root"?I||c:I,S=Hk(E,$({},t==="root"&&!c&&!f[t]&&a,t!=="root"&&!f[t]&&a,v,N&&{as:N},{ref:w}),M);return Object.keys(P).forEach(p=>{delete S[p]}),[E,S]}var v2={},x2={},em={},b2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(b2);var AU="Expected a function",RS=NaN,jU="[object Symbol]",OU=/^\s+|\s+$/g,NU=/^[-+]0x[0-9a-f]+$/i,MU=/^0b[01]+$/i,LU=/^0o[0-7]+$/i,DU=parseInt,$U=typeof Bl=="object"&&Bl&&Bl.Object===Object&&Bl,FU=typeof self=="object"&&self&&self.Object===Object&&self,VU=$U||FU||Function("return this")(),zU=Object.prototype,BU=zU.toString,UU=Math.max,WU=Math.min,hg=function(){return VU.Date.now()};function HU(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(AU);e=kS(e)||0,dv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?UU(kS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function E(N){var S=r,p=i;return r=i=void 0,c=N,o=t.apply(p,S),o}function T(N){return c=N,a=setTimeout(C,e),f?E(N):o}function _(N){var S=N-u,p=N-c,g=e-S;return h?WU(g,s-p):g}function I(N){var S=N-u,p=N-c;return u===void 0||S>=e||S<0||h&&p>=s}function C(){var N=hg();if(I(N))return v(N);a=setTimeout(C,_(N))}function v(N){return a=void 0,m&&r?E(N):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function P(){return a===void 0?o:v(hg())}function M(){var N=hg(),S=I(N);if(r=arguments,i=this,u=N,S){if(a===void 0)return T(u);if(h)return a=setTimeout(C,e),E(u)}return a===void 0&&(a=setTimeout(C,e)),o}return M.cancel=w,M.flush=P,M}function dv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function qU(t){return!!t&&typeof t=="object"}function KU(t){return typeof t=="symbol"||qU(t)&&BU.call(t)==jU}function kS(t){if(typeof t=="number")return t;if(KU(t))return RS;if(dv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(OU,"");var n=MU.test(t);return n||LU.test(t)?DU(t.slice(2),n?2:8):NU.test(t)?RS:+t}var GU=HU,_2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_2);var tm=_2.exports,fe={},eb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(b);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(eb);Object.defineProperty(fe,"__esModule",{value:!0});fe.checkSpecKeys=fe.checkNavigable=fe.changeSlide=fe.canUseDOM=fe.canGoNext=void 0;fe.clamp=S2;fe.extractObject=void 0;fe.filterSettings=uW;fe.validSettings=fe.swipeStart=fe.swipeMove=fe.swipeEnd=fe.slidesOnRight=fe.slidesOnLeft=fe.slideHandler=fe.siblingDirection=fe.safePreventDefault=fe.lazyStartIndex=fe.lazySlidesOnRight=fe.lazySlidesOnLeft=fe.lazyEndIndex=fe.keyHandler=fe.initializedState=fe.getWidth=fe.getTrackLeft=fe.getTrackCSS=fe.getTrackAnimateCSS=fe.getTotalSlides=fe.getSwipeDirection=fe.getSlideCount=fe.getRequiredLazySlides=fe.getPreClones=fe.getPostClones=fe.getOnDemandLazySlides=fe.getNavigableIndexes=fe.getHeight=void 0;var QU=w2(b),YU=w2(eb);function w2(t){return t&&t.__esModule?t:{default:t}}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){XU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XU(t,e,n){return(e=JU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JU(t){var e=ZU(t,"string");return Ju(e)=="symbol"?e:e+""}function ZU(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2(t,e,n){return Math.max(e,Math.min(t,n))}var Pa=fe.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},E2=fe.getOnDemandLazySlides=function(e){for(var n=[],r=T2(e),i=C2(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};fe.getRequiredLazySlides=function(e){for(var n=[],r=T2(e),i=C2(e),s=r;s<i;s++)n.push(s);return n};var T2=fe.lazyStartIndex=function(e){return e.currentSlide-eW(e)},C2=fe.lazyEndIndex=function(e){return e.currentSlide+tW(e)},eW=fe.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},tW=fe.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},fv=fe.getWidth=function(e){return e&&e.offsetWidth||0},I2=fe.getHeight=function(e){return e&&e.offsetHeight||0},R2=fe.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},k2=fe.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};fe.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};fe.initializedState=function(e){var n=QU.default.Children.count(e.children),r=e.listRef,i=Math.ceil(fv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(fv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&I2(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],E=E2(Dt(Dt({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(E);var T={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(T.autoplaying="playing"),T};fe.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,E=e.useCSS,T=e.lazyLoadedList;if(n&&r)return{};var _=o,I,C,v,w={},P={},M=s?o:S2(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?_=o+a:o>=a&&(_=o-a),u&&T.indexOf(_)<0&&(T=T.concat(_)),w={animating:!0,currentSlide:_,lazyLoadedList:T,targetSlide:_},P={animating:!1,targetSlide:_}}else I=_,_<0?(I=_+a,s?a%h!==0&&(I=a-a%h):I=0):!k2(e)&&_>c?_=I=c:f&&_>=a?(_=s?a:a-1,I=s?0:a-1):_>=a&&(I=_-a,s?a%h!==0&&(I=0):I=a-m),!s&&_+m>=a&&(I=a-m),C=ah(Dt(Dt({},e),{},{slideIndex:_})),v=ah(Dt(Dt({},e),{},{slideIndex:I})),s||(C===v&&(_=I),C=v),u&&(T=T.concat(E2(Dt(Dt({},e),{},{currentSlide:_})))),E?(w={animating:!0,currentSlide:I,trackStyle:P2(Dt(Dt({},e),{},{left:C})),lazyLoadedList:T,targetSlide:M},P={animating:!1,currentSlide:I,trackStyle:oh(Dt(Dt({},e),{},{left:v})),swipeLeft:null,targetSlide:M}):w={currentSlide:I,trackStyle:oh(Dt(Dt({},e),{},{left:v})),lazyLoadedList:T,targetSlide:M};return{state:w,nextState:P}};fe.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,E=e.lazyLoad,T=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,E&&!T&&(i=h-s,a=i===-1?f-1:i),T||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,E&&!T&&(a=(h+u)%f+r),T||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,T){var _=sW(Dt(Dt({},e),{},{targetSlide:a}));a>n.currentSlide&&_==="left"?a=a-f:a<n.currentSlide&&_==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};fe.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};fe.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Pa(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};fe.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,E=n.swiped,T=n.swiping,_=n.slideCount,I=n.slidesToScroll,C=n.infinite,v=n.touchObject,w=n.swipeEvent,P=n.listHeight,M=n.listWidth;if(!r){if(i)return Pa(e);s&&o&&a&&Pa(e);var N,S={},p=ah(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var g=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!T&&g>10)return{scrolling:!0};a&&(v.swipeLength=g);var x=(u?-1:1)*(v.curX>v.startX?1:-1);a&&(x=v.curY>v.startY?1:-1);var A=Math.ceil(_/I),j=R2(n.touchObject,a),R=v.swipeLength;return C||(c===0&&(j==="right"||j==="down")||c+1>=A&&(j==="left"||j==="up")||!k2(n)&&(j==="left"||j==="up"))&&(R=v.swipeLength*f,h===!1&&m&&(m(j),S.edgeDragged=!0)),!E&&w&&(w(j),S.swiped=!0),s?N=p+R*(P/M)*x:u?N=p-R*x:N=p+R*x,a&&(N=p+R*x),S=Dt(Dt({},S),{},{touchObject:v,swipeLeft:N,trackStyle:oh(Dt(Dt({},n),{},{left:N}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(S.swiping=!0,Pa(e)),S}};fe.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,E=n.targetSlide,T=n.currentSlide,_=n.infinite;if(!r)return i&&Pa(e),{};var I=u?c/a:o/a,C=R2(s,u),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>I){Pa(e),m&&m(C);var w,P,M=_?T:E;switch(C){case"left":case"up":P=M+jS(n),w=f?AS(n,P):P,v.currentDirection=0;break;case"right":case"down":P=M-jS(n),w=f?AS(n,P):P,v.currentDirection=1;break;default:w=M}v.triggerSlideHandler=w}else{var N=ah(n);v.trackStyle=P2(Dt(Dt({},n),{},{left:N}))}return v};var nW=fe.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},AS=fe.checkNavigable=function(e,n){var r=nW(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},jS=fe.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+I2(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+fv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},tb=fe.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},oh=fe.getTrackCSS=function(e){tb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=iW(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Dt(Dt({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},P2=fe.getTrackAnimateCSS=function(e){tb(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=oh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},ah=fe.getTrackLeft=function(e){if(e.unslick)return 0;tb(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,E=e.fade,T=e.vertical,_=0,I,C,v=0;if(E||e.slideCount===1)return 0;var w=0;if(i?(w=-rf(e),o%u!==0&&n+u>o&&(w=-(n>o?a-(n-o):o%u)),s&&(w+=parseInt(a/2))):(o%u!==0&&n+u>o&&(w=a-o%u),s&&(w=parseInt(a/2))),_=w*c,v=w*m,T?I=n*m*-1+v:I=n*c*-1+_,h===!0){var P,M=r&&r.node;if(P=n+rf(e),C=M&&M.childNodes[P],I=C?C.offsetLeft*-1:0,s===!0){P=i?n+rf(e):n,C=M&&M.children[P],I=0;for(var N=0;N<P;N++)I-=M&&M.children[N]&&M.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=C&&(f-C.offsetWidth)/2}}return I},rf=fe.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},rW=fe.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},iW=fe.getTotalSlides=function(e){return e.slideCount===1?1:rf(e)+e.slideCount+rW(e)},sW=fe.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+oW(e)?"left":"right":e.targetSlide<e.currentSlide-aW(e)?"right":"left"},oW=fe.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},aW=fe.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};fe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var lW=fe.validSettings=Object.keys(YU.default);function uW(t){return lW.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var nm={};Object.defineProperty(nm,"__esModule",{value:!0});nm.Track=void 0;var gs=A2(b),pg=A2(tm),Ed=fe;function A2(t){return t&&t.__esModule?t:{default:t}}function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function cW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function fW(t,e,n){return e&&dW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pv(t,e)}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pv(t,e)}function pW(t){var e=j2();return function(){var n,r=lh(t);if(e){var i=lh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mW(this,n)}}function mW(t,e){if(e&&(Ja(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mv(t)}function mv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j2=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gv(t,e,n){return(e=O2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=gW(t,"string");return Ja(e)=="symbol"?e:e+""}function gW(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},yW=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},gg=function(e,n){return e.key||n},vW=function(e){var n,r=[],i=[],s=[],o=gs.default.Children.count(e.children),a=(0,Ed.lazyStartIndex)(e),u=(0,Ed.lazyEndIndex)(e);return gs.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=gs.default.createElement("div",null);var E=yW(Jn(Jn({},e),{},{index:f})),T=h.props.className||"",_=mg(Jn(Jn({},e),{},{index:f}));if(r.push(gs.default.cloneElement(h,{key:"original"+gg(h,f),"data-index":f,className:(0,pg.default)(_,T),tabIndex:"-1","aria-hidden":!_["slick-active"],style:Jn(Jn({outline:"none"},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Ed.getPreClones)(e)&&(n=-I,n>=a&&(h=c),_=mg(Jn(Jn({},e),{},{index:n})),i.push(gs.default.cloneElement(h,{key:"precloned"+gg(h,n),"data-index":n,tabIndex:"-1",className:(0,pg.default)(_,T),"aria-hidden":!_["slick-active"],style:Jn(Jn({},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Ed.getPostClones)(e)&&(n=o+f,n<u&&(h=c),_=mg(Jn(Jn({},e),{},{index:n})),s.push(gs.default.cloneElement(h,{key:"postcloned"+gg(h,n),"data-index":n,tabIndex:"-1",className:(0,pg.default)(_,T),"aria-hidden":!_["slick-active"],style:Jn(Jn({},h.props.style||{}),E),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};nm.Track=function(t){hW(n,t);var e=pW(n);function n(){var r;cW(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),gv(mv(r),"node",null),gv(mv(r),"handleRef",function(a){r.node=a}),r}return fW(n,[{key:"render",value:function(){var i=vW(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return gs.default.createElement("div",hv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(gs.default.PureComponent);var rm={};function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}Object.defineProperty(rm,"__esModule",{value:!0});rm.Dots=void 0;var Td=N2(b),xW=N2(tm),NS=fe;function N2(t){return t&&t.__esModule?t:{default:t}}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){_W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _W(t,e,n){return(e=M2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M2(r.key),r)}}function EW(t,e,n){return e&&SW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M2(t){var e=TW(t,"string");return Za(e)=="symbol"?e:e+""}function TW(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yv(t,e)}function IW(t){var e=L2();return function(){var n,r=uh(t);if(e){var i=uh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RW(this,n)}}function RW(t,e){if(e&&(Za(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kW(t)}function kW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}var PW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};rm.Dots=function(t){CW(n,t);var e=IW(n);function n(){return wW(this,n),e.apply(this,arguments)}return EW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,E=PW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),T={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},_=[],I=0;I<E;I++){var C=(I+1)*c-1,v=u?C:(0,NS.clamp)(C,0,h-1),w=v-(c-1),P=u?w:(0,NS.clamp)(w,0,h-1),M=(0,xW.default)({"slick-active":u?m>=P&&m<=v:m===P}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},S=this.clickHandler.bind(this,N);_=_.concat(Td.default.createElement("li",{key:I,className:M},Td.default.cloneElement(this.props.customPaging(I),{onClick:S})))}return Td.default.cloneElement(this.props.appendDots(_),bW({className:this.props.dotsClass},T))}}]),n}(Td.default.PureComponent);var el={};function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}Object.defineProperty(el,"__esModule",{value:!0});el.PrevArrow=el.NextArrow=void 0;var Aa=$2(b),D2=$2(tm),AW=fe;function $2(t){return t&&t.__esModule?t:{default:t}}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){jW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jW(t,e,n){return(e=z2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z2(r.key),r)}}function V2(t,e,n){return e&&OW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2(t){var e=NW(t,"string");return tl(e)=="symbol"?e:e+""}function NW(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vv(t,e)}function vv(t,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vv(t,e)}function U2(t){var e=W2();return function(){var n,r=fh(t);if(e){var i=fh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MW(this,n)}}function MW(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LW(t)}function LW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W2=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}el.PrevArrow=function(t){B2(n,t);var e=U2(n);function n(){return F2(this,n),e.apply(this,arguments)}return V2(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,D2.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Aa.default.cloneElement(this.props.prevArrow,dh(dh({},o),a)):u=Aa.default.createElement("button",ch({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Aa.default.PureComponent);el.NextArrow=function(t){B2(n,t);var e=U2(n);function n(){return F2(this,n),e.apply(this,arguments)}return V2(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,AW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,D2.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Aa.default.cloneElement(this.props.nextArrow,dh(dh({},o),a)):u=Aa.default.createElement("button",ch({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Aa.default.PureComponent);var H2=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),xv=typeof window<"u"&&typeof document<"u"&&window.document===document,hh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),DW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),$W=2;function FW(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){DW(s)}function a(){var u=Date.now();if(n){if(u-i<$W)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var VW=20,zW=["top","right","bottom","left","width","height","size","weight"],BW=typeof MutationObserver<"u",UW=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FW(this.refresh.bind(this),VW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!xv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),BW?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!xv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=zW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),q2=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},nl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||hh},K2=im(0,0,0,0);function ph(t){return parseFloat(t)||0}function DS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+ph(s)},0)}function WW(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=ph(o)}return n}function HW(t){var e=t.getBBox();return im(0,0,e.width,e.height)}function qW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return K2;var r=nl(t).getComputedStyle(t),i=WW(r),s=i.left+i.right,o=i.top+i.bottom,a=ph(r.width),u=ph(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=DS(r,"left","right")+s),Math.round(u+o)!==n&&(u-=DS(r,"top","bottom")+o)),!GW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return im(i.left,i.top,a,u)}var KW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof nl(t).SVGGraphicsElement}:function(t){return t instanceof nl(t).SVGElement&&typeof t.getBBox=="function"}}();function GW(t){return t===nl(t).document.documentElement}function QW(t){return xv?KW(t)?HW(t):qW(t):K2}function YW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return q2(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function im(t,e,n,r){return{x:t,y:e,width:n,height:r}}var XW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=im(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=QW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),JW=function(){function t(e,n){var r=YW(n);q2(this,{target:e,contentRect:r})}return t}(),ZW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new H2,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new XW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new JW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),G2=typeof WeakMap<"u"?new WeakMap:new H2,Q2=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=UW.getInstance(),r=new ZW(e,n,this);G2.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Q2.prototype[t]=function(){var e;return(e=G2.get(this))[t].apply(e,arguments)}});var e7=function(){return typeof hh.ResizeObserver<"u"?hh.ResizeObserver:Q2}();const t7=Object.freeze(Object.defineProperty({__proto__:null,default:e7},Symbol.toStringTag,{value:"Module"})),n7=Ei(t7);Object.defineProperty(em,"__esModule",{value:!0});em.InnerSlider=void 0;var Hn=Lc(b),r7=Lc(b2),i7=Lc(GU),s7=Lc(tm),Vt=fe,o7=nm,a7=rm,$S=el,l7=Lc(n7);function Lc(t){return t&&t.__esModule?t:{default:t}}function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(null,arguments)}function u7(t,e){if(t==null)return{};var n,r,i=c7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X2(r.key),r)}}function h7(t,e,n){return e&&f7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bv(t,e)}function m7(t){var e=Y2();return function(){var n,r=gh(t);if(e){var i=gh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g7(this,n)}}function g7(t,e){if(e&&(Ao(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}function Ze(t,e,n){return(e=X2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2(t){var e=y7(t,"string");return Ao(e)=="symbol"?e:e+""}function y7(t,e){if(Ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}em.InnerSlider=function(t){p7(n,t);var e=m7(n);function n(r){var i;d7(this,n),i=e.call(this,r),Ze(Je(i),"listRefHandler",function(o){return i.list=o}),Ze(Je(i),"trackRefHandler",function(o){return i.track=o}),Ze(Je(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Vt.getHeight)(o)+"px"}}),Ze(Je(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ze({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new l7.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Ze(Je(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Ze(Je(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Vt.getOnDemandLazySlides)(ze(ze({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=Hn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Hn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Ze(Je(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,i7.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Ze(Je(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=ze(ze({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Ze(Je(i),"updateState",function(o,a,u){var c=(0,Vt.initializedState)(o);o=ze(ze(ze({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Vt.getTrackLeft)(o);o=ze(ze({},o),{},{left:f});var h=(0,Vt.getTrackCSS)(o);(a||Hn.default.Children.count(i.props.children)!==Hn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Ze(Je(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Vt.getPreClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Vt.getPostClones)(ze(ze(ze({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(S){u.push(S.props.style.width),o+=S.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var E=0;E<i.state.currentSlide;E++)a+=u[E];var T={width:o+"px",left:-a+"px"};if(i.props.centerMode){var _="".concat(u[i.state.currentSlide],"px");T.left="calc(".concat(T.left," + (100% - ").concat(_,") / 2 ) ")}return{trackStyle:T}}var I=Hn.default.Children.count(i.props.children),C=ze(ze(ze({},i.props),i.state),{},{slideCount:I}),v=(0,Vt.getPreClones)(C)+(0,Vt.getPostClones)(C)+I,w=100/i.props.slidesToShow*v,P=100/v,M=-P*((0,Vt.getPreClones)(C)+i.state.currentSlide)*w/100;i.props.centerMode&&(M+=(100-P*w/100)/2);var N={width:w+"%",left:M+"%"};return{slideWidth:P+"%",trackStyle:N}}),Ze(Je(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Ze(Je(i),"progressiveLazyLoad",function(){for(var o=[],a=ze(ze({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Vt.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Vt.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Ze(Je(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,E=u.afterChange,T=i.state.currentSlide,_=(0,Vt.slideHandler)(ze(ze(ze({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=_.state,C=_.nextState;if(I){f&&f(T,I.currentSlide);var v=I.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),E&&E(T),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),C&&(i.animationEndCallback=setTimeout(function(){var w=C.animating,P=u7(C,["animating"]);i.setState(P,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),E&&E(I.currentSlide),delete i.animationEndCallback})},m))})}}),Ze(Je(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=ze(ze({},i.props),i.state),c=(0,Vt.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Ze(Je(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Ze(Je(i),"keyHandler",function(o){var a=(0,Vt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Ze(Je(i),"selectHandler",function(o){i.changeSlide(o)}),Ze(Je(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Ze(Je(i),"enableBodyScroll",function(){window.ontouchmove=null}),Ze(Je(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Vt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Ze(Je(i),"swipeMove",function(o){var a=(0,Vt.swipeMove)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Ze(Je(i),"swipeEnd",function(o){var a=(0,Vt.swipeEnd)(o,ze(ze(ze({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Ze(Je(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Ze(Je(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Ze(Je(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Ze(Je(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Ze(Je(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Vt.canGoNext)(ze(ze({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Ze(Je(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Ze(Je(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Ze(Je(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Ze(Je(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Ze(Je(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Ze(Je(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Ze(Je(i),"render",function(){var o=(0,s7.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ze(ze({},i.props),i.state),u=(0,Vt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=ze(ze({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Vt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=ze(ze({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=Hn.default.createElement(a7.Dots,h)}var E,T,_=(0,Vt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);_.clickHandler=i.changeSlide,i.props.arrows&&(E=Hn.default.createElement($S.PrevArrow,_),T=Hn.default.createElement($S.NextArrow,_));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var C=null;i.props.vertical===!1?i.props.centerMode===!0&&(C={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(C={padding:i.props.centerPadding+" 0px"});var v=ze(ze({},I),C),w=i.props.touchMove,P={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(P={className:"slick-list"},M={className:o,style:i.props.style}),Hn.default.createElement("div",M,i.props.unslick?"":E,Hn.default.createElement("div",mh({ref:i.listRefHandler},P),Hn.default.createElement(o7.Track,mh({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":T,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=ze(ze({},r7.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Hn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ze(ze({},i.state),s),i}return h7(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(Ao(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||Hn.default.Children.count(this.props.children)!==Hn.default.Children.count(i.children)}}]),n}(Hn.default.Component);var v7=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},x7=v7,b7=x7,_7=function(t){var e=/[height|width]$/;return e.test(t)},VS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=b7(r),_7(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},w7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=VS(n),r<t.length-1&&(e+=", ")}),e):VS(t)},S7=w7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(b),n=em,r=o(S7),i=o(eb),s=fe;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var x=arguments[g];for(var A in x)({}).hasOwnProperty.call(x,A)&&(p[A]=x[A])}return p},u.apply(null,arguments)}function c(p,g){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(p);g&&(A=A.filter(function(j){return Object.getOwnPropertyDescriptor(p,j).enumerable})),x.push.apply(x,A)}return x}function f(p){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?c(Object(x),!0).forEach(function(A){M(p,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):c(Object(x)).forEach(function(A){Object.defineProperty(p,A,Object.getOwnPropertyDescriptor(x,A))})}return p}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g){for(var x=0;x<g.length;x++){var A=g[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,N(A.key),A)}}function E(p,g,x){return g&&m(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function T(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&_(p,g)}function _(p,g){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,A){return x.__proto__=A,x},_(p,g)}function I(p){var g=w();return function(){var x,A=P(p);if(g){var j=P(this).constructor;x=Reflect.construct(A,arguments,j)}else x=A.apply(this,arguments);return C(this,x)}}function C(p,g){if(g&&(a(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(p)}function v(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function w(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!p})()}function P(p){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},P(p)}function M(p,g,x){return(g=N(g))in p?Object.defineProperty(p,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[g]=x,p}function N(p){var g=S(p,"string");return a(g)=="symbol"?g:g+""}function S(p,g){if(a(p)!="object"||!p)return p;var x=p[Symbol.toPrimitive];if(x!==void 0){var A=x.call(p,g);if(a(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}t.default=function(p){T(x,p);var g=I(x);function x(A){var j;return h(this,x),j=g.call(this,A),M(v(j),"innerSliderRefHandler",function(R){return j.innerSlider=R}),M(v(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(v(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(v(j),"slickGoTo",function(R){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(R,z)}),M(v(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(v(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return E(x,[{key:"media",value:function(j,R){var z=window.matchMedia(j),F=function(U){var L=U.matches;L&&R()};z.addListener(F),this._responsiveMediaHandlers.push({mql:z,query:j,listener:F})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var R=this.props.responsive.map(function(F){return F.breakpoint});R.sort(function(F,B){return F-B}),R.forEach(function(F,B){var U;B===0?U=(0,r.default)({minWidth:0,maxWidth:F}):U=(0,r.default)({minWidth:R[B-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&j.media(U,function(){j.setState({breakpoint:F})})});var z=(0,r.default)({minWidth:R.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(z,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){j.mql.removeListener(j.listener)})}},{key:"render",value:function(){var j=this,R,z;this.state.breakpoint?(z=this.props.responsive.filter(function(se){return se.breakpoint===j.state.breakpoint}),R=z[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),z[0].settings)):R=f(f({},i.default),this.props),R.centerMode&&(R.slidesToScroll>1,R.slidesToScroll=1),R.fade&&(R.slidesToShow>1,R.slidesToScroll>1,R.slidesToShow=1,R.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),R.variableWidth&&(R.rows>1||R.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),R.variableWidth=!1);for(var B=[],U=null,L=0;L<F.length;L+=R.rows*R.slidesPerRow){for(var V=[],H=L;H<L+R.rows*R.slidesPerRow;H+=R.slidesPerRow){for(var K=[],Q=H;Q<H+R.slidesPerRow&&(R.variableWidth&&F[Q].props.style&&(U=F[Q].props.style.width),!(Q>=F.length));Q+=1)K.push(e.default.cloneElement(F[Q],{key:100*L+10*H+Q,tabIndex:-1,style:{width:"".concat(100/R.slidesPerRow,"%"),display:"inline-block"}}));V.push(e.default.createElement("div",{key:10*L+H},K))}R.variableWidth?B.push(e.default.createElement("div",{key:L,style:{width:U}},V)):B.push(e.default.createElement("div",{key:L},V))}if(R==="unslick"){var Y="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Y},F)}else B.length<=R.slidesToShow&&(R.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(R)),B)}}]),x}(e.default.Component)})(x2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(x2);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(v2);const sf=yh(v2);function J2({onClick:t}){return l.jsx(go,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:96,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const E7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}];function T7(){const t=typeof window<"u"&&window.innerWidth<=600,e={dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!1,variableWidth:!1}}]};return l.jsx("div",{style:{maxWidth:900,margin:"0 auto",padding:t?"12px 0":"32px 0"},children:l.jsx(sf,{...e,children:E7.map((n,r)=>l.jsxs("div",{style:{padding:t?12:24,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #c7d2fe22",margin:t?"0 2px":"0 8px",minHeight:t?120:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:t?15:18,fontWeight:600,color:"#2d3748",marginBottom:8},children:n.name}),l.jsx("div",{style:{fontSize:t?12:15,color:"#6366f1",marginBottom:8},children:n.city}),l.jsxs("div",{style:{fontSize:t?13:16,color:"#222",fontStyle:"italic"},children:["",n.text,""]})]},r))})})}if(typeof document<"u"){const t=document.getElementById("mission-shine-style");t&&t.remove();const e=document.createElement("style");e.id="mission-shine-style",e.innerHTML=`
  .top-shine-effect-global {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: linear-gradient(120deg, transparent 48%, rgba(255,255,255,0.005) 49%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.005) 51%, transparent 52%);
    filter: blur(6px) brightness(1.01);
    animation: shine-move-top 3.5s linear infinite;
    opacity: 0.012;
    z-index: 1000;
  }
  .top-shine-effect {
    position: absolute;
    top: 0; left: 0;
    width: 220%;
    height: 100%;
    pointer-events: none;
  background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.09) 49%, rgba(255,255,255,0.13) 50%, rgba(255,255,255,0.09) 51%, transparent 60%);
  filter: blur(3.5px) brightness(1.05);
  animation: shine-move-top 3.5s linear infinite;
  opacity: 0.13;
    z-index: 1000;
  }
  @keyframes shine-move-top {
    0% { transform: translateX(-60%); opacity: 0; }
    10% { opacity: 0.7; }
    50% { opacity: 0.95; }
    100% { transform: translateX(60%); opacity: 0; }
  }
  .mission-shine-text {
    position: relative;
    text-align: right;
    color: #fff;
    font-size: 2.1rem;
    font-weight: 700;
    font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
    overflow: visible;
    line-height: 1.2;
  }
  @media (max-width: 900px) {
    .mission-shine-text {
      font-size: 2.1rem !important;
      max-width: 540px !important;
      line-height: 1.2 !important;
      text-align: right !important;
      margin: 0 !important;
      display: inline !important;
      padding: 0 2vw !important;
      white-space: normal !important;
      overflow: visible !important;
      text-overflow: unset !important;
    }
    @media (max-width: 900px) {
      .mission-shine-text {
        font-size: 1.1rem !important;
        max-width: 100vw !important;
        line-height: 1.25 !important;
        padding: 0 0.5vw 0 0 !important;
        margin: 0 !important;
        text-align: right !important;
        display: block !important;
      }
      .top-shine-effect-container {
        min-height: 180px;
      }
      .top-shine-effect-container > .MuiBox-root {
        margin-left: 2vw !important;
      }
      .top-shine-effect-container > .MuiBox-root:last-child {
        margin-left: 2vw !important;
      }
    }
    .top-shine-effect-container {
      min-height: 180px;
    }
  }
  `,document.head.appendChild(e)}typeof document<"u"&&(document.body.style.background="linear-gradient(135deg, #009688 0%, #00695c 100%)");function C7(){var g,x;const[t,e]=b.useState([]),[n,r]=b.useState(0),[i,s]=b.useState(!0),o=700,a=1800,u=t.filter(A=>{var R,z;const j=(A.name||"").toLowerCase();return!!(j.includes("paracetamol")||j.includes("shalartem")||j.includes("gestid")&&((R=A.image)!=null&&R.toLowerCase().includes("trans")||(z=A.image)!=null&&z.toLowerCase().includes("clear")))});b.useEffect(()=>{if(!u.length)return;s(!0);const A=setTimeout(()=>{s(!1),setTimeout(()=>{r(j=>(j+1)%u.length),s(!0)},o)},a);return()=>clearTimeout(A)},[n,u.length]),b.useEffect(()=>{const A=It(ke(Z,"products"),j=>{const R=j.docs.map(z=>({id:z.id,...z.data()}));e(R)});return()=>A()},[]);const c={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},f={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[h,m]=b.useState([]),[E,T]=b.useState([]),_=E;b.useEffect(()=>{const A=It(ke(Z,"users"),j=>{const R=[],z=new Set;j.docs.forEach(F=>{const B=F.data();B.businessSlug&&!z.has(B.businessSlug)&&(R.push({name:B.businessName||B.businessSlug,img:B.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:B.rating||4.5,slug:B.businessSlug}),z.add(B.businessSlug))}),T(R)});return()=>A()},[]);const I={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},[C,v]=b.useState(null),[w,P]=b.useState(""),[M,N]=b.useState(""),S=Sr();b.useEffect(()=>{const A=It(ke(Z,"products"),j=>{const R=new Set;j.docs.forEach(z=>{const F=z.data().class;F&&typeof F=="string"&&F.trim()&&R.add(F.trim())}),m(Array.from(R).sort())});return()=>A()},[]),b.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(A=>{const j={lat:A.coords.latitude,lng:A.coords.longitude};v(j),localStorage.setItem("customerLocation",JSON.stringify(j))},A=>{P("Location access denied. Please enable location services.")})},[]);const p=A=>{A.preventDefault(),M.trim()?S(`/shop?search=${encodeURIComponent(M.trim())}`):S("/shop")};return l.jsxs(s8,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0,background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:[l.jsxs(Mc,{elevation:3,sx:{p:0,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"#fff",boxShadow:3,position:"relative",overflow:"hidden"},children:[l.jsx("div",{className:"top-shine-effect-global"}),l.jsx(Xt,{sx:{minHeight:120,display:"flex",alignItems:"center",justifyContent:"center",mb:2,borderTopLeftRadius:16,borderTopRightRadius:16,p:{xs:2,md:5},pb:0,boxShadow:"none",background:"linear-gradient(135deg, #009688 0%, #00695c 100%)"},children:l.jsxs(Xt,{className:"top-shine-effect-container",sx:{width:"100%",minHeight:{xs:180,sm:220,md:330},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",pl:0,ml:{xs:0,sm:"-20px",md:"-40px"},overflow:"visible",flexWrap:"nowrap",gap:{xs:1,sm:2,md:4}},children:[l.jsx("div",{className:"top-shine-effect"}),u.length>0&&l.jsx(a2,{in:i,timeout:o,children:l.jsx("img",{src:((g=u[n])==null?void 0:g.image)||"/default-medicine.png",alt:((x=u[n])==null?void 0:x.name)||"Medicine",style:{width:"min(28vw, 220px)",height:"min(28vw, 220px)",minWidth:90,minHeight:90,maxWidth:220,maxHeight:220,objectFit:"contain",border:"none",background:"none",boxShadow:"none",display:"block",marginLeft:0,zIndex:101,flexShrink:0}})},n),l.jsx(Xt,{sx:{flex:1,ml:{xs:1,sm:2,md:4},display:"flex",alignItems:"center",height:"100%",zIndex:101,minWidth:0,maxWidth:{xs:"calc(100vw - 110px)",sm:540}},children:l.jsx("span",{className:"mission-shine-text",style:{fontFamily:"Montserrat, Inter, Segoe UI, Arial, sans-serif",fontWeight:700,color:"#fff",textAlign:"right",letterSpacing:.5,lineHeight:1.2,display:"inline-block",maxWidth:540,width:"100%",position:"relative",overflow:"visible",background:"none",margin:0,padding:0,boxShadow:"none",borderRadius:0,fontSize:"clamp(1.05rem, 2.1vw + 0.7rem, 2.1rem)",wordBreak:"break-word",whiteSpace:"normal"},children:"ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."})})]})}),l.jsxs(Xt,{component:"form",onSubmit:p,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1.2,mt:2,mb:1},children:[l.jsx(lr,{variant:"outlined",placeholder:"Search drugs...",value:M,onChange:A=>N(A.target.value),sx:{width:{xs:140,sm:180,md:260},background:"#f8fafc",borderRadius:99,"& .MuiOutlinedInput-root":{borderRadius:99,height:{xs:28,sm:32,md:38},fontSize:{xs:13,sm:14,md:15},paddingRight:0,background:"#f8fafc",boxShadow:"none"},"& input":{padding:{xs:"4px 10px",sm:"6px 12px",md:"8px 14px"},fontWeight:400,background:"transparent"},boxShadow:"none",border:"none"},size:"small",InputProps:{style:{borderRadius:99,height:28,fontSize:13,background:"#f8fafc",boxShadow:"none"}}}),l.jsx(go,{type:"submit",variant:"contained",color:"primary",size:"small",sx:{px:2.5,py:.5,borderRadius:99,fontWeight:500,fontSize:15,boxShadow:"none",minWidth:0,textTransform:"none",background:"linear-gradient(90deg, #009688 60%, #00796b 100%)","&:hover":{background:"linear-gradient(90deg, #00796b 60%, #009688 100%)",boxShadow:"none"}},children:"Search"})]}),l.jsx(Xt,{sx:{my:1,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3,position:"relative"},children:C?l.jsxs(Ct,{sx:{color:"#fff",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:400,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,userSelect:"all",fontFamily:"inherit"},children:[C.lat.toFixed(4),", ",C.lng.toFixed(4)]}):l.jsx(Ct,{sx:{color:"#fff",fontSize:{xs:"0.72rem",sm:"0.85rem",md:"1.01rem"},fontWeight:400,letterSpacing:.2,textAlign:"center",background:"none",px:.5,py:0,borderRadius:1,fontFamily:"inherit"},children:w||"Detecting location..."})}),l.jsx(Xt,{sx:{width:"100%",lineHeight:0,position:"relative",top:0,zIndex:2,m:0,p:0},children:l.jsx("svg",{viewBox:"0 0 1440 120",width:"100%",height:"80",preserveAspectRatio:"none",style:{display:"block",margin:0,padding:0},children:l.jsx("path",{d:"M0,80 Q180,100 360,80 T720,80 T1080,80 T1440,80 L1440,120 L0,120 Z",fill:"#fff"})})}),l.jsx(Xt,{sx:{mb:3,background:"#fff",borderBottomLeftRadius:16,borderBottomRightRadius:16,minHeight:220,px:1,py:2,pt:4},children:t.length===0?null:l.jsx(sf,{...c,children:t.map((A,j)=>l.jsx(Xt,{sx:{px:1},children:l.jsxs(tf,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(CS,{component:"img",image:A.image||"/default-medicine.png",alt:A.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(nf,{sx:{p:0},children:l.jsx(Ct,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:A.name||"Unnamed"})})]})},A.id||j))})}),l.jsx(Ct,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(Xt,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(sf,{...f,children:h.map(A=>{const j=t.find(R=>R.class&&R.class.trim()===A);return l.jsx(Xt,{children:l.jsxs(tf,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>S(`/shop?category=${encodeURIComponent(A)}`),children:[j&&l.jsx(Xt,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:j.image||"/default-medicine.png",alt:j.name||A,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(nf,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(Ct,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:A})})]})},A)})})}),l.jsx(Ct,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(Xt,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:_.length===0?null:l.jsx(sf,{...I,children:_.map(A=>l.jsx(Xt,{sx:{px:1},children:l.jsxs(tf,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>S(`/store/${A.slug}`),children:[l.jsx(CS,{component:"img",height:"80",image:A.img,alt:A.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(nf,{sx:{textAlign:"center",pb:2},children:[l.jsx(Ct,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:A.name}),l.jsxs(Ct,{variant:"body2",color:"text.secondary",children:[" ",A.rating]}),l.jsx(go,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:j=>{j.stopPropagation(),S(`/store/${A.slug}`)},children:"Shop Now"})]})]})},A.slug))})}),l.jsx(go,{component:$h,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:" Find a pharmacy store near you"})]}),l.jsx(T7,{}),l.jsx(J2,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")})]})}const I7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Dn(){return typeof window<"u"&&window.innerWidth<=600}function R7(){const[t,e]=b.useState(!1),{slug:n}=lc(),[r,i]=b.useState(null),[s,o]=b.useState([]),[a,u]=b.useState([]),[c,f]=b.useState(""),[h,m]=b.useState(null),[E,T]=b.useState(null),[_,I]=b.useState(""),[C,v]=b.useState(!0),[w,P]=b.useState(typeof window<"u"?window.innerWidth:1200),M=Br(),N=(g,x,A,j)=>{const R=V=>V*Math.PI/180,F=R(A-g),B=R(j-x),U=Math.sin(F/2)**2+Math.cos(R(g))*Math.cos(R(A))*Math.sin(B/2)**2;return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},S=g=>{const j=g*1.64,R=Math.max(1,Math.round(j/25*60));return{drivingKm:j,minutes:R}};b.useEffect(()=>{if(!navigator.geolocation){T("denied");return}navigator.geolocation.getCurrentPosition(g=>{const x={lat:g.coords.latitude,lng:g.coords.longitude};T(x);const A=M.currentUser;if(A){const j=Ce(Z,"users",A.uid);dn(j).then(R=>{const z=R.data();z&&z.role==="customer"&&br(j,{lat:x.lat,lng:x.lng},{merge:!0})})}},()=>T("denied"))},[M]),b.useEffect(()=>{const g=ri(M,x=>{i(x)});return()=>g()},[M]),b.useEffect(()=>{v(!0);const g=It(ke(Z,"products"),async x=>{const j=(await Promise.all(x.docs.map(async R=>{var F,B;const z={id:R.id,...R.data()};if(z.ownerId){const U=Ce(Z,"users",z.ownerId),L=await dn(U);if(L.exists()){const V=L.data();z.businessName=V.businessName||"Unknown Pharmacy",z.ownerSlug=V.slug||null,z.ownerRole=V.role||null,(F=V.location)!=null&&F.latitude&&((B=V.location)!=null&&B.longitude)&&(z.businessLat=V.location.latitude,z.businessLng=V.location.longitude),z.businessState=V.businessState||V.state||""}}return z}))).filter(R=>R.ownerRole!=="distributor");o(j),v(!1)});return()=>g()},[]),b.useEffect(()=>{const g=()=>P(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),b.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(L=>L.ownerSlug===n):s;_&&(g=g.filter(L=>L.businessState===_));const x={};for(const L of g){const V=(L.normalizedName||L.name||"").toLowerCase().trim();x[V]||(x[V]=[]),x[V].push(L)}const A=Object.values(x).map(L=>(E&&E!=="denied"&&(L=L.map(V=>{if(V.businessLat&&V.businessLng){const H=N(E.lat,E.lng,V.businessLat,V.businessLng),{minutes:K}=S(H);return{...V,minutesAway:K}}return{...V,minutesAway:1/0}}),L.sort((V,H)=>V.minutesAway-H.minutesAway)),L)).flat(),j=(L="")=>L.toLowerCase().trim().replace(/\s+/g," "),R={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},z=j(c),F=(R[z]||z).split(" "),B=(L,V)=>L.includes(V)||V.length>3&&L.startsWith(V.slice(0,3))||V.length>3&&L.endsWith(V.slice(-3)),U=A.filter(L=>{const V=j(L.name),H=j(L.ingredient),K=j(L.class);return F.some(Q=>V.includes(Q)||H.includes(Q)||K.includes(Q)||B(V,Q)||B(H,Q)||B(K,Q))});u(U)},[s,E,c,n]);const p=async g=>{if(!r)return alert("Please log in first");let x={...g};if((!x.businessPhone||!x.businessWhatsapp)&&x.ownerId)try{const F=Ce(Z,"users",x.ownerId),B=await dn(F);if(B.exists()){const U=B.data();x.businessPhone=U.businessPhone||"",x.businessWhatsapp=U.businessWhatsapp||""}}catch{}const A=Ce(Z,"carts",r.uid),j=await dn(A);let R=j.exists()?j.data().items||[]:[];const z=R.findIndex(F=>F.name===x.name);z>=0?R[z].quantity+=1:R.push({...x,quantity:1}),await br(A,{items:R}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:Dn()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:Dn()?22:32,marginBottom:8,letterSpacing:1},children:[" ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Dn()?8:16,margin:Dn()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:Dn()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:Dn()?"8px":"12px",width:"100%",maxWidth:Dn()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:Dn()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:_,onChange:g=>I(g.target.value),style:{padding:Dn()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:Dn()?15:17,minWidth:Dn()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),I7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),C?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:w<=420?"repeat(3, 1fr)":w<=800?"repeat(2, 1fr)":"repeat(auto-fill, minmax(260px, 1fr))",gap:w<=420?8:w<=800?14:28,marginTop:18,alignItems:"start"},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:w<=420?"8px 6px":w<=800?"12px 10px":"18px 16px",borderRadius:"12px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:w<=420?"140px":w<=800?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:x=>{Dn()||(x.currentTarget.style.boxShadow="0 8px 32px #6366f133",x.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:x=>{Dn()||(x.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",x.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:w<=420?70:w<=800?110:150,objectFit:"cover",borderRadius:"8px",marginBottom:w<=420?6:10,background:"#f4f6fb"},onError:x=>{x.target.onerror=null,x.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Dn()?90:150,borderRadius:10,marginBottom:Dn()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:Dn()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:w<=420?12:w<=800?15:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:w<=420?10:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:w<=420?9:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:w<=420?11:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:[" ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>p(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:x=>x.currentTarget.style.background="#4f46e5",onMouseLeave:x=>x.currentTarget.style.background="#6366f1",disabled:typeof p!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?" Right here":` ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function Z2(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState(0),[o,a]=b.useState(!1),[u,c]=b.useState({}),[f,h]=b.useState([]),[m,E]=b.useState(null),T=Br(),_=Sr();b.useEffect(()=>{t&&dn(Ce(Z,"users",t.uid)).then(N=>{N.exists()&&E(N.data())})},[t]),b.useEffect(()=>{const N=Array.from(new Set(n.filter(S=>S.registeredOnly&&S.ownerId).map(S=>S.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const S of f)await br(Ce(Z,"businessRegistrations",`${S}_${t.uid}`),{distributorId:S,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===S),status:"pending",date:new Date().toISOString()});Se.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};b.useEffect(()=>ri(T,S=>{e(S),S&&C(S.uid)}),[T]);const C=async N=>{try{const S=Ce(Z,"carts",N),p=await dn(S);p.exists()?r(p.data().items||[]):r([])}catch(S){console.error("Error loading cart:",S)}},v=async(N,S)=>{try{await br(Ce(Z,"carts",N),{items:S})}catch(p){console.error("Error saving cart:",p)}};b.useEffect(()=>{const N=n.reduce((S,p)=>S+p.price*(p.quantity||1),0);s(N)},[n]);const w=N=>{if(!t)return Se.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N.name);p>=0?S[p].quantity+=1:S.push({...N,quantity:1}),r(S),v(t.uid,S)},P=N=>{if(!t)return Se.error("Please login first");const S=[...n],p=S.findIndex(g=>g.name===N);p>=0&&(S[p].quantity>1?S[p].quantity-=1:S.splice(p,1)),r(S),v(t.uid,S)},M=()=>{if(!t)return Se.error("Please login to proceed to payment");if(n.length===0)return Se.info("Cart is empty");_("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,S)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",S+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,S)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>w(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>P(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},S)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,S)=>N+(S.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:M,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const k7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function P7(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState("Pending"),[o,a]=b.useState({}),u=Br();if(b.useEffect(()=>{const T=ri(u,_=>{if(e(_),_){const I=vr(ke(Z,"orders"),xr("userId","==",_.uid)),C=It(I,v=>{const w=v.docs.map(P=>({id:P.id,...P.data()}));w.sort((P,M)=>new Date(M.date)-new Date(P.date)),r(w)});return()=>C()}});return()=>T()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async T=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=Ce(Z,"orders",T);await en(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=T=>{a(_=>({..._,[T]:!_[T]}))},h=T=>T.reduce((_,I)=>_+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],E=m.reduce((T,_)=>(_==="Processing"?T[_]=n.filter(I=>{const C=I.status||"Pending";return C==="Processing"||C==="In-Progress"}):T[_]=n.filter(I=>(I.status||"Pending")===_),T),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(T=>{var _;return l.jsxs("button",{onClick:()=>s(T),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===T?"#007bff":"#eee",color:i===T?"#fff":"#000",fontWeight:i===T?"bold":"normal"},children:[T," (",((_=E[T])==null?void 0:_.length)||0,")"]},T)})}),E[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):E[i].map(T=>{var _;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",k7(T.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),T.items&&T.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(T.items.reduce((I,C)=>{const v=C.businessName||"Unknown",w=C.businessPhone||C.phoneNumber||"N/A",P=C.businessWhatsapp||C.whatsappNumber||"N/A";return I.set(v+"__"+w+"__"+P,{name:v,phone:w,whatsapp:P}),I},new Map).values()).map(({name:I,phone:C,whatsapp:v})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",C&&C!=="N/A"?l.jsxs("a",{href:`tel:${C}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:C}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",v&&v!=="N/A"?l.jsxs("a",{href:`https://wa.me/${v.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:v}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+C+v))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId||"Not assigned",(T.assignedAgentName||T.riderName||T.riderId||T.assignedAgentId)&&(T.agentPhoneNumber||T.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",T.agentPhoneNumber?l.jsxs("a",{href:`tel:${T.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",T.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${T.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(T.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[T.id]?"#ede9fe":"#7c3aed",color:o[T.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[T.id]?"0 2px 8px #ede9fe":"none"},children:o[T.id]?"Hide Items":"View Items"}),o[T.id]&&((_=T.items)==null?void 0:_.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:T.items.map((I,C)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,onError:v=>{v.target.onerror=null,v.target.src="/pharmastack-logo.png"},alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},C))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(T.items||[])]}),(T.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(T.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},T.id)})]})}const A7="modulepreload",j7=function(t){return"/"+t},zS={},ja=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=j7(u),u in zS)return;zS[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":A7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,E)=>{h.addEventListener("load",m),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},O7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function N7(){const t=Sr(),[e,n]=b.useState(null),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,u]=b.useState(""),[c,f]=b.useState(""),[h,m]=b.useState(""),[E,T]=b.useState(""),[_,I]=b.useState(""),[C,v]=b.useState(!1),[w,P]=b.useState(!1),[M,N]=b.useState(!1),[S,p]=b.useState({}),[g,x]=b.useState(!1),A={},[j,R]=b.useState(""),[z,F]=b.useState(""),[B,U]=b.useState(""),[L,V]=b.useState(""),[H,K]=b.useState(""),[Q,Y]=b.useState(""),[se,ce]=b.useState(""),[ye,q]=b.useState(""),[ne,W]=b.useState(""),[le,ee]=b.useState(""),[re,he]=b.useState(""),[me,ve]=b.useState(""),[be,Ye]=b.useState(null),[_e,Ve]=b.useState(!1),[Ae,Qe]=b.useState(null),[it,ut]=b.useState(!1),[Le,yt]=b.useState(""),[Re,We]=b.useState("");pe.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const De=async()=>{try{if(!ye||!ne){alert("Please provide distributor name and license number.");return}const J=await captureDistributorLocation();if(!J){alert(" Location required to complete distributor signup.");return}const O=(await Jl(io,r,s)).user,te=await bt(ye),ue={email:O.email,role:"distributor",businessName:ye,licenseNumber:ne,location:J,slug:te,businessSlug:te,createdAt:new Date().toISOString()};await kt(O.uid,ue),n({...O,...ue}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${te}`),P(!1),q(""),W(""),Ye(null)}catch(J){console.error("Distributor signup error:",J),alert(J.message||"Distributor signup failed")}},Ee=J=>J.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),bt=async J=>{let $e=Ee(J);const O=ke(Z,"users");let te=$e,ue=1;for(;;){const Fe=vr(O,xr("slug","==",te));if((await tn(Fe)).empty)break;te=`${$e}${ue++}`}return te},kt=async(J,$e)=>{console.log("Writing user doc for:",J,$e),await br(Ce(Z,"users",J),$e)},Xe=async()=>{try{if(!B||!L||!H){alert("Please provide address, state, and city.");return}const $e=(await Jl(io,r,s)).user,O={email:$e.email,role:"customer",address:B,state:L,city:H,landmark:Q,createdAt:new Date().toISOString()};await kt($e.uid,O),n({...$e,...O}),alert(" Customer signup successful!")}catch(J){console.error("Customer signup error:",J),alert(J.message)}},we=async()=>navigator.geolocation?(ut(!0),new Promise((J,$e)=>{navigator.geolocation.getCurrentPosition(O=>{const te={latitude:O.coords.latitude,longitude:O.coords.longitude};Qe(te),ut(!1),J(te)},O=>{ut(!1),alert(" Location access denied or unavailable."),$e(O)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),tt=async()=>{try{if(!a||!se||!c){alert("Please provide business name, address, and license number.");return}const J=await we();if(!J){alert(" Location required to complete business signup.");return}const O=(await Jl(io,r,s)).user;console.log("Business user created:",O.uid);const te=await bt(a);console.log("Generated unique slug:",te);const ue={email:O.email,role:"medicine-manager",businessName:a,address:c,city:E,state:h,landmark:_,licenseNumber:se,location:J,lat:J.latitude,lng:J.longitude,slug:te,businessSlug:te,businessPhone:Le,businessWhatsapp:Re,createdAt:new Date().toISOString()};await kt(O.uid,ue),console.log("Firestore user record created for business:",ue),n({...O,...ue}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${te}`),v(!1),u(""),f(""),ce(""),Qe(null)}catch(J){console.error("Business signup error:",J),alert(J.message||"Business signup failed")}},qe=async()=>{try{const $e=(await UR(io,r,s)).user,O=await dn(Ce(Z,"users",$e.uid));O.exists()?(n({...$e,...O.data()}),O.data().role==="delivery-agent"&&O.data().slug&&t(`/agent/${O.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...$e}))}catch(J){console.error("Login error:",J),alert(J.message||"Login failed")}},Tr=async()=>{await qR(io),n(null)},os=async()=>{try{x(!0);const J=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const _t of J)if(!S[_t]){alert(`Please fill the ${_t} field.`),x(!1);return}const O=(await Jl(io,S.email,s)).user,te=await bt(S.companyName),ue={...S,role:"delivery-agent",slug:te,createdAt:new Date().toISOString()};await kt(O.uid,ue);const Fe={companyName:S.companyName,phoneNumber:S.phoneNumber,whatsappNumber:S.whatsappNumber,rcNumber:S.rcNumber,businessAddress:S.businessAddress,email:S.email,coverageArea:S.coverageArea,operatingHours:S.operatingHours,logoUrl:S.logoUrl,state:S.state,city:S.city,landmark:S.landmark,userId:O.uid,createdAt:new Date().toISOString(),slug:te},{addDoc:st,collection:nt}=await ja(async()=>{const{addDoc:_t,collection:je}=await Promise.resolve().then(()=>lx);return{addDoc:_t,collection:je}},void 0);await st(nt(Z,"deliveryAgents"),Fe),n({...O,...ue}),alert(" Delivery agent signup successful!"),N(!1),p(A)}catch(J){console.error("Delivery agent signup error:",J),alert(J.message||"Delivery agent signup failed")}finally{x(!1)}},[Ys,Cr]=b.useState(!1),[ii,Ir]=b.useState("customer"),as=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:Tr,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Ys?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:ii,onChange:J=>Ir(J.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:as.map(J=>l.jsx("option",{value:J.key,children:J.label},J.key))})}),ii==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:j,onChange:J=>R(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:z,onChange:J=>F(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:B,onChange:J=>U(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:L,onChange:J=>V(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:H,onChange:J=>K(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:Q,onChange:J=>Y(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Xe,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>Cr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),ii==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:J=>u(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:J=>f(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:se,onChange:J=>ce(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:J=>m(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),O7.map(J=>l.jsx("option",{value:J,children:J},J))]}),l.jsx("input",{type:"text",placeholder:"City",value:E,onChange:J=>T(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:_,onChange:J=>I(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:Le,onChange:J=>yt(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:Re,onChange:J=>We(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:tt,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:it,children:it?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>Cr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),Ae&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",Ae.latitude.toFixed(5),", ",Ae.longitude.toFixed(5)]})]}),ii==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:ye,onChange:J=>q(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:ne,onChange:J=>W(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:le,onChange:J=>ee(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:re,onChange:J=>he(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:me,onChange:J=>ve(J.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:De,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:_e,children:_e?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>Cr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),be&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",be.latitude.toFixed(5),", ",be.longitude.toFixed(5)]})]}),ii==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:S.companyName,onChange:J=>p($e=>({...$e,companyName:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:S.phoneNumber,onChange:J=>p($e=>({...$e,phoneNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:S.whatsappNumber,onChange:J=>p($e=>({...$e,whatsappNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:S.rcNumber,onChange:J=>p($e=>({...$e,rcNumber:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:S.businessAddress,onChange:J=>p($e=>({...$e,businessAddress:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:S.state,onChange:J=>p($e=>({...$e,state:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:S.city,onChange:J=>p($e=>({...$e,city:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:S.landmark,onChange:J=>p($e=>({...$e,landmark:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:S.coverageArea,onChange:J=>p($e=>({...$e,coverageArea:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:S.operatingHours,onChange:J=>p($e=>({...$e,operatingHours:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:S.logoUrl,onChange:J=>p($e=>({...$e,logoUrl:J.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:S.email,onChange:J=>p($e=>({...$e,email:J.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:os,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:g,children:g?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>Cr(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:J=>i(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>o(J.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:qe,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>Cr(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var eP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Bl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(g){var x=M(g);x.chunkSize=parseInt(x.chunkSize),g.step||g.chunk||(x.chunkSize=null),this._handle=new _(x),(this._handle.streamer=this)._config=x}).call(this,p),this.parseChunk=function(g,x){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let R=this._config.newline;R||(j=this._config.quoteChar||'"',R=this._handle.guessLineEndings(g,j)),g=[...g.split(R).slice(A)].join(R)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(g))!==void 0&&(g=j),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+g,j=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=j.meta.cursor,A=(this._finished||(this._partialLine=A.substring(g-this._baseIndex),this._baseIndex=g),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:j,workerId:c.WORKER_ID,finished:A});else if(S(this._config.chunk)&&!x){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!A||!S(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(g){S(this._config.error)?this._config.error(g):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:g,finished:!1})}}function h(p){var g;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var x,A=this._config.downloadRequestHeaders;for(x in A)g.setRequestHeader(x,A[x])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+j));try{g.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(x){x=g.statusText||x,this._sendError(new Error(x))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var g,x,A=typeof FileReader<"u";this.stream=function(j){this._input=j,x=j.slice||j.webkitSlice||j.mozSlice,A?((g=new FileReader).onload=N(this._chunkLoaded,this),g.onerror=N(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),j=x.call(j,this._start,R)),g.readAsText(j,this._config.encoding));A||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(g.error)}}function E(p){var g;f.call(this,p=p||{}),this.stream=function(x){return g=x,this._nextChunk()},this._nextChunk=function(){var x,A;if(!this._finished)return x=this._config.chunkSize,g=x?(A=g.substring(0,x),g.substring(x)):(A=g,""),this._finished=!g,this.parseChunk(A)}}function T(p){f.call(this,p=p||{});var g=[],x=!0,A=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):x=!0},this._streamData=N(function(j){try{g.push(typeof j=="string"?j:j.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(R){this._streamError(R)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(p){var g,x,A,j,R=Math.pow(2,53),z=-R,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,L=0,V=0,H=!1,K=!1,Q=[],Y={data:[],errors:[],meta:{}};function se(ne){return p.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function ce(){if(Y&&A&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),A=!1),p.skipEmptyLines&&(Y.data=Y.data.filter(function(re){return!se(re)})),ye()){let re=function(he,me){S(p.transformHeader)&&(he=p.transformHeader(he,me)),Q.push(he)};var ee=re;if(Y)if(Array.isArray(Y.data[0])){for(var ne=0;ye()&&ne<Y.data.length;ne++)Y.data[ne].forEach(re);Y.data.splice(0,1)}else Y.data.forEach(re)}function W(re,he){for(var me=p.header?{}:[],ve=0;ve<re.length;ve++){var be=ve,Ye=re[ve],Ye=((_e,Ve)=>(Ae=>(p.dynamicTypingFunction&&p.dynamicTyping[Ae]===void 0&&(p.dynamicTyping[Ae]=p.dynamicTypingFunction(Ae)),(p.dynamicTyping[Ae]||p.dynamicTyping)===!0))(_e)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((Ae=>{if(F.test(Ae)&&(Ae=parseFloat(Ae),z<Ae&&Ae<R))return 1})(Ve)?parseFloat(Ve):B.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(be=p.header?ve>=Q.length?"__parsed_extra":Q[ve]:be,Ye=p.transform?p.transform(Ye,be):Ye);be==="__parsed_extra"?(me[be]=me[be]||[],me[be].push(Ye)):me[be]=Ye}return p.header&&(ve>Q.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+ve,V+he):ve<Q.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+ve,V+he)),me}var le;Y&&(p.header||p.dynamicTyping||p.transform)&&(le=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(W),le=Y.data.length):Y.data=W(Y.data,0),p.header&&Y.meta&&(Y.meta.fields=Q),V+=le)}function ye(){return p.header&&Q.length===0}function q(ne,W,le,ee){ne={type:ne,code:W,message:le},ee!==void 0&&(ne.row=ee),Y.errors.push(ne)}S(p.step)&&(j=p.step,p.step=function(ne){Y=ne,ye()?ce():(ce(),Y.data.length!==0&&(L+=ne.data.length,p.preview&&L>p.preview?x.abort():(Y.data=Y.data[0],j(Y,U))))}),this.parse=function(ne,W,le){var ee=p.quoteChar||'"',ee=(p.newline||(p.newline=this.guessLineEndings(ne,ee)),A=!1,p.delimiter?S(p.delimiter)&&(p.delimiter=p.delimiter(ne),Y.meta.delimiter=p.delimiter):((ee=((re,he,me,ve,be)=>{var Ye,_e,Ve,Ae;be=be||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Qe=0;Qe<be.length;Qe++){for(var it,ut=be[Qe],Le=0,yt=0,Re=0,We=(Ve=void 0,new C({comments:ve,delimiter:ut,newline:he,preview:10}).parse(re)),De=0;De<We.data.length;De++)me&&se(We.data[De])?Re++:(it=We.data[De].length,yt+=it,Ve===void 0?Ve=it:0<it&&(Le+=Math.abs(it-Ve),Ve=it));0<We.data.length&&(yt/=We.data.length-Re),(_e===void 0||Le<=_e)&&(Ae===void 0||Ae<yt)&&1.99<yt&&(_e=Le,Ye=ut,Ae=yt)}return{successful:!!(p.delimiter=Ye),bestDelimiter:Ye}})(ne,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=ee.bestDelimiter:(A=!0,p.delimiter=c.DefaultDelimiter),Y.meta.delimiter=p.delimiter),M(p));return p.preview&&p.header&&ee.preview++,g=ne,x=new C(ee),Y=x.parse(g,W,le),ce(),H?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,x.abort(),g=S(p.chunk)?"":g.substring(x.getCharIndex())},this.resume=function(){U.streamer._halted?(H=!1,U.streamer.parseChunk(g,!0)):setTimeout(U.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,x.abort(),Y.meta.aborted=!0,S(p.complete)&&p.complete(Y),g=""},this.guessLineEndings=function(re,ee){re=re.substring(0,1048576);var ee=new RegExp(I(ee)+"([^]*?)"+I(ee),"gm"),le=(re=re.replace(ee,"")).split("\r"),ee=re.split(`
`),re=1<ee.length&&ee[0].length<le[0].length;if(le.length===1||re)return`
`;for(var he=0,me=0;me<le.length;me++)le[me][0]===`
`&&he++;return he>=le.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(p){var g=(p=p||{}).delimiter,x=p.newline,A=p.comments,j=p.step,R=p.preview,z=p.fastMode,F=null,B=!1,U=p.quoteChar==null?'"':p.quoteChar,L=U;if(p.escapeChar!==void 0&&(L=p.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),A===g)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var V=0,H=!1;this.parse=function(K,Q,Y){if(typeof K!="string")throw new Error("Input must be a string");var se=K.length,ce=g.length,ye=x.length,q=A.length,ne=S(j),W=[],le=[],ee=[],re=V=0;if(!K)return Le();if(z||z!==!1&&K.indexOf(U)===-1){for(var he=K.split(x),me=0;me<he.length;me++){if(ee=he[me],V+=ee.length,me!==he.length-1)V+=x.length;else if(Y)return Le();if(!A||ee.substring(0,q)!==A){if(ne){if(W=[],Ae(ee.split(g)),yt(),H)return Le()}else Ae(ee.split(g));if(R&&R<=me)return W=W.slice(0,R),Le(!0)}}return Le()}for(var ve=K.indexOf(g,V),be=K.indexOf(x,V),Ye=new RegExp(I(L)+I(U),"g"),_e=K.indexOf(U,V);;)if(K[V]===U)for(_e=V,V++;;){if((_e=K.indexOf(U,_e+1))===-1)return Y||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:V}),it();if(_e===se-1)return it(K.substring(V,_e).replace(Ye,U));if(U===L&&K[_e+1]===L)_e++;else if(U===L||_e===0||K[_e-1]!==L){ve!==-1&&ve<_e+1&&(ve=K.indexOf(g,_e+1));var Ve=Qe((be=be!==-1&&be<_e+1?K.indexOf(x,_e+1):be)===-1?ve:Math.min(ve,be));if(K.substr(_e+1+Ve,ce)===g){ee.push(K.substring(V,_e).replace(Ye,U)),K[V=_e+1+Ve+ce]!==U&&(_e=K.indexOf(U,V)),ve=K.indexOf(g,V),be=K.indexOf(x,V);break}if(Ve=Qe(be),K.substring(_e+1+Ve,_e+1+Ve+ye)===x){if(ee.push(K.substring(V,_e).replace(Ye,U)),ut(_e+1+Ve+ye),ve=K.indexOf(g,V),_e=K.indexOf(U,V),ne&&(yt(),H))return Le();if(R&&W.length>=R)return Le(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:V}),_e++}}else if(A&&ee.length===0&&K.substring(V,V+q)===A){if(be===-1)return Le();V=be+ye,be=K.indexOf(x,V),ve=K.indexOf(g,V)}else if(ve!==-1&&(ve<be||be===-1))ee.push(K.substring(V,ve)),V=ve+ce,ve=K.indexOf(g,V);else{if(be===-1)break;if(ee.push(K.substring(V,be)),ut(be+ye),ne&&(yt(),H))return Le();if(R&&W.length>=R)return Le(!0)}return it();function Ae(Re){W.push(Re),re=V}function Qe(Re){var We=0;return We=Re!==-1&&(Re=K.substring(_e+1,Re))&&Re.trim()===""?Re.length:We}function it(Re){return Y||(Re===void 0&&(Re=K.substring(V)),ee.push(Re),V=se,Ae(ee),ne&&yt()),Le()}function ut(Re){V=Re,Ae(ee),ee=[],be=K.indexOf(x,V)}function Le(Re){if(p.header&&!Q&&W.length&&!B){var We=W[0],De=Object.create(null),Ee=new Set(We);let bt=!1;for(let kt=0;kt<We.length;kt++){let Xe=We[kt];if(De[Xe=S(p.transformHeader)?p.transformHeader(Xe,kt):Xe]){let we,tt=De[Xe];for(;we=Xe+"_"+tt,tt++,Ee.has(we););Ee.add(we),We[kt]=we,De[Xe]++,bt=!0,(F=F===null?{}:F)[we]=Xe}else De[Xe]=1,We[kt]=Xe;Ee.add(Xe)}bt&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:W,errors:le,meta:{delimiter:g,linebreak:x,aborted:H,truncated:!!Re,cursor:re+(Q||0),renamedHeaders:F}}}function yt(){j(Le()),W=[],le=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return V}}function v(p){var g=p.data,x=a[g.workerId],A=!1;if(g.error)x.userError(g.error,g.file);else if(g.results&&g.results.data){var j={abort:function(){A=!0,w(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(S(x.userStep)){for(var R=0;R<g.results.data.length&&(x.userStep({data:g.results.data[R],errors:g.results.errors,meta:g.results.meta},j),!A);R++);delete g.results}else S(x.userChunk)&&(x.userChunk(g.results,j,g.file),delete g.results)}g.finished&&!A&&w(g.workerId,g.results)}function w(p,g){var x=a[p];S(x.userComplete)&&x.userComplete(g),x.terminate(),delete a[p]}function P(){throw new Error("Not implemented.")}function M(p){if(typeof p!="object"||p===null)return p;var g,x=Array.isArray(p)?[]:{};for(g in p)x[g]=M(p[g]);return x}function N(p,g){return function(){p.apply(g,arguments)}}function S(p){return typeof p=="function"}return c.parse=function(p,g){var x=(g=g||{}).dynamicTyping||!1;if(S(x)&&(g.dynamicTypingFunction=x,x={}),g.dynamicTyping=x,g.transform=!!S(g.transform)&&g.transform,!g.worker||!c.WORKERS_SUPPORTED)return x=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(p),x=new(g.download?h:E)(g)):p.readable===!0&&S(p.read)&&S(p.on)?x=new T(g):(r.File&&p instanceof File||p instanceof Object)&&(x=new m(g)),x.stream(p);(x=(()=>{var A;return!!c.WORKERS_SUPPORTED&&(A=(()=>{var j=r.URL||r.webkitURL||null,R=n.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(A=new r.Worker(A)).onmessage=v,A.id=u++,a[A.id]=A)})()).userStep=g.step,x.userChunk=g.chunk,x.userComplete=g.complete,x.userError=g.error,g.step=S(g.step),g.chunk=S(g.chunk),g.complete=S(g.complete),g.error=S(g.error),delete g.worker,x.postMessage({input:p,config:g,workerId:x.id})},c.unparse=function(p,g){var x=!1,A=!0,j=",",R=`\r
`,z='"',F=z+z,B=!1,U=null,L=!1,V=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Q){return g.delimiter.indexOf(Q)!==-1}).length||(j=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(x=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(B=g.skipEmptyLines),typeof g.newline=="string"&&(R=g.newline),typeof g.quoteChar=="string"&&(z=g.quoteChar),typeof g.header=="boolean"&&(A=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");U=g.columns}g.escapeChar!==void 0&&(F=g.escapeChar+z),g.escapeFormulae instanceof RegExp?L=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(z),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return H(null,p,B);if(typeof p[0]=="object")return H(U||Object.keys(p[0]),p,B)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||U),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),H(p.fields||[],p.data||[],B);throw new Error("Unable to serialize unrecognized input");function H(Q,Y,se){var ce="",ye=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(Q)&&0<Q.length),q=!Array.isArray(Y[0]);if(ye&&A){for(var ne=0;ne<Q.length;ne++)0<ne&&(ce+=j),ce+=K(Q[ne],ne);0<Y.length&&(ce+=R)}for(var W=0;W<Y.length;W++){var le=(ye?Q:Y[W]).length,ee=!1,re=ye?Object.keys(Y[W]).length===0:Y[W].length===0;if(se&&!ye&&(ee=se==="greedy"?Y[W].join("").trim()==="":Y[W].length===1&&Y[W][0].length===0),se==="greedy"&&ye){for(var he=[],me=0;me<le;me++){var ve=q?Q[me]:me;he.push(Y[W][ve])}ee=he.join("").trim()===""}if(!ee){for(var be=0;be<le;be++){0<be&&!re&&(ce+=j);var Ye=ye&&q?Q[be]:be;ce+=K(Y[W][Ye],be)}W<Y.length-1&&(!se||0<le&&!re)&&(ce+=R)}}return ce}function K(Q,Y){var se,ce;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(ce=!1,L&&typeof Q=="string"&&L.test(Q)&&(Q="'"+Q,ce=!0),se=Q.toString().replace(V,F),(ce=ce||x===!0||typeof x=="function"&&x(Q,Y)||Array.isArray(x)&&x[Y]||((ye,q)=>{for(var ne=0;ne<q.length;ne++)if(-1<ye.indexOf(q[ne]))return!0;return!1})(se,c.BAD_DELIMITERS)||-1<se.indexOf(j)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?z+se+z:se)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=C,c.ParserHandle=_,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=E,c.ReadableStreamStreamer=T,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var g=p.config||{},x=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)x.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},g)})}),A(),this;function A(){if(x.length===0)S(p.complete)&&p.complete();else{var R,z,F,B,U=x[0];if(S(p.before)){var L=p.before(U.file,U.inputElem);if(typeof L=="object"){if(L.action==="abort")return R="AbortError",z=U.file,F=U.inputElem,B=L.reason,void(S(p.error)&&p.error({name:R},z,F,B));if(L.action==="skip")return void j();typeof L.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,L.config))}else if(L==="skip")return void j()}var V=U.instanceConfig.complete;U.instanceConfig.complete=function(H){S(V)&&V(H,U.file,U.inputElem),j()},c.parse(U.file,U.instanceConfig)}}function j(){x.splice(0,1),A()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(E.prototype=Object.create(E.prototype)).constructor=E,(T.prototype=Object.create(f.prototype)).constructor=T,c})})(eP);var M7=eP.exports;const tP=yh(M7);function L7({businessId:t}){const[e,n]=b.useState([]),[r,i]=b.useState(!0),[s,o]=b.useState({}),a=Sr();return b.useEffect(()=>{if(!t)return;const u=vr(ke(Z,"chats"),xr("participants","array-contains",t)),c=It(u,async f=>{const h=[],m=new Set;f.forEach(T=>{const _=T.data(),I=_.participants.find(C=>C!==t);I&&(h.push({id:T.id,..._,customerId:I}),m.add(I))}),n(h);const E={};await Promise.all(Array.from(m).map(async T=>{const _=await dn(Ce(Z,"users",T));_.exists()&&(E[T]=_.data())})),o(E),i(!1)});return()=>c()},[t]),r?l.jsx("div",{children:"Loading chat inbox..."}):e.length===0?l.jsx("div",{children:"No customer chats yet."}):l.jsxs("div",{style:{background:"#f8f8ff",padding:20,borderRadius:12,marginTop:24},children:[l.jsx("h3",{style:{color:"#6366f1",marginBottom:16},children:"Customer Chat Inbox"}),l.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(u=>{const c=s[u.customerId]||{};return l.jsxs("li",{style:{marginBottom:18,display:"flex",alignItems:"center",gap:12,background:"#fff",borderRadius:8,padding:12,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:c.photo||"https://ui-avatars.com/api/?name="+(c.name||c.email||"Customer"),alt:c.name||c.email||"Customer",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:c.name||c.email||"Customer"}),l.jsx("div",{style:{fontSize:13,color:"#888"},children:c.email})]}),l.jsx("button",{onClick:()=>a(`/chat/${t}`,{state:{customerId:u.customerId,chatId:u.id}}),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Open Chat"})]},u.id)})})]})}const yg=["name","ingredient","class","price","image"];function D7(){const[t,e]=b.useState(""),[n,r]=b.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=b.useState(null);if(b.useEffect(()=>{ja(async()=>{const{getAuth:F,onAuthStateChanged:B}=await Promise.resolve().then(()=>sk);return{getAuth:F,onAuthStateChanged:B}},void 0).then(({getAuth:F,onAuthStateChanged:B})=>{const U=F();B(U,async L=>{if(L){const{getDoc:V,doc:H}=await ja(async()=>{const{getDoc:Q,doc:Y}=await Promise.resolve().then(()=>lx);return{getDoc:Q,doc:Y}},void 0),K=await V(H(Z,"users",L.uid));a(K.exists()?K.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=b.useState(null),[f,h]=b.useState(null),[m,E]=b.useState([]),[T,_]=b.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,C]=b.useState(null),[v,w]=b.useState([]),[P,M]=b.useState([]),N=m.filter(F=>{var U,L,V;const B=t.toLowerCase();return((U=F.name)==null?void 0:U.toLowerCase().includes(B))||((L=F.ingredient)==null?void 0:L.toLowerCase().includes(B))||((V=F.class)==null?void 0:V.toLowerCase().includes(B))}),S=Br();b.useEffect(()=>{const F=ri(S,async B=>{if(B){c(B);try{const U=await dn(Ce(Z,"users",B.uid));U.exists()?h(U.data()):h({role:"customer"})}catch(U){console.error("Error fetching user doc:",U),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[S]),b.useEffect(()=>{if(!u)return;const F=It(ke(Z,"products"),B=>{const U=B.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.ownerId===u.uid);E(U)});return()=>F()},[u]),b.useEffect(()=>{if(!u)return;const F=It(ke(Z,"batches"),B=>{const U=B.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.uploadedBy===u.uid);M(U)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),g=async F=>{if(F.preventDefault(),!u)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const{name:B,ingredient:U,class:L,price:V,image:H}=T;if(!B||!U||!L||!V)return Se.warn("Please fill all required fields");const K=parseInt(V,10);if(isNaN(K)||K<0)return Se.warn("Price must be a positive number");const{ownerSlug:Q,businessName:Y}=p(),se=(f==null?void 0:f.pharmacist)||null;try{I?(await en(Ce(Z,"products",I),{name:B,ingredient:U,class:L,price:K,image:H||"",ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),C(null)):await ts(ke(Z,"products"),{name:B,ingredient:U,class:L,price:K,image:H||"",ownerId:u.uid,ownerSlug:Q||"",businessName:Y||"",isPOM:!!T.isPOM,registeredOnly:!!T.registeredOnly,pharmacist:se||null}),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(ce){console.error(ce),Se.error("Error saving medicine")}},x=F=>{const B=F.target.files[0];B&&tP.parse(B,{header:!0,skipEmptyLines:!0,complete:U=>{const L=U.data.map(V=>{const H={};return yg.forEach(K=>H[K]=V[K]||(K==="price"?0:"N/A")),H});w(L)}})},A=async()=>{if(!v.length)return Se.info("No CSV data to upload");if(!u)return Se.error("Please log in first");if(!f)return Se.info("Loading user data...");const F=Ce(ke(Z,"batches")),B=[],{ownerSlug:U,businessName:L}=p(),V=(f==null?void 0:f.pharmacist)||null;for(let H of v)try{const K=await ts(ke(Z,"products"),{name:H.name,ingredient:H.ingredient,class:H.class,price:parseInt(H.price,10)||0,image:H.image==="N/A"?"":H.image,batchId:F.id,ownerId:u.uid,ownerSlug:U||"",businessName:L||"",isPOM:!!H.isPOM,pharmacist:V||null});B.push(K.id)}catch(K){console.error("CSV upload error for row:",H,K)}try{await br(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:B})}catch(H){console.error("Failed to create batch doc:",H)}alert(` ${B.length} medicines uploaded`),Se.success(` ${B.length} medicines uploaded`),w([])},j=F=>{_({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),C(F.id),r("add")},R=async F=>{if(window.confirm("Delete this medicine?"))try{await Dr(Ce(Z,"products",F.id)),Se.success("Medicine deleted.")}catch(B){console.error(B),Se.error("Error deleting medicine")}},z=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let B of F.medicineIds)await Dr(Ce(Z,"products",B));await Dr(Ce(Z,"batches",F.id)),Se.success("Batch deleted.")}catch(B){console.error(B),Se.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsx(F7,{user:u,userData:f,setUserData:h}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="chats"?"2px solid #1976d2":"1px solid #ccc",background:n==="chats"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("chats"),children:"Customer Chats"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:g,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:T.name,onChange:F=>_({...T,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:T.ingredient,onChange:F=>_({...T,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:T.class,onChange:F=>_({...T,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:T.price,onChange:F=>_({...T,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:T.image,onChange:F=>_({...T,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:T.isPOM,onChange:F=>_({...T,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{C(null),_({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:x,style:{marginBottom:"10px"}}),v.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:yg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:v.map((F,B)=>l.jsx("tr",{children:yg.map(U=>l.jsx("td",{children:F[U]},U))},B))})]}),l.jsx("button",{onClick:A,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),P.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:P.map(F=>{var B;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((B=F.medicineIds)==null?void 0:B.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>z(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>j(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>R(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx($7,{userId:u.uid})]}),n==="chats"&&l.jsx("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:l.jsx(L7,{businessId:u.uid})})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function $7({userId:t}){const[e,n]=pe.useState(null),[r,i]=pe.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=pe.useState(!1),[a,u]=pe.useState(!1);pe.useEffect(()=>{const h=Ce(Z,"users",t);dn(h).then(m=>{const E=m.data();E&&E.pharmacist&&(n(E.pharmacist),i({...E.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await en(Ce(Z,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}function F7({user:t,userData:e,setUserData:n}){var m,E;const[r,i]=pe.useState(!1),[s,o]=pe.useState(!1),[a,u]=pe.useState(""),c=((m=e==null?void 0:e.location)==null?void 0:m.latitude)||(e==null?void 0:e.lat),f=((E=e==null?void 0:e.location)==null?void 0:E.longitude)||(e==null?void 0:e.lng),h=()=>{if(i(!0),u(""),o(!1),!navigator.geolocation){u("Geolocation not supported by your browser."),i(!1);return}navigator.geolocation.getCurrentPosition(async T=>{const _={latitude:T.coords.latitude,longitude:T.coords.longitude};try{await en(Ce(Z,"users",t.uid),{location:_,lat:_.latitude,lng:_.longitude}),n(I=>({...I,location:_,lat:_.latitude,lng:_.longitude})),o(!0)}catch{u("Failed to update location.")}i(!1)},T=>{u("Location access denied or unavailable."),i(!1)})};return l.jsxs("div",{style:{margin:"10px 0 20px 0"},children:[l.jsxs("div",{style:{marginBottom:6,color:"#444",fontSize:15},children:[l.jsx("b",{children:"Current Location:"})," ",c&&f?l.jsxs("span",{style:{color:"#6366f1"},children:["Lat: ",c.toFixed(5),", Lng: ",f.toFixed(5)]}):l.jsx("span",{style:{color:"#888"},children:"Not set"})]}),l.jsxs("div",{style:{marginBottom:10,color:"#b91c1c",fontSize:14},children:[l.jsx("b",{children:"Instruction:"})," Please ensure you are physically present inside or directly in front of your pharmacy before updating your location."]}),l.jsx("button",{onClick:h,disabled:r,style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:r?"not-allowed":"pointer",marginRight:10},children:r?"Updating location...":"Change Location"}),s&&l.jsx("span",{style:{color:"#059669",marginLeft:8},children:"Location updated!"}),a&&l.jsx("span",{style:{color:"#e53935",marginLeft:8},children:a})]})}const V7={configure:t=>{Mx.configure(t)}},z7=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Be,createChainedFunction:tv,createSvgIcon:zo,debounce:$x,deprecatedPropType:bV,isMuiElement:Jd,ownerDocument:sr,ownerWindow:Bs,requirePropFactory:_V,setRef:eh,unstable_ClassNameGenerator:V7,unstable_useEnhancedEffect:Si,unstable_useId:Hp,unsupportedProp:SV,useControlled:nv,useEventCallback:Ss,useForkRef:An,useIsFocusVisible:Uk},Symbol.toStringTag,{value:"Module"}));function B7(t){return ft("MuiAlert",t)}const BS=lt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function U7(t){return ft("MuiIconButton",t)}const W7=lt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),H7=["edge","children","className","color","disabled","disableFocusRipple","size"],q7=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Be(r)}`,i&&`edge${Be(i)}`,`size${Be(s)}`]};return gt(o,U7,e)},K7=Pe(Hx,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Be(n.color)}`],n.edge&&e[`edge${Be(n.edge)}`],e[`size${Be(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${W7.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),_v=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:u=!1,disableFocusRipple:c=!1,size:f="medium"}=r,h=Ie(r,H7),m=$({},r,{edge:i,color:a,disabled:u,disableFocusRipple:c,size:f}),E=q7(m);return l.jsx(K7,$({className:Me(E.root,o),centerRipple:!0,focusRipple:!c,disabled:u,ref:n},h,{ownerState:m,children:s}))}),G7=zo(l.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Q7=zo(l.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Y7=zo(l.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),X7=zo(l.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),J7=zo(l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Z7=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],eH=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`color${Be(n||r)}`,`${e}${Be(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return gt(s,B7,i)},tH=Pe(Mc,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Be(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?iv:sv,n=t.palette.mode==="light"?sv:iv;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${BS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${BS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),nH=Pe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),rH=Pe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),US=Pe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),WS={success:l.jsx(G7,{fontSize:"inherit"}),warning:l.jsx(Q7,{fontSize:"inherit"}),error:l.jsx(Y7,{fontSize:"inherit"}),info:l.jsx(X7,{fontSize:"inherit"})},HS=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:u,components:c={},componentsProps:f={},icon:h,iconMapping:m=WS,onClose:E,role:T="alert",severity:_="success",slotProps:I={},slots:C={},variant:v="standard"}=r,w=Ie(r,Z7),P=$({},r,{color:u,severity:_,variant:v,colorSeverity:u||_}),M=eH(P),N={slots:$({closeButton:c.CloseButton,closeIcon:c.CloseIcon},C),slotProps:$({},f,I)},[S,p]=IS("closeButton",{elementType:_v,externalForwardedProps:N,ownerState:P}),[g,x]=IS("closeIcon",{elementType:J7,externalForwardedProps:N,ownerState:P});return l.jsxs(tH,$({role:T,elevation:0,ownerState:P,className:Me(M.root,o),ref:n},w,{children:[h!==!1?l.jsx(nH,{ownerState:P,className:M.icon,children:h||m[_]||WS[_]}):null,l.jsx(rH,{ownerState:P,className:M.message,children:s}),i!=null?l.jsx(US,{ownerState:P,className:M.action,children:i}):null,i==null&&E?l.jsx(US,{ownerState:P,className:M.action,children:l.jsx(S,$({size:"small","aria-label":a,title:a,color:"inherit",onClick:E},p,{children:l.jsx(g,$({fontSize:"small"},x))}))}):null]}))});function iH(t){return ft("MuiAppBar",t)}lt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const sH=["className","color","enableColorOnDark","position"],oH=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Be(e)}`,`position${Be(n)}`]};return gt(i,iH,r)},Cd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,aH=Pe(Mc,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Be(n.position)}`],e[`color${Be(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&$({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&$({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Cd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Cd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Cd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Cd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),lH=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,u=Ie(r,sH),c=$({},r,{color:s,position:a,enableColorOnDark:o}),f=oH(c);return l.jsx(aH,$({square:!0,component:"header",ownerState:c,elevation:4,className:Me(f.root,i,a==="fixed"&&"mui-fixed"),ref:n},u))}),uH=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),cH=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),dH=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=$({html:uH(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},cH(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function fH(t){const e=ht({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(b.Fragment,{children:[l.jsx(d2,{styles:i=>dH(i,r)}),n]})}function hH(t){return ft("MuiDivider",t)}const qS=lt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),pH=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],mH=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return gt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},hH,r)},gH=Pe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:hr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),yH=Pe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),nP=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:E="fullWidth"}=r,T=Ie(r,pH),_=$({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:E}),I=mH(_);return l.jsx(gH,$({as:a,className:Me(I.root,o),role:h,ref:n,ownerState:_},T,{children:s?l.jsx(yH,{className:I.wrapper,ownerState:_,children:s}):null}))});nP.muiSkipListHighlight=!0;const KS=b.createContext();function vH(t){return ft("MuiGrid",t)}const xH=[0,1,2,3,4,5,6,7,8,9,10],bH=["column-reverse","column","row-reverse","row"],_H=["nowrap","wrap-reverse","wrap"],Vl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zu=lt("MuiGrid",["root","container","item","zeroMinWidth",...xH.map(t=>`spacing-xs-${t}`),...bH.map(t=>`direction-xs-${t}`),..._H.map(t=>`wrap-xs-${t}`),...Vl.map(t=>`grid-xs-${t}`),...Vl.map(t=>`grid-sm-${t}`),...Vl.map(t=>`grid-md-${t}`),...Vl.map(t=>`grid-lg-${t}`),...Vl.map(t=>`grid-xl-${t}`)]),wH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Oa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function SH({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Cp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${Oa(f)})`;c={flexBasis:h,maxWidth:h}}}s=$({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function EH({theme:t,ownerState:e}){const n=Cp({values:e.direction,breakpoints:t.breakpoints.values});return Vr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Zu.item}`]={maxWidth:"none"}),i})}function rP({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function TH({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Cp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=rP({breakpoints:t.breakpoints.values,values:s})),i=Vr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Oa(f)}`,[`& > .${Zu.item}`]:{paddingTop:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${Zu.item}`]:{paddingTop:0}}})}return i}function CH({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Cp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=rP({breakpoints:t.breakpoints.values,values:s})),i=Vr({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Oa(f)})`,marginLeft:`-${Oa(f)}`,[`& > .${Zu.item}`]:{paddingLeft:Oa(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${Zu.item}`]:{paddingLeft:0}}})}return i}function IH(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const RH=Pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=IH(o,c,e));const h=[];return c.forEach(m=>{const E=n[m];E&&h.push(e[`grid-${m}-${String(E)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),EH,TH,CH,SH);function kH(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const PH=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=kH(s,u));const f=[];u.forEach(m=>{const E=t[m];E&&f.push(`grid-${m}-${String(E)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return gt(h,vH,e)},Pt=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiGrid"}),{breakpoints:i}=Wx(),s=Np(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:E,spacing:T=0,wrap:_="wrap",zeroMinWidth:I=!1}=s,C=Ie(s,wH),v=E||T,w=u||T,P=b.useContext(KS),M=f?a||12:P,N={},S=$({},C);i.keys.forEach(x=>{C[x]!=null&&(N[x]=C[x],delete S[x])});const p=$({},s,{columns:M,container:f,direction:h,item:m,rowSpacing:v,columnSpacing:w,wrap:_,zeroMinWidth:I,spacing:T},N,{breakpoints:i.keys}),g=PH(p);return l.jsx(KS.Provider,{value:M,children:l.jsx(RH,$({ownerState:p,className:Me(g.root,o),as:c,ref:n},S))})}),GS=lt("MuiListItemIcon",["root","alignItemsFlexStart"]),QS=lt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function AH(t){return ft("MuiMenuItem",t)}const zl=lt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),jH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],OH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},NH=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=gt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},AH,o);return $({},o,u)},MH=Pe(Hx,{shouldForwardProp:t=>Hr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:OH})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${zl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${zl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${zl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${qS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${qS.inset}`]:{marginLeft:52},[`& .${QS.root}`]:{marginTop:0,marginBottom:0},[`& .${QS.inset}`]:{paddingLeft:36},[`& .${GS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${GS.root} svg`]:{fontSize:"1.25rem"}}))),YS=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,E=Ie(r,jH),T=b.useContext(lv),_=b.useMemo(()=>({dense:o||T.dense||!1,disableGutters:u}),[T.dense,o,u]),I=b.useRef(null);Si(()=>{i&&I.current&&I.current.focus()},[i]);const C=$({},r,{dense:_.dense,divider:a,disableGutters:u}),v=NH(r),w=An(I,n);let P;return r.disabled||(P=h!==void 0?h:-1),l.jsx(lv.Provider,{value:_,children:l.jsx(MH,$({ref:w,role:f,tabIndex:P,component:s,focusVisibleClassName:Me(v.focusVisible,c),className:Me(v.root,m)},E,{ownerState:C,classes:v}))})});function LH(t){return ft("MuiToolbar",t)}lt("MuiToolbar",["root","gutters","regular","dense"]);const DH=["className","component","disableGutters","variant"],$H=t=>{const{classes:e,disableGutters:n,variant:r}=t;return gt({root:["root",!n&&"gutters",r]},LH,e)},FH=Pe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>$({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),VH=b.forwardRef(function(e,n){const r=ht({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,u=Ie(r,DH),c=$({},r,{component:s,disableGutters:o,variant:a}),f=$H(c);return l.jsx(FH,$({as:s,className:Me(f.root,i),ref:n,ownerState:c},u))});var ec=function(){return ec=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ec.apply(this,arguments)};function nb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Id=[];function zH(){var t="https://js.paystack.co/v1/inline.js",e=b.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return b.useEffect(function(){if(Id.includes(t))r({loaded:!0,error:!1});else{Id.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Id.indexOf(t);a>=0&&Id.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var BH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function iP(t){var e=zH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=ec(ec({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,E=c.phone,T=c.email,_=c.amount,I=c.reference,C=c.metadata,v=C===void 0?{}:C,w=c.currency,P=w===void 0?"NGN":w,M=c.channels,N=c.label,S=N===void 0?"":N,p=c.plan,g=p===void 0?"":p,x=c.quantity,A=x===void 0?"":x,j=c.subaccount,R=j===void 0?"":j,z=c.transaction_charge,F=z===void 0?0:z,B=c.bearer,U=B===void 0?"account":B,L=c.split,V=c.split_code;if(n){var H={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:T,firstname:h,lastname:m,phone:E,amount:_,currency:P,plan:g,quantity:A,channels:M,subaccount:R,transaction_charge:F,bearer:U,label:S,metadata:v,split:L,split_code:V,"data-custom-button":c["data-custom-button"]||""};BH(H)}}return b.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var UH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=nb(t,["text","className","children","onSuccess","onClose"]),a=iP(o);return pe.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},sP=b.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),WH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=nb(t,["children","onSuccess","onClose"]),s=iP(i);return pe.createElement(sP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},HH=function(t){var e=t.children,n=t.ref,r=b.useContext(sP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};b.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=nb(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return pe.createElement(WH,ec({},s,{onSuccess:o,onClose:a}),pe.createElement(HH,{ref:e},n))});async function qH(t){if(!t)return null;const e=vr(ke(Z,"coupons"),xr("code","==",t)),n=await tn(e);return n.empty?null:n.docs[0].data()}function KH(){var L,V,H;const[t,e]=b.useState(""),[n,r]=b.useState(null),[i,s]=b.useState(""),o=Br(),a=Sr(),u=Mo(),[c,f]=b.useState(null),[h,m]=b.useState(((L=u.state)==null?void 0:L.cart)||[]),[E,T]=b.useState(((V=u.state)==null?void 0:V.total)||0),_=h.length===1&&((H=h[0])==null?void 0:H.isConsultation),[I,C]=b.useState("standard"),[v,w]=b.useState(_?0:500),[P,M]=b.useState(1e3),[N,S]=b.useState(E+(_?0:v)),[p,g]=b.useState({name:"",phone:"",address:"",age:"",complaint:"",city:"",state:"",instructions:""}),x="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";b.useEffect(()=>ri(o,async Q=>{if(!Q)return a("/auth");if(f(Q),h.length===0){const Y=Ce(Z,"carts",Q.uid),se=await dn(Y);if(se.exists()){const ce=se.data().items||[];m(ce);const ye=ce.reduce((q,ne)=>q+ne.price*(ne.quantity||1),0);T(ye),S(ye+v)}}}),[o,h.length,v,a]),b.useEffect(()=>{let K=h.some(ce=>ce.isPOM)?500:0,Q=v,Y=E,se=0;n&&(n.removePOM&&(K=0),n.removeDelivery&&(Q=0),n.percent>0&&(se=Math.round((Y+K+Q)*(n.percent/100)))),M(K),S(Y+K+Q-se)},[E,v,h,n]),b.useEffect(()=>{w(_?0:I==="standard"?500:3e3)},[I,_]);const A=async()=>{s("");const K=await qH(t.trim().toUpperCase());K?(r(K),s("")):(r(null),s("Invalid coupon code"))},j=()=>_?["name","phone","address","age","complaint"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}):["name","phone","address","city","state"].every(Q=>{var Y;return(Y=p[Q])==null?void 0:Y.trim()}),R={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:N*100,publicKey:x},z=async K=>{if(!c||h.length===0)return;const Q=Ce(ke(Z,"orders"));await br(Q,{userId:c.uid,items:h,subtotal:E,deliveryFee:v,pomFee:P,total:N,status:"Processing",date:new Date().toISOString(),paymentReference:(K==null?void 0:K.reference)||"COUPON_FREE",deliveryInfo:p,coupon:n||null,deliveryType:I}),await br(Ce(Z,"carts",c.uid),{items:[]}),m([]),T(0),S(0),Se.success(" Payment successful! Order created.");const Y=h.find(ce=>ce.isConsultation&&ce.whatsapp);if(Y){window.location.href=`https://wa.me/${Y.whatsapp}`;return}const se=h.find(ce=>ce.isPOM&&ce.pharmacist&&ce.ownerId);if(se&&se.pharmacist&&se.ownerId){a(`/chat/${se.ownerId}`,{state:{pharmacist:se.pharmacist,businessName:se.businessName}});return}h.some(ce=>ce.isPOM)?a("/medinterface"):a("/orders")},F=()=>{Se.info("Payment cancelled.")},B=K=>{g({...p,[K.target.name]:K.target.value})},U=()=>{alert(" Please complete all delivery information before proceeding.")};return c?l.jsx(Xt,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(tf,{children:l.jsxs(nf,{children:[l.jsx(Ct,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(Ct,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(Ct,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(Xt,{sx:{mb:2},children:h.map((K,Q)=>l.jsxs(Xt,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(Ct,{children:[K.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",K.quantity||1]})]}),l.jsxs(Ct,{fontWeight:500,children:["",K.price*(K.quantity||1)]})]},Q))}),l.jsxs(Pt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{children:"Subtotal:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Ct,{fontWeight:500,children:["",E]})}),!_&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{children:"Delivery Type:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsx(f2,{fullWidth:!0,size:"small",children:l.jsxs(Zx,{value:I,onChange:K=>C(K.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(YS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(YS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{children:"Delivery Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Ct,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:v]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{color:P>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Ct,{fontWeight:500,color:P>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:P]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{color:"primary",children:"Discount:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Ct,{color:"primary",children:["-",Math.round((E+P+(n!=null&&n.removeDelivery?0:v))*(n.percent/100))]})})]}),l.jsx(Pt,{item:!0,xs:7,children:l.jsx(Ct,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Pt,{item:!0,xs:5,children:l.jsxs(Ct,{fontWeight:700,children:["",N]})})]}),l.jsxs(Xt,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(lr,{size:"small",label:"Coupon code",value:t,onChange:K=>e(K.target.value),sx:{mr:1,flex:1}}),l.jsx(go,{variant:"outlined",onClick:A,children:"Apply"})]}),i&&l.jsx(HS,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(HS,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(nP,{sx:{my:3}}),_?l.jsxs(l.Fragment,{children:[l.jsx(Ct,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Consultation Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Age",name:"age",value:p.age,onChange:B,type:"number"})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Major Complaint",name:"complaint",value:p.complaint,onChange:B,multiline:!0,minRows:2})})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ct,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(Pt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:p.name,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:p.phone,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:p.address,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"City",name:"city",value:p.city,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,sm:6,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"State",name:"state",value:p.state,onChange:B})}),l.jsx(Pt,{item:!0,xs:12,children:l.jsx(lr,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:p.instructions,onChange:B,multiline:!0,minRows:2})})]})]}),l.jsx(Xt,{sx:{mt:2,textAlign:"center"},children:j()?N>0?l.jsx(UH,{text:"Pay Now ",className:"paystack-button",...R,callback:z,close:F,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>z({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(go,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:U,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function GH(){const[t,e]=b.useState([]),[n,r]=b.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=b.useState(null);b.useEffect(()=>{const c=It(ke(Z,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await en(Ce(Z,"coupons",i),n),s(null)):await ts(ke(Z,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await Dr(Ce(Z,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function QH(){const[t,e]=b.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=b.useState([]),[i,s]=b.useState(null),[o,a]=b.useState({}),[u,c]=b.useState(!1),[f,h]=b.useState("");b.useEffect(()=>{const v=It(ke(Z,"deliveryAgents"),w=>{r(w.docs.map(P=>({id:P.id,...P.data()})))});return()=>v()},[]),b.useEffect(()=>{async function v(){const w=vr(ke(Z,"deliveryAgents"));(await tn(w)).forEach(async M=>{typeof M.data().approved>"u"&&await Ce(Z,"deliveryAgents",M.id).update({approved:!1})})}v()},[]);const m=v=>{a({...o,[v.target.name]:v.target.value})},E=v=>{s(v.id),a(v)},T=async v=>{await en(Ce(Z,"deliveryAgents",v),o),s(null),a({})},_=async v=>{window.confirm("Delete this delivery agent?")&&await Dr(Ce(Z,"deliveryAgents",v))},I=async v=>{c(!0),h(""),await en(Ce(Z,"deliveryAgents",v),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},C=async v=>{c(!0),h(""),await en(Ce(Z,"deliveryAgents",v),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(v=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===v.id?l.jsxs("form",{onSubmit:w=>{w.preventDefault(),T(v.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(pe.Fragment,{children:[l.jsx("img",{src:v.logoUrl,alt:v.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:v.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:v.businessAddress}),l.jsxs("div",{children:["RC Number: ",v.rcNumber]}),l.jsxs("div",{children:["Phone: ",v.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",v.whatsappNumber]}),l.jsxs("div",{children:["Email: ",v.email]}),l.jsxs("div",{children:["Coverage: ",v.coverageArea]}),l.jsxs("div",{children:["Hours: ",v.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>E(v),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>_(v.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!v.approved&&l.jsx("button",{onClick:()=>I(v.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),v.approved&&l.jsx("button",{onClick:()=>C(v.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),v.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},v.id))]})})}function YH(){const[t,e]=b.useState([]);b.useEffect(()=>{(async()=>{try{const te=await tn(ke(Z,"deliveryAgents"));e(te.docs.map(ue=>({id:ue.id,...ue.data()})))}catch{e([])}})()},[]);const[n,r]=b.useState({}),i=async(O,te)=>{try{const ue=t.find(st=>st.id===te),Fe=(ue==null?void 0:ue.userId)||"";await en(Ce(Z,"orders",O),{riderId:Fe,assignedAgentId:Fe,assignedAgentName:ue?ue.companyName||ue.name||ue.email||ue.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(st=>({...st,[O]:!1})),Se.success("Order reassigned successfully.")}catch{Se.error("Failed to reassign order.")}},s=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await en(Ce(Z,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),Se.success("Order cancelled.")}catch{Se.error("Failed to cancel order.")}},[o,a]=b.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=b.useState(""),[f,h]=b.useState(""),[m,E]=b.useState(""),[T,_]=b.useState(""),[I,C]=b.useState({}),[v,w]=b.useState({}),M=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,S]=pe.useState(null);if(b.useEffect(()=>{ja(async()=>{const{getAuth:O,onAuthStateChanged:te}=await Promise.resolve().then(()=>sk);return{getAuth:O,onAuthStateChanged:te}},void 0).then(({getAuth:O,onAuthStateChanged:te})=>{const ue=O();te(ue,async Fe=>{if(Fe){const{getDoc:st,doc:nt}=await ja(async()=>{const{getDoc:ot,doc:Rr}=await Promise.resolve().then(()=>lx);return{getDoc:ot,doc:Rr}},void 0),{db:_t}=await ja(async()=>{const{db:ot}=await Promise.resolve().then(()=>M4);return{db:ot}},void 0),je=await st(nt(_t,"users",Fe.uid));S(je.exists()?je.data().role:null)}else S(null)})})},[]),M||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,g]=b.useState([]);b.useEffect(()=>{const O=It(ke(Z,"businessRegistrations"),te=>{g(te.docs.map(ue=>({id:ue.id,...ue.data()})))});return()=>O()},[]);const x=async(O,te)=>{if(await en(Ce(Z,"businessRegistrations",O.id),{status:te}),te==="declined"){const ue=vr(ke(Z,"orders"),xr("userId","==",O.businessId),xr("items","array-contains-any",O.cart)),Fe=await tn(ue);for(const st of Fe.docs)await en(Ce(Z,"orders",st.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}Se.info(`Registration ${te}`)},[A,j]=b.useState(""),[R,z]=b.useState(""),[F,B]=b.useState(""),[U,L]=b.useState(""),[V,H]=b.useState(""),K=()=>{let O=J;A&&(O=O.filter(je=>new Date(je.completedAt||je.date)>=new Date(A))),R&&(O=O.filter(je=>new Date(je.completedAt||je.date)<=new Date(R))),F&&(O=O.filter(je=>je.medicVerifiedBy===F)),U&&(O=O.filter(je=>je.items&&je.items.some(ot=>ot.name&&ot.name.toLowerCase().includes(U.toLowerCase())))),V==="true"&&(O=O.filter(je=>je.items&&je.items.some(ot=>ot.isPOM))),V==="false"&&(O=O.filter(je=>je.items&&!je.items.some(ot=>ot.isPOM)));const te=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],ue=O.map(je=>[je.id,new Date(je.completedAt||je.date).toLocaleString(),qe[je.userId]&&qe[je.userId].email?qe[je.userId].email:je.userId,je.medicVerifiedBy?(Re.concat(De).find(ot=>ot.id===je.medicVerifiedBy)||{}).name||je.medicVerifiedBy:"",je.total||Ir(je.items||[]),je.items?je.items.map(ot=>`${ot.name} (${ot.quantity||1})`).join("; "):"",je.items?je.items.filter(ot=>ot.isPOM).map(ot=>ot.name).join("; "):""]),Fe=[te,...ue].map(je=>je.map(ot=>`"${String(ot).replace(/"/g,'""')}"`).join(",")).join(`\r
`),st=new Blob([Fe],{type:"text/csv"}),nt=URL.createObjectURL(st),_t=document.createElement("a");_t.href=nt,_t.download=`orders_${Date.now()}.csv`,document.body.appendChild(_t),_t.click(),document.body.removeChild(_t),URL.revokeObjectURL(nt)},[Q,Y]=b.useState(""),[se,ce]=b.useState(null),[ye,q]=b.useState(null),[ne,W]=b.useState([]),[le,ee]=b.useState([]),[re,he]=b.useState(""),[me,ve]=b.useState([]),[be,Ye]=b.useState([]),[_e,Ve]=b.useState("products"),[Ae,Qe]=b.useState({}),[it,ut]=b.useState(null),[Le,yt]=b.useState(!0),[Re,We]=b.useState([]),[De,Ee]=b.useState([]),[bt,kt]=b.useState(""),[Xe,we]=b.useState("date-desc"),tt=Br();b.useEffect(()=>{const O=ri(tt,async te=>{if(te){ce(te);const ue=await dn(Ce(Z,"users",te.uid));q(ue.exists()?ue.data():{role:"customer"})}else ce(null),q(null)});return()=>O()},[tt]),b.useEffect(()=>{const O=It(ke(Z,"products"),ue=>W(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()})))),te=It(ke(Z,"batches"),ue=>{ee(ue.docs.map(Fe=>({id:Fe.id,...Fe.data()}))),yt(!1)});return()=>{O(),te()}},[]),b.useEffect(()=>{if(!ye)return;const O=It(ke(Z,"users"),te=>ve(te.docs.map(ue=>({id:ue.id,...ue.data()}))));return()=>O()},[ye]),b.useEffect(()=>{const O=It(ke(Z,"orders"),te=>{const ue=te.docs.map(Fe=>({id:Fe.id,...Fe.data()}));ue.sort((Fe,st)=>new Date(st.date)-new Date(Fe.date)),Ye(ue)});return()=>O()},[]);const qe={};me.forEach(O=>qe[O.id]=O);const Tr=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await Dr(Ce(Z,"products",O.id)),Se.success("Medicine deleted.")}catch(te){console.error(te),Se.error("Error deleting medicine")}},os=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let te of O.medicineIds)await Dr(Ce(Z,"products",te));await Dr(Ce(Z,"batches",O.id))}catch(te){console.error(te),alert("Error deleting batch")}},Ys=async(O,te)=>{try{await en(Ce(Z,"users",O),{role:te}),alert("Role updated!")}catch(ue){console.error(ue),alert("Error updating role")}},Cr=O=>Qe(te=>({...te,[O]:!te[O]}));b.useEffect(()=>{tn(ke(Z,"verifyMedics")).then(O=>{We(O.docs.map(te=>({id:te.id,...te.data(),type:"Prescription Verification"})))}),tn(ke(Z,"consultMedics")).then(O=>{Ee(O.docs.map(te=>({id:te.id,...te.data(),type:"Consultation"})))})},[]);const ii=async O=>{var Fe;const te=(Fe=O.items)==null?void 0:Fe.some(st=>st.isPOM);let ue=null;if(te){if(!Q)return alert("Select a verifying medic before completing POM order.");ue=Q}window.confirm("Mark order as completed?")&&(await en(Ce(Z,"orders",O.id),{status:"Completed",completedBy:se.uid,completedAt:new Date().toISOString(),medicVerifiedBy:ue||null}),alert(" Order marked completed"),Y(""))},Ir=O=>O.reduce((te,ue)=>te+ue.price*(ue.quantity||1),0);if(!se)return l.jsx("p",{children:"Please log in to access admin."});if(!ye)return l.jsx("p",{children:"Loading user data..."});if(ye.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Le)return l.jsx("p",{children:"Loading dashboard..."});const as=be.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[O.userId])==null?void 0:ue.email)||O.userId).toLowerCase().includes(te)||((Fe=O.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((O,te)=>Xe==="date-desc"?new Date(te.date)-new Date(O.date):Xe==="date-asc"?new Date(O.date)-new Date(te.date):Xe==="amount-desc"?(te.total||0)-(O.total||0):Xe==="amount-asc"?(O.total||0)-(te.total||0):0),J=be.filter(O=>O.status==="Completed"),$e=J.filter(O=>{var ue,Fe;if(!bt)return!0;const te=bt.toLowerCase();return(((ue=qe[O.userId])==null?void 0:ue.email)||O.userId).toLowerCase().includes(te)||((Fe=O.items)==null?void 0:Fe.some(st=>st.name.toLowerCase().includes(te)))}).sort((O,te)=>Xe==="date-desc"?new Date(te.completedAt||te.date)-new Date(O.completedAt||O.date):Xe==="date-asc"?new Date(O.completedAt||O.date)-new Date(te.completedAt||te.date):Xe==="amount-desc"?(te.total||0)-(O.total||0):Xe==="amount-asc"?(O.total||0)-(te.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,te)=>{var ue,Fe,st,nt,_t;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((ue=O.businessInfo)==null?void 0:ue.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((Fe=O.businessInfo)==null?void 0:Fe.email)||""]}),l.jsxs("p",{children:["Phone: ",((st=O.businessInfo)==null?void 0:st.phone)||""]}),l.jsxs("p",{children:["Address: ",((nt=O.businessInfo)==null?void 0:nt.address)||""]}),l.jsxs("p",{children:["Products: ",(_t=O.cart)==null?void 0:_t.map(je=>je.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>x(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>Ve("products"),style:Zo(_e==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>Ve("users"),style:Zo(_e==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>Ve("orders"),style:Zo(_e==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>Ve("medics"),style:Zo(_e==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>Ve("deliveryagents"),style:Zo(_e==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>Ve("coupons"),style:Zo(_e==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",se.email]}),_e==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(QH,{})]})]})]}),_e==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:re,onChange:O=>he(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),le.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:vg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:le.filter(O=>{var ue;return re?(((ue=qe[O.uploadedBy])==null?void 0:ue.businessName)||"").toLowerCase().includes(re.toLowerCase()):!0}).map(O=>{var te,ue;return l.jsxs("tr",{style:xg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((te=qe[O.uploadedBy])==null?void 0:te.businessName)||O.uploadedBy}),l.jsx("td",{children:((ue=O.medicineIds)==null?void 0:ue.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>os(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:O=>c(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>E(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(ne.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:T||"",onChange:O=>_(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(ne.map(O=>O.ownerId).filter(Boolean))].map(O=>{var te;return l.jsx("option",{value:O,children:((te=qe[O])==null?void 0:te.businessName)||O},O)})]})]}),ne.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:vg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ne.filter(O=>{var te,ue;return!(u&&!((te=O.name)!=null&&te.toLowerCase().includes(u.toLowerCase()))||f&&!((ue=O.ingredient)!=null&&ue.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||T&&O.ownerId!==T)}).map(O=>{var te;return l.jsxs("tr",{style:xg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((te=qe[O.ownerId])==null?void 0:te.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Tr(O),children:"Delete"})})]},O.id)})})]})]}),_e==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),me.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:vg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:me.map(O=>l.jsxs("tr",{style:xg,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:te=>Ys(O.id,te.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>ut(O),children:"View Details"})})]},O.id))})]}),it&&l.jsx(XH,{user:it,medicines:ne.filter(O=>O.ownerId===it.id),orders:be.filter(O=>O.userId===it.id),onClose:()=>ut(null)})]}),_e==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>kt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:A,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...De].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),as.length===0?l.jsx("p",{children:"No pending orders."}):as.map(O=>{var si,Wn,on,Qt,Ri;const te=(si=O.items)==null?void 0:si.some(Ne=>Ne.isPOM),ue=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",Fe=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,st=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let nt="N/A",_t=null,je=null;if(O.businessId&&qe[O.businessId]){const Ne=qe[O.businessId];nt=`${Ne.address||""}, ${Ne.city||""}, ${Ne.state||""}`,_t=Ne.lat||null,je=Ne.lng||null}const ot=Ae[O.id]?I[O.id]?O.items:(Wn=O.items)==null?void 0:Wn.slice(0,3):[],Rr=O.items&&O.items.length>3;return l.jsxs("div",{style:bg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Cr(O.id),children:Ae[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((on=qe[O.userId])==null?void 0:on.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ue]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Fe&&st?`${Fe}, ${st}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",nt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",_t&&je?`${_t}, ${je}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Ne=O.riderId||O.assignedAgentId;let Ft=null;return Ne&&qe[Ne]?(Ft=qe[Ne],`${Ft.companyName||Ft.name||Ft.email||Ne}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Ne&&t.length?(Ft=t.find(Bo=>Bo.id===Ne),Ft?`${Ft.companyName||Ft.name||Ft.id}${Ft.phoneNumber||Ft.whatsappNumber?` (${[Ft.phoneNumber,Ft.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Ne):Ne||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Ne=>({...Ne,[O.id]:!Ne[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Ne=>{Ne.target.value&&i(O.id,Ne.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.companyName||Ne.name||Ne.email||Ne.id,Ne.phoneNumber||Ne.whatsappNumber?` (${[Ne.phoneNumber,Ne.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Ne.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),Ae[O.id]&&((Qt=O.items)==null?void 0:Qt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[O.id]?"none":120,overflowY:Rr&&!I[O.id]?"hidden":"auto",marginBottom:4},children:ot.map((Ne,Ft)=>l.jsxs("li",{children:[Ne.name," - ",Ne.price," x ",Ne.quantity||1]},Ft))}),Rr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>C(Ne=>({...Ne,[O.id]:!Ne[O.id]})),children:I[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Ir(O.items||[]),te&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),te&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Q,onChange:Ne=>Y(Ne.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Re,...De].map(Ne=>l.jsxs("option",{value:Ne.id,children:[Ne.name," (",Ne.profession,") - ",Ne.type]},Ne.id))]})]}),l.jsx("button",{onClick:()=>ii(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((Ri=Re.find(Ne=>Ne.id===O.medicVerifiedBy))==null?void 0:Ri.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>kt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:A,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...De].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),$e.length===0?l.jsx("p",{children:"No completed orders found."}):$e.map(O=>{var Rr,si,Wn,on;const te=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",ue=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Fe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(O.businessId&&qe[O.businessId]){const Qt=qe[O.businessId];st=`${Qt.address||""}, ${Qt.city||""}, ${Qt.state||""}`,nt=Qt.lat||null,_t=Qt.lng||null}const je=Ae[O.id]?v[O.id]?O.items:(Rr=O.items)==null?void 0:Rr.slice(0,3):[],ot=O.items&&O.items.length>3;return l.jsxs("div",{style:bg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Cr(O.id),children:Ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((si=qe[O.userId])==null?void 0:si.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[O.id]&&((Wn=O.items)==null?void 0:Wn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:ot&&!v[O.id]?"hidden":"auto",marginBottom:4},children:je.map((Qt,Ri)=>l.jsxs("li",{children:[Qt.name," - ",Qt.price," x ",Qt.quantity||1]},Ri))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>w(Qt=>({...Qt,[O.id]:!Qt[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Ir(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((on=Re.concat(De).find(Qt=>Qt.id===O.medicVerifiedBy))==null?void 0:on.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:bt,onChange:O=>kt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Xe,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:A,onChange:O=>j(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:R,onChange:O=>z(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>B(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Re,...De].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:U,onChange:O=>L(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:V,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:K,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),be.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):be.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var Rr,si,Wn;const te=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",ue=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Fe=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let st="N/A",nt=null,_t=null;if(O.businessId&&qe[O.businessId]){const on=qe[O.businessId];st=`${on.address||""}, ${on.city||""}, ${on.state||""}`,nt=on.lat||null,_t=on.lng||null}const je=Ae[O.id]?v[O.id]?O.items:(Rr=O.items)==null?void 0:Rr.slice(0,3):[],ot=O.items&&O.items.length>3;return l.jsxs("div",{style:bg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Cr(O.id),children:Ae[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((si=qe[O.userId])==null?void 0:si.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):te]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",ue&&Fe?`${ue}, ${Fe}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",st]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",nt&&_t?`${nt}, ${_t}`:"N/A"]}),Ae[O.id]&&((Wn=O.items)==null?void 0:Wn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:ot&&!v[O.id]?"hidden":"auto",marginBottom:4},children:je.map((on,Qt)=>l.jsxs("li",{children:[on.name," - ",on.price," x ",on.quantity||1]},Qt))}),ot&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>w(on=>({...on,[O.id]:!on[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Ir(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),_e==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(JH,{})]}),_e==="coupons"&&l.jsx(GH,{})]})}const Zo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),vg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},xg={borderBottom:"1px solid #eee"},bg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function XH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function JH(){const[t,e]=pe.useState([]),[n,r]=pe.useState([]),[i,s]=pe.useState([]),[o,a]=pe.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=pe.useState(!1),[f,h]=pe.useState(null);pe.useEffect(()=>{(async()=>{const I=await tn(ke(Z,"verifyMedics"));e(I.docs.map(P=>({id:P.id,...P.data()})));const C=await tn(ke(Z,"consultMedics"));r(C.docs.map(P=>({id:P.id,...P.data()})));const v=await tn(ke(Z,"users")),w=[];v.docs.forEach(P=>{const M=P.data();M.role==="medicine-manager"&&M.pharmacist&&w.push({...M.pharmacist,id:P.id,online:!0})}),s(w)})()},[]);const m=async(_,I)=>{await en(Ce(Z,_==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),_==="verify"?e(v=>v.map(w=>w.id===I.id?{...w,online:!I.online}:w)):r(v=>v.map(w=>w.id===I.id?{...w,online:!I.online}:w))},E=_=>{a({...o,[_.target.name]:_.target.value})},T=async _=>{_.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(v=>v.trim()),whatsapp:o.whatsapp},C=o.section==="verify"?"verifyMedics":"consultMedics";f?await en(Ce(Z,C,f.id),I):await ts(ke(Z,C),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:T,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:E,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:E,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:E,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:E,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:E,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:E,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:E,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:E,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((_,I)=>(I.online===!0)-(_.online===!0)).map(_=>{let I=[];return Array.isArray(_.languages)?I=_.languages:typeof _.languages=="string"&&(I=_.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",_),title:_.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:_.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:_.photo,alt:_.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:_.name})}),l.jsx("div",{children:_.profession}),l.jsxs("div",{children:["Pharmacy: ",_.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",_.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${_.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:_.id,section:"verify"}),a({section:"verify",photo:_.photo,name:_.name,profession:_.profession,license:_.license,pharmacyName:_.pharmacyName,languages:Array.isArray(_.languages)?_.languages.join(", "):_.languages,whatsapp:_.whatsapp})},children:"Edit"})]},_.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((_,I)=>(I.online===!0)-(_.online===!0)).map(_=>{let I=[];return Array.isArray(_.languages)?I=_.languages:typeof _.languages=="string"&&(I=_.languages.split(",").map(C=>C.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",_),title:_.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:_.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:_.photo,alt:_.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:_.name})}),l.jsx("div",{children:_.profession}),l.jsxs("div",{children:["License: ",_.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${_.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:_.id,section:"consult"}),a({section:"consult",photo:_.photo,name:_.name,profession:_.profession,license:_.license,languages:Array.isArray(_.languages)?_.languages.join(", "):_.languages,whatsapp:_.whatsapp})},children:"Edit"})]},_.id)})})]})}function ZH(){const{slug:t}=lc();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(Z2,{storeSlug:t})]})}function eq(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),i=Sr(),s=()=>{if(!(m!=null&&m.pharmacist))return null;const{name:x,photo:A}=m.pharmacist;return l.jsxs("button",{onClick:()=>{if(!o)return alert("Please log in to chat");i(`/chat/${m.uid}`,{state:{pharmacist:m.pharmacist,businessName:m.businessName}})},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:j=>j.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:j=>j.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[A&&l.jsx("img",{src:A,alt:x,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Chat with ",x]})},[o,a]=b.useState(null),[u,c]=b.useState(null),f=Br(),{slug:h}=lc(),[m,E]=b.useState(null),[T,_]=b.useState(!0),[I,C]=b.useState([]),[v,w]=b.useState([]),[P,M]=b.useState(""),[N,S]=b.useState(null),p=(x,A,j,R)=>{const z=H=>H*Math.PI/180,B=z(j-x),U=z(R-A),L=Math.sin(B/2)**2+Math.cos(z(x))*Math.cos(z(j))*Math.sin(U/2)**2;return 6371*(2*Math.atan2(Math.sqrt(L),Math.sqrt(1-L)))},g=x=>{const R=x*1.64,z=Math.max(1,Math.round(R/25*60));return{drivingKm:R,minutes:z}};return b.useEffect(()=>{const x=ri(f,A=>{a(A)});return()=>x()},[f]),b.useEffect(()=>{if(!m)return;const x=It(ke(Z,"orders"),A=>{const z=A.docs.map(F=>({id:F.id,...F.data()})).filter(F=>Array.isArray(F.items)&&F.items.some(B=>B.ownerId===m.uid)).filter(F=>!t.includes(F.id));z.length>0&&(z.forEach(F=>{Se.info(` New order received! Order ID: ${F.id}`)}),e(F=>[...F,...z.map(B=>B.id)]))});return()=>x()},[m,t]),b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>S({lat:x.coords.latitude,lng:x.coords.longitude}),()=>S(null))},[]),b.useEffect(()=>{if(!h)return;_(!0),(async()=>{const A=vr(ke(Z,"users"),xr("slug","==",h)),j=await tn(A);if(j.empty)E(null);else{const R=j.docs[0];E({uid:R.id,...R.data()})}_(!1)})()},[h]),b.useEffect(()=>{if(!m)return;const x=vr(ke(Z,"products"),xr("ownerId","==",m.uid)),A=It(x,j=>{const R=j.docs.map(z=>({id:z.id,...z.data()}));C(R)});return()=>A()},[m]),b.useEffect(()=>{if(!I)return;const x=(F="")=>F.toLowerCase().trim().replace(/\s+/g," "),A={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=x(P),R=(A[j]||j).split(" "),z=I.map(F=>{var B,U;if(N&&((B=m.location)!=null&&B.latitude)&&((U=m.location)!=null&&U.longitude)){const L=p(N.lat,N.lng,m.location.latitude,m.location.longitude),{minutes:V}=g(L);return{...F,minutesAway:V}}return{...F,minutesAway:1/0}}).filter(F=>{const B=x(F.name),U=x(F.ingredient),L=x(F.class);return R.some(V=>B.includes(V)||U.includes(V)||L.includes(V))}).sort((F,B)=>F.minutesAway-B.minutesAway);w(z)},[I,P,N,m]),T?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):m===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(s,{}),l.jsxs("h2",{children:[" ",(m==null?void 0:m.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:P,onChange:x=>M(x.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),v.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:v.map(x=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[x.image&&l.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:x.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:x.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",x.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",x.price!==void 0?x.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",m!=null&&m.businessName&&m.businessName.trim()?m.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!o)return alert("Please log in first");const A=Ce(Z,"carts",o.uid),j=await dn(A);let R=j.exists()?j.data().items||[]:[];const z=R.findIndex(F=>F.name===x.name);z>=0?R[z].quantity+=1:R.push({...x,quantity:1}),await br(A,{items:R}),c(x.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>c(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),u===x.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),x.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:x.minutesAway<=1?" Right here":` ~${x.minutesAway} mins away`})]},x.id))})]})}function pn(){return typeof window<"u"&&window.innerWidth<=600}function tq(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState("");if(b.useEffect(()=>{async function a(){const u=await tn(ke(Z,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:pn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:pn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:pn()?15:16,width:pn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:pn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:pn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:pn()?14:32},children:o.map(a=>l.jsxs($h,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:pn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:pn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:pn()?50:80,height:pn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:pn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:pn()?50:80,height:pn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:pn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:pn()?18:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:pn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:pn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:pn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const nq=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},rq=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},XS=["admin","medicine-manager","distributor"],JS=["admin","distributor"];function iq(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState("shop"),[o,a]=b.useState([]),[u,c]=b.useState([]),[f,h]=b.useState(""),[m,E]=b.useState(null),[T,_]=b.useState(null);b.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(w=>E({lat:w.coords.latitude,lng:w.coords.longitude}),()=>E("denied"))},[]),b.useEffect(()=>{const w=It(ke(Z,"products"),async P=>{const M=await Promise.all(P.docs.map(async N=>{var p,g;const S={id:N.id,...N.data()};if(S.ownerId){const x=Ce(Z,"users",S.ownerId),A=await dn(x);if(A.exists()){const j=A.data();S.businessName=j.businessName||"Unknown Distributor",S.ownerSlug=j.slug||null,S.ownerRole=j.role||null,(p=j.location)!=null&&p.latitude&&((g=j.location)!=null&&g.longitude)&&(S.businessLat=j.location.latitude,S.businessLng=j.location.longitude)}}return S}));a(M.filter(N=>N.ownerRole==="distributor"))});return()=>w()},[]),b.useEffect(()=>{if(o.length===0)return;let w=o;if(f.trim()){const P=f.toLowerCase();w=o.filter(M=>M.name&&M.name.toLowerCase().includes(P)||M.ingredient&&M.ingredient.toLowerCase().includes(P)||M.class&&M.class.toLowerCase().includes(P))}m&&m!=="denied"&&(w=w.map(P=>{if(P.businessLat&&P.businessLng){const M=nq(m.lat,m.lng,P.businessLat,P.businessLng),{minutes:N}=rq(M);return{...P,minutesAway:N}}return{...P,minutesAway:1/0}}),w.sort((P,M)=>P.minutesAway-M.minutesAway)),c(w)},[o,f,m]);const I=async w=>{if(!t)return alert("Please login first");try{const P=Ce(Z,"carts",t.uid),M=await dn(P);let N=[];M.exists()&&(N=M.data().items||[]);const S=N.findIndex(p=>p.id===w.id);S>=0?N[S].quantity+=1:N.push({...w,quantity:1}),await br(P,{items:N}),_(`Added ${w.name} to cart!`),setTimeout(()=>_(null),1500)}catch{alert("Error adding to cart")}};if(b.useEffect(()=>{const w=Br(),P=ri(w,async M=>{if(!M){e(null),r(null);return}e(M);const N=Ce(Z,"users",M.uid),S=await dn(N);r(S.exists()?S.data().role:null)});return()=>P()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!XS.includes(n)&&!JS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const C=XS.includes(n),v=JS.includes(n);return i==="shop"&&!C||i==="add"&&!v?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[C&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),v&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&C&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:w=>h(w.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T&&l.jsx("div",{style:{color:"green",marginBottom:10},children:T}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(w=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[w.registeredOnly&&w.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),w.image&&l.jsx("img",{src:w.image,alt:w.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:w.name}),l.jsx("p",{children:l.jsx("em",{children:w.ingredient})}),l.jsxs("p",{children:["Class: ",w.class]}),l.jsxs("p",{children:["Price: ",w.price]}),Array.isArray(w.moqs)&&w.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",w.moqs.map((P,M)=>l.jsx("span",{style:{marginRight:8},children:P.type},M))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",w.businessName]}),w.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:w.minutesAway<=1?" Right here":` ~${w.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(w),children:"Add to Cart"})]},w.id))})]}),i==="add"&&v&&l.jsx(sq,{user:t,role:n})]})}function sq({user:t,role:e}){const[n,r]=pe.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=pe.useState([]),[o,a]=pe.useState(!1);pe.useEffect(()=>{if(e!=="distributor")return;const L=It(ke(Z,"businessRegistrations"),V=>{s(V.docs.filter(H=>H.data().distributorId===t.uid&&H.data().status==="approved").map(H=>H.data()))});return()=>L()},[t,e]);const u=(L,V)=>{const H=n.moqs.map((K,Q)=>Q===L?{type:V.target.value}:K);r({...n,moqs:H})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=L=>{r({...n,moqs:n.moqs.filter((V,H)=>H!==L)})},[h,m]=pe.useState(null),[E,T]=pe.useState([]),[_,I]=pe.useState([]),[C,v]=pe.useState([]),[w,P]=pe.useState(!1),[M,N]=pe.useState(null),[S,p]=pe.useState(null);pe.useEffect(()=>{if(!t)return;const L=It(ke(Z,"products"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.ownerId===t.uid)),T(H)});return()=>L()},[t]),pe.useEffect(()=>{if(!t)return;const L=It(ke(Z,"batches"),V=>{let H=V.docs.map(K=>({id:K.id,...K.data()}));g()||(H=H.filter(K=>K.uploadedBy===t.uid)),I(H)});return()=>L()},[t]);function g(){var L;return(L=t==null?void 0:t.email)==null?void 0:L.includes("admin")}const x=L=>r({...n,[L.target.name]:L.target.value}),A=async()=>{const L=!n.registeredOnly;if(r({...n,registeredOnly:L}),e==="distributor"&&(t!=null&&t.uid)){const V=ke(Z,"products"),H=await getDocs(V),K=[];H.docs.forEach(Q=>{if(Q.data().ownerId===t.uid){const se={registeredOnly:L};L?se.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:se.registeredUniqueId=null,K.push(updateDoc(Ce(Z,"products",Q.id),se))}}),await Promise.all(K),window.location.reload()}},j=async L=>{L.preventDefault(),P(!0),p(null),N(null);try{let V=e,H=null,K=null;if(e==="distributor"){const Y=Ce(Z,"users",t.uid),se=await dn(Y);se.exists()&&(H=se.data().slug||se.data().businessSlug||null),n.registeredOnly&&(K=`${t.uid}_${Date.now()}`)}const Q={...n,ownerId:t.uid,ownerRole:V,ownerSlug:H};K&&(Q.registeredUniqueId=K),h?(await br(Ce(Z,"products",h),Q,{merge:!0}),m(null),N("Medicine updated!")):(await ts(ke(Z,"products"),Q),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}P(!1)},R=L=>{r({name:L.name,ingredient:L.ingredient,class:L.class,price:L.price,image:L.image||"",moqs:L.moqs||[{type:"sachet",value:"",price:""}]}),m(L.id)},z=async L=>{if(window.confirm("Delete this medicine?")){P(!0);try{await Dr(Ce(Z,"products",L.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}P(!1)}},F=L=>{const V=L.target.files[0];V&&tP.parse(V,{header:!0,skipEmptyLines:!0,complete:H=>{v(H.data)},error:()=>p("Failed to parse CSV")})},B=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!C.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),P(!1);return}P(!0),p(null),N(null);const L=Ce(ke(Z,"batches")),V=[];let H=e,K=null;if(e==="distributor"){const Q=Ce(Z,"users",t.uid),Y=await dn(Q);Y.exists()&&(K=Y.data().slug||Y.data().businessSlug||null)}for(let Q of C)try{let Y=[];if(Q.moqs)try{Y=JSON.parse(Q.moqs)}catch{}let se=null;e==="distributor"&&Q.registeredOnly===!0&&(se=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const ce=await ts(ke(Z,"products"),{name:Q.name,ingredient:Q.ingredient,class:Q.class,price:parseInt(Q.price,10)||0,image:Q.image||"",batchId:L.id,ownerId:t.uid,ownerRole:H,ownerSlug:K,moqs:Y,registeredOnly:!!Q.registeredOnly,...se?{registeredUniqueId:se}:{}});V.push(ce.id)}catch{}await br(L,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:V}),N(`${V.length} medicines uploaded`),v([]),P(!1)},U=async L=>{if(window.confirm("Delete this batch and its medicines?")){P(!0);try{for(let V of L.medicineIds)await Dr(Ce(Z,"products",V));await Dr(Ce(Z,"batches",L.id)),N("Batch deleted")}catch{p("Error deleting batch")}P(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(L=>!L),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((L,V)=>{var H,K,Q;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((H=L.businessInfo)==null?void 0:H.businessName)||L.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((K=L.businessInfo)==null?void 0:K.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=L.businessInfo)==null?void 0:Q.phone)||""})]},V)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:j,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:x,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:x,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:x,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:x,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:x,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:A,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((L,V)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:L.type,onChange:H=>u(V,H),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(V),style:{color:"red"},children:""})]},V)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:w,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),C.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:B,disabled:w,children:["Submit CSV (",C.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",g()&&"(All Users)"]}),E.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:E.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:L.ingredient}),l.jsx("td",{children:L.class}),l.jsx("td",{children:L.price}),l.jsx("td",{children:Array.isArray(L.moqs)&&L.moqs.length>0?L.moqs.map((V,H)=>l.jsx("span",{style:{marginRight:8},children:V.type},H)):"-"}),l.jsx("td",{children:L.image&&l.jsx("img",{src:L.image,alt:L.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>R(L),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>z(L),children:"Delete"})]})]},L.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",g()&&"(All Users)"]}),_.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:_.map(L=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:L.name}),l.jsx("td",{children:new Date(L.date).toLocaleString()}),l.jsx("td",{children:L.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>U(L),children:"Delete Batch"})})]},L.id))})]}),M&&l.jsx("div",{style:{color:"green",marginTop:10},children:M}),S&&l.jsx("div",{style:{color:"red",marginTop:10},children:S})]})}function ZS({medics:t}){const e=Sr();return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((n,r)=>(r.online===!0)-(n.online===!0)).map(n=>{let r=[];Array.isArray(n.languages)?r=n.languages:typeof n.languages=="string"&&(r=n.languages.split(",").map(s=>s.trim()).filter(Boolean));const i=()=>{e("/payment",{state:{cart:[{name:`Consultation with ${n.name}`,price:3e3,quantity:1,isConsultation:!0,whatsapp:n.whatsapp,medicName:n.name,medicId:n.id}],total:3e3,fromMedinterface:!0}})};return l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:i,children:[l.jsx("span",{title:n.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:n.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:n.photo,alt:n.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:n.name}),l.jsx("div",{children:n.profession}),n.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:n.pharmacyName}),l.jsxs("div",{children:["License: ",n.license]}),l.jsxs("div",{children:["Languages: ",r.join(", ")]})]},n.id)})})}function oq(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState("verify"),[o,a]=b.useState("");return b.useEffect(()=>{(async()=>{let f=(await tn(ke(Z,"verifyMedics"))).docs.map(E=>({id:E.id,...E.data()}));(await tn(ke(Z,"users"))).docs.forEach(E=>{const T=E.data();T.role==="medicine-manager"&&T.pharmacist&&f.push({...T.pharmacist,id:E.id,online:!0})}),e(f);const m=await tn(ke(Z,"consultMedics"));r(m.docs.map(E=>({id:E.id,...E.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(ZS,{medics:t.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(ZS,{medics:n.filter(u=>{var m,E;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((E=u.pharmacyName)==null?void 0:E.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}var _g={};const aq=Ei(z7);var eE;function oP(){return eE||(eE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=aq}(_g)),_g}var rb={},lq=Gp;Object.defineProperty(rb,"__esModule",{value:!0});var aP=rb.default=void 0,uq=lq(oP()),cq=l,dq=(0,uq.default)((0,cq.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");aP=rb.default=dq;var ib={},fq=Gp;Object.defineProperty(ib,"__esModule",{value:!0});var lP=ib.default=void 0,hq=fq(oP()),pq=l,mq=(0,hq.default)((0,pq.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");lP=ib.default=mq;const gq="/psx_logo.svg",yq=[{label:"Shop",to:"/shop"},{label:"Orders",to:"/orders"},{label:"Medinterface",to:"/medinterface"}];function vq(){const t=Sr();return l.jsx(lH,{position:"sticky",color:"default",elevation:1,sx:{zIndex:1201},children:l.jsx(VH,{sx:{minWidth:0,p:0},children:l.jsxs(Xt,{sx:{width:"100%",maxWidth:850,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",px:0},children:[l.jsx(Xt,{sx:{display:"flex",alignItems:"center",flexGrow:1,cursor:"pointer"},onClick:()=>t("/"),children:l.jsx("img",{src:gq,alt:"Logo",style:{height:40}})}),l.jsxs(Xt,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1.2,md:2},flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-end",sm:"flex-end"},maxWidth:{xs:"70vw",sm:"none"}},children:[yq.map(e=>l.jsx(Ct,{component:$h,to:e.to,sx:{color:"#333",textDecoration:"none",fontWeight:500,mx:{xs:.2,sm:1},fontSize:{xs:13,sm:15,md:16},px:{xs:.5,sm:1},py:{xs:.5,sm:0},borderRadius:1,"&:hover":{color:"#00796b"},whiteSpace:"nowrap"},children:e.label},e.to)),l.jsx(_v,{color:"inherit",onClick:()=>t("/cart"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(aP,{fontSize:"small"})}),l.jsx(_v,{color:"inherit",onClick:()=>t("/auth"),sx:{ml:{xs:.2,sm:1}},children:l.jsx(lP,{fontSize:"small"})})]})]})})})}function xq(){const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState("");function o(q){if(!i.trim())return q;const ne=i.trim().toLowerCase();return q.filter(W=>{var be,Ye,_e,Ve,Ae,Qe,it,ut,Le,yt,Re,We,De,Ee,bt,kt;const le=(((be=E[W.userId])==null?void 0:be.email)||"").toLowerCase(),ee=(W.items&&W.items[0]&&((Ye=c[W.items[0].ownerId])==null?void 0:Ye.name)||"").toLowerCase(),re=((((_e=W.deliveryInfo)==null?void 0:_e.address)||"")+" "+(((Ve=W.deliveryInfo)==null?void 0:Ve.city)||"")+" "+(((Ae=W.deliveryInfo)==null?void 0:Ae.state)||"")).toLowerCase(),he=W.items&&W.items[0]&&((((Qe=c[W.items[0].ownerId])==null?void 0:Qe.address)||"")+" "+(((it=c[W.items[0].ownerId])==null?void 0:it.city)||"")+" "+(((ut=c[W.items[0].ownerId])==null?void 0:ut.state)||"")).toLowerCase()||"",me=[(Le=W.deliveryInfo)==null?void 0:Le.lat,(yt=W.deliveryInfo)==null?void 0:yt.lng,(De=c[(We=(Re=W.items)==null?void 0:Re[0])==null?void 0:We.ownerId])==null?void 0:De.lat,(kt=c[(bt=(Ee=W.items)==null?void 0:Ee[0])==null?void 0:bt.ownerId])==null?void 0:kt.lng].filter(Boolean).join(",").toLowerCase(),ve=(W.items||[]).map(Xe=>Xe.name).join(", ").toLowerCase();return le.includes(ne)||ee.includes(ne)||re.includes(ne)||he.includes(ne)||me.includes(ne)||ve.includes(ne)})}const[a,u]=pe.useState("processing"),[c,f]=b.useState({});b.useEffect(()=>{const q=It(ke(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();ee.role==="medicine-manager"&&(W[le.id]={name:ee.businessName||le.id,address:ee.businessAddress||ee.address||"-",lat:ee.lat||ee.latitude||null,lng:ee.lng||ee.longitude||null})}),f(W)});return()=>q()},[]);const[h,m]=b.useState(!0);b.useEffect(()=>{const q=Br(),ne=ri(q,W=>{e(W),m(!1)});return()=>ne()},[]),b.useEffect(()=>{if(h||!t)return;const q=It(ke(Z,"orders"),ne=>{const ee=ne.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.status==="Processing"&&!re.assignedAgentId&&re.deliveryType&&re.deliveryType.toLowerCase()==="express").filter(re=>!n.includes(re.id));ee.length>0&&(ee.forEach(re=>{Se.info(` New express delivery order! Order ID: ${re.id}`)}),r(re=>[...re,...ee.map(he=>he.id)]))});return()=>q()},[h,t,n]);const[E,T]=b.useState({});b.useEffect(()=>{const q=It(ke(Z,"users"),ne=>{const W={};ne.docs.forEach(le=>{const ee=le.data();W[le.id]=ee.email||le.id}),T(W)});return()=>q()},[]);const[_,I]=b.useState([]),[C,v]=b.useState([]),[w,P]=b.useState([]),[M,N]=b.useState(()=>{const q=localStorage.getItem("agentCanceledOrders");return q?JSON.parse(q):[]}),[S,p]=b.useState({}),[g,x]=b.useState({}),[A,j]=b.useState(null),{slug:R}=lc(),[z,F]=b.useState(null),[B,U]=b.useState(!1),[L,V]=b.useState(!0),[H,K]=b.useState("availability");b.useEffect(()=>{if(h||!t)return;const q=It(ke(Z,"orders"),ne=>{const W=ne.docs.map(le=>({id:le.id,...le.data()}));I(W.filter(le=>le.status==="Completed"&&le.assignedAgentId===t.uid)),P(W.filter(le=>le.status==="In-Progress"&&le.assignedAgentId===t.uid)),v(W.filter(le=>le.status==="Processing"&&!le.assignedAgentId&&!M.some(ee=>ee.id===le.id)&&le.deliveryType&&le.deliveryType.toLowerCase()==="express"))});return()=>q()},[h,t,M]);const Q=async q=>{j(q);try{await en(Ce(Z,"orders",q),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:z.slug,assignedAgentName:z.companyName,companyName:z.companyName,agentPhoneNumber:z.phoneNumber||"",agentWhatsappNumber:z.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),Se.success("Order accepted!")}catch{Se.error("Failed to accept order")}j(null)},Y=async q=>{try{await en(Ce(Z,"orders",q),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),Se.success("Order marked as delivered!")}catch{Se.error("Failed to mark as delivered")}},se=async q=>{try{await en(Ce(Z,"orders",q),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),Se.info("Order moved back to processing.")}catch{Se.error("Failed to move order back to processing")}},ce=q=>{const ne=C.find(W=>W.id===q)||w.find(W=>W.id===q);ne&&(N(W=>{const le=[...W,ne];return localStorage.setItem("agentCanceledOrders",JSON.stringify(le)),le}),u("canceled"))};b.useEffect(()=>{const q=ne=>{ne.key==="agentCanceledOrders"&&N(ne.newValue?JSON.parse(ne.newValue):[])};return window.addEventListener("storage",q),()=>window.removeEventListener("storage",q)},[]);const ye=async()=>{if(z){U(!0);try{const q=Ce(Z,"deliveryAgents",z.id);await en(q,{available:!z.available}),F({...z,available:!z.available}),Se.success("Availability updated.")}catch{Se.error("Failed to update availability")}U(!1)}};return b.useEffect(()=>{async function q(){V(!0);const W=(await tn(ke(Z,"deliveryAgents"))).docs.map(re=>re.data());console.log("All agent slugs:",W.map(re=>re.slug));const le=vr(ke(Z,"deliveryAgents"),xr("slug","==",R),xr("approved","==",!0)),ee=await tn(le);ee.empty?F(null):F({id:ee.docs[0].id,...ee.docs[0].data()}),V(!1)}q()},[R]),L||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):z?!t||t.uid!==z.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:z.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:z.companyName}),l.jsxs("div",{children:["Phone: ",z.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",z.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",z.rcNumber]}),l.jsxs("div",{children:["Address: ",z.businessAddress]}),l.jsxs("div",{children:["Email: ",z.email]}),l.jsxs("div",{children:["Coverage: ",z.coverageArea]}),l.jsxs("div",{children:["Hours: ",z.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="availability"?"2px solid #1976d2":"1px solid #ccc",background:H==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:H==="orders"?"2px solid #1976d2":"1px solid #ccc",background:H==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>K("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[H==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",z.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ye,disabled:B,children:z.available?"Set Not Available":"Set Available"})]})]}),H==="orders"&&(z.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:q=>s(q.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(M).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(M).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},q.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(C).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(C).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof q.deliveryType," | ",JSON.stringify(q.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;let re=W.lat,he=W.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),re&&he?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",re,", ",he]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Q(q.id),disabled:A===q.id,children:A===q.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>ce(q.id),children:"Cancel Order"})]})]},q.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(w).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(w).map(q=>{var ee;const ne=!!S[q.id],W=!!g[q.id],le=async()=>{await Y(q.id),p(re=>({...re,[q.id]:!0})),x(re=>({...re,[q.id]:!0})),setTimeout(()=>x(re=>({...re,[q.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const re=c[q.items[0].ownerId],he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:re.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):he}),re.lat&&re.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",re.lat,", ",re.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const re=q.deliveryInfo||{},he=`${re.address||""}, ${re.city||""}, ${re.state||""}`,me=!re.address&&!re.city&&!re.state;let ve=re.lat,be=re.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:me?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):he}),ve&&be?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",ve,", ",be]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ee=q.items)==null?void 0:ee.map(re=>`${re.name} x${re.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:le,disabled:ne,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:ne?"not-allowed":"pointer",opacity:ne?.5:1},onClick:()=>se(q.id),disabled:ne,children:"Failed"})]}),W&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),ne&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},q.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(_).map(q=>{var ne;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",q.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),q.items&&q.items.length>0&&c[q.items[0].ownerId]&&(()=>{const W=c[q.items[0].ownerId],le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:W.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):le}),W.lat&&W.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:q.customerName||E[q.userId]||q.userId}),(()=>{const W=q.deliveryInfo||{},le=`${W.address||""}, ${W.city||""}, ${W.state||""}`,ee=!W.address&&!W.city&&!W.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:ee?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):le}),W.lat&&W.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",W.lat,", ",W.lng]}):E[q.userId]&&E[q.userId].lat&&E[q.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",E[q.userId].lat,", ",E[q.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(ne=q.items)==null?void 0:ne.map(W=>`${W.name} x${W.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:q.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",q.completedAt?new Date(q.completedAt).toLocaleString():"-"]})]},q.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function tE(){const[t,e]=b.useState([]),[n,r]=b.useState(!0);return b.useEffect(()=>{async function i(){r(!0);const s=vr(ke(Z,"deliveryAgents"),xr("approved","==",!0)),o=await tn(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx($h,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const bq=Bx({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});async function _q(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{e({url:r.result,isBase64:!0})},r.onerror=n,r.readAsDataURL(t)})}function wq(){var p,g;const{businessId:t}=lc(),e=Mo(),n=Sr(),[r,i]=b.useState(null),[s,o]=b.useState(null),[a,u]=b.useState([]),[c,f]=b.useState(""),[h,m]=b.useState(((p=e.state)==null?void 0:p.pharmacist)||null),[E,T]=b.useState(((g=e.state)==null?void 0:g.businessName)||"Pharmacy"),[_,I]=b.useState(null),[C,v]=b.useState(null),[w,P]=b.useState(!1),M=b.useRef(null);b.useEffect(()=>{const x=Br(),A=ri(x,j=>{j?i(j):n("/auth")});return()=>A()},[n]),b.useEffect(()=>{h&&E||t&&dn(Ce(Z,"users",t)).then(x=>{if(x.exists()){const A=x.data();m(A.pharmacist||null),T(A.businessName||"Pharmacy")}})},[t,h,E]),b.useEffect(()=>{if(!r||!t)return;const x=ke(Z,"chats"),A=vr(x,xr("participants","array-contains",r.uid));tn(A).then(j=>{let R=null;j.forEach(z=>{z.data().participants.includes(t)&&(R=z.id)}),R?o(R):ts(x,{participants:[r.uid,t],createdAt:Uy()}).then(z=>o(z.id))})},[r,t]),b.useEffect(()=>{if(!s)return;const x=vr(ke(Z,"chats",s,"messages"),lR("timestamp","asc")),A=It(x,j=>{u(j.docs.map(R=>({id:R.id,...R.data()})))});return()=>A()},[s]),b.useEffect(()=>{var x;(x=M.current)==null||x.scrollIntoView({behavior:"smooth"})},[a]);const N=async x=>{if(x.preventDefault(),!c.trim()&&!_||!r||!s)return;let A=null,j=!1;if(_){P(!0);try{const{url:R,isBase64:z}=await _q(_);A=R,j=z}catch{alert("Image upload failed")}P(!1)}await ts(ke(Z,"chats",s,"messages"),{text:c,image:A||null,isBase64:j,sender:r.uid,senderName:r.displayName||r.email,timestamp:Uy()}),f(""),I(null),v(null)},S=x=>{const A=x.target.files[0];A&&(I(A),v(URL.createObjectURL(A)))};return r?l.jsxs("div",{style:{maxWidth:500,margin:"40px auto",background:"#fff",borderRadius:12,boxShadow:"0 2px 16px #c7d2fe33",padding:24,minHeight:400,display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{fontWeight:700,fontSize:20,marginBottom:12,color:"#6366f1",display:"flex",alignItems:"center",gap:10},children:[(h==null?void 0:h.photo)&&l.jsx("img",{src:h.photo,alt:h.name,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover"}}),"Chat with ",(h==null?void 0:h.name)||"Pharmacist"," ",l.jsxs("span",{style:{color:"#888",fontWeight:400,fontSize:15},children:["(",E,")"]})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",marginBottom:16,background:"#f4f6fb",borderRadius:8,padding:12,minHeight:200},children:[a.map(x=>l.jsxs("div",{style:{marginBottom:10,textAlign:x.sender===(r==null?void 0:r.uid)?"right":"left"},children:[x.image&&l.jsx("div",{style:{marginBottom:4},children:l.jsx("img",{src:x.image,alt:"chat-img",style:{maxWidth:180,maxHeight:180,borderRadius:10,border:"1px solid #ddd"}})}),x.text&&l.jsx("span",{style:{background:x.sender===(r==null?void 0:r.uid)?"#6366f1":"#e0e7ff",color:x.sender===(r==null?void 0:r.uid)?"#fff":"#222",padding:"8px 14px",borderRadius:16,display:"inline-block",maxWidth:320,wordBreak:"break-word"},children:x.text}),l.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:x.senderName})]},x.id)),l.jsx("div",{ref:M})]}),l.jsxs("form",{onSubmit:N,style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("input",{type:"text",value:c,onChange:x=>f(x.target.value),placeholder:"Type your message...",style:{flex:1,padding:10,borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("label",{style:{cursor:"pointer",margin:0},children:[l.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:S}),l.jsx("span",{style:{fontSize:22,color:"#6366f1",padding:"0 8px"},children:""})]}),C&&l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx("img",{src:C,alt:"preview",style:{width:40,height:40,objectFit:"cover",borderRadius:6,border:"1px solid #ccc"}}),l.jsx("button",{type:"button",onClick:()=>{I(null),v(null)},style:{position:"absolute",top:-8,right:-8,background:"#fff",border:"1px solid #ccc",borderRadius:"50%",width:18,height:18,fontSize:12,cursor:"pointer",lineHeight:"16px",padding:0},children:""})]}),l.jsx("button",{type:"submit",style:{background:w?"#bbb":"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"10px 18px",fontWeight:600,cursor:w?"not-allowed":"pointer"},disabled:w,children:w?"Sending...":"Send"})]})]}):null}function nE(){return l.jsx(EN,{to:"/auth",replace:!0})}Cg.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsxs(F8,{theme:bq,children:[l.jsx(fH,{}),l.jsx(ON,{children:l.jsxs(l.Fragment,{children:[l.jsx(vq,{}),l.jsx(Sq,{}),l.jsx(J2,{onClick:()=>window.open("https://wa.me/2349050006638","_blank")}),l.jsxs(CN,{children:[l.jsx(Yt,{path:"/signup",element:l.jsx(nE,{})}),l.jsx(Yt,{path:"/login",element:l.jsx(nE,{})}),l.jsx(Yt,{path:"/agent/:slug",element:l.jsx(xq,{})}),l.jsx(Yt,{path:"/agents",element:l.jsx(tE,{})}),l.jsx(Yt,{path:"/",element:l.jsx(C7,{})}),l.jsx(Yt,{path:"/shop",element:l.jsx(R7,{})}),l.jsx(Yt,{path:"/cart",element:l.jsx(Z2,{})}),l.jsx(Yt,{path:"/auth",element:l.jsx(N7,{})}),l.jsx(Yt,{path:"/orders",element:l.jsx(P7,{})}),l.jsx(Yt,{path:"/add-medicine",element:l.jsx(D7,{})}),l.jsx(Yt,{path:"/payment",element:l.jsx(KH,{})}),l.jsx(Yt,{path:"/admin",element:l.jsx(YH,{})}),l.jsx(Yt,{path:"/store",element:l.jsx(tq,{})}),l.jsx(Yt,{path:"/store/:slug",element:l.jsx(eq,{})}),l.jsx(Yt,{path:"/store/:slug/cart",element:l.jsx(ZH,{})}),l.jsx(Yt,{path:"/restock",element:l.jsx(iq,{})}),l.jsx(Yt,{path:"/medinterface",element:l.jsx(oq,{})}),l.jsx(Yt,{path:"/businesses",element:l.jsx(D4,{})}),l.jsx(Yt,{path:"/agents",element:l.jsx(tE,{})}),l.jsx(Yt,{path:"/chat/:businessId",element:l.jsx(wq,{})})]}),l.jsx(PA,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function Sq(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Sr();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
