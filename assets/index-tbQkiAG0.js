function aA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var DS={exports:{}},hh={},$S={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=Symbol.for("react.element"),lA=Symbol.for("react.portal"),uA=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),fA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),yA=Symbol.for("react.lazy"),T_=Symbol.iterator;function vA(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,zS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||FS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BS(){}BS.prototype=tl.prototype;function cv(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||FS}var dv=cv.prototype=new BS;dv.constructor=cv;VS(dv,tl.prototype);dv.isPureReactComponent=!0;var C_=Array.isArray,US=Object.prototype.hasOwnProperty,fv={current:null},WS={key:!0,ref:!0,__self:!0,__source:!0};function HS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)US.call(e,r)&&!WS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zu,type:t,key:s,ref:o,props:i,_owner:fv.current}}function xA(t,e){return{$$typeof:Zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zu}function _A(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I_=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_A(""+t.key):e.toString(36)}function Td(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zu:case lA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+am(o,0):r,C_(i)?(n="",t!=null&&(n=t.replace(I_,"$&/")+"/"),Td(i,e,n,"",function(c){return c})):i!=null&&(hv(i)&&(i=xA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",C_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+am(s,a);o+=Td(s,e,n,u,i)}else if(u=vA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+am(s,a++),o+=Td(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var r=[],i=0;return Td(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kn={current:null},Cd={transition:null},wA={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:fv};function qS(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!hv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=tl;Ye.Fragment=uA;Ye.Profiler=dA;Ye.PureComponent=cv;Ye.StrictMode=cA;Ye.Suspense=mA;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wA;Ye.act=qS;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)US.call(e,u)&&!WS.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:hA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fA,_context:t},t.Consumer=t};Ye.createElement=HS;Ye.createFactory=function(t){var e=HS.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:pA,render:t}};Ye.isValidElement=hv;Ye.lazy=function(t){return{$$typeof:yA,_payload:{_status:-1,_result:t},_init:bA}};Ye.memo=function(t,e){return{$$typeof:gA,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Cd.transition;Cd.transition={};try{t()}finally{Cd.transition=e}};Ye.unstable_act=qS;Ye.useCallback=function(t,e){return Kn.current.useCallback(t,e)};Ye.useContext=function(t){return Kn.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Kn.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Kn.current.useEffect(t,e)};Ye.useId=function(){return Kn.current.useId()};Ye.useImperativeHandle=function(t,e,n){return Kn.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return Kn.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Kn.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Kn.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return Kn.current.useReducer(t,e,n)};Ye.useRef=function(t){return Kn.current.useRef(t)};Ye.useState=function(t){return Kn.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return Kn.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return Kn.current.useTransition()};Ye.version="18.3.1";$S.exports=Ye;var w=$S.exports;const pe=fh(w),Zd=aA({__proto__:null,default:pe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=w,EA=Symbol.for("react.element"),TA=Symbol.for("react.fragment"),CA=Object.prototype.hasOwnProperty,IA=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kA={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CA.call(e,r)&&!kA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EA,type:t,key:s,ref:o,props:i,_owner:IA.current}}hh.Fragment=TA;hh.jsx=KS;hh.jsxs=KS;DS.exports=hh;var l=DS.exports;function GS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GS(t))&&(r&&(r+=" "),r+=e);return r}function RA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}RA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ec=t=>typeof t=="number"&&!isNaN(t),oo=t=>typeof t=="string",Fi=t=>typeof t=="function",PA=t=>oo(t)||ec(t),mg=t=>oo(t)||Fi(t)?t:null,AA=(t,e)=>t===!1||ec(t)&&t>0?t:e,gg=t=>w.isValidElement(t)||oo(t)||Fi(t)||ec(t);function jA(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function OA({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,S=n?`${e}--${o}`:e,E=w.useRef(0);return w.useLayoutEffect(()=>{let b=c.current,I=m.split(" "),T=v=>{v.target===c.current&&(h(),b.removeEventListener("animationend",T),b.removeEventListener("animationcancel",T),E.current===0&&v.type!=="animationcancel"&&b.classList.remove(...I))};b.classList.add(...I),b.addEventListener("animationend",T),b.addEventListener("animationcancel",T)},[]),w.useEffect(()=>{let b=c.current,I=()=>{b.removeEventListener("animationend",I),r?jA(b,u,i):u()};f||(a?I():(E.current=1,b.className+=` ${S}`,b.addEventListener("animationend",I)))},[f]),pe.createElement(pe.Fragment,null,s)}}function k_(t,e){return{content:QS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function QS(t,e,n=!1){return w.isValidElement(t)&&!oo(t.type)?w.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Fi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function NA({closeToast:t,theme:e,ariaLabel:n="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LA({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let S=Ne("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),E=Fi(s)?s({rtl:u,type:r,defaultClassName:S}):Ne(S,s),b={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:E,style:m,...b}))}var MA=1,YS=()=>`${MA++}`;function DA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=v=>(c.add(v),()=>c.delete(v)),h=()=>{o=Array.from(u.values()),c.forEach(v=>v())},m=({containerId:v,toastId:_,updateId:R})=>{let L=v?v!==t:t!==1,N=u.has(_)&&R==null;return L||N},S=(v,_)=>{u.forEach(R=>{var L;(_==null||_===R.props.toastId)&&((L=R.toggle)==null||L.call(R,v))})},E=v=>{var _,R;(R=(_=v.props)==null?void 0:_.onClose)==null||R.call(_,v.removalReason),v.isActive=!1},b=v=>{if(v==null)u.forEach(E);else{let _=u.get(v);_&&E(_)}h()},I=()=>{i-=s.length,s=[]},T=v=>{var _,R;let{toastId:L,updateId:N}=v.props,g=N==null;v.staleId&&u.delete(v.staleId),v.isActive=!0,u.set(L,v),h(),n(k_(v,g?"added":"updated")),g&&((R=(_=v.props).onOpen)==null||R.call(_))};return{id:t,props:a,observe:f,toggle:S,removeToast:b,toasts:u,clearQueue:I,buildToast:(v,_)=>{if(m(_))return;let{toastId:R,updateId:L,data:N,staleId:g,delay:p}=_,y=L==null;y&&i++;let C={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([A,P])=>P!=null)),toastId:R,updateId:L,data:N,isIn:!1,className:mg(_.className||a.toastClassName),progressClassName:mg(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:AA(_.autoClose,a.autoClose),closeToast(A){u.get(R).removalReason=A,b(R)},deleteToast(){let A=u.get(R);if(A!=null){if(n(k_(A,"removed")),u.delete(R),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};C.closeButton=a.closeButton,_.closeButton===!1||gg(_.closeButton)?C.closeButton=_.closeButton:_.closeButton===!0&&(C.closeButton=gg(a.closeButton)?a.closeButton:!0);let j={content:v,props:C,staleId:g};a.limit&&a.limit>0&&i>a.limit&&y?s.push(j):ec(p)?setTimeout(()=>{T(j)},p):T(j)},setProps(v){a=v},setToggle:(v,_)=>{let R=u.get(v);R&&(R.toggle=_)},isToastActive:v=>{var _;return(_=u.get(v))==null?void 0:_.isActive},getSnapshot:()=>o}}var Wn=new Map,vu=[],yg=new Set,$A=t=>yg.forEach(e=>e(t)),XS=()=>Wn.size>0;function FA(){vu.forEach(t=>ZS(t.content,t.options)),vu=[]}var VA=(t,{containerId:e})=>{var n;return(n=Wn.get(e||1))==null?void 0:n.toasts.get(t)};function JS(t,e){var n;if(e)return!!((n=Wn.get(e))!=null&&n.isToastActive(t));let r=!1;return Wn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function zA(t){if(!XS()){vu=vu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||PA(t))Wn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Wn.get(t.containerId);e?e.removeToast(t.id):Wn.forEach(n=>{n.removeToast(t.id)})}}var BA=(t={})=>{Wn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function ZS(t,e){gg(t)&&(XS()||vu.push({content:t,options:e}),Wn.forEach(n=>{n.buildToast(t,e)}))}function UA(t){var e;(e=Wn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function eE(t,e){Wn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function WA(t){let e=t.containerId||1;return{subscribe(n){let r=DA(e,t,$A);Wn.set(e,r);let i=r.observe(n);return FA(),()=>{i(),Wn.delete(e)}},setProps(n){var r;(r=Wn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wn.get(e))==null?void 0:n.getSnapshot()}}}function HA(t){return yg.add(t),()=>{yg.delete(t)}}function qA(t){return t&&(oo(t.toastId)||ec(t.toastId))?t.toastId:YS()}function tc(t,e){return ZS(t,e),e.toastId}function ph(t,e){return{...e,type:e&&e.type||t,toastId:qA(e)}}function mh(t){return(e,n)=>tc(e,ph(t,n))}function xe(t,e){return tc(t,ph("default",e))}xe.loading=(t,e)=>tc(t,ph("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function KA(t,{pending:e,error:n,success:r},i){let s;e&&(s=oo(e)?xe.loading(e,i):xe.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){xe.dismiss(s);return}let m={type:c,...o,...i,data:h},S=oo(f)?{render:f}:f;return s?xe.update(s,{...m,...S}):xe(S.render,{...m,...S}),h},u=Fi(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}xe.promise=KA;xe.success=mh("success");xe.info=mh("info");xe.error=mh("error");xe.warning=mh("warning");xe.warn=xe.warning;xe.dark=(t,e)=>tc(t,ph("default",{theme:"dark",...e}));function GA(t){zA(t)}xe.dismiss=GA;xe.clearWaitingQueue=BA;xe.isActive=JS;xe.update=(t,e={})=>{let n=VA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:YS()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,tc(o,s)}};xe.done=t=>{xe.update(t,{progress:1})};xe.onChange=HA;xe.play=t=>eE(!0,t);xe.pause=t=>eE(!1,t);function QA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=w.useRef(WA(t)).current;i(t);let s=(e=w.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:JS,count:s==null?void 0:s.length}}function YA(t){let[e,n]=w.useState(!1),[r,i]=w.useState(!1),s=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;UA({id:t.toastId,containerId:t.containerId,fn:n}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{S()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||T(),window.addEventListener("focus",I),window.addEventListener("blur",T)}function S(){window.removeEventListener("focus",I),window.removeEventListener("blur",T)}function E(g){if(t.draggable===!0||t.draggable===g.pointerType){v();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=g.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=g.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(g){let{top:p,bottom:y,left:C,right:j}=s.current.getBoundingClientRect();g.nativeEvent.type!=="touchend"&&t.pauseOnHover&&g.clientX>=C&&g.clientX<=j&&g.clientY>=p&&g.clientY<=y?T():I()}function I(){n(!0)}function T(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",L)}function _(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",L)}function R(g){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&T(),t.draggableDirection==="x"?o.delta=g.clientX-o.start:o.delta=g.clientY-o.start,o.start!==g.clientX&&(o.canCloseOnClick=!1);let y=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${y},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function L(){_();let g=s.current;if(o.canDrag&&o.didMove&&g){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}g.style.transition="transform 0.2s, opacity 0.2s",g.style.removeProperty("transform"),g.style.removeProperty("opacity")}}let N={onPointerDown:E,onPointerUp:b};return a&&u&&(N.onMouseEnter=T,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=g=>{f&&f(g),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var XA=typeof window<"u"?w.useLayoutEffect:w.useEffect,gh=({theme:t,type:e,isLoading:n,...r})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function JA(t){return pe.createElement(gh,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ZA(t){return pe.createElement(gh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function e2(t){return pe.createElement(gh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function t2(t){return pe.createElement(gh,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function n2(){return pe.createElement("div",{className:"Toastify__spinner"})}var vg={info:ZA,warning:JA,success:e2,error:t2,spinner:n2},r2=t=>t in vg;function i2({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Fi(r)?i=r({...s,isLoading:n}):w.isValidElement(r)?i=w.cloneElement(r,s):n?i=vg.spinner():r2(e)&&(i=vg[e](s))),i}var s2=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=YA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:S,position:E,className:b,style:I,progressClassName:T,updateId:v,role:_,progress:R,rtl:L,toastId:N,deleteToast:g,isIn:p,isLoading:y,closeOnClick:C,theme:j,ariaLabel:A}=t,P=Ne("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":C}),W=Fi(b)?b({rtl:L,position:E,type:f,defaultClassName:P}):Ne(P,b),F=i2(t),H=!!R||!u,B={closeToast:m,type:f,theme:j},D=null;return o===!1||(Fi(o)?D=o(B):w.isValidElement(o)?D=w.cloneElement(o,B):D=NA(B)),pe.createElement(S,{isIn:p,done:g,position:E,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:W,...i,style:I,ref:r,...p&&{role:_,"aria-label":A}},F!=null&&pe.createElement("div",{className:Ne("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!y})},F),QS(a,t,!e),D,!t.customProgressBar&&pe.createElement(LA,{...v&&!H?{key:`p-${v}`}:{},rtl:L,theme:j,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:T,controlledProgress:H,progress:R||0})))},o2=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),a2=OA(o2("bounce",!0)),l2={position:"top-right",transition:a2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function u2(t){let e={...l2,...t},n=t.stacked,[r,i]=w.useState(!0),s=w.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=QA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:S}=e;function E(I){let T=Ne("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return Fi(c)?c({position:I,rtl:h,defaultClassName:T}):Ne(T,mg(c))}function b(){n&&(i(!0),xe.play())}return XA(()=>{var I;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),v=12,_=(I=e.position)==null?void 0:I.includes("top"),R=0,L=0;Array.from(T).reverse().forEach((N,g)=>{let p=N;p.classList.add("Toastify__toast--stacked"),g>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=_?"top":"bot");let y=R*(r?.2:1)+(r?0:v*g);p.style.setProperty("--y",`${_?y:y*-1}px`),p.style.setProperty("--g",`${v}`),p.style.setProperty("--s",`${1-(r?L:0)}`),R+=p.offsetHeight,L+=.025})}},[r,u,n]),w.useEffect(()=>{function I(T){var v;let _=s.current;S(T)&&((v=_.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),xe.pause()),T.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),xe.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[S]),pe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),xe.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,T)=>{let v=T.length?{...f}:{...f,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:E(I),"data-stacked":n,style:v,key:`c-${I}`},T.map(({content:_,props:R})=>pe.createElement(s2,{...R,stacked:n,collapseAll:b,isIn:a(R.toastId,R.containerId),key:`t-${R.key}`},_)))}))}var xg={},tE={exports:{}},pr={},nE={exports:{}},rE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var q=D.length;D.push(z);e:for(;0<q;){var Q=q-1>>>1,Y=D[Q];if(0<i(Y,z))D[Q]=z,D[q]=Y,q=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],q=D.pop();if(q!==z){D[0]=q;e:for(var Q=0,Y=D.length,J=Y>>>1;Q<J;){var ie=2*(Q+1)-1,me=D[ie],ve=ie+1,$=D[ve];if(0>i(me,q))ve<Y&&0>i($,me)?(D[Q]=$,D[ve]=q,Q=ve):(D[Q]=me,D[ie]=q,Q=ie);else if(ve<Y&&0>i($,q))D[Q]=$,D[ve]=q,Q=ve;else break e}}return z}function i(D,z){var q=D.sortIndex-z.sortIndex;return q!==0?q:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,S=!1,E=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function R(D){if(b=!1,_(D),!E)if(n(u)!==null)E=!0,H(L);else{var z=n(c);z!==null&&B(R,z.startTime-D)}}function L(D,z){E=!1,b&&(b=!1,T(p),p=-1),S=!0;var q=m;try{for(_(z),h=n(u);h!==null&&(!(h.expirationTime>z)||D&&!j());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var Y=Q(h.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(u)&&r(u),_(z)}else r(u);h=n(u)}if(h!==null)var J=!0;else{var ie=n(c);ie!==null&&B(R,ie.startTime-z),J=!1}return J}finally{h=null,m=q,S=!1}}var N=!1,g=null,p=-1,y=5,C=-1;function j(){return!(t.unstable_now()-C<y)}function A(){if(g!==null){var D=t.unstable_now();C=D;var z=!0;try{z=g(!0,D)}finally{z?P():(N=!1,g=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,F=W.port2;W.port1.onmessage=A,P=function(){F.postMessage(null)}}else P=function(){I(A,0)};function H(D){g=D,N||(N=!0,P())}function B(D,z){p=I(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,H(L))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var q=m;m=z;try{return D()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=m;m=D;try{return z()}finally{m=q}},t.unstable_scheduleCallback=function(D,z,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,D={id:f++,callback:z,priorityLevel:D,startTime:q,expirationTime:Y,sortIndex:-1},q>Q?(D.sortIndex=q,e(c,D),n(u)===null&&D===n(c)&&(b?(T(p),p=-1):b=!0,B(R,q-Q))):(D.sortIndex=Y,e(u,D),E||S||(E=!0,H(L))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var z=m;return function(){var q=m;m=z;try{return D.apply(this,arguments)}finally{m=q}}}})(rE);nE.exports=rE;var c2=nE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=w,hr=c2;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iE=new Set,xu={};function Eo(t,e){Pa(t,e),Pa(t+"Capture",e)}function Pa(t,e){for(xu[t]=e,t=0;t<e.length;t++)iE.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_g=Object.prototype.hasOwnProperty,f2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R_={},P_={};function h2(t){return _g.call(P_,t)?!0:_g.call(R_,t)?!1:f2.test(t)?P_[t]=!0:(R_[t]=!0,!1)}function p2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m2(t,e,n,r){if(e===null||typeof e>"u"||p2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pv=/[\-:]([a-z])/g;function mv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pv,mv);In[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pv,mv);In[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pv,mv);In[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gv(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m2(e,n,i,r)&&(n=null),r||i===null?h2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yi=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),vv=Symbol.for("react.forward_ref"),wg=Symbol.for("react.suspense"),Sg=Symbol.for("react.suspense_list"),xv=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),aE=Symbol.for("react.offscreen"),A_=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=A_&&t[A_]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,lm;function zl(t){if(lm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lm=e&&e[1]||""}return`
`+lm+t}var um=!1;function cm(t,e){if(!t||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function g2(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=cm(t.type,!1),t;case 11:return t=cm(t.type.render,!1),t;case 1:return t=cm(t.type,!0),t;default:return""}}function Eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case bg:return"Profiler";case yv:return"StrictMode";case wg:return"Suspense";case Sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oE:return(t.displayName||"Context")+".Consumer";case sE:return(t._context.displayName||"Context")+".Provider";case vv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xv:return e=t.displayName||null,e!==null?e:Eg(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return Eg(t(e))}catch{}}return null}function y2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eg(e);case 8:return e===yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v2(t){var e=lE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=v2(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function j_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cE(t,e){e=e.checked,e!=null&&gv(t,"checked",e,!1)}function Cg(t,e){cE(t,e);var n=Es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ig(t,e.type,Es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ig(t,e,n){(e!=="number"||ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Bl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Es(n)}}function dE(t,e){var n=Es(e.value),r=Es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,hE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x2=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(t){x2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jl[e]=Jl[t]})});function pE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jl.hasOwnProperty(t)&&Jl[t]?(""+e).trim():e+"px"}function mE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _2=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pg(t,e){if(e){if(_2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function _v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Og=null,ma=null,ga=null;function M_(t){if(t=ic(t)){if(typeof Og!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=bh(e),Og(t.stateNode,t.type,e))}}function gE(t){ma?ga?ga.push(t):ga=[t]:ma=t}function yE(){if(ma){var t=ma,e=ga;if(ga=ma=null,M_(t),e)for(t=0;t<e.length;t++)M_(e[t])}}function vE(t,e){return t(e)}function xE(){}var dm=!1;function _E(t,e,n){if(dm)return t(e,n);dm=!0;try{return vE(t,e,n)}finally{dm=!1,(ma!==null||ga!==null)&&(xE(),yE())}}function bu(t,e){var n=t.stateNode;if(n===null)return null;var r=bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Ng=!1;if(Vi)try{var El={};Object.defineProperty(El,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Ng=!1}function b2(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Zl=!1,tf=null,nf=!1,Lg=null,w2={onError:function(t){Zl=!0,tf=t}};function S2(t,e,n,r,i,s,o,a,u){Zl=!1,tf=null,b2.apply(w2,arguments)}function E2(t,e,n,r,i,s,o,a,u){if(S2.apply(this,arguments),Zl){if(Zl){var c=tf;Zl=!1,tf=null}else throw Error(ae(198));nf||(nf=!0,Lg=c)}}function To(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D_(t){if(To(t)!==t)throw Error(ae(188))}function T2(t){var e=t.alternate;if(!e){if(e=To(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D_(i),t;if(s===r)return D_(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function wE(t){return t=T2(t),t!==null?SE(t):null}function SE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SE(t);if(e!==null)return e;t=t.sibling}return null}var EE=hr.unstable_scheduleCallback,$_=hr.unstable_cancelCallback,C2=hr.unstable_shouldYield,I2=hr.unstable_requestPaint,Gt=hr.unstable_now,k2=hr.unstable_getCurrentPriorityLevel,bv=hr.unstable_ImmediatePriority,TE=hr.unstable_UserBlockingPriority,rf=hr.unstable_NormalPriority,R2=hr.unstable_LowPriority,CE=hr.unstable_IdlePriority,yh=null,si=null;function P2(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:O2,A2=Math.log,j2=Math.LN2;function O2(t){return t>>>=0,t===0?32:31-(A2(t)/j2|0)|0}var Xc=64,Jc=4194304;function Ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ul(a):(s&=o,s!==0&&(r=Ul(s)))}else o=n&~i,o!==0?r=Ul(o):s!==0&&(r=Ul(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),i=1<<n,r|=t[n],e&=~i;return r}function N2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ur(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=N2(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IE(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function fm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function M2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ur(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function kE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RE,Sv,PE,AE,jE,Dg=!1,Zc=[],hs=null,ps=null,ms=null,wu=new Map,Su=new Map,as=[],D2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function Tl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ic(e),e!==null&&Sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $2(t,e,n,r,i){switch(e){case"focusin":return hs=Tl(hs,t,e,n,r,i),!0;case"dragenter":return ps=Tl(ps,t,e,n,r,i),!0;case"mouseover":return ms=Tl(ms,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wu.set(s,Tl(wu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,Tl(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function OE(t){var e=Ys(t.target);if(e!==null){var n=To(e);if(n!==null){if(e=n.tag,e===13){if(e=bE(n),e!==null){t.blockedOn=e,jE(t.priority,function(){PE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jg=r,n.target.dispatchEvent(r),jg=null}else return e=ic(n),e!==null&&Sv(e),t.blockedOn=n,!1;e.shift()}return!0}function V_(t,e,n){Id(t)&&n.delete(e)}function F2(){Dg=!1,hs!==null&&Id(hs)&&(hs=null),ps!==null&&Id(ps)&&(ps=null),ms!==null&&Id(ms)&&(ms=null),wu.forEach(V_),Su.forEach(V_)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Dg||(Dg=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,F2)))}function Eu(t){function e(i){return Cl(i,t)}if(0<Zc.length){Cl(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&Cl(hs,t),ps!==null&&Cl(ps,t),ms!==null&&Cl(ms,t),wu.forEach(e),Su.forEach(e),n=0;n<as.length;n++)r=as[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<as.length&&(n=as[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&as.shift()}var ya=Yi.ReactCurrentBatchConfig,of=!0;function V2(t,e,n,r){var i=vt,s=ya.transition;ya.transition=null;try{vt=1,Ev(t,e,n,r)}finally{vt=i,ya.transition=s}}function z2(t,e,n,r){var i=vt,s=ya.transition;ya.transition=null;try{vt=4,Ev(t,e,n,r)}finally{vt=i,ya.transition=s}}function Ev(t,e,n,r){if(of){var i=$g(t,e,n,r);if(i===null)wm(t,e,r,af,n),F_(t,r);else if($2(i,t,e,n,r))r.stopPropagation();else if(F_(t,r),e&4&&-1<D2.indexOf(t)){for(;i!==null;){var s=ic(i);if(s!==null&&RE(s),s=$g(t,e,n,r),s===null&&wm(t,e,r,af,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wm(t,e,r,null,n)}}var af=null;function $g(t,e,n,r){if(af=null,t=_v(r),t=Ys(t),t!==null)if(e=To(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return af=t,null}function NE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k2()){case bv:return 1;case TE:return 4;case rf:case R2:return 16;case CE:return 536870912;default:return 16}default:return 16}}var us=null,Tv=null,kd=null;function LE(){if(kd)return kd;var t,e=Tv,n=e.length,r,i="value"in us?us.value:us.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return kd=i.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function z_(){return!1}function mr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ed:z_,this.isPropagationStopped=z_,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cv=mr(nl),rc=Ft({},nl,{view:0,detail:0}),B2=mr(rc),hm,pm,Il,vh=Ft({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(hm=t.screenX-Il.screenX,pm=t.screenY-Il.screenY):pm=hm=0,Il=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:pm}}),B_=mr(vh),U2=Ft({},vh,{dataTransfer:0}),W2=mr(U2),H2=Ft({},rc,{relatedTarget:0}),mm=mr(H2),q2=Ft({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),K2=mr(q2),G2=Ft({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q2=mr(G2),Y2=Ft({},nl,{data:0}),U_=mr(Y2),X2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ej(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z2[t])?!!e[t]:!1}function Iv(){return ej}var tj=Ft({},rc,{key:function(t){if(t.key){var e=X2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nj=mr(tj),rj=Ft({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=mr(rj),ij=Ft({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),sj=mr(ij),oj=Ft({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aj=mr(oj),lj=Ft({},vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uj=mr(lj),cj=[9,13,27,32],kv=Vi&&"CompositionEvent"in window,eu=null;Vi&&"documentMode"in document&&(eu=document.documentMode);var dj=Vi&&"TextEvent"in window&&!eu,ME=Vi&&(!kv||eu&&8<eu&&11>=eu),H_=" ",q_=!1;function DE(t,e){switch(t){case"keyup":return cj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function fj(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(q_=!0,H_);case"textInput":return t=e.data,t===H_&&q_?null:t;default:return null}}function hj(t,e){if(na)return t==="compositionend"||!kv&&DE(t,e)?(t=LE(),kd=Tv=us=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ME&&e.locale!=="ko"?null:e.data;default:return null}}var pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pj[t.type]:e==="textarea"}function FE(t,e,n,r){gE(r),e=lf(e,"onChange"),0<e.length&&(n=new Cv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tu=null,Tu=null;function mj(t){YE(t,0)}function xh(t){var e=sa(t);if(uE(e))return t}function gj(t,e){if(t==="change")return e}var VE=!1;if(Vi){var gm;if(Vi){var ym="oninput"in document;if(!ym){var G_=document.createElement("div");G_.setAttribute("oninput","return;"),ym=typeof G_.oninput=="function"}gm=ym}else gm=!1;VE=gm&&(!document.documentMode||9<document.documentMode)}function Q_(){tu&&(tu.detachEvent("onpropertychange",zE),Tu=tu=null)}function zE(t){if(t.propertyName==="value"&&xh(Tu)){var e=[];FE(e,Tu,t,_v(t)),_E(mj,e)}}function yj(t,e,n){t==="focusin"?(Q_(),tu=e,Tu=n,tu.attachEvent("onpropertychange",zE)):t==="focusout"&&Q_()}function vj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(Tu)}function xj(t,e){if(t==="click")return xh(e)}function _j(t,e){if(t==="input"||t==="change")return xh(e)}function bj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hr=typeof Object.is=="function"?Object.is:bj;function Cu(t,e){if(Hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_g.call(e,i)||!Hr(t[i],e[i]))return!1}return!0}function Y_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X_(t,e){var n=Y_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y_(n)}}function BE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UE(){for(var t=window,e=ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ef(t.document)}return e}function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wj(t){var e=UE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BE(n.ownerDocument.documentElement,n)){if(r!==null&&Rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=X_(n,s);var o=X_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sj=Vi&&"documentMode"in document&&11>=document.documentMode,ra=null,Fg=null,nu=null,Vg=!1;function J_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vg||ra==null||ra!==ef(r)||(r=ra,"selectionStart"in r&&Rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nu&&Cu(nu,r)||(nu=r,r=lf(Fg,"onSelect"),0<r.length&&(e=new Cv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ia={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},vm={},WE={};Vi&&(WE=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function _h(t){if(vm[t])return vm[t];if(!ia[t])return t;var e=ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WE)return vm[t]=e[n];return t}var HE=_h("animationend"),qE=_h("animationiteration"),KE=_h("animationstart"),GE=_h("transitionend"),QE=new Map,Z_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){QE.set(t,e),Eo(e,[t])}for(var xm=0;xm<Z_.length;xm++){var _m=Z_[xm],Ej=_m.toLowerCase(),Tj=_m[0].toUpperCase()+_m.slice(1);As(Ej,"on"+Tj)}As(HE,"onAnimationEnd");As(qE,"onAnimationIteration");As(KE,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(GE,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function eb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E2(r,e,void 0,t),t.currentTarget=null}function YE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;eb(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;eb(i,a,c),s=u}}}if(nf)throw t=Lg,nf=!1,Lg=null,t}function Rt(t,e){var n=e[Hg];n===void 0&&(n=e[Hg]=new Set);var r=t+"__bubble";n.has(r)||(XE(e,t,2,!1),n.add(r))}function bm(t,e,n){var r=0;e&&(r|=4),XE(n,t,r,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[nd]){t[nd]=!0,iE.forEach(function(n){n!=="selectionchange"&&(Cj.has(n)||bm(n,!1,t),bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,bm("selectionchange",!1,e))}}function XE(t,e,n,r){switch(NE(e)){case 1:var i=V2;break;case 4:i=z2;break;default:i=Ev}n=i.bind(null,e,n,t),i=void 0,!Ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_E(function(){var c=s,f=_v(n),h=[];e:{var m=QE.get(t);if(m!==void 0){var S=Cv,E=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":S=nj;break;case"focusin":E="focus",S=mm;break;case"focusout":E="blur",S=mm;break;case"beforeblur":case"afterblur":S=mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=B_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=W2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=sj;break;case HE:case qE:case KE:S=K2;break;case GE:S=aj;break;case"scroll":S=B2;break;case"wheel":S=uj;break;case"copy":case"cut":case"paste":S=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=W_}var b=(e&4)!==0,I=!b&&t==="scroll",T=b?m!==null?m+"Capture":null:m;b=[];for(var v=c,_;v!==null;){_=v;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,T!==null&&(R=bu(v,T),R!=null&&b.push(ku(v,R,_)))),I)break;v=v.return}0<b.length&&(m=new S(m,E,null,n,f),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",m&&n!==jg&&(E=n.relatedTarget||n.fromElement)&&(Ys(E)||E[zi]))break e;if((S||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,S?(E=n.relatedTarget||n.toElement,S=c,E=E?Ys(E):null,E!==null&&(I=To(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=c),S!==E)){if(b=B_,R="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(b=W_,R="onPointerLeave",T="onPointerEnter",v="pointer"),I=S==null?m:sa(S),_=E==null?m:sa(E),m=new b(R,v+"leave",S,n,f),m.target=I,m.relatedTarget=_,R=null,Ys(f)===c&&(b=new b(T,v+"enter",E,n,f),b.target=_,b.relatedTarget=I,R=b),I=R,S&&E)t:{for(b=S,T=E,v=0,_=b;_;_=Bo(_))v++;for(_=0,R=T;R;R=Bo(R))_++;for(;0<v-_;)b=Bo(b),v--;for(;0<_-v;)T=Bo(T),_--;for(;v--;){if(b===T||T!==null&&b===T.alternate)break t;b=Bo(b),T=Bo(T)}b=null}else b=null;S!==null&&tb(h,m,S,b,!1),E!==null&&I!==null&&tb(h,I,E,b,!0)}}e:{if(m=c?sa(c):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var L=gj;else if(K_(m))if(VE)L=_j;else{L=vj;var N=yj}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=xj);if(L&&(L=L(t,c))){FE(h,L,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ig(m,"number",m.value)}switch(N=c?sa(c):window,t){case"focusin":(K_(N)||N.contentEditable==="true")&&(ra=N,Fg=c,nu=null);break;case"focusout":nu=Fg=ra=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,J_(h,n,f);break;case"selectionchange":if(Sj)break;case"keydown":case"keyup":J_(h,n,f)}var g;if(kv)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else na?DE(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(ME&&n.locale!=="ko"&&(na||p!=="onCompositionStart"?p==="onCompositionEnd"&&na&&(g=LE()):(us=f,Tv="value"in us?us.value:us.textContent,na=!0)),N=lf(c,p),0<N.length&&(p=new U_(p,t,null,n,f),h.push({event:p,listeners:N}),g?p.data=g:(g=$E(n),g!==null&&(p.data=g)))),(g=dj?fj(t,n):hj(t,n))&&(c=lf(c,"onBeforeInput"),0<c.length&&(f=new U_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=g))}YE(h,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bu(t,n),s!=null&&r.unshift(ku(t,s,i)),s=bu(t,e),s!=null&&r.push(ku(t,s,i))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=bu(n,s),u!=null&&o.unshift(ku(n,u,a))):i||(u=bu(n,s),u!=null&&o.push(ku(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ij=/\r\n?/g,kj=/\u0000|\uFFFD/g;function nb(t){return(typeof t=="string"?t:""+t).replace(Ij,`
`).replace(kj,"")}function rd(t,e,n){if(e=nb(e),nb(t)!==e&&n)throw Error(ae(425))}function uf(){}var zg=null,Bg=null;function Ug(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,Rj=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,Pj=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(t){return rb.resolve(null).then(t).catch(Aj)}:Wg;function Aj(t){setTimeout(function(){throw t})}function Sm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Eu(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ib(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),ri="__reactFiber$"+rl,Ru="__reactProps$"+rl,zi="__reactContainer$"+rl,Hg="__reactEvents$"+rl,jj="__reactListeners$"+rl,Oj="__reactHandles$"+rl;function Ys(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ib(t);t!==null;){if(n=t[ri])return n;t=ib(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[ri]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function bh(t){return t[Ru]||null}var qg=[],oa=-1;function js(t){return{current:t}}function At(t){0>oa||(t.current=qg[oa],qg[oa]=null,oa--)}function Tt(t,e){oa++,qg[oa]=t.current,t.current=e}var Ts={},$n=js(Ts),Zn=js(!1),ao=Ts;function Aa(t,e){var n=t.type.contextTypes;if(!n)return Ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function er(t){return t=t.childContextTypes,t!=null}function cf(){At(Zn),At($n)}function sb(t,e,n){if($n.current!==Ts)throw Error(ae(168));Tt($n,e),Tt(Zn,n)}function JE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,y2(t)||"Unknown",i));return Ft({},n,r)}function df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,ao=$n.current,Tt($n,t),Tt(Zn,Zn.current),!0}function ob(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=JE(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,At(Zn),At($n),Tt($n,t)):At(Zn),Tt(Zn,n)}var Ei=null,wh=!1,Em=!1;function ZE(t){Ei===null?Ei=[t]:Ei.push(t)}function Nj(t){wh=!0,ZE(t)}function Os(){if(!Em&&Ei!==null){Em=!0;var t=0,e=vt;try{var n=Ei;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ei=null,wh=!1}catch(i){throw Ei!==null&&(Ei=Ei.slice(t+1)),EE(bv,Os),i}finally{vt=e,Em=!1}}return null}var aa=[],la=0,ff=null,hf=0,_r=[],br=0,lo=null,Pi=1,Ai="";function Ws(t,e){aa[la++]=hf,aa[la++]=ff,ff=t,hf=e}function eT(t,e,n){_r[br++]=Pi,_r[br++]=Ai,_r[br++]=lo,lo=t;var r=Pi;t=Ai;var i=32-Ur(r)-1;r&=~(1<<i),n+=1;var s=32-Ur(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-Ur(e)+i|n<<i|r,Ai=s+t}else Pi=1<<s|n<<i|r,Ai=t}function Pv(t){t.return!==null&&(Ws(t,1),eT(t,1,0))}function Av(t){for(;t===ff;)ff=aa[--la],aa[la]=null,hf=aa[--la],aa[la]=null;for(;t===lo;)lo=_r[--br],_r[br]=null,Ai=_r[--br],_r[br]=null,Pi=_r[--br],_r[br]=null}var ur=null,ar=null,Nt=!1,zr=null;function tT(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ab(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,ar=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:Pi,overflow:Ai}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,ar=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(Nt){var e=ar;if(e){var n=e;if(!ab(t,e)){if(Kg(t))throw Error(ae(418));e=gs(n.nextSibling);var r=ur;e&&ab(t,e)?tT(r,n):(t.flags=t.flags&-4097|2,Nt=!1,ur=t)}}else{if(Kg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Nt=!1,ur=t}}}function lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function id(t){if(t!==ur)return!1;if(!Nt)return lb(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ug(t.type,t.memoizedProps)),e&&(e=ar)){if(Kg(t))throw nT(),Error(ae(418));for(;e;)tT(t,e),e=gs(e.nextSibling)}if(lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=ur?gs(t.stateNode.nextSibling):null;return!0}function nT(){for(var t=ar;t;)t=gs(t.nextSibling)}function ja(){ar=ur=null,Nt=!1}function jv(t){zr===null?zr=[t]:zr.push(t)}var Lj=Yi.ReactCurrentBatchConfig;function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ub(t){var e=t._init;return e(t._payload)}function rT(t){function e(T,v){if(t){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=_s(T,v),T.index=0,T.sibling=null,T}function s(T,v,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=2,v):_):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,_,R){return v===null||v.tag!==6?(v=Am(_,T.mode,R),v.return=T,v):(v=i(v,_),v.return=T,v)}function u(T,v,_,R){var L=_.type;return L===ta?f(T,v,_.props.children,R,_.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===is&&ub(L)===v.type)?(R=i(v,_.props),R.ref=kl(T,v,_),R.return=T,R):(R=Md(_.type,_.key,_.props,null,T.mode,R),R.ref=kl(T,v,_),R.return=T,R)}function c(T,v,_,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=jm(_,T.mode,R),v.return=T,v):(v=i(v,_.children||[]),v.return=T,v)}function f(T,v,_,R,L){return v===null||v.tag!==7?(v=ro(_,T.mode,R,L),v.return=T,v):(v=i(v,_),v.return=T,v)}function h(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Am(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gc:return _=Md(v.type,v.key,v.props,null,T.mode,_),_.ref=kl(T,null,v),_.return=T,_;case ea:return v=jm(v,T.mode,_),v.return=T,v;case is:var R=v._init;return h(T,R(v._payload),_)}if(Bl(v)||Sl(v))return v=ro(v,T.mode,_,null),v.return=T,v;sd(T,v)}return null}function m(T,v,_,R){var L=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(T,v,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gc:return _.key===L?u(T,v,_,R):null;case ea:return _.key===L?c(T,v,_,R):null;case is:return L=_._init,m(T,v,L(_._payload),R)}if(Bl(_)||Sl(_))return L!==null?null:f(T,v,_,R,null);sd(T,_)}return null}function S(T,v,_,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(_)||null,a(v,T,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Gc:return T=T.get(R.key===null?_:R.key)||null,u(v,T,R,L);case ea:return T=T.get(R.key===null?_:R.key)||null,c(v,T,R,L);case is:var N=R._init;return S(T,v,_,N(R._payload),L)}if(Bl(R)||Sl(R))return T=T.get(_)||null,f(v,T,R,L,null);sd(v,R)}return null}function E(T,v,_,R){for(var L=null,N=null,g=v,p=v=0,y=null;g!==null&&p<_.length;p++){g.index>p?(y=g,g=null):y=g.sibling;var C=m(T,g,_[p],R);if(C===null){g===null&&(g=y);break}t&&g&&C.alternate===null&&e(T,g),v=s(C,v,p),N===null?L=C:N.sibling=C,N=C,g=y}if(p===_.length)return n(T,g),Nt&&Ws(T,p),L;if(g===null){for(;p<_.length;p++)g=h(T,_[p],R),g!==null&&(v=s(g,v,p),N===null?L=g:N.sibling=g,N=g);return Nt&&Ws(T,p),L}for(g=r(T,g);p<_.length;p++)y=S(g,T,p,_[p],R),y!==null&&(t&&y.alternate!==null&&g.delete(y.key===null?p:y.key),v=s(y,v,p),N===null?L=y:N.sibling=y,N=y);return t&&g.forEach(function(j){return e(T,j)}),Nt&&Ws(T,p),L}function b(T,v,_,R){var L=Sl(_);if(typeof L!="function")throw Error(ae(150));if(_=L.call(_),_==null)throw Error(ae(151));for(var N=L=null,g=v,p=v=0,y=null,C=_.next();g!==null&&!C.done;p++,C=_.next()){g.index>p?(y=g,g=null):y=g.sibling;var j=m(T,g,C.value,R);if(j===null){g===null&&(g=y);break}t&&g&&j.alternate===null&&e(T,g),v=s(j,v,p),N===null?L=j:N.sibling=j,N=j,g=y}if(C.done)return n(T,g),Nt&&Ws(T,p),L;if(g===null){for(;!C.done;p++,C=_.next())C=h(T,C.value,R),C!==null&&(v=s(C,v,p),N===null?L=C:N.sibling=C,N=C);return Nt&&Ws(T,p),L}for(g=r(T,g);!C.done;p++,C=_.next())C=S(g,T,p,C.value,R),C!==null&&(t&&C.alternate!==null&&g.delete(C.key===null?p:C.key),v=s(C,v,p),N===null?L=C:N.sibling=C,N=C);return t&&g.forEach(function(A){return e(T,A)}),Nt&&Ws(T,p),L}function I(T,v,_,R){if(typeof _=="object"&&_!==null&&_.type===ta&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gc:e:{for(var L=_.key,N=v;N!==null;){if(N.key===L){if(L=_.type,L===ta){if(N.tag===7){n(T,N.sibling),v=i(N,_.props.children),v.return=T,T=v;break e}}else if(N.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===is&&ub(L)===N.type){n(T,N.sibling),v=i(N,_.props),v.ref=kl(T,N,_),v.return=T,T=v;break e}n(T,N);break}else e(T,N);N=N.sibling}_.type===ta?(v=ro(_.props.children,T.mode,R,_.key),v.return=T,T=v):(R=Md(_.type,_.key,_.props,null,T.mode,R),R.ref=kl(T,v,_),R.return=T,T=R)}return o(T);case ea:e:{for(N=_.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(T,v.sibling),v=i(v,_.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=jm(_,T.mode,R),v.return=T,T=v}return o(T);case is:return N=_._init,I(T,v,N(_._payload),R)}if(Bl(_))return E(T,v,_,R);if(Sl(_))return b(T,v,_,R);sd(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,_),v.return=T,T=v):(n(T,v),v=Am(_,T.mode,R),v.return=T,T=v),o(T)):n(T,v)}return I}var Oa=rT(!0),iT=rT(!1),pf=js(null),mf=null,ua=null,Ov=null;function Nv(){Ov=ua=mf=null}function Lv(t){var e=pf.current;At(pf),t._currentValue=e}function Qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function va(t,e){mf=t,Ov=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(mf===null)throw Error(ae(308));ua=t,mf.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var Xs=null;function Mv(t){Xs===null?Xs=[t]:Xs.push(t)}function sT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bi(t,r)}function Bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function Dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bi(t,n)}return i=r.interleaved,i===null?(e.next=e,Mv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bi(t,n)}function Pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}function cb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gf(t,e,n,r){var i=t.updateQueue;ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,S=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,b=a;switch(m=e,S=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){h=E.call(S,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,m=typeof E=="function"?E.call(S,h,m):E,m==null)break e;h=Ft({},h,m);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else S={eventTime:S,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=S,u=h):f=f.next=S,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=h}}function db(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var sc={},oi=js(sc),Pu=js(sc),Au=js(sc);function Js(t){if(t===sc)throw Error(ae(174));return t}function $v(t,e){switch(Tt(Au,e),Tt(Pu,t),Tt(oi,sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rg(e,t)}At(oi),Tt(oi,e)}function Na(){At(oi),At(Pu),At(Au)}function aT(t){Js(Au.current);var e=Js(oi.current),n=Rg(e,t.type);e!==n&&(Tt(Pu,t),Tt(oi,n))}function Fv(t){Pu.current===t&&(At(oi),At(Pu))}var Dt=js(0);function yf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tm=[];function Vv(){for(var t=0;t<Tm.length;t++)Tm[t]._workInProgressVersionPrimary=null;Tm.length=0}var Ad=Yi.ReactCurrentDispatcher,Cm=Yi.ReactCurrentBatchConfig,uo=0,$t=null,dn=null,mn=null,vf=!1,ru=!1,ju=0,Mj=0;function Pn(){throw Error(ae(321))}function zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hr(t[n],e[n]))return!1;return!0}function Bv(t,e,n,r,i,s){if(uo=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ad.current=t===null||t.memoizedState===null?Vj:zj,t=n(r,i),ru){s=0;do{if(ru=!1,ju=0,25<=s)throw Error(ae(301));s+=1,mn=dn=null,e.updateQueue=null,Ad.current=Bj,t=n(r,i)}while(ru)}if(Ad.current=xf,e=dn!==null&&dn.next!==null,uo=0,mn=dn=$t=null,vf=!1,e)throw Error(ae(300));return t}function Uv(){var t=ju!==0;return ju=0,t}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?$t.memoizedState=mn=t:mn=mn.next=t,mn}function Rr(){if(dn===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=mn===null?$t.memoizedState:mn.next;if(e!==null)mn=e,dn=t;else{if(t===null)throw Error(ae(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},mn===null?$t.memoizedState=mn=t:mn=mn.next=t}return mn}function Ou(t,e){return typeof e=="function"?e(t):e}function Im(t){var e=Rr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=dn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((uo&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,$t.lanes|=f,co|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Hr(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$t.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function km(t){var e=Rr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hr(s,e.memoizedState)||(Jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function lT(){}function uT(t,e){var n=$t,r=Rr(),i=e(),s=!Hr(r.memoizedState,i);if(s&&(r.memoizedState=i,Jn=!0),r=r.queue,Wv(fT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Nu(9,dT.bind(null,n,r,i,e),void 0,null),yn===null)throw Error(ae(349));uo&30||cT(n,e,i)}return i}function cT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dT(t,e,n,r){e.value=n,e.getSnapshot=r,hT(e)&&pT(t)}function fT(t,e,n){return n(function(){hT(e)&&pT(t)})}function hT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hr(t,n)}catch{return!0}}function pT(t){var e=Bi(t,1);e!==null&&Wr(e,t,1,-1)}function fb(t){var e=ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=Fj.bind(null,$t,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mT(){return Rr().memoizedState}function jd(t,e,n,r){var i=ei();$t.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function Sh(t,e,n,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(dn!==null){var o=dn.memoizedState;if(s=o.destroy,r!==null&&zv(r,o.deps)){i.memoizedState=Nu(e,n,s,r);return}}$t.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function hb(t,e){return jd(8390656,8,t,e)}function Wv(t,e){return Sh(2048,8,t,e)}function gT(t,e){return Sh(4,2,t,e)}function yT(t,e){return Sh(4,4,t,e)}function vT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xT(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4,4,vT.bind(null,e,t),n)}function Hv(){}function _T(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bT(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wT(t,e,n){return uo&21?(Hr(n,e)||(n=IE(),$t.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function Dj(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=Cm.transition;Cm.transition={};try{t(!1),e()}finally{vt=n,Cm.transition=r}}function ST(){return Rr().memoizedState}function $j(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ET(t))TT(e,n);else if(n=sT(t,e,n,r),n!==null){var i=Hn();Wr(n,t,r,i),CT(n,e,r)}}function Fj(t,e,n){var r=xs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ET(t))TT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hr(a,o)){var u=e.interleaved;u===null?(i.next=i,Mv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=sT(t,e,i,r),n!==null&&(i=Hn(),Wr(n,t,r,i),CT(n,e,r))}}function ET(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function TT(t,e){ru=vf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}var xf={readContext:kr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},Vj={readContext:kr,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:hb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,vT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=ei();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ei();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$j.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:fb,useDebugValue:Hv,useDeferredValue:function(t){return ei().memoizedState=t},useTransition:function(){var t=fb(!1),e=t[0];return t=Dj.bind(null,t[1]),ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=ei();if(Nt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),yn===null)throw Error(ae(349));uo&30||cT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hb(fT.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,dT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ei(),e=yn.identifierPrefix;if(Nt){var n=Ai,r=Pi;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zj={readContext:kr,useCallback:_T,useContext:kr,useEffect:Wv,useImperativeHandle:xT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:bT,useReducer:Im,useRef:mT,useState:function(){return Im(Ou)},useDebugValue:Hv,useDeferredValue:function(t){var e=Rr();return wT(e,dn.memoizedState,t)},useTransition:function(){var t=Im(Ou)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:lT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1},Bj={readContext:kr,useCallback:_T,useContext:kr,useEffect:Wv,useImperativeHandle:xT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:bT,useReducer:km,useRef:mT,useState:function(){return km(Ou)},useDebugValue:Hv,useDeferredValue:function(t){var e=Rr();return dn===null?e.memoizedState=t:wT(e,dn.memoizedState,t)},useTransition:function(){var t=km(Ou)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:lT,useSyncExternalStore:uT,useId:ST,unstable_isNewReconciler:!1};function Fr(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?To(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=xs(t),s=Li(r,i);s.payload=e,n!=null&&(s.callback=n),e=ys(t,s,i),e!==null&&(Wr(e,t,i,r),Pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=xs(t),s=Li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ys(t,s,i),e!==null&&(Wr(e,t,i,r),Pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=xs(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=ys(t,i,r),e!==null&&(Wr(e,t,r,n),Pd(e,t,r))}};function pb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,s):!0}function IT(t,e,n){var r=!1,i=Ts,s=e.contextType;return typeof s=="object"&&s!==null?s=kr(s):(i=er(e)?ao:$n.current,r=e.contextTypes,s=(r=r!=null)?Aa(t,i):Ts),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kr(s):(s=er(e)?ao:$n.current,i.context=Aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=g2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function kT(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bf||(bf=!0,ly=r),Jg(t,e)},n}function RT(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rO.bind(null,t,e,n),e.then(t,t))}function yb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,ys(n,e,1))),n.lanes|=1),t)}var Wj=Yi.ReactCurrentOwner,Jn=!1;function Un(t,e,n,r){e.child=t===null?iT(e,null,n,r):Oa(e,t.child,n,r)}function xb(t,e,n,r,i){n=n.render;var s=e.ref;return va(e,i),r=Bv(t,e,n,r,s,i),n=Uv(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(Nt&&n&&Pv(e),e.flags|=1,Un(t,e,r,i),e.child)}function _b(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PT(t,e,s,r,i)):(t=Md(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return Ui(t,e,i)}return e.flags|=1,t=_s(s,r),t.ref=e.ref,t.return=e,e.child=t}function PT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cu(s,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,Ui(t,e,i)}return Zg(t,e,n,r,i)}function AT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(da,sr),sr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(da,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tt(da,sr),sr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tt(da,sr),sr|=r;return Un(t,e,i,n),e.child}function jT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zg(t,e,n,r,i){var s=er(n)?ao:$n.current;return s=Aa(e,s),va(e,i),n=Bv(t,e,n,r,s,i),r=Uv(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(Nt&&r&&Pv(e),e.flags|=1,Un(t,e,n,i),e.child)}function bb(t,e,n,r,i){if(er(n)){var s=!0;df(e)}else s=!1;if(va(e,i),e.stateNode===null)Od(t,e),IT(e,n,r),Xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kr(c):(c=er(n)?ao:$n.current,c=Aa(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&mb(e,o,r,c),ss=!1;var m=e.memoizedState;o.state=m,gf(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Zn.current||ss?(typeof f=="function"&&(Yg(e,n,f,r),u=e.memoizedState),(a=ss||pb(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=kr(u):(u=er(n)?ao:$n.current,u=Aa(e,u));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&mb(e,o,r,u),ss=!1,m=e.memoizedState,o.state=m,gf(e,r,o,i);var E=e.memoizedState;a!==h||m!==E||Zn.current||ss?(typeof S=="function"&&(Yg(e,n,S,r),E=e.memoizedState),(c=ss||pb(e,n,c,r,m,E,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ey(t,e,n,r,s,i)}function ey(t,e,n,r,i,s){jT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ob(e,n,!1),Ui(t,e,s);r=e.stateNode,Wj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,s),e.child=Oa(e,null,a,s)):Un(t,e,a,s),e.memoizedState=r.state,i&&ob(e,n,!0),e.child}function OT(t){var e=t.stateNode;e.pendingContext?sb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sb(t,e.context,!1),$v(t,e.containerInfo)}function wb(t,e,n,r,i){return ja(),jv(i),e.flags|=256,Un(t,e,n,r),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function NT(t,e,n){var r=e.pendingProps,i=Dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Dt,i&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ih(o,r,0,null),t=ro(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ny(n),e.memoizedState=ty,t):qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Hj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=_s(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_s(a,s):(s=ro(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ty,r}return s=t.child,t=s.sibling,r=_s(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qv(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,n,r){return r!==null&&jv(r),Oa(e,t.child,null,n),t=qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rm(Error(ae(422))),od(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ih({mode:"visible",children:r.children},i,0,null),s=ro(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=ny(o),e.memoizedState=ty,s);if(!(e.mode&1))return od(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Rm(s,r,void 0),od(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jn||a){if(r=yn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bi(t,i),Wr(r,t,i,-1))}return Jv(),r=Rm(Error(ae(421))),od(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ar=gs(i.nextSibling),ur=e,Nt=!0,zr=null,t!==null&&(_r[br++]=Pi,_r[br++]=Ai,_r[br++]=lo,Pi=t.id,Ai=t.overflow,lo=e),e=qv(e,r.children),e.flags|=4096,e)}function Sb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qg(t.return,e,n)}function Pm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Un(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sb(t,n,e);else if(t.tag===19)Sb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pm(e,!0,n,null,s);break;case"together":Pm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=_s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qj(t,e,n){switch(e.tag){case 3:OT(e),ja();break;case 5:aT(e);break;case 1:er(e.type)&&df(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(pf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?NT(t,e,n):(Tt(Dt,Dt.current&1),t=Ui(t,e,n),t!==null?t.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,AT(t,e,n)}return Ui(t,e,n)}var MT,ry,DT,$T;MT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ry=function(){};DT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Js(oi.current);var s=null;switch(n){case"input":i=Tg(t,i),r=Tg(t,r),s=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),s=[];break;case"textarea":i=kg(t,i),r=kg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uf)}Pg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Rt("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$T=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rl(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kj(t,e,n){var r=e.pendingProps;switch(Av(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return er(e.type)&&cf(),An(e),null;case 3:return r=e.stateNode,Na(),At(Zn),At($n),Vv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zr!==null&&(dy(zr),zr=null))),ry(t,e),An(e),null;case 5:Fv(e);var i=Js(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)DT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return An(e),null}if(t=Js(oi.current),id(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ri]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<Wl.length;i++)Rt(Wl[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":j_(r,s),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",r);break;case"textarea":N_(r,s),Rt("invalid",r)}Pg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",""+a]):xu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":Qc(r),O_(r,s,!0);break;case"textarea":Qc(r),L_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ri]=e,t[Ru]=r,MT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ag(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),i=r;break;case"iframe":case"object":case"embed":Rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wl.length;i++)Rt(Wl[i],t);i=r;break;case"source":Rt("error",t),i=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),i=r;break;case"details":Rt("toggle",t),i=r;break;case"input":j_(t,r),i=Tg(t,r),Rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":N_(t,r),i=kg(t,r),Rt("invalid",t);break;default:i=r}Pg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?mE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_u(t,u):typeof u=="number"&&_u(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Rt("scroll",t):u!=null&&gv(t,s,u,o))}switch(n){case"input":Qc(t),O_(t,r,!1);break;case"textarea":Qc(t),L_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Es(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return An(e),null;case 6:if(t&&e.stateNode!=null)$T(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Js(Au.current),Js(oi.current),id(e)){if(r=e.stateNode,n=e.memoizedProps,r[ri]=e,(s=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ri]=e,e.stateNode=r}return An(e),null;case 13:if(At(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&ar!==null&&e.mode&1&&!(e.flags&128))nT(),ja(),e.flags|=98560,s=!1;else if(s=id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[ri]=e}else ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),s=!1}else zr!==null&&(dy(zr),zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?fn===0&&(fn=3):Jv())),e.updateQueue!==null&&(e.flags|=4),An(e),null);case 4:return Na(),ry(t,e),t===null&&Iu(e.stateNode.containerInfo),An(e),null;case 10:return Lv(e.type._context),An(e),null;case 17:return er(e.type)&&cf(),An(e),null;case 19:if(At(Dt),s=e.memoizedState,s===null)return An(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Rl(s,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yf(t),o!==null){for(e.flags|=128,Rl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Gt()>Ma&&(e.flags|=128,r=!0,Rl(s,!1),e.lanes=4194304)}else{if(!r)if(t=yf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nt)return An(e),null}else 2*Gt()-s.renderingStartTime>Ma&&n!==1073741824&&(e.flags|=128,r=!0,Rl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gt(),e.sibling=null,n=Dt.current,Tt(Dt,r?n&1|2:n&1),e):(An(e),null);case 22:case 23:return Xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function Gj(t,e){switch(Av(e),e.tag){case 1:return er(e.type)&&cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na(),At(Zn),At($n),Vv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fv(e),null;case 13:if(At(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Dt),null;case 4:return Na(),null;case 10:return Lv(e.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var ad=!1,Ln=!1,Qj=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var Eb=!1;function Yj(t,e){if(zg=of,t=UE(),Rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var S;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(S=h.firstChild)!==null;)m=h,h=S;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(S=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bg={focusedElem:t,selectionRange:n},of=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,I=E.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:Fr(e.type,b),I);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){Wt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=Eb,Eb=!1,E}function iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iy(e,n,s)}i=i.next}while(i!==r)}}function Th(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FT(t){var e=t.alternate;e!==null&&(t.alternate=null,FT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[Ru],delete e[Hg],delete e[jj],delete e[Oj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VT(t){return t.tag===5||t.tag===3||t.tag===4}function Tb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uf));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}var bn=null,Vr=!1;function es(t,e,n){for(n=n.child;n!==null;)zT(t,e,n),n=n.sibling}function zT(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(yh,n)}catch{}switch(n.tag){case 5:Ln||ca(n,e);case 6:var r=bn,i=Vr;bn=null,es(t,e,n),bn=r,Vr=i,bn!==null&&(Vr?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(Vr?(t=bn,n=n.stateNode,t.nodeType===8?Sm(t.parentNode,n):t.nodeType===1&&Sm(t,n),Eu(t)):Sm(bn,n.stateNode));break;case 4:r=bn,i=Vr,bn=n.stateNode.containerInfo,Vr=!0,es(t,e,n),bn=r,Vr=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iy(n,e,o),i=i.next}while(i!==r)}es(t,e,n);break;case 1:if(!Ln&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wt(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,es(t,e,n),Ln=r):es(t,e,n);break;default:es(t,e,n)}}function Cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qj),e.forEach(function(r){var i=sO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bn=a.stateNode,Vr=!1;break e;case 3:bn=a.stateNode.containerInfo,Vr=!0;break e;case 4:bn=a.stateNode.containerInfo,Vr=!0;break e}a=a.return}if(bn===null)throw Error(ae(160));zT(s,o,i),bn=null,Vr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BT(e,t),e=e.sibling}function BT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Zr(t),r&4){try{iu(3,t,t.return),Th(3,t)}catch(b){Wt(t,t.return,b)}try{iu(5,t,t.return)}catch(b){Wt(t,t.return,b)}}break;case 1:Dr(e,t),Zr(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(Dr(e,t),Zr(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var i=t.stateNode;try{_u(i,"")}catch(b){Wt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cE(i,s),Ag(a,o);var c=Ag(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?mE(i,h):f==="dangerouslySetInnerHTML"?hE(i,h):f==="children"?_u(i,h):gv(i,f,h,c)}switch(a){case"input":Cg(i,s);break;case"textarea":dE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?pa(i,!!s.multiple,S,!1):m!==!!s.multiple&&(s.defaultValue!=null?pa(i,!!s.multiple,s.defaultValue,!0):pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(b){Wt(t,t.return,b)}}break;case 6:if(Dr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Wt(t,t.return,b)}}break;case 3:if(Dr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eu(e.containerInfo)}catch(b){Wt(t,t.return,b)}break;case 4:Dr(e,t),Zr(t);break;case 13:Dr(e,t),Zr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qv=Gt())),r&4&&Cb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||f,Dr(e,t),Ln=c):Dr(e,t),Zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(h=ye=f;ye!==null;){switch(m=ye,S=m.child,m.tag){case 0:case 11:case 14:case 15:iu(4,m,m.return);break;case 1:ca(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){Wt(r,n,b)}}break;case 5:ca(m,m.return);break;case 22:if(m.memoizedState!==null){kb(h);continue}}S!==null?(S.return=m,ye=S):kb(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=pE("display",o))}catch(b){Wt(t,t.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){Wt(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dr(e,t),Zr(t),r&4&&Cb(t);break;case 21:break;default:Dr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VT(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var s=Tb(t);ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Tb(t);oy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Wt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xj(t,e,n){ye=t,UT(t)}function UT(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ad;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ln;a=ad;var c=Ln;if(ad=o,(Ln=u)&&!c)for(ye=i;ye!==null;)o=ye,u=o.child,o.tag===22&&o.memoizedState!==null?Rb(i):u!==null?(u.return=o,ye=u):Rb(i);for(;s!==null;)ye=s,UT(s),s=s.sibling;ye=i,ad=a,Ln=c}Ib(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):Ib(t)}}function Ib(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||Th(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&db(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}db(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Eu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Ln||e.flags&512&&sy(e)}catch(m){Wt(e,e.return,m)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function kb(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Rb(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Th(4,e)}catch(u){Wt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Wt(e,i,u)}}var s=e.return;try{sy(e)}catch(u){Wt(e,s,u)}break;case 5:var o=e.return;try{sy(e)}catch(u){Wt(e,o,u)}}}catch(u){Wt(e,e.return,u)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var Jj=Math.ceil,_f=Yi.ReactCurrentDispatcher,Kv=Yi.ReactCurrentOwner,Tr=Yi.ReactCurrentBatchConfig,st=0,yn=null,nn=null,En=0,sr=0,da=js(0),fn=0,Lu=null,co=0,Ch=0,Gv=0,su=null,Yn=null,Qv=0,Ma=1/0,Si=null,bf=!1,ly=null,vs=null,ld=!1,cs=null,wf=0,ou=0,uy=null,Nd=-1,Ld=0;function Hn(){return st&6?Gt():Nd!==-1?Nd:Nd=Gt()}function xs(t){return t.mode&1?st&2&&En!==0?En&-En:Lj.transition!==null?(Ld===0&&(Ld=IE()),Ld):(t=vt,t!==0||(t=window.event,t=t===void 0?16:NE(t.type)),t):1}function Wr(t,e,n,r){if(50<ou)throw ou=0,uy=null,Error(ae(185));nc(t,n,r),(!(st&2)||t!==yn)&&(t===yn&&(!(st&2)&&(Ch|=n),fn===4&&ls(t,En)),tr(t,r),n===1&&st===0&&!(e.mode&1)&&(Ma=Gt()+500,wh&&Os()))}function tr(t,e){var n=t.callbackNode;L2(t,e);var r=sf(t,t===yn?En:0);if(r===0)n!==null&&$_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$_(n),e===1)t.tag===0?Nj(Pb.bind(null,t)):ZE(Pb.bind(null,t)),Pj(function(){!(st&6)&&Os()}),n=null;else{switch(kE(r)){case 1:n=bv;break;case 4:n=TE;break;case 16:n=rf;break;case 536870912:n=CE;break;default:n=rf}n=XT(n,WT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WT(t,e){if(Nd=-1,Ld=0,st&6)throw Error(ae(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var r=sf(t,t===yn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sf(t,r);else{e=r;var i=st;st|=2;var s=qT();(yn!==t||En!==e)&&(Si=null,Ma=Gt()+500,no(t,e));do try{tO();break}catch(a){HT(t,a)}while(!0);Nv(),_f.current=s,st=i,nn!==null?e=0:(yn=null,En=0,e=fn)}if(e!==0){if(e===2&&(i=Mg(t),i!==0&&(r=i,e=cy(t,i))),e===1)throw n=Lu,no(t,0),ls(t,r),tr(t,Gt()),n;if(e===6)ls(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zj(i)&&(e=Sf(t,r),e===2&&(s=Mg(t),s!==0&&(r=s,e=cy(t,s))),e===1))throw n=Lu,no(t,0),ls(t,r),tr(t,Gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:Hs(t,Yn,Si);break;case 3:if(ls(t,r),(r&130023424)===r&&(e=Qv+500-Gt(),10<e)){if(sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wg(Hs.bind(null,t,Yn,Si),e);break}Hs(t,Yn,Si);break;case 4:if(ls(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ur(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jj(r/1960))-r,10<r){t.timeoutHandle=Wg(Hs.bind(null,t,Yn,Si),r);break}Hs(t,Yn,Si);break;case 5:Hs(t,Yn,Si);break;default:throw Error(ae(329))}}}return tr(t,Gt()),t.callbackNode===n?WT.bind(null,t):null}function cy(t,e){var n=su;return t.current.memoizedState.isDehydrated&&(no(t,e).flags|=256),t=Sf(t,e),t!==2&&(e=Yn,Yn=n,e!==null&&dy(e)),t}function dy(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function Zj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~Gv,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function Pb(t){if(st&6)throw Error(ae(327));xa();var e=sf(t,0);if(!(e&1))return tr(t,Gt()),null;var n=Sf(t,e);if(t.tag!==0&&n===2){var r=Mg(t);r!==0&&(e=r,n=cy(t,r))}if(n===1)throw n=Lu,no(t,0),ls(t,e),tr(t,Gt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hs(t,Yn,Si),tr(t,Gt()),null}function Yv(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Ma=Gt()+500,wh&&Os())}}function fo(t){cs!==null&&cs.tag===0&&!(st&6)&&xa();var e=st;st|=1;var n=Tr.transition,r=vt;try{if(Tr.transition=null,vt=1,t)return t()}finally{vt=r,Tr.transition=n,st=e,!(st&6)&&Os()}}function Xv(){sr=da.current,At(da)}function no(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rj(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(Av(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cf();break;case 3:Na(),At(Zn),At($n),Vv();break;case 5:Fv(r);break;case 4:Na();break;case 13:At(Dt);break;case 19:At(Dt);break;case 10:Lv(r.type._context);break;case 22:case 23:Xv()}n=n.return}if(yn=t,nn=t=_s(t.current,null),En=sr=e,fn=0,Lu=null,Gv=Ch=co=0,Yn=su=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xs=null}return t}function HT(t,e){do{var n=nn;try{if(Nv(),Ad.current=xf,vf){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vf=!1}if(uo=0,mn=dn=$t=null,ru=!1,ju=0,Kv.current=null,n===null||n.return===null){fn=1,Lu=e,nn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=En,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=yb(o);if(S!==null){S.flags&=-257,vb(S,o,a,s,e),S.mode&1&&gb(s,c,e),e=S,u=c;var E=e.updateQueue;if(E===null){var b=new Set;b.add(u),e.updateQueue=b}else E.add(u);break e}else{if(!(e&1)){gb(s,c,e),Jv();break e}u=Error(ae(426))}}else if(Nt&&a.mode&1){var I=yb(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),vb(I,o,a,s,e),jv(La(u,a));break e}}s=u=La(u,a),fn!==4&&(fn=2),su===null?su=[s]:su.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=kT(s,u,e);cb(s,T);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vs===null||!vs.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=RT(s,a,e);cb(s,R);break e}}s=s.return}while(s!==null)}GT(n)}catch(L){e=L,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function qT(){var t=_f.current;return _f.current=xf,t===null?xf:t}function Jv(){(fn===0||fn===3||fn===2)&&(fn=4),yn===null||!(co&268435455)&&!(Ch&268435455)||ls(yn,En)}function Sf(t,e){var n=st;st|=2;var r=qT();(yn!==t||En!==e)&&(Si=null,no(t,e));do try{eO();break}catch(i){HT(t,i)}while(!0);if(Nv(),st=n,_f.current=r,nn!==null)throw Error(ae(261));return yn=null,En=0,fn}function eO(){for(;nn!==null;)KT(nn)}function tO(){for(;nn!==null&&!C2();)KT(nn)}function KT(t){var e=YT(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?GT(t):nn=e,Kv.current=null}function GT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gj(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,nn=null;return}}else if(n=Kj(n,e,sr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);fn===0&&(fn=5)}function Hs(t,e,n){var r=vt,i=Tr.transition;try{Tr.transition=null,vt=1,nO(t,e,n,r)}finally{Tr.transition=i,vt=r}return null}function nO(t,e,n,r){do xa();while(cs!==null);if(st&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(M2(t,s),t===yn&&(nn=yn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ld||(ld=!0,XT(rf,function(){return xa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tr.transition,Tr.transition=null;var o=vt;vt=1;var a=st;st|=4,Kv.current=null,Yj(t,n),BT(n,t),wj(Bg),of=!!zg,Bg=zg=null,t.current=n,Xj(n),I2(),st=a,vt=o,Tr.transition=s}else t.current=n;if(ld&&(ld=!1,cs=t,wf=i),s=t.pendingLanes,s===0&&(vs=null),P2(n.stateNode),tr(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bf)throw bf=!1,t=ly,ly=null,t;return wf&1&&t.tag!==0&&xa(),s=t.pendingLanes,s&1?t===uy?ou++:(ou=0,uy=t):ou=0,Os(),null}function xa(){if(cs!==null){var t=kE(wf),e=Tr.transition,n=vt;try{if(Tr.transition=null,vt=16>t?16:t,cs===null)var r=!1;else{if(t=cs,cs=null,wf=0,st&6)throw Error(ae(331));var i=st;for(st|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ye=c;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:iu(8,f,s)}var h=f.child;if(h!==null)h.return=f,ye=h;else for(;ye!==null;){f=ye;var m=f.sibling,S=f.return;if(FT(f),f===c){ye=null;break}if(m!==null){m.return=S,ye=m;break}ye=S}}}var E=s.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var I=b.sibling;b.sibling=null,b=I}while(b!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:iu(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ye=T;break e}ye=s.return}}var v=t.current;for(ye=v;ye!==null;){o=ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ye=_;else e:for(o=v;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Th(9,a)}}catch(L){Wt(a,a.return,L)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(st=i,Os(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(yh,t)}catch{}r=!0}return r}finally{vt=n,Tr.transition=e}}return!1}function Ab(t,e,n){e=La(n,e),e=kT(t,e,1),t=ys(t,e,1),e=Hn(),t!==null&&(nc(t,1,e),tr(t,e))}function Wt(t,e,n){if(t.tag===3)Ab(t,t,n);else for(;e!==null;){if(e.tag===3){Ab(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vs===null||!vs.has(r))){t=La(n,t),t=RT(e,t,1),e=ys(e,t,1),t=Hn(),e!==null&&(nc(e,1,t),tr(e,t));break}}e=e.return}}function rO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(En&n)===n&&(fn===4||fn===3&&(En&130023424)===En&&500>Gt()-Qv?no(t,0):Gv|=n),tr(t,e)}function QT(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=Hn();t=Bi(t,e),t!==null&&(nc(t,e,n),tr(t,n))}function iO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QT(t,n)}function sO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),QT(t,n)}var YT;YT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zn.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,qj(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,Nt&&e.flags&1048576&&eT(e,hf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Od(t,e),t=e.pendingProps;var i=Aa(e,$n.current);va(e,n),i=Bv(null,e,r,t,i,n);var s=Uv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,er(r)?(s=!0,df(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dv(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Xg(e,r,t,n),e=ey(null,e,r,!0,s,n)):(e.tag=0,Nt&&s&&Pv(e),Un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aO(r),t=Fr(r,t),i){case 0:e=Zg(null,e,r,t,n);break e;case 1:e=bb(null,e,r,t,n);break e;case 11:e=xb(null,e,r,t,n);break e;case 14:e=_b(null,e,r,Fr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),Zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),bb(t,e,r,i,n);case 3:e:{if(OT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,oT(t,e),gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=La(Error(ae(423)),e),e=wb(t,e,r,n,i);break e}else if(r!==i){i=La(Error(ae(424)),e),e=wb(t,e,r,n,i);break e}else for(ar=gs(e.stateNode.containerInfo.firstChild),ur=e,Nt=!0,zr=null,n=iT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===i){e=Ui(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return aT(e),t===null&&Gg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ug(r,i)?o=null:s!==null&&Ug(r,s)&&(e.flags|=32),jT(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return NT(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),xb(t,e,r,i,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(pf,r._currentValue),r._currentValue=o,s!==null)if(Hr(s.value,o)){if(s.children===i.children&&!Zn.current){e=Ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Li(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qg(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,va(e,n),i=kr(i),r=r(i),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,i=Fr(r,e.pendingProps),i=Fr(r.type,i),_b(t,e,r,i,n);case 15:return PT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),Od(t,e),e.tag=1,er(r)?(t=!0,df(e)):t=!1,va(e,n),IT(e,r,i),Xg(e,r,i,n),ey(null,e,r,!0,t,n);case 19:return LT(t,e,n);case 22:return AT(t,e,n)}throw Error(ae(156,e.tag))};function XT(t,e){return EE(t,e)}function oO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new oO(t,e,n,r)}function Zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aO(t){if(typeof t=="function")return Zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vv)return 11;if(t===xv)return 14}return 2}function _s(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Md(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ta:return ro(n.children,i,s,e);case yv:o=8,i|=8;break;case bg:return t=Sr(12,n,e,i|2),t.elementType=bg,t.lanes=s,t;case wg:return t=Sr(13,n,e,i),t.elementType=wg,t.lanes=s,t;case Sg:return t=Sr(19,n,e,i),t.elementType=Sg,t.lanes=s,t;case aE:return Ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sE:o=10;break e;case oE:o=9;break e;case vv:o=11;break e;case xv:o=14;break e;case is:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ro(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function Ih(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=aE,t.lanes=n,t.stateNode={isHidden:!1},t}function Am(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function jm(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e0(t,e,n,r,i,s,o,a,u){return t=new lO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(s),t}function uO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JT(t){if(!t)return Ts;t=t._reactInternals;e:{if(To(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(er(n))return JE(t,n,e)}return e}function ZT(t,e,n,r,i,s,o,a,u){return t=e0(n,r,!0,t,i,s,o,a,u),t.context=JT(null),n=t.current,r=Hn(),i=xs(n),s=Li(r,i),s.callback=e??null,ys(n,s,i),t.current.lanes=i,nc(t,i,r),tr(t,r),t}function kh(t,e,n,r){var i=e.current,s=Hn(),o=xs(i);return n=JT(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ys(i,e,o),t!==null&&(Wr(t,i,o,s),Pd(t,i,o)),o}function Ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t0(t,e){jb(t,e),(t=t.alternate)&&jb(t,e)}function cO(){return null}var eC=typeof reportError=="function"?reportError:function(t){console.error(t)};function n0(t){this._internalRoot=t}Rh.prototype.render=n0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));kh(t,e,null,null)};Rh.prototype.unmount=n0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fo(function(){kh(null,t,null,null)}),e[zi]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=AE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<as.length&&e!==0&&e<as[n].priority;n++);as.splice(n,0,t),n===0&&OE(t)}};function r0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function dO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ef(o);s.call(c)}}var o=ZT(e,r,t,0,null,!1,!1,"",Ob);return t._reactRootContainer=o,t[zi]=o.current,Iu(t.nodeType===8?t.parentNode:t),fo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ef(u);a.call(c)}}var u=e0(t,0,!1,null,null,!1,!1,"",Ob);return t._reactRootContainer=u,t[zi]=u.current,Iu(t.nodeType===8?t.parentNode:t),fo(function(){kh(e,u,n,r)}),u}function Ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ef(o);a.call(u)}}kh(e,o,t,i)}else o=dO(n,e,t,i,r);return Ef(o)}RE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ul(e.pendingLanes);n!==0&&(wv(e,n|1),tr(e,Gt()),!(st&6)&&(Ma=Gt()+500,Os()))}break;case 13:fo(function(){var r=Bi(t,1);if(r!==null){var i=Hn();Wr(r,t,1,i)}}),t0(t,1)}};Sv=function(t){if(t.tag===13){var e=Bi(t,134217728);if(e!==null){var n=Hn();Wr(e,t,134217728,n)}t0(t,134217728)}};PE=function(t){if(t.tag===13){var e=xs(t),n=Bi(t,e);if(n!==null){var r=Hn();Wr(n,t,e,r)}t0(t,e)}};AE=function(){return vt};jE=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};Og=function(t,e,n){switch(e){case"input":if(Cg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bh(r);if(!i)throw Error(ae(90));uE(r),Cg(r,i)}}}break;case"textarea":dE(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};vE=Yv;xE=fo;var fO={usingClientEntryPoint:!1,Events:[ic,sa,bh,gE,yE,Yv]},Pl={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hO={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wE(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||cO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{yh=ud.inject(hO),si=ud}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fO;pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(e))throw Error(ae(200));return uO(t,e,null,n)};pr.createRoot=function(t,e){if(!r0(t))throw Error(ae(299));var n=!1,r="",i=eC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e0(t,1,!1,null,null,n,!1,r,i),t[zi]=e.current,Iu(t.nodeType===8?t.parentNode:t),new n0(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=wE(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return fo(t)};pr.hydrate=function(t,e,n){if(!Ph(e))throw Error(ae(200));return Ah(null,t,e,!0,n)};pr.hydrateRoot=function(t,e,n){if(!r0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZT(e,null,t,1,n??null,i,!1,s,o),t[zi]=e.current,Iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rh(e)};pr.render=function(t,e,n){if(!Ph(e))throw Error(ae(200));return Ah(null,t,e,!1,n)};pr.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(ae(40));return t._reactRootContainer?(fo(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};pr.unstable_batchedUpdates=Yv;pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ph(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Ah(t,e,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function tC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tC)}catch(t){console.error(t)}}tC(),tE.exports=pr;var i0=tE.exports;const cd=fh(i0);var Nb=i0;xg.createRoot=Nb.createRoot,xg.hydrateRoot=Nb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const Lb="popstate";function pO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Co(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fy("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Tf(s))}function r(i,s){s0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return gO(e,n,r,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function s0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mO(){return Math.random().toString(36).substr(2,8)}function Mb(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n,r){return n===void 0&&(n=null),Mu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||mO()})}function Tf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ds.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Mu({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=ds.Pop;let I=f(),T=I==null?null:I-c;c=I,u&&u({action:a,location:b.location,delta:T})}function m(I,T){a=ds.Push;let v=fy(b.location,I,T);n&&n(v,I),c=f()+1;let _=Mb(v,c),R=b.createHref(v);try{o.pushState(_,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&u&&u({action:a,location:b.location,delta:1})}function S(I,T){a=ds.Replace;let v=fy(b.location,I,T);n&&n(v,I),c=f();let _=Mb(v,c),R=b.createHref(v);o.replaceState(_,"",R),s&&u&&u({action:a,location:b.location,delta:0})}function E(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:Tf(I);return v=v.replace(/ $/,"%20"),an(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let b={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Lb,h),u=I,()=>{i.removeEventListener(Lb,h),u=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:S,go(I){return o.go(I)}};return b}var Db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Db||(Db={}));function yO(t,e,n){return n===void 0&&(n="/"),vO(t,e,n)}function vO(t,e,n,r){let i=typeof e=="string"?Co(e):e,s=o0(i.pathname||"/",n);if(s==null)return null;let o=nC(t);xO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=AO(s);a=kO(o[u],c)}return a}function nC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(an(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=bs([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(an(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:CO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of rC(s.path))i(s,o,u)}),e}function rC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function xO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _O=/^:[\w-]+$/,bO=3,wO=2,SO=1,EO=10,TO=-2,$b=t=>t==="*";function CO(t,e){let n=t.split("/"),r=n.length;return n.some($b)&&(r+=TO),e&&(r+=wO),n.filter(i=>!$b(i)).reduce((i,s)=>i+(_O.test(s)?bO:s===""?SO:EO),r)}function IO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=RO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:bs([s,h.pathname]),pathnameBase:LO(bs([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=bs([s,h.pathnameBase]))}return o}function RO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:S}=f;if(m==="*"){let b=a[h]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const E=a[h];return S&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function PO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),s0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return s0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:OO(n,e):e,search:MO(r),hash:DO(i)}}function OO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iC(t,e){let n=NO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=Mu({},t),an(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),an(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),an(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=jO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const bs=t=>t.join("/").replace(/\/\/+/g,"/"),LO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $O(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oC=["post","put","patch","delete"];new Set(oC);const FO=["get",...oC];new Set(FO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}const a0=w.createContext(null),VO=w.createContext(null),Io=w.createContext(null),jh=w.createContext(null),Ns=w.createContext({outlet:null,matches:[],isDataRoute:!1}),aC=w.createContext(null);function zO(t,e){let{relative:n}=e===void 0?{}:e;oc()||an(!1);let{basename:r,navigator:i}=w.useContext(Io),{hash:s,pathname:o,search:a}=uC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:bs([r,o])),i.createHref({pathname:u,search:a,hash:s})}function oc(){return w.useContext(jh)!=null}function ko(){return oc()||an(!1),w.useContext(jh).location}function lC(t){w.useContext(Io).static||w.useLayoutEffect(t)}function Ls(){let{isDataRoute:t}=w.useContext(Ns);return t?eN():BO()}function BO(){oc()||an(!1);let t=w.useContext(a0),{basename:e,future:n,navigator:r}=w.useContext(Io),{matches:i}=w.useContext(Ns),{pathname:s}=ko(),o=JSON.stringify(iC(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return lC(()=>{a.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=sC(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bs([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function Oh(){let{matches:t}=w.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function uC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Io),{matches:i}=w.useContext(Ns),{pathname:s}=ko(),o=JSON.stringify(iC(i,r.v7_relativeSplatPath));return w.useMemo(()=>sC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function UO(t,e){return WO(t,e)}function WO(t,e,n,r){oc()||an(!1);let{navigator:i}=w.useContext(Io),{matches:s}=w.useContext(Ns),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ko(),f;if(e){var h;let I=typeof e=="string"?Co(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||an(!1),f=I}else f=c;let m=f.pathname||"/",S=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=yO(t,{pathname:S}),b=QO(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:bs([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:bs([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&b?w.createElement(jh.Provider,{value:{location:Du({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ds.Pop}},b):b}function HO(){let t=ZO(),e=$O(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const qO=w.createElement(HO,null);class KO extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ns.Provider,{value:this.props.routeContext},w.createElement(aC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GO(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(a0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ns.Provider,{value:e},r)}function QO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||an(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:S}=n,E=h.route.loader&&m[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let S,E=!1,b=null,I=null;n&&(S=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||qO,u&&(c<0&&m===0?(tN("route-fallback"),E=!0,I=null):c===m&&(E=!0,I=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),v=()=>{let _;return S?_=b:E?_=I:h.route.Component?_=w.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,w.createElement(GO,{match:h,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(KO,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var cC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cC||{}),dC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dC||{});function YO(t){let e=w.useContext(a0);return e||an(!1),e}function XO(t){let e=w.useContext(VO);return e||an(!1),e}function JO(t){let e=w.useContext(Ns);return e||an(!1),e}function fC(t){let e=JO(),n=e.matches[e.matches.length-1];return n.route.id||an(!1),n.route.id}function ZO(){var t;let e=w.useContext(aC),n=XO(),r=fC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eN(){let{router:t}=YO(cC.UseNavigateStable),e=fC(dC.UseNavigateStable),n=w.useRef(!1);return lC(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Du({fromRouteId:e},s)))},[t,e])}const Fb={};function tN(t,e,n){Fb[t]||(Fb[t]=!0)}function nN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hn(t){an(!1)}function rN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ds.Pop,navigator:s,static:o=!1,future:a}=t;oc()&&an(!1);let u=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:s,static:o,future:Du({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Co(r));let{pathname:f="/",search:h="",hash:m="",state:S=null,key:E="default"}=r,b=w.useMemo(()=>{let I=o0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:S,key:E},navigationType:i}},[u,f,h,m,S,E,i]);return b==null?null:w.createElement(Io.Provider,{value:c},w.createElement(jh.Provider,{children:n,value:b}))}function iN(t){let{children:e,location:n}=t;return UO(hy(e),n)}new Promise(()=>{});function hy(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,hy(r.props.children,s));return}r.type!==hn&&an(!1),!r.props.index||!r.props.children||an(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function sN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aN(t,e){return t.button===0&&(!e||e==="_self")&&!oN(t)}const lN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uN="6";try{window.__reactRouterVersion=uN}catch{}const cN="startTransition",Vb=Zd[cN];function dN(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=pO({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(h=>{c&&Vb?Vb(()=>u(h)):u(h)},[u,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>nN(r),[r]),w.createElement(rN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=sN(e,lN),{basename:S}=w.useContext(Io),E,b=!1;if(typeof c=="string"&&hN.test(c)&&(E=c,fN))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),L=o0(R.pathname,S);R.origin===_.origin&&L!=null?c=L+R.search+R.hash:b=!0}catch{}let I=zO(c,{relative:i}),T=pN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function v(_){r&&r(_),_.defaultPrevented||T(_)}return w.createElement("a",py({},m,{href:E||I,onClick:b||s?r:v,ref:n,target:u}))});var zb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zb||(zb={}));var Bb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bb||(Bb={}));function pN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Ls(),c=ko(),f=uC(t,{relative:o});return w.useCallback(h=>{if(aN(h,n)){h.preventDefault();let m=r!==void 0?r:Tf(c)===Tf(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var Ub={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(m=64)),r.push(n[f],n[h],n[m],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new gN;const m=s<<2|a>>4;if(r.push(m),c!==64){const S=a<<4&240|c>>2;if(r.push(S),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yN=function(t){const e=hC(t);return pC.encodeByteArray(e,!0)},Cf=function(t){return yN(t).replace(/\./g,"")},mC=function(t){try{return pC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>vN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof Ub>"u")return;const t=Ub.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mC(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return xN()||_N()||bN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gC=t=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yC=t=>{const e=gC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vC=()=>{var t;return(t=Nh())===null||t===void 0?void 0:t.config},xC=t=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cf(JSON.stringify(n)),Cf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function EN(){var t;const e=(t=Nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RN(){return!EN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PN(){try{return typeof indexedDB=="object"}catch{return!1}}function AN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jN,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ON(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function ON(t,e){return t.replace(NN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NN=/\{\$([^}]+)}/g;function LN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function If(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Wb(s)&&Wb(o)){if(!If(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MN(t,e){const n=new DN(t,e);return n.subscribe.bind(n)}class DN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$N(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(t){return t===qs?void 0:t}function zN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const UN={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},WN=tt.INFO,HN={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},qN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=WN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const KN=(t,e)=>e.some(n=>t instanceof n);let Hb,qb;function GN(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return qb||(qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,my=new WeakMap,wC=new WeakMap,Lm=new WeakMap,u0=new WeakMap;function YN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bC.set(n,t)}).catch(()=>{}),u0.set(e,t),e}function XN(t){if(my.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});my.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JN(t){gy=t(gy)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mm(this),e,...n);return wC.set(r,e.sort?e.sort():[e]),ws(r)}:QN().includes(t)?function(...e){return t.apply(Mm(this),e),ws(bC.get(this))}:function(...e){return ws(t.apply(Mm(this),e))}}function eL(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&XN(t),KN(t,GN())?new Proxy(t,gy):t)}function ws(t){if(t instanceof IDBRequest)return YN(t);if(Lm.has(t))return Lm.get(t);const e=eL(t);return e!==t&&(Lm.set(t,e),u0.set(e,t)),e}const Mm=t=>u0.get(t);function tL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ws(o.result),u.oldVersion,u.newVersion,ws(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nL=["get","getKey","getAll","getAllKeys","count"],rL=["put","add","delete","clear"],Dm=new Map;function Kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nL.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Dm.set(e,s),s}JN(t=>({...t,get:(e,n,r)=>Kb(e,n)||t.get(e,n,r),has:(e,n)=>!!Kb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",Gb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new l0("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",lL="@firebase/analytics",uL="@firebase/app-check-compat",cL="@firebase/app-check",dL="@firebase/auth",fL="@firebase/auth-compat",hL="@firebase/database",pL="@firebase/data-connect",mL="@firebase/database-compat",gL="@firebase/functions",yL="@firebase/functions-compat",vL="@firebase/installations",xL="@firebase/installations-compat",_L="@firebase/messaging",bL="@firebase/messaging-compat",wL="@firebase/performance",SL="@firebase/performance-compat",EL="@firebase/remote-config",TL="@firebase/remote-config-compat",CL="@firebase/storage",IL="@firebase/storage-compat",kL="@firebase/firestore",RL="@firebase/vertexai-preview",PL="@firebase/firestore-compat",AL="firebase",jL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="[DEFAULT]",OL={[yy]:"fire-core",[oL]:"fire-core-compat",[lL]:"fire-analytics",[aL]:"fire-analytics-compat",[cL]:"fire-app-check",[uL]:"fire-app-check-compat",[dL]:"fire-auth",[fL]:"fire-auth-compat",[hL]:"fire-rtdb",[pL]:"fire-data-connect",[mL]:"fire-rtdb-compat",[gL]:"fire-fn",[yL]:"fire-fn-compat",[vL]:"fire-iid",[xL]:"fire-iid-compat",[_L]:"fire-fcm",[bL]:"fire-fcm-compat",[wL]:"fire-perf",[SL]:"fire-perf-compat",[EL]:"fire-rc",[TL]:"fire-rc-compat",[CL]:"fire-gcs",[IL]:"fire-gcs-compat",[kL]:"fire-fst",[PL]:"fire-fst-compat",[RL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Map,NL=new Map,xy=new Map;function Qb(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(xy.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of kf.values())Qb(n,t);for(const n of NL.values())Qb(n,t);return!0}function Lh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new ac("app","Firebase",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=jL;function SC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=vC()),!n)throw Ss.create("no-options");const s=kf.get(i);if(s){if(If(n,s.options)&&If(r,s.config))return s;throw Ss.create("duplicate-app",{appName:i})}const o=new BN(i);for(const u of xy.values())o.addComponent(u);const a=new ML(n,r,o);return kf.set(i,a),a}function c0(t=vy){const e=kf.get(t);if(!e&&t===vy&&vC())return SC();if(!e)throw Ss.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=OL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(a.join(" "));return}ho(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",$L=1,$u="firebase-heartbeat-store";let $m=null;function EC(){return $m||($m=tL(DL,$L,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),$m}async function FL(t){try{const n=(await EC()).transaction($u),r=await n.objectStore($u).get(TC(t));return await n.done,r}catch(e){if(e instanceof yi)Wi.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function Yb(t,e){try{const r=(await EC()).transaction($u,"readwrite");await r.objectStore($u).put(e,TC(t)),await r.done}catch(n){if(n instanceof yi)Wi.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(r.message)}}}function TC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,zL=30*24*60*60*1e3;class BL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xb(),{heartbeatsToSend:r,unsentEntries:i}=UL(this._heartbeatsCache.heartbeats),s=Cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wi.warn(n),""}}}function Xb(){return new Date().toISOString().substring(0,10)}function UL(t,e=VL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PN()?AN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jb(t){return Cf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){ho(new Cs("platform-logger",e=>new iL(e),"PRIVATE")),ho(new Cs("heartbeat",e=>new BL(e),"PRIVATE")),ai(yy,Gb,t),ai(yy,Gb,"esm2017"),ai("fire-js","")}HL("");var qL="firebase",KL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(qL,KL,"app");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,CC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(g,p){function y(){}y.prototype=p.prototype,g.D=p.prototype,g.prototype=new y,g.prototype.constructor=g,g.C=function(C,j,A){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return p.prototype[j].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,p,y){y||(y=0);var C=Array(16);if(typeof p=="string")for(var j=0;16>j;++j)C[j]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(j=0;16>j;++j)C[j]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=g.g[0],y=g.g[1],j=g.g[2];var A=g.g[3],P=p+(A^y&(j^A))+C[0]+3614090360&4294967295;p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[1]+3905402710&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[2]+606105819&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[3]+3250441966&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[4]+4118548399&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[5]+1200080426&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[6]+2821735955&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[7]+4249261313&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[8]+1770035416&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[9]+2336552879&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[10]+4294925233&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[11]+2304563134&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[12]+1804603682&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[13]+4254626195&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[14]+2792965006&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[15]+1236535329&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(j^A&(y^j))+C[1]+4129170786&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[6]+3225465664&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[11]+643717713&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[0]+3921069994&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[5]+3593408605&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[10]+38016083&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[15]+3634488961&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[4]+3889429448&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[9]+568446438&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[14]+3275163606&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[3]+4107603335&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[8]+1163531501&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[13]+2850285829&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[2]+4243563512&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[7]+1735328473&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[12]+2368359562&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(y^j^A)+C[5]+4294588738&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[8]+2272392833&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[11]+1839030562&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[14]+4259657740&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[1]+2763975236&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[4]+1272893353&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[7]+4139469664&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[10]+3200236656&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[13]+681279174&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[0]+3936430074&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[3]+3572445317&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[6]+76029189&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[9]+3654602809&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[12]+3873151461&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[15]+530742520&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[2]+3299628645&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(j^(y|~A))+C[0]+4096336452&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[7]+1126891415&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[14]+2878612391&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[5]+4237533241&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[12]+1700485571&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[3]+2399980690&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[10]+4293915773&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[1]+2240044497&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[8]+1873313359&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[15]+4264355552&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[6]+2734768916&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[13]+1309151649&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[4]+4149444226&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[11]+3174756917&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[2]+718787259&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[9]+3951481745&4294967295,g.g[0]=g.g[0]+p&4294967295,g.g[1]=g.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,g.g[2]=g.g[2]+j&4294967295,g.g[3]=g.g[3]+A&4294967295}r.prototype.u=function(g,p){p===void 0&&(p=g.length);for(var y=p-this.blockSize,C=this.B,j=this.h,A=0;A<p;){if(j==0)for(;A<=y;)i(this,g,A),A+=this.blockSize;if(typeof g=="string"){for(;A<p;)if(C[j++]=g.charCodeAt(A++),j==this.blockSize){i(this,C),j=0;break}}else for(;A<p;)if(C[j++]=g[A++],j==this.blockSize){i(this,C),j=0;break}}this.h=j,this.o+=p},r.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var p=1;p<g.length-8;++p)g[p]=0;var y=8*this.o;for(p=g.length-8;p<g.length;++p)g[p]=y&255,y/=256;for(this.u(g),g=Array(16),p=y=0;4>p;++p)for(var C=0;32>C;C+=8)g[y++]=this.g[p]>>>C&255;return g};function s(g,p){var y=a;return Object.prototype.hasOwnProperty.call(y,g)?y[g]:y[g]=p(g)}function o(g,p){this.h=p;for(var y=[],C=!0,j=g.length-1;0<=j;j--){var A=g[j]|0;C&&A==p||(y[j]=A,C=!1)}this.g=y}var a={};function u(g){return-128<=g&&128>g?s(g,function(p){return new o([p|0],0>p?-1:0)}):new o([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return h;if(0>g)return I(c(-g));for(var p=[],y=1,C=0;g>=y;C++)p[C]=g/y|0,y*=4294967296;return new o(p,0)}function f(g,p){if(g.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(g.charAt(0)=="-")return I(f(g.substring(1),p));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(p,8)),C=h,j=0;j<g.length;j+=8){var A=Math.min(8,g.length-j),P=parseInt(g.substring(j,j+A),p);8>A?(A=c(Math.pow(p,A)),C=C.j(A).add(c(P))):(C=C.j(y),C=C.add(c(P)))}return C}var h=u(0),m=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-I(this).m();for(var g=0,p=1,y=0;y<this.g.length;y++){var C=this.i(y);g+=(0<=C?C:4294967296+C)*p,p*=4294967296}return g},t.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E(this))return"0";if(b(this))return"-"+I(this).toString(g);for(var p=c(Math.pow(g,6)),y=this,C="";;){var j=R(y,p).g;y=T(y,j.j(p));var A=((0<y.g.length?y.g[0]:y.h)>>>0).toString(g);if(y=j,E(y))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},t.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function E(g){if(g.h!=0)return!1;for(var p=0;p<g.g.length;p++)if(g.g[p]!=0)return!1;return!0}function b(g){return g.h==-1}t.l=function(g){return g=T(this,g),b(g)?-1:E(g)?0:1};function I(g){for(var p=g.g.length,y=[],C=0;C<p;C++)y[C]=~g.g[C];return new o(y,~g.h).add(m)}t.abs=function(){return b(this)?I(this):this},t.add=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0,j=0;j<=p;j++){var A=C+(this.i(j)&65535)+(g.i(j)&65535),P=(A>>>16)+(this.i(j)>>>16)+(g.i(j)>>>16);C=P>>>16,A&=65535,P&=65535,y[j]=P<<16|A}return new o(y,y[y.length-1]&-2147483648?-1:0)};function T(g,p){return g.add(I(p))}t.j=function(g){if(E(this)||E(g))return h;if(b(this))return b(g)?I(this).j(I(g)):I(I(this).j(g));if(b(g))return I(this.j(I(g)));if(0>this.l(S)&&0>g.l(S))return c(this.m()*g.m());for(var p=this.g.length+g.g.length,y=[],C=0;C<2*p;C++)y[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<g.g.length;j++){var A=this.i(C)>>>16,P=this.i(C)&65535,W=g.i(j)>>>16,F=g.i(j)&65535;y[2*C+2*j]+=P*F,v(y,2*C+2*j),y[2*C+2*j+1]+=A*F,v(y,2*C+2*j+1),y[2*C+2*j+1]+=P*W,v(y,2*C+2*j+1),y[2*C+2*j+2]+=A*W,v(y,2*C+2*j+2)}for(C=0;C<p;C++)y[C]=y[2*C+1]<<16|y[2*C];for(C=p;C<2*p;C++)y[C]=0;return new o(y,0)};function v(g,p){for(;(g[p]&65535)!=g[p];)g[p+1]+=g[p]>>>16,g[p]&=65535,p++}function _(g,p){this.g=g,this.h=p}function R(g,p){if(E(p))throw Error("division by zero");if(E(g))return new _(h,h);if(b(g))return p=R(I(g),p),new _(I(p.g),I(p.h));if(b(p))return p=R(g,I(p)),new _(I(p.g),p.h);if(30<g.g.length){if(b(g)||b(p))throw Error("slowDivide_ only works with positive integers.");for(var y=m,C=p;0>=C.l(g);)y=L(y),C=L(C);var j=N(y,1),A=N(C,1);for(C=N(C,2),y=N(y,2);!E(C);){var P=A.add(C);0>=P.l(g)&&(j=j.add(y),A=P),C=N(C,1),y=N(y,1)}return p=T(g,j.j(p)),new _(j,p)}for(j=h;0<=g.l(p);){for(y=Math.max(1,Math.floor(g.m()/p.m())),C=Math.ceil(Math.log(y)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=c(y),P=A.j(p);b(P)||0<P.l(g);)y-=C,A=c(y),P=A.j(p);E(A)&&(A=m),j=j.add(A),g=T(g,P)}return new _(j,g)}t.A=function(g){return R(this,g).h},t.and=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)&g.i(C);return new o(y,this.h&g.h)},t.or=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)|g.i(C);return new o(y,this.h|g.h)},t.xor=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)^g.i(C);return new o(y,this.h^g.h)};function L(g){for(var p=g.g.length+1,y=[],C=0;C<p;C++)y[C]=g.i(C)<<1|g.i(C-1)>>>31;return new o(y,g.h)}function N(g,p){var y=p>>5;p%=32;for(var C=g.g.length-y,j=[],A=0;A<C;A++)j[A]=0<p?g.i(A+y)>>>p|g.i(A+y+1)<<32-p:g.i(A+y);return new o(j,g.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,io=o}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IC,Kl,kC,Dd,_y,RC,PC,AC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,k){return d==Array.prototype||d==Object.prototype||(d[x]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var x=0;x<d.length;++x){var k=d[x];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(d,x){if(x)e:{var k=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var K=d[M];if(!(K in k))break e;k=k[K]}d=d[d.length-1],M=k[d],x=x(M),x!=M&&x!=null&&e(k,d,{configurable:!0,writable:!0,value:x})}}function s(d,x){d instanceof String&&(d+="");var k=0,M=!1,K={next:function(){if(!M&&k<d.length){var X=k++;return{value:x(X,d[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return s(this,function(x,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,k){return d.call.apply(d.bind,arguments)}function h(d,x,k){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),d.apply(x,K)}}return function(){return d.apply(x,arguments)}}function m(d,x,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function S(d,x){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function E(d,x){function k(){}k.prototype=x.prototype,d.aa=x.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(M,K,X){for(var le=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)le[wt-2]=arguments[wt];return x.prototype[K].apply(M,le)}}function b(d){const x=d.length;if(0<x){const k=Array(x);for(let M=0;M<x;M++)k[M]=d[M];return k}return[]}function I(d,x){for(let k=1;k<arguments.length;k++){const M=arguments[k];if(u(M)){const K=d.length||0,X=M.length||0;d.length=K+X;for(let le=0;le<X;le++)d[K+le]=M[le]}else d.push(M)}}class T{constructor(x,k){this.i=x,this.j=k,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var L=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,x,k){for(const M in d)x.call(k,d[M],M,d)}function g(d,x){for(const k in d)x.call(void 0,d[k],k,d)}function p(d){const x={};for(const k in d)x[k]=d[k];return x}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,x){let k,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(k in M)d[k]=M[k];for(let X=0;X<y.length;X++)k=y[X],Object.prototype.hasOwnProperty.call(M,k)&&(d[k]=M[k])}}function j(d){var x=1;d=d.split(":");const k=[];for(;0<x&&d.length;)k.push(d.shift()),x--;return d.length&&k.push(d.join(":")),k}function A(d){a.setTimeout(()=>{throw d},0)}function P(){var d=z;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class W{constructor(){this.h=this.g=null}add(x,k){const M=F.get();M.set(x,k),this.h?this.h.next=M:this.g=M,this.h=M}}var F=new T(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(x,k){this.h=x,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,z=new W,q=()=>{const d=a.Promise.resolve(void 0);B=()=>{d.then(Q)}};var Q=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(k){A(k)}var x=F;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}D=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};a.addEventListener("test",k,x),a.removeEventListener("test",k,x)}catch{}return d}();function me(d,x){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(L){e:{try{R(x.nodeName);var K=!0;break e}catch{}K=!1}K||(x=null)}}else k=="mouseover"?x=d.fromElement:k=="mouseout"&&(x=d.toElement);this.relatedTarget=x,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&me.aa.h.call(this)}}E(me,J);var ve={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),G=0;function U(d,x,k,M,K){this.listener=d,this.proxy=null,this.src=x,this.type=k,this.capture=!!M,this.ha=K,this.key=++G,this.da=this.fa=!1}function ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,x,k,M,K){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var le=ce(d,x,M,K);return-1<le?(x=d[le],k||(x.fa=!1)):(x=new U(x,this.src,X,!!M,K),x.fa=k,d.push(x)),x};function te(d,x){var k=x.type;if(k in d.g){var M=d.g[k],K=Array.prototype.indexOf.call(M,x,void 0),X;(X=0<=K)&&Array.prototype.splice.call(M,K,1),X&&(ne(x),d.g[k].length==0&&(delete d.g[k],d.h--))}}function ce(d,x,k,M){for(var K=0;K<d.length;++K){var X=d[K];if(!X.da&&X.listener==x&&X.capture==!!k&&X.ha==M)return K}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),he={};function _e(d,x,k,M,K){if(Array.isArray(x)){for(var X=0;X<x.length;X++)_e(d,x[X],k,M,K);return null}return k=yt(k),d&&d[$]?d.K(x,k,c(M)?!!M.capture:!1,K):Xe(d,x,k,!1,M,K)}function Xe(d,x,k,M,K,X){if(!x)throw Error("Invalid event type");var le=c(K)?!!K.capture:!!K,wt=pt(d);if(wt||(d[fe]=wt=new Z(d)),k=wt.add(x,k,M,le,X),k.proxy)return k;if(M=Ee(),k.proxy=M,M.src=d,M.listener=k,d.addEventListener)ie||(K=le),K===void 0&&(K=!1),d.addEventListener(x.toString(),M,K);else if(d.attachEvent)d.attachEvent(qe(x.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ee(){function d(k){return x.call(d.src,d.listener,k)}const x=ht;return d}function De(d,x,k,M,K){if(Array.isArray(x))for(var X=0;X<x.length;X++)De(d,x[X],k,M,K);else M=c(M)?!!M.capture:!!M,k=yt(k),d&&d[$]?(d=d.i,x=String(x).toString(),x in d.g&&(X=d.g[x],k=ce(X,k,M,K),-1<k&&(ne(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete d.g[x],d.h--)))):d&&(d=pt(d))&&(x=d.g[x.toString()],d=-1,x&&(d=ce(x,k,M,K)),(k=-1<d?x[d]:null)&&$e(k))}function $e(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[$])te(x.i,d);else{var k=d.type,M=d.proxy;x.removeEventListener?x.removeEventListener(k,M,d.capture):x.detachEvent?x.detachEvent(qe(k),M):x.addListener&&x.removeListener&&x.removeListener(M),(k=pt(x))?(te(k,d),k.h==0&&(k.src=null,x[fe]=null)):ne(d)}}}function qe(d){return d in he?he[d]:he[d]="on"+d}function ht(d,x){if(d.da)d=!0;else{x=new me(x,this);var k=d.listener,M=d.ha||d.src;d.fa&&$e(d),d=k.call(M,x)}return d}function pt(d){return d=d[fe],d instanceof Z?d:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(d){return typeof d=="function"?d:(d[Le]||(d[Le]=function(x){return d.handleEvent(x)}),d[Le])}function Ie(){Y.call(this),this.i=new Z(this),this.M=this,this.F=null}E(Ie,Y),Ie.prototype[$]=!0,Ie.prototype.removeEventListener=function(d,x,k,M){De(this,d,x,k,M)};function Be(d,x){var k,M=d.F;if(M)for(k=[];M;M=M.F)k.push(M);if(d=d.M,M=x.type||x,typeof x=="string")x=new J(x,d);else if(x instanceof J)x.target=x.target||d;else{var K=x;x=new J(M,d),C(x,K)}if(K=!0,k)for(var X=k.length-1;0<=X;X--){var le=x.g=k[X];K=Oe(le,M,!0,x)&&K}if(le=x.g=d,K=Oe(le,M,!0,x)&&K,K=Oe(le,M,!1,x)&&K,k)for(X=0;X<k.length;X++)le=x.g=k[X],K=Oe(le,M,!1,x)&&K}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var k=d.g[x],M=0;M<k.length;M++)ne(k[M]);delete d.g[x],d.h--}}this.F=null},Ie.prototype.K=function(d,x,k,M){return this.i.add(String(d),x,!1,k,M)},Ie.prototype.L=function(d,x,k,M){return this.i.add(String(d),x,!0,k,M)};function Oe(d,x,k,M){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var K=!0,X=0;X<x.length;++X){var le=x[X];if(le&&!le.da&&le.capture==k){var wt=le.listener,_n=le.ha||le.src;le.fa&&te(d.i,le),K=wt.call(_n,M)!==!1&&K}}return K&&!M.defaultPrevented}function Te(d,x,k){if(typeof d=="function")k&&(d=m(d,k));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function Et(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,Et(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Ht extends Y{constructor(x,k){super(),this.m=x,this.l=k,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(d){Y.call(this),this.h=d,this.g={}}E(Je,Y);var we=[];function nt(d){N(d.g,function(x,k){this.g.hasOwnProperty(k)&&$e(x)},d),d.g={}}Je.prototype.N=function(){Je.aa.N.call(this),nt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=a.JSON.stringify,Qr=a.JSON.parse,No=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function pl(){}pl.prototype.h=null;function Lo(d){return d.h||(d.h=d.i())}function Nc(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mo(){J.call(this,"d")}E(Mo,J);function Do(){J.call(this,"c")}E(Do,J);var Xr={},O=null;function oe(){return O=O||new Ie}Xr.La="serverreachability";function de(d){J.call(this,Xr.La,d)}E(de,J);function Ve(d){const x=oe();Be(x,new de(x))}Xr.STAT_EVENT="statevent";function ot(d,x){J.call(this,Xr.STAT_EVENT,d),this.stat=x}E(ot,J);function rt(d){const x=oe();Be(x,new ot(x,d))}Xr.Ma="timingevent";function It(d,x){J.call(this,Xr.Ma,d),this.size=x}E(It,J);function Re(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function et(){this.g=!0}et.prototype.xa=function(){this.g=!1};function yr(d,x,k,M,K,X){d.info(function(){if(d.g)if(X)for(var le="",wt=X.split("&"),_n=0;_n<wt.length;_n++){var at=wt[_n].split("=");if(1<at.length){var kn=at[0];at=at[1];var Rn=kn.split("_");le=2<=Rn.length&&Rn[1]=="type"?le+(kn+"="+at+"&"):le+(kn+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+x+`
`+k+`
`+le})}function Jr(d,x,k,M,K,X,le){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+x+`
`+k+`
`+X+" "+le})}function zn(d,x,k,M){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+qt(d,k)+(M?" "+M:"")})}function Xt(d,x){d.info(function(){return"TIMEOUT: "+x})}et.prototype.info=function(){};function qt(d,x){if(!d.g)return x;if(!x)return null;try{var k=JSON.parse(x);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var M=k[d];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<K.length;le++)K[le]=""}}}}return He(k)}catch{return x}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lt;function $o(){}E($o,pl),$o.prototype.g=function(){return new XMLHttpRequest},$o.prototype.i=function(){return{}},Lt=new $o;function Xi(d,x,k,M){this.j=d,this.i=x,this.l=k,this.R=M||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zx}function zx(){this.i=null,this.g="",this.h=!1}var Bx={},Yp={};function Xp(d,x,k){d.L=1,d.v=$c(bi(x)),d.m=k,d.P=!0,Ux(d,null)}function Ux(d,x){d.F=Date.now(),Lc(d),d.A=bi(d.v);var k=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),r_(k.i,"t",M),d.C=0,k=d.j.J,d.h=new zx,d.g=b_(d.j,k?x:null,!d.m),0<d.O&&(d.M=new Ht(m(d.Y,d,d.g),d.O)),x=d.U,k=d.g,M=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(we[0]=K.toString()),K=we);for(var X=0;X<K.length;X++){var le=_e(k,K[X],M||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Ve(),yr(d.i,d.u,d.A,d.l,d.R,d.m)}Xi.prototype.ca=function(d){d=d.target;const x=this.M;x&&wi(d)==3?x.j():this.Y(d)},Xi.prototype.Y=function(d){try{if(d==this.g)e:{const Rn=wi(this.g);var x=this.g.Ba();const zo=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||Rn!=4||x==7||(x==8||0>=zo?Ve(3):Ve(2)),Jp(this);var k=this.g.Z();this.X=k;t:if(Wx(this)){var M=c_(this.g);d="";var K=M.length,X=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),ml(this);var le="";break t}this.h.i=new a.TextDecoder}for(x=0;x<K;x++)this.h.h=!0,d+=this.h.i.decode(M[x],{stream:!(X&&x==K-1)});M.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=k==200,Jr(this.i,this.u,this.A,this.l,this.R,Rn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,_n=this.g;if((wt=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(wt)){var at=wt;break t}}at=null}if(k=at)zn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zp(this,k);else{this.o=!1,this.s=3,rt(12),Vs(this),ml(this);break e}}if(this.P){k=!0;let Mr;for(;!this.J&&this.C<le.length;)if(Mr=BP(this,le),Mr==Yp){Rn==4&&(this.s=4,rt(14),k=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Mr==Bx){this.s=4,rt(15),zn(this.i,this.l,le,"[Invalid Chunk]"),k=!1;break}else zn(this.i,this.l,Mr,null),Zp(this,Mr);if(Wx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||le.length!=0||this.h.h||(this.s=1,rt(16),k=!1),this.o=this.o&&k,!k)zn(this.i,this.l,le,"[Invalid Chunked Response]"),Vs(this),ml(this);else if(0<le.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),sm(kn),kn.M=!0,rt(11))}}else zn(this.i,this.l,le,null),Zp(this,le);Rn==4&&Vs(this),this.o&&!this.J&&(Rn==4?y_(this.j,this):(this.o=!1,Lc(this)))}else sA(this.g),k==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Vs(this),ml(this)}}}catch{}finally{}};function Wx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function BP(d,x){var k=d.C,M=x.indexOf(`
`,k);return M==-1?Yp:(k=Number(x.substring(k,M)),isNaN(k)?Bx:(M+=1,M+k>x.length?Yp:(x=x.slice(M,M+k),d.C=M+k,x)))}Xi.prototype.cancel=function(){this.J=!0,Vs(this)};function Lc(d){d.S=Date.now()+d.I,Hx(d,d.I)}function Hx(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Re(m(d.ba,d),x)}function Jp(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Xi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Xt(this.i,this.A),this.L!=2&&(Ve(),rt(17)),Vs(this),this.s=2,ml(this)):Hx(this,this.S-d)};function ml(d){d.j.G==0||d.J||y_(d.j,d)}function Vs(d){Jp(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,nt(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Zp(d,x){try{var k=d.j;if(k.G!=0&&(k.g==d||em(k.h,d))){if(!d.K&&em(k.h,d)&&k.G==3){try{var M=k.Da.g.parse(x)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Wc(k),Bc(k);else break e;im(k),rt(18)}}else k.za=K[1],0<k.za-k.T&&37500>K[2]&&k.F&&k.v==0&&!k.C&&(k.C=Re(m(k.Za,k),6e3));if(1>=Gx(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Bs(k,11)}else if((d.K||k.g==d)&&Wc(k),!v(x))for(K=k.Da.g.parse(x),x=0;x<K.length;x++){let at=K[x];if(k.T=at[0],at=at[1],k.G==2)if(at[0]=="c"){k.K=at[1],k.ia=at[2];const kn=at[3];kn!=null&&(k.la=kn,k.j.info("VER="+k.la));const Rn=at[4];Rn!=null&&(k.Aa=Rn,k.j.info("SVER="+k.Aa));const zo=at[5];zo!=null&&typeof zo=="number"&&0<zo&&(M=1.5*zo,k.L=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const Mr=d.g;if(Mr){const qc=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var X=M.h;X.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(tm(X,X.h),X.h=null))}if(M.D){const om=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;om&&(M.ya=om,kt(M.I,M.D,om))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),M=k;var le=d;if(M.qa=__(M,M.J?M.ia:null,M.W),le.K){Qx(M.h,le);var wt=le,_n=M.L;_n&&(wt.I=_n),wt.B&&(Jp(wt),Lc(wt)),M.g=le}else m_(M);0<k.i.length&&Uc(k)}else at[0]!="stop"&&at[0]!="close"||Bs(k,7);else k.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Bs(k,7):rm(k):at[0]!="noop"&&k.l&&k.l.ta(at),k.v=0)}}Ve(4)}catch{}}var UP=class{constructor(d,x){this.g=d,this.map=x}};function qx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gx(d){return d.h?1:d.g?d.g.size:0}function em(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function tm(d,x){d.g?d.g.add(x):d.h=x}function Qx(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}qx.prototype.cancel=function(){if(this.i=Yx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const k of d.g.values())x=x.concat(k.D);return x}return b(d.i)}function WP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var x=[],k=d.length,M=0;M<k;M++)x.push(d[M]);return x}x=[],k=0;for(M in d)x[k++]=d[M];return x}function HP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var x=[];d=d.length;for(var k=0;k<d;k++)x.push(k);return x}x=[],k=0;for(const M in d)x[k++]=M;return x}}}function Xx(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var k=HP(d),M=WP(d),K=M.length,X=0;X<K;X++)x.call(void 0,M[X],k&&k[X],d)}var Jx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qP(d,x){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var M=d[k].indexOf("="),K=null;if(0<=M){var X=d[k].substring(0,M);K=d[k].substring(M+1)}else X=d[k];x(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function zs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zs){this.h=d.h,Mc(this,d.j),this.o=d.o,this.g=d.g,Dc(this,d.s),this.l=d.l;var x=d.i,k=new vl;k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),Zx(this,k),this.m=d.m}else d&&(x=String(d).match(Jx))?(this.h=!1,Mc(this,x[1]||"",!0),this.o=gl(x[2]||""),this.g=gl(x[3]||"",!0),Dc(this,x[4]),this.l=gl(x[5]||"",!0),Zx(this,x[6]||"",!0),this.m=gl(x[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}zs.prototype.toString=function(){var d=[],x=this.j;x&&d.push(yl(x,e_,!0),":");var k=this.g;return(k||x=="file")&&(d.push("//"),(x=this.o)&&d.push(yl(x,e_,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(yl(k,k.charAt(0)=="/"?QP:GP,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",yl(k,XP)),d.join("")};function bi(d){return new zs(d)}function Mc(d,x,k){d.j=k?gl(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Dc(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function Zx(d,x,k){x instanceof vl?(d.i=x,JP(d.i,d.h)):(k||(x=yl(x,YP)),d.i=new vl(x,d.h))}function kt(d,x,k){d.i.set(x,k)}function $c(d){return kt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gl(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function yl(d,x,k){return typeof d=="string"?(d=encodeURI(d).replace(x,KP),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function KP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var e_=/[#\/\?@]/g,GP=/[#\?:]/g,QP=/[#\?]/g,YP=/[#\?@]/g,XP=/#/g;function vl(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Ji(d){d.g||(d.g=new Map,d.h=0,d.i&&qP(d.i,function(x,k){d.add(decodeURIComponent(x.replace(/\+/g," ")),k)}))}t=vl.prototype,t.add=function(d,x){Ji(this),this.i=null,d=Fo(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(x),this.h+=1,this};function t_(d,x){Ji(d),x=Fo(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function n_(d,x){return Ji(d),x=Fo(d,x),d.g.has(x)}t.forEach=function(d,x){Ji(this),this.g.forEach(function(k,M){k.forEach(function(K){d.call(x,K,M,this)},this)},this)},t.na=function(){Ji(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),k=[];for(let M=0;M<x.length;M++){const K=d[M];for(let X=0;X<K.length;X++)k.push(x[M])}return k},t.V=function(d){Ji(this);let x=[];if(typeof d=="string")n_(this,d)&&(x=x.concat(this.g.get(Fo(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)x=x.concat(d[k])}return x},t.set=function(d,x){return Ji(this),this.i=null,d=Fo(this,d),n_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function r_(d,x,k){t_(d,x),0<k.length&&(d.i=null,d.g.set(Fo(d,x),b(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var k=0;k<x.length;k++){var M=x[k];const X=encodeURIComponent(String(M)),le=this.V(M);for(M=0;M<le.length;M++){var K=X;le[M]!==""&&(K+="="+encodeURIComponent(String(le[M]))),d.push(K)}}return this.i=d.join("&")};function Fo(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function JP(d,x){x&&!d.j&&(Ji(d),d.i=null,d.g.forEach(function(k,M){var K=M.toLowerCase();M!=K&&(t_(this,M),r_(this,K,k))},d)),d.j=x}function ZP(d,x){const k=new et;if(a.Image){const M=new Image;M.onload=S(Zi,k,"TestLoadImage: loaded",!0,x,M),M.onerror=S(Zi,k,"TestLoadImage: error",!1,x,M),M.onabort=S(Zi,k,"TestLoadImage: abort",!1,x,M),M.ontimeout=S(Zi,k,"TestLoadImage: timeout",!1,x,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else x(!1)}function eA(d,x){const k=new et,M=new AbortController,K=setTimeout(()=>{M.abort(),Zi(k,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:M.signal}).then(X=>{clearTimeout(K),X.ok?Zi(k,"TestPingServer: ok",!0,x):Zi(k,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),Zi(k,"TestPingServer: error",!1,x)})}function Zi(d,x,k,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(k)}catch{}}function tA(){this.g=new No}function nA(d,x,k){const M=k||"";try{Xx(d,function(K,X){let le=K;c(K)&&(le=He(K)),x.push(M+X+"="+encodeURIComponent(le))})}catch(K){throw x.push(M+"type="+encodeURIComponent("_badmap")),K}}function Fc(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Fc,pl),Fc.prototype.g=function(){return new Vc(this.l,this.j)},Fc.prototype.i=function(d){return function(){return d}}({});function Vc(d,x){Ie.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Vc,Ie),t=Vc.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,_l(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;i_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function i_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?xl(this):_l(this),this.readyState==3&&i_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,xl(this))},t.Qa=function(d){this.g&&(this.response=d,xl(this))},t.ga=function(){this.g&&xl(this)};function xl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_l(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var k=x.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=x.next();return d.join(`\r
`)};function _l(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function s_(d){let x="";return N(d,function(k,M){x+=M,x+=":",x+=k,x+=`\r
`}),x}function nm(d,x,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=s_(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):kt(d,x,k))}function zt(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(zt,Ie);var rA=/^https?$/i,iA=["POST","PUT"];t=zt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lt.g(),this.v=this.o?Lo(this.o):Lo(Lt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(X){o_(this,X);return}if(d=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)k.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())k.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iA,x,void 0))||M||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of k)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{u_(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){o_(this,X)}};function o_(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,a_(d),zc(d)}function a_(d){d.A||(d.A=!0,Be(d,"complete"),Be(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Be(this,"complete"),Be(this,"abort"),zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zc(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l_(this):this.bb())},t.bb=function(){l_(this)};function l_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||wi(d)!=4||d.Z()!=2)){if(d.u&&wi(d)==4)Te(d.Ea,0,d);else if(Be(d,"readystatechange"),wi(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var k;if(!(k=x)){var M;if(M=le===0){var K=String(d.D).match(Jx)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),M=!rA.test(K?K.toLowerCase():"")}k=M}if(k)Be(d,"complete"),Be(d,"success");else{d.m=6;try{var X=2<wi(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",a_(d)}}finally{zc(d)}}}}function zc(d,x){if(d.g){u_(d);const k=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Be(d,"ready");try{k.onreadystatechange=M}catch{}}}function u_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function wi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Qr(x)}};function c_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function sA(d){const x={};d=(d.g&&2<=wi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(v(d[M]))continue;var k=j(d[M]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=x[K]||[];x[K]=X,X.push(k)}g(x,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(d,x,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||x}function d_(d){this.Aa=0,this.i=[],this.j=new et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bl("baseRetryDelayMs",5e3,d),this.cb=bl("retryDelaySeedMs",1e4,d),this.Wa=bl("forwardChannelMaxRetries",2,d),this.wa=bl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qx(d&&d.concurrentRequestLimit),this.Da=new tA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=d_.prototype,t.la=8,t.G=1,t.connect=function(d,x,k,M){rt(0),this.W=d,this.H=x||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.I=__(this,null,this.W),Uc(this)};function rm(d){if(f_(d),d.G==3){var x=d.U++,k=bi(d.I);if(kt(k,"SID",d.K),kt(k,"RID",x),kt(k,"TYPE","terminate"),wl(d,k),x=new Xi(d,d.j,x),x.L=2,x.v=$c(bi(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=x.v,k=!0),k||(x.g=b_(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Lc(x)}x_(d)}function Bc(d){d.g&&(sm(d),d.g.cancel(),d.g=null)}function f_(d){Bc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Wc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Uc(d){if(!Kx(d.h)&&!d.s){d.s=!0;var x=d.Ga;B||q(),D||(B(),D=!0),z.add(x,d),d.B=0}}function oA(d,x){return Gx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Re(m(d.Ga,d,x),v_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Xi(this,this.j,d);let X=this.o;if(this.S&&(X?(X=p(X),C(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var x=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(x+=M,4096<x){x=k;break e}if(x===4096||k===this.i.length-1){x=k+1;break e}}x=1e3}else x=1e3;x=p_(this,K,x),k=bi(this.I),kt(k,"RID",d),kt(k,"CVER",22),this.D&&kt(k,"X-HTTP-Session-Id",this.D),wl(this,k),X&&(this.O?x="headers="+encodeURIComponent(String(s_(X)))+"&"+x:this.m&&nm(k,this.m,X)),tm(this.h,K),this.Ua&&kt(k,"TYPE","init"),this.P?(kt(k,"$req",x),kt(k,"SID","null"),K.T=!0,Xp(K,k,null)):Xp(K,k,x),this.G=2}}else this.G==3&&(d?h_(this,d):this.i.length==0||Kx(this.h)||h_(this))};function h_(d,x){var k;x?k=x.l:k=d.U++;const M=bi(d.I);kt(M,"SID",d.K),kt(M,"RID",k),kt(M,"AID",d.T),wl(d,M),d.m&&d.o&&nm(M,d.m,d.o),k=new Xi(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),x&&(d.i=x.D.concat(d.i)),x=p_(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),tm(d.h,k),Xp(k,M,x)}function wl(d,x){d.H&&N(d.H,function(k,M){kt(x,M,k)}),d.l&&Xx({},function(k,M){kt(x,M,k)})}function p_(d,x,k){k=Math.min(d.i.length,k);var M=d.l?m(d.l.Na,d.l,d):null;e:{var K=d.i;let X=-1;for(;;){const le=["count="+k];X==-1?0<k?(X=K[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let wt=!0;for(let _n=0;_n<k;_n++){let at=K[_n].g;const kn=K[_n].map;if(at-=X,0>at)X=Math.max(0,K[_n].g-100),wt=!1;else try{nA(kn,le,"req"+at+"_")}catch{M&&M(kn)}}if(wt){M=le.join("&");break e}}}return d=d.i.splice(0,k),x.D=d,M}function m_(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;B||q(),D||(B(),D=!0),z.add(x,d),d.v=0}}function im(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Re(m(d.Fa,d),v_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,g_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Re(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Bc(this),g_(this))};function sm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function g_(d){d.g=new Xi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=bi(d.qa);kt(x,"RID","rpc"),kt(x,"SID",d.K),kt(x,"AID",d.T),kt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&kt(x,"TO",d.ja),kt(x,"TYPE","xmlhttp"),wl(d,x),d.m&&d.o&&nm(x,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=$c(bi(x)),k.m=null,k.P=!0,Ux(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Bc(this),im(this),rt(19))};function Wc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function y_(d,x){var k=null;if(d.g==x){Wc(d),sm(d),d.g=null;var M=2}else if(em(d.h,x))k=x.D,Qx(d.h,x),M=1;else return;if(d.G!=0){if(x.o)if(M==1){k=x.m?x.m.length:0,x=Date.now()-x.F;var K=d.B;M=oe(),Be(M,new It(M,k)),Uc(d)}else m_(d);else if(K=x.s,K==3||K==0&&0<x.X||!(M==1&&oA(d,x)||M==2&&im(d)))switch(k&&0<k.length&&(x=d.h,x.i=x.i.concat(k)),K){case 1:Bs(d,5);break;case 4:Bs(d,10);break;case 3:Bs(d,6);break;default:Bs(d,2)}}}function v_(d,x){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*x}function Bs(d,x){if(d.j.info("Error code "+x),x==2){var k=m(d.fb,d),M=d.Xa;const K=!M;M=new zs(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mc(M,"https"),$c(M),K?ZP(M.toString(),k):eA(M.toString(),k)}else rt(2);d.G=0,d.l&&d.l.sa(x),x_(d),f_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function x_(d){if(d.G=0,d.ka=[],d.l){const x=Yx(d.h);(x.length!=0||d.i.length!=0)&&(I(d.ka,x),I(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function __(d,x,k){var M=k instanceof zs?bi(k):new zs(k);if(M.g!="")x&&(M.g=x+"."+M.g),Dc(M,M.s);else{var K=a.location;M=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;var X=new zs(null);M&&Mc(X,M),x&&(X.g=x),K&&Dc(X,K),k&&(X.l=k),M=X}return k=d.D,x=d.ya,k&&x&&kt(M,k,x),kt(M,"VER",d.la),wl(d,M),M}function b_(d,x,k){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new zt(new Fc({eb:k})):new zt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w_(){}t=w_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hc(){}Hc.prototype.g=function(d,x){return new ir(d,x)};function ir(d,x){Ie.call(this),this.g=new d_(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!v(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Vo(this)}E(ir,Ie),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){rm(this.g)},ir.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=He(d),d=k);x.i.push(new UP(x.Ya++,d)),x.G==3&&Uc(x)},ir.prototype.N=function(){this.g.l=null,delete this.j,rm(this.g),delete this.g,ir.aa.N.call(this)};function S_(d){Mo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const k in x){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}E(S_,Mo);function E_(){Do.call(this),this.status=1}E(E_,Do);function Vo(d){this.g=d}E(Vo,w_),Vo.prototype.ua=function(){Be(this.g,"a")},Vo.prototype.ta=function(d){Be(this.g,new S_(d))},Vo.prototype.sa=function(d){Be(this.g,new E_)},Vo.prototype.ra=function(){Be(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,AC=function(){return new Hc},PC=function(){return oe()},RC=Xr,_y={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Dd=_i,Pe.COMPLETE="complete",kC=Pe,Nc.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Kl=Nc,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,IC=zt}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new l0("@firebase/firestore");function Al(){return po.logLevel}function Se(t,...e){if(po.logLevel<=tt.DEBUG){const n=e.map(d0);po.debug(`Firestore (${il}): ${t}`,...n)}}function Hi(t,...e){if(po.logLevel<=tt.ERROR){const n=e.map(d0);po.error(`Firestore (${il}): ${t}`,...n)}}function mo(t,...e){if(po.logLevel<=tt.WARN){const n=e.map(d0);po.warn(`Firestore (${il}): ${t}`,...n)}}function d0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function xt(t,e){t||ze()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class GL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QL{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string"),new jC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Nn(e)}}class YL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new YL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xt(this.o===void 0);const r=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string"),this.R=n.token,new JL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ln(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new ln(0,0))}static max(){return new Ue(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pt extends Fu{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const tM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Fu{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return tM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Pt.fromString(e))}static fromName(e){return new ke(Pt.fromString(e).popFirst(5))}static empty(){return new ke(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Pt(e.slice()))}}function nM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new Is(i,ke.empty(),e)}function rM(t){return new Is(t.readTime,t.key,-1)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Ue.min(),ke.empty(),-1)}static max(){return new Is(Ue.max(),ke.empty(),-1)}}function iM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==sM)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function aM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}h0.oe=-1;function Mh(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function lM(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=s??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new Tn(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LC("Invalid base64 string: "+s):s}}(e);return new vn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(xt(!!t),typeof t=="string"){let e=0;const n=uM.exec(t);if(xt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function m0(t){const e=t.mapValue.fields.__previous_value__;return p0(e)?m0(e):e}function Vu(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd={mapValue:{}};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p0(t)?4:fM(t)?9007199254740991:dM(t)?10:11:ze()}function hi(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ks(i.timestampValue),a=ks(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return go(i.bytesValue).isEqual(go(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kt(i.geoPointValue.latitude)===Kt(s.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kt(i.integerValue)===Kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kt(i.doubleValue),a=Kt(s.doubleValue);return o===a?Rf(o)===Rf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tw(o)!==tw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!hi(o[u],a[u])))return!1;return!0}(t,e);default:return ze()}}function zu(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function Va(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Kt(s.integerValue||s.doubleValue),u=Kt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return rw(t.timestampValue,e.timestampValue);case 4:return rw(Vu(t),Vu(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return function(s,o){const a=go(s),u=go(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=ut(a[c],u[c]);if(f!==0)return f}return ut(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ut(Kt(s.latitude),Kt(o.latitude));return a!==0?a:ut(Kt(s.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},S=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(u=m.value)===null||u===void 0?void 0:u.arrayValue,b=ut(((c=S==null?void 0:S.values)===null||c===void 0?void 0:c.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return b!==0?b:iw(S,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===hd.mapValue&&o===hd.mapValue)return 0;if(s===hd.mapValue)return 1;if(o===hd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=ut(u[h],f[h]);if(m!==0)return m;const S=Va(a[u[h]],c[f[h]]);if(S!==0)return S}return ut(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ze()}}function rw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=ks(t),r=ks(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function iw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Va(n[i],r[i]);if(s)return s}return ut(n.length,r.length)}function za(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=by(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${by(n.fields[o])}`;return i+"}"}(t.mapValue):ze()}function sw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function g0(t){return!!t&&"arrayValue"in t}function ow(t){return!!t&&"nullValue"in t}function aw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function dM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=au(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=au(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(au(this.value))}}function MC(t){const e=[];return Po(t.fields,(n,r)=>{const i=new gn([n]);if($d(r)){const s=MC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mn(e,0,Ue.min(),Ue.min(),Ue.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ue.min(),Ue.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ue.min(),Ue.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.position=e,this.inclusive=n}}function lw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=Va(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n="asc"){this.field=e,this.dir=n}}function hM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class rn extends DC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mM(e,n,r):n==="array-contains"?new vM(e,r):n==="in"?new xM(e,r):n==="not-in"?new _M(e,r):n==="array-contains-any"?new bM(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gM(e,r):new yM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Va(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends DC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qr(e,n)}matches(e){return $C(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $C(t){return t.op==="and"}function FC(t){return pM(t)&&$C(t)}function pM(t){for(const e of t.filters)if(e instanceof qr)return!1;return!0}function Sy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+za(t.value);if(FC(t))return t.filters.map(e=>Sy(e)).join(",");{const e=t.filters.map(n=>Sy(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)}(t,e):t instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&VC(o,i.filters[a]),!0):!1}(t,e):void ze()}function zC(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(t):t instanceof qr?function(n){return n.op.toString()+" {"+n.getFilters().map(zC).join(" ,")+"}"}(t):"Filter"}class mM extends rn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class gM extends rn{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yM extends rn{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class vM extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g0(n)&&zu(n.arrayValue,this.value)}}class xM extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class _M extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zu(this.value.arrayValue,n)}}class bM extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wM(t,e,n,r,i,s,o)}function y0(t){const e=We(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),e.ue=n}return e.ue}function v0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uw(t.startAt,e.startAt)&&uw(t.endAt,e.endAt)}function Ey(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SM(t,e,n,r,i,s,o,a){return new dc(t,e,n,r,i,s,o,a)}function Dh(t){return new dc(t)}function dw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UC(t){return t.collectionGroup!==null}function lu(t){const e=We(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tn(gn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Af(s,r))}),n.has(gn.keyField().canonicalString())||e.ce.push(new Af(gn.keyField(),r))}return e.ce}function li(t){const e=We(t);return e.le||(e.le=EM(e,lu(t))),e.le}function EM(t,e){if(t.limitType==="F")return cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Af(i.field,s)});const n=t.endAt?new Pf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pf(t.startAt.position,t.startAt.inclusive):null;return cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ty(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return v0(li(t),li(e))&&t.limitType===e.limitType}function WC(t){return`${y0(li(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zC(i)).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>za(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>za(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of lu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=lw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,lu(r),i)||r.endAt&&!function(o,a,u){const c=lw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,lu(r),i))}(t,e)}function TM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HC(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const s=CM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CM(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Va(u,c):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Vt(ke.comparator);function qi(){return IM}const qC=new Vt(ke.comparator);function Gl(...t){let e=qC;for(const n of t)e=e.insert(n.key,n);return e}function KC(t){let e=qC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return uu()}function GC(){return uu()}function uu(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const kM=new Vt(ke.comparator),RM=new Tn(ke.comparator);function Ze(...t){let e=RM;for(const n of t)e=e.add(n);return e}const PM=new Tn(ut);function AM(){return PM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function QC(t){return{integerValue:""+t}}function jM(t,e){return lM(e)?QC(e):x0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function OM(t,e,n){return t instanceof jf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&p0(s)&&(s=m0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bu?XC(t,e):t instanceof Uu?JC(t,e):function(i,s){const o=YC(i,s),a=fw(o)+fw(i.Pe);return wy(o)&&wy(i.Pe)?QC(a):x0(i.serializer,a)}(t,e)}function NM(t,e,n){return t instanceof Bu?XC(t,e):t instanceof Uu?JC(t,e):n}function YC(t,e){return t instanceof Of?function(r){return wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class jf extends Vh{}class Bu extends Vh{constructor(e){super(),this.elements=e}}function XC(t,e){const n=ZC(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends Vh{constructor(e){super(),this.elements=e}}function JC(t,e){let n=ZC(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class Of extends Vh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fw(t){return Kt(t.integerValue||t.doubleValue)}function ZC(t){return g0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bu&&i instanceof Bu||r instanceof Uu&&i instanceof Uu?$a(r.elements,i.elements,hi):r instanceof Of&&i instanceof Of?hi(r.Pe,i.Pe):r instanceof jf&&i instanceof jf}(t.transform,e.transform)}class MM{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function eI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _0(t.key,Cr.none()):new fc(t.key,t.data,Cr.none());{const n=t.data,r=Xn.empty();let i=new Tn(gn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(t.key,r,new lr(i.toArray()),Cr.none())}}function DM(t,e,n){t instanceof fc?function(i,s,o){const a=i.value.clone(),u=pw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(i,s,o){if(!Fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(tI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cu(t,e,n,r){return t instanceof fc?function(s,o,a,u){if(!Fd(s.precondition,o))return a;const c=s.value.clone(),f=mw(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(s,o,a,u){if(!Fd(s.precondition,o))return a;const c=mw(s.fieldTransforms,u,o),f=o.data;return f.setAll(tI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $M(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YC(r.transform,i||null);s!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$a(r,i,(s,o)=>LM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fc extends zh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends zh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pw(t,e,n){const r=new Map;xt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NM(o,a,n[i]))}return r}function mw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OM(s,o,e))}return r}class _0 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FM extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&DM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=eI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>hw(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>hw(n,r))}}class b0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length);let i=function(){return kM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new b0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,it;function UM(t){switch(t){default:return ze();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function nI(t){if(t===void 0)return Hi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Zt.OK:return re.OK;case Zt.CANCELLED:return re.CANCELLED;case Zt.UNKNOWN:return re.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return re.INTERNAL;case Zt.UNAVAILABLE:return re.UNAVAILABLE;case Zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Zt.NOT_FOUND:return re.NOT_FOUND;case Zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Zt.ABORTED:return re.ABORTED;case Zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Zt.DATA_LOSS:return re.DATA_LOSS;default:return ze()}}(it=Zt||(Zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new io([4294967295,4294967295],0);function gw(t){const e=WM().encode(t),n=new CC;return n.update(e),new Uint8Array(n.digest())}function yw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new io([n,r],0),new io([i,s],0)]}class w0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=io.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(io.fromNumber(r)));return i.compare(HM)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gw(e),[r,i]=yw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new w0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=gw(e),[r,i]=yw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bh(Ue.min(),i,new Vt(ut),qi(),Ze())}}class hc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hc(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rI{constructor(e,n){this.targetId=e,this.me=n}}class iI{constructor(e,n,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vw{constructor(){this.fe=0,this.ge=_w(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze()}}),new hc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_w()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qM{constructor(e){this.Le=e,this.Be=new Map,this.ke=qi(),this.qe=xw(),this.Qe=new Vt(ut)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ey(s))if(r===0){const o=new ke(s.path);this.Ue(n,o,Mn.newNoDocument(o,Ue.min()))}else xt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=go(r).toUint8Array()}catch(u){if(u instanceof LC)return mo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new w0(o,i,s)}catch(u){return mo(u instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ey(a.target)){const u=new ke(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Mn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ze();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bh(e,n,this.Qe,this.ke,r);return this.ke=qi(),this.qe=xw(),this.Qe=new Vt(ut),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tn(ut),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xw(){return new Vt(ke.comparator)}function _w(){return new Vt(ke.comparator)}const KM={asc:"ASCENDING",desc:"DESCENDING"},GM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class YM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||Mh(e)?e:{value:e}}function Nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XM(t,e){return Nf(t,e.toTimestamp())}function ui(t){return xt(!!t),Ue.fromTimestamp(function(n){const r=ks(n);return new ln(r.seconds,r.nanos)}(t))}function S0(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oI(t){const e=Pt.fromString(t);return xt(dI(e)),e}function Ry(t,e){return S0(t.databaseId,e.path)}function Fm(t,e){const n=oI(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(lI(n))}function aI(t,e){return S0(t.databaseId,e)}function JM(t){const e=oI(t);return e.length===4?Pt.emptyPath():lI(e)}function Py(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lI(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bw(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function ZM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(xt(f===void 0||typeof f=="string"),vn.fromBase64String(f||"")):(xt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),vn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?re.UNKNOWN:nI(c.code);return new ge(f,c.message||"")}(o);n=new iI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fm(t,r.document.name),s=ui(r.document.updateTime),o=r.document.createTime?ui(r.document.createTime):Ue.min(),a=new Xn({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Vd(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fm(t,r.document),s=r.readTime?ui(r.readTime):Ue.min(),o=Mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fm(t,r.document),s=r.removedTargetIds||[];n=new Vd([],s,i,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BM(i,s),a=r.targetId;n=new rI(a,o)}}return n}function eD(t,e){let n;if(e instanceof fc)n={update:bw(t,e.key,e.value)};else if(e instanceof _0)n={delete:Ry(t,e.key)};else if(e instanceof Ms)n={update:bw(t,e.key,e.data),updateMask:uD(e.fieldMask)};else{if(!(e instanceof FM))return ze();n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof jf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Of)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:XM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ze()}(t,e.precondition)),n}function tD(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ui(i.updateTime):ui(s);return o.isEqual(Ue.min())&&(o=ui(s)),new MM(o,i.transformResults||[])}(n,e))):[]}function nD(t,e){return{documents:[aI(t,e.path)]}}function rD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aI(t,i);const s=function(c){if(c.length!==0)return cI(qr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:Xo(m.field),direction:oD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Iy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function iD(t){let e=JM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=uI(h);return m instanceof qr&&FC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(E){return new Af(Jo(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Mh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,S=h.values||[];return new Pf(S,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,S=h.values||[];return new Pf(S,m)}(n.endAt)),SM(e,i,o,s,a,"F",u,c)}function sD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jo(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jo(n.unaryFilter.field);return rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jo(n.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qr.create(n.compositeFilter.filters.map(r=>uI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function oD(t){return KM[t]}function aD(t){return GM[t]}function lD(t){return QM[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return gn.fromServerFormat(t.fieldPath)}function cI(t){return t instanceof rn?function(n){if(n.op==="=="){if(aw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(ow(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(ow(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:aD(n.op),value:n.value}}}(t):t instanceof qr?function(n){const r=n.getFilters().map(i=>cI(i));return r.length===1?r[0]:{compositeFilter:{op:lD(n.op),filters:r}}}(t):ze()}function uD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,s=Ue.min(),o=Ue.min(),a=vn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.ct=e}}function dD(t){const e=iD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.un=new hD}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Is.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ba(0)}static kn(){return new Ba(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cu(r.mutation,i,lr.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=Zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qi();const o=uu(),a=function(){return uu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ms)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),cu(f.mutation,c,f.mutation.getFieldMask(),ln.now())):o.set(c.key,lr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new mD(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=uu();let i=new Vt((o,a)=>o-a),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||lr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||Ze()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=GC();f.forEach(m=>{if(!s.has(m)){const S=eI(n.get(m),r.get(m));S!==null&&h.set(m,S),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(Zs());let a=-1,u=s;return o.next(c=>se.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?se.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ze())).next(f=>({batchId:a,changes:KC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gl();return this.indexManager.getCollectionParents(e,s).next(a=>se.forEach(a,u=>{const c=function(h,m){return new dc(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Mn.newInvalidDocument(f)))});let a=Gl();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&cu(f.mutation,c,lr.empty(),ln.now()),Fh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:dD(i.bundledQuery),readTime:ui(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.overlays=new Vt(ke.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Zs(),s=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Zs(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Zs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return se.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zM(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.Tr=new Tn(pn.Er),this.dr=new Tn(pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ke(new Pt([])),r=new pn(n,e),i=new pn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ke(new Pt([])),r=new pn(n,e),i=new pn(n,e+1);let s=Ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ke.comparator(e.key,n.key)||ut(e.wr,n.wr)}static Ar(e,n){return ut(e.wr,n.wr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tn(pn.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new pn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),i=new pn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(ut);return n.forEach(i=>{const s=new pn(i,0),o=new pn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const o=new pn(new ke(s),0);let a=new Tn(ut);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),se.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pn(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.Mr=e,this.docs=function(){return new Vt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qi();const o=n.path,a=new ke(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||iM(rM(f),r)<=0||(i.has(f.key)||Fh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ze()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wD(this)}getSize(e){return se.resolve(this.size)}}class wD extends pD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.persistence=e,this.Nr=new sl(n=>y0(n),v0),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new E0,this.targetCount=0,this.kr=Ba.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.qr={},this.overlays={},this.Qr=new h0(0),this.Kr=!1,this.Kr=!0,this.$r=new xD,this.referenceDelegate=e(this),this.Ur=new SD(this),this.indexManager=new fD,this.remoteDocumentCache=function(i){return new bD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cD(n),this.Gr=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _D(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new TD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class TD extends oM{constructor(e){super(),this.currentSequenceNumber=e}}class T0{constructor(e){this.persistence=e,this.Jr=new E0,this.Yr=null}static Zr(e){return new T0(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=ke.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RN()?8:aM(Fn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Al()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Al()<=tt.DEBUG&&Se("QueryEngine","Query:",Yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Al()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):se.resolve())}Yi(e,n){if(dw(n))return se.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cy(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ze(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Cy(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return dw(n)||i.isEqual(Ue.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?se.resolve(null):(Al()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yo(n)),this.rs(e,o,n,nM(i,-1)).next(a=>a))})}ts(e,n){let r=new Tn(HC(e));return n.forEach((i,s)=>{Fh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Al()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Is.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Vt(ut),this._s=new sl(s=>y0(s),v0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RD(t,e,n,r){return new kD(t,e,n,r)}async function fI(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ze();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function PD(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let S=se.resolve();return m.forEach(E=>{S=S.next(()=>f.getEntry(u,E)).next(b=>{const I=c.docVersions.get(E);xt(I!==null),b.version.compareTo(I)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),f.addEntry(b)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ze();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hI(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AD(t,e){const n=We(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let S=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?S=S.withResumeToken(vn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,r)),i=i.insert(h,S),function(b,I,T){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,S,f)&&a.push(n.Ur.updateTargetData(s,S))});let u=qi(),c=Ze();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(jD(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ue.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function jD(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ue.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function OD(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ND(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ay(t,e,n){const r=We(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cc(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ww(t,e,n){const r=We(t);let i=Ue.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=We(u),m=h._s.get(f);return m!==void 0?se.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ue.min(),n?s:Ze())).next(a=>(LD(r,TM(e),a),{documents:a,Ts:s})))}function LD(t,e,n){let r=t.us.get(e)||Ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Sw{constructor(){this.activeTargetIds=AM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.so=new Sw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function Vm(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class VD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Vm(),u=this.xo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Se("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw mo("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=$D[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vm();return new Promise((o,a)=>{const u=new IC;u.setWithCredentials(!0),u.listenOnce(kC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Dd.NO_ERROR:const f=u.getResponseJson();Se(jn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Dd.TIMEOUT:Se(jn,`RPC '${e}' ${s} timed out`),a(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const h=u.getStatus();if(Se(jn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const E=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(T)>=0?T:re.UNKNOWN}(S.status);a(new ge(E,S.message))}else a(new ge(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(re.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Se(jn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Se(jn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Vm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AC(),a=PC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Se(jn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,S=!1;const E=new FD({Io:I=>{S?Se(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Se(jn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Se(jn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),b=(I,T,v)=>{I.listen(T,_=>{try{v(_)}catch(R){setTimeout(()=>{throw R},0)}})};return b(h,Kl.EventType.OPEN,()=>{S||(Se(jn,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),b(h,Kl.EventType.CLOSE,()=>{S||(S=!0,Se(jn,`RPC '${e}' stream ${i} transport closed`),E.So())}),b(h,Kl.EventType.ERROR,I=>{S||(S=!0,mo(jn,`RPC '${e}' stream ${i} transport errored:`,I),E.So(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),b(h,Kl.EventType.MESSAGE,I=>{var T;if(!S){const v=I.data[0];xt(!!v);const _=v,R=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(R){Se(jn,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let N=function(y){const C=Zt[y];if(C!==void 0)return nI(C)}(L),g=R.message;N===void 0&&(N=re.INTERNAL,g="Unknown error status: "+L+" with message "+R.message),S=!0,E.So(new ge(N,g)),h.close()}else Se(jn,`RPC '${e}' stream ${i} received:`,v),E.bo(v)}}),b(a,RC.STAT_EVENT,I=>{I.stat===_y.PROXY?Se(jn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===_y.NOPROXY&&Se(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return new YM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zD extends mI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ZM(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ue.min():o.readTime?ui(o.readTime):Ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Py(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ey(u)?{documents:nD(s,u)}:{query:rD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sI(s,o.resumeToken);const c=Iy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ue.min())>0){a.readTime=Nf(s,o.snapshotVersion.toTimestamp());const c=Iy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Py(this.serializer),n.removeTarget=e,this.a_(n)}}class BD extends mI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tD(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Py(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(re.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ky(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hi(n),this.D_=!1):Se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ao(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=We(u);c.L_.add(4),await pc(c),c.q_.set("Unknown"),c.L_.delete(4),await Wh(c)}(this))})}),this.q_=new WD(r,i)}}async function Wh(t){if(Ao(t))for(const e of t.B_)await e(!0)}async function pc(t){for(const e of t.B_)await e(!1)}function gI(t,e){const n=We(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P0(n)?R0(n):ol(n).r_()&&k0(n,e))}function I0(t,e){const n=We(t),r=ol(n);n.N_.delete(e),r.r_()&&yI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ao(n)&&n.q_.set("Unknown"))}function k0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).A_(e)}function yI(t,e){t.Q_.xe(e),ol(t).R_(e)}function R0(t){t.Q_=new qM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.q_.v_()}function P0(t){return Ao(t)&&!ol(t).n_()&&t.N_.size>0}function Ao(t){return We(t).L_.size===0}function vI(t){t.Q_=void 0}async function qD(t){t.q_.set("Online")}async function KD(t){t.N_.forEach((e,n)=>{k0(t,e)})}async function GD(t,e){vI(t),P0(t)?(t.q_.M_(e),R0(t)):t.q_.set("Unknown")}async function QD(t,e,n){if(t.q_.set("Online"),e instanceof iI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lf(t,r)}else if(e instanceof Vd?t.Q_.Ke(e):e instanceof rI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(vn.EMPTY_BYTE_STRING,f.snapshotVersion)),yI(s,u);const h=new fs(f.target,u,c,f.sequenceNumber);k0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await Lf(t,r)}}async function Lf(t,e,n){if(!cc(e))throw e;t.L_.add(1),await pc(t),t.q_.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wh(t)})}function xI(t,e){return e().catch(n=>Lf(t,n,e))}async function Hh(t){const e=We(t),n=Rs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YD(e);)try{const i=await OD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,XD(e,i)}catch(i){await Lf(e,i)}_I(e)&&bI(e)}function YD(t){return Ao(t)&&t.O_.length<10}function XD(t,e){t.O_.push(e);const n=Rs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _I(t){return Ao(t)&&!Rs(t).n_()&&t.O_.length>0}function bI(t){Rs(t).start()}async function JD(t){Rs(t).p_()}async function ZD(t){const e=Rs(t);for(const n of t.O_)e.m_(n.mutations)}async function e3(t,e,n){const r=t.O_.shift(),i=b0.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hh(t)}async function t3(t,e){e&&Rs(t).V_&&await async function(r,i){if(function(o){return UM(o)&&o!==re.ABORTED}(i.code)){const s=r.O_.shift();Rs(r).s_(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hh(r)}}(t,e),_I(t)&&bI(t)}async function Tw(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.L_.add(3),await pc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wh(n)}async function n3(t,e){const n=We(t);e?(n.L_.delete(2),await Wh(n)):e||(n.L_.add(2),await pc(n),n.q_.set("Unknown"))}function ol(t){return t.K_||(t.K_=function(n,r,i){const s=We(n);return s.w_(),new zD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:qD.bind(null,t),Ro:KD.bind(null,t),mo:GD.bind(null,t),d_:QD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),P0(t)?R0(t):t.q_.set("Unknown")):(await t.K_.stop(),vI(t))})),t.K_}function Rs(t){return t.U_||(t.U_=function(n,r,i){const s=We(n);return s.w_(),new BD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JD.bind(null,t),mo:t3.bind(null,t),f_:ZD.bind(null,t),g_:e3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hh(t)):(await t.U_.stop(),t.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new A0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),cc(t))return new ge(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.W_=new Vt(ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ua(e,n,_a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class i3{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=We(n),s=i.queries;i.queries=Iw(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function Iw(){return new sl(t=>WC(t),$h)}async function O0(t,e){const n=We(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new r3,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=j0(o,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&L0(n)}async function N0(t,e){const n=We(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s3(t,e){const n=We(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&L0(n)}function o3(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function L0(t){t.Y_.forEach(e=>{e.next()})}var jy,kw;(kw=jy||(jy={})).ea="default",kw.Cache="cache";class M0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class a3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=HC(e),this.Ra=new _a(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Cw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),S=Fh(this.query,h)?h:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;m&&S?m.data.isEqual(S.data)?E!==b&&(r.track({type:3,doc:S}),I=!0):this.ga(m,S)||(r.track({type:2,doc:S}),I=!0,(u&&this.Aa(S,u)>0||c&&this.Aa(S,c)<0)&&(a=!0)):!m&&S?(r.track({type:0,doc:S}),I=!0):m&&!S&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(S?(o=o.add(S),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(S,E){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return b(S)-b(E)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Ua(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new SI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ua.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class l3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u3{constructor(e){this.key=e,this.va=!1}}class c3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new sl(a=>WC(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new Vt(ke.comparator),this.Na=new Map,this.La=new E0,this.Ba={},this.ka=new Map,this.qa=Ba.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function d3(t,e,n=!0){const r=RI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await EI(r,e,n,!0),i}async function f3(t,e){const n=RI(t);await EI(n,e,!0,!1)}async function EI(t,e,n,r){const i=await ND(t.localStore,li(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await h3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gI(t.remoteStore,i),a}async function h3(t,e,n,r,i){t.Ka=(h,m,S)=>async function(b,I,T,v){let _=I.view.ma(T);_.ns&&(_=await ww(b.localStore,I.query,!1).then(({documents:g})=>I.view.ma(g,_)));const R=v&&v.targetChanges.get(I.targetId),L=v&&v.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(_,b.isPrimaryClient,R,L);return Pw(b,I.targetId,N.wa),N.snapshot}(t,h,m,S);const s=await ww(t.localStore,e,!0),o=new a3(e,s.Ts),a=o.ma(s.documents),u=hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Pw(t,n,c.wa);const f=new l3(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function p3(t,e,n){const r=We(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ay(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&I0(r.remoteStore,i.targetId),Oy(r,i.targetId)}).catch(uc)):(Oy(r,i.targetId),await Ay(r.localStore,i.targetId,!0))}async function m3(t,e){const n=We(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),I0(n.remoteStore,r.targetId))}async function g3(t,e,n){const r=S3(t);try{const i=await function(o,a){const u=We(o),c=ln.now(),f=a.reduce((S,E)=>S.add(E.key),Ze());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let E=qi(),b=Ze();return u.cs.getEntries(S,f).next(I=>{E=I,E.forEach((T,v)=>{v.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,E)).next(I=>{h=I;const T=[];for(const v of a){const _=$M(v,h.get(v.key).overlayedDocument);_!=null&&T.push(new Ms(v.key,_,MC(_.value.mapValue),Cr.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,T,a)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(h,b);return u.documentOverlayCache.saveOverlays(S,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:KC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Vt(ut)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await mc(r,i.changes),await Hh(r.remoteStore)}catch(i){const s=j0(i,"Failed to persist write");n.reject(s)}}async function TI(t,e){const n=We(t);try{const r=await AD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xt(o.va):i.removedDocuments.size>0&&(xt(o.va),o.va=!1))}),await mc(n,r,e)}catch(r){await uc(r)}}function Rw(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=We(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&L0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y3(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Vt(ke.comparator);o=o.insert(s,Mn.newNoDocument(s,Ue.min()));const a=Ze().add(s),u=new Bh(Ue.min(),new Map,new Vt(ut),o,a);await TI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),D0(r)}else await Ay(r.localStore,e,!1).then(()=>Oy(r,e,n)).catch(uc)}async function v3(t,e){const n=We(t),r=e.batch.batchId;try{const i=await PD(n.localStore,e);II(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mc(n,i)}catch(i){await uc(i)}}async function x3(t,e,n){const r=We(t);try{const i=await function(o,a){const u=We(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(xt(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);II(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mc(r,i)}catch(i){await uc(i)}}function CI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function II(t,e,n){const r=We(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kI(t,r)})}function kI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(I0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),D0(t))}function Pw(t,e,n){for(const r of n)r instanceof wI?(t.La.addReference(r.key,e),_3(t,r)):r instanceof SI?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kI(t,r.key)):ze()}function _3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.xa.add(r),D0(t))}function D0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ke(Pt.fromString(e)),r=t.qa.next();t.Na.set(r,new u3(n)),t.Oa=t.Oa.insert(n,r),gI(t.remoteStore,new fs(li(Dh(n.path)),r,"TargetPurposeLimboResolution",h0.oe))}}async function mc(t,e,n){const r=We(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=C0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=We(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>se.forEach(c,m=>se.forEach(m.$i,S=>f.persistence.referenceDelegate.addReference(h,m.targetId,S)).next(()=>se.forEach(m.Ui,S=>f.persistence.referenceDelegate.removeReference(h,m.targetId,S)))))}catch(h){if(!cc(h))throw h;Se("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const S=f.os.get(m),E=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(m,b)}}}(r.localStore,s))}async function b3(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await fI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(re.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mc(n,r.hs)}}function w3(t,e){const n=We(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let i=Ze();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function RI(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y3.bind(null,e),e.Ca.d_=s3.bind(null,e.eventManager),e.Ca.$a=o3.bind(null,e.eventManager),e}function S3(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RD(this.persistence,new ID,e.initialUser,this.serializer)}Ga(e){return new ED(T0.Zr,this.serializer)}Wa(e){return new MD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class Ny{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b3.bind(null,this.syncEngine),await n3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i3}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=function(s){return new VD(s)}(e.databaseInfo);return function(s,o,a,u){return new UD(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new HD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Rw(this.syncEngine,n,0),function(){return Ew.D()?new Ew:new DD}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new c3(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=We(i);Se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=j0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bm(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Aw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T3(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Tw(e.remoteStore,i)),t._onlineComponents=e}async function T3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Bm(t,new Mf)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Bm(t,new Mf);return t._offlineComponents}async function PI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await Aw(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await Aw(t,new Ny))),t._onlineComponents}function C3(t){return PI(t).then(e=>e.syncEngine)}async function Df(t){const e=await PI(t),n=e.eventManager;return n.onListen=d3.bind(null,e.syncEngine),n.onUnlisten=p3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m3.bind(null,e.syncEngine),n}function I3(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new $0({next:m=>{f.Za(),o.enqueueAndForget(()=>N0(s,h));const S=m.docs.has(a);!S&&m.fromCache?c.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&m.fromCache&&u&&u.source==="server"?c.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new M0(Dh(a.path),f,{includeMetadataChanges:!0,_a:!0});return O0(s,h)}(await Df(t),t.asyncQueue,e,n,r)),r.promise}function k3(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new $0({next:m=>{f.Za(),o.enqueueAndForget(()=>N0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new M0(a,f,{includeMetadataChanges:!0,_a:!0});return O0(s,h)}(await Df(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OI(t,e,n,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ow(t){if(!ke.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(ke.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OC;switch(r.type){case"firstParty":return new XL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jw.get(n);r&&(Se("ComponentProvider","Removing Datastore"),jw.delete(n),r.terminate())}(this),Promise.resolve()}}function NI(t,e,n,r={}){var i;const s=(t=qn(t,Kh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Nn.MOCK_USER;else{a=_C(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nn(c)}t._authCredentials=new GL(new jC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Di extends Ds{constructor(e,n,r){super(e,n,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ke(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function Ae(t,e,...n){if(t=un(t),jI("collection","path",e),t instanceof Kh){const r=Pt.fromString(e,...n);return Nw(r),new Di(t,null,r)}{if(!(t instanceof Cn||t instanceof Di))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Nw(r),new Di(t.firestore,null,r)}}function be(t,e,...n){if(t=un(t),arguments.length===1&&(e=f0.newId()),jI("doc","path",e),t instanceof Kh){const r=Pt.fromString(e,...n);return Ow(r),new Cn(t,null,new ke(r))}{if(!(t instanceof Cn||t instanceof Di))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Ow(r),new Cn(t.firestore,t instanceof Di?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pI(this,"async_queue_retry"),this.Vu=()=>{const r=zm();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Mi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!cc(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=A0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Dw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class pi extends Kh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mw(e),this._firestoreClient=void 0,await e}}}function LI(t,e){const n=typeof t=="object"?t:c0(),r=typeof t=="string"?t:"(default)",i=Lh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yC("firestore");s&&NI(i,...s)}return i}function gc(t){if(t._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R3(t),t._firestoreClient}function R3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new cM(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,AI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new E3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(vn.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^__.*__$/;class A3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}class MI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class F0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new F0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $f(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DI(this.Cu)&&P3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class j3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Qu(e,n,r,i=!1){return new F0({Cu:e,methodName:n,qu:r,path:gn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(t){const e=t._freezeSettings(),n=Uh(t._databaseId);return new j3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $I(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);V0("Data must be an object, but it was:",o,r);const a=FI(r,o);let u,c;if(s.merge)u=new lr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=Ly(e,h,n);if(!o.contains(m))throw new ge(re.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);zI(f,m)||f.push(m)}u=new lr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new A3(new Xn(a),u,c)}class Jh extends Gh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function O3(t,e,n,r){const i=t.Qu(1,e,n);V0("Data must be an object, but it was:",i,r);const s=[],o=Xn.empty();Po(r,(u,c)=>{const f=z0(e,u,n);c=un(c);const h=i.Nu(f);if(c instanceof Jh)s.push(f);else{const m=vc(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new lr(s);return new MI(o,a,i.fieldTransforms)}function N3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Ly(e,r,n)],u=[i];if(s.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Ly(e,s[m])),u.push(s[m+1]);const c=[],f=Xn.empty();for(let m=a.length-1;m>=0;--m)if(!zI(c,a[m])){const S=a[m];let E=u[m];E=un(E);const b=o.Nu(S);if(E instanceof Jh)c.push(S);else{const I=vc(E,b);I!=null&&(c.push(S),f.set(S,I))}}const h=new lr(c);return new MI(f,h,o.fieldTransforms)}function L3(t,e,n,r=!1){return vc(n,t.Qu(r?4:3,e))}function vc(t,e){if(VI(t=un(t)))return V0("Unsupported field value:",e,t),FI(t,e);if(t instanceof Gh)return function(r,i){if(!DI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=vc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ln.fromDate(r);return{timestampValue:Nf(i.serializer,s)}}if(r instanceof ln){const s=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nf(i.serializer,s)}}if(r instanceof Qh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vo)return{bytesValue:sI(i.serializer,r._byteString)};if(r instanceof Cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return x0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qh(r)}`)}(t,e)}function FI(t,e){const n={};return NC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(r,i)=>{const s=vc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof Qh||t instanceof vo||t instanceof Cn||t instanceof Gh||t instanceof Yh)}function V0(t,e,n){if(!VI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ly(t,e,n){if((e=un(e))instanceof yc)return e._internalPath;if(typeof e=="string")return z0(t,e);throw $f("Field path arguments must be of type string or ",t,!1,void 0,n)}const M3=new RegExp("[~\\*/\\[\\]]");function z0(t,e,n){if(e.search(M3)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yc(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $f(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ge(re.INVALID_ARGUMENT,a+t+u)}function zI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D3 extends BI{data(){return super.data()}}function B0(t,e){return typeof e=="string"?z0(t,e):e instanceof yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}class WI extends U0{}function mi(t,e,...n){let r=[];e instanceof U0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Zh).length,a=s.filter(u=>u instanceof xc).length;if(o>1||o>0&&a>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xc extends WI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xc(e,n,r)}_apply(e){const n=this._parse(e);return HI(e._query,n),new Ds(e.firestore,e.converter,Ty(e._query,n))}_parse(e){const n=Xh(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Fw(h,f);const S=[];for(const E of h)S.push($w(u,s,E));m={arrayValue:{values:S}}}else m=$w(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Fw(h,f),m=L3(a,o,h,f==="in"||f==="not-in");return rn.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kr(t,e,n){const r=e,i=B0("where",t);return xc._create(i,r,n)}class Zh extends U0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zh(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)HI(o,u),o=Ty(o,u)}(e._query,n),new Ds(e.firestore,e.converter,Ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $w(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UC(e)&&n.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!ke.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sw(t,new ke(r))}if(n instanceof Cn)return sw(t,n._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qI{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kt(o.doubleValue));return new Yh(s)}convertGeoPoint(e){return new Qh(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=m0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=ks(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);xt(dI(r));const i=new Fa(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||Hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W0 extends BI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class du extends W0{data(e={}){return super.data(e)}}class H0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new du(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new du(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new du(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:$3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){t=qn(t,Cn);const e=qn(t.firestore,pi);return I3(gc(e),t._key).then(n=>GI(e,t,n))}class q0 extends qI{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function on(t){t=qn(t,Ds);const e=qn(t.firestore,pi),n=gc(e),r=new q0(e);return UI(t._query),k3(n,t._query).then(i=>new H0(e,r,t,i))}function nr(t,e,n){t=qn(t,Cn);const r=qn(t.firestore,pi),i=KI(t.converter,e,n);return _c(r,[$I(Xh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function en(t,e,n,...r){t=qn(t,Cn);const i=qn(t.firestore,pi),s=Xh(i);let o;return o=typeof(e=un(e))=="string"||e instanceof yc?N3(s,"updateDoc",t._key,e,n,r):O3(s,"updateDoc",t._key,e),_c(i,[o.toMutation(t._key,Cr.exists(!0))])}function Ir(t){return _c(qn(t.firestore,pi),[new _0(t._key,Cr.none())])}function xo(t,e){const n=qn(t.firestore,pi),r=be(t),i=KI(t.converter,e);return _c(n,[$I(Xh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function Ct(t,...e){var n,r,i;t=un(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Dw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Dw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof Cn)c=qn(t.firestore,pi),f=Dh(t._key.path),u={next:h=>{e[o]&&e[o](GI(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=qn(t,Ds);c=qn(h.firestore,pi),f=h._query;const m=new q0(c);u={next:S=>{e[o]&&e[o](new H0(c,m,h,S))},error:e[o+1],complete:e[o+2]},UI(t._query)}return function(m,S,E,b){const I=new $0(b),T=new M0(S,I,E);return m.asyncQueue.enqueueAndForget(async()=>O0(await Df(m),T)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>N0(await Df(m),T))}}(gc(c),f,a,u)}function _c(t,e){return function(r,i){const s=new Mi;return r.asyncQueue.enqueueAndForget(async()=>g3(await C3(r),i,s)),s.promise}(gc(t),e)}function GI(t,e,n){const r=n.docs.get(e._key),i=new q0(t);return new W0(t,i,e._key,r,new fa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){il=i})(Ro),ho(new Cs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pi(new QL(r.getProvider("auth-internal")),new ZL(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ai(ew,"4.7.3",e),ai(ew,"4.7.3","esm2017")})();const K0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:qI,Bytes:vo,CollectionReference:Di,DocumentReference:Cn,DocumentSnapshot:W0,FieldPath:yc,FieldValue:Gh,Firestore:pi,FirestoreError:ge,GeoPoint:Qh,Query:Ds,QueryCompositeFilterConstraint:Zh,QueryConstraint:WI,QueryDocumentSnapshot:du,QueryFieldFilterConstraint:xc,QuerySnapshot:H0,SnapshotMetadata:fa,Timestamp:ln,VectorValue:Yh,_AutoId:f0,_ByteString:vn,_DatabaseId:Fa,_DocumentKey:ke,_EmptyAuthCredentialsProvider:OC,_FieldPath:gn,_cast:qn,_logWarn:mo,_validateIsNotUsedTogether:OI,addDoc:xo,collection:Ae,connectFirestoreEmulator:NI,deleteDoc:Ir,doc:be,ensureFirestoreConfigured:gc,executeWrite:_c,getDoc:sn,getDocs:on,getFirestore:LI,onSnapshot:Ct,query:mi,setDoc:nr,updateDoc:en,where:Kr},Symbol.toStringTag,{value:"Module"}));function G0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=QI,XI=new ac("auth","Firebase",QI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new l0("@firebase/auth");function F3(t,...e){Ff.logLevel<=tt.WARN&&Ff.warn(`Auth (${Ro}): ${t}`,...e)}function zd(t,...e){Ff.logLevel<=tt.ERROR&&Ff.error(`Auth (${Ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw Q0(t,...e)}function ci(t,...e){return Q0(t,...e)}function JI(t,e,n){const r=Object.assign(Object.assign({},YI()),{[e]:n});return new ac("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return JI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XI.create(t,...e)}function Fe(t,e,...n){if(!t)throw Q0(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function Ki(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function V3(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V3()||CN()||"connection"in navigator)?navigator.onLine:!0}function B3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=SN()||IN()}get(){return z3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new bc(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,n,r,i={}){return ek(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=lc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return TN()||(c.referrerPolicy="no-referrer"),ZI.fetch()(tk(t,t.config.apiHost,n,a),c)})}async function ek(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U3),e);try{const i=new q3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw md(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw md(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw md(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JI(t,f,c);Gr(t,f)}}catch(i){if(i instanceof yi)throw i;Gr(t,"network-request-failed",{message:String(i)})}}async function wc(t,e,n,r,i={}){const s=await Fs(t,e,n,r,i);return"mfaPendingCredential"in s&&Gr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Y0(t.config,i):`${t.config.apiScheme}://${i}`}function H3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),W3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(t,e,r);return i.customData._tokenResponse=n,i}function zw(t){return t!==void 0&&t.enterprise!==void 0}class K3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function G3(t,e){return Fs(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function nk(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=X0(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fu(Um(i.auth_time)),issuedAtTime:fu(Um(i.iat)),expirationTime:fu(Um(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Um(t){return Number(t)*1e3}function X0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=mC(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Bw(t){const e=X0(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&Y3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wu(t,nk(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sk(s.providerUserInfo):[],a=J3(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function ik(t){const e=un(t);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sk(t){return t.map(e=>{var{providerId:n}=e,r=G0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){const n=await ek(t,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e6(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=Bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Z3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ba;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=G0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rk(this,e)}reload(){return ik(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Wu(this,Q3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:R,isAnonymous:L,providerData:N,stsTokenManager:g}=n;Fe(_&&g,e,"internal-error");const p=ba.fromJSON(this.name,g);Fe(typeof _=="string",e,"internal-error"),ts(h,e.name),ts(m,e.name),Fe(typeof R=="boolean",e,"internal-error"),Fe(typeof L=="boolean",e,"internal-error"),ts(S,e.name),ts(E,e.name),ts(b,e.name),ts(I,e.name),ts(T,e.name),ts(v,e.name);const y=new Oi({uid:_,auth:e,email:m,emailVerified:R,displayName:h,isAnonymous:L,photoURL:E,phoneNumber:S,tenantId:b,stsTokenManager:p,createdAt:T,lastLoginAt:v});return N&&Array.isArray(N)&&(y.providerData=N.map(C=>Object.assign({},C))),I&&(y._redirectEventId=I),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new ba;i.updateFromServerResponse(n);const s=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ba;a.updateFromIdToken(r);const u=new Oi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function Ni(t){Ki(t instanceof Function,"Expected a class definition");let e=Uw.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ok.type="NONE";const $y=ok;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(Ni($y),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ni($y);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=Oi._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new wa(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ak(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fk(e))return"Blackberry";if(hk(e))return"Webos";if(lk(e))return"Safari";if((e.includes("chrome/")||uk(e))&&!e.includes("edge/"))return"Chrome";if(dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ak(t=Fn()){return/firefox\//i.test(t)}function lk(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uk(t=Fn()){return/crios\//i.test(t)}function ck(t=Fn()){return/iemobile/i.test(t)}function dk(t=Fn()){return/android/i.test(t)}function fk(t=Fn()){return/blackberry/i.test(t)}function hk(t=Fn()){return/webos/i.test(t)}function J0(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t6(t=Fn()){var e;return J0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n6(){return kN()&&document.documentMode===10}function pk(t=Fn()){return J0(t)||dk(t)||hk(t)||fk(t)||/windows phone/i.test(t)||ck(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e=[]){let n;switch(t){case"Browser":n=Ww(Fn());break;case"Worker":n=`${Ww(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=6;class o6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new r6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nk(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ii(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject($i(this));const n=e?un(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i6(this),n=new o6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jo(t){return un(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=MN(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l6(t){ep=t}function gk(t){return ep.loadJS(t)}function u6(){return ep.recaptchaEnterpriseScript}function c6(){return ep.gapiScript}function d6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const f6="recaptcha-enterprise",h6="NO_RECAPTCHA";class p6{constructor(e){this.type=f6,this.auth=jo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{G3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new K3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;zw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(h6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&zw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=u6();u.length!==0&&(u+=a),gk(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function qw(t,e,n,r=!1){const i=new p6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){const n=Lh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(If(s,e??{}))return i;Gr(i,"already-initialized")}return n.initialize({options:e})}function m6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vk(t,e,n){const r=jo(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=xk(e),{host:o,port:a}=g6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),y6()}function xk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g6(t){const e=xk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kw(o)}}}function Kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function v6(t,e){return Fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return wc(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function b6(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends tp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fy(e,n,"signInWithPassword",x6);case"emailLink":return _6(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fy(e,r,"signUpPassword",v6);case"emailLink":return b6(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return wc(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="http://localhost";class Ps extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=G0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:w6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E6(t){const e=Hl(ql(t)).link,n=e?Hl(ql(e)).deep_link_id:null,r=Hl(ql(t)).deep_link_id;return(r?Hl(ql(r)).link:null)||r||n||e||t}class np{constructor(e){var n,r,i,s,o,a;const u=Hl(ql(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=S6((i=u.mode)!==null&&i!==void 0?i:null);Fe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=E6(e);try{return new np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=np.parseLink(n);return Fe(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends _k{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Sc{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Sc{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Sc{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return wc(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Oi._fromIdTokenResponse(e,r,i),o=Gw(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Gw(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zf(e,n,r,i)}}function bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,s,e,r):s})}async function C6(t,e,n=!1){const r=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const s=await Wu(t,bk(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const o=X0(s.idToken);Fe(o,r,"internal-error");const{sub:a}=o;return Fe(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e,n=!1){if(ii(t.app))return Promise.reject($i(t));const r="signIn",i=await bk(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Sk(t,e){return wk(jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t){const e=jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yl(t,e,n){if(ii(t.app))return Promise.reject($i(t));const r=jo(t),o=await Fy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Ek(t),u}),a=await _o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Tk(t,e,n){return ii(t.app)?Promise.reject($i(t)):Sk(un(t),Oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ek(t),r})}function Ck(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function Ik(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function Pr(t,e,n,r){return un(t).onAuthStateChanged(e,n,r)}function kk(t){return un(t).signOut()}const Bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1e3,R6=10;class Pk extends Rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);n6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pk.type="LOCAL";const Ak=Pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk extends Rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jk.type="SESSION";const Z0=jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await P6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=ex("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function j6(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function O6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L6(){return Ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebaseLocalStorageDb",M6=1,Uf="firebaseLocalStorage",Lk="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function D6(){const t=indexedDB.deleteDatabase(Nk);return new Ec(t).toPromise()}function Vy(){const t=indexedDB.open(Nk,M6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uf,{keyPath:Lk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uf)?e(r):(r.close(),await D6(),e(await Vy()))})})}async function Qw(t,e,n){const r=ip(t,!0).put({[Lk]:e,value:n});return new Ec(r).toPromise()}async function $6(t,e){const n=ip(t,!1).get(e),r=await new Ec(n).toPromise();return r===void 0?null:r.value}function Yw(t,e){const n=ip(t,!0).delete(e);return new Ec(n).toPromise()}const F6=800,V6=3;class Mk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rp._getInstance(L6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await O6(),!this.activeServiceWorker)return;this.sender=new A6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vy();return await Qw(e,Bf,"1"),await Yw(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ip(i,!1).getAll();return new Ec(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mk.type="LOCAL";const Dk=Mk;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){return e?Ni(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B6(t){return wk(t.auth,new tx(t),t.bypassAuthState)}function U6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),I6(n,new tx(t),t.bypassAuthState)}async function W6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),C6(n,new tx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B6;case"linkViaPopup":case"linkViaRedirect":return W6;case"reauthViaPopup":case"reauthViaRedirect":return U6;default:Gr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new bc(2e3,1e4);class ha extends $k{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=ex();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H6.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="pendingRedirect",Ud=new Map;class K6 extends $k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await G6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G6(t,e){const n=X6(e),r=Y6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Q6(t,e){Ud.set(t._key(),e)}function Y6(t){return Ni(t._redirectPersistence)}function X6(t){return Bd(q6,t.config.apiKey,t.name)}async function J6(t,e,n=!1){if(ii(t.app))return Promise.reject($i(t));const r=jo(t),i=z6(r,e),o=await new K6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=10*60*1e3;class e4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Fk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(e))}saveEventToCache(e){this.cachedEventUids.add(Xw(e)),this.lastProcessedEventTime=Date.now()}}function Xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Fk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i4=/^https?/;async function s4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n4(t);for(const n of e)try{if(o4(n))return}catch{}Gr(t,"unauthorized-domain")}function o4(t){const e=My(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i4.test(n))return!1;if(r4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new bc(3e4,6e4);function Jw(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l4(t){return new Promise((e,n)=>{var r,i,s;function o(){Jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jw(),n(ci(t,"network-request-failed"))},timeout:a4.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=di().gapi)===null||s===void 0)&&s.load)o();else{const a=d6("iframefcb");return di()[a]=()=>{gapi.load?o():n(ci(t,"network-request-failed"))},gk(`${c6()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function u4(t){return Wd=Wd||l4(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new bc(5e3,15e3),d4="__/auth/iframe",f4="emulator/auth/iframe",h4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y0(e,f4):`https://${t.config.authDomain}/${d4}`,r={apiKey:e.apiKey,appName:t.name,v:Ro},i=p4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lc(r).slice(1)}`}async function g4(t){const e=await u4(t),n=di().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:m4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ci(t,"network-request-failed"),a=di().setTimeout(()=>{s(o)},c4.get());function u(){di().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,x4=600,_4="_blank",b4="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w4(t,e,n,r=v4,i=x4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},y4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Fn().toLowerCase();n&&(a=uk(c)?_4:n),ak(c)&&(e=e||b4,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[S,E])=>`${m}${S}=${E},`,"");if(t6(c)&&a!=="_self")return S4(e||"",a),new Zw(null);const h=window.open(e||"",a,f);Fe(h,t,"popup-blocked");try{h.focus()}catch{}return new Zw(h)}function S4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__/auth/handler",T4="emulator/auth/handler",C4=encodeURIComponent("fac");async function e1(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ro,eventId:i};if(e instanceof _k){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Sc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${C4}=${encodeURIComponent(u)}`:"";return`${I4(t)}?${lc(a).slice(1)}${c}`}function I4({config:t}){return t.emulator?Y0(t,T4):`https://${t.authDomain}/${E4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=J6,this._overrideRedirectResult=Q6}async _openPopup(e,n,r,i){var s;Ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await e1(e,n,r,My(),i);return w4(e,o,ex())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await e1(e,n,r,My(),i);return j6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g4(e),r=new e4(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wm];o!==void 0&&n(!!o),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pk()||lk()||J0()}}const Vk=k4;var t1="@firebase/auth",n1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A4(t){ho(new Cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mk(t)},c=new a6(r,i,s,u);return m6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new Cs("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(r=>new R4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(t1,n1,P4(t)),ai(t1,n1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=5*60,O4=xC("authIdTokenMaxAge")||j4;let r1=null;const N4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O4)return;const i=n==null?void 0:n.token;r1!==i&&(r1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dn(t=c0()){const e=Lh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yk(t,{popupRedirectResolver:Vk,persistence:[Dk,Ak,Z0]}),r=xC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=N4(s.toString());Ik(n,o,()=>o(n.currentUser)),Ck(n,a=>o(a))}}const i=gC("auth");return i&&vk(n,`http://${i}`),n}function L4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",L4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A4("Browser");const zk=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:np,AuthCredential:tp,EmailAuthCredential:Wa,EmailAuthProvider:Oo,FacebookAuthProvider:Ti,GithubAuthProvider:Ii,GoogleAuthProvider:Ci,OAuthCredential:Ps,TwitterAuthProvider:ki,beforeAuthStateChanged:Ik,browserLocalPersistence:Ak,browserPopupRedirectResolver:Vk,browserSessionPersistence:Z0,connectAuthEmulator:vk,createUserWithEmailAndPassword:Yl,getAuth:Dn,getIdTokenResult:rk,inMemoryPersistence:$y,indexedDBLocalPersistence:Dk,initializeAuth:yk,onAuthStateChanged:Pr,onIdTokenChanged:Ck,prodErrorMap:YI,reload:ik,signInWithCredential:Sk,signInWithEmailAndPassword:Tk,signOut:kk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebasestorage.googleapis.com",M4="storageBucket",D4=2*60*1e3,$4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends yi{constructor(e,n,r=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Hm(t){return"storage/"+t}function F4(){const t="An unknown error occurred, please check the error payload for server response.";return new vi(gi.UNKNOWN,t)}function V4(){return new vi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z4(){return new vi(gi.CANCELED,"User canceled the upload/download.")}function B4(t){return new vi(gi.INVALID_URL,"Invalid URL '"+t+"'.")}function U4(t){return new vi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i1(t){return new vi(gi.INVALID_ARGUMENT,t)}function Uk(){return new vi(gi.APP_DELETED,"The Firebase app was deleted.")}function W4(t){return new vi(gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Br.makeFromUrl(e,n)}catch{return new Br(e,"")}if(r.path==="")return r;throw U4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",S=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},b=n===Bk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${b}/${i}/${I}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:S,indices:E,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<_.length;R++){const L=_[R],N=L.regex.exec(e);if(N){const g=N[L.indices.bucket];let p=N[L.indices.path];p||(p=""),r=new Br(g,p),L.postModify(r);break}}if(r==null)throw B4(e);return r}}class H4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(S,u())},I)}function m(){s&&clearTimeout(s)}function S(I,...T){if(c){m();return}if(I){m(),f.call(null,I,...T);return}if(u()||o){m(),f.call(null,I,...T);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let E=!1;function b(I){E||(E=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function K4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return t!==void 0}function s1(t,e,n,r){if(r<e)throw i1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw i1(`Invalid value for '${t}'. Expected ${n} or less.`)}function Q4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wf||(Wf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Wf.NO_ERROR,u=s.getStatus();if(!a||Y4(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Wf.ABORT;r(!1,new gd(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new gd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());G4(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=F4();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Uk():z4();o(u)}else{const u=V4();o(u)}};this.canceled_?n(!1,new gd(!1,null,!0)):this.backoffId_=q4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function J4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Z4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function t5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n5(t,e,n,r,i,s,o=!0){const a=Q4(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return e5(c,e),J4(c,n),Z4(c,s),t5(c,r),new X4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this._service=e,n instanceof Br?this._location=n:this._location=Br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hf(e,n)}get root(){const e=new Br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i5(this._location.path)}get storage(){return this._service}get parent(){const e=r5(this._location.path);if(e===null)return null;const n=new Br(this._location.bucket,e);return new Hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W4(e)}}function o1(t,e){const n=e==null?void 0:e[M4];return n==null?null:Br.makeFromBucketSpec(n,t)}function s5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_C(i,t.app.options.projectId))}class o5{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Bk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=D4,this._maxUploadRetryTime=$4,this._requests=new Set,i!=null?this._bucket=Br.makeFromBucketSpec(i,this._host):this._bucket=o1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Br.makeFromBucketSpec(this._url,e):this._bucket=o1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new H4(Uk());{const o=n5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const a1="@firebase/storage",l1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="storage";function a5(t=c0(),e){t=un(t);const r=Lh(t,Wk).getImmediate({identifier:e}),i=yC("storage");return i&&l5(r,...i),r}function l5(t,e,n,r={}){s5(t,e,n,r)}function u5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new o5(n,r,i,e,Ro)}function c5(){ho(new Cs(Wk,u5,"PUBLIC").setMultipleInstances(!0)),ai(a1,l1,""),ai(a1,l1,"esm2017")}c5();const d5={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},sp=SC(d5),ee=LI(sp),Ks=Dn(sp);a5(sp);const f5=Object.freeze(Object.defineProperty({__proto__:null,app:sp,auth:Ks,db:ee},Symbol.toStringTag,{value:"Module"}));function h5(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function p5(){const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(""),o=Ls();w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),w.useEffect(()=>{async function c(){const h=(await on(Ae(ee,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=h5(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?" Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function bo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const m5=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(null,arguments)}function g5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function y5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var v5=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(y5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=g5(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),On="-ms-",qf="-moz-",dt="-webkit-",Hk="comm",nx="rule",rx="decl",x5="@import",qk="@keyframes",_5="@layer",b5=Math.abs,op=String.fromCharCode,w5=Object.assign;function S5(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function Kk(t){return t.trim()}function E5(t,e){return(t=e.exec(t))?t[0]:t}function ft(t,e,n){return t.replace(e,n)}function zy(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function Hu(t,e,n){return t.slice(e,n)}function ti(t){return t.length}function ix(t){return t.length}function yd(t,e){return e.push(t),t}function T5(t,e){return t.map(e).join("")}var ap=1,Ha=1,Gk=0,rr=0,tn=0,al="";function lp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ap,column:Ha,length:o,return:""}}function jl(t,e){return w5(lp("",null,null,"",null,null,0),t,{length:-t.length},e)}function C5(){return tn}function I5(){return tn=rr>0?Sn(al,--rr):0,Ha--,tn===10&&(Ha=1,ap--),tn}function cr(){return tn=rr<Gk?Sn(al,rr++):0,Ha++,tn===10&&(Ha=1,ap++),tn}function fi(){return Sn(al,rr)}function Hd(){return rr}function Tc(t,e){return Hu(al,t,e)}function qu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qk(t){return ap=Ha=1,Gk=ti(al=t),rr=0,[]}function Yk(t){return al="",t}function qd(t){return Kk(Tc(rr-1,By(t===91?t+2:t===40?t+1:t)))}function k5(t){for(;(tn=fi())&&tn<33;)cr();return qu(t)>2||qu(tn)>3?"":" "}function R5(t,e){for(;--e&&cr()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return Tc(t,Hd()+(e<6&&fi()==32&&cr()==32))}function By(t){for(;cr();)switch(tn){case t:return rr;case 34:case 39:t!==34&&t!==39&&By(tn);break;case 40:t===41&&By(t);break;case 92:cr();break}return rr}function P5(t,e){for(;cr()&&t+tn!==57;)if(t+tn===84&&fi()===47)break;return"/*"+Tc(e,rr-1)+"*"+op(t===47?t:cr())}function A5(t){for(;!qu(fi());)cr();return Tc(t,rr)}function j5(t){return Yk(Kd("",null,null,null,[""],t=Qk(t),0,[0],t))}function Kd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,S=0,E=0,b=1,I=1,T=1,v=0,_="",R=i,L=s,N=r,g=_;I;)switch(E=v,v=cr()){case 40:if(E!=108&&Sn(g,h-1)==58){zy(g+=ft(qd(v),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:g+=qd(v);break;case 9:case 10:case 13:case 32:g+=k5(E);break;case 92:g+=R5(Hd()-1,7);continue;case 47:switch(fi()){case 42:case 47:yd(O5(P5(cr(),Hd()),e,n),u);break;default:g+="/"}break;case 123*b:a[c++]=ti(g)*T;case 125*b:case 59:case 0:switch(v){case 0:case 125:I=0;case 59+f:T==-1&&(g=ft(g,/\f/g,"")),S>0&&ti(g)-h&&yd(S>32?c1(g+";",r,n,h-1):c1(ft(g," ","")+";",r,n,h-2),u);break;case 59:g+=";";default:if(yd(N=u1(g,e,n,c,f,i,a,_,R=[],L=[],h),s),v===123)if(f===0)Kd(g,e,N,N,R,s,h,a,L);else switch(m===99&&Sn(g,3)===110?100:m){case 100:case 108:case 109:case 115:Kd(t,N,N,r&&yd(u1(t,N,N,0,0,i,a,_,i,R=[],h),L),i,L,h,a,r?R:L);break;default:Kd(g,N,N,N,[""],L,0,a,L)}}c=f=S=0,b=T=1,_=g="",h=o;break;case 58:h=1+ti(g),S=E;default:if(b<1){if(v==123)--b;else if(v==125&&b++==0&&I5()==125)continue}switch(g+=op(v),v*b){case 38:T=f>0?1:(g+="\f",-1);break;case 44:a[c++]=(ti(g)-1)*T,T=1;break;case 64:fi()===45&&(g+=qd(cr())),m=fi(),f=h=ti(_=g+=A5(Hd())),v++;break;case 45:E===45&&ti(g)==2&&(b=0)}}return s}function u1(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],S=ix(m),E=0,b=0,I=0;E<r;++E)for(var T=0,v=Hu(t,h+1,h=b5(b=o[E])),_=t;T<S;++T)(_=Kk(b>0?m[T]+" "+v:ft(v,/&\f/g,m[T])))&&(u[I++]=_);return lp(t,e,n,i===0?nx:a,u,c,f)}function O5(t,e,n){return lp(t,e,n,Hk,op(C5()),Hu(t,2,-2),0)}function c1(t,e,n,r){return lp(t,e,n,rx,Hu(t,0,r),Hu(t,r+1,-1),r)}function Ea(t,e){for(var n="",r=ix(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function N5(t,e,n,r){switch(t.type){case _5:if(t.children.length)break;case x5:case rx:return t.return=t.return||t.value;case Hk:return"";case qk:return t.return=t.value+"{"+Ea(t.children,r)+"}";case nx:t.value=t.props.join(",")}return ti(n=Ea(t.children,r))?t.return=t.value+"{"+n+"}":""}function L5(t){var e=ix(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function M5(t){return function(e){e.root||(e=e.return)&&t(e)}}function Xk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var D5=function(e,n,r){for(var i=0,s=0;i=s,s=fi(),i===38&&s===12&&(n[r]=1),!qu(s);)cr();return Tc(e,rr)},$5=function(e,n){var r=-1,i=44;do switch(qu(i)){case 0:i===38&&fi()===12&&(n[r]=1),e[r]+=D5(rr-1,n,r);break;case 2:e[r]+=qd(i);break;case 4:if(i===44){e[++r]=fi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=op(i)}while(i=cr());return e},F5=function(e,n){return Yk($5(Qk(e),n))},d1=new WeakMap,V5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!d1.get(r))&&!i){d1.set(e,!0);for(var s=[],o=F5(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},z5=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Jk(t,e){switch(S5(t,e)){case 5103:return dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+t+qf+t+On+t+t;case 6828:case 4268:return dt+t+On+t+t;case 6165:return dt+t+On+"flex-"+t+t;case 5187:return dt+t+ft(t,/(\w+).+(:[^]+)/,dt+"box-$1$2"+On+"flex-$1$2")+t;case 5443:return dt+t+On+"flex-item-"+ft(t,/flex-|-self/,"")+t;case 4675:return dt+t+On+"flex-line-pack"+ft(t,/align-content|flex-|-self/,"")+t;case 5548:return dt+t+On+ft(t,"shrink","negative")+t;case 5292:return dt+t+On+ft(t,"basis","preferred-size")+t;case 6060:return dt+"box-"+ft(t,"-grow","")+dt+t+On+ft(t,"grow","positive")+t;case 4554:return dt+ft(t,/([^-])(transform)/g,"$1"+dt+"$2")+t;case 6187:return ft(ft(ft(t,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),t,"")+t;case 5495:case 3959:return ft(t,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return ft(ft(t,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+On+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+t+t;case 4095:case 3583:case 4068:case 2532:return ft(t,/(.+)-inline(.+)/,dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ti(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return ft(t,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+qf+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zy(t,"stretch")?Jk(ft(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,ti(t)-3-(~zy(t,"!important")&&10))){case 107:return ft(t,":",":"+dt)+t;case 101:return ft(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(Sn(t,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+On+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return dt+t+On+ft(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dt+t+On+ft(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dt+t+On+ft(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dt+t+On+t+t}return t}var B5=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case rx:e.return=Jk(e.value,e.length);break;case qk:return Ea([jl(e,{value:ft(e.value,"@","@"+dt)})],i);case nx:if(e.length)return T5(e.props,function(s){switch(E5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ea([jl(e,{props:[ft(s,/:(read-\w+)/,":"+qf+"$1")]})],i);case"::placeholder":return Ea([jl(e,{props:[ft(s,/:(plac\w+)/,":"+dt+"input-$1")]}),jl(e,{props:[ft(s,/:(plac\w+)/,":"+qf+"$1")]}),jl(e,{props:[ft(s,/:(plac\w+)/,On+"input-$1")]})],i)}return""})}},U5=[B5],Zk=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var I=b.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||U5,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var I=b.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)s[I[T]]=!0;a.push(b)});var u,c=[V5,z5];{var f,h=[N5,M5(function(b){f.insert(b)})],m=L5(c.concat(i,h)),S=function(I){return Ea(j5(I),m)};u=function(I,T,v,_){f=v,S(I?I+"{"+T.styles+"}":T.styles),_&&(E.inserted[T.name]=!0)}}var E={key:n,sheet:new v5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return E.sheet.hydrate(a),E},eR={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn=typeof Symbol=="function"&&Symbol.for,sx=xn?Symbol.for("react.element"):60103,ox=xn?Symbol.for("react.portal"):60106,up=xn?Symbol.for("react.fragment"):60107,cp=xn?Symbol.for("react.strict_mode"):60108,dp=xn?Symbol.for("react.profiler"):60114,fp=xn?Symbol.for("react.provider"):60109,hp=xn?Symbol.for("react.context"):60110,ax=xn?Symbol.for("react.async_mode"):60111,pp=xn?Symbol.for("react.concurrent_mode"):60111,mp=xn?Symbol.for("react.forward_ref"):60112,gp=xn?Symbol.for("react.suspense"):60113,W5=xn?Symbol.for("react.suspense_list"):60120,yp=xn?Symbol.for("react.memo"):60115,vp=xn?Symbol.for("react.lazy"):60116,H5=xn?Symbol.for("react.block"):60121,q5=xn?Symbol.for("react.fundamental"):60117,K5=xn?Symbol.for("react.responder"):60118,G5=xn?Symbol.for("react.scope"):60119;function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sx:switch(t=t.type,t){case ax:case pp:case up:case dp:case cp:case gp:return t;default:switch(t=t&&t.$$typeof,t){case hp:case mp:case vp:case yp:case fp:return t;default:return e}}case ox:return e}}}function tR(t){return gr(t)===pp}_t.AsyncMode=ax;_t.ConcurrentMode=pp;_t.ContextConsumer=hp;_t.ContextProvider=fp;_t.Element=sx;_t.ForwardRef=mp;_t.Fragment=up;_t.Lazy=vp;_t.Memo=yp;_t.Portal=ox;_t.Profiler=dp;_t.StrictMode=cp;_t.Suspense=gp;_t.isAsyncMode=function(t){return tR(t)||gr(t)===ax};_t.isConcurrentMode=tR;_t.isContextConsumer=function(t){return gr(t)===hp};_t.isContextProvider=function(t){return gr(t)===fp};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sx};_t.isForwardRef=function(t){return gr(t)===mp};_t.isFragment=function(t){return gr(t)===up};_t.isLazy=function(t){return gr(t)===vp};_t.isMemo=function(t){return gr(t)===yp};_t.isPortal=function(t){return gr(t)===ox};_t.isProfiler=function(t){return gr(t)===dp};_t.isStrictMode=function(t){return gr(t)===cp};_t.isSuspense=function(t){return gr(t)===gp};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===up||t===pp||t===dp||t===cp||t===gp||t===W5||typeof t=="object"&&t!==null&&(t.$$typeof===vp||t.$$typeof===yp||t.$$typeof===fp||t.$$typeof===hp||t.$$typeof===mp||t.$$typeof===q5||t.$$typeof===K5||t.$$typeof===G5||t.$$typeof===H5)};_t.typeOf=gr;eR.exports=_t;var Q5=eR.exports,nR=Q5,Y5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rR={};rR[nR.ForwardRef]=Y5;rR[nR.Memo]=X5;var J5=!0;function iR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var lx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||J5===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ux=function(e,n,r){lx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Z5(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var e$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t$=/[A-Z]|^ms/g,n$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sR=function(e){return e.charCodeAt(1)===45},f1=function(e){return e!=null&&typeof e!="boolean"},qm=Xk(function(t){return sR(t)?t:t.replace(t$,"-$&").toLowerCase()}),h1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(n$,function(r,i,s){return ni={name:i,styles:s,next:ni},i})}return e$[e]!==1&&!sR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ku(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ni={name:i.name,styles:i.styles,next:ni},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ni={name:o.name,styles:o.styles,next:ni},o=o.next;var a=s.styles+";";return a}return r$(t,e,n)}case"function":{if(t!==void 0){var u=ni,c=n(t);return ni=u,Ku(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function r$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ku(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":f1(a)&&(r+=qm(s)+":"+h1(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)f1(o[u])&&(r+=qm(s)+":"+h1(s,o[u])+";");else{var c=Ku(t,e,o);switch(s){case"animation":case"animationName":{r+=qm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var p1=/label:\s*([^\s;{]+)\s*(;|$)/g,ni;function Cc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ni=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ku(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ku(n,e,t[a]),r){var u=s;i+=u[a]}p1.lastIndex=0;for(var c="",f;(f=p1.exec(i))!==null;)c+="-"+f[1];var h=Z5(i)+c;return{name:h,styles:i,next:ni}}var i$=function(e){return e()},oR=Zd.useInsertionEffect?Zd.useInsertionEffect:!1,aR=oR||i$,m1=oR||w.useLayoutEffect,lR=w.createContext(typeof HTMLElement<"u"?Zk({key:"css"}):null),s$=lR.Provider,cx=function(e){return w.forwardRef(function(n,r){var i=w.useContext(lR);return e(n,i,r)})},ll=w.createContext({}),dx={}.hasOwnProperty,Uy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",o$=function(e,n){var r={};for(var i in n)dx.call(n,i)&&(r[i]=n[i]);return r[Uy]=e,r},a$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return lx(n,r,i),aR(function(){return ux(n,r,i)}),null},l$=cx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Uy],s=[r],o="";typeof t.className=="string"?o=iR(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Cc(s,void 0,w.useContext(ll));o+=e.key+"-"+a.name;var u={};for(var c in t)dx.call(t,c)&&c!=="css"&&c!==Uy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),w.createElement(w.Fragment,null,w.createElement(a$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,u))}),u$=l$,Km={exports:{}},g1;function uR(){return g1||(g1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Km)),Km.exports}uR();var y1=function(e,n){var r=arguments;if(n==null||!dx.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=u$,s[1]=o$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(y1||(y1={}));var c$=cx(function(t,e){var n=t.styles,r=Cc([n],void 0,w.useContext(ll)),i=w.useRef();return m1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),m1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&ux(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function cR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Cc(e)}function xp(){var t=cR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var d$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f$=Xk(function(t){return d$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),h$=f$,p$=function(e){return e!=="theme"},v1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?h$:p$},x1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},m$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return lx(n,r,i),aR(function(){return ux(n,r,i)}),null},g$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=x1(e,n,r),u=a||v1(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var S=f.length,E=1;E<S;E++)h.push(f[E],m[E])}var b=cx(function(I,T,v){var _=c&&I.as||i,R="",L=[],N=I;if(I.theme==null){N={};for(var g in I)N[g]=I[g];N.theme=w.useContext(ll)}typeof I.className=="string"?R=iR(T.registered,L,I.className):I.className!=null&&(R=I.className+" ");var p=Cc(h.concat(L),T.registered,N);R+=T.key+"-"+p.name,o!==void 0&&(R+=" "+o);var y=c&&a===void 0?v1(_):u,C={};for(var j in I)c&&j==="as"||y(j)&&(C[j]=I[j]);return C.className=R,v&&(C.ref=v),w.createElement(w.Fragment,null,w.createElement(m$,{cache:T,serialized:p,isStringTag:typeof _=="string"}),w.createElement(_,C))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=h,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(I,T){var v=t(I,V({},n,T,{shouldForwardProp:x1(b,T,!0)}));return v.apply(void 0,h)},b}},y$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wy=g$.bind(null);y$.forEach(function(t){Wy[t]=Wy(t)});function v$(t,e){const n=Zk({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Gm=new Map;function x$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=w.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&Gm.has(s))return Gm.get(s);const o=v$(e,n);return Gm.set(s,o),o},[e,n]);return e||n?l.jsx(s$,{value:i,children:r}):r}function _$(t){return t==null||Object.keys(t).length===0}function dR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(_$(i)?n:i):e;return l.jsx(c$,{styles:r})}function fx(t,e){return Wy(t,e)}const fR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},_1=[];function Kf(t){return _1[0]=t,Cc(_1)}const b$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:dR,StyledEngineProvider:x$,ThemeContext:ll,css:cR,default:fx,internal_processStyles:fR,internal_serializeStyles:Kf,keyframes:xp},Symbol.toStringTag,{value:"Module"}));function Ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ri(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hR(t){if(w.isValidElement(t)||!Ri(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=hR(t[n])}),e}function dr(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return Ri(t)&&Ri(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])?r[i]=e[i]:Ri(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ri(t[i])?r[i]=dr(t[i],e[i],n):n.clone?r[i]=Ri(e[i])?hR(e[i]):e[i]:r[i]=e[i]}),r}const w$=Object.freeze(Object.defineProperty({__proto__:null,default:dr,isPlainObject:Ri},Symbol.toStringTag,{value:"Module"})),S$=["values","unit","step"],E$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function pR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ce(t,S$),s=E$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,S){const E=o.indexOf(S);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(E!==-1&&typeof e[o[E]]=="number"?e[o[E]]:S)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const S=o.indexOf(m);return S===0?a(o[1]):S===o.length-1?u(o[S]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const T$={borderRadius:4};function hu(t,e){return e?dr(t,e,{clone:!1}):t}const hx={xs:0,sm:600,md:900,lg:1200,xl:1536},b1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${hx[t]}px)`};function Ar(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||b1;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||b1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||hx).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function C$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function w1(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function I$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function _p({values:t,breakpoints:e,base:n}){const r=n||I$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ke(t){if(typeof t!="string")throw new Error(bo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const k$=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));function qa(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Gf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=qa(t,n)||r,e&&(i=e(i,r,t)),i}function Qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=qa(u,r)||{};return Ar(o,a,h=>{let m=Gf(c,i,h);return h===m&&typeof h=="string"&&(m=Gf(c,i,`${e}${h==="default"?"":Ke(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function R$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const P$={m:"margin",p:"padding"},A$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},S1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},j$=R$(t=>{if(t.length>2)if(S1[t])t=S1[t];else return[t];const[e,n]=t.split(""),r=P$[e],i=A$[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),px=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],mx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...px,...mx];function Ic(t,e,n,r){var i;const s=(i=qa(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function mR(t){return Ic(t,"spacing",8)}function kc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function O$(t,e){return n=>t.reduce((r,i)=>(r[i]=kc(e,n),r),{})}function N$(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=j$(n),s=O$(i,r),o=t[n];return Ar(t,o,s)}function gR(t,e){const n=mR(t.theme);return Object.keys(t).map(r=>N$(t,e,r,n)).reduce(hu,{})}function Bt(t){return gR(t,px)}Bt.propTypes={};Bt.filterProps=px;function Ut(t){return gR(t,mx)}Ut.propTypes={};Ut.filterProps=mx;function L$(t=8){if(t.mui)return t;const e=mR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function bp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?hu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function wr(t){return typeof t!="number"?t:`${t}px solid`}function Or(t,e){return Qt({prop:t,themeKey:"borders",transform:e})}const M$=Or("border",wr),D$=Or("borderTop",wr),$$=Or("borderRight",wr),F$=Or("borderBottom",wr),V$=Or("borderLeft",wr),z$=Or("borderColor"),B$=Or("borderTopColor"),U$=Or("borderRightColor"),W$=Or("borderBottomColor"),H$=Or("borderLeftColor"),q$=Or("outline",wr),K$=Or("outlineColor"),wp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Ic(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:kc(e,r)});return Ar(t,t.borderRadius,n)}return null};wp.propTypes={};wp.filterProps=["borderRadius"];bp(M$,D$,$$,F$,V$,z$,B$,U$,W$,H$,wp,q$,K$);const Sp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Ic(t.theme,"spacing",8),n=r=>({gap:kc(e,r)});return Ar(t,t.gap,n)}return null};Sp.propTypes={};Sp.filterProps=["gap"];const Ep=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Ic(t.theme,"spacing",8),n=r=>({columnGap:kc(e,r)});return Ar(t,t.columnGap,n)}return null};Ep.propTypes={};Ep.filterProps=["columnGap"];const Tp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Ic(t.theme,"spacing",8),n=r=>({rowGap:kc(e,r)});return Ar(t,t.rowGap,n)}return null};Tp.propTypes={};Tp.filterProps=["rowGap"];const G$=Qt({prop:"gridColumn"}),Q$=Qt({prop:"gridRow"}),Y$=Qt({prop:"gridAutoFlow"}),X$=Qt({prop:"gridAutoColumns"}),J$=Qt({prop:"gridAutoRows"}),Z$=Qt({prop:"gridTemplateColumns"}),eF=Qt({prop:"gridTemplateRows"}),tF=Qt({prop:"gridTemplateAreas"}),nF=Qt({prop:"gridArea"});bp(Sp,Ep,Tp,G$,Q$,Y$,X$,J$,Z$,eF,tF,nF);function Ta(t,e){return e==="grey"?e:t}const rF=Qt({prop:"color",themeKey:"palette",transform:Ta}),iF=Qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ta}),sF=Qt({prop:"backgroundColor",themeKey:"palette",transform:Ta});bp(rF,iF,sF);function or(t){return t<=1&&t!==0?`${t*100}%`:t}const oF=Qt({prop:"width",transform:or}),gx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||hx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:or(n)}};return Ar(t,t.maxWidth,e)}return null};gx.filterProps=["maxWidth"];const aF=Qt({prop:"minWidth",transform:or}),lF=Qt({prop:"height",transform:or}),uF=Qt({prop:"maxHeight",transform:or}),cF=Qt({prop:"minHeight",transform:or});Qt({prop:"size",cssProperty:"width",transform:or});Qt({prop:"size",cssProperty:"height",transform:or});const dF=Qt({prop:"boxSizing"});bp(oF,gx,aF,lF,uF,cF,dF);const Rc={border:{themeKey:"borders",transform:wr},borderTop:{themeKey:"borders",transform:wr},borderRight:{themeKey:"borders",transform:wr},borderBottom:{themeKey:"borders",transform:wr},borderLeft:{themeKey:"borders",transform:wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wp},color:{themeKey:"palette",transform:Ta},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ta},backgroundColor:{themeKey:"palette",transform:Ta},p:{style:Ut},pt:{style:Ut},pr:{style:Ut},pb:{style:Ut},pl:{style:Ut},px:{style:Ut},py:{style:Ut},padding:{style:Ut},paddingTop:{style:Ut},paddingRight:{style:Ut},paddingBottom:{style:Ut},paddingLeft:{style:Ut},paddingX:{style:Ut},paddingY:{style:Ut},paddingInline:{style:Ut},paddingInlineStart:{style:Ut},paddingInlineEnd:{style:Ut},paddingBlock:{style:Ut},paddingBlockStart:{style:Ut},paddingBlockEnd:{style:Ut},m:{style:Bt},mt:{style:Bt},mr:{style:Bt},mb:{style:Bt},ml:{style:Bt},mx:{style:Bt},my:{style:Bt},margin:{style:Bt},marginTop:{style:Bt},marginRight:{style:Bt},marginBottom:{style:Bt},marginLeft:{style:Bt},marginX:{style:Bt},marginY:{style:Bt},marginInline:{style:Bt},marginInlineStart:{style:Bt},marginInlineEnd:{style:Bt},marginBlock:{style:Bt},marginBlockStart:{style:Bt},marginBlockEnd:{style:Bt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sp},rowGap:{style:Tp},columnGap:{style:Ep},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:or},maxWidth:{style:gx},minWidth:{transform:or},height:{transform:or},maxHeight:{transform:or},minHeight:{transform:or},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function hF(t,e){return typeof t=="function"?t(e):t}function yR(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=qa(i,c)||{};return h?h(o):Ar(o,r,E=>{let b=Gf(m,f,E);return E===b&&typeof E=="string"&&(b=Gf(m,f,`${n}${E==="default"?"":Ke(E)}`,E)),u===!1?b:{[u]:b}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Rc;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=C$(s.breakpoints),m=Object.keys(h);let S=h;return Object.keys(f).forEach(E=>{const b=hF(f[E],s);if(b!=null)if(typeof b=="object")if(a[E])S=hu(S,t(E,b,s,a));else{const I=Ar({theme:s},b,T=>({[E]:T}));fF(I,b)?S[E]=e({sx:b,theme:s,nested:!0}):S=hu(S,I)}else S=hu(S,t(E,b,s,a))}),!o&&s.modularCssLayers?{"@layer sx":w1(m,S)}:w1(m,S)}return Array.isArray(i)?i.map(u):u(i)}return e}const ul=yR();ul.filterProps=["sx"];function vR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const pF=["breakpoints","palette","spacing","shape"];function Pc(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ce(t,pF),a=pR(n),u=L$(i);let c=dr({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:u,shape:V({},T$,s)},o);return c.applyStyles=vR,c=e.reduce((f,h)=>dr(f,h),c),c.unstable_sxConfig=V({},Rc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return ul({sx:h,theme:this})},c}const mF=Object.freeze(Object.defineProperty({__proto__:null,default:Pc,private_createBreakpoints:pR,unstable_applyStyles:vR},Symbol.toStringTag,{value:"Module"}));function gF(t){return Object.keys(t).length===0}function yx(t=null){const e=w.useContext(ll);return!e||gF(e)?t:e}const yF=Pc();function Cp(t=yF){return yx(t)}function Qm(t){const e=Kf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function xR({styles:t,themeId:e,defaultTheme:n={}}){const r=Cp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>Qm(typeof o=="function"?o(i):o)):s=Qm(s)),l.jsx(dR,{styles:s})}const vF=["sx"],xF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Rc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Ip(t){const{sx:e}=t,n=Ce(t,vF),{systemProps:r,otherProps:i}=xF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ri(a)?V({},r,a):r}:s=V({},r,e),V({},i,{sx:s})}const _F=Object.freeze(Object.defineProperty({__proto__:null,default:ul,extendSxProp:Ip,unstable_createStyleFunctionSx:yR,unstable_defaultSxConfig:Rc},Symbol.toStringTag,{value:"Module"})),E1=t=>t,bF=()=>{let t=E1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=E1}}},_R=bF(),wF=["className","component"];function SF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=fx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ul);return w.forwardRef(function(u,c){const f=Cp(n),h=Ip(u),{className:m,component:S="div"}=h,E=Ce(h,wF);return l.jsx(s,V({as:S,ref:c,className:Ne(m,i?i(r):r),theme:e&&f[e]||f},E))})}const EF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mt(t,e,n="Mui"){const r=EF[e];return r?`${n}-${r}`:`${_R.generate(t)}-${e}`}function ct(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=mt(t,i,n)}),r}var bR={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx=Symbol.for("react.transitional.element"),xx=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Ap=Symbol.for("react.consumer"),jp=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),TF=Symbol.for("react.view_transition"),CF=Symbol.for("react.client.reference");function Nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vx:switch(t=t.type,t){case kp:case Pp:case Rp:case Np:case Lp:case TF:return t;default:switch(t=t&&t.$$typeof,t){case jp:case Op:case Dp:case Mp:return t;case Ap:return t;default:return e}}case xx:return e}}}St.ContextConsumer=Ap;St.ContextProvider=jp;St.Element=vx;St.ForwardRef=Op;St.Fragment=kp;St.Lazy=Dp;St.Memo=Mp;St.Portal=xx;St.Profiler=Pp;St.StrictMode=Rp;St.Suspense=Np;St.SuspenseList=Lp;St.isContextConsumer=function(t){return Nr(t)===Ap};St.isContextProvider=function(t){return Nr(t)===jp};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vx};St.isForwardRef=function(t){return Nr(t)===Op};St.isFragment=function(t){return Nr(t)===kp};St.isLazy=function(t){return Nr(t)===Dp};St.isMemo=function(t){return Nr(t)===Mp};St.isPortal=function(t){return Nr(t)===xx};St.isProfiler=function(t){return Nr(t)===Pp};St.isStrictMode=function(t){return Nr(t)===Rp};St.isSuspense=function(t){return Nr(t)===Np};St.isSuspenseList=function(t){return Nr(t)===Lp};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kp||t===Pp||t===Rp||t===Np||t===Lp||typeof t=="object"&&t!==null&&(t.$$typeof===Dp||t.$$typeof===Mp||t.$$typeof===jp||t.$$typeof===Ap||t.$$typeof===Op||t.$$typeof===CF||t.getModuleId!==void 0)};St.typeOf=Nr;bR.exports=St;var T1=bR.exports;const IF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function wR(t){const e=`${t}`.match(IF);return e&&e[1]||""}function SR(t,e=""){return t.displayName||t.name||wR(t)||e}function C1(t,e,n){const r=SR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function kF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return SR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case T1.ForwardRef:return C1(t,t.render,"ForwardRef");case T1.Memo:return C1(t,t.type,"memo");default:return}}}const RF=Object.freeze(Object.defineProperty({__proto__:null,default:kF,getFunctionName:wR},Symbol.toStringTag,{value:"Module"})),PF=["ownerState"],AF=["variants"],jF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function OF(t){return Object.keys(t).length===0}function NF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ym(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function I1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const LF=Pc(),MF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function vd({defaultTheme:t,theme:e,themeId:n}){return OF(e)?t:e[n]||e}function DF(t){return t?(e,n)=>n[t]:null}function Gd(t,e,n){let{ownerState:r}=e,i=Ce(e,PF);const s=typeof t=="function"?t(V({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Gd(o,V({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Ce(s,AF);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props(V({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style(V({ownerState:r},i,r)):c.style;u.push(n?I1(Kf(h),n):h)}}),u}return n?I1(Kf(s),n):s}function $F(t={}){const{themeId:e,defaultTheme:n=LF,rootShouldForwardProp:r=Ym,slotShouldForwardProp:i=Ym}=t,s=o=>ul(V({},o,{theme:vd(V({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{fR(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=DF(MF(c))}=a,S=Ce(a,jF),E=u&&u.startsWith("Mui")||c?"components":"custom",b=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Ym;c==="Root"||c==="root"?v=r:c?v=i:NF(o)&&(v=void 0);const _=fx(o,V({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||Ri(N)?g=>{const p=vd({theme:g.theme,defaultTheme:n,themeId:e});return Gd(N,V({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,L=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(A=>{const P=vd(V({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const W=P.components[u].styleOverrides,F={};return Object.entries(W).forEach(([H,B])=>{F[H]=Gd(B,V({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!b&&y.push(A=>{var P;const W=vd(V({},A,{defaultTheme:n,themeId:e})),F=W==null||(P=W.components)==null||(P=P[u])==null?void 0:P.variants;return Gd({variants:F},V({},A,{theme:W}),W.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const A=new Array(C).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=_(p,...y);return o.muiName&&(j.muiName=o.muiName),j};return _.withConfig&&(L.withConfig=_.withConfig),L}}const FF=$F();function Gu(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=Gu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function VF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Gu(e.components[n].defaultProps,r)}function zF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Cp(n);return r&&(i=i[r]||i),VF({theme:i,name:e,props:t})}const Gi=typeof window<"u"?w.useLayoutEffect:w.useEffect;function BF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const UF=Object.freeze(Object.defineProperty({__proto__:null,default:BF},Symbol.toStringTag,{value:"Module"}));function k1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function ER(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Xm(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function fr(t){return t&&t.ownerDocument||document}function wo(t){return fr(t).defaultView||window}function Hy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let R1=0;function WF(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(R1+=1,n(`mui-${R1}`))},[e]),r}const P1=Zd.useId;function _x(t){if(P1!==void 0){const e=P1();return t??e}return WF(t)}function A1({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,u=w.useCallback(c=>{i||o(c)},[]);return[a,u]}function eo(t){const e=w.useRef(t);return Gi(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function Vn(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Hy(n,e)})},t)}const j1={};function HF(t,e){const n=w.useRef(j1);return n.current===j1&&(n.current=t(e)),n}const qF=[];function KF(t){w.useEffect(t,qF)}class $p{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new $p}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function TR(){const t=HF($p.create).current;return KF(t.disposeEffect),t}let Fp=!0,qy=!1;const GF=new $p,QF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function YF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&QF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function XF(t){t.metaKey||t.altKey||t.ctrlKey||(Fp=!0)}function Jm(){Fp=!1}function JF(){this.visibilityState==="hidden"&&qy&&(Fp=!0)}function ZF(t){t.addEventListener("keydown",XF,!0),t.addEventListener("mousedown",Jm,!0),t.addEventListener("pointerdown",Jm,!0),t.addEventListener("touchstart",Jm,!0),t.addEventListener("visibilitychange",JF,!0)}function eV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Fp||YF(e)}function CR(){const t=w.useCallback(i=>{i!=null&&ZF(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(qy=!0,GF.start(100,()=>{qy=!1}),e.current=!1,!0):!1}function r(i){return eV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function IR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function bt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function Qf(t){return typeof t=="string"}function tV(t,e,n){return t===void 0||Qf(t)?e:V({},e,{ownerState:V({},e.ownerState,n)})}function kR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function O1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function nV(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const S=Ne(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),E=V({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),b=V({},n,i,r);return S.length>0&&(b.className=S),Object.keys(E).length>0&&(b.style=E),{props:b,internalRef:void 0}}const o=kR(V({},i,r)),a=O1(r),u=O1(i),c=e(o),f=Ne(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=V({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=V({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function rV(t,e,n){return typeof t=="function"?t(e,n):t}const iV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ka(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ce(t,iV),a=s?{}:rV(r,i),{props:u,internalRef:c}=nV(V({},o,{externalSlotProps:a})),f=Vn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return tV(n,V({},u,{ref:f}),i)}function Ac(t){if(parseInt(w.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const RR=w.createContext(null);function PR(){return w.useContext(RR)}const sV=typeof Symbol=="function"&&Symbol.for,oV=sV?Symbol.for("mui.nested"):"__THEME_NESTED__";function aV(t,e){return typeof e=="function"?e(t):V({},t,e)}function lV(t){const{children:e,theme:n}=t,r=PR(),i=w.useMemo(()=>{const s=r===null?n:aV(r,n);return s!=null&&(s[oV]=r!==null),s},[n,r]);return l.jsx(RR.Provider,{value:i,children:e})}const uV=["value"],AR=w.createContext();function cV(t){let{value:e}=t,n=Ce(t,uV);return l.jsx(AR.Provider,V({value:e??!0},n))}const dV=()=>{const t=w.useContext(AR);return t??!1},jR=w.createContext(void 0);function fV({value:t,children:e}){return l.jsx(jR.Provider,{value:t,children:e})}function hV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Gu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Gu(i,r):r}function pV({props:t,name:e}){const n=w.useContext(jR);return hV({props:t,name:e,theme:{components:n}})}function mV(t){const e=yx(),n=_x()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Gi(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx(xR,{styles:i}):null}const N1={};function L1(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?V({},e,{[t]:s}):s;return r?()=>o:o}return t?V({},e,{[t]:n}):V({},e,n)},[t,e,n,r])}function gV(t){const{children:e,theme:n,themeId:r}=t,i=yx(N1),s=PR()||N1,o=L1(r,i,n),a=L1(r,s,n,!0),u=o.direction==="rtl",c=mV(o);return l.jsx(lV,{theme:a,children:l.jsx(ll.Provider,{value:o,children:l.jsx(cV,{value:u,children:l.jsxs(fV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const yV=["className","component","disableGutters","fixed","maxWidth","classes"],vV=Pc(),xV=FF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),_V=t=>zF({props:t,name:"MuiContainer",defaultTheme:vV}),bV=(t,e)=>{const n=u=>mt(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Ke(String(o))}`,i&&"fixed",s&&"disableGutters"]};return bt(a,n,r)};function wV(t={}){const{createStyledComponent:e=xV,useThemeProps:n=_V,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>V({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return w.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:S=!1,maxWidth:E="lg"}=c,b=Ce(c,yV),I=V({},c,{component:h,disableGutters:m,fixed:S,maxWidth:E}),T=bV(I,r);return l.jsx(i,V({as:h,ownerState:I,className:Ne(T.root,f),ref:u},b))})}var jc={},OR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(OR);var NR=OR.exports,Zm={exports:{}},M1;function SV(){return M1||(M1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Zm)),Zm.exports}const EV=Qi(b$),TV=Qi(w$),CV=Qi(k$),IV=Qi(RF),kV=Qi(mF),RV=Qi(_F);var cl=NR;Object.defineProperty(jc,"__esModule",{value:!0});var PV=jc.default=UV;jc.shouldForwardProp=Qd;jc.systemDefaultTheme=void 0;var vr=cl(uR()),Ky=cl(SV()),Yf=DV(EV),AV=TV;cl(CV);cl(IV);var jV=cl(kV),OV=cl(RV);const NV=["ownerState"],LV=["variants"],MV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function LR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(LR=function(r){return r?n:e})(t)}function DV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=LR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function $V(t){return Object.keys(t).length===0}function FV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Qd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function D1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const VV=jc.systemDefaultTheme=(0,jV.default)(),zV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function xd({defaultTheme:t,theme:e,themeId:n}){return $V(e)?t:e[n]||e}function BV(t){return t?(e,n)=>n[t]:null}function Yd(t,e,n){let{ownerState:r}=e,i=(0,Ky.default)(e,NV);const s=typeof t=="function"?t((0,vr.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Yd(o,(0,vr.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,Ky.default)(s,LV);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,vr.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,vr.default)({ownerState:r},i,r)):c.style;u.push(n?D1((0,Yf.internal_serializeStyles)(h),n):h)}}),u}return n?D1((0,Yf.internal_serializeStyles)(s),n):s}function UV(t={}){const{themeId:e,defaultTheme:n=VV,rootShouldForwardProp:r=Qd,slotShouldForwardProp:i=Qd}=t,s=o=>(0,OV.default)((0,vr.default)({},o,{theme:xd((0,vr.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Yf.internal_processStyles)(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=BV(zV(c))}=a,S=(0,Ky.default)(a,MV),E=u&&u.startsWith("Mui")||c?"components":"custom",b=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Qd;c==="Root"||c==="root"?v=r:c?v=i:FV(o)&&(v=void 0);const _=(0,Yf.default)(o,(0,vr.default)({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||(0,AV.isPlainObject)(N)?g=>{const p=xd({theme:g.theme,defaultTheme:n,themeId:e});return Yd(N,(0,vr.default)({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,L=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(A=>{const P=xd((0,vr.default)({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const W=P.components[u].styleOverrides,F={};return Object.entries(W).forEach(([H,B])=>{F[H]=Yd(B,(0,vr.default)({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!b&&y.push(A=>{var P;const W=xd((0,vr.default)({},A,{defaultTheme:n,themeId:e})),F=W==null||(P=W.components)==null||(P=P[u])==null?void 0:P.variants;return Yd({variants:F},(0,vr.default)({},A,{theme:W}),W.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const A=new Array(C).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=_(p,...y);return o.muiName&&(j.muiName=o.muiName),j};return _.withConfig&&(L.withConfig=_.withConfig),L}}function WV(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Yt={};const HV=Qi(m5),qV=Qi(UF);var MR=NR;Object.defineProperty(Yt,"__esModule",{value:!0});var Er=Yt.alpha=VR;Yt.blend=sz;Yt.colorChannel=void 0;var KV=Yt.darken=wx;Yt.decomposeColor=jr;Yt.emphasize=zR;var GV=Yt.getContrastRatio=ez;Yt.getLuminance=Xf;Yt.hexToRgb=DR;Yt.hslToRgb=FR;var QV=Yt.lighten=Sx;Yt.private_safeAlpha=tz;Yt.private_safeColorChannel=void 0;Yt.private_safeDarken=nz;Yt.private_safeEmphasize=iz;Yt.private_safeLighten=rz;Yt.recomposeColor=dl;Yt.rgbToHex=ZV;var $1=MR(HV),YV=MR(qV);function bx(t,e=0,n=1){return(0,YV.default)(t,e,n)}function DR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function XV(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function jr(t){if(t.type)return t;if(t.charAt(0)==="#")return jr(DR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,$1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,$1.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const $R=t=>{const e=jr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Yt.colorChannel=$R;const JV=(t,e)=>{try{return $R(t)}catch{return t}};Yt.private_safeColorChannel=JV;function dl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ZV(t){if(t.indexOf("#")===0)return t;const{values:e}=jr(t);return`#${e.map((n,r)=>XV(r===3?Math.round(255*n):n)).join("")}`}function FR(t){t=jr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),dl({type:a,values:u})}function Xf(t){t=jr(t);let e=t.type==="hsl"||t.type==="hsla"?jr(FR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ez(t,e){const n=Xf(t),r=Xf(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function VR(t,e){return t=jr(t),e=bx(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,dl(t)}function tz(t,e,n){try{return VR(t,e)}catch{return t}}function wx(t,e){if(t=jr(t),e=bx(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return dl(t)}function nz(t,e,n){try{return wx(t,e)}catch{return t}}function Sx(t,e){if(t=jr(t),e=bx(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return dl(t)}function rz(t,e,n){try{return Sx(t,e)}catch{return t}}function zR(t,e=.15){return Xf(t)>.5?wx(t,e):Sx(t,e)}function iz(t,e,n){try{return zR(t,e)}catch{return t}}function sz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=jr(t),o=jr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return dl({type:"rgb",values:a})}const Qu={black:"#000",white:"#fff"},oz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Uo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Wo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ol={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ho={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ko={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},az=["mode","contrastThreshold","tonalOffset"],F1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qu.white,default:Qu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eg={text:{primary:Qu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function V1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=QV(t.main,i):e==="dark"&&(t.dark=KV(t.main,s)))}function lz(t="light"){return t==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[700],light:Ho[400],dark:Ho[800]}}function uz(t="light"){return t==="dark"?{main:Uo[200],light:Uo[50],dark:Uo[400]}:{main:Uo[500],light:Uo[300],dark:Uo[700]}}function cz(t="light"){return t==="dark"?{main:Wo[500],light:Wo[300],dark:Wo[700]}:{main:Wo[700],light:Wo[400],dark:Wo[800]}}function dz(t="light"){return t==="dark"?{main:qo[400],light:qo[300],dark:qo[700]}:{main:qo[700],light:qo[500],dark:qo[900]}}function fz(t="light"){return t==="dark"?{main:Ko[400],light:Ko[300],dark:Ko[700]}:{main:Ko[800],light:Ko[500],dark:Ko[900]}}function hz(t="light"){return t==="dark"?{main:Ol[400],light:Ol[300],dark:Ol[700]}:{main:"#ed6c02",light:Ol[500],dark:Ol[900]}}function pz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ce(t,az),s=t.primary||lz(e),o=t.secondary||uz(e),a=t.error||cz(e),u=t.info||dz(e),c=t.success||fz(e),f=t.warning||hz(e);function h(b){return GV(b,eg.text.primary)>=n?eg.text.primary:F1.text.primary}const m=({color:b,name:I,mainShade:T=500,lightShade:v=300,darkShade:_=700})=>{if(b=V({},b),!b.main&&b[T]&&(b.main=b[T]),!b.hasOwnProperty("main"))throw new Error(bo(11,I?` (${I})`:"",T));if(typeof b.main!="string")throw new Error(bo(12,I?` (${I})`:"",JSON.stringify(b.main)));return V1(b,"light",v,r),V1(b,"dark",_,r),b.contrastText||(b.contrastText=h(b.main)),b},S={dark:eg,light:F1};return dr(V({common:V({},Qu),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:oz,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},S[e]),i)}const mz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function gz(t){return Math.round(t*1e5)/1e5}const z1={textTransform:"uppercase"},B1='"Roboto", "Helvetica", "Arial", sans-serif';function yz(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=B1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Ce(n,mz),S=i/14,E=h||(T=>`${T/c*S}rem`),b=(T,v,_,R,L)=>V({fontFamily:r,fontWeight:T,fontSize:E(v),lineHeight:_},r===B1?{letterSpacing:`${gz(R/v)}em`}:{},L,f),I={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(a,14,1.75,.4,z1),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,z1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return dr(V({htmlFontSize:c,pxToRem:E,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const vz=.2,xz=.14,_z=.12;function jt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${vz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${xz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${_z})`].join(",")}const bz=["none",jt(0,2,1,-1,0,1,1,0,0,1,3,0),jt(0,3,1,-2,0,2,2,0,0,1,5,0),jt(0,3,3,-2,0,3,4,0,0,1,8,0),jt(0,2,4,-1,0,4,5,0,0,1,10,0),jt(0,3,5,-1,0,5,8,0,0,1,14,0),jt(0,3,5,-1,0,6,10,0,0,1,18,0),jt(0,4,5,-2,0,7,10,1,0,2,16,1),jt(0,5,5,-3,0,8,10,1,0,3,14,2),jt(0,5,6,-3,0,9,12,1,0,3,16,2),jt(0,6,6,-3,0,10,14,1,0,4,18,3),jt(0,6,7,-4,0,11,15,1,0,4,20,3),jt(0,7,8,-4,0,12,17,2,0,5,22,4),jt(0,7,8,-4,0,13,19,2,0,5,24,4),jt(0,7,9,-4,0,14,21,2,0,5,26,4),jt(0,8,9,-5,0,15,22,2,0,6,28,5),jt(0,8,10,-5,0,16,24,2,0,6,30,5),jt(0,8,11,-5,0,17,26,2,0,6,32,5),jt(0,9,11,-5,0,18,28,2,0,7,34,6),jt(0,9,12,-6,0,19,29,2,0,7,36,6),jt(0,10,13,-6,0,20,31,3,0,8,38,7),jt(0,10,13,-6,0,21,33,3,0,8,40,7),jt(0,10,14,-6,0,22,35,3,0,8,42,7),jt(0,11,14,-7,0,23,36,3,0,9,44,8),jt(0,11,15,-7,0,24,38,3,0,9,46,8)],wz=["duration","easing","delay"],Sz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ez={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function U1(t){return`${Math.round(t)}ms`}function Tz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Cz(t){const e=V({},Sz,t.easing),n=V({},Ez,t.duration);return V({getAutoHeightDuration:Tz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Ce(s,wz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:U1(o)} ${a} ${typeof u=="string"?u:U1(u)}`).join(",")}},t,{easing:e,duration:n})}const Iz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ex(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ce(t,kz);if(t.vars&&t.generateCssVars===void 0)throw new Error(bo(18));const a=pz(r),u=Pc(t);let c=dr(u,{mixins:WV(u.breakpoints,n),palette:a,shadows:bz.slice(),typography:yz(a,s),transitions:Cz(i),zIndex:V({},Iz)});return c=dr(c,o),c=e.reduce((f,h)=>dr(f,h),c),c.unstable_sxConfig=V({},Rc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return ul({sx:h,theme:this})},c}const Tx=Ex(),Ga="$$material";function BR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Lr=t=>BR(t)&&t!=="classes",je=PV({themeId:Ga,defaultTheme:Tx,rootShouldForwardProp:Lr});function gt(t){return pV(t)}const Rz=wV({createStyledComponent:je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>gt({props:t,name:"MuiContainer"})});function Pz(t){return mt("MuiTypography",t)}ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Az=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],jz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ke(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return bt(a,Pz,o)},Oz=je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ke(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>V({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),W1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Nz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Lz=t=>Nz[t]||t,lt=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiTypography"}),i=Lz(r.color),s=Ip(V({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:S=W1}=s,E=Ce(s,Az),b=V({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:S}),I=u||(h?"p":S[m]||W1[m])||"span",T=jz(b);return l.jsx(Oz,V({as:I,ref:n,ownerState:b,className:Ne(T.root,a)},E))});function Gy(t,e){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gy(t,e)}function UR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gy(t,e)}const H1={disabled:!1},Jf=pe.createContext(null);var Mz=function(e){return e.scrollTop},Xl="unmounted",Gs="exited",Qs="entering",Zo="entered",Qy="exiting",xi=function(t){UR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=Gs,s.appearStatus=Qs):u=Zo:r.unmountOnExit||r.mountOnEnter?u=Xl:u=Gs,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Xl?{status:Gs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Qs&&o!==Zo&&(s=Qs):(o===Qs||o===Zo)&&(s=Qy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Qs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:cd.findDOMNode(this);o&&Mz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gs&&this.setState({status:Xl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[cd.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||H1.disabled){this.safeSetState({status:Zo},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Qs},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Zo},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:cd.findDOMNode(this);if(!s||H1.disabled){this.safeSetState({status:Gs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Qy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Gs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:cd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Xl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ce(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(Jf.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},e}(pe.Component);xi.contextType=Jf;xi.propTypes={};function Go(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Go,onEntering:Go,onEntered:Go,onExit:Go,onExiting:Go,onExited:Go};xi.UNMOUNTED=Xl;xi.EXITED=Gs;xi.ENTERING=Qs;xi.ENTERED=Zo;xi.EXITING=Qy;function Dz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cx(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function $z(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function to(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Fz(t,e){return Cx(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:to(n,"appear",t),enter:to(n,"enter",t),exit:to(n,"exit",t)})})}function Vz(t,e,n){var r=Cx(t.children),i=$z(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=w.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:to(o,"exit",t),enter:to(o,"enter",t)}):!u&&a&&!f?i[s]=w.cloneElement(o,{in:!1}):u&&a&&w.isValidElement(c)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:to(o,"exit",t),enter:to(o,"enter",t)}))}}),i}var zz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Bz={component:"div",childFactory:function(e){return e}},Ix=function(t){UR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Dz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Fz(i,a):Vz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Cx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=V({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ce(i,["component","childFactory"]),u=this.state.contextValue,c=zz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pe.createElement(Jf.Provider,{value:u},c):pe.createElement(Jf.Provider,{value:u},pe.createElement(s,a,c))},e}(pe.Component);Ix.propTypes={};Ix.defaultProps=Bz;function Uz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=w.useState(!1),m=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),S={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},E=Ne(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),w.useEffect(()=>{if(!a&&u!=null){const b=setTimeout(u,c);return()=>{clearTimeout(b)}}},[u,a,c]),l.jsx("span",{className:m,style:S,children:l.jsx("span",{className:E})})}const xr=ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Wz=["center","classes","className"];let Vp=t=>t,q1,K1,G1,Q1;const Yy=550,Hz=80,qz=xp(q1||(q1=Vp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Kz=xp(K1||(K1=Vp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Gz=xp(G1||(G1=Vp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Qz=je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Yz=je(Uz,{name:"MuiTouchRipple",slot:"Ripple"})(Q1||(Q1=Vp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xr.rippleVisible,qz,Yy,({theme:t})=>t.transitions.easing.easeInOut,xr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,xr.child,xr.childLeaving,Kz,Yy,({theme:t})=>t.transitions.easing.easeInOut,xr.childPulsate,Gz,({theme:t})=>t.transitions.easing.easeInOut),Xz=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ce(r,Wz),[u,c]=w.useState([]),f=w.useRef(0),h=w.useRef(null);w.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=w.useRef(!1),S=TR(),E=w.useRef(null),b=w.useRef(null),I=w.useCallback(R=>{const{pulsate:L,rippleX:N,rippleY:g,rippleSize:p,cb:y}=R;c(C=>[...C,l.jsx(Yz,{classes:{ripple:Ne(s.ripple,xr.ripple),rippleVisible:Ne(s.rippleVisible,xr.rippleVisible),ripplePulsate:Ne(s.ripplePulsate,xr.ripplePulsate),child:Ne(s.child,xr.child),childLeaving:Ne(s.childLeaving,xr.childLeaving),childPulsate:Ne(s.childPulsate,xr.childPulsate)},timeout:Yy,pulsate:L,rippleX:N,rippleY:g,rippleSize:p},f.current)]),f.current+=1,h.current=y},[s]),T=w.useCallback((R={},L={},N=()=>{})=>{const{pulsate:g=!1,center:p=i||L.pulsate,fakeElement:y=!1}=L;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const C=y?null:b.current,j=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,P,W;if(p||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)A=Math.round(j.width/2),P=Math.round(j.height/2);else{const{clientX:F,clientY:H}=R.touches&&R.touches.length>0?R.touches[0]:R;A=Math.round(F-j.left),P=Math.round(H-j.top)}if(p)W=Math.sqrt((2*j.width**2+j.height**2)/3),W%2===0&&(W+=1);else{const F=Math.max(Math.abs((C?C.clientWidth:0)-A),A)*2+2,H=Math.max(Math.abs((C?C.clientHeight:0)-P),P)*2+2;W=Math.sqrt(F**2+H**2)}R!=null&&R.touches?E.current===null&&(E.current=()=>{I({pulsate:g,rippleX:A,rippleY:P,rippleSize:W,cb:N})},S.start(Hz,()=>{E.current&&(E.current(),E.current=null)})):I({pulsate:g,rippleX:A,rippleY:P,rippleSize:W,cb:N})},[i,I,S]),v=w.useCallback(()=>{T({},{pulsate:!0})},[T]),_=w.useCallback((R,L)=>{if(S.clear(),(R==null?void 0:R.type)==="touchend"&&E.current){E.current(),E.current=null,S.start(0,()=>{_(R,L)});return}E.current=null,c(N=>N.length>0?N.slice(1):N),h.current=L},[S]);return w.useImperativeHandle(n,()=>({pulsate:v,start:T,stop:_}),[v,T,_]),l.jsx(Qz,V({className:Ne(xr.root,s.root,o),ref:b},a,{children:l.jsx(Ix,{component:null,exit:!0,children:u})}))});function Jz(t){return mt("MuiButtonBase",t)}const Zz=ct("MuiButtonBase",["root","disabled","focusVisible"]),eB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],tB=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=bt({root:["root",e&&"disabled",n&&"focusVisible"]},Jz,i);return n&&r&&(o.root+=` ${r}`),o},nB=je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Zz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),WR=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:S="a",onBlur:E,onClick:b,onContextMenu:I,onDragLeave:T,onFocus:v,onFocusVisible:_,onKeyDown:R,onKeyUp:L,onMouseDown:N,onMouseLeave:g,onMouseUp:p,onTouchEnd:y,onTouchMove:C,onTouchStart:j,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:W,type:F}=r,H=Ce(r,eB),B=w.useRef(null),D=w.useRef(null),z=Vn(D,W),{isFocusVisibleRef:q,onFocus:Q,onBlur:Y,ref:J}=CR(),[ie,me]=w.useState(!1);c&&ie&&me(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{me(!0),B.current.focus()}}),[]);const[ve,$]=w.useState(!1);w.useEffect(()=>{$(!0)},[]);const G=ve&&!f&&!c;w.useEffect(()=>{ie&&m&&!f&&ve&&D.current.pulsate()},[f,m,ie,ve]);function U(Te,Et,Ht=h){return eo(Je=>(Et&&Et(Je),!Ht&&D.current&&D.current[Te](Je),!0))}const ne=U("start",N),Z=U("stop",I),te=U("stop",T),ce=U("stop",p),fe=U("stop",Te=>{ie&&Te.preventDefault(),g&&g(Te)}),he=U("start",j),_e=U("stop",y),Xe=U("stop",C),Ee=U("stop",Te=>{Y(Te),q.current===!1&&me(!1),E&&E(Te)},!1),De=eo(Te=>{B.current||(B.current=Te.currentTarget),Q(Te),q.current===!0&&(me(!0),_&&_(Te)),v&&v(Te)}),$e=()=>{const Te=B.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},qe=w.useRef(!1),ht=eo(Te=>{m&&!qe.current&&ie&&D.current&&Te.key===" "&&(qe.current=!0,D.current.stop(Te,()=>{D.current.start(Te)})),Te.target===Te.currentTarget&&$e()&&Te.key===" "&&Te.preventDefault(),R&&R(Te),Te.target===Te.currentTarget&&$e()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),b&&b(Te))}),pt=eo(Te=>{m&&Te.key===" "&&D.current&&ie&&!Te.defaultPrevented&&(qe.current=!1,D.current.stop(Te,()=>{D.current.pulsate(Te)})),L&&L(Te),b&&Te.target===Te.currentTarget&&$e()&&Te.key===" "&&!Te.defaultPrevented&&b(Te)});let Le=u;Le==="button"&&(H.href||H.to)&&(Le=S);const yt={};Le==="button"?(yt.type=F===void 0?"button":F,yt.disabled=c):(!H.href&&!H.to&&(yt.role="button"),c&&(yt["aria-disabled"]=c));const Ie=Vn(n,J,B),Be=V({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:A,focusVisible:ie}),Oe=tB(Be);return l.jsxs(nB,V({as:Le,className:Ne(Oe.root,a),ownerState:Be,onBlur:Ee,onClick:b,onContextMenu:Z,onFocus:De,onKeyDown:ht,onKeyUp:pt,onMouseDown:ne,onMouseLeave:fe,onMouseUp:ce,onDragLeave:te,onTouchEnd:_e,onTouchMove:Xe,onTouchStart:he,ref:Ie,tabIndex:c?-1:A,type:F},yt,H,{children:[o,G?l.jsx(Xz,V({ref:z,center:s},P)):null]}))});function rB(t){return mt("MuiButton",t)}const _d=ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),iB=w.createContext({}),sB=w.createContext(void 0),oB=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],aB=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ke(e)}`,`size${Ke(i)}`,`${s}Size${Ke(i)}`,`color${Ke(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ke(i)}`],endIcon:["icon","endIcon",`iconSize${Ke(i)}`]},u=bt(a,rB,o);return V({},o,u)},HR=t=>V({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),lB=je(WR,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ke(n.color)}`],e[`size${Ke(n.size)}`],e[`${n.variant}Size${Ke(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return V({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Er(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Er(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Er(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${_d.focusVisible}`]:V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${_d.disabled}`]:V({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Er(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${_d.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${_d.disabled}`]:{boxShadow:"none"}}),uB=je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},HR(t))),cB=je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},HR(t))),so=w.forwardRef(function(e,n){const r=w.useContext(iB),i=w.useContext(sB),s=Gu(r,e),o=gt({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:S=!1,endIcon:E,focusVisibleClassName:b,fullWidth:I=!1,size:T="medium",startIcon:v,type:_,variant:R="text"}=o,L=Ce(o,oB),N=V({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:S,fullWidth:I,size:T,type:_,variant:R}),g=aB(N),p=v&&l.jsx(uB,{className:g.startIcon,ownerState:N,children:v}),y=E&&l.jsx(cB,{className:g.endIcon,ownerState:N,children:E}),C=i||"";return l.jsxs(lB,V({ownerState:N,className:Ne(r.className,g.root,f,C),component:c,disabled:h,focusRipple:!S,focusVisibleClassName:Ne(g.focusVisible,b),ref:n,type:_},L,{classes:g,children:[p,a,y]}))}),Y1=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function kx(){const t=Cp(Tx);return t[Ga]||t}function dB(t){return mt("MuiPaper",t)}ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fB=["className","component","elevation","square","variant"],hB=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return bt(s,dB,i)},pB=je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return V({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&V({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Er("#fff",Y1(e.elevation))}, ${Er("#fff",Y1(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Rx=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Ce(r,fB),f=V({},r,{component:s,elevation:o,square:a,variant:u}),h=hB(f);return l.jsx(pB,V({as:s,ownerState:f,className:Ne(h.root,i),ref:n},c))}),mB=["theme"];function gB(t){let{theme:e}=t,n=Ce(t,mB);const r=e[Ga];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=V({},r,{vars:null}):e&&!e.vars&&(i=V({},e,{vars:null}))),l.jsx(gV,V({},n,{themeId:r?Ga:void 0,theme:i}))}const yB=ct("MuiBox",["root"]),vB=Ex(),cn=SF({themeId:Ga,defaultTheme:vB,defaultClassName:yB.root,generateClassName:_R.generate}),xB=["onChange","maxRows","minRows","style","value"];function bd(t){return parseInt(t,10)||0}const _B={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function bB(t){for(const e in t)return!1;return!0}function X1(t){return bB(t)||t.outerHeightStyle===0&&!t.overflowing}const wB=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Ce(e,xB),{current:c}=w.useRef(a!=null),f=w.useRef(null),h=Vn(n,f),m=w.useRef(null),S=w.useRef(null),E=w.useCallback(()=>{const _=f.current,R=S.current;if(!_||!R)return;const N=wo(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=_.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const g=N.boxSizing,p=bd(N.paddingBottom)+bd(N.paddingTop),y=bd(N.borderBottomWidth)+bd(N.borderTopWidth),C=R.scrollHeight;R.value="x";const j=R.scrollHeight;let A=C;s&&(A=Math.max(Number(s)*j,A)),i&&(A=Math.min(Number(i)*j,A)),A=Math.max(A,j);const P=A+(g==="border-box"?p+y:0),W=Math.abs(A-C)<=1;return{outerHeightStyle:P,overflowing:W}},[i,s,e.placeholder]),b=eo(()=>{const _=f.current,R=E();if(!_||!R||X1(R))return!1;const L=R.outerHeightStyle;return m.current!=null&&m.current!==L}),I=w.useCallback(()=>{const _=f.current,R=E();if(!_||!R||X1(R))return;const L=R.outerHeightStyle;m.current!==L&&(m.current=L,_.style.height=`${L}px`),_.style.overflow=R.overflowing?"hidden":""},[E]),T=w.useRef(-1);Gi(()=>{const _=ER(I),R=f==null?void 0:f.current;if(!R)return;const L=wo(R);L.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{b()&&(N.unobserve(R),cancelAnimationFrame(T.current),I(),T.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{_.clear(),cancelAnimationFrame(T.current),L.removeEventListener("resize",_),N&&N.disconnect()}},[E,I,b]),Gi(()=>{I()});const v=_=>{c||I(),r&&r(_)};return l.jsxs(w.Fragment,{children:[l.jsx("textarea",V({value:a,onChange:v,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:V({},_B.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function fl({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Px=w.createContext(void 0);function hl(){return w.useContext(Px)}function qR(t){return l.jsx(xR,V({},t,{defaultTheme:Tx,themeId:Ga}))}function J1(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Zf(t,e=!1){return t&&(J1(t.value)&&t.value!==""||e&&J1(t.defaultValue)&&t.defaultValue!=="")}function SB(t){return t.startAdornment}function EB(t){return mt("MuiInputBase",t)}const Qa=ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),TB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],zp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ke(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Bp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},CB=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:S,type:E}=t,b={root:["root",`color${Ke(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Ke(m)}`,f&&"multiline",S&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",S&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return bt(b,EB,e)},Up=je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:zp})(({theme:t,ownerState:e})=>V({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&V({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Wp=je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Bp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=V({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qa.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Qa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),IB=l.jsx(qR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ax=w.forwardRef(function(e,n){var r;const i=gt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:S,endAdornment:E,fullWidth:b=!1,id:I,inputComponent:T="input",inputProps:v={},inputRef:_,maxRows:R,minRows:L,multiline:N=!1,name:g,onBlur:p,onChange:y,onClick:C,onFocus:j,onKeyDown:A,onKeyUp:P,placeholder:W,readOnly:F,renderSuffix:H,rows:B,slotProps:D={},slots:z={},startAdornment:q,type:Q="text",value:Y}=i,J=Ce(i,TB),ie=v.value!=null?v.value:Y,{current:me}=w.useRef(ie!=null),ve=w.useRef(),$=w.useCallback(Oe=>{},[]),G=Vn(ve,_,v.ref,$),[U,ne]=w.useState(!1),Z=hl(),te=fl({props:i,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=Z?Z.focused:U,w.useEffect(()=>{!Z&&m&&U&&(ne(!1),p&&p())},[Z,m,U,p]);const ce=Z&&Z.onFilled,fe=Z&&Z.onEmpty,he=w.useCallback(Oe=>{Zf(Oe)?ce&&ce():fe&&fe()},[ce,fe]);Gi(()=>{me&&he({value:ie})},[ie,he,me]);const _e=Oe=>{if(te.disabled){Oe.stopPropagation();return}j&&j(Oe),v.onFocus&&v.onFocus(Oe),Z&&Z.onFocus?Z.onFocus(Oe):ne(!0)},Xe=Oe=>{p&&p(Oe),v.onBlur&&v.onBlur(Oe),Z&&Z.onBlur?Z.onBlur(Oe):ne(!1)},Ee=(Oe,...Te)=>{if(!me){const Et=Oe.target||ve.current;if(Et==null)throw new Error(bo(1));he({value:Et.value})}v.onChange&&v.onChange(Oe,...Te),y&&y(Oe,...Te)};w.useEffect(()=>{he(ve.current)},[]);const De=Oe=>{ve.current&&Oe.currentTarget===Oe.target&&ve.current.focus(),C&&C(Oe)};let $e=T,qe=v;N&&$e==="input"&&(B?qe=V({type:void 0,minRows:B,maxRows:B},qe):qe=V({type:void 0,maxRows:R,minRows:L},qe),$e=wB);const ht=Oe=>{he(Oe.animationName==="mui-auto-fill-cancel"?ve.current:{value:"x"})};w.useEffect(()=>{Z&&Z.setAdornedStart(!!q)},[Z,q]);const pt=V({},i,{color:te.color||"primary",disabled:te.disabled,endAdornment:E,error:te.error,focused:te.focused,formControl:Z,fullWidth:b,hiddenLabel:te.hiddenLabel,multiline:N,size:te.size,startAdornment:q,type:Q}),Le=CB(pt),yt=z.root||c.Root||Up,Ie=D.root||f.root||{},Be=z.input||c.Input||Wp;return qe=V({},qe,(r=D.input)!=null?r:f.input),l.jsxs(w.Fragment,{children:[!S&&IB,l.jsxs(yt,V({},Ie,!Qf(yt)&&{ownerState:V({},pt,Ie.ownerState)},{ref:n,onClick:De},J,{className:Ne(Le.root,Ie.className,u,F&&"MuiInputBase-readOnly"),children:[q,l.jsx(Px.Provider,{value:null,children:l.jsx(Be,V({ownerState:pt,"aria-invalid":te.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:te.disabled,id:I,onAnimationStart:ht,name:g,placeholder:W,readOnly:F,required:te.required,rows:B,value:ie,onKeyDown:A,onKeyUp:P,type:Q},qe,!Qf(Be)&&{as:$e,ownerState:V({},pt,qe.ownerState)},{ref:G,className:Ne(Le.input,qe.className,F&&"MuiInputBase-readOnly"),onBlur:Xe,onChange:Ee,onFocus:_e}))}),E,H?H(V({},te,{startAdornment:q})):null]}))]})});function kB(t){return mt("MuiInput",t)}const Nl=V({},Qa,ct("MuiInput",["root","underline","input"])),RB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],PB=t=>{const{classes:e,disableUnderline:n}=t,i=bt({root:["root",!n&&"underline"],input:["input"]},kB,e);return V({},e,i)},AB=je(Up,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...zp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),V({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Nl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Nl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Nl.disabled}, .${Nl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Nl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),jB=je(Wp,{name:"MuiInput",slot:"Input",overridesResolver:Bp})({}),jx=w.forwardRef(function(e,n){var r,i,s,o;const a=gt({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:S=!1,slotProps:E,slots:b={},type:I="text"}=a,T=Ce(a,RB),v=PB(a),R={root:{ownerState:{disableUnderline:u}}},L=E??f?dr(E??f,R):R,N=(r=(i=b.root)!=null?i:c.Root)!=null?r:AB,g=(s=(o=b.input)!=null?o:c.Input)!=null?s:jB;return l.jsx(Ax,V({slots:{root:N,input:g},slotProps:L,fullWidth:h,inputComponent:m,multiline:S,ref:n,type:I},T,{classes:v}))});jx.muiName="Input";function OB(t){return mt("MuiFilledInput",t)}const Us=V({},Qa,ct("MuiFilledInput",["root","underline","input"])),NB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],LB=t=>{const{classes:e,disableUnderline:n}=t,i=bt({root:["root",!n&&"underline"],input:["input"]},OB,e);return V({},e,i)},MB=je(Up,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...zp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Us.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Us.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Us.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Us.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Us.disabled}, .${Us.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Us.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&V({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),DB=je(Wp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Bp})(({theme:t,ownerState:e})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ox=w.forwardRef(function(e,n){var r,i,s,o;const a=gt({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:S,slots:E={},type:b="text"}=a,I=Ce(a,NB),T=V({},a,{fullWidth:f,inputComponent:h,multiline:m,type:b}),v=LB(a),_={root:{ownerState:T},input:{ownerState:T}},R=S??c?dr(_,S??c):_,L=(r=(i=E.root)!=null?i:u.Root)!=null?r:MB,N=(s=(o=E.input)!=null?o:u.Input)!=null?s:DB;return l.jsx(Ax,V({slots:{root:L,input:N},componentsProps:R,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:b},I,{classes:v}))});Ox.muiName="Input";var Z1;const $B=["children","classes","className","label","notched"],FB=je("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Lr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),VB=je("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Lr})(({ownerState:t,theme:e})=>V({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function zB(t){const{className:e,label:n,notched:r}=t,i=Ce(t,$B),s=n!=null&&n!=="",o=V({},t,{notched:r,withLabel:s});return l.jsx(FB,V({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(VB,{ownerState:o,children:s?l.jsx("span",{children:n}):Z1||(Z1=l.jsx("span",{className:"notranslate",children:""}))})}))}function BB(t){return mt("MuiOutlinedInput",t)}const ns=V({},Qa,ct("MuiOutlinedInput",["root","notchedOutline","input"])),UB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],WB=t=>{const{classes:e}=t,r=bt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},BB,e);return V({},e,r)},HB=je(Up,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:zp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ns.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ns.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ns.focused} .${ns.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${ns.error} .${ns.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ns.disabled} .${ns.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&V({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),qB=je(zB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),KB=je(Wp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Bp})(({theme:t,ownerState:e})=>V({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Nx=w.forwardRef(function(e,n){var r,i,s,o,a;const u=gt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:S=!1,notched:E,slots:b={},type:I="text"}=u,T=Ce(u,UB),v=WB(u),_=hl(),R=fl({props:u,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=V({},u,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:_,fullWidth:f,hiddenLabel:R.hiddenLabel,multiline:S,size:R.size,type:I}),N=(r=(i=b.root)!=null?i:c.Root)!=null?r:HB,g=(s=(o=b.input)!=null?o:c.Input)!=null?s:KB;return l.jsx(Ax,V({slots:{root:N,input:g},renderSuffix:p=>l.jsx(qB,{ownerState:L,className:v.notchedOutline,label:m!=null&&m!==""&&R.required?a||(a=l.jsxs(w.Fragment,{children:[m,"","*"]})):m,notched:typeof E<"u"?E:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:S,ref:n,type:I},T,{classes:V({},v,{notchedOutline:null})}))});Nx.muiName="Input";function GB(t){return mt("MuiFormLabel",t)}const pu=ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),QB=["children","className","color","component","disabled","error","filled","focused","required"],YB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${Ke(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return bt(u,GB,e)},XB=je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${pu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${pu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${pu.error}`]:{color:(t.vars||t).palette.error.main}})),JB=je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${pu.error}`]:{color:(t.vars||t).palette.error.main}})),ZB=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ce(r,QB),u=hl(),c=fl({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=V({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=YB(f);return l.jsxs(XB,V({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(JB,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))});function e8(t){return mt("MuiInputLabel",t)}ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const t8=["disableAnimation","margin","shrink","variant","className"],n8=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ke(r)}`,o],asterisk:[a&&"asterisk"]},c=bt(u,e8,e);return V({},e,c)},r8=je(ZB,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${pu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),i8=w.forwardRef(function(e,n){const r=gt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ce(r,t8),u=hl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=fl({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=V({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=n8(h);return l.jsx(r8,V({"data-shrink":c,ownerState:h,ref:n,className:Ne(m.root,o)},a,{classes:m}))});function s8(t){return mt("MuiFormControl",t)}ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const o8=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],a8=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ke(n)}`,r&&"fullWidth"]};return bt(i,s8,e)},l8=je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,e[`margin${Ke(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),KR=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:S="none",required:E=!1,size:b="medium",variant:I="outlined"}=r,T=Ce(r,o8),v=V({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:S,required:E,size:b,variant:I}),_=a8(v),[R,L]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,W=>{if(!Xm(W,["Input","Select"]))return;const F=Xm(W,["Select"])?W.props.input:W;F&&SB(F.props)&&(P=!0)}),P}),[N,g]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,W=>{Xm(W,["Input","Select"])&&(Zf(W.props,!0)||Zf(W.props.inputProps,!0))&&(P=!0)}),P}),[p,y]=w.useState(!1);u&&p&&y(!1);const C=f!==void 0&&!u?f:p;let j;const A=w.useMemo(()=>({adornedStart:R,setAdornedStart:L,color:o,disabled:u,error:c,filled:N,focused:C,fullWidth:h,hiddenLabel:m,size:b,onBlur:()=>{y(!1)},onEmpty:()=>{g(!1)},onFilled:()=>{g(!0)},onFocus:()=>{y(!0)},registerEffect:j,required:E,variant:I}),[R,o,u,c,N,C,h,m,j,E,b,I]);return l.jsx(Px.Provider,{value:A,children:l.jsx(l8,V({as:a,ownerState:v,className:Ne(_.root,s),ref:n},T,{children:i}))})});function u8(t){return mt("MuiFormHelperText",t)}const eS=ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var tS;const c8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],d8=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${Ke(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return bt(c,u8,e)},f8=je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ke(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${eS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${eS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),h8=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ce(r,c8),u=hl(),c=fl({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=V({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=d8(f);return l.jsx(f8,V({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:i===" "?tS||(tS=l.jsx("span",{className:"notranslate",children:""})):i}))}),Xy=w.createContext({});function p8(t){return mt("MuiList",t)}ct("MuiList",["root","padding","dense","subheader"]);const m8=["children","className","component","dense","disablePadding","subheader"],g8=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return bt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},p8,e)},y8=je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),v8=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Ce(r,m8),h=w.useMemo(()=>({dense:a}),[a]),m=V({},r,{component:o,dense:a,disablePadding:u}),S=g8(m);return l.jsx(Xy.Provider,{value:h,children:l.jsxs(y8,V({as:o,className:Ne(S.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),x8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function tg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function nS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function GR(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ll(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!GR(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const _8=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ce(e,x8),S=w.useRef(null),E=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Gi(()=>{i&&S.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:R})=>{const L=!S.current.style.width;if(_.clientHeight<S.current.clientHeight&&L){const N=`${IR(fr(_))}px`;S.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,S.current.style.width=`calc(100% + ${N})`}return S.current}}),[]);const b=_=>{const R=S.current,L=_.key,N=fr(R).activeElement;if(L==="ArrowDown")_.preventDefault(),Ll(R,N,c,u,tg);else if(L==="ArrowUp")_.preventDefault(),Ll(R,N,c,u,nS);else if(L==="Home")_.preventDefault(),Ll(R,null,c,u,tg);else if(L==="End")_.preventDefault(),Ll(R,null,c,u,nS);else if(L.length===1){const g=E.current,p=L.toLowerCase(),y=performance.now();g.keys.length>0&&(y-g.lastTime>500?(g.keys=[],g.repeating=!0,g.previousKeyMatched=!0):g.repeating&&p!==g.keys[0]&&(g.repeating=!1)),g.lastTime=y,g.keys.push(p);const C=N&&!g.repeating&&GR(N,g);g.previousKeyMatched&&(C||Ll(R,N,!1,u,tg,g))?_.preventDefault():g.previousKeyMatched=!1}f&&f(_)},I=Vn(S,n);let T=-1;w.Children.forEach(o,(_,R)=>{if(!w.isValidElement(_)){T===R&&(T+=1,T>=o.length&&(T=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||T===-1)&&(T=R),T===R&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const v=w.Children.map(o,(_,R)=>{if(R===T){const L={};return s&&(L.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(L.tabIndex=0),w.cloneElement(_,L)}return _});return l.jsx(v8,V({role:"menu",ref:I,className:a,onKeyDown:b,tabIndex:i?0:-1},m,{children:v}))}),QR=t=>t.scrollTop;function eh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const b8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Jy(t){return`scale(${t}, ${t**2})`}const w8={entering:{opacity:1,transform:Jy(1)},entered:{opacity:1,transform:"none"}},ng=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),YR=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:S,style:E,timeout:b="auto",TransitionComponent:I=xi}=e,T=Ce(e,b8),v=TR(),_=w.useRef(),R=kx(),L=w.useRef(null),N=Vn(L,Ac(s),n),g=F=>H=>{if(F){const B=L.current;H===void 0?F(B):F(B,H)}},p=g(f),y=g((F,H)=>{QR(F);const{duration:B,delay:D,easing:z}=eh({style:E,timeout:b,easing:o},{mode:"enter"});let q;b==="auto"?(q=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=q):q=B,F.style.transition=[R.transitions.create("opacity",{duration:q,delay:D}),R.transitions.create("transform",{duration:ng?q:q*.666,delay:D,easing:z})].join(","),u&&u(F,H)}),C=g(c),j=g(S),A=g(F=>{const{duration:H,delay:B,easing:D}=eh({style:E,timeout:b,easing:o},{mode:"exit"});let z;b==="auto"?(z=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=z):z=H,F.style.transition=[R.transitions.create("opacity",{duration:z,delay:B}),R.transitions.create("transform",{duration:ng?z:z*.666,delay:ng?B:B||z*.333,easing:D})].join(","),F.style.opacity=0,F.style.transform=Jy(.75),h&&h(F)}),P=g(m),W=F=>{b==="auto"&&v.start(_.current||0,F),r&&r(L.current,F)};return l.jsx(I,V({appear:i,in:a,nodeRef:L,onEnter:y,onEntered:C,onEntering:p,onExit:A,onExited:P,onExiting:j,addEndListener:W,timeout:b==="auto"?null:b},T,{children:(F,H)=>w.cloneElement(s,V({style:V({opacity:0,transform:Jy(.75),visibility:F==="exited"&&!a?"hidden":void 0},w8[F],E,s.props.style),ref:N},H))}))});YR.muiSupportAuto=!0;function S8(t){const e=fr(t);return e.body===t?wo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function mu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function rS(t){return parseInt(wo(t).getComputedStyle(t).paddingRight,10)||0}function E8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function iS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!E8(o);a&&u&&mu(o,i)})}function rg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function T8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(S8(r)){const o=IR(fr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rS(r)+o}px`;const a=fr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${rS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=fr(r).body;else{const o=r.parentElement,a=wo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function C8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class I8{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&mu(e.modalRef,!1);const i=C8(n);iS(n,e.mount,e.modalRef,i,!0);const s=rg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=rg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=T8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=rg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&mu(e.modalRef,n),iS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&mu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const k8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function R8(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function P8(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function A8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||P8(t))}function j8(t){const e=[],n=[];return Array.from(t.querySelectorAll(k8)).forEach((r,i)=>{const s=R8(r);s===-1||!A8(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function O8(){return!0}function N8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=j8,isEnabled:o=O8,open:a}=t,u=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),h=w.useRef(null),m=w.useRef(null),S=w.useRef(!1),E=w.useRef(null),b=Vn(Ac(e),E),I=w.useRef(null);w.useEffect(()=>{!a||!E.current||(S.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!E.current)return;const _=fr(E.current);return E.current.contains(_.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),S.current&&E.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),w.useEffect(()=>{if(!a||!E.current)return;const _=fr(E.current),R=g=>{I.current=g,!(r||!o()||g.key!=="Tab")&&_.activeElement===E.current&&g.shiftKey&&(u.current=!0,f.current&&f.current.focus())},L=()=>{const g=E.current;if(g===null)return;if(!_.hasFocus()||!o()||u.current){u.current=!1;return}if(g.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==f.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!S.current)return;let p=[];if((_.activeElement===c.current||_.activeElement===f.current)&&(p=s(E.current)),p.length>0){var y,C;const j=!!((y=I.current)!=null&&y.shiftKey&&((C=I.current)==null?void 0:C.key)==="Tab"),A=p[0],P=p[p.length-1];typeof A!="string"&&typeof P!="string"&&(j?P.focus():A.focus())}else g.focus()};_.addEventListener("focusin",L),_.addEventListener("keydown",R,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",L),_.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const T=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0,m.current=_.target;const R=e.props.onFocus;R&&R(_)},v=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0};return l.jsxs(w.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:b,onFocus:T}),l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:f,"data-testid":"sentinelEnd"})]})}function L8(t){return typeof t=="function"?t():t}const M8=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),u=Vn(w.isValidElement(r)?Ac(r):null,n);if(Gi(()=>{s||a(L8(i)||document.body)},[i,s]),Gi(()=>{if(o&&!s)return Hy(n,o),()=>{Hy(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const c={ref:u};return w.cloneElement(r,c)}return l.jsx(w.Fragment,{children:r})}return l.jsx(w.Fragment,{children:o&&i0.createPortal(r,o)})}),D8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$8={entering:{opacity:1},entered:{opacity:1}},F8=w.forwardRef(function(e,n){const r=kx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:S,onExited:E,onExiting:b,style:I,timeout:T=i,TransitionComponent:v=xi}=e,_=Ce(e,D8),R=w.useRef(null),L=Vn(R,Ac(a),n),N=W=>F=>{if(W){const H=R.current;F===void 0?W(H):W(H,F)}},g=N(m),p=N((W,F)=>{QR(W);const H=eh({style:I,timeout:T,easing:u},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",H),W.style.transition=r.transitions.create("opacity",H),f&&f(W,F)}),y=N(h),C=N(b),j=N(W=>{const F=eh({style:I,timeout:T,easing:u},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",F),W.style.transition=r.transitions.create("opacity",F),S&&S(W)}),A=N(E),P=W=>{s&&s(R.current,W)};return l.jsx(v,V({appear:o,in:c,nodeRef:R,onEnter:p,onEntered:y,onEntering:g,onExit:j,onExited:A,onExiting:C,addEndListener:P,timeout:T},_,{children:(W,F)=>w.cloneElement(a,V({style:V({opacity:0,visibility:W==="exited"&&!c?"hidden":void 0},$8[W],I,a.props.style),ref:L},F))}))});function V8(t){return mt("MuiBackdrop",t)}ct("MuiBackdrop",["root","invisible"]);const z8=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],B8=t=>{const{classes:e,invisible:n}=t;return bt({root:["root",n&&"invisible"]},V8,e)},U8=je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),W8=w.forwardRef(function(e,n){var r,i,s;const o=gt({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:S,slotProps:E={},slots:b={},TransitionComponent:I=F8,transitionDuration:T}=o,v=Ce(o,z8),_=V({},o,{component:c,invisible:m}),R=B8(_),L=(r=E.root)!=null?r:h.root;return l.jsx(I,V({in:S,timeout:T},v,{children:l.jsx(U8,V({"aria-hidden":!0},L,{as:(i=(s=b.root)!=null?s:f.Root)!=null?i:c,className:Ne(R.root,u,L==null?void 0:L.className),ownerState:V({},_,L==null?void 0:L.ownerState),classes:R,ref:n,children:a}))}))});function H8(t){return typeof t=="function"?t():t}function q8(t){return t?t.props.hasOwnProperty("in"):!1}const K8=new I8;function G8(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=K8,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=w.useRef({}),S=w.useRef(null),E=w.useRef(null),b=Vn(E,h),[I,T]=w.useState(!f),v=q8(u);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const R=()=>fr(S.current),L=()=>(m.current.modalRef=E.current,m.current.mount=S.current,m.current),N=()=>{i.mount(L(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},g=eo(()=>{const H=H8(e)||R().body;i.add(L(),H),E.current&&N()}),p=w.useCallback(()=>i.isTopModal(L()),[i]),y=eo(H=>{S.current=H,H&&(f&&p()?N():E.current&&mu(E.current,_))}),C=w.useCallback(()=>{i.remove(L(),_)},[_,i]);w.useEffect(()=>()=>{C()},[C]),w.useEffect(()=>{f?g():(!v||!s)&&C()},[f,C,v,s,g]);const j=H=>B=>{var D;(D=H.onKeyDown)==null||D.call(H,B),!(B.key!=="Escape"||B.which===229||!p())&&(n||(B.stopPropagation(),c&&c(B,"escapeKeyDown")))},A=H=>B=>{var D;(D=H.onClick)==null||D.call(H,B),B.target===B.currentTarget&&c&&c(B,"backdropClick")};return{getRootProps:(H={})=>{const B=kR(t);delete B.onTransitionEnter,delete B.onTransitionExited;const D=V({},B,H);return V({role:"presentation"},D,{onKeyDown:j(D),ref:b})},getBackdropProps:(H={})=>{const B=H;return V({"aria-hidden":!0},B,{onClick:A(B),open:f})},getTransitionProps:()=>{const H=()=>{T(!1),o&&o()},B=()=>{T(!0),a&&a(),s&&C()};return{onEnter:k1(H,u==null?void 0:u.props.onEnter),onExited:k1(B,u==null?void 0:u.props.onExited)}},rootRef:b,portalRef:y,isTopModal:p,exited:I,hasTransition:v}}function Q8(t){return mt("MuiModal",t)}ct("MuiModal",["root","hidden","backdrop"]);const Y8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],X8=t=>{const{open:e,exited:n,classes:r}=t;return bt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Q8,r)},J8=je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>V({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Z8=je(W8,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),eU=w.forwardRef(function(e,n){var r,i,s,o,a,u;const c=gt({name:"MuiModal",props:e}),{BackdropComponent:f=Z8,BackdropProps:h,className:m,closeAfterTransition:S=!1,children:E,container:b,component:I,components:T={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:L=!1,disablePortal:N=!1,disableRestoreFocus:g=!1,disableScrollLock:p=!1,hideBackdrop:y=!1,keepMounted:C=!1,onBackdropClick:j,open:A,slotProps:P,slots:W}=c,F=Ce(c,Y8),H=V({},c,{closeAfterTransition:S,disableAutoFocus:_,disableEnforceFocus:R,disableEscapeKeyDown:L,disablePortal:N,disableRestoreFocus:g,disableScrollLock:p,hideBackdrop:y,keepMounted:C}),{getRootProps:B,getBackdropProps:D,getTransitionProps:z,portalRef:q,isTopModal:Q,exited:Y,hasTransition:J}=G8(V({},H,{rootRef:n})),ie=V({},H,{exited:Y}),me=X8(ie),ve={};if(E.props.tabIndex===void 0&&(ve.tabIndex="-1"),J){const{onEnter:ce,onExited:fe}=z();ve.onEnter=ce,ve.onExited=fe}const $=(r=(i=W==null?void 0:W.root)!=null?i:T.Root)!=null?r:J8,G=(s=(o=W==null?void 0:W.backdrop)!=null?o:T.Backdrop)!=null?s:f,U=(a=P==null?void 0:P.root)!=null?a:v.root,ne=(u=P==null?void 0:P.backdrop)!=null?u:v.backdrop,Z=Ka({elementType:$,externalSlotProps:U,externalForwardedProps:F,getSlotProps:B,additionalProps:{ref:n,as:I},ownerState:ie,className:Ne(m,U==null?void 0:U.className,me==null?void 0:me.root,!ie.open&&ie.exited&&(me==null?void 0:me.hidden))}),te=Ka({elementType:G,externalSlotProps:ne,additionalProps:h,getSlotProps:ce=>D(V({},ce,{onClick:fe=>{j&&j(fe),ce!=null&&ce.onClick&&ce.onClick(fe)}})),className:Ne(ne==null?void 0:ne.className,h==null?void 0:h.className,me==null?void 0:me.backdrop),ownerState:ie});return!C&&!A&&(!J||Y)?null:l.jsx(M8,{ref:q,container:b,disablePortal:N,children:l.jsxs($,V({},Z,{children:[!y&&f?l.jsx(G,V({},te)):null,l.jsx(N8,{disableEnforceFocus:R,disableAutoFocus:_,disableRestoreFocus:g,isEnabled:Q,open:A,children:w.cloneElement(E,ve)})]}))})});function tU(t){return mt("MuiPopover",t)}ct("MuiPopover",["root","paper"]);const nU=["onEntering"],rU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iU=["slotProps"];function sS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function oS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function aS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ig(t){return typeof t=="function"?t():t}const sU=t=>{const{classes:e}=t;return bt({root:["root"],paper:["paper"]},tU,e)},oU=je(eU,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),XR=je(Rx,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),aU=w.forwardRef(function(e,n){var r,i,s;const o=gt({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:S,container:E,elevation:b=8,marginThreshold:I=16,open:T,PaperProps:v={},slots:_,slotProps:R,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:N=YR,transitionDuration:g="auto",TransitionProps:{onEntering:p}={},disableScrollLock:y=!1}=o,C=Ce(o.TransitionProps,nU),j=Ce(o,rU),A=(r=R==null?void 0:R.paper)!=null?r:v,P=w.useRef(),W=Vn(P,A.ref),F=V({},o,{anchorOrigin:c,anchorReference:h,elevation:b,marginThreshold:I,externalPaperSlotProps:A,transformOrigin:L,TransitionComponent:N,transitionDuration:g,TransitionProps:C}),H=sU(F),B=w.useCallback(()=>{if(h==="anchorPosition")return f;const ce=ig(u),he=(ce&&ce.nodeType===1?ce:fr(P.current).body).getBoundingClientRect();return{top:he.top+sS(he,c.vertical),left:he.left+oS(he,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),D=w.useCallback(ce=>({vertical:sS(ce,L.vertical),horizontal:oS(ce,L.horizontal)}),[L.horizontal,L.vertical]),z=w.useCallback(ce=>{const fe={width:ce.offsetWidth,height:ce.offsetHeight},he=D(fe);if(h==="none")return{top:null,left:null,transformOrigin:aS(he)};const _e=B();let Xe=_e.top-he.vertical,Ee=_e.left-he.horizontal;const De=Xe+fe.height,$e=Ee+fe.width,qe=wo(ig(u)),ht=qe.innerHeight-I,pt=qe.innerWidth-I;if(I!==null&&Xe<I){const Le=Xe-I;Xe-=Le,he.vertical+=Le}else if(I!==null&&De>ht){const Le=De-ht;Xe-=Le,he.vertical+=Le}if(I!==null&&Ee<I){const Le=Ee-I;Ee-=Le,he.horizontal+=Le}else if($e>pt){const Le=$e-pt;Ee-=Le,he.horizontal+=Le}return{top:`${Math.round(Xe)}px`,left:`${Math.round(Ee)}px`,transformOrigin:aS(he)}},[u,h,B,D,I]),[q,Q]=w.useState(T),Y=w.useCallback(()=>{const ce=P.current;if(!ce)return;const fe=z(ce);fe.top!==null&&(ce.style.top=fe.top),fe.left!==null&&(ce.style.left=fe.left),ce.style.transformOrigin=fe.transformOrigin,Q(!0)},[z]);w.useEffect(()=>(y&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[u,y,Y]);const J=(ce,fe)=>{p&&p(ce,fe),Y()},ie=()=>{Q(!1)};w.useEffect(()=>{T&&Y()}),w.useImperativeHandle(a,()=>T?{updatePosition:()=>{Y()}}:null,[T,Y]),w.useEffect(()=>{if(!T)return;const ce=ER(()=>{Y()}),fe=wo(u);return fe.addEventListener("resize",ce),()=>{ce.clear(),fe.removeEventListener("resize",ce)}},[u,T,Y]);let me=g;g==="auto"&&!N.muiSupportAuto&&(me=void 0);const ve=E||(u?fr(ig(u)).body:void 0),$=(i=_==null?void 0:_.root)!=null?i:oU,G=(s=_==null?void 0:_.paper)!=null?s:XR,U=Ka({elementType:G,externalSlotProps:V({},A,{style:q?A.style:V({},A.style,{opacity:0})}),additionalProps:{elevation:b,ref:W},ownerState:F,className:Ne(H.paper,A==null?void 0:A.className)}),ne=Ka({elementType:$,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ve,open:T},ownerState:F,className:Ne(H.root,S)}),{slotProps:Z}=ne,te=Ce(ne,iU);return l.jsx($,V({},te,!Qf($)&&{slotProps:Z,disableScrollLock:y},{children:l.jsx(N,V({appear:!0,in:T,onEntering:J,onExited:ie,timeout:me},C,{children:l.jsx(G,V({},U,{children:m}))}))}))});function lU(t){return mt("MuiMenu",t)}ct("MuiMenu",["root","paper","list"]);const uU=["onEntering"],cU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],dU={vertical:"top",horizontal:"right"},fU={vertical:"top",horizontal:"left"},hU=t=>{const{classes:e}=t;return bt({root:["root"],paper:["paper"],list:["list"]},lU,e)},pU=je(aU,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mU=je(XR,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gU=je(_8,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),yU=w.forwardRef(function(e,n){var r,i;const s=gt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:S={},PopoverClasses:E,transitionDuration:b="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:v={},slotProps:_={}}=s,R=Ce(s.TransitionProps,uU),L=Ce(s,cU),N=dV(),g=V({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:S,transitionDuration:b,TransitionProps:R,variant:T}),p=hU(g),y=o&&!c&&m,C=w.useRef(null),j=(D,z)=>{C.current&&C.current.adjustStyleForScrollbar(D,{direction:N?"rtl":"ltr"}),I&&I(D,z)},A=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let P=-1;w.Children.map(a,(D,z)=>{w.isValidElement(D)&&(D.props.disabled||(T==="selectedMenu"&&D.props.selected||P===-1)&&(P=z))});const W=(r=v.paper)!=null?r:mU,F=(i=_.paper)!=null?i:S,H=Ka({elementType:v.root,externalSlotProps:_.root,ownerState:g,className:[p.root,u]}),B=Ka({elementType:W,externalSlotProps:F,ownerState:g,className:p.paper});return l.jsx(pU,V({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?dU:fU,slots:{paper:W,root:v.root},slotProps:{root:H,paper:B},open:m,ref:n,transitionDuration:b,TransitionProps:V({onEntering:j},R),ownerState:g},L,{classes:E,children:l.jsx(gU,V({onKeyDown:A,actions:C,autoFocus:o&&(P===-1||c),autoFocusItem:y,variant:T},f,{className:Ne(p.list,f.className),children:a}))}))});function vU(t){return mt("MuiNativeSelect",t)}const Lx=ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xU=["className","disabled","error","IconComponent","inputRef","variant"],_U=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,s&&"iconOpen",r&&"disabled"]};return bt(a,vU,e)},JR=({ownerState:t,theme:e})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Lx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),bU=je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Lr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Lx.multiple}`]:e.multiple}]}})(JR),ZR=({ownerState:t,theme:e})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Lx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),wU=je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ke(n.variant)}`],n.open&&e.iconOpen]}})(ZR),SU=w.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Ce(e,xU),f=V({},e,{disabled:i,variant:u,error:s}),h=_U(f);return l.jsxs(w.Fragment,{children:[l.jsx(bU,V({ownerState:f,className:Ne(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(wU,{as:o,ownerState:f,className:h.icon})]})});function EU(t){return mt("MuiSelect",t)}const Ml=ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var lS;const TU=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],CU=je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ml.select}`]:e.select},{[`&.${Ml.select}`]:e[n.variant]},{[`&.${Ml.error}`]:e.error},{[`&.${Ml.multiple}`]:e.multiple}]}})(JR,{[`&.${Ml.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),IU=je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ke(n.variant)}`],n.open&&e.iconOpen]}})(ZR),kU=je("input",{shouldForwardProp:t=>BR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function uS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function RU(t){return t==null||typeof t=="string"&&!t.trim()}const PU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return bt(a,EU,e)},AU=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:S,error:E=!1,IconComponent:b,inputRef:I,labelId:T,MenuProps:v={},multiple:_,name:R,onBlur:L,onChange:N,onClose:g,onFocus:p,onOpen:y,open:C,readOnly:j,renderValue:A,SelectDisplayProps:P={},tabIndex:W,value:F,variant:H="standard"}=e,B=Ce(e,TU),[D,z]=A1({controlled:F,default:h,name:"Select"}),[q,Q]=A1({controlled:C,default:f,name:"Select"}),Y=w.useRef(null),J=w.useRef(null),[ie,me]=w.useState(null),{current:ve}=w.useRef(C!=null),[$,G]=w.useState(),U=Vn(n,I),ne=w.useCallback(we=>{J.current=we,we&&me(we)},[]),Z=ie==null?void 0:ie.parentNode;w.useImperativeHandle(U,()=>({focus:()=>{J.current.focus()},node:Y.current,value:D}),[D]),w.useEffect(()=>{f&&q&&ie&&!ve&&(G(a?null:Z.clientWidth),J.current.focus())},[ie,a]),w.useEffect(()=>{o&&J.current.focus()},[o]),w.useEffect(()=>{if(!T)return;const we=fr(J.current).getElementById(T);if(we){const nt=()=>{getSelection().isCollapsed&&J.current.focus()};return we.addEventListener("click",nt),()=>{we.removeEventListener("click",nt)}}},[T]);const te=(we,nt)=>{we?y&&y(nt):g&&g(nt),ve||(G(a?null:Z.clientWidth),Q(we))},ce=we=>{we.button===0&&(we.preventDefault(),J.current.focus(),te(!0,we))},fe=we=>{te(!1,we)},he=w.Children.toArray(u),_e=we=>{const nt=he.find(He=>He.props.value===we.target.value);nt!==void 0&&(z(nt.props.value),N&&N(we,nt))},Xe=we=>nt=>{let He;if(nt.currentTarget.hasAttribute("tabindex")){if(_){He=Array.isArray(D)?D.slice():[];const Qr=D.indexOf(we.props.value);Qr===-1?He.push(we.props.value):He.splice(Qr,1)}else He=we.props.value;if(we.props.onClick&&we.props.onClick(nt),D!==He&&(z(He),N)){const Qr=nt.nativeEvent||nt,No=new Qr.constructor(Qr.type,Qr);Object.defineProperty(No,"target",{writable:!0,value:{value:He,name:R}}),N(No,we)}_||te(!1,nt)}},Ee=we=>{j||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),te(!0,we))},De=ie!==null&&q,$e=we=>{!De&&L&&(Object.defineProperty(we,"target",{writable:!0,value:{value:D,name:R}}),L(we))};delete B["aria-invalid"];let qe,ht;const pt=[];let Le=!1;(Zf({value:D})||S)&&(A?qe=A(D):Le=!0);const yt=he.map(we=>{if(!w.isValidElement(we))return null;let nt;if(_){if(!Array.isArray(D))throw new Error(bo(2));nt=D.some(He=>uS(He,we.props.value)),nt&&Le&&pt.push(we.props.children)}else nt=uS(D,we.props.value),nt&&Le&&(ht=we.props.children);return w.cloneElement(we,{"aria-selected":nt?"true":"false",onClick:Xe(we),onKeyUp:He=>{He.key===" "&&He.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(He)},role:"option",selected:nt,value:void 0,"data-value":we.props.value})});Le&&(_?pt.length===0?qe=null:qe=pt.reduce((we,nt,He)=>(we.push(nt),He<pt.length-1&&we.push(", "),we),[]):qe=ht);let Ie=$;!a&&ve&&ie&&(Ie=Z.clientWidth);let Be;typeof W<"u"?Be=W:Be=m?null:0;const Oe=P.id||(R?`mui-component-select-${R}`:void 0),Te=V({},e,{variant:H,value:D,open:De,error:E}),Et=PU(Te),Ht=V({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Je=_x();return l.jsxs(w.Fragment,{children:[l.jsx(CU,V({ref:ne,tabIndex:Be,role:"combobox","aria-controls":Je,"aria-disabled":m?"true":void 0,"aria-expanded":De?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[T,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ee,onMouseDown:m||j?null:ce,onBlur:$e,onFocus:p},P,{ownerState:Te,className:Ne(P.className,Et.select,c),id:Oe,children:RU(qe)?lS||(lS=l.jsx("span",{className:"notranslate",children:""})):qe})),l.jsx(kU,V({"aria-invalid":E,value:Array.isArray(D)?D.join(","):D,name:R,ref:Y,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:m,className:Et.nativeInput,autoFocus:o,ownerState:Te},B)),l.jsx(IU,{as:b,className:Et.icon,ownerState:Te}),l.jsx(yU,V({id:`menu-${R||""}`,anchorEl:Z,open:De,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:V({"aria-labelledby":T,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Je},v.MenuListProps),slotProps:V({},v.slotProps,{paper:V({},Ht,{style:V({minWidth:Ie},Ht!=null?Ht.style:null)})}),children:yt}))]})});function jU(t){return mt("MuiSvgIcon",t)}ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],NU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ke(e)}`,`fontSize${Ke(n)}`]};return bt(i,jU,r)},LU=je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ke(n.color)}`],e[`fontSize${Ke(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[e.color]}}),Zy=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,S=Ce(r,OU),E=w.isValidElement(i)&&i.type==="svg",b=V({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:E}),I={};f||(I.viewBox=m);const T=NU(b);return l.jsxs(LU,V({as:a,className:Ne(T.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,S,E&&i.props,{ownerState:b,children:[E?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});Zy.muiName="SvgIcon";function MU(t,e){function n(r,i){return l.jsx(Zy,V({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Zy.muiName,w.memo(w.forwardRef(n))}const DU=MU(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),$U=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],FU=["root"],VU=t=>{const{classes:e}=t;return e},Mx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Lr(t)&&t!=="variant",slot:"Root"},zU=je(jx,Mx)(""),BU=je(Nx,Mx)(""),UU=je(Ox,Mx)(""),Dx=w.forwardRef(function(e,n){const r=gt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=DU,id:h,input:m,inputProps:S,label:E,labelId:b,MenuProps:I,multiple:T=!1,native:v=!1,onClose:_,onOpen:R,open:L,renderValue:N,SelectDisplayProps:g,variant:p="outlined"}=r,y=Ce(r,$U),C=v?SU:AU,j=hl(),A=fl({props:r,muiFormControl:j,states:["variant","error"]}),P=A.variant||p,W=V({},r,{variant:P,classes:o}),F=VU(W),H=Ce(F,FU),B=m||{standard:l.jsx(zU,{ownerState:W}),outlined:l.jsx(BU,{label:E,ownerState:W}),filled:l.jsx(UU,{ownerState:W})}[P],D=Vn(n,Ac(B));return l.jsx(w.Fragment,{children:w.cloneElement(B,V({inputComponent:C,inputProps:V({children:s,error:A.error,IconComponent:f,variant:P,type:void 0,multiple:T},v?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:b,MenuProps:I,onClose:_,onOpen:R,open:L,renderValue:N,SelectDisplayProps:V({id:h},g)},S,{classes:S?dr(H,S.classes):H},m?m.props.inputProps:{})},(T&&v||c)&&P==="outlined"?{notched:!0}:{},{ref:D,className:Ne(B.props.className,a,F.root)},!m&&{variant:P},y))})});Dx.muiName="Select";function WU(t){return mt("MuiTextField",t)}ct("MuiTextField",["root"]);const HU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],qU={standard:jx,filled:Ox,outlined:Nx},KU=t=>{const{classes:e}=t;return bt({root:["root"]},WU,e)},GU=je(KR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rs=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:S=!1,helperText:E,id:b,InputLabelProps:I,inputProps:T,InputProps:v,inputRef:_,label:R,maxRows:L,minRows:N,multiline:g=!1,name:p,onBlur:y,onChange:C,onFocus:j,placeholder:A,required:P=!1,rows:W,select:F=!1,SelectProps:H,type:B,value:D,variant:z="outlined"}=r,q=Ce(r,HU),Q=V({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:S,multiline:g,required:P,select:F,variant:z}),Y=KU(Q),J={};z==="outlined"&&(I&&typeof I.shrink<"u"&&(J.notched=I.shrink),J.label=R),F&&((!H||!H.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const ie=_x(b),me=E&&ie?`${ie}-helper-text`:void 0,ve=R&&ie?`${ie}-label`:void 0,$=qU[z],G=l.jsx($,V({"aria-describedby":me,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:S,multiline:g,name:p,rows:W,maxRows:L,minRows:N,type:B,value:D,id:ie,inputRef:_,onBlur:y,onChange:C,onFocus:j,placeholder:A,inputProps:T},J,v));return l.jsxs(GU,V({className:Ne(Y.root,a),disabled:f,error:h,fullWidth:S,ref:n,required:P,color:u,variant:z,ownerState:Q},q,{children:[R!=null&&R!==""&&l.jsx(i8,V({htmlFor:ie,id:ve},I,{children:R})),F?l.jsx(Dx,V({"aria-describedby":me,id:ie,labelId:ve,value:D,input:G},H,{children:o})):G,E&&l.jsx(h8,V({id:me},m,{children:E}))]}))});function QU(t){return mt("MuiCard",t)}ct("MuiCard",["root"]);const YU=["className","raised"],XU=t=>{const{classes:e}=t;return bt({root:["root"]},QU,e)},JU=je(Rx,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),gu=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ce(r,YU),a=V({},r,{raised:s}),u=XU(a);return l.jsx(JU,V({className:Ne(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function ZU(t){return mt("MuiCardContent",t)}ct("MuiCardContent",["root"]);const e9=["className","component"],t9=t=>{const{classes:e}=t;return bt({root:["root"]},ZU,e)},n9=je("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),yu=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ce(r,e9),a=V({},r,{component:s}),u=t9(a);return l.jsx(n9,V({as:s,className:Ne(u.root,i),ownerState:a,ref:n},o))});function r9(t){return mt("MuiCardMedia",t)}ct("MuiCardMedia",["root","media","img"]);const i9=["children","className","component","image","src","style"],s9=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return bt({root:["root",n&&"media",r&&"img"]},r9,e)},o9=je("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>V({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),a9=["video","audio","picture","iframe","img"],l9=["picture","img"],cS=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Ce(r,i9),h=a9.indexOf(o)!==-1,m=!h&&a?V({backgroundImage:`url("${a}")`},c):c,S=V({},r,{component:o,isMediaComponent:h,isImageComponent:l9.indexOf(o)!==-1}),E=s9(S);return l.jsx(o9,V({className:Ne(E.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:S,src:h?a||u:void 0},f,{children:i}))});var eP={},tP={},Hp={},nP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(nP);var u9="Expected a function",dS=NaN,c9="[object Symbol]",d9=/^\s+|\s+$/g,f9=/^[-+]0x[0-9a-f]+$/i,h9=/^0b[01]+$/i,p9=/^0o[0-7]+$/i,m9=parseInt,g9=typeof Vl=="object"&&Vl&&Vl.Object===Object&&Vl,y9=typeof self=="object"&&self&&self.Object===Object&&self,v9=g9||y9||Function("return this")(),x9=Object.prototype,_9=x9.toString,b9=Math.max,w9=Math.min,sg=function(){return v9.Date.now()};function S9(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(u9);e=fS(e)||0,ev(n)&&(f=!!n.leading,h="maxWait"in n,s=h?b9(fS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function S(N){var g=r,p=i;return r=i=void 0,c=N,o=t.apply(p,g),o}function E(N){return c=N,a=setTimeout(T,e),f?S(N):o}function b(N){var g=N-u,p=N-c,y=e-g;return h?w9(y,s-p):y}function I(N){var g=N-u,p=N-c;return u===void 0||g>=e||g<0||h&&p>=s}function T(){var N=sg();if(I(N))return v(N);a=setTimeout(T,b(N))}function v(N){return a=void 0,m&&r?S(N):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function R(){return a===void 0?o:v(sg())}function L(){var N=sg(),g=I(N);if(r=arguments,i=this,u=N,g){if(a===void 0)return E(u);if(h)return a=setTimeout(T,e),S(u)}return a===void 0&&(a=setTimeout(T,e)),o}return L.cancel=_,L.flush=R,L}function ev(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function E9(t){return!!t&&typeof t=="object"}function T9(t){return typeof t=="symbol"||E9(t)&&_9.call(t)==c9}function fS(t){if(typeof t=="number")return t;if(T9(t))return dS;if(ev(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ev(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(d9,"");var n=h9.test(t);return n||p9.test(t)?m9(t.slice(2),n?2:8):f9.test(t)?dS:+t}var C9=S9,rP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rP);var qp=rP.exports,ue={},$x={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(w);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})($x);Object.defineProperty(ue,"__esModule",{value:!0});ue.checkSpecKeys=ue.checkNavigable=ue.changeSlide=ue.canUseDOM=ue.canGoNext=void 0;ue.clamp=sP;ue.extractObject=void 0;ue.filterSettings=z9;ue.validSettings=ue.swipeStart=ue.swipeMove=ue.swipeEnd=ue.slidesOnRight=ue.slidesOnLeft=ue.slideHandler=ue.siblingDirection=ue.safePreventDefault=ue.lazyStartIndex=ue.lazySlidesOnRight=ue.lazySlidesOnLeft=ue.lazyEndIndex=ue.keyHandler=ue.initializedState=ue.getWidth=ue.getTrackLeft=ue.getTrackCSS=ue.getTrackAnimateCSS=ue.getTotalSlides=ue.getSwipeDirection=ue.getSlideCount=ue.getRequiredLazySlides=ue.getPreClones=ue.getPostClones=ue.getOnDemandLazySlides=ue.getNavigableIndexes=ue.getHeight=void 0;var I9=iP(w),k9=iP($x);function iP(t){return t&&t.__esModule?t:{default:t}}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){R9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R9(t,e,n){return(e=P9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P9(t){var e=A9(t,"string");return Yu(e)=="symbol"?e:e+""}function A9(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sP(t,e,n){return Math.max(e,Math.min(t,n))}var Ca=ue.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},oP=ue.getOnDemandLazySlides=function(e){for(var n=[],r=aP(e),i=lP(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};ue.getRequiredLazySlides=function(e){for(var n=[],r=aP(e),i=lP(e),s=r;s<i;s++)n.push(s);return n};var aP=ue.lazyStartIndex=function(e){return e.currentSlide-j9(e)},lP=ue.lazyEndIndex=function(e){return e.currentSlide+O9(e)},j9=ue.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},O9=ue.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},tv=ue.getWidth=function(e){return e&&e.offsetWidth||0},uP=ue.getHeight=function(e){return e&&e.offsetHeight||0},cP=ue.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},dP=ue.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};ue.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};ue.initializedState=function(e){var n=I9.default.Children.count(e.children),r=e.listRef,i=Math.ceil(tv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(tv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&uP(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],S=oP(Ot(Ot({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(S);var E={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(E.autoplaying="playing"),E};ue.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,S=e.useCSS,E=e.lazyLoadedList;if(n&&r)return{};var b=o,I,T,v,_={},R={},L=s?o:sP(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?b=o+a:o>=a&&(b=o-a),u&&E.indexOf(b)<0&&(E=E.concat(b)),_={animating:!0,currentSlide:b,lazyLoadedList:E,targetSlide:b},R={animating:!1,targetSlide:b}}else I=b,b<0?(I=b+a,s?a%h!==0&&(I=a-a%h):I=0):!dP(e)&&b>c?b=I=c:f&&b>=a?(b=s?a:a-1,I=s?0:a-1):b>=a&&(I=b-a,s?a%h!==0&&(I=0):I=a-m),!s&&b+m>=a&&(I=a-m),T=nh(Ot(Ot({},e),{},{slideIndex:b})),v=nh(Ot(Ot({},e),{},{slideIndex:I})),s||(T===v&&(b=I),T=v),u&&(E=E.concat(oP(Ot(Ot({},e),{},{currentSlide:b})))),S?(_={animating:!0,currentSlide:I,trackStyle:fP(Ot(Ot({},e),{},{left:T})),lazyLoadedList:E,targetSlide:L},R={animating:!1,currentSlide:I,trackStyle:th(Ot(Ot({},e),{},{left:v})),swipeLeft:null,targetSlide:L}):_={currentSlide:I,trackStyle:th(Ot(Ot({},e),{},{left:v})),lazyLoadedList:E,targetSlide:L};return{state:_,nextState:R}};ue.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,S=e.lazyLoad,E=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,S&&!E&&(i=h-s,a=i===-1?f-1:i),E||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,S&&!E&&(a=(h+u)%f+r),E||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,E){var b=D9(Ot(Ot({},e),{},{targetSlide:a}));a>n.currentSlide&&b==="left"?a=a-f:a<n.currentSlide&&b==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};ue.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};ue.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Ca(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};ue.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,S=n.swiped,E=n.swiping,b=n.slideCount,I=n.slidesToScroll,T=n.infinite,v=n.touchObject,_=n.swipeEvent,R=n.listHeight,L=n.listWidth;if(!r){if(i)return Ca(e);s&&o&&a&&Ca(e);var N,g={},p=nh(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var y=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!E&&y>10)return{scrolling:!0};a&&(v.swipeLength=y);var C=(u?-1:1)*(v.curX>v.startX?1:-1);a&&(C=v.curY>v.startY?1:-1);var j=Math.ceil(b/I),A=cP(n.touchObject,a),P=v.swipeLength;return T||(c===0&&(A==="right"||A==="down")||c+1>=j&&(A==="left"||A==="up")||!dP(n)&&(A==="left"||A==="up"))&&(P=v.swipeLength*f,h===!1&&m&&(m(A),g.edgeDragged=!0)),!S&&_&&(_(A),g.swiped=!0),s?N=p+P*(R/L)*C:u?N=p-P*C:N=p+P*C,a&&(N=p+P*C),g=Ot(Ot({},g),{},{touchObject:v,swipeLeft:N,trackStyle:th(Ot(Ot({},n),{},{left:N}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(g.swiping=!0,Ca(e)),g}};ue.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,S=n.targetSlide,E=n.currentSlide,b=n.infinite;if(!r)return i&&Ca(e),{};var I=u?c/a:o/a,T=cP(s,u),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>I){Ca(e),m&&m(T);var _,R,L=b?E:S;switch(T){case"left":case"up":R=L+mS(n),_=f?pS(n,R):R,v.currentDirection=0;break;case"right":case"down":R=L-mS(n),_=f?pS(n,R):R,v.currentDirection=1;break;default:_=L}v.triggerSlideHandler=_}else{var N=nh(n);v.trackStyle=fP(Ot(Ot({},n),{},{left:N}))}return v};var N9=ue.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},pS=ue.checkNavigable=function(e,n){var r=N9(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},mS=ue.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+uP(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+tv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},Fx=ue.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},th=ue.getTrackCSS=function(e){Fx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=M9(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ot(Ot({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},fP=ue.getTrackAnimateCSS=function(e){Fx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=th(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},nh=ue.getTrackLeft=function(e){if(e.unslick)return 0;Fx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,S=e.fade,E=e.vertical,b=0,I,T,v=0;if(S||e.slideCount===1)return 0;var _=0;if(i?(_=-Xd(e),o%u!==0&&n+u>o&&(_=-(n>o?a-(n-o):o%u)),s&&(_+=parseInt(a/2))):(o%u!==0&&n+u>o&&(_=a-o%u),s&&(_=parseInt(a/2))),b=_*c,v=_*m,E?I=n*m*-1+v:I=n*c*-1+b,h===!0){var R,L=r&&r.node;if(R=n+Xd(e),T=L&&L.childNodes[R],I=T?T.offsetLeft*-1:0,s===!0){R=i?n+Xd(e):n,T=L&&L.children[R],I=0;for(var N=0;N<R;N++)I-=L&&L.children[N]&&L.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=T&&(f-T.offsetWidth)/2}}return I},Xd=ue.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},L9=ue.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},M9=ue.getTotalSlides=function(e){return e.slideCount===1?1:Xd(e)+e.slideCount+L9(e)},D9=ue.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+$9(e)?"left":"right":e.targetSlide<e.currentSlide-F9(e)?"right":"left"},$9=ue.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},F9=ue.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};ue.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var V9=ue.validSettings=Object.keys(k9.default);function z9(t){return V9.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.Track=void 0;var os=hP(w),og=hP(qp),wd=ue;function hP(t){return t&&t.__esModule?t:{default:t}}function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(null,arguments)}function B9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mP(r.key),r)}}function W9(t,e,n){return e&&U9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rv(t,e)}function q9(t){var e=pP();return function(){var n,r=rh(t);if(e){var i=rh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K9(this,n)}}function K9(t,e){if(e&&(Ya(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iv(t)}function iv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rh(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){sv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sv(t,e,n){return(e=mP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mP(t){var e=G9(t,"string");return Ya(e)=="symbol"?e:e+""}function G9(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ag=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},Q9=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},lg=function(e,n){return e.key||n},Y9=function(e){var n,r=[],i=[],s=[],o=os.default.Children.count(e.children),a=(0,wd.lazyStartIndex)(e),u=(0,wd.lazyEndIndex)(e);return os.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=os.default.createElement("div",null);var S=Q9(Qn(Qn({},e),{},{index:f})),E=h.props.className||"",b=ag(Qn(Qn({},e),{},{index:f}));if(r.push(os.default.cloneElement(h,{key:"original"+lg(h,f),"data-index":f,className:(0,og.default)(b,E),tabIndex:"-1","aria-hidden":!b["slick-active"],style:Qn(Qn({outline:"none"},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,wd.getPreClones)(e)&&(n=-I,n>=a&&(h=c),b=ag(Qn(Qn({},e),{},{index:n})),i.push(os.default.cloneElement(h,{key:"precloned"+lg(h,n),"data-index":n,tabIndex:"-1",className:(0,og.default)(b,E),"aria-hidden":!b["slick-active"],style:Qn(Qn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,wd.getPostClones)(e)&&(n=o+f,n<u&&(h=c),b=ag(Qn(Qn({},e),{},{index:n})),s.push(os.default.cloneElement(h,{key:"postcloned"+lg(h,n),"data-index":n,tabIndex:"-1",className:(0,og.default)(b,E),"aria-hidden":!b["slick-active"],style:Qn(Qn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};Kp.Track=function(t){H9(n,t);var e=q9(n);function n(){var r;B9(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),sv(iv(r),"node",null),sv(iv(r),"handleRef",function(a){r.node=a}),r}return W9(n,[{key:"render",value:function(){var i=Y9(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return os.default.createElement("div",nv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(os.default.PureComponent);var Gp={};function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}Object.defineProperty(Gp,"__esModule",{value:!0});Gp.Dots=void 0;var Sd=gP(w),X9=gP(qp),yS=ue;function gP(t){return t&&t.__esModule?t:{default:t}}function vS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(n),!0).forEach(function(r){Z9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z9(t,e,n){return(e=yP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yP(r.key),r)}}function nW(t,e,n){return e&&tW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yP(t){var e=rW(t,"string");return Xa(e)=="symbol"?e:e+""}function rW(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ov(t,e)}function sW(t){var e=vP();return function(){var n,r=ih(t);if(e){var i=ih(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oW(this,n)}}function oW(t,e){if(e&&(Xa(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}var lW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Gp.Dots=function(t){iW(n,t);var e=sW(n);function n(){return eW(this,n),e.apply(this,arguments)}return nW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,S=lW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),E={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},b=[],I=0;I<S;I++){var T=(I+1)*c-1,v=u?T:(0,yS.clamp)(T,0,h-1),_=v-(c-1),R=u?_:(0,yS.clamp)(_,0,h-1),L=(0,X9.default)({"slick-active":u?m>=R&&m<=v:m===R}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},g=this.clickHandler.bind(this,N);b=b.concat(Sd.default.createElement("li",{key:I,className:L},Sd.default.cloneElement(this.props.customPaging(I),{onClick:g})))}return Sd.default.cloneElement(this.props.appendDots(b),J9({className:this.props.dotsClass},E))}}]),n}(Sd.default.PureComponent);var Ja={};function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}Object.defineProperty(Ja,"__esModule",{value:!0});Ja.PrevArrow=Ja.NextArrow=void 0;var Ia=_P(w),xP=_P(qp),uW=ue;function _P(t){return t&&t.__esModule?t:{default:t}}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sh.apply(null,arguments)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=SP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SP(r.key),r)}}function wP(t,e,n){return e&&dW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SP(t){var e=fW(t,"string");return Za(e)=="symbol"?e:e+""}function fW(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},av(t,e)}function TP(t){var e=CP();return function(){var n,r=ah(t);if(e){var i=ah(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hW(this,n)}}function hW(t,e){if(e&&(Za(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pW(t)}function pW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}Ja.PrevArrow=function(t){EP(n,t);var e=TP(n);function n(){return bP(this,n),e.apply(this,arguments)}return wP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,xP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Ia.default.cloneElement(this.props.prevArrow,oh(oh({},o),a)):u=Ia.default.createElement("button",sh({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Ia.default.PureComponent);Ja.NextArrow=function(t){EP(n,t);var e=TP(n);function n(){return bP(this,n),e.apply(this,arguments)}return wP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,uW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,xP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Ia.default.cloneElement(this.props.nextArrow,oh(oh({},o),a)):u=Ia.default.createElement("button",sh({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Ia.default.PureComponent);var IP=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),lv=typeof window<"u"&&typeof document<"u"&&window.document===document,lh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(lh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),gW=2;function yW(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){mW(s)}function a(){var u=Date.now();if(n){if(u-i<gW)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var vW=20,xW=["top","right","bottom","left","width","height","size","weight"],_W=typeof MutationObserver<"u",bW=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=yW(this.refresh.bind(this),vW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!lv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_W?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!lv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=xW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),kP=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},el=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||lh},RP=Qp(0,0,0,0);function uh(t){return parseFloat(t)||0}function _S(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+uh(s)},0)}function wW(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=uh(o)}return n}function SW(t){var e=t.getBBox();return Qp(0,0,e.width,e.height)}function EW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return RP;var r=el(t).getComputedStyle(t),i=wW(r),s=i.left+i.right,o=i.top+i.bottom,a=uh(r.width),u=uh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=_S(r,"left","right")+s),Math.round(u+o)!==n&&(u-=_S(r,"top","bottom")+o)),!CW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return Qp(i.left,i.top,a,u)}var TW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof el(t).SVGGraphicsElement}:function(t){return t instanceof el(t).SVGElement&&typeof t.getBBox=="function"}}();function CW(t){return t===el(t).document.documentElement}function IW(t){return lv?TW(t)?SW(t):EW(t):RP}function kW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return kP(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Qp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var RW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=IW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),PW=function(){function t(e,n){var r=kW(n);kP(this,{target:e,contentRect:r})}return t}(),AW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new IP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof el(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new RW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof el(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new PW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),PP=typeof WeakMap<"u"?new WeakMap:new IP,AP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=bW.getInstance(),r=new AW(e,n,this);PP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){AP.prototype[t]=function(){var e;return(e=PP.get(this))[t].apply(e,arguments)}});var jW=function(){return typeof lh.ResizeObserver<"u"?lh.ResizeObserver:AP}();const OW=Object.freeze(Object.defineProperty({__proto__:null,default:jW},Symbol.toStringTag,{value:"Module"})),NW=Qi(OW);Object.defineProperty(Hp,"__esModule",{value:!0});Hp.InnerSlider=void 0;var Bn=Oc(w),LW=Oc(nP),MW=Oc(C9),DW=Oc(qp),Mt=ue,$W=Kp,FW=Gp,bS=Ja,VW=Oc(NW);function Oc(t){return t&&t.__esModule?t:{default:t}}function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}function zW(t,e){if(t==null)return{};var n,r,i=BW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OP(r.key),r)}}function HW(t,e,n){return e&&WW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uv(t,e)}function KW(t){var e=jP();return function(){var n,r=dh(t);if(e){var i=dh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return GW(this,n)}}function GW(t,e){if(e&&(So(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function Ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jP=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}function Qe(t,e,n){return(e=OP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OP(t){var e=QW(t,"string");return So(e)=="symbol"?e:e+""}function QW(t,e){if(So(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(So(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Hp.InnerSlider=function(t){qW(n,t);var e=KW(n);function n(r){var i;UW(this,n),i=e.call(this,r),Qe(Ge(i),"listRefHandler",function(o){return i.list=o}),Qe(Ge(i),"trackRefHandler",function(o){return i.track=o}),Qe(Ge(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Mt.getHeight)(o)+"px"}}),Qe(Ge(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Mt.getOnDemandLazySlides)(Me(Me({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Me({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new VW.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Qe(Ge(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Qe(Ge(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Mt.getOnDemandLazySlides)(Me(Me({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=Me(Me({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=Bn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Bn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Qe(Ge(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,MW.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Qe(Ge(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=Me(Me({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Qe(Ge(i),"updateState",function(o,a,u){var c=(0,Mt.initializedState)(o);o=Me(Me(Me({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Mt.getTrackLeft)(o);o=Me(Me({},o),{},{left:f});var h=(0,Mt.getTrackCSS)(o);(a||Bn.default.Children.count(i.props.children)!==Bn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Qe(Ge(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Mt.getPreClones)(Me(Me(Me({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Mt.getPostClones)(Me(Me(Me({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(g){u.push(g.props.style.width),o+=g.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var S=0;S<i.state.currentSlide;S++)a+=u[S];var E={width:o+"px",left:-a+"px"};if(i.props.centerMode){var b="".concat(u[i.state.currentSlide],"px");E.left="calc(".concat(E.left," + (100% - ").concat(b,") / 2 ) ")}return{trackStyle:E}}var I=Bn.default.Children.count(i.props.children),T=Me(Me(Me({},i.props),i.state),{},{slideCount:I}),v=(0,Mt.getPreClones)(T)+(0,Mt.getPostClones)(T)+I,_=100/i.props.slidesToShow*v,R=100/v,L=-R*((0,Mt.getPreClones)(T)+i.state.currentSlide)*_/100;i.props.centerMode&&(L+=(100-R*_/100)/2);var N={width:_+"%",left:L+"%"};return{slideWidth:R+"%",trackStyle:N}}),Qe(Ge(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Qe(Ge(i),"progressiveLazyLoad",function(){for(var o=[],a=Me(Me({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Mt.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Mt.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Qe(Ge(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,S=u.afterChange,E=i.state.currentSlide,b=(0,Mt.slideHandler)(Me(Me(Me({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=b.state,T=b.nextState;if(I){f&&f(E,I.currentSlide);var v=I.lazyLoadedList.filter(function(_){return i.state.lazyLoadedList.indexOf(_)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),S&&S(E),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),T&&(i.animationEndCallback=setTimeout(function(){var _=T.animating,R=zW(T,["animating"]);i.setState(R,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:_})},10)),S&&S(I.currentSlide),delete i.animationEndCallback})},m))})}}),Qe(Ge(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=Me(Me({},i.props),i.state),c=(0,Mt.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Qe(Ge(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Qe(Ge(i),"keyHandler",function(o){var a=(0,Mt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Qe(Ge(i),"selectHandler",function(o){i.changeSlide(o)}),Qe(Ge(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Qe(Ge(i),"enableBodyScroll",function(){window.ontouchmove=null}),Qe(Ge(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Mt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Qe(Ge(i),"swipeMove",function(o){var a=(0,Mt.swipeMove)(o,Me(Me(Me({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Qe(Ge(i),"swipeEnd",function(o){var a=(0,Mt.swipeEnd)(o,Me(Me(Me({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Qe(Ge(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Qe(Ge(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Qe(Ge(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Qe(Ge(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Qe(Ge(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Mt.canGoNext)(Me(Me({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Qe(Ge(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Qe(Ge(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Qe(Ge(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Qe(Ge(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Qe(Ge(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Qe(Ge(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Qe(Ge(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Qe(Ge(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Qe(Ge(i),"render",function(){var o=(0,DW.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Me(Me({},i.props),i.state),u=(0,Mt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=Me(Me({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Mt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=Me(Me({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=Bn.default.createElement(FW.Dots,h)}var S,E,b=(0,Mt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=i.changeSlide,i.props.arrows&&(S=Bn.default.createElement(bS.PrevArrow,b),E=Bn.default.createElement(bS.NextArrow,b));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var T=null;i.props.vertical===!1?i.props.centerMode===!0&&(T={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(T={padding:i.props.centerPadding+" 0px"});var v=Me(Me({},I),T),_=i.props.touchMove,R={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:_?i.swipeStart:null,onMouseMove:i.state.dragging&&_?i.swipeMove:null,onMouseUp:_?i.swipeEnd:null,onMouseLeave:i.state.dragging&&_?i.swipeEnd:null,onTouchStart:_?i.swipeStart:null,onTouchMove:i.state.dragging&&_?i.swipeMove:null,onTouchEnd:_?i.touchEnd:null,onTouchCancel:i.state.dragging&&_?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},L={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(R={className:"slick-list"},L={className:o,style:i.props.style}),Bn.default.createElement("div",L,i.props.unslick?"":S,Bn.default.createElement("div",ch({ref:i.listRefHandler},R),Bn.default.createElement($W.Track,ch({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":E,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Me(Me({},LW.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Bn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Me(Me({},i.state),s),i}return HW(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(So(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||Bn.default.Children.count(this.props.children)!==Bn.default.Children.count(i.children)}}]),n}(Bn.default.Component);var YW=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},XW=YW,JW=XW,ZW=function(t){var e=/[height|width]$/;return e.test(t)},SS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=JW(r),ZW(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},e7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=SS(n),r<t.length-1&&(e+=", ")}),e):SS(t)},t7=e7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(w),n=Hp,r=o(t7),i=o($x),s=ue;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var j in C)({}).hasOwnProperty.call(C,j)&&(p[j]=C[j])}return p},u.apply(null,arguments)}function c(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(p);y&&(j=j.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),C.push.apply(C,j)}return C}function f(p){for(var y=1;y<arguments.length;y++){var C=arguments[y]!=null?arguments[y]:{};y%2?c(Object(C),!0).forEach(function(j){L(p,j,C[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):c(Object(C)).forEach(function(j){Object.defineProperty(p,j,Object.getOwnPropertyDescriptor(C,j))})}return p}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){for(var C=0;C<y.length;C++){var j=y[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(p,N(j.key),j)}}function S(p,y,C){return y&&m(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&b(p,y)}function b(p,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,j){return C.__proto__=j,C},b(p,y)}function I(p){var y=_();return function(){var C,j=R(p);if(y){var A=R(this).constructor;C=Reflect.construct(j,arguments,A)}else C=j.apply(this,arguments);return T(this,C)}}function T(p,y){if(y&&(a(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(p)}function v(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function _(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!p})()}function R(p){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},R(p)}function L(p,y,C){return(y=N(y))in p?Object.defineProperty(p,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[y]=C,p}function N(p){var y=g(p,"string");return a(y)=="symbol"?y:y+""}function g(p,y){if(a(p)!="object"||!p)return p;var C=p[Symbol.toPrimitive];if(C!==void 0){var j=C.call(p,y);if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}t.default=function(p){E(C,p);var y=I(C);function C(j){var A;return h(this,C),A=y.call(this,j),L(v(A),"innerSliderRefHandler",function(P){return A.innerSlider=P}),L(v(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),L(v(A),"slickNext",function(){return A.innerSlider.slickNext()}),L(v(A),"slickGoTo",function(P){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(P,W)}),L(v(A),"slickPause",function(){return A.innerSlider.pause("paused")}),L(v(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return S(C,[{key:"media",value:function(A,P){var W=window.matchMedia(A),F=function(B){var D=B.matches;D&&P()};W.addListener(F),this._responsiveMediaHandlers.push({mql:W,query:A,listener:F})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var P=this.props.responsive.map(function(F){return F.breakpoint});P.sort(function(F,H){return F-H}),P.forEach(function(F,H){var B;H===0?B=(0,r.default)({minWidth:0,maxWidth:F}):B=(0,r.default)({minWidth:P[H-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&A.media(B,function(){A.setState({breakpoint:F})})});var W=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(W,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){A.mql.removeListener(A.listener)})}},{key:"render",value:function(){var A=this,P,W;this.state.breakpoint?(W=this.props.responsive.filter(function(ie){return ie.breakpoint===A.state.breakpoint}),P=W[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),W[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(ie){return typeof ie=="string"?!!ie.trim():!!ie}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var H=[],B=null,D=0;D<F.length;D+=P.rows*P.slidesPerRow){for(var z=[],q=D;q<D+P.rows*P.slidesPerRow;q+=P.slidesPerRow){for(var Q=[],Y=q;Y<q+P.slidesPerRow&&(P.variableWidth&&F[Y].props.style&&(B=F[Y].props.style.width),!(Y>=F.length));Y+=1)Q.push(e.default.cloneElement(F[Y],{key:100*D+10*q+Y,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));z.push(e.default.createElement("div",{key:10*D+q},Q))}P.variableWidth?H.push(e.default.createElement("div",{key:D,style:{width:B}},z)):H.push(e.default.createElement("div",{key:D},z))}if(P==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},F)}else H.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),H)}}]),C}(e.default.Component)})(tP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(tP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(eP);const Jd=fh(eP);function n7({onClick:t}){return l.jsx(so,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const r7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}],i7={infinite:!0,speed:900,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}}]};function s7(){return l.jsxs(cn,{sx:{width:"100%",my:6},children:[l.jsx(lt,{variant:"h5",color:"primary",sx:{mb:3,fontWeight:700,textAlign:"center"},children:"Testimonials of Lives Transformed"}),l.jsx(Jd,{...i7,children:r7.map((t,e)=>l.jsx(cn,{sx:{px:2},children:l.jsx(gu,{sx:{borderRadius:3,boxShadow:2,minHeight:140,display:"flex",flexDirection:"column",alignItems:"center",p:2,background:"linear-gradient(135deg, #f4f6fb 60%, #e0e7ff 100%)"},children:l.jsxs(yu,{sx:{textAlign:"center",p:0},children:[l.jsxs(lt,{variant:"body1",sx:{fontStyle:"italic",mb:1},children:['"',t.text,'"']}),l.jsxs(lt,{variant:"subtitle2",color:"primary",fontWeight:700,children:[t.name," ",l.jsxs("span",{style:{color:"#888",fontWeight:400},children:["(",t.city,")"]})]})]})})},e))})]})}function o7(t){return mt("MuiLink",t)}const a7=ct("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),NP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},l7=t=>NP[t]||t,u7=({theme:t,ownerState:e})=>{const n=l7(e.color),r=qa(t,`palette.${n}`,!1)||e.color,i=qa(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Er(r,.4)},c7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],d7=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${Ke(i)}`,n==="button"&&"button",r&&"focusVisible"]};return bt(s,o7,e)},f7=je(lt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ke(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>V({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&V({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:u7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${a7.focusVisible}`]:{outline:"auto"}})),Dl=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:c,underline:f="always",variant:h="inherit",sx:m}=r,S=Ce(r,c7),{isFocusVisibleRef:E,onBlur:b,onFocus:I,ref:T}=CR(),[v,_]=w.useState(!1),R=Vn(n,T),L=y=>{b(y),E.current===!1&&_(!1),a&&a(y)},N=y=>{I(y),E.current===!0&&_(!0),u&&u(y)},g=V({},r,{color:s,component:o,focusVisible:v,underline:f,variant:h}),p=d7(g);return l.jsx(f7,V({color:s,className:Ne(p.root,i),classes:c,component:o,onBlur:L,onFocus:N,ref:R,ownerState:g,variant:h,sx:[...Object.keys(NP).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},S))});function h7(){return l.jsxs(cn,{component:"footer",sx:{width:"100%",bgcolor:"#f4f6fa",borderTop:"1px solid #e0e7ef",py:3,mt:8,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",px:{xs:2,sm:6},fontSize:15},children:[l.jsxs(lt,{color:"primary",fontWeight:700,children:["Pharmastack  ",new Date().getFullYear()]}),l.jsxs(cn,{sx:{display:"flex",gap:3,mt:{xs:2,sm:0}},children:[l.jsx(Dl,{href:"/",underline:"hover",color:"inherit",children:"Home"}),l.jsx(Dl,{href:"/shop",underline:"hover",color:"inherit",children:"Shop"}),l.jsx(Dl,{href:"/store",underline:"hover",color:"inherit",children:"Pharmacies"}),l.jsx(Dl,{href:"/auth",underline:"hover",color:"inherit",children:"Login"}),l.jsx(Dl,{href:"mailto:pharmastack@gmail.com",underline:"hover",color:"inherit",children:"Contact"})]})]})}function p7(){w.useEffect(()=>{const v=Ct(Ae(ee,"products"),_=>{const R=_.docs.map(L=>({id:L.id,...L.data()}));S(R)});return()=>v()},[]);const t={infinite:!0,speed:1200,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:900,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]},e={infinite:!0,speed:1e3,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[n,r]=w.useState([]),[i,s]=w.useState([]),o=i;w.useEffect(()=>{const v=Ct(Ae(ee,"users"),_=>{const R=[],L=new Set;_.docs.forEach(N=>{const g=N.data();g.businessSlug&&!L.has(g.businessSlug)&&(R.push({name:g.businessName||g.businessSlug,img:g.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:g.rating||4.5,slug:g.businessSlug}),L.add(g.businessSlug))}),s(R)});return()=>v()},[]);const a={infinite:!0,speed:1200,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:900,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]},[u,c]=w.useState(null),[f,h]=w.useState(""),[m,S]=w.useState([]),[E,b]=w.useState(""),I=Ls();w.useEffect(()=>{const v=Ct(Ae(ee,"products"),_=>{const R=new Set;_.docs.forEach(L=>{const N=L.data().class;N&&typeof N=="string"&&N.trim()&&R.add(N.trim())}),r(Array.from(R).sort())});return()=>v()},[]),w.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude};c(_),localStorage.setItem("customerLocation",JSON.stringify(_))},v=>{h("Location access denied. Please enable location services.")})},[]);const T=v=>{v.preventDefault(),E.trim()?I(`/shop?search=${encodeURIComponent(E.trim())}`):I("/shop")};return l.jsxs(Rz,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsxs(Rx,{elevation:3,sx:{p:5,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, #f4f6fa 60%, #e0e7ff 100%)"},children:[l.jsx(lt,{variant:"h3",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:" Welcome to Pharmastack"}),l.jsx(lt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Making Medicine Accessible, Findable, and Available to All."}),l.jsxs(cn,{sx:{position:"relative",background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderLeft:"6px solid #6366f1",borderRadius:3,p:2.5,my:2.5,boxShadow:"0 2px 12px #c7d2fe22",color:"#2d3748",fontSize:18,fontWeight:500,textAlign:"center",letterSpacing:.1,lineHeight:1.6,maxWidth:600,mx:"auto",overflow:"hidden"},children:[l.jsx("span",{style:{color:"#6366f1",fontWeight:700,fontSize:20,display:"block",marginBottom:4},children:"Our Mission"}),l.jsx("span",{style:{position:"relative",zIndex:1},children:"We are solving the problem of inequitable access to medicines by building a digital map of real-time medicine availabilitya connected ecosystem ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."}),l.jsx("span",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,background:"linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 40%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)",transform:"translateX(-100%)",animation:"gloss-move 7s cubic-bezier(.4,.6,.6,1) infinite"}}),l.jsx("style",{children:`
              @keyframes gloss-move {
                0% { transform: translateX(-100%); }
                60% { transform: translateX(120%); }
                100% { transform: translateX(120%); }
              }
            `})]}),l.jsx(cn,{my:3,children:u?l.jsxs(lt,{variant:"body1",color:"secondary",children:[" Your location: ",l.jsxs("b",{children:[u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}):l.jsx(lt,{variant:"body2",color:"text.disabled",children:f||"Detecting your location..."})}),l.jsxs(cn,{component:"form",onSubmit:T,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mt:6,mb:2},children:[l.jsx(rs,{variant:"outlined",placeholder:"Search drugs...",value:E,onChange:v=>b(v.target.value),sx:{width:320,background:"#fff",borderRadius:2},size:"medium"}),l.jsx(so,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Search"})]}),l.jsx(cn,{sx:{mb:3,background:"#f8fafc",borderRadius:2,minHeight:220,px:1,py:2},children:m.length===0?null:l.jsx(Jd,{...t,children:m.map((v,_)=>l.jsx(cn,{sx:{px:1},children:l.jsxs(gu,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(cS,{component:"img",image:v.image||"/default-medicine.png",alt:v.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(yu,{sx:{p:0},children:l.jsx(lt,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:v.name||"Unnamed"})})]})},v.id||_))})}),l.jsx(lt,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(cn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(Jd,{...e,children:n.map(v=>{const _=m.find(R=>R.class&&R.class.trim()===v);return l.jsx(cn,{children:l.jsxs(gu,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>I(`/shop?category=${encodeURIComponent(v)}`),children:[_&&l.jsx(cn,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:_.image||"/default-medicine.png",alt:_.name||v,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(yu,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(lt,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:v})})]})},v)})})}),l.jsx(lt,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(cn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:o.length===0?null:l.jsx(Jd,{...a,children:o.map(v=>l.jsx(cn,{sx:{px:1},children:l.jsxs(gu,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>I(`/store/${v.slug}`),children:[l.jsx(cS,{component:"img",height:"80",image:v.img,alt:v.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(yu,{sx:{textAlign:"center",pb:2},children:[l.jsx(lt,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:v.name}),l.jsxs(lt,{variant:"body2",color:"text.secondary",children:[" ",v.rating]}),l.jsx(so,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:_=>{_.stopPropagation(),I(`/store/${v.slug}`)},children:"Shop Now"})]})]})},v.slug))})}),l.jsx(so,{component:Da,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:" Find a pharmacy store near you"})]}),l.jsx(s7,{}),l.jsx(n7,{onClick:()=>alert("Support chat coming soon!")}),l.jsx(h7,{})]})}const m7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function g7(){const[t,e]=w.useState(!1),{slug:n}=Oh(),[r,i]=w.useState(null),[s,o]=w.useState([]),[a,u]=w.useState([]),[c,f]=w.useState(""),[h,m]=w.useState(null),[S,E]=w.useState(null),[b,I]=w.useState(""),[T,v]=w.useState(!0),_=Dn(),R=(g,p,y,C)=>{const j=B=>B*Math.PI/180,P=j(y-g),W=j(C-p),F=Math.sin(P/2)**2+Math.cos(j(g))*Math.cos(j(y))*Math.sin(W/2)**2;return 6371*(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)))},L=g=>{const C=g*1.64,j=Math.max(1,Math.round(C/25*60));return{drivingKm:C,minutes:j}};w.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(g=>{const p={lat:g.coords.latitude,lng:g.coords.longitude};E(p);const y=_.currentUser;if(y){const C=be(ee,"users",y.uid);sn(C).then(j=>{const A=j.data();A&&A.role==="customer"&&nr(C,{lat:p.lat,lng:p.lng},{merge:!0})})}},()=>E("denied"))},[_]),w.useEffect(()=>{const g=Pr(_,p=>{i(p)});return()=>g()},[_]),w.useEffect(()=>{v(!0);const g=Ct(Ae(ee,"products"),async p=>{const C=(await Promise.all(p.docs.map(async j=>{var P,W;const A={id:j.id,...j.data()};if(A.ownerId){const F=be(ee,"users",A.ownerId),H=await sn(F);if(H.exists()){const B=H.data();A.businessName=B.businessName||"Unknown Pharmacy",A.ownerSlug=B.slug||null,A.ownerRole=B.role||null,(P=B.location)!=null&&P.latitude&&((W=B.location)!=null&&W.longitude)&&(A.businessLat=B.location.latitude,A.businessLng=B.location.longitude),A.businessState=B.businessState||B.state||""}}return A}))).filter(j=>j.ownerRole!=="distributor");o(C),v(!1)});return()=>g()},[]),w.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(H=>H.ownerSlug===n):s;b&&(g=g.filter(H=>H.businessState===b));const p={};for(const H of g){const B=(H.normalizedName||H.name||"").toLowerCase().trim();p[B]||(p[B]=[]),p[B].push(H)}const y=Object.values(p).map(H=>(S&&S!=="denied"&&(H=H.map(B=>{if(B.businessLat&&B.businessLng){const D=R(S.lat,S.lng,B.businessLat,B.businessLng),{minutes:z}=L(D);return{...B,minutesAway:z}}return{...B,minutesAway:1/0}}),H.sort((B,D)=>B.minutesAway-D.minutesAway)),H)).flat(),C=(H="")=>H.toLowerCase().trim().replace(/\s+/g," "),j={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},A=C(c),P=(j[A]||A).split(" "),W=(H,B)=>H.includes(B)||B.length>3&&H.startsWith(B.slice(0,3))||B.length>3&&H.endsWith(B.slice(-3)),F=y.filter(H=>{const B=C(H.name),D=C(H.ingredient),z=C(H.class);return P.some(q=>B.includes(q)||D.includes(q)||z.includes(q)||W(B,q)||W(D,q)||W(z,q))});u(F)},[s,S,c,n]);const N=async g=>{if(!r)return alert("Please log in first");let p={...g};if((!p.businessPhone||!p.businessWhatsapp)&&p.ownerId)try{const P=be(ee,"users",p.ownerId),W=await sn(P);if(W.exists()){const F=W.data();p.businessPhone=F.businessPhone||"",p.businessWhatsapp=F.businessWhatsapp||""}}catch{}const y=be(ee,"carts",r.uid),C=await sn(y);let j=C.exists()?C.data().items||[]:[];const A=j.findIndex(P=>P.name===p.name);A>=0?j[A].quantity+=1:j.push({...p,quantity:1}),await nr(y,{items:j}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:[" ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,margin:"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:"12px",width:"100%",maxWidth:"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:b,onChange:g=>I(g.target.value),style:{padding:"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:17,minWidth:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),m7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"28px",marginTop:18},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:"18px 16px 16px 16px",borderRadius:"16px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-4px) scale(1.03)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"10px",marginBottom:"10px",background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:150,borderRadius:10,marginBottom:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:[" ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>N(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",disabled:typeof N!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?" Right here":` ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function LP(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState(0),[o,a]=w.useState(!1),[u,c]=w.useState({}),[f,h]=w.useState([]),[m,S]=w.useState(null),E=Dn(),b=Ls();w.useEffect(()=>{t&&sn(be(ee,"users",t.uid)).then(N=>{N.exists()&&S(N.data())})},[t]),w.useEffect(()=>{const N=Array.from(new Set(n.filter(g=>g.registeredOnly&&g.ownerId).map(g=>g.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const g of f)await nr(be(ee,"businessRegistrations",`${g}_${t.uid}`),{distributorId:g,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===g),status:"pending",date:new Date().toISOString()});xe.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};w.useEffect(()=>Pr(E,g=>{e(g),g&&T(g.uid)}),[E]);const T=async N=>{try{const g=be(ee,"carts",N),p=await sn(g);p.exists()?r(p.data().items||[]):r([])}catch(g){console.error("Error loading cart:",g)}},v=async(N,g)=>{try{await nr(be(ee,"carts",N),{items:g})}catch(p){console.error("Error saving cart:",p)}};w.useEffect(()=>{const N=n.reduce((g,p)=>g+p.price*(p.quantity||1),0);s(N)},[n]);const _=N=>{if(!t)return xe.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N.name);p>=0?g[p].quantity+=1:g.push({...N,quantity:1}),r(g),v(t.uid,g)},R=N=>{if(!t)return xe.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N);p>=0&&(g[p].quantity>1?g[p].quantity-=1:g.splice(p,1)),r(g),v(t.uid,g)},L=()=>{if(!t)return xe.error("Please login to proceed to payment");if(n.length===0)return xe.info("Cart is empty");b("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:" Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",g+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>_(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>R(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},g)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,g)=>N+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ",i]}),!o&&l.jsx("button",{onClick:L,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const y7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function v7(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("Pending"),[o,a]=w.useState({}),u=Dn();if(w.useEffect(()=>{const E=Pr(u,b=>{if(e(b),b){const I=mi(Ae(ee,"orders"),Kr("userId","==",b.uid)),T=Ct(I,v=>{const _=v.docs.map(R=>({id:R.id,...R.data()}));_.sort((R,L)=>new Date(L.date)-new Date(R.date)),r(_)});return()=>T()}});return()=>E()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async E=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=be(ee,"orders",E);await en(I,{status:"Cancelled"}),alert(" Order cancelled and moved to Cancelled tab")},f=E=>{a(b=>({...b,[E]:!b[E]}))},h=E=>E.reduce((b,I)=>b+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],S=m.reduce((E,b)=>(b==="Processing"?E[b]=n.filter(I=>{const T=I.status||"Pending";return T==="Processing"||T==="In-Progress"}):E[b]=n.filter(I=>(I.status||"Pending")===b),E),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:" Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(E=>{var b;return l.jsxs("button",{onClick:()=>s(E),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===E?"#007bff":"#eee",color:i===E?"#fff":"#000",fontWeight:i===E?"bold":"normal"},children:[E," (",((b=S[E])==null?void 0:b.length)||0,")"]},E)})}),S[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):S[i].map(E=>{var b;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",y7(E.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),E.items&&E.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(E.items.reduce((I,T)=>{const v=T.businessName||"Unknown",_=T.businessPhone||T.phoneNumber||"N/A",R=T.businessWhatsapp||T.whatsappNumber||"N/A";return I.set(v+"__"+_+"__"+R,{name:v,phone:_,whatsapp:R}),I},new Map).values()).map(({name:I,phone:T,whatsapp:v})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",v&&v!=="N/A"?l.jsxs("a",{href:`https://wa.me/${v.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:v}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+T+v))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId||"Not assigned",(E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId)&&(E.agentPhoneNumber||E.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",E.agentPhoneNumber?l.jsxs("a",{href:`tel:${E.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",E.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${E.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(E.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[E.id]?"#ede9fe":"#7c3aed",color:o[E.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[E.id]?"0 2px 8px #ede9fe":"none"},children:o[E.id]?"Hide Items":"View Items"}),o[E.id]&&((b=E.items)==null?void 0:b.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:E.items.map((I,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name,"  ",I.price," x ",I.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ",h(E.items||[])]}),(E.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(E.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},E.id)})]})}const x7="modulepreload",_7=function(t){return"/medcins/"+t},ES={},ka=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=_7(u),u in ES)return;ES[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":x7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,S)=>{h.addEventListener("load",m),h.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},b7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function w7(){const t=Ls(),[e,n]=w.useState(null),[r,i]=w.useState(""),[s,o]=w.useState(""),[a,u]=w.useState(""),[c,f]=w.useState(""),[h,m]=w.useState(""),[S,E]=w.useState(""),[b,I]=w.useState(""),[T,v]=w.useState(!1),[_,R]=w.useState(!1),[L,N]=w.useState(!1),[g,p]=w.useState({}),[y,C]=w.useState(!1),j={};pe.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const A=async()=>{try{if(!distributorName||!distributorLicense){alert("Please provide distributor name and license number.");return}const $=await captureDistributorLocation();if(!$){alert(" Location required to complete distributor signup.");return}const U=(await Yl(Ks,r,s)).user,ne=await W(distributorName),Z={email:U.email,role:"distributor",businessName:distributorName,licenseNumber:distributorLicense,location:$,slug:ne,businessSlug:ne,createdAt:new Date().toISOString()};await F(U.uid,Z),n({...U,...Z}),alert(` Distributor signup successful!
Your distributor link: pharmastack.com/store/${ne}`),R(!1),setDistributorName(""),setDistributorLicense(""),setDistributorLocation(null)}catch($){console.error("Distributor signup error:",$),alert($.message||"Distributor signup failed")}},P=$=>$.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),W=async $=>{let G=P($);const U=Ae(ee,"users");let ne=G,Z=1;for(;;){const te=mi(U,Kr("slug","==",ne));if((await on(te)).empty)break;ne=`${G}${Z++}`}return ne},F=async($,G)=>{console.log("Writing user doc for:",$,G),await nr(be(ee,"users",$),G)},H=async()=>{try{if(!address||!state||!city){alert("Please provide address, state, and city.");return}const G=(await Yl(Ks,r,s)).user,U={email:G.email,role:"customer",address,state,city,landmark,createdAt:new Date().toISOString()};await F(G.uid,U),n({...G,...U}),alert(" Customer signup successful!")}catch($){console.error("Customer signup error:",$),alert($.message)}},B=async()=>navigator.geolocation?(setLoadingLocation(!0),new Promise(($,G)=>{navigator.geolocation.getCurrentPosition(U=>{const ne={latitude:U.coords.latitude,longitude:U.coords.longitude};setLocation(ne),setLoadingLocation(!1),$(ne)},U=>{setLoadingLocation(!1),alert(" Location access denied or unavailable."),G(U)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert(" Geolocation is not supported by your browser."),null),D=async()=>{try{if(!a||!licenseNumber||!c){alert("Please provide business name, address, and license number.");return}const $=await B();if(!$){alert(" Location required to complete business signup.");return}const U=(await Yl(Ks,r,s)).user;console.log("Business user created:",U.uid);const ne=await W(a);console.log("Generated unique slug:",ne);const Z={email:U.email,role:"medicine-manager",businessName:a,address:c,city:S,state:h,landmark:b,licenseNumber,location:$,lat:$.latitude,lng:$.longitude,slug:ne,businessSlug:ne,businessPhone,businessWhatsapp,createdAt:new Date().toISOString()};await F(U.uid,Z),console.log("Firestore user record created for business:",Z),n({...U,...Z}),alert(` Business signup successful!
Your store link: pharmastack.com/store/${ne}`),v(!1),u(""),f(""),setLicenseNumber(""),setLocation(null)}catch($){console.error("Business signup error:",$),alert($.message||"Business signup failed")}},z=async()=>{try{const G=(await Tk(Ks,r,s)).user,U=await sn(be(ee,"users",G.uid));U.exists()?(n({...G,...U.data()}),U.data().role==="delivery-agent"&&U.data().slug&&t(`/agent/${U.data().slug}`)):(alert(" No Firestore user record found. Please contact admin."),n({...G}))}catch($){console.error("Login error:",$),alert($.message||"Login failed")}},q=async()=>{await kk(Ks),n(null)},Q=async()=>{try{C(!0);const $=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const he of $)if(!g[he]){alert(`Please fill the ${he} field.`),C(!1);return}const U=(await Yl(Ks,g.email,s)).user,ne=await W(g.companyName),Z={...g,role:"delivery-agent",slug:ne,createdAt:new Date().toISOString()};await F(U.uid,Z);const te={companyName:g.companyName,phoneNumber:g.phoneNumber,whatsappNumber:g.whatsappNumber,rcNumber:g.rcNumber,businessAddress:g.businessAddress,email:g.email,coverageArea:g.coverageArea,operatingHours:g.operatingHours,logoUrl:g.logoUrl,state:g.state,city:g.city,landmark:g.landmark,userId:U.uid,createdAt:new Date().toISOString(),slug:ne},{addDoc:ce,collection:fe}=await ka(async()=>{const{addDoc:he,collection:_e}=await Promise.resolve().then(()=>K0);return{addDoc:he,collection:_e}},void 0);await ce(fe(ee,"deliveryAgents"),te),n({...U,...Z}),alert(" Delivery agent signup successful!"),N(!1),p(j)}catch($){console.error("Delivery agent signup error:",$),alert($.message||"Delivery agent signup failed")}finally{C(!1)}},[Y,J]=w.useState(!1),[ie,me]=w.useState("customer"),ve=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:" Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:q,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:[" Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Y?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:ie,onChange:$=>me($.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:ve.map($=>l.jsx("option",{value:$.key,children:$.label},$.key))})}),ie==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:name,onChange:$=>setName($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:phone,onChange:$=>setPhone($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:address,onChange:$=>setAddress($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:state,onChange:$=>setState($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:city,onChange:$=>setCity($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:landmark,onChange:$=>setLandmark($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:H,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingLocation,children:loadingLocation?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),location&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",location.latitude.toFixed(5),", ",location.longitude.toFixed(5)]})]}),ie==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:$=>u($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:$=>f($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:licenseNumber,onChange:$=>setLicenseNumber($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:$=>m($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),b7.map($=>l.jsx("option",{value:$,children:$},$))]}),l.jsx("input",{type:"text",placeholder:"City",value:S,onChange:$=>E($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:b,onChange:$=>I($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:businessPhone,onChange:$=>setBusinessPhone($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:businessWhatsapp,onChange:$=>setBusinessWhatsapp($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:D,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingLocation,children:loadingLocation?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),location&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",location.latitude.toFixed(5),", ",location.longitude.toFixed(5)]})]}),ie==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:distributorName,onChange:$=>setDistributorName($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:distributorLicense,onChange:$=>setDistributorLicense($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:distributorState,onChange:$=>setDistributorState($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:distributorCity,onChange:$=>setDistributorCity($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:distributorLandmark,onChange:$=>setDistributorLandmark($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:A,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingDistributorLocation,children:loadingDistributorLocation?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),distributorLocation&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:[" Location captured: ",distributorLocation.latitude.toFixed(5),", ",distributorLocation.longitude.toFixed(5)]})]}),ie==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:g.companyName,onChange:$=>p(G=>({...G,companyName:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:g.phoneNumber,onChange:$=>p(G=>({...G,phoneNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:g.whatsappNumber,onChange:$=>p(G=>({...G,whatsappNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:g.rcNumber,onChange:$=>p(G=>({...G,rcNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:g.businessAddress,onChange:$=>p(G=>({...G,businessAddress:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:g.state,onChange:$=>p(G=>({...G,state:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:g.city,onChange:$=>p(G=>({...G,city:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:g.landmark,onChange:$=>p(G=>({...G,landmark:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:g.coverageArea,onChange:$=>p(G=>({...G,coverageArea:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:g.operatingHours,onChange:$=>p(G=>({...G,operatingHours:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:g.logoUrl,onChange:$=>p(G=>({...G,logoUrl:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:g.email,onChange:$=>p(G=>({...G,email:$.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Q,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:y,children:y?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:z,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>J(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var MP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Vl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var C=L(y);C.chunkSize=parseInt(C.chunkSize),y.step||y.chunk||(C.chunkSize=null),this._handle=new b(C),(this._handle.streamer=this)._config=C}).call(this,p),this.parseChunk=function(y,C){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let P=this._config.newline;P||(A=this._config.quoteChar||'"',P=this._handle.guessLineEndings(y,A)),y=[...y.split(P).slice(j)].join(P)}this.isFirstChunk&&g(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(y))!==void 0&&(y=A),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+y,A=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=A.meta.cursor,j=(this._finished||(this._partialLine=j.substring(y-this._baseIndex),this._baseIndex=y),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:A,workerId:c.WORKER_ID,finished:j});else if(g(this._config.chunk)&&!C){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!j||!g(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(y){g(this._config.error)?this._config.error(y):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:y,finished:!1})}}function h(p){var y;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),s||(y.onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var C,j=this._config.downloadRequestHeaders;for(C in j)y.setRequestHeader(C,j[C])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+A));try{y.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(C){C=y.statusText||C,this._sendError(new Error(C))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var y,C,j=typeof FileReader<"u";this.stream=function(A){this._input=A,C=A.slice||A.webkitSlice||A.mozSlice,j?((y=new FileReader).onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),A=C.call(A,this._start,P)),y.readAsText(A,this._config.encoding));j||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(y.error)}}function S(p){var y;f.call(this,p=p||{}),this.stream=function(C){return y=C,this._nextChunk()},this._nextChunk=function(){var C,j;if(!this._finished)return C=this._config.chunkSize,y=C?(j=y.substring(0,C),y.substring(C)):(j=y,""),this._finished=!y,this.parseChunk(j)}}function E(p){f.call(this,p=p||{});var y=[],C=!0,j=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):C=!0},this._streamData=N(function(A){try{y.push(typeof A=="string"?A:A.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(p){var y,C,j,A,P=Math.pow(2,53),W=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,D=0,z=0,q=!1,Q=!1,Y=[],J={data:[],errors:[],meta:{}};function ie(G){return p.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function me(){if(J&&j&&($("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),j=!1),p.skipEmptyLines&&(J.data=J.data.filter(function(te){return!ie(te)})),ve()){let te=function(ce,fe){g(p.transformHeader)&&(ce=p.transformHeader(ce,fe)),Y.push(ce)};var Z=te;if(J)if(Array.isArray(J.data[0])){for(var G=0;ve()&&G<J.data.length;G++)J.data[G].forEach(te);J.data.splice(0,1)}else J.data.forEach(te)}function U(te,ce){for(var fe=p.header?{}:[],he=0;he<te.length;he++){var _e=he,Xe=te[he],Xe=((Ee,De)=>($e=>(p.dynamicTypingFunction&&p.dynamicTyping[$e]===void 0&&(p.dynamicTyping[$e]=p.dynamicTypingFunction($e)),(p.dynamicTyping[$e]||p.dynamicTyping)===!0))(Ee)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&(($e=>{if(F.test($e)&&($e=parseFloat($e),W<$e&&$e<P))return 1})(De)?parseFloat(De):H.test(De)?new Date(De):De===""?null:De):De)(_e=p.header?he>=Y.length?"__parsed_extra":Y[he]:_e,Xe=p.transform?p.transform(Xe,_e):Xe);_e==="__parsed_extra"?(fe[_e]=fe[_e]||[],fe[_e].push(Xe)):fe[_e]=Xe}return p.header&&(he>Y.length?$("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+he,z+ce):he<Y.length&&$("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+he,z+ce)),fe}var ne;J&&(p.header||p.dynamicTyping||p.transform)&&(ne=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(U),ne=J.data.length):J.data=U(J.data,0),p.header&&J.meta&&(J.meta.fields=Y),z+=ne)}function ve(){return p.header&&Y.length===0}function $(G,U,ne,Z){G={type:G,code:U,message:ne},Z!==void 0&&(G.row=Z),J.errors.push(G)}g(p.step)&&(A=p.step,p.step=function(G){J=G,ve()?me():(me(),J.data.length!==0&&(D+=G.data.length,p.preview&&D>p.preview?C.abort():(J.data=J.data[0],A(J,B))))}),this.parse=function(G,U,ne){var Z=p.quoteChar||'"',Z=(p.newline||(p.newline=this.guessLineEndings(G,Z)),j=!1,p.delimiter?g(p.delimiter)&&(p.delimiter=p.delimiter(G),J.meta.delimiter=p.delimiter):((Z=((te,ce,fe,he,_e)=>{var Xe,Ee,De,$e;_e=_e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var qe=0;qe<_e.length;qe++){for(var ht,pt=_e[qe],Le=0,yt=0,Ie=0,Be=(De=void 0,new T({comments:he,delimiter:pt,newline:ce,preview:10}).parse(te)),Oe=0;Oe<Be.data.length;Oe++)fe&&ie(Be.data[Oe])?Ie++:(ht=Be.data[Oe].length,yt+=ht,De===void 0?De=ht:0<ht&&(Le+=Math.abs(ht-De),De=ht));0<Be.data.length&&(yt/=Be.data.length-Ie),(Ee===void 0||Le<=Ee)&&($e===void 0||$e<yt)&&1.99<yt&&(Ee=Le,Xe=pt,$e=yt)}return{successful:!!(p.delimiter=Xe),bestDelimiter:Xe}})(G,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=Z.bestDelimiter:(j=!0,p.delimiter=c.DefaultDelimiter),J.meta.delimiter=p.delimiter),L(p));return p.preview&&p.header&&Z.preview++,y=G,C=new T(Z),J=C.parse(y,U,ne),me(),q?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,C.abort(),y=g(p.chunk)?"":y.substring(C.getCharIndex())},this.resume=function(){B.streamer._halted?(q=!1,B.streamer.parseChunk(y,!0)):setTimeout(B.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,C.abort(),J.meta.aborted=!0,g(p.complete)&&p.complete(J),y=""},this.guessLineEndings=function(te,Z){te=te.substring(0,1048576);var Z=new RegExp(I(Z)+"([^]*?)"+I(Z),"gm"),ne=(te=te.replace(Z,"")).split("\r"),Z=te.split(`
`),te=1<Z.length&&Z[0].length<ne[0].length;if(ne.length===1||te)return`
`;for(var ce=0,fe=0;fe<ne.length;fe++)ne[fe][0]===`
`&&ce++;return ce>=ne.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(p){var y=(p=p||{}).delimiter,C=p.newline,j=p.comments,A=p.step,P=p.preview,W=p.fastMode,F=null,H=!1,B=p.quoteChar==null?'"':p.quoteChar,D=B;if(p.escapeChar!==void 0&&(D=p.escapeChar),(typeof y!="string"||-1<c.BAD_DELIMITERS.indexOf(y))&&(y=","),j===y)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var z=0,q=!1;this.parse=function(Q,Y,J){if(typeof Q!="string")throw new Error("Input must be a string");var ie=Q.length,me=y.length,ve=C.length,$=j.length,G=g(A),U=[],ne=[],Z=[],te=z=0;if(!Q)return Le();if(W||W!==!1&&Q.indexOf(B)===-1){for(var ce=Q.split(C),fe=0;fe<ce.length;fe++){if(Z=ce[fe],z+=Z.length,fe!==ce.length-1)z+=C.length;else if(J)return Le();if(!j||Z.substring(0,$)!==j){if(G){if(U=[],$e(Z.split(y)),yt(),q)return Le()}else $e(Z.split(y));if(P&&P<=fe)return U=U.slice(0,P),Le(!0)}}return Le()}for(var he=Q.indexOf(y,z),_e=Q.indexOf(C,z),Xe=new RegExp(I(D)+I(B),"g"),Ee=Q.indexOf(B,z);;)if(Q[z]===B)for(Ee=z,z++;;){if((Ee=Q.indexOf(B,Ee+1))===-1)return J||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:z}),ht();if(Ee===ie-1)return ht(Q.substring(z,Ee).replace(Xe,B));if(B===D&&Q[Ee+1]===D)Ee++;else if(B===D||Ee===0||Q[Ee-1]!==D){he!==-1&&he<Ee+1&&(he=Q.indexOf(y,Ee+1));var De=qe((_e=_e!==-1&&_e<Ee+1?Q.indexOf(C,Ee+1):_e)===-1?he:Math.min(he,_e));if(Q.substr(Ee+1+De,me)===y){Z.push(Q.substring(z,Ee).replace(Xe,B)),Q[z=Ee+1+De+me]!==B&&(Ee=Q.indexOf(B,z)),he=Q.indexOf(y,z),_e=Q.indexOf(C,z);break}if(De=qe(_e),Q.substring(Ee+1+De,Ee+1+De+ve)===C){if(Z.push(Q.substring(z,Ee).replace(Xe,B)),pt(Ee+1+De+ve),he=Q.indexOf(y,z),Ee=Q.indexOf(B,z),G&&(yt(),q))return Le();if(P&&U.length>=P)return Le(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:z}),Ee++}}else if(j&&Z.length===0&&Q.substring(z,z+$)===j){if(_e===-1)return Le();z=_e+ve,_e=Q.indexOf(C,z),he=Q.indexOf(y,z)}else if(he!==-1&&(he<_e||_e===-1))Z.push(Q.substring(z,he)),z=he+me,he=Q.indexOf(y,z);else{if(_e===-1)break;if(Z.push(Q.substring(z,_e)),pt(_e+ve),G&&(yt(),q))return Le();if(P&&U.length>=P)return Le(!0)}return ht();function $e(Ie){U.push(Ie),te=z}function qe(Ie){var Be=0;return Be=Ie!==-1&&(Ie=Q.substring(Ee+1,Ie))&&Ie.trim()===""?Ie.length:Be}function ht(Ie){return J||(Ie===void 0&&(Ie=Q.substring(z)),Z.push(Ie),z=ie,$e(Z),G&&yt()),Le()}function pt(Ie){z=Ie,$e(Z),Z=[],_e=Q.indexOf(C,z)}function Le(Ie){if(p.header&&!Y&&U.length&&!H){var Be=U[0],Oe=Object.create(null),Te=new Set(Be);let Et=!1;for(let Ht=0;Ht<Be.length;Ht++){let Je=Be[Ht];if(Oe[Je=g(p.transformHeader)?p.transformHeader(Je,Ht):Je]){let we,nt=Oe[Je];for(;we=Je+"_"+nt,nt++,Te.has(we););Te.add(we),Be[Ht]=we,Oe[Je]++,Et=!0,(F=F===null?{}:F)[we]=Je}else Oe[Je]=1,Be[Ht]=Je;Te.add(Je)}Et&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:U,errors:ne,meta:{delimiter:y,linebreak:C,aborted:q,truncated:!!Ie,cursor:te+(Y||0),renamedHeaders:F}}}function yt(){A(Le()),U=[],ne=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return z}}function v(p){var y=p.data,C=a[y.workerId],j=!1;if(y.error)C.userError(y.error,y.file);else if(y.results&&y.results.data){var A={abort:function(){j=!0,_(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(g(C.userStep)){for(var P=0;P<y.results.data.length&&(C.userStep({data:y.results.data[P],errors:y.results.errors,meta:y.results.meta},A),!j);P++);delete y.results}else g(C.userChunk)&&(C.userChunk(y.results,A,y.file),delete y.results)}y.finished&&!j&&_(y.workerId,y.results)}function _(p,y){var C=a[p];g(C.userComplete)&&C.userComplete(y),C.terminate(),delete a[p]}function R(){throw new Error("Not implemented.")}function L(p){if(typeof p!="object"||p===null)return p;var y,C=Array.isArray(p)?[]:{};for(y in p)C[y]=L(p[y]);return C}function N(p,y){return function(){p.apply(y,arguments)}}function g(p){return typeof p=="function"}return c.parse=function(p,y){var C=(y=y||{}).dynamicTyping||!1;if(g(C)&&(y.dynamicTypingFunction=C,C={}),y.dynamicTyping=C,y.transform=!!g(y.transform)&&y.transform,!y.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(p),C=new(y.download?h:S)(y)):p.readable===!0&&g(p.read)&&g(p.on)?C=new E(y):(r.File&&p instanceof File||p instanceof Object)&&(C=new m(y)),C.stream(p);(C=(()=>{var j;return!!c.WORKERS_SUPPORTED&&(j=(()=>{var A=r.URL||r.webkitURL||null,P=n.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(j=new r.Worker(j)).onmessage=v,j.id=u++,a[j.id]=j)})()).userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=g(y.step),y.chunk=g(y.chunk),y.complete=g(y.complete),y.error=g(y.error),delete y.worker,C.postMessage({input:p,config:y,workerId:C.id})},c.unparse=function(p,y){var C=!1,j=!0,A=",",P=`\r
`,W='"',F=W+W,H=!1,B=null,D=!1,z=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Y){return y.delimiter.indexOf(Y)!==-1}).length||(A=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(C=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(H=y.skipEmptyLines),typeof y.newline=="string"&&(P=y.newline),typeof y.quoteChar=="string"&&(W=y.quoteChar),typeof y.header=="boolean"&&(j=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");B=y.columns}y.escapeChar!==void 0&&(F=y.escapeChar+W),y.escapeFormulae instanceof RegExp?D=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(W),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return q(null,p,H);if(typeof p[0]=="object")return q(B||Object.keys(p[0]),p,H)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||B),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),q(p.fields||[],p.data||[],H);throw new Error("Unable to serialize unrecognized input");function q(Y,J,ie){var me="",ve=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(Y)&&0<Y.length),$=!Array.isArray(J[0]);if(ve&&j){for(var G=0;G<Y.length;G++)0<G&&(me+=A),me+=Q(Y[G],G);0<J.length&&(me+=P)}for(var U=0;U<J.length;U++){var ne=(ve?Y:J[U]).length,Z=!1,te=ve?Object.keys(J[U]).length===0:J[U].length===0;if(ie&&!ve&&(Z=ie==="greedy"?J[U].join("").trim()==="":J[U].length===1&&J[U][0].length===0),ie==="greedy"&&ve){for(var ce=[],fe=0;fe<ne;fe++){var he=$?Y[fe]:fe;ce.push(J[U][he])}Z=ce.join("").trim()===""}if(!Z){for(var _e=0;_e<ne;_e++){0<_e&&!te&&(me+=A);var Xe=ve&&$?Y[_e]:_e;me+=Q(J[U][Xe],_e)}U<J.length-1&&(!ie||0<ne&&!te)&&(me+=P)}}return me}function Q(Y,J){var ie,me;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(me=!1,D&&typeof Y=="string"&&D.test(Y)&&(Y="'"+Y,me=!0),ie=Y.toString().replace(z,F),(me=me||C===!0||typeof C=="function"&&C(Y,J)||Array.isArray(C)&&C[J]||((ve,$)=>{for(var G=0;G<$.length;G++)if(-1<ve.indexOf($[G]))return!0;return!1})(ie,c.BAD_DELIMITERS)||-1<ie.indexOf(A)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?W+ie+W:ie)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=b,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=S,c.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var y=p.config||{},C=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)C.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},y)})}),j(),this;function j(){if(C.length===0)g(p.complete)&&p.complete();else{var P,W,F,H,B=C[0];if(g(p.before)){var D=p.before(B.file,B.inputElem);if(typeof D=="object"){if(D.action==="abort")return P="AbortError",W=B.file,F=B.inputElem,H=D.reason,void(g(p.error)&&p.error({name:P},W,F,H));if(D.action==="skip")return void A();typeof D.config=="object"&&(B.instanceConfig=i.extend(B.instanceConfig,D.config))}else if(D==="skip")return void A()}var z=B.instanceConfig.complete;B.instanceConfig.complete=function(q){g(z)&&z(q,B.file,B.inputElem),A()},c.parse(B.file,B.instanceConfig)}}function A(){C.splice(0,1),j()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(S.prototype=Object.create(S.prototype)).constructor=S,(E.prototype=Object.create(f.prototype)).constructor=E,c})})(MP);var S7=MP.exports;const DP=fh(S7),ug=["name","ingredient","class","price","image"];function E7(){const[t,e]=w.useState(""),[n,r]=w.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=w.useState(null);if(w.useEffect(()=>{ka(async()=>{const{getAuth:F,onAuthStateChanged:H}=await Promise.resolve().then(()=>zk);return{getAuth:F,onAuthStateChanged:H}},void 0).then(({getAuth:F,onAuthStateChanged:H})=>{const B=F();H(B,async D=>{if(D){const{getDoc:z,doc:q}=await ka(async()=>{const{getDoc:Y,doc:J}=await Promise.resolve().then(()=>K0);return{getDoc:Y,doc:J}},void 0),Q=await z(q(ee,"users",D.uid));a(Q.exists()?Q.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=w.useState(null),[f,h]=w.useState(null),[m,S]=w.useState([]),[E,b]=w.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,T]=w.useState(null),[v,_]=w.useState([]),[R,L]=w.useState([]),N=m.filter(F=>{var B,D,z;const H=t.toLowerCase();return((B=F.name)==null?void 0:B.toLowerCase().includes(H))||((D=F.ingredient)==null?void 0:D.toLowerCase().includes(H))||((z=F.class)==null?void 0:z.toLowerCase().includes(H))}),g=Dn();w.useEffect(()=>{const F=Pr(g,async H=>{if(H){c(H);try{const B=await sn(be(ee,"users",H.uid));B.exists()?h(B.data()):h({role:"customer"})}catch(B){console.error("Error fetching user doc:",B),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[g]),w.useEffect(()=>{if(!u)return;const F=Ct(Ae(ee,"products"),H=>{const B=H.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.ownerId===u.uid);S(B)});return()=>F()},[u]),w.useEffect(()=>{if(!u)return;const F=Ct(Ae(ee,"batches"),H=>{const B=H.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.uploadedBy===u.uid);L(B)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),y=async F=>{if(F.preventDefault(),!u)return xe.error("Please log in first");if(!f)return xe.info("Loading user data...");const{name:H,ingredient:B,class:D,price:z,image:q}=E;if(!H||!B||!D||!z)return xe.warn("Please fill all required fields");const Q=parseInt(z,10);if(isNaN(Q)||Q<0)return xe.warn("Price must be a positive number");const{ownerSlug:Y,businessName:J}=p(),ie=(f==null?void 0:f.pharmacist)||null;try{I?(await en(be(ee,"products",I),{name:H,ingredient:B,class:D,price:Q,image:q||"",ownerSlug:Y||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:ie||null}),T(null)):await xo(Ae(ee,"products"),{name:H,ingredient:B,class:D,price:Q,image:q||"",ownerId:u.uid,ownerSlug:Y||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:ie||null}),b({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(me){console.error(me),xe.error("Error saving medicine")}},C=F=>{const H=F.target.files[0];H&&DP.parse(H,{header:!0,skipEmptyLines:!0,complete:B=>{const D=B.data.map(z=>{const q={};return ug.forEach(Q=>q[Q]=z[Q]||(Q==="price"?0:"N/A")),q});_(D)}})},j=async()=>{if(!v.length)return xe.info("No CSV data to upload");if(!u)return xe.error("Please log in first");if(!f)return xe.info("Loading user data...");const F=be(Ae(ee,"batches")),H=[],{ownerSlug:B,businessName:D}=p(),z=(f==null?void 0:f.pharmacist)||null;for(let q of v)try{const Q=await xo(Ae(ee,"products"),{name:q.name,ingredient:q.ingredient,class:q.class,price:parseInt(q.price,10)||0,image:q.image==="N/A"?"":q.image,batchId:F.id,ownerId:u.uid,ownerSlug:B||"",businessName:D||"",isPOM:!!q.isPOM,pharmacist:z||null});H.push(Q.id)}catch(Q){console.error("CSV upload error for row:",q,Q)}try{await nr(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:H})}catch(q){console.error("Failed to create batch doc:",q)}alert(` ${H.length} medicines uploaded`),xe.success(` ${H.length} medicines uploaded`),_([])},A=F=>{b({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),T(F.id),r("add")},P=async F=>{if(window.confirm("Delete this medicine?"))try{await Ir(be(ee,"products",F.id)),xe.success("Medicine deleted.")}catch(H){console.error(H),xe.error("Error deleting medicine")}},W=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let H of F.medicineIds)await Ir(be(ee,"products",H));await Ir(be(ee,"batches",F.id)),xe.success("Batch deleted.")}catch(H){console.error(H),xe.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:y,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:E.name,onChange:F=>b({...E,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:E.ingredient,onChange:F=>b({...E,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:E.class,onChange:F=>b({...E,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price ()",value:E.price,onChange:F=>b({...E,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:E.image,onChange:F=>b({...E,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:E.isPOM,onChange:F=>b({...E,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),b({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:C,style:{marginBottom:"10px"}}),v.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:ug.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:v.map((F,H)=>l.jsx("tr",{children:ug.map(B=>l.jsx("td",{children:F[B]},B))},H))})]}),l.jsx("button",{onClick:j,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),R.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:R.map(F=>{var H;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((H=F.medicineIds)==null?void 0:H.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>W(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(T7,{userId:u.uid})]})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function T7({userId:t}){const[e,n]=pe.useState(null),[r,i]=pe.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=pe.useState(!1),[a,u]=pe.useState(!1);pe.useEffect(()=>{const h=be(ee,"users",t);sn(h).then(m=>{const S=m.data();S&&S.pharmacist&&(n(S.pharmacist),i({...S.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await en(be(ee,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}const C7=(t,e)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),I7=t=>V({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),k7=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=V({html:C7(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:V({margin:0},I7(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function R7(t){const e=gt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(w.Fragment,{children:[l.jsx(qR,{styles:i=>k7(i,r)}),n]})}function P7(t){return mt("MuiDivider",t)}const TS=ct("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),A7=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],j7=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return bt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},P7,r)},O7=je("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Er(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>V({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),N7=je("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>V({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),$P=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:S="fullWidth"}=r,E=Ce(r,A7),b=V({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:S}),I=j7(b);return l.jsx(O7,V({as:a,className:Ne(I.root,o),role:h,ref:n,ownerState:b},E,{children:s?l.jsx(N7,{className:I.wrapper,ownerState:b,children:s}):null}))});$P.muiSkipListHighlight=!0;const CS=w.createContext();function L7(t){return mt("MuiGrid",t)}const M7=[0,1,2,3,4,5,6,7,8,9,10],D7=["column-reverse","column","row-reverse","row"],$7=["nowrap","wrap-reverse","wrap"],$l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Xu=ct("MuiGrid",["root","container","item","zeroMinWidth",...M7.map(t=>`spacing-xs-${t}`),...D7.map(t=>`direction-xs-${t}`),...$7.map(t=>`wrap-xs-${t}`),...$l.map(t=>`grid-xs-${t}`),...$l.map(t=>`grid-sm-${t}`),...$l.map(t=>`grid-md-${t}`),...$l.map(t=>`grid-lg-${t}`),...$l.map(t=>`grid-xl-${t}`)]),F7=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ra(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function V7({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=_p({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${Ra(f)})`;c={flexBasis:h,maxWidth:h}}}s=V({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function z7({theme:t,ownerState:e}){const n=_p({values:e.direction,breakpoints:t.breakpoints.values});return Ar({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Xu.item}`]={maxWidth:"none"}),i})}function FP({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function B7({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=_p({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=FP({breakpoints:t.breakpoints.values,values:s})),i=Ar({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${Ra(f)}`,[`& > .${Xu.item}`]:{paddingTop:Ra(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${Xu.item}`]:{paddingTop:0}}})}return i}function U7({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=_p({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=FP({breakpoints:t.breakpoints.values,values:s})),i=Ar({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${Ra(f)})`,marginLeft:`-${Ra(f)}`,[`& > .${Xu.item}`]:{paddingLeft:Ra(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${Xu.item}`]:{paddingLeft:0}}})}return i}function W7(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const H7=je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=W7(o,c,e));const h=[];return c.forEach(m=>{const S=n[m];S&&h.push(e[`grid-${m}-${String(S)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>V({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),z7,B7,U7,V7);function q7(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const K7=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=q7(s,u));const f=[];u.forEach(m=>{const S=t[m];S&&f.push(`grid-${m}-${String(S)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return bt(h,L7,e)},Jt=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiGrid"}),{breakpoints:i}=kx(),s=Ip(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:S,spacing:E=0,wrap:b="wrap",zeroMinWidth:I=!1}=s,T=Ce(s,F7),v=S||E,_=u||E,R=w.useContext(CS),L=f?a||12:R,N={},g=V({},T);i.keys.forEach(C=>{T[C]!=null&&(N[C]=T[C],delete g[C])});const p=V({},s,{columns:L,container:f,direction:h,item:m,rowSpacing:v,columnSpacing:_,wrap:b,zeroMinWidth:I,spacing:E},N,{breakpoints:i.keys}),y=K7(p);return l.jsx(CS.Provider,{value:L,children:l.jsx(H7,V({ownerState:p,className:Ne(y.root,o),as:c,ref:n},g))})}),IS=ct("MuiListItemIcon",["root","alignItemsFlexStart"]),kS=ct("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function G7(t){return mt("MuiMenuItem",t)}const Fl=ct("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Q7=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Y7=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},X7=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=bt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},G7,o);return V({},o,u)},J7=je(WR,{shouldForwardProp:t=>Lr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Y7})(({theme:t,ownerState:e})=>V({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Er(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Fl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Er(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Fl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Er(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Er(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Fl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${TS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${TS.inset}`]:{marginLeft:52},[`& .${kS.root}`]:{marginTop:0,marginBottom:0},[`& .${kS.inset}`]:{paddingLeft:36},[`& .${IS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${IS.root} svg`]:{fontSize:"1.25rem"}}))),RS=w.forwardRef(function(e,n){const r=gt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,S=Ce(r,Q7),E=w.useContext(Xy),b=w.useMemo(()=>({dense:o||E.dense||!1,disableGutters:u}),[E.dense,o,u]),I=w.useRef(null);Gi(()=>{i&&I.current&&I.current.focus()},[i]);const T=V({},r,{dense:b.dense,divider:a,disableGutters:u}),v=X7(r),_=Vn(I,n);let R;return r.disabled||(R=h!==void 0?h:-1),l.jsx(Xy.Provider,{value:b,children:l.jsx(J7,V({ref:_,role:f,tabIndex:R,component:s,focusVisibleClassName:Ne(v.focusVisible,c),className:Ne(v.root,m)},S,{ownerState:T,classes:v}))})});var Ju=function(){return Ju=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ju.apply(this,arguments)};function Vx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Ed=[];function Z7(){var t="https://js.paystack.co/v1/inline.js",e=w.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return w.useEffect(function(){if(Ed.includes(t))r({loaded:!0,error:!1});else{Ed.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Ed.indexOf(t);a>=0&&Ed.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var eH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function VP(t){var e=Z7(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=Ju(Ju({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,S=c.phone,E=c.email,b=c.amount,I=c.reference,T=c.metadata,v=T===void 0?{}:T,_=c.currency,R=_===void 0?"NGN":_,L=c.channels,N=c.label,g=N===void 0?"":N,p=c.plan,y=p===void 0?"":p,C=c.quantity,j=C===void 0?"":C,A=c.subaccount,P=A===void 0?"":A,W=c.transaction_charge,F=W===void 0?0:W,H=c.bearer,B=H===void 0?"account":H,D=c.split,z=c.split_code;if(n){var q={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:E,firstname:h,lastname:m,phone:S,amount:b,currency:R,plan:y,quantity:j,channels:L,subaccount:P,transaction_charge:F,bearer:B,label:g,metadata:v,split:D,split_code:z,"data-custom-button":c["data-custom-button"]||""};eH(q)}}return w.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var tH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=Vx(t,["text","className","children","onSuccess","onClose"]),a=VP(o);return pe.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},zP=w.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),nH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Vx(t,["children","onSuccess","onClose"]),s=VP(i);return pe.createElement(zP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},rH=function(t){var e=t.children,n=t.ref,r=w.useContext(zP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};w.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=Vx(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return pe.createElement(nH,Ju({},s,{onSuccess:o,onClose:a}),pe.createElement(rH,{ref:e},n))});async function iH(t){if(!t)return null;const e=mi(Ae(ee,"coupons"),Kr("code","==",t)),n=await on(e);return n.empty?null:n.docs[0].data()}function sH(){var B,D;const[t,e]=w.useState(""),[n,r]=w.useState(null),[i,s]=w.useState(""),o=Dn(),a=Ls(),u=ko(),[c,f]=w.useState(null),[h,m]=w.useState(((B=u.state)==null?void 0:B.cart)||[]),[S,E]=w.useState(((D=u.state)==null?void 0:D.total)||0),[b,I]=w.useState("standard"),[T,v]=w.useState(500),[_,R]=w.useState(1e3),[L,N]=w.useState(S+T),[g,p]=w.useState({name:"",phone:"",address:"",city:"",state:"",instructions:""}),y="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";w.useEffect(()=>Pr(o,async q=>{if(!q)return a("/auth");if(f(q),h.length===0){const Q=be(ee,"carts",q.uid),Y=await sn(Q);if(Y.exists()){const J=Y.data().items||[];m(J);const ie=J.reduce((me,ve)=>me+ve.price*(ve.quantity||1),0);E(ie),N(ie+T)}}}),[o,h.length,T,a]),w.useEffect(()=>{let z=h.some(J=>J.isPOM)?500:0,q=T,Q=S,Y=0;n&&(n.removePOM&&(z=0),n.removeDelivery&&(q=0),n.percent>0&&(Y=Math.round((Q+z+q)*(n.percent/100)))),R(z),N(Q+z+q-Y)},[S,T,h,n]),w.useEffect(()=>{v(b==="standard"?500:3e3)},[b]);const C=async()=>{s("");const z=await iH(t.trim().toUpperCase());z?(r(z),s("")):(r(null),s("Invalid coupon code"))},j=()=>["name","phone","address","city","state"].every(q=>{var Q;return(Q=g[q])==null?void 0:Q.trim()}),A={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:L*100,publicKey:y},P=async z=>{if(!c||h.length===0)return;const q=be(Ae(ee,"orders"));await nr(q,{userId:c.uid,items:h,subtotal:S,deliveryFee:T,pomFee:_,total:L,status:"Processing",date:new Date().toISOString(),paymentReference:(z==null?void 0:z.reference)||"COUPON_FREE",deliveryInfo:g,coupon:n||null,deliveryType:b}),await nr(be(ee,"carts",c.uid),{items:[]}),m([]),E(0),N(0),xe.success(" Payment successful! Order created."),h.some(Q=>Q.isPOM)?a("/medinterface"):a("/orders")},W=()=>{xe.info("Payment cancelled.")},F=z=>{p({...g,[z.target.name]:z.target.value})},H=()=>{alert(" Please complete all delivery information before proceeding.")};return c?l.jsx(cn,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(gu,{children:l.jsxs(yu,{children:[l.jsx(lt,{variant:"h5",fontWeight:700,gutterBottom:!0,children:" Checkout"}),h.length===0?l.jsx(lt,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(lt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Order Summary"}),l.jsx(cn,{sx:{mb:2},children:h.map((z,q)=>l.jsxs(cn,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(lt,{children:[z.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",z.quantity||1]})]}),l.jsxs(lt,{fontWeight:500,children:["",z.price*(z.quantity||1)]})]},q))}),l.jsxs(Jt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{children:"Subtotal:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsxs(lt,{fontWeight:500,children:["",S]})}),l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{children:"Delivery Type:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsx(KR,{fullWidth:!0,size:"small",children:l.jsxs(Dx,{value:b,onChange:z=>I(z.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(RS,{value:"standard",children:"Standard (1-2 days) - 500"}),l.jsx(RS,{value:"express",children:"Express (30mins-3hrs) - 3000"})]})})}),l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{children:"Delivery Fee:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsxs(lt,{fontWeight:500,children:["",n!=null&&n.removeDelivery?0:T]})}),l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{color:_>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsxs(lt,{fontWeight:500,color:_>0?"error":"inherit",children:["",n!=null&&n.removePOM?0:_]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{color:"primary",children:"Discount:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsxs(lt,{color:"primary",children:["-",Math.round((S+_+(n!=null&&n.removeDelivery?0:T))*(n.percent/100))]})})]}),l.jsx(Jt,{item:!0,xs:7,children:l.jsx(lt,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Jt,{item:!0,xs:5,children:l.jsxs(lt,{fontWeight:700,children:["",L]})})]}),l.jsxs(cn,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(rs,{size:"small",label:"Coupon code",value:t,onChange:z=>e(z.target.value),sx:{mr:1,flex:1}}),l.jsx(so,{variant:"outlined",onClick:C,children:"Apply"})]}),i&&l.jsx(Alert,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(Alert,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx($P,{sx:{my:3}}),l.jsx(lt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:" Delivery Information"}),l.jsxs(Jt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Jt,{item:!0,xs:12,sm:6,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:g.name,onChange:F})}),l.jsx(Jt,{item:!0,xs:12,sm:6,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:g.phone,onChange:F})}),l.jsx(Jt,{item:!0,xs:12,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:g.address,onChange:F})}),l.jsx(Jt,{item:!0,xs:12,sm:6,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"City",name:"city",value:g.city,onChange:F})}),l.jsx(Jt,{item:!0,xs:12,sm:6,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"State",name:"state",value:g.state,onChange:F})}),l.jsx(Jt,{item:!0,xs:12,children:l.jsx(rs,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:g.instructions,onChange:F,multiline:!0,minRows:2})})]}),l.jsx(cn,{sx:{mt:2,textAlign:"center"},children:j()?L>0?l.jsx(tH,{text:"Pay Now ",className:"paystack-button",...A,callback:P,close:W,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(so,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>P({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(so,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:H,disabled:!0,children:"Pay Now "})})]})]})})}):l.jsx("p",{children:"Loading..."})}function oH(){const[t,e]=w.useState([]),[n,r]=w.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=w.useState(null);w.useEffect(()=>{const c=Ct(Ae(ee,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await en(be(ee,"coupons",i),n),s(null)):await xo(Ae(ee,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await Ir(be(ee,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:" Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function aH(){const[t,e]=w.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=w.useState([]),[i,s]=w.useState(null),[o,a]=w.useState({}),[u,c]=w.useState(!1),[f,h]=w.useState("");w.useEffect(()=>{const v=Ct(Ae(ee,"deliveryAgents"),_=>{r(_.docs.map(R=>({id:R.id,...R.data()})))});return()=>v()},[]),w.useEffect(()=>{async function v(){const _=mi(Ae(ee,"deliveryAgents"));(await on(_)).forEach(async L=>{typeof L.data().approved>"u"&&await be(ee,"deliveryAgents",L.id).update({approved:!1})})}v()},[]);const m=v=>{a({...o,[v.target.name]:v.target.value})},S=v=>{s(v.id),a(v)},E=async v=>{await en(be(ee,"deliveryAgents",v),o),s(null),a({})},b=async v=>{window.confirm("Delete this delivery agent?")&&await Ir(be(ee,"deliveryAgents",v))},I=async v=>{c(!0),h(""),await en(be(ee,"deliveryAgents",v),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},T=async v=>{c(!0),h(""),await en(be(ee,"deliveryAgents",v),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(v=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===v.id?l.jsxs("form",{onSubmit:_=>{_.preventDefault(),E(v.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(pe.Fragment,{children:[l.jsx("img",{src:v.logoUrl,alt:v.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:v.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:v.businessAddress}),l.jsxs("div",{children:["RC Number: ",v.rcNumber]}),l.jsxs("div",{children:["Phone: ",v.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",v.whatsappNumber]}),l.jsxs("div",{children:["Email: ",v.email]}),l.jsxs("div",{children:["Coverage: ",v.coverageArea]}),l.jsxs("div",{children:["Hours: ",v.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>S(v),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>b(v.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!v.approved&&l.jsx("button",{onClick:()=>I(v.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),v.approved&&l.jsx("button",{onClick:()=>T(v.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),v.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:" Approved"})]})},v.id))]})})}function lH(){const[t,e]=w.useState([]);w.useEffect(()=>{(async()=>{try{const oe=await on(Ae(ee,"deliveryAgents"));e(oe.docs.map(de=>({id:de.id,...de.data()})))}catch{e([])}})()},[]);const[n,r]=w.useState({}),i=async(O,oe)=>{try{const de=t.find(ot=>ot.id===oe),Ve=(de==null?void 0:de.userId)||"";await en(be(ee,"orders",O),{riderId:Ve,assignedAgentId:Ve,assignedAgentName:de?de.companyName||de.name||de.email||de.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(ot=>({...ot,[O]:!1})),xe.success("Order reassigned successfully.")}catch{xe.error("Failed to reassign order.")}},s=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await en(be(ee,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),xe.success("Order cancelled.")}catch{xe.error("Failed to cancel order.")}},[o,a]=w.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=w.useState(""),[f,h]=w.useState(""),[m,S]=w.useState(""),[E,b]=w.useState(""),[I,T]=w.useState({}),[v,_]=w.useState({}),L=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,g]=pe.useState(null);if(w.useEffect(()=>{ka(async()=>{const{getAuth:O,onAuthStateChanged:oe}=await Promise.resolve().then(()=>zk);return{getAuth:O,onAuthStateChanged:oe}},void 0).then(({getAuth:O,onAuthStateChanged:oe})=>{const de=O();oe(de,async Ve=>{if(Ve){const{getDoc:ot,doc:rt}=await ka(async()=>{const{getDoc:et,doc:yr}=await Promise.resolve().then(()=>K0);return{getDoc:et,doc:yr}},void 0),{db:It}=await ka(async()=>{const{db:et}=await Promise.resolve().then(()=>f5);return{db:et}},void 0),Re=await ot(rt(It,"users",Ve.uid));g(Re.exists()?Re.data().role:null)}else g(null)})})},[]),L||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,y]=w.useState([]);w.useEffect(()=>{const O=Ct(Ae(ee,"businessRegistrations"),oe=>{y(oe.docs.map(de=>({id:de.id,...de.data()})))});return()=>O()},[]);const C=async(O,oe)=>{if(await en(be(ee,"businessRegistrations",O.id),{status:oe}),oe==="declined"){const de=mi(Ae(ee,"orders"),Kr("userId","==",O.businessId),Kr("items","array-contains-any",O.cart)),Ve=await on(de);for(const ot of Ve.docs)await en(be(ee,"orders",ot.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}xe.info(`Registration ${oe}`)},[j,A]=w.useState(""),[P,W]=w.useState(""),[F,H]=w.useState(""),[B,D]=w.useState(""),[z,q]=w.useState(""),Q=()=>{let O=Do;j&&(O=O.filter(Re=>new Date(Re.completedAt||Re.date)>=new Date(j))),P&&(O=O.filter(Re=>new Date(Re.completedAt||Re.date)<=new Date(P))),F&&(O=O.filter(Re=>Re.medicVerifiedBy===F)),B&&(O=O.filter(Re=>Re.items&&Re.items.some(et=>et.name&&et.name.toLowerCase().includes(B.toLowerCase())))),z==="true"&&(O=O.filter(Re=>Re.items&&Re.items.some(et=>et.isPOM))),z==="false"&&(O=O.filter(Re=>Re.items&&!Re.items.some(et=>et.isPOM)));const oe=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],de=O.map(Re=>[Re.id,new Date(Re.completedAt||Re.date).toLocaleString(),He[Re.userId]&&He[Re.userId].email?He[Re.userId].email:Re.userId,Re.medicVerifiedBy?(Ie.concat(Oe).find(et=>et.id===Re.medicVerifiedBy)||{}).name||Re.medicVerifiedBy:"",Re.total||Yr(Re.items||[]),Re.items?Re.items.map(et=>`${et.name} (${et.quantity||1})`).join("; "):"",Re.items?Re.items.filter(et=>et.isPOM).map(et=>et.name).join("; "):""]),Ve=[oe,...de].map(Re=>Re.map(et=>`"${String(et).replace(/"/g,'""')}"`).join(",")).join(`\r
`),ot=new Blob([Ve],{type:"text/csv"}),rt=URL.createObjectURL(ot),It=document.createElement("a");It.href=rt,It.download=`orders_${Date.now()}.csv`,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(rt)},[Y,J]=w.useState(""),[ie,me]=w.useState(null),[ve,$]=w.useState(null),[G,U]=w.useState([]),[ne,Z]=w.useState([]),[te,ce]=w.useState(""),[fe,he]=w.useState([]),[_e,Xe]=w.useState([]),[Ee,De]=w.useState("products"),[$e,qe]=w.useState({}),[ht,pt]=w.useState(null),[Le,yt]=w.useState(!0),[Ie,Be]=w.useState([]),[Oe,Te]=w.useState([]),[Et,Ht]=w.useState(""),[Je,we]=w.useState("date-desc"),nt=Dn();w.useEffect(()=>{const O=Pr(nt,async oe=>{if(oe){me(oe);const de=await sn(be(ee,"users",oe.uid));$(de.exists()?de.data():{role:"customer"})}else me(null),$(null)});return()=>O()},[nt]),w.useEffect(()=>{const O=Ct(Ae(ee,"products"),de=>U(de.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),oe=Ct(Ae(ee,"batches"),de=>{Z(de.docs.map(Ve=>({id:Ve.id,...Ve.data()}))),yt(!1)});return()=>{O(),oe()}},[]),w.useEffect(()=>{if(!ve)return;const O=Ct(Ae(ee,"users"),oe=>he(oe.docs.map(de=>({id:de.id,...de.data()}))));return()=>O()},[ve]),w.useEffect(()=>{const O=Ct(Ae(ee,"orders"),oe=>{const de=oe.docs.map(Ve=>({id:Ve.id,...Ve.data()}));de.sort((Ve,ot)=>new Date(ot.date)-new Date(Ve.date)),Xe(de)});return()=>O()},[]);const He={};fe.forEach(O=>He[O.id]=O);const Qr=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await Ir(be(ee,"products",O.id)),xe.success("Medicine deleted.")}catch(oe){console.error(oe),xe.error("Error deleting medicine")}},No=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let oe of O.medicineIds)await Ir(be(ee,"products",oe));await Ir(be(ee,"batches",O.id))}catch(oe){console.error(oe),alert("Error deleting batch")}},pl=async(O,oe)=>{try{await en(be(ee,"users",O),{role:oe}),alert("Role updated!")}catch(de){console.error(de),alert("Error updating role")}},Lo=O=>qe(oe=>({...oe,[O]:!oe[O]}));w.useEffect(()=>{on(Ae(ee,"verifyMedics")).then(O=>{Be(O.docs.map(oe=>({id:oe.id,...oe.data(),type:"Prescription Verification"})))}),on(Ae(ee,"consultMedics")).then(O=>{Te(O.docs.map(oe=>({id:oe.id,...oe.data(),type:"Consultation"})))})},[]);const Nc=async O=>{var Ve;const oe=(Ve=O.items)==null?void 0:Ve.some(ot=>ot.isPOM);let de=null;if(oe){if(!Y)return alert("Select a verifying medic before completing POM order.");de=Y}window.confirm("Mark order as completed?")&&(await en(be(ee,"orders",O.id),{status:"Completed",completedBy:ie.uid,completedAt:new Date().toISOString(),medicVerifiedBy:de||null}),alert(" Order marked completed"),J(""))},Yr=O=>O.reduce((oe,de)=>oe+de.price*(de.quantity||1),0);if(!ie)return l.jsx("p",{children:"Please log in to access admin."});if(!ve)return l.jsx("p",{children:"Loading user data..."});if(ve.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Le)return l.jsx("p",{children:"Loading dashboard..."});const Mo=_e.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var de,Ve;if(!Et)return!0;const oe=Et.toLowerCase();return(((de=He[O.userId])==null?void 0:de.email)||O.userId).toLowerCase().includes(oe)||((Ve=O.items)==null?void 0:Ve.some(ot=>ot.name.toLowerCase().includes(oe)))}).sort((O,oe)=>Je==="date-desc"?new Date(oe.date)-new Date(O.date):Je==="date-asc"?new Date(O.date)-new Date(oe.date):Je==="amount-desc"?(oe.total||0)-(O.total||0):Je==="amount-asc"?(O.total||0)-(oe.total||0):0),Do=_e.filter(O=>O.status==="Completed"),Xr=Do.filter(O=>{var de,Ve;if(!Et)return!0;const oe=Et.toLowerCase();return(((de=He[O.userId])==null?void 0:de.email)||O.userId).toLowerCase().includes(oe)||((Ve=O.items)==null?void 0:Ve.some(ot=>ot.name.toLowerCase().includes(oe)))}).sort((O,oe)=>Je==="date-desc"?new Date(oe.completedAt||oe.date)-new Date(O.completedAt||O.date):Je==="date-asc"?new Date(O.completedAt||O.date)-new Date(oe.completedAt||oe.date):Je==="amount-desc"?(oe.total||0)-(O.total||0):Je==="amount-asc"?(O.total||0)-(oe.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,oe)=>{var de,Ve,ot,rt,It;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((de=O.businessInfo)==null?void 0:de.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((Ve=O.businessInfo)==null?void 0:Ve.email)||""]}),l.jsxs("p",{children:["Phone: ",((ot=O.businessInfo)==null?void 0:ot.phone)||""]}),l.jsxs("p",{children:["Address: ",((rt=O.businessInfo)==null?void 0:rt.address)||""]}),l.jsxs("p",{children:["Products: ",(It=O.cart)==null?void 0:It.map(Re=>Re.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>C(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>C(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>De("products"),style:Qo(Ee==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>De("users"),style:Qo(Ee==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>De("orders"),style:Qo(Ee==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>De("medics"),style:Qo(Ee==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>De("deliveryagents"),style:Qo(Ee==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>De("coupons"),style:Qo(Ee==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:" Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",ie.email]}),Ee==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(aH,{})]})]})]}),Ee==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:te,onChange:O=>ce(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),ne.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:cg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ne.filter(O=>{var de;return te?(((de=He[O.uploadedBy])==null?void 0:de.businessName)||"").toLowerCase().includes(te.toLowerCase()):!0}).map(O=>{var oe,de;return l.jsxs("tr",{style:dg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((oe=He[O.uploadedBy])==null?void 0:oe.businessName)||O.uploadedBy}),l.jsx("td",{children:((de=O.medicineIds)==null?void 0:de.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>No(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:" Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:O=>c(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>S(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(G.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:E||"",onChange:O=>b(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(G.map(O=>O.ownerId).filter(Boolean))].map(O=>{var oe;return l.jsx("option",{value:O,children:((oe=He[O])==null?void 0:oe.businessName)||O},O)})]})]}),G.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:cg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price ()"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:G.filter(O=>{var oe,de;return!(u&&!((oe=O.name)!=null&&oe.toLowerCase().includes(u.toLowerCase()))||f&&!((de=O.ingredient)!=null&&de.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||E&&O.ownerId!==E)}).map(O=>{var oe;return l.jsxs("tr",{style:dg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((oe=He[O.ownerId])==null?void 0:oe.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Qr(O),children:"Delete"})})]},O.id)})})]})]}),Ee==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" All Users"}),fe.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:cg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:fe.map(O=>l.jsxs("tr",{style:dg,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:oe=>pl(O.id,oe.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>pt(O),children:"View Details"})})]},O.id))})]}),ht&&l.jsx(uH,{user:ht,medicines:G.filter(O=>O.ownerId===ht.id),orders:_e.filter(O=>O.userId===ht.id),onClose:()=>pt(null)})]}),Ee==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"":""})," Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>Ht(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Mo.length===0?l.jsx("p",{children:"No pending orders."}):Mo.map(O=>{var Jr,zn,Xt,qt,_i;const oe=(Jr=O.items)==null?void 0:Jr.some(Pe=>Pe.isPOM),de=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",Ve=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,ot=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let rt="N/A",It=null,Re=null;if(O.businessId&&He[O.businessId]){const Pe=He[O.businessId];rt=`${Pe.address||""}, ${Pe.city||""}, ${Pe.state||""}`,It=Pe.lat||null,Re=Pe.lng||null}const et=$e[O.id]?I[O.id]?O.items:(zn=O.items)==null?void 0:zn.slice(0,3):[],yr=O.items&&O.items.length>3;return l.jsxs("div",{style:fg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Lo(O.id),children:$e[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Xt=He[O.userId])==null?void 0:Xt.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):de]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Ve&&ot?`${Ve}, ${ot}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",rt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",It&&Re?`${It}, ${Re}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Pe=O.riderId||O.assignedAgentId;let Lt=null;return Pe&&He[Pe]?(Lt=He[Pe],`${Lt.companyName||Lt.name||Lt.email||Pe}${Lt.phoneNumber||Lt.whatsappNumber?` (${[Lt.phoneNumber,Lt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Pe&&t.length?(Lt=t.find($o=>$o.id===Pe),Lt?`${Lt.companyName||Lt.name||Lt.id}${Lt.phoneNumber||Lt.whatsappNumber?` (${[Lt.phoneNumber,Lt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Pe):Pe||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Pe=>({...Pe,[O.id]:!Pe[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:""})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Pe=>{Pe.target.value&&i(O.id,Pe.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Pe=>l.jsxs("option",{value:Pe.id,children:[Pe.companyName||Pe.name||Pe.email||Pe.id,Pe.phoneNumber||Pe.whatsappNumber?` (${[Pe.phoneNumber,Pe.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Pe.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),$e[O.id]&&((qt=O.items)==null?void 0:qt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[O.id]?"none":120,overflowY:yr&&!I[O.id]?"hidden":"auto",marginBottom:4},children:et.map((Pe,Lt)=>l.jsxs("li",{children:[Pe.name," - ",Pe.price," x ",Pe.quantity||1]},Lt))}),yr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>T(Pe=>({...Pe,[O.id]:!Pe[O.id]})),children:I[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",Yr(O.items||[]),oe&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),oe&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Y,onChange:Pe=>J(Pe.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Ie,...Oe].map(Pe=>l.jsxs("option",{value:Pe.id,children:[Pe.name," (",Pe.profession,") - ",Pe.type]},Pe.id))]})]}),l.jsx("button",{onClick:()=>Nc(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((_i=Ie.find(Pe=>Pe.id===O.medicVerifiedBy))==null?void 0:_i.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"":""})," Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>Ht(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Xr.length===0?l.jsx("p",{children:"No completed orders found."}):Xr.map(O=>{var yr,Jr,zn,Xt;const oe=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",de=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Ve=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ot="N/A",rt=null,It=null;if(O.businessId&&He[O.businessId]){const qt=He[O.businessId];ot=`${qt.address||""}, ${qt.city||""}, ${qt.state||""}`,rt=qt.lat||null,It=qt.lng||null}const Re=$e[O.id]?v[O.id]?O.items:(yr=O.items)==null?void 0:yr.slice(0,3):[],et=O.items&&O.items.length>3;return l.jsxs("div",{style:fg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Lo(O.id),children:$e[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Jr=He[O.userId])==null?void 0:Jr.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):oe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ot]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",rt&&It?`${rt}, ${It}`:"N/A"]}),$e[O.id]&&((zn=O.items)==null?void 0:zn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:et&&!v[O.id]?"hidden":"auto",marginBottom:4},children:Re.map((qt,_i)=>l.jsxs("li",{children:[qt.name," - ",qt.price," x ",qt.quantity||1]},_i))}),et&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(qt=>({...qt,[O.id]:!qt[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Yr(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((Xt=Ie.concat(Oe).find(qt=>qt.id===O.medicVerifiedBy))==null?void 0:Xt.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"":""})," Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>Ht(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var yr,Jr,zn;const oe=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",de=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Ve=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ot="N/A",rt=null,It=null;if(O.businessId&&He[O.businessId]){const Xt=He[O.businessId];ot=`${Xt.address||""}, ${Xt.city||""}, ${Xt.state||""}`,rt=Xt.lat||null,It=Xt.lng||null}const Re=$e[O.id]?v[O.id]?O.items:(yr=O.items)==null?void 0:yr.slice(0,3):[],et=O.items&&O.items.length>3;return l.jsxs("div",{style:fg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>Lo(O.id),children:$e[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Jr=He[O.userId])==null?void 0:Jr.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):oe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ot]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",rt&&It?`${rt}, ${It}`:"N/A"]}),$e[O.id]&&((zn=O.items)==null?void 0:zn.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:et&&!v[O.id]?"hidden":"auto",marginBottom:4},children:Re.map((Xt,qt)=>l.jsxs("li",{children:[Xt.name," - ",Xt.price," x ",Xt.quantity||1]},qt))}),et&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(Xt=>({...Xt,[O.id]:!Xt[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ",O.total||Yr(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),Ee==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:" Medical Interface Profiles"}),l.jsx(cH,{})]}),Ee==="coupons"&&l.jsx(oH,{})]})}const Qo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),cg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},dg={borderBottom:"1px solid #eee"},fg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function uH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:[" ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:" Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ",i.price]},i.id))}),l.jsx("h5",{children:" Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function cH(){const[t,e]=pe.useState([]),[n,r]=pe.useState([]),[i,s]=pe.useState([]),[o,a]=pe.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=pe.useState(!1),[f,h]=pe.useState(null);pe.useEffect(()=>{(async()=>{const I=await on(Ae(ee,"verifyMedics"));e(I.docs.map(R=>({id:R.id,...R.data()})));const T=await on(Ae(ee,"consultMedics"));r(T.docs.map(R=>({id:R.id,...R.data()})));const v=await on(Ae(ee,"users")),_=[];v.docs.forEach(R=>{const L=R.data();L.role==="medicine-manager"&&L.pharmacist&&_.push({...L.pharmacist,id:R.id,online:!0})}),s(_)})()},[]);const m=async(b,I)=>{await en(be(ee,b==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),b==="verify"?e(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_)):r(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_))},S=b=>{a({...o,[b.target.name]:b.target.value})},E=async b=>{b.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(v=>v.trim()),whatsapp:o.whatsapp},T=o.section==="verify"?"verifyMedics":"consultMedics";f?await en(be(ee,T,f.id),I):await xo(Ae(ee,T),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:E,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:S,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:S,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:S,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:S,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:S,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:S,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:S,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:S,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((b,I)=>(I.online===!0)-(b.online===!0)).map(b=>{let I=[];return Array.isArray(b.languages)?I=b.languages:typeof b.languages=="string"&&(I=b.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",b),title:b.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:b.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:b.photo,alt:b.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:b.name})}),l.jsx("div",{children:b.profession}),l.jsxs("div",{children:["Pharmacy: ",b.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",b.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${b.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:b.id,section:"verify"}),a({section:"verify",photo:b.photo,name:b.name,profession:b.profession,license:b.license,pharmacyName:b.pharmacyName,languages:Array.isArray(b.languages)?b.languages.join(", "):b.languages,whatsapp:b.whatsapp})},children:"Edit"})]},b.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((b,I)=>(I.online===!0)-(b.online===!0)).map(b=>{let I=[];return Array.isArray(b.languages)?I=b.languages:typeof b.languages=="string"&&(I=b.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",b),title:b.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:b.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:b.photo,alt:b.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:b.name})}),l.jsx("div",{children:b.profession}),l.jsxs("div",{children:["License: ",b.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${b.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:b.id,section:"consult"}),a({section:"consult",photo:b.photo,name:b.name,profession:b.profession,license:b.license,languages:Array.isArray(b.languages)?b.languages.join(", "):b.languages,whatsapp:b.whatsapp})},children:"Edit"})]},b.id)})})]})}function dH(){const{slug:t}=Oh();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx(LP,{storeSlug:t})]})}function fH(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),i=()=>{if(!(h!=null&&h.pharmacist))return null;const{name:y,photo:C,whatsapp:j}=h.pharmacist;return l.jsxs("button",{onClick:()=>{j&&window.open(`https://wa.me/${j}`,"_blank")},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:A=>A.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:A=>A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[C&&l.jsx("img",{src:C,alt:y,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Talk to ",y]})},[s,o]=w.useState(null),[a,u]=w.useState(null),c=Dn(),{slug:f}=Oh(),[h,m]=w.useState(null),[S,E]=w.useState(!0),[b,I]=w.useState([]),[T,v]=w.useState([]),[_,R]=w.useState(""),[L,N]=w.useState(null),g=(y,C,j,A)=>{const P=z=>z*Math.PI/180,F=P(j-y),H=P(A-C),B=Math.sin(F/2)**2+Math.cos(P(y))*Math.cos(P(j))*Math.sin(H/2)**2;return 6371*(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)))},p=y=>{const A=y*1.64,P=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:P}};return w.useEffect(()=>{const y=Pr(c,C=>{o(C)});return()=>y()},[c]),w.useEffect(()=>{if(!h)return;const y=Ct(Ae(ee,"orders"),C=>{const P=C.docs.map(W=>({id:W.id,...W.data()})).filter(W=>Array.isArray(W.items)&&W.items.some(F=>F.ownerId===h.uid)).filter(W=>!t.includes(W.id));P.length>0&&(P.forEach(W=>{xe.info(` New order received! Order ID: ${W.id}`)}),e(W=>[...W,...P.map(F=>F.id)]))});return()=>y()},[h,t]),w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>N({lat:y.coords.latitude,lng:y.coords.longitude}),()=>N(null))},[]),w.useEffect(()=>{if(!f)return;E(!0),(async()=>{const C=mi(Ae(ee,"users"),Kr("slug","==",f)),j=await on(C);if(j.empty)m(null);else{const A=j.docs[0];m({uid:A.id,...A.data()})}E(!1)})()},[f]),w.useEffect(()=>{if(!h)return;const y=mi(Ae(ee,"products"),Kr("ownerId","==",h.uid)),C=Ct(y,j=>{const A=j.docs.map(P=>({id:P.id,...P.data()}));I(A)});return()=>C()},[h]),w.useEffect(()=>{if(!b)return;const y=(W="")=>W.toLowerCase().trim().replace(/\s+/g," "),C={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=y(_),A=(C[j]||j).split(" "),P=b.map(W=>{var F,H;if(L&&((F=h.location)!=null&&F.latitude)&&((H=h.location)!=null&&H.longitude)){const B=g(L.lat,L.lng,h.location.latitude,h.location.longitude),{minutes:D}=p(B);return{...W,minutesAway:D}}return{...W,minutesAway:1/0}}).filter(W=>{const F=y(W.name),H=y(W.ingredient),B=y(W.class);return A.some(D=>F.includes(D)||H.includes(D)||B.includes(D))}).sort((W,F)=>W.minutesAway-F.minutesAway);v(P)},[b,_,L,h]),S?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):h===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(i,{}),l.jsxs("h2",{children:[" ",(h==null?void 0:h.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:_,onChange:y=>R(y.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:T.map(y=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[y.image&&l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:y.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:y.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",y.class||"No class listed"]}),l.jsxs("p",{children:["Price: ",y.price!==void 0?y.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:[" ",h!=null&&h.businessName&&h.businessName.trim()?h.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!s)return alert("Please log in first");const C=be(ee,"carts",s.uid),j=await sn(C);let A=j.exists()?j.data().items||[]:[];const P=A.findIndex(W=>W.name===y.name);P>=0?A[P].quantity+=1:A.push({...y,quantity:1}),await nr(C,{items:A}),u(y.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),a===y.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:y.minutesAway<=1?" Right here":` ~${y.minutesAway} mins away`})]},y.id))})]})}function hH(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState("");if(w.useEffect(()=>{async function a(){const u=await on(Ae(ee,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{padding:"32px"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{padding:"12px 18px",borderRadius:8,border:"1px solid #e0e7ff",fontSize:16,width:320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:32},children:o.map(a=>l.jsxs(Da,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:80,height:80,objectFit:"cover",borderRadius:12,marginBottom:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:80,height:80,background:"#ede9fe",borderRadius:12,marginBottom:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,color:"#7c3aed"},children:""}),l.jsx("div",{style:{fontWeight:600,fontSize:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const pH=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},mH=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},PS=["admin","medicine-manager","distributor"],AS=["admin","distributor"];function gH(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState("shop"),[o,a]=w.useState([]),[u,c]=w.useState([]),[f,h]=w.useState(""),[m,S]=w.useState(null),[E,b]=w.useState(null);w.useEffect(()=>{if(!navigator.geolocation){S("denied");return}navigator.geolocation.getCurrentPosition(_=>S({lat:_.coords.latitude,lng:_.coords.longitude}),()=>S("denied"))},[]),w.useEffect(()=>{const _=Ct(Ae(ee,"products"),async R=>{const L=await Promise.all(R.docs.map(async N=>{var p,y;const g={id:N.id,...N.data()};if(g.ownerId){const C=be(ee,"users",g.ownerId),j=await sn(C);if(j.exists()){const A=j.data();g.businessName=A.businessName||"Unknown Distributor",g.ownerSlug=A.slug||null,g.ownerRole=A.role||null,(p=A.location)!=null&&p.latitude&&((y=A.location)!=null&&y.longitude)&&(g.businessLat=A.location.latitude,g.businessLng=A.location.longitude)}}return g}));a(L.filter(N=>N.ownerRole==="distributor"))});return()=>_()},[]),w.useEffect(()=>{if(o.length===0)return;let _=o;if(f.trim()){const R=f.toLowerCase();_=o.filter(L=>L.name&&L.name.toLowerCase().includes(R)||L.ingredient&&L.ingredient.toLowerCase().includes(R)||L.class&&L.class.toLowerCase().includes(R))}m&&m!=="denied"&&(_=_.map(R=>{if(R.businessLat&&R.businessLng){const L=pH(m.lat,m.lng,R.businessLat,R.businessLng),{minutes:N}=mH(L);return{...R,minutesAway:N}}return{...R,minutesAway:1/0}}),_.sort((R,L)=>R.minutesAway-L.minutesAway)),c(_)},[o,f,m]);const I=async _=>{if(!t)return alert("Please login first");try{const R=be(ee,"carts",t.uid),L=await sn(R);let N=[];L.exists()&&(N=L.data().items||[]);const g=N.findIndex(p=>p.id===_.id);g>=0?N[g].quantity+=1:N.push({..._,quantity:1}),await nr(R,{items:N}),b(`Added ${_.name} to cart!`),setTimeout(()=>b(null),1500)}catch{alert("Error adding to cart")}};if(w.useEffect(()=>{const _=Dn(),R=Pr(_,async L=>{if(!L){e(null),r(null);return}e(L);const N=be(ee,"users",L.uid),g=await sn(N);r(g.exists()?g.data().role:null)});return()=>R()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!PS.includes(n)&&!AS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const T=PS.includes(n),v=AS.includes(n);return i==="shop"&&!T||i==="add"&&!v?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[T&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),v&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&T&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:_=>h(_.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),E&&l.jsx("div",{style:{color:"green",marginBottom:10},children:E}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(_=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[_.registeredOnly&&_.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),_.image&&l.jsx("img",{src:_.image,alt:_.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:_.name}),l.jsx("p",{children:l.jsx("em",{children:_.ingredient})}),l.jsxs("p",{children:["Class: ",_.class]}),l.jsxs("p",{children:["Price: ",_.price]}),Array.isArray(_.moqs)&&_.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",_.moqs.map((R,L)=>l.jsx("span",{style:{marginRight:8},children:R.type},L))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",_.businessName]}),_.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:_.minutesAway<=1?" Right here":` ~${_.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(_),children:"Add to Cart"})]},_.id))})]}),i==="add"&&v&&l.jsx(yH,{user:t,role:n})]})}function yH({user:t,role:e}){const[n,r]=pe.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=pe.useState([]),[o,a]=pe.useState(!1);pe.useEffect(()=>{if(e!=="distributor")return;const D=Ct(Ae(ee,"businessRegistrations"),z=>{s(z.docs.filter(q=>q.data().distributorId===t.uid&&q.data().status==="approved").map(q=>q.data()))});return()=>D()},[t,e]);const u=(D,z)=>{const q=n.moqs.map((Q,Y)=>Y===D?{type:z.target.value}:Q);r({...n,moqs:q})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=D=>{r({...n,moqs:n.moqs.filter((z,q)=>q!==D)})},[h,m]=pe.useState(null),[S,E]=pe.useState([]),[b,I]=pe.useState([]),[T,v]=pe.useState([]),[_,R]=pe.useState(!1),[L,N]=pe.useState(null),[g,p]=pe.useState(null);pe.useEffect(()=>{if(!t)return;const D=Ct(Ae(ee,"products"),z=>{let q=z.docs.map(Q=>({id:Q.id,...Q.data()}));y()||(q=q.filter(Q=>Q.ownerId===t.uid)),E(q)});return()=>D()},[t]),pe.useEffect(()=>{if(!t)return;const D=Ct(Ae(ee,"batches"),z=>{let q=z.docs.map(Q=>({id:Q.id,...Q.data()}));y()||(q=q.filter(Q=>Q.uploadedBy===t.uid)),I(q)});return()=>D()},[t]);function y(){var D;return(D=t==null?void 0:t.email)==null?void 0:D.includes("admin")}const C=D=>r({...n,[D.target.name]:D.target.value}),j=async()=>{const D=!n.registeredOnly;if(r({...n,registeredOnly:D}),e==="distributor"&&(t!=null&&t.uid)){const z=Ae(ee,"products"),q=await getDocs(z),Q=[];q.docs.forEach(Y=>{if(Y.data().ownerId===t.uid){const ie={registeredOnly:D};D?ie.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:ie.registeredUniqueId=null,Q.push(updateDoc(be(ee,"products",Y.id),ie))}}),await Promise.all(Q),window.location.reload()}},A=async D=>{D.preventDefault(),R(!0),p(null),N(null);try{let z=e,q=null,Q=null;if(e==="distributor"){const J=be(ee,"users",t.uid),ie=await sn(J);ie.exists()&&(q=ie.data().slug||ie.data().businessSlug||null),n.registeredOnly&&(Q=`${t.uid}_${Date.now()}`)}const Y={...n,ownerId:t.uid,ownerRole:z,ownerSlug:q};Q&&(Y.registeredUniqueId=Q),h?(await nr(be(ee,"products",h),Y,{merge:!0}),m(null),N("Medicine updated!")):(await xo(Ae(ee,"products"),Y),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}R(!1)},P=D=>{r({name:D.name,ingredient:D.ingredient,class:D.class,price:D.price,image:D.image||"",moqs:D.moqs||[{type:"sachet",value:"",price:""}]}),m(D.id)},W=async D=>{if(window.confirm("Delete this medicine?")){R(!0);try{await Ir(be(ee,"products",D.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}R(!1)}},F=D=>{const z=D.target.files[0];z&&DP.parse(z,{header:!0,skipEmptyLines:!0,complete:q=>{v(q.data)},error:()=>p("Failed to parse CSV")})},H=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!T.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),R(!1);return}R(!0),p(null),N(null);const D=be(Ae(ee,"batches")),z=[];let q=e,Q=null;if(e==="distributor"){const Y=be(ee,"users",t.uid),J=await sn(Y);J.exists()&&(Q=J.data().slug||J.data().businessSlug||null)}for(let Y of T)try{let J=[];if(Y.moqs)try{J=JSON.parse(Y.moqs)}catch{}let ie=null;e==="distributor"&&Y.registeredOnly===!0&&(ie=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const me=await xo(Ae(ee,"products"),{name:Y.name,ingredient:Y.ingredient,class:Y.class,price:parseInt(Y.price,10)||0,image:Y.image||"",batchId:D.id,ownerId:t.uid,ownerRole:q,ownerSlug:Q,moqs:J,registeredOnly:!!Y.registeredOnly,...ie?{registeredUniqueId:ie}:{}});z.push(me.id)}catch{}await nr(D,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:z}),N(`${z.length} medicines uploaded`),v([]),R(!1)},B=async D=>{if(window.confirm("Delete this batch and its medicines?")){R(!0);try{for(let z of D.medicineIds)await Ir(be(ee,"products",z));await Ir(be(ee,"batches",D.id)),N("Batch deleted")}catch{p("Error deleting batch")}R(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(D=>!D),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((D,z)=>{var q,Q,Y;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((q=D.businessInfo)==null?void 0:q.businessName)||D.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=D.businessInfo)==null?void 0:Q.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Y=D.businessInfo)==null?void 0:Y.phone)||""})]},z)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:A,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:C,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:C,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:C,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:C,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:C,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:j,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((D,z)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:D.type,onChange:q=>u(z,q),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(z),style:{color:"red"},children:""})]},z)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:_,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),T.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:H,disabled:_,children:["Submit CSV (",T.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",y()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:S.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:D.ingredient}),l.jsx("td",{children:D.class}),l.jsx("td",{children:D.price}),l.jsx("td",{children:Array.isArray(D.moqs)&&D.moqs.length>0?D.moqs.map((z,q)=>l.jsx("span",{style:{marginRight:8},children:z.type},q)):"-"}),l.jsx("td",{children:D.image&&l.jsx("img",{src:D.image,alt:D.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(D),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>W(D),children:"Delete"})]})]},D.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",y()&&"(All Users)"]}),b.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:b.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:new Date(D.date).toLocaleString()}),l.jsx("td",{children:D.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>B(D),children:"Delete Batch"})})]},D.id))})]}),L&&l.jsx("div",{style:{color:"green",marginTop:10},children:L}),g&&l.jsx("div",{style:{color:"red",marginTop:10},children:g})]})}function jS({medics:t}){return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((e,n)=>(n.online===!0)-(e.online===!0)).map(e=>{let n=[];return Array.isArray(e.languages)?n=e.languages:typeof e.languages=="string"&&(n=e.languages.split(",").map(r=>r.trim()).filter(Boolean)),l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:()=>window.open(`https://wa.me/${e.whatsapp}`,"_blank"),children:[l.jsx("span",{title:e.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:e.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:e.photo,alt:e.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:e.name}),l.jsx("div",{children:e.profession}),e.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:e.pharmacyName}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",n.join(", ")]})]},e.id)})})}function vH(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState("verify"),[o,a]=w.useState("");return w.useEffect(()=>{(async()=>{let f=(await on(Ae(ee,"verifyMedics"))).docs.map(S=>({id:S.id,...S.data()}));(await on(Ae(ee,"users"))).docs.forEach(S=>{const E=S.data();E.role==="medicine-manager"&&E.pharmacist&&f.push({...E.pharmacist,id:S.id,online:!0})}),e(f);const m=await on(Ae(ee,"consultMedics"));r(m.docs.map(S=>({id:S.id,...S.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:" Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(jS,{medics:t.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(jS,{medics:n.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}const hg="/pharmastack-logo.png",OS="pharmastack-config",pg="navbarLogoUrl";function xH(t){return t==="admin"}const _H={background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderBottom:"1px solid #e0e7ff",boxShadow:"0 2px 8px #c7d2fe22",position:"sticky",top:0,zIndex:1e3,width:"100%"},bH={maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 24px",height:70},wH={display:"flex",alignItems:"center",height:"100%",marginLeft:0},SH={display:"flex",alignItems:"center",gap:24,flexGrow:1,justifyContent:"center"},EH={display:"flex",alignItems:"center",gap:10,justifyContent:"flex-end",minWidth:120},TH={color:"#2d3748",textDecoration:"none",fontWeight:600,fontSize:16,padding:"8px 14px",borderRadius:8,transition:"background 0.2s, color 0.2s"},CH={color:"#014d4e",borderBottom:"2px solid #014d4e"},NS={fontWeight:900,fontSize:22,color:"#6366f1",letterSpacing:1.2,display:"flex",alignItems:"center",gap:8,textDecoration:"none"},LS={height:120,display:"block",objectFit:"contain",cursor:"pointer",borderRadius:5,background:"transparent"};function $r({to:t,children:e,...n}){const i=ko().pathname===t;return l.jsx(Da,{to:t,style:{...TH,...i?CH:{}},...n,children:e})}function IH(){var v,_;const[t,e]=w.useState(!1),[n,r]=w.useState(hg),[i,s]=w.useState(!1),o=w.useRef(),a=((v=Dn().currentUser)==null?void 0:v.email)||"",u=((_=a[0])==null?void 0:_.toUpperCase())||"?";w.useEffect(()=>{(async()=>{try{const L=await sn(be(ee,"config",OS));L.exists()&&L.data()[pg]?r(L.data()[pg]):r(hg)}catch{r(hg)}})()},[]);const c=async R=>{const L=R.target.files&&R.target.files[0];if(L){s(!0);try{const N=new FileReader;N.onload=async g=>{const p=g.target.result;await nr(be(ee,"config",OS),{[pg]:p},{merge:!0}),r(p),s(!1)},N.readAsDataURL(L)}catch{alert("Logo upload failed. Please try again."),s(!1)}}};Ls();const[f,h]=w.useState(0),[m,S]=w.useState(null);w.useEffect(()=>{const R=Dn();let L=null;const N=Pr(R,g=>{if(L&&L(),g){const p=be(ee,"carts",g.uid);L=Ct(p,y=>{if(y.exists()){const C=y.data().items||[];h(C.length)}else h(0)})}else h(0)});return()=>{N(),L&&L()}},[]);const I=ko().pathname.match(/^\/store\/([^\/]+)/),T=I?I[1]:null;return w.useEffect(()=>{const R=Dn(),L=Pr(R,async N=>{if(N){const g=await sn(be(ee,"users",N.uid));S(g.exists()?g.data().role:null)}else S(null)});return()=>L()},[]),l.jsx("nav",{style:_H,children:l.jsxs("div",{style:bH,children:[l.jsx("div",{style:wH,children:xH(m)?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",ref:o,style:{display:"none"},onChange:c,disabled:i}),l.jsx(Da,{to:"/",style:NS,onClick:R=>{R.preventDefault(),i||o.current.click()},children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:{...LS,border:i?"2px solid #fbbf24":"2px dashed #b3e5fc",opacity:i?.5:1},title:i?"Uploading...":"Click to upload new logo"})})]}):l.jsx(Da,{to:"/",style:NS,children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:LS})})}),l.jsx("div",{style:SH,children:m!=="delivery-agent"&&l.jsxs(l.Fragment,{children:[T?l.jsxs(l.Fragment,{children:[l.jsx($r,{to:`/store/${T}`,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx($r,{to:`/store/${T}/cart`,children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}):l.jsxs(l.Fragment,{children:[l.jsx($r,{to:"/shop",children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx($r,{to:"/cart",children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}),l.jsx($r,{to:"/orders",children:"Orders"}),m!=="medicine-manager"&&l.jsx($r,{to:"/medinterface",children:"Medinterface"}),!T&&m&&m!=="customer"&&l.jsxs(l.Fragment,{children:[(m==="medicine-manager"||m==="admin"||m==="delivery-agent")&&l.jsx($r,{to:"/add-medicine",children:"Add Medicine"}),m==="admin"&&l.jsx($r,{to:"/admin",children:"Admin"}),(m==="delivery-agent"||m==="admin")&&l.jsx($r,{to:"/agents",children:"All Agents"})]})]})}),l.jsx("div",{style:EH,children:m?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{onClick:()=>e(!t),style:{width:38,height:38,borderRadius:"50%",background:"#00796b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},title:a,children:u}),l.jsx("button",{onClick:async()=>{await Dn().signOut(),window.location.href="/pharmastack/#/auth"},style:{width:38,height:38,borderRadius:"50%",background:"#e53935",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"none",marginLeft:0,cursor:"pointer",fontSize:18,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"background 0.2s"},title:"Sign Out",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M13.5 13.5L17 10M17 10L13.5 6.5M17 10H7",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round"})]})})]}),t&&l.jsxs("div",{style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:a}),l.jsx("button",{onClick:async()=>{await Dn().signOut(),window.location.href="/pharmastack/#/auth"},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx($r,{to:"/auth",children:"Login"}),l.jsx($r,{to:"/auth",children:"Signup"})]})})]})})}function kH(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("");function o($){if(!i.trim())return $;const G=i.trim().toLowerCase();return $.filter(U=>{var _e,Xe,Ee,De,$e,qe,ht,pt,Le,yt,Ie,Be,Oe,Te,Et,Ht;const ne=(((_e=S[U.userId])==null?void 0:_e.email)||"").toLowerCase(),Z=(U.items&&U.items[0]&&((Xe=c[U.items[0].ownerId])==null?void 0:Xe.name)||"").toLowerCase(),te=((((Ee=U.deliveryInfo)==null?void 0:Ee.address)||"")+" "+(((De=U.deliveryInfo)==null?void 0:De.city)||"")+" "+((($e=U.deliveryInfo)==null?void 0:$e.state)||"")).toLowerCase(),ce=U.items&&U.items[0]&&((((qe=c[U.items[0].ownerId])==null?void 0:qe.address)||"")+" "+(((ht=c[U.items[0].ownerId])==null?void 0:ht.city)||"")+" "+(((pt=c[U.items[0].ownerId])==null?void 0:pt.state)||"")).toLowerCase()||"",fe=[(Le=U.deliveryInfo)==null?void 0:Le.lat,(yt=U.deliveryInfo)==null?void 0:yt.lng,(Oe=c[(Be=(Ie=U.items)==null?void 0:Ie[0])==null?void 0:Be.ownerId])==null?void 0:Oe.lat,(Ht=c[(Et=(Te=U.items)==null?void 0:Te[0])==null?void 0:Et.ownerId])==null?void 0:Ht.lng].filter(Boolean).join(",").toLowerCase(),he=(U.items||[]).map(Je=>Je.name).join(", ").toLowerCase();return ne.includes(G)||Z.includes(G)||te.includes(G)||ce.includes(G)||fe.includes(G)||he.includes(G)})}const[a,u]=pe.useState("processing"),[c,f]=w.useState({});w.useEffect(()=>{const $=Ct(Ae(ee,"users"),G=>{const U={};G.docs.forEach(ne=>{const Z=ne.data();Z.role==="medicine-manager"&&(U[ne.id]={name:Z.businessName||ne.id,address:Z.businessAddress||Z.address||"-",lat:Z.lat||Z.latitude||null,lng:Z.lng||Z.longitude||null})}),f(U)});return()=>$()},[]);const[h,m]=w.useState(!0);w.useEffect(()=>{const $=Dn(),G=Pr($,U=>{e(U),m(!1)});return()=>G()},[]),w.useEffect(()=>{if(h||!t)return;const $=Ct(Ae(ee,"orders"),G=>{const Z=G.docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.status==="Processing"&&!te.assignedAgentId&&te.deliveryType&&te.deliveryType.toLowerCase()==="express").filter(te=>!n.includes(te.id));Z.length>0&&(Z.forEach(te=>{xe.info(` New express delivery order! Order ID: ${te.id}`)}),r(te=>[...te,...Z.map(ce=>ce.id)]))});return()=>$()},[h,t,n]);const[S,E]=w.useState({});w.useEffect(()=>{const $=Ct(Ae(ee,"users"),G=>{const U={};G.docs.forEach(ne=>{const Z=ne.data();U[ne.id]=Z.email||ne.id}),E(U)});return()=>$()},[]);const[b,I]=w.useState([]),[T,v]=w.useState([]),[_,R]=w.useState([]),[L,N]=w.useState(()=>{const $=localStorage.getItem("agentCanceledOrders");return $?JSON.parse($):[]}),[g,p]=w.useState({}),[y,C]=w.useState({}),[j,A]=w.useState(null),{slug:P}=Oh(),[W,F]=w.useState(null),[H,B]=w.useState(!1),[D,z]=w.useState(!0),[q,Q]=w.useState("availability");w.useEffect(()=>{if(h||!t)return;const $=Ct(Ae(ee,"orders"),G=>{const U=G.docs.map(ne=>({id:ne.id,...ne.data()}));I(U.filter(ne=>ne.status==="Completed"&&ne.assignedAgentId===t.uid)),R(U.filter(ne=>ne.status==="In-Progress"&&ne.assignedAgentId===t.uid)),v(U.filter(ne=>ne.status==="Processing"&&!ne.assignedAgentId&&!L.some(Z=>Z.id===ne.id)&&ne.deliveryType&&ne.deliveryType.toLowerCase()==="express"))});return()=>$()},[h,t,L]);const Y=async $=>{A($);try{await en(be(ee,"orders",$),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:W.slug,assignedAgentName:W.companyName,companyName:W.companyName,agentPhoneNumber:W.phoneNumber||"",agentWhatsappNumber:W.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),xe.success("Order accepted!")}catch{xe.error("Failed to accept order")}A(null)},J=async $=>{try{await en(be(ee,"orders",$),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),xe.success("Order marked as delivered!")}catch{xe.error("Failed to mark as delivered")}},ie=async $=>{try{await en(be(ee,"orders",$),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),xe.info("Order moved back to processing.")}catch{xe.error("Failed to move order back to processing")}},me=$=>{const G=T.find(U=>U.id===$)||_.find(U=>U.id===$);G&&(N(U=>{const ne=[...U,G];return localStorage.setItem("agentCanceledOrders",JSON.stringify(ne)),ne}),u("canceled"))};w.useEffect(()=>{const $=G=>{G.key==="agentCanceledOrders"&&N(G.newValue?JSON.parse(G.newValue):[])};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[]);const ve=async()=>{if(W){B(!0);try{const $=be(ee,"deliveryAgents",W.id);await en($,{available:!W.available}),F({...W,available:!W.available}),xe.success("Availability updated.")}catch{xe.error("Failed to update availability")}B(!1)}};return w.useEffect(()=>{async function $(){z(!0);const U=(await on(Ae(ee,"deliveryAgents"))).docs.map(te=>te.data());console.log("All agent slugs:",U.map(te=>te.slug));const ne=mi(Ae(ee,"deliveryAgents"),Kr("slug","==",P),Kr("approved","==",!0)),Z=await on(ne);Z.empty?F(null):F({id:Z.docs[0].id,...Z.docs[0].data()}),z(!1)}$()},[P]),D||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):W?!t||t.uid!==W.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:" Delivery Agent Profile"}),l.jsx("img",{src:W.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:W.companyName}),l.jsxs("div",{children:["Phone: ",W.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",W.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",W.rcNumber]}),l.jsxs("div",{children:["Address: ",W.businessAddress]}),l.jsxs("div",{children:["Email: ",W.email]}),l.jsxs("div",{children:["Coverage: ",W.coverageArea]}),l.jsxs("div",{children:["Hours: ",W.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="availability"?"2px solid #1976d2":"1px solid #ccc",background:q==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>Q("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="orders"?"2px solid #1976d2":"1px solid #ccc",background:q==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>Q("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[q==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",W.available?" Available":" Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ve,disabled:H,children:W.available?"Set Not Available":"Set Available"})]})]}),q==="orders"&&(W.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:$=>s($.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:" Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(L).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(L).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ne}),U.lat&&U.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},$.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(T).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(T).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof $.deliveryType," | ",JSON.stringify($.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;let te=U.lat,ce=U.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ne}),te&&ce?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",te,", ",ce]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Y($.id),disabled:j===$.id,children:j===$.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>me($.id),children:"Cancel Order"})]})]},$.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(_).map($=>{var Z;const G=!!g[$.id],U=!!y[$.id],ne=async()=>{await J($.id),p(te=>({...te,[$.id]:!0})),C(te=>({...te,[$.id]:!0})),setTimeout(()=>C(te=>({...te,[$.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const te=c[$.items[0].ownerId],ce=`${te.address||""}, ${te.city||""}, ${te.state||""}`,fe=!te.address&&!te.city&&!te.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:te.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:fe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ce}),te.lat&&te.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",te.lat,", ",te.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const te=$.deliveryInfo||{},ce=`${te.address||""}, ${te.city||""}, ${te.state||""}`,fe=!te.address&&!te.city&&!te.state;let he=te.lat,_e=te.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:fe?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ce}),he&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",he,", ",_e]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(Z=$.items)==null?void 0:Z.map(te=>`${te.name} x${te.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:G?"not-allowed":"pointer",opacity:G?.5:1},onClick:ne,disabled:G,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:G?"not-allowed":"pointer",opacity:G?.5:1},onClick:()=>ie($.id),disabled:G,children:"Failed"})]}),U&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),G&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},$.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(b).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(b).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:" Address missing for this order"}):ne}),U.lat&&U.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",$.completedAt?new Date($.completedAt).toLocaleString():"-"]})]},$.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function MS(){const[t,e]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{async function i(){r(!0);const s=mi(Ae(ee,"deliveryAgents"),Kr("approved","==",!0)),o=await on(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:" All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Da,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const RH=Ex({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});xg.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsxs(gB,{theme:RH,children:[l.jsx(R7,{}),l.jsx(dN,{children:l.jsxs(l.Fragment,{children:[l.jsx(IH,{}),l.jsx(PH,{}),l.jsxs(iN,{children:[l.jsx(hn,{path:"/agent/:slug",element:l.jsx(kH,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(MS,{})}),l.jsx(hn,{path:"/",element:l.jsx(p7,{})}),l.jsx(hn,{path:"/shop",element:l.jsx(g7,{})}),l.jsx(hn,{path:"/cart",element:l.jsx(LP,{})}),l.jsx(hn,{path:"/auth",element:l.jsx(w7,{})}),l.jsx(hn,{path:"/orders",element:l.jsx(v7,{})}),l.jsx(hn,{path:"/add-medicine",element:l.jsx(E7,{})}),l.jsx(hn,{path:"/payment",element:l.jsx(sH,{})}),l.jsx(hn,{path:"/admin",element:l.jsx(lH,{})}),l.jsx(hn,{path:"/store",element:l.jsx(hH,{})}),l.jsx(hn,{path:"/store/:slug",element:l.jsx(fH,{})}),l.jsx(hn,{path:"/store/:slug/cart",element:l.jsx(dH,{})}),l.jsx(hn,{path:"/restock",element:l.jsx(gH,{})}),l.jsx(hn,{path:"/medinterface",element:l.jsx(vH,{})}),l.jsx(hn,{path:"/businesses",element:l.jsx(p5,{})}),l.jsx(hn,{path:"/agents",element:l.jsx(MS,{})})]}),l.jsx(u2,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function PH(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=Ls();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
