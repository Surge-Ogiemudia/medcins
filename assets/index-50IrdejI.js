function cA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VS={exports:{}},gh={},zS={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),dA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),hA=Symbol.for("react.strict_mode"),pA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),gA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),k_=Symbol.iterator;function bA(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},US=Object.assign,WS={};function il(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||BS}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=il.prototype;function hv(t,e,n){this.props=t,this.context=e,this.refs=WS,this.updater=n||BS}var pv=hv.prototype=new HS;pv.constructor=hv;US(pv,il.prototype);pv.isPureReactComponent=!0;var R_=Array.isArray,qS=Object.prototype.hasOwnProperty,mv={current:null},KS={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qS.call(e,r)&&!KS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ec,type:t,key:s,ref:o,props:i,_owner:mv.current}}function wA(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function SA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P_=/\/+/g;function cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SA(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ec:case dA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+cm(o,0):r,R_(i)?(n="",t!=null&&(n=t.replace(P_,"$&/")+"/"),Cd(i,e,n,"",function(c){return c})):i!=null&&(gv(i)&&(i=wA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",R_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+cm(s,a);o+=Cd(s,e,n,u,i)}else if(u=bA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+cm(s,a++),o+=Cd(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qn={current:null},Id={transition:null},TA={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:Id,ReactCurrentOwner:mv};function QS(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=il;Ye.Fragment=fA;Ye.Profiler=pA;Ye.PureComponent=hv;Ye.StrictMode=hA;Ye.Suspense=vA;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA;Ye.act=QS;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=US({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)qS.call(e,u)&&!KS.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ec,type:t.type,key:i,ref:s,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:gA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mA,_context:t},t.Consumer=t};Ye.createElement=GS;Ye.createFactory=function(t){var e=GS.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:yA,render:t}};Ye.isValidElement=gv;Ye.lazy=function(t){return{$$typeof:_A,_payload:{_status:-1,_result:t},_init:EA}};Ye.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};Ye.unstable_act=QS;Ye.useCallback=function(t,e){return Qn.current.useCallback(t,e)};Ye.useContext=function(t){return Qn.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Qn.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Qn.current.useEffect(t,e)};Ye.useId=function(){return Qn.current.useId()};Ye.useImperativeHandle=function(t,e,n){return Qn.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return Qn.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Qn.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Qn.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return Qn.current.useReducer(t,e,n)};Ye.useRef=function(t){return Qn.current.useRef(t)};Ye.useState=function(t){return Qn.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return Qn.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return Qn.current.useTransition()};Ye.version="18.3.1";zS.exports=Ye;var w=zS.exports;const pe=mh(w),nf=cA({__proto__:null,default:pe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=w,IA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),RA=Object.prototype.hasOwnProperty,PA=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AA={key:!0,ref:!0,__self:!0,__source:!0};function YS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RA.call(e,r)&&!AA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IA,type:t,key:s,ref:o,props:i,_owner:PA.current}}gh.Fragment=kA;gh.jsx=YS;gh.jsxs=YS;VS.exports=gh;var l=VS.exports;function XS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XS(t))&&(r&&(r+=" "),r+=e);return r}function jA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}jA(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var tc=t=>typeof t=="number"&&!isNaN(t),uo=t=>typeof t=="string",zi=t=>typeof t=="function",OA=t=>uo(t)||tc(t),vg=t=>uo(t)||zi(t)?t:null,NA=(t,e)=>t===!1||tc(t)&&t>0?t:e,xg=t=>w.isValidElement(t)||uo(t)||zi(t)||tc(t);function LA(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function MA({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:u,nodeRef:c,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,S=n?`${e}--${o}`:e,E=w.useRef(0);return w.useLayoutEffect(()=>{let b=c.current,I=m.split(" "),T=v=>{v.target===c.current&&(h(),b.removeEventListener("animationend",T),b.removeEventListener("animationcancel",T),E.current===0&&v.type!=="animationcancel"&&b.classList.remove(...I))};b.classList.add(...I),b.addEventListener("animationend",T),b.addEventListener("animationcancel",T)},[]),w.useEffect(()=>{let b=c.current,I=()=>{b.removeEventListener("animationend",I),r?LA(b,u,i):u()};f||(a?I():(E.current=1,b.className+=` ${S}`,b.addEventListener("animationend",I)))},[f]),pe.createElement(pe.Fragment,null,s)}}function A_(t,e){return{content:JS(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function JS(t,e,n=!1){return w.isValidElement(t)&&!uo(t.type)?w.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):zi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function DA({closeToast:t,theme:e,ariaLabel:n="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $A({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:u,isIn:c,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let S=Ne("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),E=zi(s)?s({rtl:u,type:r,defaultClassName:S}):Ne(S,s),b={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:E,style:m,...b}))}var FA=1,ZS=()=>`${FA++}`;function VA(t,e,n){let r=1,i=0,s=[],o=[],a=e,u=new Map,c=new Set,f=v=>(c.add(v),()=>c.delete(v)),h=()=>{o=Array.from(u.values()),c.forEach(v=>v())},m=({containerId:v,toastId:_,updateId:R})=>{let L=v?v!==t:t!==1,N=u.has(_)&&R==null;return L||N},S=(v,_)=>{u.forEach(R=>{var L;(_==null||_===R.props.toastId)&&((L=R.toggle)==null||L.call(R,v))})},E=v=>{var _,R;(R=(_=v.props)==null?void 0:_.onClose)==null||R.call(_,v.removalReason),v.isActive=!1},b=v=>{if(v==null)u.forEach(E);else{let _=u.get(v);_&&E(_)}h()},I=()=>{i-=s.length,s=[]},T=v=>{var _,R;let{toastId:L,updateId:N}=v.props,g=N==null;v.staleId&&u.delete(v.staleId),v.isActive=!0,u.set(L,v),h(),n(A_(v,g?"added":"updated")),g&&((R=(_=v.props).onOpen)==null||R.call(_))};return{id:t,props:a,observe:f,toggle:S,removeToast:b,toasts:u,clearQueue:I,buildToast:(v,_)=>{if(m(_))return;let{toastId:R,updateId:L,data:N,staleId:g,delay:p}=_,y=L==null;y&&i++;let C={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([A,P])=>P!=null)),toastId:R,updateId:L,data:N,isIn:!1,className:vg(_.className||a.toastClassName),progressClassName:vg(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:NA(_.autoClose,a.autoClose),closeToast(A){u.get(R).removalReason=A,b(R)},deleteToast(){let A=u.get(R);if(A!=null){if(n(A_(A,"removed")),u.delete(R),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};C.closeButton=a.closeButton,_.closeButton===!1||xg(_.closeButton)?C.closeButton=_.closeButton:_.closeButton===!0&&(C.closeButton=xg(a.closeButton)?a.closeButton:!0);let j={content:v,props:C,staleId:g};a.limit&&a.limit>0&&i>a.limit&&y?s.push(j):tc(p)?setTimeout(()=>{T(j)},p):T(j)},setProps(v){a=v},setToggle:(v,_)=>{let R=u.get(v);R&&(R.toggle=_)},isToastActive:v=>{var _;return(_=u.get(v))==null?void 0:_.isActive},getSnapshot:()=>o}}var qn=new Map,xu=[],_g=new Set,zA=t=>_g.forEach(e=>e(t)),eE=()=>qn.size>0;function BA(){xu.forEach(t=>nE(t.content,t.options)),xu=[]}var UA=(t,{containerId:e})=>{var n;return(n=qn.get(e||1))==null?void 0:n.toasts.get(t)};function tE(t,e){var n;if(e)return!!((n=qn.get(e))!=null&&n.isToastActive(t));let r=!1;return qn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function WA(t){if(!eE()){xu=xu.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||OA(t))qn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=qn.get(t.containerId);e?e.removeToast(t.id):qn.forEach(n=>{n.removeToast(t.id)})}}var HA=(t={})=>{qn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function nE(t,e){xg(t)&&(eE()||xu.push({content:t,options:e}),qn.forEach(n=>{n.buildToast(t,e)}))}function qA(t){var e;(e=qn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function rE(t,e){qn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function KA(t){let e=t.containerId||1;return{subscribe(n){let r=VA(e,t,zA);qn.set(e,r);let i=r.observe(n);return BA(),()=>{i(),qn.delete(e)}},setProps(n){var r;(r=qn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=qn.get(e))==null?void 0:n.getSnapshot()}}}function GA(t){return _g.add(t),()=>{_g.delete(t)}}function QA(t){return t&&(uo(t.toastId)||tc(t.toastId))?t.toastId:ZS()}function nc(t,e){return nE(t,e),e.toastId}function yh(t,e){return{...e,type:e&&e.type||t,toastId:QA(e)}}function vh(t){return(e,n)=>nc(e,yh(t,n))}function xe(t,e){return nc(t,yh("default",e))}xe.loading=(t,e)=>nc(t,yh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function YA(t,{pending:e,error:n,success:r},i){let s;e&&(s=uo(e)?xe.loading(e,i):xe.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,f,h)=>{if(f==null){xe.dismiss(s);return}let m={type:c,...o,...i,data:h},S=uo(f)?{render:f}:f;return s?xe.update(s,{...m,...S}):xe(S.render,{...m,...S}),h},u=zi(t)?t():t;return u.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),u}xe.promise=YA;xe.success=vh("success");xe.info=vh("info");xe.error=vh("error");xe.warning=vh("warning");xe.warn=xe.warning;xe.dark=(t,e)=>nc(t,yh("default",{theme:"dark",...e}));function XA(t){WA(t)}xe.dismiss=XA;xe.clearWaitingQueue=HA;xe.isActive=tE;xe.update=(t,e={})=>{let n=UA(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:ZS()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,nc(o,s)}};xe.done=t=>{xe.update(t,{progress:1})};xe.onChange=GA;xe.play=t=>rE(!0,t);xe.pause=t=>rE(!1,t);function JA(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=w.useRef(KA(t)).current;i(t);let s=(e=w.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let u=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:f}=c.props;u.has(f)||u.set(f,[]),u.get(f).push(c)}),Array.from(u,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:tE,count:s==null?void 0:s.length}}function ZA(t){let[e,n]=w.useState(!1),[r,i]=w.useState(!1),s=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:h}=t;qA({id:t.toastId,containerId:t.containerId,fn:n}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{S()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||T(),window.addEventListener("focus",I),window.addEventListener("blur",T)}function S(){window.removeEventListener("focus",I),window.removeEventListener("blur",T)}function E(g){if(t.draggable===!0||t.draggable===g.pointerType){v();let p=s.current;o.canCloseOnClick=!0,o.canDrag=!0,p.style.transition="none",t.draggableDirection==="x"?(o.start=g.clientX,o.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(o.start=g.clientY,o.removalDistance=p.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function b(g){let{top:p,bottom:y,left:C,right:j}=s.current.getBoundingClientRect();g.nativeEvent.type!=="touchend"&&t.pauseOnHover&&g.clientX>=C&&g.clientX<=j&&g.clientY>=p&&g.clientY<=y?T():I()}function I(){n(!0)}function T(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",L)}function _(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",L)}function R(g){let p=s.current;if(o.canDrag&&p){o.didMove=!0,e&&T(),t.draggableDirection==="x"?o.delta=g.clientX-o.start:o.delta=g.clientY-o.start,o.start!==g.clientX&&(o.canCloseOnClick=!1);let y=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;p.style.transform=`translate3d(${y},0)`,p.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function L(){_();let g=s.current;if(o.canDrag&&o.didMove&&g){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}g.style.transition="transform 0.2s, opacity 0.2s",g.style.removeProperty("transform"),g.style.removeProperty("opacity")}}let N={onPointerDown:E,onPointerUp:b};return a&&u&&(N.onMouseEnter=T,t.stacked||(N.onMouseLeave=I)),h&&(N.onClick=g=>{f&&f(g),o.canCloseOnClick&&c(!0)}),{playToast:I,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:N}}var e2=typeof window<"u"?w.useLayoutEffect:w.useEffect,xh=({theme:t,type:e,isLoading:n,...r})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function t2(t){return pe.createElement(xh,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function n2(t){return pe.createElement(xh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function r2(t){return pe.createElement(xh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function i2(t){return pe.createElement(xh,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function s2(){return pe.createElement("div",{className:"Toastify__spinner"})}var bg={info:n2,warning:t2,success:r2,error:i2,spinner:s2},o2=t=>t in bg;function a2({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(zi(r)?i=r({...s,isLoading:n}):w.isValidElement(r)?i=w.cloneElement(r,s):n?i=bg.spinner():o2(e)&&(i=bg[e](s))),i}var l2=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ZA(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:f,hideProgressBar:h,closeToast:m,transition:S,position:E,className:b,style:I,progressClassName:T,updateId:v,role:_,progress:R,rtl:L,toastId:N,deleteToast:g,isIn:p,isLoading:y,closeOnClick:C,theme:j,ariaLabel:A}=t,P=Ne("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":C}),W=zi(b)?b({rtl:L,position:E,type:f,defaultClassName:P}):Ne(P,b),F=a2(t),H=!!R||!u,B={closeToast:m,type:f,theme:j},D=null;return o===!1||(zi(o)?D=o(B):w.isValidElement(o)?D=w.cloneElement(o,B):D=DA(B)),pe.createElement(S,{isIn:p,done:g,position:E,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:N,tabIndex:0,onClick:c,"data-in":p,className:W,...i,style:I,ref:r,...p&&{role:_,"aria-label":A}},F!=null&&pe.createElement("div",{className:Ne("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!y})},F),JS(a,t,!e),D,!t.customProgressBar&&pe.createElement($A,{...v&&!H?{key:`p-${v}`}:{},rtl:L,theme:j,delay:u,isRunning:e,isIn:p,closeToast:m,hide:h,type:f,className:T,controlledProgress:H,progress:R||0})))},u2=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),c2=MA(u2("bounce",!0)),d2={position:"top-right",transition:c2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function f2(t){let e={...d2,...t},n=t.stacked,[r,i]=w.useState(!0),s=w.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=JA(e),{className:c,style:f,rtl:h,containerId:m,hotKeys:S}=e;function E(I){let T=Ne("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":h});return zi(c)?c({position:I,rtl:h,defaultClassName:T}):Ne(T,vg(c))}function b(){n&&(i(!0),xe.play())}return e2(()=>{var I;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),v=12,_=(I=e.position)==null?void 0:I.includes("top"),R=0,L=0;Array.from(T).reverse().forEach((N,g)=>{let p=N;p.classList.add("Toastify__toast--stacked"),g>0&&(p.dataset.collapsed=`${r}`),p.dataset.pos||(p.dataset.pos=_?"top":"bot");let y=R*(r?.2:1)+(r?0:v*g);p.style.setProperty("--y",`${_?y:y*-1}px`),p.style.setProperty("--g",`${v}`),p.style.setProperty("--s",`${1-(r?L:0)}`),R+=p.offsetHeight,L+=.025})}},[r,u,n]),w.useEffect(()=>{function I(T){var v;let _=s.current;S(T)&&((v=_.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),xe.pause()),T.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),xe.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[S]),pe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),xe.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((I,T)=>{let v=T.length?{...f}:{...f,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:E(I),"data-stacked":n,style:v,key:`c-${I}`},T.map(({content:_,props:R})=>pe.createElement(l2,{...R,stacked:n,collapseAll:b,isIn:a(R.toastId,R.containerId),key:`t-${R.key}`},_)))}))}var wg={},iE={exports:{}},gr={},sE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var q=D.length;D.push(z);e:for(;0<q;){var Q=q-1>>>1,Y=D[Q];if(0<i(Y,z))D[Q]=z,D[q]=Y,q=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],q=D.pop();if(q!==z){D[0]=q;e:for(var Q=0,Y=D.length,J=Y>>>1;Q<J;){var ie=2*(Q+1)-1,me=D[ie],ve=ie+1,$=D[ve];if(0>i(me,q))ve<Y&&0>i($,me)?(D[Q]=$,D[ve]=q,Q=ve):(D[Q]=me,D[ie]=q,Q=ie);else if(ve<Y&&0>i($,q))D[Q]=$,D[ve]=q,Q=ve;else break e}}return z}function i(D,z){var q=D.sortIndex-z.sortIndex;return q!==0?q:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,m=3,S=!1,E=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function R(D){if(b=!1,_(D),!E)if(n(u)!==null)E=!0,H(L);else{var z=n(c);z!==null&&B(R,z.startTime-D)}}function L(D,z){E=!1,b&&(b=!1,T(p),p=-1),S=!0;var q=m;try{for(_(z),h=n(u);h!==null&&(!(h.expirationTime>z)||D&&!j());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,m=h.priorityLevel;var Y=Q(h.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(u)&&r(u),_(z)}else r(u);h=n(u)}if(h!==null)var J=!0;else{var ie=n(c);ie!==null&&B(R,ie.startTime-z),J=!1}return J}finally{h=null,m=q,S=!1}}var N=!1,g=null,p=-1,y=5,C=-1;function j(){return!(t.unstable_now()-C<y)}function A(){if(g!==null){var D=t.unstable_now();C=D;var z=!0;try{z=g(!0,D)}finally{z?P():(N=!1,g=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,F=W.port2;W.port1.onmessage=A,P=function(){F.postMessage(null)}}else P=function(){I(A,0)};function H(D){g=D,N||(N=!0,P())}function B(D,z){p=I(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,H(L))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var q=m;m=z;try{return D()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=m;m=D;try{return z()}finally{m=q}},t.unstable_scheduleCallback=function(D,z,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,D={id:f++,callback:z,priorityLevel:D,startTime:q,expirationTime:Y,sortIndex:-1},q>Q?(D.sortIndex=q,e(c,D),n(u)===null&&D===n(c)&&(b?(T(p),p=-1):b=!0,B(R,q-Q))):(D.sortIndex=Y,e(u,D),E||S||(E=!0,H(L))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var z=m;return function(){var q=m;m=z;try{return D.apply(this,arguments)}finally{m=q}}}})(oE);sE.exports=oE;var h2=sE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=w,mr=h2;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aE=new Set,_u={};function Io(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(_u[t]=e,t=0;t<e.length;t++)aE.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sg=Object.prototype.hasOwnProperty,m2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j_={},O_={};function g2(t){return Sg.call(O_,t)?!0:Sg.call(j_,t)?!1:m2.test(t)?O_[t]=!0:(j_[t]=!0,!1)}function y2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v2(t,e,n,r){if(e===null||typeof e>"u"||y2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yv=/[\-:]([a-z])/g;function vv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yv,vv);Rn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yv,vv);Rn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yv,vv);Rn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xv(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v2(e,n,i,r)&&(n=null),r||i===null?g2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=p2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),ra=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Cg=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),cE=Symbol.for("react.offscreen"),N_=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,dm;function Wl(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function hm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function x2(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=hm(t.type,!1),t;case 11:return t=hm(t.type.render,!1),t;case 1:return t=hm(t.type,!0),t;default:return""}}function Ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case ra:return"Portal";case Eg:return"Profiler";case _v:return"StrictMode";case Tg:return"Suspense";case Cg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uE:return(t.displayName||"Context")+".Consumer";case lE:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wv:return e=t.displayName||null,e!==null?e:Ig(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return Ig(t(e))}catch{}}return null}function _2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(e);case 8:return e===_v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b2(t){var e=dE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yc(t){t._valueTracker||(t._valueTracker=b2(t))}function fE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kg(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function L_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hE(t,e){e=e.checked,e!=null&&xv(t,"checked",e,!1)}function Rg(t,e){hE(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pg(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pg(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function ya(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Hl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function pE(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,gE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w2=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(t){w2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tu[e]=tu[t]})});function yE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tu.hasOwnProperty(t)&&tu[t]?(""+e).trim():e+"px"}function vE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var S2=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Og(t,e){if(e){if(S2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=null;function Sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mg=null,va=null,xa=null;function F_(t){if(t=sc(t)){if(typeof Mg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Eh(e),Mg(t.stateNode,t.type,e))}}function xE(t){va?xa?xa.push(t):xa=[t]:va=t}function _E(){if(va){var t=va,e=xa;if(xa=va=null,F_(t),e)for(t=0;t<e.length;t++)F_(e[t])}}function bE(t,e){return t(e)}function wE(){}var pm=!1;function SE(t,e,n){if(pm)return t(e,n);pm=!0;try{return bE(t,e,n)}finally{pm=!1,(va!==null||xa!==null)&&(wE(),_E())}}function wu(t,e){var n=t.stateNode;if(n===null)return null;var r=Eh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Dg=!1;if(Bi)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Dg=!1}function E2(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var nu=!1,sf=null,of=!1,$g=null,T2={onError:function(t){nu=!0,sf=t}};function C2(t,e,n,r,i,s,o,a,u){nu=!1,sf=null,E2.apply(T2,arguments)}function I2(t,e,n,r,i,s,o,a,u){if(C2.apply(this,arguments),nu){if(nu){var c=sf;nu=!1,sf=null}else throw Error(ae(198));of||(of=!0,$g=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(ko(t)!==t)throw Error(ae(188))}function k2(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V_(i),t;if(s===r)return V_(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function TE(t){return t=k2(t),t!==null?CE(t):null}function CE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CE(t);if(e!==null)return e;t=t.sibling}return null}var IE=mr.unstable_scheduleCallback,z_=mr.unstable_cancelCallback,R2=mr.unstable_shouldYield,P2=mr.unstable_requestPaint,Qt=mr.unstable_now,A2=mr.unstable_getCurrentPriorityLevel,Ev=mr.unstable_ImmediatePriority,kE=mr.unstable_UserBlockingPriority,af=mr.unstable_NormalPriority,j2=mr.unstable_LowPriority,RE=mr.unstable_IdlePriority,_h=null,ai=null;function O2(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(_h,t,void 0,(t.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:M2,N2=Math.log,L2=Math.LN2;function M2(t){return t>>>=0,t===0?32:31-(N2(t)/L2|0)|0}var Jc=64,Zc=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ql(a):(s&=o,s!==0&&(r=ql(s)))}else o=n&~i,o!==0?r=ql(o):s!==0&&(r=ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hr(e),i=1<<n,r|=t[n],e&=~i;return r}function D2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=D2(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hr(e),t[e]=n}function F2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function AE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jE,Cv,OE,NE,LE,Vg=!1,ed=[],ms=null,gs=null,ys=null,Su=new Map,Eu=new Map,us=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B_(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function kl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sc(e),e!==null&&Cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z2(t,e,n,r,i){switch(e){case"focusin":return ms=kl(ms,t,e,n,r,i),!0;case"dragenter":return gs=kl(gs,t,e,n,r,i),!0;case"mouseover":return ys=kl(ys,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,kl(Su.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eu.set(s,kl(Eu.get(s)||null,t,e,n,r,i)),!0}return!1}function ME(t){var e=Zs(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,LE(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lg=r,n.target.dispatchEvent(r),Lg=null}else return e=sc(n),e!==null&&Cv(e),t.blockedOn=n,!1;e.shift()}return!0}function U_(t,e,n){kd(t)&&n.delete(e)}function B2(){Vg=!1,ms!==null&&kd(ms)&&(ms=null),gs!==null&&kd(gs)&&(gs=null),ys!==null&&kd(ys)&&(ys=null),Su.forEach(U_),Eu.forEach(U_)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Vg||(Vg=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,B2)))}function Tu(t){function e(i){return Rl(i,t)}if(0<ed.length){Rl(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&Rl(ms,t),gs!==null&&Rl(gs,t),ys!==null&&Rl(ys,t),Su.forEach(e),Eu.forEach(e),n=0;n<us.length;n++)r=us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&us.shift()}var _a=Ji.ReactCurrentBatchConfig,uf=!0;function U2(t,e,n,r){var i=vt,s=_a.transition;_a.transition=null;try{vt=1,Iv(t,e,n,r)}finally{vt=i,_a.transition=s}}function W2(t,e,n,r){var i=vt,s=_a.transition;_a.transition=null;try{vt=4,Iv(t,e,n,r)}finally{vt=i,_a.transition=s}}function Iv(t,e,n,r){if(uf){var i=zg(t,e,n,r);if(i===null)Tm(t,e,r,cf,n),B_(t,r);else if(z2(i,t,e,n,r))r.stopPropagation();else if(B_(t,r),e&4&&-1<V2.indexOf(t)){for(;i!==null;){var s=sc(i);if(s!==null&&jE(s),s=zg(t,e,n,r),s===null&&Tm(t,e,r,cf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tm(t,e,r,null,n)}}var cf=null;function zg(t,e,n,r){if(cf=null,t=Sv(r),t=Zs(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function DE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A2()){case Ev:return 1;case kE:return 4;case af:case j2:return 16;case RE:return 536870912;default:return 16}default:return 16}}var ds=null,kv=null,Rd=null;function $E(){if(Rd)return Rd;var t,e=kv,n=e.length,r,i="value"in ds?ds.value:ds.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function W_(){return!1}function yr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?td:W_,this.isPropagationStopped=W_,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=yr(sl),ic=Ft({},sl,{view:0,detail:0}),H2=yr(ic),gm,ym,Pl,bh=Ft({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(gm=t.screenX-Pl.screenX,ym=t.screenY-Pl.screenY):ym=gm=0,Pl=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),H_=yr(bh),q2=Ft({},bh,{dataTransfer:0}),K2=yr(q2),G2=Ft({},ic,{relatedTarget:0}),vm=yr(G2),Q2=Ft({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),Y2=yr(Q2),X2=Ft({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J2=yr(X2),Z2=Ft({},sl,{data:0}),q_=yr(Z2),ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nj[t])?!!e[t]:!1}function Pv(){return rj}var ij=Ft({},ic,{key:function(t){if(t.key){var e=ej[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pv,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sj=yr(ij),oj=Ft({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K_=yr(oj),aj=Ft({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pv}),lj=yr(aj),uj=Ft({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),cj=yr(uj),dj=Ft({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=yr(dj),hj=[9,13,27,32],Av=Bi&&"CompositionEvent"in window,ru=null;Bi&&"documentMode"in document&&(ru=document.documentMode);var pj=Bi&&"TextEvent"in window&&!ru,FE=Bi&&(!Av||ru&&8<ru&&11>=ru),G_=" ",Q_=!1;function VE(t,e){switch(t){case"keyup":return hj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function mj(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(Q_=!0,G_);case"textInput":return t=e.data,t===G_&&Q_?null:t;default:return null}}function gj(t,e){if(sa)return t==="compositionend"||!Av&&VE(t,e)?(t=$E(),Rd=kv=ds=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yj[t.type]:e==="textarea"}function BE(t,e,n,r){xE(r),e=df(e,"onChange"),0<e.length&&(n=new Rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var iu=null,Cu=null;function vj(t){ZE(t,0)}function wh(t){var e=la(t);if(fE(e))return t}function xj(t,e){if(t==="change")return e}var UE=!1;if(Bi){var xm;if(Bi){var _m="oninput"in document;if(!_m){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),_m=typeof X_.oninput=="function"}xm=_m}else xm=!1;UE=xm&&(!document.documentMode||9<document.documentMode)}function J_(){iu&&(iu.detachEvent("onpropertychange",WE),Cu=iu=null)}function WE(t){if(t.propertyName==="value"&&wh(Cu)){var e=[];BE(e,Cu,t,Sv(t)),SE(vj,e)}}function _j(t,e,n){t==="focusin"?(J_(),iu=e,Cu=n,iu.attachEvent("onpropertychange",WE)):t==="focusout"&&J_()}function bj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(Cu)}function wj(t,e){if(t==="click")return wh(e)}function Sj(t,e){if(t==="input"||t==="change")return wh(e)}function Ej(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:Ej;function Iu(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sg.call(e,i)||!Kr(t[i],e[i]))return!1}return!0}function Z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eb(t,e){var n=Z_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z_(n)}}function HE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qE(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tj(t){var e=qE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HE(n.ownerDocument.documentElement,n)){if(r!==null&&jv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=eb(n,s);var o=eb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cj=Bi&&"documentMode"in document&&11>=document.documentMode,oa=null,Bg=null,su=null,Ug=!1;function tb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||oa==null||oa!==rf(r)||(r=oa,"selectionStart"in r&&jv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),su&&Iu(su,r)||(su=r,r=df(Bg,"onSelect"),0<r.length&&(e=new Rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oa)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},bm={},KE={};Bi&&(KE=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function Sh(t){if(bm[t])return bm[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KE)return bm[t]=e[n];return t}var GE=Sh("animationend"),QE=Sh("animationiteration"),YE=Sh("animationstart"),XE=Sh("transitionend"),JE=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){JE.set(t,e),Io(e,[t])}for(var wm=0;wm<nb.length;wm++){var Sm=nb[wm],Ij=Sm.toLowerCase(),kj=Sm[0].toUpperCase()+Sm.slice(1);Ns(Ij,"on"+kj)}Ns(GE,"onAnimationEnd");Ns(QE,"onAnimationIteration");Ns(YE,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(XE,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function rb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I2(r,e,void 0,t),t.currentTarget=null}function ZE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;rb(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;rb(i,a,c),s=u}}}if(of)throw t=$g,of=!1,$g=null,t}function Rt(t,e){var n=e[Gg];n===void 0&&(n=e[Gg]=new Set);var r=t+"__bubble";n.has(r)||(eT(e,t,2,!1),n.add(r))}function Em(t,e,n){var r=0;e&&(r|=4),eT(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[rd]){t[rd]=!0,aE.forEach(function(n){n!=="selectionchange"&&(Rj.has(n)||Em(n,!1,t),Em(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,Em("selectionchange",!1,e))}}function eT(t,e,n,r){switch(DE(e)){case 1:var i=U2;break;case 4:i=W2;break;default:i=Iv}n=i.bind(null,e,n,t),i=void 0,!Dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zs(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}SE(function(){var c=s,f=Sv(n),h=[];e:{var m=JE.get(t);if(m!==void 0){var S=Rv,E=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":S=sj;break;case"focusin":E="focus",S=vm;break;case"focusout":E="blur",S=vm;break;case"beforeblur":case"afterblur":S=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=H_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=lj;break;case GE:case QE:case YE:S=Y2;break;case XE:S=cj;break;case"scroll":S=H2;break;case"wheel":S=fj;break;case"copy":case"cut":case"paste":S=J2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=K_}var b=(e&4)!==0,I=!b&&t==="scroll",T=b?m!==null?m+"Capture":null:m;b=[];for(var v=c,_;v!==null;){_=v;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,T!==null&&(R=wu(v,T),R!=null&&b.push(Ru(v,R,_)))),I)break;v=v.return}0<b.length&&(m=new S(m,E,null,n,f),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",m&&n!==Lg&&(E=n.relatedTarget||n.fromElement)&&(Zs(E)||E[Ui]))break e;if((S||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,S?(E=n.relatedTarget||n.toElement,S=c,E=E?Zs(E):null,E!==null&&(I=ko(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=c),S!==E)){if(b=H_,R="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(b=K_,R="onPointerLeave",T="onPointerEnter",v="pointer"),I=S==null?m:la(S),_=E==null?m:la(E),m=new b(R,v+"leave",S,n,f),m.target=I,m.relatedTarget=_,R=null,Zs(f)===c&&(b=new b(T,v+"enter",E,n,f),b.target=_,b.relatedTarget=I,R=b),I=R,S&&E)t:{for(b=S,T=E,v=0,_=b;_;_=Ho(_))v++;for(_=0,R=T;R;R=Ho(R))_++;for(;0<v-_;)b=Ho(b),v--;for(;0<_-v;)T=Ho(T),_--;for(;v--;){if(b===T||T!==null&&b===T.alternate)break t;b=Ho(b),T=Ho(T)}b=null}else b=null;S!==null&&ib(h,m,S,b,!1),E!==null&&I!==null&&ib(h,I,E,b,!0)}}e:{if(m=c?la(c):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var L=xj;else if(Y_(m))if(UE)L=Sj;else{L=bj;var N=_j}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=wj);if(L&&(L=L(t,c))){BE(h,L,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Pg(m,"number",m.value)}switch(N=c?la(c):window,t){case"focusin":(Y_(N)||N.contentEditable==="true")&&(oa=N,Bg=c,su=null);break;case"focusout":su=Bg=oa=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,tb(h,n,f);break;case"selectionchange":if(Cj)break;case"keydown":case"keyup":tb(h,n,f)}var g;if(Av)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else sa?VE(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(FE&&n.locale!=="ko"&&(sa||p!=="onCompositionStart"?p==="onCompositionEnd"&&sa&&(g=$E()):(ds=f,kv="value"in ds?ds.value:ds.textContent,sa=!0)),N=df(c,p),0<N.length&&(p=new q_(p,t,null,n,f),h.push({event:p,listeners:N}),g?p.data=g:(g=zE(n),g!==null&&(p.data=g)))),(g=pj?mj(t,n):gj(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(f=new q_("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=g))}ZE(h,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wu(t,n),s!=null&&r.unshift(Ru(t,s,i)),s=wu(t,e),s!=null&&r.push(Ru(t,s,i))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ib(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=wu(n,s),u!=null&&o.unshift(Ru(n,u,a))):i||(u=wu(n,s),u!=null&&o.push(Ru(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pj=/\r\n?/g,Aj=/\u0000|\uFFFD/g;function sb(t){return(typeof t=="string"?t:""+t).replace(Pj,`
`).replace(Aj,"")}function id(t,e,n){if(e=sb(e),sb(t)!==e&&n)throw Error(ae(425))}function ff(){}var Wg=null,Hg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,Oj=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(t){return ob.resolve(null).then(t).catch(Nj)}:Kg;function Nj(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tu(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),si="__reactFiber$"+ol,Pu="__reactProps$"+ol,Ui="__reactContainer$"+ol,Gg="__reactEvents$"+ol,Lj="__reactListeners$"+ol,Mj="__reactHandles$"+ol;function Zs(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ui]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ab(t);t!==null;){if(n=t[si])return n;t=ab(t)}return e}t=n,n=t.parentNode}return null}function sc(t){return t=t[si]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function la(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Eh(t){return t[Pu]||null}var Qg=[],ua=-1;function Ls(t){return{current:t}}function At(t){0>ua||(t.current=Qg[ua],Qg[ua]=null,ua--)}function Tt(t,e){ua++,Qg[ua]=t.current,t.current=e}var ks={},Vn=Ls(ks),tr=Ls(!1),co=ks;function Na(t,e){var n=t.type.contextTypes;if(!n)return ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function hf(){At(tr),At(Vn)}function lb(t,e,n){if(Vn.current!==ks)throw Error(ae(168));Tt(Vn,e),Tt(tr,n)}function tT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,_2(t)||"Unknown",i));return Ft({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ks,co=Vn.current,Tt(Vn,t),Tt(tr,tr.current),!0}function ub(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=tT(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,At(tr),At(Vn),Tt(Vn,t)):At(tr),Tt(tr,n)}var Ci=null,Th=!1,Im=!1;function nT(t){Ci===null?Ci=[t]:Ci.push(t)}function Dj(t){Th=!0,nT(t)}function Ms(){if(!Im&&Ci!==null){Im=!0;var t=0,e=vt;try{var n=Ci;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,Th=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),IE(Ev,Ms),i}finally{vt=e,Im=!1}}return null}var ca=[],da=0,mf=null,gf=0,wr=[],Sr=0,fo=null,ji=1,Oi="";function Ks(t,e){ca[da++]=gf,ca[da++]=mf,mf=t,gf=e}function rT(t,e,n){wr[Sr++]=ji,wr[Sr++]=Oi,wr[Sr++]=fo,fo=t;var r=ji;t=Oi;var i=32-Hr(r)-1;r&=~(1<<i),n+=1;var s=32-Hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ji=1<<32-Hr(e)+i|n<<i|r,Oi=s+t}else ji=1<<s|n<<i|r,Oi=t}function Ov(t){t.return!==null&&(Ks(t,1),rT(t,1,0))}function Nv(t){for(;t===mf;)mf=ca[--da],ca[da]=null,gf=ca[--da],ca[da]=null;for(;t===fo;)fo=wr[--Sr],wr[Sr]=null,Oi=wr[--Sr],wr[Sr]=null,ji=wr[--Sr],wr[Sr]=null}var dr=null,ur=null,Nt=!1,Ur=null;function iT(t,e){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,ur=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:ji,overflow:Oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,ur=null,!0):!1;default:return!1}}function Yg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xg(t){if(Nt){var e=ur;if(e){var n=e;if(!cb(t,e)){if(Yg(t))throw Error(ae(418));e=vs(n.nextSibling);var r=dr;e&&cb(t,e)?iT(r,n):(t.flags=t.flags&-4097|2,Nt=!1,dr=t)}}else{if(Yg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Nt=!1,dr=t}}}function db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function sd(t){if(t!==dr)return!1;if(!Nt)return db(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=ur)){if(Yg(t))throw sT(),Error(ae(418));for(;e;)iT(t,e),e=vs(e.nextSibling)}if(db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ur=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ur=null}}else ur=dr?vs(t.stateNode.nextSibling):null;return!0}function sT(){for(var t=ur;t;)t=vs(t.nextSibling)}function La(){ur=dr=null,Nt=!1}function Lv(t){Ur===null?Ur=[t]:Ur.push(t)}var $j=Ji.ReactCurrentBatchConfig;function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fb(t){var e=t._init;return e(t._payload)}function oT(t){function e(T,v){if(t){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=ws(T,v),T.index=0,T.sibling=null,T}function s(T,v,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=2,v):_):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,_,R){return v===null||v.tag!==6?(v=Nm(_,T.mode,R),v.return=T,v):(v=i(v,_),v.return=T,v)}function u(T,v,_,R){var L=_.type;return L===ia?f(T,v,_.props.children,R,_.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===os&&fb(L)===v.type)?(R=i(v,_.props),R.ref=Al(T,v,_),R.return=T,R):(R=Dd(_.type,_.key,_.props,null,T.mode,R),R.ref=Al(T,v,_),R.return=T,R)}function c(T,v,_,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Lm(_,T.mode,R),v.return=T,v):(v=i(v,_.children||[]),v.return=T,v)}function f(T,v,_,R,L){return v===null||v.tag!==7?(v=oo(_,T.mode,R,L),v.return=T,v):(v=i(v,_),v.return=T,v)}function h(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nm(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:return _=Dd(v.type,v.key,v.props,null,T.mode,_),_.ref=Al(T,null,v),_.return=T,_;case ra:return v=Lm(v,T.mode,_),v.return=T,v;case os:var R=v._init;return h(T,R(v._payload),_)}if(Hl(v)||Cl(v))return v=oo(v,T.mode,_,null),v.return=T,v;od(T,v)}return null}function m(T,v,_,R){var L=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(T,v,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:return _.key===L?u(T,v,_,R):null;case ra:return _.key===L?c(T,v,_,R):null;case os:return L=_._init,m(T,v,L(_._payload),R)}if(Hl(_)||Cl(_))return L!==null?null:f(T,v,_,R,null);od(T,_)}return null}function S(T,v,_,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(_)||null,a(v,T,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Qc:return T=T.get(R.key===null?_:R.key)||null,u(v,T,R,L);case ra:return T=T.get(R.key===null?_:R.key)||null,c(v,T,R,L);case os:var N=R._init;return S(T,v,_,N(R._payload),L)}if(Hl(R)||Cl(R))return T=T.get(_)||null,f(v,T,R,L,null);od(v,R)}return null}function E(T,v,_,R){for(var L=null,N=null,g=v,p=v=0,y=null;g!==null&&p<_.length;p++){g.index>p?(y=g,g=null):y=g.sibling;var C=m(T,g,_[p],R);if(C===null){g===null&&(g=y);break}t&&g&&C.alternate===null&&e(T,g),v=s(C,v,p),N===null?L=C:N.sibling=C,N=C,g=y}if(p===_.length)return n(T,g),Nt&&Ks(T,p),L;if(g===null){for(;p<_.length;p++)g=h(T,_[p],R),g!==null&&(v=s(g,v,p),N===null?L=g:N.sibling=g,N=g);return Nt&&Ks(T,p),L}for(g=r(T,g);p<_.length;p++)y=S(g,T,p,_[p],R),y!==null&&(t&&y.alternate!==null&&g.delete(y.key===null?p:y.key),v=s(y,v,p),N===null?L=y:N.sibling=y,N=y);return t&&g.forEach(function(j){return e(T,j)}),Nt&&Ks(T,p),L}function b(T,v,_,R){var L=Cl(_);if(typeof L!="function")throw Error(ae(150));if(_=L.call(_),_==null)throw Error(ae(151));for(var N=L=null,g=v,p=v=0,y=null,C=_.next();g!==null&&!C.done;p++,C=_.next()){g.index>p?(y=g,g=null):y=g.sibling;var j=m(T,g,C.value,R);if(j===null){g===null&&(g=y);break}t&&g&&j.alternate===null&&e(T,g),v=s(j,v,p),N===null?L=j:N.sibling=j,N=j,g=y}if(C.done)return n(T,g),Nt&&Ks(T,p),L;if(g===null){for(;!C.done;p++,C=_.next())C=h(T,C.value,R),C!==null&&(v=s(C,v,p),N===null?L=C:N.sibling=C,N=C);return Nt&&Ks(T,p),L}for(g=r(T,g);!C.done;p++,C=_.next())C=S(g,T,p,C.value,R),C!==null&&(t&&C.alternate!==null&&g.delete(C.key===null?p:C.key),v=s(C,v,p),N===null?L=C:N.sibling=C,N=C);return t&&g.forEach(function(A){return e(T,A)}),Nt&&Ks(T,p),L}function I(T,v,_,R){if(typeof _=="object"&&_!==null&&_.type===ia&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:e:{for(var L=_.key,N=v;N!==null;){if(N.key===L){if(L=_.type,L===ia){if(N.tag===7){n(T,N.sibling),v=i(N,_.props.children),v.return=T,T=v;break e}}else if(N.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===os&&fb(L)===N.type){n(T,N.sibling),v=i(N,_.props),v.ref=Al(T,N,_),v.return=T,T=v;break e}n(T,N);break}else e(T,N);N=N.sibling}_.type===ia?(v=oo(_.props.children,T.mode,R,_.key),v.return=T,T=v):(R=Dd(_.type,_.key,_.props,null,T.mode,R),R.ref=Al(T,v,_),R.return=T,T=R)}return o(T);case ra:e:{for(N=_.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(T,v.sibling),v=i(v,_.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Lm(_,T.mode,R),v.return=T,T=v}return o(T);case os:return N=_._init,I(T,v,N(_._payload),R)}if(Hl(_))return E(T,v,_,R);if(Cl(_))return b(T,v,_,R);od(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,_),v.return=T,T=v):(n(T,v),v=Nm(_,T.mode,R),v.return=T,T=v),o(T)):n(T,v)}return I}var Ma=oT(!0),aT=oT(!1),yf=Ls(null),vf=null,fa=null,Mv=null;function Dv(){Mv=fa=vf=null}function $v(t){var e=yf.current;At(yf),t._currentValue=e}function Jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){vf=t,Mv=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(Mv!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(vf===null)throw Error(ae(308));fa=t,vf.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var eo=null;function Fv(t){eo===null?eo=[t]:eo.push(t)}function lT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wi(t,r)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wi(t,n)}return i=r.interleaved,i===null?(e.next=e,Fv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wi(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}function hb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;as=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var m=a.lane,S=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,b=a;switch(m=e,S=n,b.tag){case 1:if(E=b.payload,typeof E=="function"){h=E.call(S,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=b.payload,m=typeof E=="function"?E.call(S,h,m):E,m==null)break e;h=Ft({},h,m);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else S={eventTime:S,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=S,u=h):f=f.next=S,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=h}}function pb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var oc={},li=Ls(oc),Au=Ls(oc),ju=Ls(oc);function to(t){if(t===oc)throw Error(ae(174));return t}function zv(t,e){switch(Tt(ju,e),Tt(Au,t),Tt(li,oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}At(li),Tt(li,e)}function Da(){At(li),At(Au),At(ju)}function cT(t){to(ju.current);var e=to(li.current),n=jg(e,t.type);e!==n&&(Tt(Au,t),Tt(li,n))}function Bv(t){Au.current===t&&(At(li),At(Au))}var Dt=Ls(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function Uv(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var jd=Ji.ReactCurrentDispatcher,Rm=Ji.ReactCurrentBatchConfig,ho=0,$t=null,fn=null,gn=null,bf=!1,ou=!1,Ou=0,Fj=0;function jn(){throw Error(ae(321))}function Wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function Hv(t,e,n,r,i,s){if(ho=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jd.current=t===null||t.memoizedState===null?Uj:Wj,t=n(r,i),ou){s=0;do{if(ou=!1,Ou=0,25<=s)throw Error(ae(301));s+=1,gn=fn=null,e.updateQueue=null,jd.current=Hj,t=n(r,i)}while(ou)}if(jd.current=wf,e=fn!==null&&fn.next!==null,ho=0,gn=fn=$t=null,bf=!1,e)throw Error(ae(300));return t}function qv(){var t=Ou!==0;return Ou=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?$t.memoizedState=gn=t:gn=gn.next=t,gn}function Ar(){if(fn===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=fn.next;var e=gn===null?$t.memoizedState:gn.next;if(e!==null)gn=e,fn=t;else{if(t===null)throw Error(ae(310));fn=t,t={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},gn===null?$t.memoizedState=gn=t:gn=gn.next=t}return gn}function Nu(t,e){return typeof e=="function"?e(t):e}function Pm(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((ho&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,$t.lanes|=f,po|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Kr(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$t.lanes|=s,po|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Am(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Kr(s,e.memoizedState)||(er=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(){}function fT(t,e){var n=$t,r=Ar(),i=e(),s=!Kr(r.memoizedState,i);if(s&&(r.memoizedState=i,er=!0),r=r.queue,Kv(mT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,Lu(9,pT.bind(null,n,r,i,e),void 0,null),vn===null)throw Error(ae(349));ho&30||hT(n,e,i)}return i}function hT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&yT(t)}function mT(t,e,n){return n(function(){gT(e)&&yT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function yT(t){var e=Wi(t,1);e!==null&&qr(e,t,1,-1)}function mb(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=Bj.bind(null,$t,t),[e.memoizedState,t]}function Lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vT(){return Ar().memoizedState}function Od(t,e,n,r){var i=ni();$t.flags|=t,i.memoizedState=Lu(1|e,n,void 0,r===void 0?null:r)}function Ch(t,e,n,r){var i=Ar();r=r===void 0?null:r;var s=void 0;if(fn!==null){var o=fn.memoizedState;if(s=o.destroy,r!==null&&Wv(r,o.deps)){i.memoizedState=Lu(e,n,s,r);return}}$t.flags|=t,i.memoizedState=Lu(1|e,n,s,r)}function gb(t,e){return Od(8390656,8,t,e)}function Kv(t,e){return Ch(2048,8,t,e)}function xT(t,e){return Ch(4,2,t,e)}function _T(t,e){return Ch(4,4,t,e)}function bT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wT(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,bT.bind(null,e,t),n)}function Gv(){}function ST(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ET(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return ho&21?(Kr(n,e)||(n=PE(),$t.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function Vj(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{vt=n,Rm.transition=r}}function CT(){return Ar().memoizedState}function zj(t,e,n){var r=bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IT(t))kT(e,n);else if(n=lT(t,e,n,r),n!==null){var i=Kn();qr(n,t,r,i),RT(n,e,r)}}function Bj(t,e,n){var r=bs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IT(t))kT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kr(a,o)){var u=e.interleaved;u===null?(i.next=i,Fv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=lT(t,e,i,r),n!==null&&(i=Kn(),qr(n,t,r,i),RT(n,e,r))}}function IT(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function kT(t,e){ou=bf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tv(t,n)}}var wf={readContext:Pr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},Uj={readContext:Pr,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:gb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,bT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zj.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:mb,useDebugValue:Gv,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=mb(!1),e=t[0];return t=Vj.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=ni();if(Nt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),vn===null)throw Error(ae(349));ho&30||hT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gb(mT.bind(null,r,s,t),[t]),r.flags|=2048,Lu(9,pT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ni(),e=vn.identifierPrefix;if(Nt){var n=Oi,r=ji;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wj={readContext:Pr,useCallback:ST,useContext:Pr,useEffect:Kv,useImperativeHandle:wT,useInsertionEffect:xT,useLayoutEffect:_T,useMemo:ET,useReducer:Pm,useRef:vT,useState:function(){return Pm(Nu)},useDebugValue:Gv,useDeferredValue:function(t){var e=Ar();return TT(e,fn.memoizedState,t)},useTransition:function(){var t=Pm(Nu)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1},Hj={readContext:Pr,useCallback:ST,useContext:Pr,useEffect:Kv,useImperativeHandle:wT,useInsertionEffect:xT,useLayoutEffect:_T,useMemo:ET,useReducer:Am,useRef:vT,useState:function(){return Am(Nu)},useDebugValue:Gv,useDeferredValue:function(t){var e=Ar();return fn===null?e.memoizedState=t:TT(e,fn.memoizedState,t)},useTransition:function(){var t=Am(Nu)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:CT,unstable_isNewReconciler:!1};function zr(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=bs(t),s=Di(r,i);s.payload=e,n!=null&&(s.callback=n),e=xs(t,s,i),e!==null&&(qr(e,t,i,r),Ad(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=bs(t),s=Di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xs(t,s,i),e!==null&&(qr(e,t,i,r),Ad(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=bs(t),i=Di(n,r);i.tag=2,e!=null&&(i.callback=e),e=xs(t,i,r),e!==null&&(qr(e,t,r,n),Ad(e,t,r))}};function yb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Iu(n,r)||!Iu(i,s):!0}function PT(t,e,n){var r=!1,i=ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Pr(s):(i=nr(e)?co:Vn.current,r=e.contextTypes,s=(r=r!=null)?Na(t,i):ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pr(s):(s=nr(e)?co:Vn.current,i.context=Na(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ih.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e){try{var n="",r=e;do n+=x2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ty(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qj=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ef||(Ef=!0,dy=r),ty(t,e)},n}function jT(t,e,n){n=Di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ty(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ty(t,e),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oO.bind(null,t,e,n),e.then(t,t))}function _b(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Di(-1,1),e.tag=2,xs(n,e,1))),n.lanes|=1),t)}var Kj=Ji.ReactCurrentOwner,er=!1;function Hn(t,e,n,r){e.child=t===null?aT(e,null,n,r):Ma(e,t.child,n,r)}function wb(t,e,n,r,i){n=n.render;var s=e.ref;return ba(e,i),r=Hv(t,e,n,r,s,i),n=qv(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(Nt&&n&&Ov(e),e.flags|=1,Hn(t,e,r,i),e.child)}function Sb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!n0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OT(t,e,s,r,i)):(t=Dd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Iu,n(o,r)&&t.ref===e.ref)return Hi(t,e,i)}return e.flags|=1,t=ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function OT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Iu(s,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,Hi(t,e,i)}return ny(t,e,n,r,i)}function NT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(pa,ar),ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(pa,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tt(pa,ar),ar|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tt(pa,ar),ar|=r;return Hn(t,e,i,n),e.child}function LT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ny(t,e,n,r,i){var s=nr(n)?co:Vn.current;return s=Na(e,s),ba(e,i),n=Hv(t,e,n,r,s,i),r=qv(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(Nt&&r&&Ov(e),e.flags|=1,Hn(t,e,n,i),e.child)}function Eb(t,e,n,r,i){if(nr(n)){var s=!0;pf(e)}else s=!1;if(ba(e,i),e.stateNode===null)Nd(t,e),PT(e,n,r),ey(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pr(c):(c=nr(n)?co:Vn.current,c=Na(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&vb(e,o,r,c),as=!1;var m=e.memoizedState;o.state=m,xf(e,r,o,i),u=e.memoizedState,a!==r||m!==u||tr.current||as?(typeof f=="function"&&(Zg(e,n,f,r),u=e.memoizedState),(a=as||yb(e,n,a,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pr(u):(u=nr(n)?co:Vn.current,u=Na(e,u));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&vb(e,o,r,u),as=!1,m=e.memoizedState,o.state=m,xf(e,r,o,i);var E=e.memoizedState;a!==h||m!==E||tr.current||as?(typeof S=="function"&&(Zg(e,n,S,r),E=e.memoizedState),(c=as||yb(e,n,c,r,m,E,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ry(t,e,n,r,s,i)}function ry(t,e,n,r,i,s){LT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ub(e,n,!1),Hi(t,e,s);r=e.stateNode,Kj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ma(e,t.child,null,s),e.child=Ma(e,null,a,s)):Hn(t,e,a,s),e.memoizedState=r.state,i&&ub(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lb(t,e.context,!1),zv(t,e.containerInfo)}function Tb(t,e,n,r,i){return La(),Lv(i),e.flags|=256,Hn(t,e,n,r),e.child}var iy={dehydrated:null,treeContext:null,retryLane:0};function sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function DT(t,e,n){var r=e.pendingProps,i=Dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Dt,i&1),t===null)return Xg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ph(o,r,0,null),t=oo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sy(n),e.memoizedState=iy,t):Qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ws(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ws(a,s):(s=oo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=iy,r}return s=t.child,t=s.sibling,r=ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qv(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&Lv(r),Ma(e,t.child,null,n),t=Qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jm(Error(ae(422))),ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=oo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ma(e,t.child,null,o),e.child.memoizedState=sy(o),e.memoizedState=iy,s);if(!(e.mode&1))return ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=jm(s,r,void 0),ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,er||a){if(r=vn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wi(t,i),qr(r,t,i,-1))}return t0(),r=jm(Error(ae(421))),ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ur=vs(i.nextSibling),dr=e,Nt=!0,Ur=null,t!==null&&(wr[Sr++]=ji,wr[Sr++]=Oi,wr[Sr++]=fo,ji=t.id,Oi=t.overflow,fo=e),e=Qv(e,r.children),e.flags|=4096,e)}function Cb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jg(t.return,e,n)}function Om(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hn(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cb(t,n,e);else if(t.tag===19)Cb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Om(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Om(e,!0,n,null,s);break;case"together":Om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qj(t,e,n){switch(e.tag){case 3:MT(e),La();break;case 5:cT(e);break;case 1:nr(e.type)&&pf(e);break;case 4:zv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?DT(t,e,n):(Tt(Dt,Dt.current&1),t=Hi(t,e,n),t!==null?t.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,NT(t,e,n)}return Hi(t,e,n)}var FT,oy,VT,zT;FT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oy=function(){};VT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,to(li.current);var s=null;switch(n){case"input":i=kg(t,i),r=kg(t,r),s=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),s=[];break;case"textarea":i=Ag(t,i),r=Ag(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}Og(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_u.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_u.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Rt("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zT=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yj(t,e,n){var r=e.pendingProps;switch(Nv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return nr(e.type)&&hf(),On(e),null;case 3:return r=e.stateNode,Da(),At(tr),At(Vn),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(py(Ur),Ur=null))),oy(t,e),On(e),null;case 5:Bv(e);var i=to(ju.current);if(n=e.type,t!==null&&e.stateNode!=null)VT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return On(e),null}if(t=to(li.current),sd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[si]=e,r[Pu]=s,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)Rt(Kl[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":L_(r,s),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",r);break;case"textarea":D_(r,s),Rt("invalid",r)}Og(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",""+a]):_u.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":Yc(r),M_(r,s,!0);break;case"textarea":Yc(r),$_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[si]=e,t[Pu]=r,FT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ng(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),i=r;break;case"iframe":case"object":case"embed":Rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)Rt(Kl[i],t);i=r;break;case"source":Rt("error",t),i=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),i=r;break;case"details":Rt("toggle",t),i=r;break;case"input":L_(t,r),i=kg(t,r),Rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":D_(t,r),i=Ag(t,r),Rt("invalid",t);break;default:i=r}Og(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?vE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bu(t,u):typeof u=="number"&&bu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_u.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Rt("scroll",t):u!=null&&xv(t,s,u,o))}switch(n){case"input":Yc(t),M_(t,r,!1);break;case"textarea":Yc(t),$_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ya(t,!!r.multiple,s,!1):r.defaultValue!=null&&ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)zT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=to(ju.current),to(li.current),sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[si]=e,(s=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=e,e.stateNode=r}return On(e),null;case 13:if(At(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&ur!==null&&e.mode&1&&!(e.flags&128))sT(),La(),e.flags|=98560,s=!1;else if(s=sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[si]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),s=!1}else Ur!==null&&(py(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?hn===0&&(hn=3):t0())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return Da(),oy(t,e),t===null&&ku(e.stateNode.containerInfo),On(e),null;case 10:return $v(e.type._context),On(e),null;case 17:return nr(e.type)&&hf(),On(e),null;case 19:if(At(Dt),s=e.memoizedState,s===null)return On(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)jl(s,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_f(t),o!==null){for(e.flags|=128,jl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>Fa&&(e.flags|=128,r=!0,jl(s,!1),e.lanes=4194304)}else{if(!r)if(t=_f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nt)return On(e),null}else 2*Qt()-s.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,jl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=Dt.current,Tt(Dt,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return e0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function Xj(t,e){switch(Nv(e),e.tag){case 1:return nr(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),At(tr),At(Vn),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bv(e),null;case 13:if(At(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Dt),null;case 4:return Da(),null;case 10:return $v(e.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var ld=!1,Dn=!1,Jj=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function ay(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var Ib=!1;function Zj(t,e){if(Wg=uf,t=qE(),jv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var S;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(S=h.firstChild)!==null;)m=h,h=S;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++f===r&&(u=o),(S=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hg={focusedElem:t,selectionRange:n},uf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var b=E.memoizedProps,I=E.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:zr(e.type,b),I);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){Ht(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=Ib,Ib=!1,E}function au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ay(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ly(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BT(t){var e=t.alternate;e!==null&&(t.alternate=null,BT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[Pu],delete e[Gg],delete e[Lj],delete e[Mj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UT(t){return t.tag===5||t.tag===3||t.tag===4}function kb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(uy(t,e,n),t=t.sibling;t!==null;)uy(t,e,n),t=t.sibling}function cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cy(t,e,n),t=t.sibling;t!==null;)cy(t,e,n),t=t.sibling}var wn=null,Br=!1;function ns(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:Dn||ha(n,e);case 6:var r=wn,i=Br;wn=null,ns(t,e,n),wn=r,Br=i,wn!==null&&(Br?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Br?(t=wn,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Tu(t)):Cm(wn,n.stateNode));break;case 4:r=wn,i=Br,wn=n.stateNode.containerInfo,Br=!0,ns(t,e,n),wn=r,Br=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ay(n,e,o),i=i.next}while(i!==r)}ns(t,e,n);break;case 1:if(!Dn&&(ha(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ht(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,ns(t,e,n),Dn=r):ns(t,e,n);break;default:ns(t,e,n)}}function Rb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jj),e.forEach(function(r){var i=lO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,Br=!1;break e;case 3:wn=a.stateNode.containerInfo,Br=!0;break e;case 4:wn=a.stateNode.containerInfo,Br=!0;break e}a=a.return}if(wn===null)throw Error(ae(160));WT(s,o,i),wn=null,Br=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ht(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HT(e,t),e=e.sibling}function HT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),ti(t),r&4){try{au(3,t,t.return),kh(3,t)}catch(b){Ht(t,t.return,b)}try{au(5,t,t.return)}catch(b){Ht(t,t.return,b)}}break;case 1:Fr(e,t),ti(t),r&512&&n!==null&&ha(n,n.return);break;case 5:if(Fr(e,t),ti(t),r&512&&n!==null&&ha(n,n.return),t.flags&32){var i=t.stateNode;try{bu(i,"")}catch(b){Ht(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hE(i,s),Ng(a,o);var c=Ng(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?vE(i,h):f==="dangerouslySetInnerHTML"?gE(i,h):f==="children"?bu(i,h):xv(i,f,h,c)}switch(a){case"input":Rg(i,s);break;case"textarea":pE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?ya(i,!!s.multiple,S,!1):m!==!!s.multiple&&(s.defaultValue!=null?ya(i,!!s.multiple,s.defaultValue,!0):ya(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pu]=s}catch(b){Ht(t,t.return,b)}}break;case 6:if(Fr(e,t),ti(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Ht(t,t.return,b)}}break;case 3:if(Fr(e,t),ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(b){Ht(t,t.return,b)}break;case 4:Fr(e,t),ti(t);break;case 13:Fr(e,t),ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jv=Qt())),r&4&&Rb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||f,Fr(e,t),Dn=c):Fr(e,t),ti(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(h=ye=f;ye!==null;){switch(m=ye,S=m.child,m.tag){case 0:case 11:case 14:case 15:au(4,m,m.return);break;case 1:ha(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(b){Ht(r,n,b)}}break;case 5:ha(m,m.return);break;case 22:if(m.memoizedState!==null){Ab(h);continue}}S!==null?(S.return=m,ye=S):Ab(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=yE("display",o))}catch(b){Ht(t,t.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){Ht(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fr(e,t),ti(t),r&4&&Rb(t);break;case 21:break;default:Fr(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UT(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bu(i,""),r.flags&=-33);var s=kb(t);cy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kb(t);uy(t,a,o);break;default:throw Error(ae(161))}}catch(u){Ht(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eO(t,e,n){ye=t,qT(t)}function qT(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ld;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Dn;a=ld;var c=Dn;if(ld=o,(Dn=u)&&!c)for(ye=i;ye!==null;)o=ye,u=o.child,o.tag===22&&o.memoizedState!==null?jb(i):u!==null?(u.return=o,ye=u):jb(i);for(;s!==null;)ye=s,qT(s),s=s.sibling;ye=i,ld=a,Dn=c}Pb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):Pb(t)}}function Pb(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Tu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Dn||e.flags&512&&ly(e)}catch(m){Ht(e,e.return,m)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Ab(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function jb(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(u){Ht(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ht(e,i,u)}}var s=e.return;try{ly(e)}catch(u){Ht(e,s,u)}break;case 5:var o=e.return;try{ly(e)}catch(u){Ht(e,o,u)}}}catch(u){Ht(e,e.return,u)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var tO=Math.ceil,Sf=Ji.ReactCurrentDispatcher,Yv=Ji.ReactCurrentOwner,Ir=Ji.ReactCurrentBatchConfig,st=0,vn=null,rn=null,Cn=0,ar=0,pa=Ls(0),hn=0,Mu=null,po=0,Rh=0,Xv=0,lu=null,Jn=null,Jv=0,Fa=1/0,Ti=null,Ef=!1,dy=null,_s=null,ud=!1,fs=null,Tf=0,uu=0,fy=null,Ld=-1,Md=0;function Kn(){return st&6?Qt():Ld!==-1?Ld:Ld=Qt()}function bs(t){return t.mode&1?st&2&&Cn!==0?Cn&-Cn:$j.transition!==null?(Md===0&&(Md=PE()),Md):(t=vt,t!==0||(t=window.event,t=t===void 0?16:DE(t.type)),t):1}function qr(t,e,n,r){if(50<uu)throw uu=0,fy=null,Error(ae(185));rc(t,n,r),(!(st&2)||t!==vn)&&(t===vn&&(!(st&2)&&(Rh|=n),hn===4&&cs(t,Cn)),rr(t,r),n===1&&st===0&&!(e.mode&1)&&(Fa=Qt()+500,Th&&Ms()))}function rr(t,e){var n=t.callbackNode;$2(t,e);var r=lf(t,t===vn?Cn:0);if(r===0)n!==null&&z_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&z_(n),e===1)t.tag===0?Dj(Ob.bind(null,t)):nT(Ob.bind(null,t)),Oj(function(){!(st&6)&&Ms()}),n=null;else{switch(AE(r)){case 1:n=Ev;break;case 4:n=kE;break;case 16:n=af;break;case 536870912:n=RE;break;default:n=af}n=eC(n,KT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KT(t,e){if(Ld=-1,Md=0,st&6)throw Error(ae(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=lf(t,t===vn?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=st;st|=2;var s=QT();(vn!==t||Cn!==e)&&(Ti=null,Fa=Qt()+500,so(t,e));do try{iO();break}catch(a){GT(t,a)}while(!0);Dv(),Sf.current=s,st=i,rn!==null?e=0:(vn=null,Cn=0,e=hn)}if(e!==0){if(e===2&&(i=Fg(t),i!==0&&(r=i,e=hy(t,i))),e===1)throw n=Mu,so(t,0),cs(t,r),rr(t,Qt()),n;if(e===6)cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!nO(i)&&(e=Cf(t,r),e===2&&(s=Fg(t),s!==0&&(r=s,e=hy(t,s))),e===1))throw n=Mu,so(t,0),cs(t,r),rr(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:Gs(t,Jn,Ti);break;case 3:if(cs(t,r),(r&130023424)===r&&(e=Jv+500-Qt(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kg(Gs.bind(null,t,Jn,Ti),e);break}Gs(t,Jn,Ti);break;case 4:if(cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tO(r/1960))-r,10<r){t.timeoutHandle=Kg(Gs.bind(null,t,Jn,Ti),r);break}Gs(t,Jn,Ti);break;case 5:Gs(t,Jn,Ti);break;default:throw Error(ae(329))}}}return rr(t,Qt()),t.callbackNode===n?KT.bind(null,t):null}function hy(t,e){var n=lu;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&py(e)),t}function py(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function nO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~Xv,e&=~Rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hr(e),r=1<<n;t[n]=-1,e&=~r}}function Ob(t){if(st&6)throw Error(ae(327));wa();var e=lf(t,0);if(!(e&1))return rr(t,Qt()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=Fg(t);r!==0&&(e=r,n=hy(t,r))}if(n===1)throw n=Mu,so(t,0),cs(t,e),rr(t,Qt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,Jn,Ti),rr(t,Qt()),null}function Zv(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Fa=Qt()+500,Th&&Ms())}}function mo(t){fs!==null&&fs.tag===0&&!(st&6)&&wa();var e=st;st|=1;var n=Ir.transition,r=vt;try{if(Ir.transition=null,vt=1,t)return t()}finally{vt=r,Ir.transition=n,st=e,!(st&6)&&Ms()}}function e0(){ar=pa.current,At(pa)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jj(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(Nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:Da(),At(tr),At(Vn),Uv();break;case 5:Bv(r);break;case 4:Da();break;case 13:At(Dt);break;case 19:At(Dt);break;case 10:$v(r.type._context);break;case 22:case 23:e0()}n=n.return}if(vn=t,rn=t=ws(t.current,null),Cn=ar=e,hn=0,Mu=null,Xv=Rh=po=0,Jn=lu=null,eo!==null){for(e=0;e<eo.length;e++)if(n=eo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}eo=null}return t}function GT(t,e){do{var n=rn;try{if(Dv(),jd.current=wf,bf){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bf=!1}if(ho=0,gn=fn=$t=null,ou=!1,Ou=0,Yv.current=null,n===null||n.return===null){hn=1,Mu=e,rn=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Cn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=_b(o);if(S!==null){S.flags&=-257,bb(S,o,a,s,e),S.mode&1&&xb(s,c,e),e=S,u=c;var E=e.updateQueue;if(E===null){var b=new Set;b.add(u),e.updateQueue=b}else E.add(u);break e}else{if(!(e&1)){xb(s,c,e),t0();break e}u=Error(ae(426))}}else if(Nt&&a.mode&1){var I=_b(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),bb(I,o,a,s,e),Lv($a(u,a));break e}}s=u=$a(u,a),hn!==4&&(hn=2),lu===null?lu=[s]:lu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=AT(s,u,e);hb(s,T);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_s===null||!_s.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=jT(s,a,e);hb(s,R);break e}}s=s.return}while(s!==null)}XT(n)}catch(L){e=L,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function QT(){var t=Sf.current;return Sf.current=wf,t===null?wf:t}function t0(){(hn===0||hn===3||hn===2)&&(hn=4),vn===null||!(po&268435455)&&!(Rh&268435455)||cs(vn,Cn)}function Cf(t,e){var n=st;st|=2;var r=QT();(vn!==t||Cn!==e)&&(Ti=null,so(t,e));do try{rO();break}catch(i){GT(t,i)}while(!0);if(Dv(),st=n,Sf.current=r,rn!==null)throw Error(ae(261));return vn=null,Cn=0,hn}function rO(){for(;rn!==null;)YT(rn)}function iO(){for(;rn!==null&&!R2();)YT(rn)}function YT(t){var e=ZT(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?XT(t):rn=e,Yv.current=null}function XT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xj(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,rn=null;return}}else if(n=Yj(n,e,ar),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);hn===0&&(hn=5)}function Gs(t,e,n){var r=vt,i=Ir.transition;try{Ir.transition=null,vt=1,sO(t,e,n,r)}finally{Ir.transition=i,vt=r}return null}function sO(t,e,n,r){do wa();while(fs!==null);if(st&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(F2(t,s),t===vn&&(rn=vn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,eC(af,function(){return wa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ir.transition,Ir.transition=null;var o=vt;vt=1;var a=st;st|=4,Yv.current=null,Zj(t,n),HT(n,t),Tj(Hg),uf=!!Wg,Hg=Wg=null,t.current=n,eO(n),P2(),st=a,vt=o,Ir.transition=s}else t.current=n;if(ud&&(ud=!1,fs=t,Tf=i),s=t.pendingLanes,s===0&&(_s=null),O2(n.stateNode),rr(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=dy,dy=null,t;return Tf&1&&t.tag!==0&&wa(),s=t.pendingLanes,s&1?t===fy?uu++:(uu=0,fy=t):uu=0,Ms(),null}function wa(){if(fs!==null){var t=AE(Tf),e=Ir.transition,n=vt;try{if(Ir.transition=null,vt=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,Tf=0,st&6)throw Error(ae(331));var i=st;for(st|=4,ye=t.current;ye!==null;){var s=ye,o=s.child;if(ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ye=c;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:au(8,f,s)}var h=f.child;if(h!==null)h.return=f,ye=h;else for(;ye!==null;){f=ye;var m=f.sibling,S=f.return;if(BT(f),f===c){ye=null;break}if(m!==null){m.return=S,ye=m;break}ye=S}}}var E=s.alternate;if(E!==null){var b=E.child;if(b!==null){E.child=null;do{var I=b.sibling;b.sibling=null,b=I}while(b!==null)}}ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ye=o;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:au(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ye=T;break e}ye=s.return}}var v=t.current;for(ye=v;ye!==null;){o=ye;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ye=_;else e:for(o=v;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(L){Ht(a,a.return,L)}if(a===o){ye=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ye=R;break e}ye=a.return}}if(st=i,Ms(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(_h,t)}catch{}r=!0}return r}finally{vt=n,Ir.transition=e}}return!1}function Nb(t,e,n){e=$a(n,e),e=AT(t,e,1),t=xs(t,e,1),e=Kn(),t!==null&&(rc(t,1,e),rr(t,e))}function Ht(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){t=$a(n,t),t=jT(e,t,1),e=xs(e,t,1),t=Kn(),e!==null&&(rc(e,1,t),rr(e,t));break}}e=e.return}}function oO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,vn===t&&(Cn&n)===n&&(hn===4||hn===3&&(Cn&130023424)===Cn&&500>Qt()-Jv?so(t,0):Xv|=n),rr(t,e)}function JT(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=Kn();t=Wi(t,e),t!==null&&(rc(t,e,n),rr(t,n))}function aO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JT(t,n)}function lO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),JT(t,n)}var ZT;ZT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,Qj(t,e,n);er=!!(t.flags&131072)}else er=!1,Nt&&e.flags&1048576&&rT(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var i=Na(e,Vn.current);ba(e,n),i=Hv(null,e,r,t,i,n);var s=qv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(e),i.updater=Ih,e.stateNode=i,i._reactInternals=e,ey(e,r,t,n),e=ry(null,e,r,!0,s,n)):(e.tag=0,Nt&&s&&Ov(e),Hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cO(r),t=zr(r,t),i){case 0:e=ny(null,e,r,t,n);break e;case 1:e=Eb(null,e,r,t,n);break e;case 11:e=wb(null,e,r,t,n);break e;case 14:e=Sb(null,e,r,zr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),ny(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),Eb(t,e,r,i,n);case 3:e:{if(MT(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uT(t,e),xf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$a(Error(ae(423)),e),e=Tb(t,e,r,n,i);break e}else if(r!==i){i=$a(Error(ae(424)),e),e=Tb(t,e,r,n,i);break e}else for(ur=vs(e.stateNode.containerInfo.firstChild),dr=e,Nt=!0,Ur=null,n=aT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===i){e=Hi(t,e,n);break e}Hn(t,e,r,n)}e=e.child}return e;case 5:return cT(e),t===null&&Xg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qg(r,i)?o=null:s!==null&&qg(r,s)&&(e.flags|=32),LT(t,e),Hn(t,e,o,n),e.child;case 6:return t===null&&Xg(e),null;case 13:return DT(t,e,n);case 4:return zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):Hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),wb(t,e,r,i,n);case 7:return Hn(t,e,e.pendingProps,n),e.child;case 8:return Hn(t,e,e.pendingProps.children,n),e.child;case 12:return Hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(yf,r._currentValue),r._currentValue=o,s!==null)if(Kr(s.value,o)){if(s.children===i.children&&!tr.current){e=Hi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Di(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jg(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ba(e,n),i=Pr(i),r=r(i),e.flags|=1,Hn(t,e,r,n),e.child;case 14:return r=e.type,i=zr(r,e.pendingProps),i=zr(r.type,i),Sb(t,e,r,i,n);case 15:return OT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zr(r,i),Nd(t,e),e.tag=1,nr(r)?(t=!0,pf(e)):t=!1,ba(e,n),PT(e,r,i),ey(e,r,i,n),ry(null,e,r,!0,t,n);case 19:return $T(t,e,n);case 22:return NT(t,e,n)}throw Error(ae(156,e.tag))};function eC(t,e){return IE(t,e)}function uO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,e,n,r){return new uO(t,e,n,r)}function n0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cO(t){if(typeof t=="function")return n0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===wv)return 14}return 2}function ws(t,e){var n=t.alternate;return n===null?(n=Tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")n0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ia:return oo(n.children,i,s,e);case _v:o=8,i|=8;break;case Eg:return t=Tr(12,n,e,i|2),t.elementType=Eg,t.lanes=s,t;case Tg:return t=Tr(13,n,e,i),t.elementType=Tg,t.lanes=s,t;case Cg:return t=Tr(19,n,e,i),t.elementType=Cg,t.lanes=s,t;case cE:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lE:o=10;break e;case uE:o=9;break e;case bv:o=11;break e;case wv:o=14;break e;case os:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=Tr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oo(t,e,n,r){return t=Tr(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=Tr(22,t,r,e),t.elementType=cE,t.lanes=n,t.stateNode={isHidden:!1},t}function Nm(t,e,n){return t=Tr(6,t,null,e),t.lanes=n,t}function Lm(t,e,n){return e=Tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r0(t,e,n,r,i,s,o,a,u){return t=new dO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(s),t}function fO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tC(t){if(!t)return ks;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(nr(n))return tT(t,n,e)}return e}function nC(t,e,n,r,i,s,o,a,u){return t=r0(n,r,!0,t,i,s,o,a,u),t.context=tC(null),n=t.current,r=Kn(),i=bs(n),s=Di(r,i),s.callback=e??null,xs(n,s,i),t.current.lanes=i,rc(t,i,r),rr(t,r),t}function Ah(t,e,n,r){var i=e.current,s=Kn(),o=bs(i);return n=tC(n),e.context===null?e.context=n:e.pendingContext=n,e=Di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xs(i,e,o),t!==null&&(qr(t,i,o,s),Ad(t,i,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function i0(t,e){Lb(t,e),(t=t.alternate)&&Lb(t,e)}function hO(){return null}var rC=typeof reportError=="function"?reportError:function(t){console.error(t)};function s0(t){this._internalRoot=t}jh.prototype.render=s0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Ah(t,e,null,null)};jh.prototype.unmount=s0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){Ah(null,t,null,null)}),e[Ui]=null}};function jh(t){this._internalRoot=t}jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&ME(t)}};function o0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function pO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=If(o);s.call(c)}}var o=nC(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=o,t[Ui]=o.current,ku(t.nodeType===8?t.parentNode:t),mo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=If(u);a.call(c)}}var u=r0(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=u,t[Ui]=u.current,ku(t.nodeType===8?t.parentNode:t),mo(function(){Ah(e,u,n,r)}),u}function Nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=If(o);a.call(u)}}Ah(e,o,t,i)}else o=pO(n,e,t,i,r);return If(o)}jE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(Tv(e,n|1),rr(e,Qt()),!(st&6)&&(Fa=Qt()+500,Ms()))}break;case 13:mo(function(){var r=Wi(t,1);if(r!==null){var i=Kn();qr(r,t,1,i)}}),i0(t,1)}};Cv=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=Kn();qr(e,t,134217728,n)}i0(t,134217728)}};OE=function(t){if(t.tag===13){var e=bs(t),n=Wi(t,e);if(n!==null){var r=Kn();qr(n,t,e,r)}i0(t,e)}};NE=function(){return vt};LE=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};Mg=function(t,e,n){switch(e){case"input":if(Rg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Eh(r);if(!i)throw Error(ae(90));fE(r),Rg(r,i)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&ya(t,!!n.multiple,e,!1)}};bE=Zv;wE=mo;var mO={usingClientEntryPoint:!1,Events:[sc,la,Eh,xE,_E,Zv]},Ol={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gO={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||hO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{_h=cd.inject(gO),ai=cd}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o0(e))throw Error(ae(200));return fO(t,e,null,n)};gr.createRoot=function(t,e){if(!o0(t))throw Error(ae(299));var n=!1,r="",i=rC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=r0(t,1,!1,null,null,n,!1,r,i),t[Ui]=e.current,ku(t.nodeType===8?t.parentNode:t),new s0(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=TE(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return mo(t)};gr.hydrate=function(t,e,n){if(!Oh(e))throw Error(ae(200));return Nh(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!o0(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nC(e,null,t,1,n??null,i,!1,s,o),t[Ui]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jh(e)};gr.render=function(t,e,n){if(!Oh(e))throw Error(ae(200));return Nh(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!Oh(t))throw Error(ae(40));return t._reactRootContainer?(mo(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};gr.unstable_batchedUpdates=Zv;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oh(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Nh(t,e,n,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function iC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iC)}catch(t){console.error(t)}}iC(),iE.exports=gr;var a0=iE.exports;const dd=mh(a0);var Db=a0;wg.createRoot=Db.createRoot,wg.hydrateRoot=Db.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const $b="popstate";function yO(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Ro(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),my("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:kf(s))}function r(i,s){l0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xO(e,n,r,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function l0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vO(){return Math.random().toString(36).substr(2,8)}function Fb(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),Du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ro(e):e,{state:n,key:e&&e.key||r||vO()})}function kf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hs.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Du({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=hs.Pop;let I=f(),T=I==null?null:I-c;c=I,u&&u({action:a,location:b.location,delta:T})}function m(I,T){a=hs.Push;let v=my(b.location,I,T);n&&n(v,I),c=f()+1;let _=Fb(v,c),R=b.createHref(v);try{o.pushState(_,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(R)}s&&u&&u({action:a,location:b.location,delta:1})}function S(I,T){a=hs.Replace;let v=my(b.location,I,T);n&&n(v,I),c=f();let _=Fb(v,c),R=b.createHref(v);o.replaceState(_,"",R),s&&u&&u({action:a,location:b.location,delta:0})}function E(I){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:kf(I);return v=v.replace(/ $/,"%20"),ln(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let b={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($b,h),u=I,()=>{i.removeEventListener($b,h),u=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let T=E(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:S,go(I){return o.go(I)}};return b}var Vb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vb||(Vb={}));function _O(t,e,n){return n===void 0&&(n="/"),bO(t,e,n)}function bO(t,e,n,r){let i=typeof e=="string"?Ro(e):e,s=u0(i.pathname||"/",n);if(s==null)return null;let o=sC(t);wO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=NO(s);a=AO(o[u],c)}return a}function sC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ln(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ss([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sC(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RO(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of oC(s.path))i(s,o,u)}),e}function oC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function wO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SO=/^:[\w-]+$/,EO=3,TO=2,CO=1,IO=10,kO=-2,zb=t=>t==="*";function RO(t,e){let n=t.split("/"),r=n.length;return n.some(zb)&&(r+=kO),e&&(r+=TO),n.filter(i=>!zb(i)).reduce((i,s)=>i+(SO.test(s)?EO:s===""?CO:IO),r)}function PO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=jO({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ss([s,h.pathname]),pathnameBase:$O(Ss([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Ss([s,h.pathnameBase]))}return o}function jO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:S}=f;if(m==="*"){let b=a[h]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const E=a[h];return S&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function OO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),l0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return l0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ro(t):t;return{pathname:n?n.startsWith("/")?n:MO(n,e):e,search:FO(r),hash:VO(i)}}function MO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aC(t,e){let n=DO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ro(t):(i=Du({},t),ln(!i.pathname||!i.pathname.includes("?"),Mm("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Mm("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Mm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let u=LO(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Ss=t=>t.join("/").replace(/\/\/+/g,"/"),$O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uC=["post","put","patch","delete"];new Set(uC);const BO=["get",...uC];new Set(BO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}const c0=w.createContext(null),UO=w.createContext(null),Po=w.createContext(null),Lh=w.createContext(null),Ds=w.createContext({outlet:null,matches:[],isDataRoute:!1}),cC=w.createContext(null);function WO(t,e){let{relative:n}=e===void 0?{}:e;ac()||ln(!1);let{basename:r,navigator:i}=w.useContext(Po),{hash:s,pathname:o,search:a}=fC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ss([r,o])),i.createHref({pathname:u,search:a,hash:s})}function ac(){return w.useContext(Lh)!=null}function Ao(){return ac()||ln(!1),w.useContext(Lh).location}function dC(t){w.useContext(Po).static||w.useLayoutEffect(t)}function $s(){let{isDataRoute:t}=w.useContext(Ds);return t?rN():HO()}function HO(){ac()||ln(!1);let t=w.useContext(c0),{basename:e,future:n,navigator:r}=w.useContext(Po),{matches:i}=w.useContext(Ds),{pathname:s}=Ao(),o=JSON.stringify(aC(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return dC(()=>{a.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=lC(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ss([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function Mh(){let{matches:t}=w.useContext(Ds),e=t[t.length-1];return e?e.params:{}}function fC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Po),{matches:i}=w.useContext(Ds),{pathname:s}=Ao(),o=JSON.stringify(aC(i,r.v7_relativeSplatPath));return w.useMemo(()=>lC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qO(t,e){return KO(t,e)}function KO(t,e,n,r){ac()||ln(!1);let{navigator:i}=w.useContext(Po),{matches:s}=w.useContext(Ds),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ao(),f;if(e){var h;let I=typeof e=="string"?Ro(e):e;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||ln(!1),f=I}else f=c;let m=f.pathname||"/",S=m;if(u!=="/"){let I=u.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=_O(t,{pathname:S}),b=JO(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Ss([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:Ss([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&b?w.createElement(Lh.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:hs.Pop}},b):b}function GO(){let t=nN(),e=zO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const QO=w.createElement(GO,null);class YO extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ds.Provider,{value:this.props.routeContext},w.createElement(cC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XO(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(c0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ds.Provider,{value:e},r)}function JO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||ln(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:S}=n,E=h.route.loader&&m[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let S,E=!1,b=null,I=null;n&&(S=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||QO,u&&(c<0&&m===0?(iN("route-fallback"),E=!0,I=null):c===m&&(E=!0,I=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),v=()=>{let _;return S?_=b:E?_=I:h.route.Component?_=w.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,w.createElement(XO,{match:h,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(YO,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var hC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hC||{}),pC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pC||{});function ZO(t){let e=w.useContext(c0);return e||ln(!1),e}function eN(t){let e=w.useContext(UO);return e||ln(!1),e}function tN(t){let e=w.useContext(Ds);return e||ln(!1),e}function mC(t){let e=tN(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function nN(){var t;let e=w.useContext(cC),n=eN(),r=mC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rN(){let{router:t}=ZO(hC.UseNavigateStable),e=mC(pC.UseNavigateStable),n=w.useRef(!1);return dC(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$u({fromRouteId:e},s)))},[t,e])}const Bb={};function iN(t,e,n){Bb[t]||(Bb[t]=!0)}function sN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pn(t){ln(!1)}function oN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:s,static:o=!1,future:a}=t;ac()&&ln(!1);let u=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:s,static:o,future:$u({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Ro(r));let{pathname:f="/",search:h="",hash:m="",state:S=null,key:E="default"}=r,b=w.useMemo(()=>{let I=u0(f,u);return I==null?null:{location:{pathname:I,search:h,hash:m,state:S,key:E},navigationType:i}},[u,f,h,m,S,E,i]);return b==null?null:w.createElement(Po.Provider,{value:c},w.createElement(Lh.Provider,{children:n,value:b}))}function aN(t){let{children:e,location:n}=t;return qO(gy(e),n)}new Promise(()=>{});function gy(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,gy(r.props.children,s));return}r.type!==pn&&ln(!1),!r.props.index||!r.props.children||ln(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function lN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cN(t,e){return t.button===0&&(!e||e==="_self")&&!uN(t)}const dN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fN="6";try{window.__reactRouterVersion=fN}catch{}const hN="startTransition",Ub=nf[hN];function pN(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=yO({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(h=>{c&&Ub?Ub(()=>u(h)):u(h)},[u,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>sN(r),[r]),w.createElement(oN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=lN(e,dN),{basename:S}=w.useContext(Po),E,b=!1;if(typeof c=="string"&&gN.test(c)&&(E=c,mN))try{let _=new URL(window.location.href),R=c.startsWith("//")?new URL(_.protocol+c):new URL(c),L=u0(R.pathname,S);R.origin===_.origin&&L!=null?c=L+R.search+R.hash:b=!0}catch{}let I=WO(c,{relative:i}),T=yN(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:h});function v(_){r&&r(_),_.defaultPrevented||T(_)}return w.createElement("a",yy({},m,{href:E||I,onClick:b||s?r:v,ref:n,target:u}))});var Wb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wb||(Wb={}));var Hb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hb||(Hb={}));function yN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=$s(),c=Ao(),f=fC(t,{relative:o});return w.useCallback(h=>{if(cN(h,n)){h.preventDefault();let m=r!==void 0?r:kf(c)===kf(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,f,r,i,n,t,s,o,a])}var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(m=64)),r.push(n[f],n[h],n[m],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new xN;const m=s<<2|a>>4;if(r.push(m),c!==64){const S=a<<4&240|c>>2;if(r.push(S),h!==64){const E=c<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _N=function(t){const e=gC(t);return yC.encodeByteArray(e,!0)},Rf=function(t){return _N(t).replace(/\./g,"")},vC=function(t){try{return yC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=()=>bN().__FIREBASE_DEFAULTS__,SN=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vC(t[1]);return e&&JSON.parse(e)},Dh=()=>{try{return wN()||SN()||EN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xC=t=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_C=t=>{const e=xC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bC=()=>{var t;return(t=Dh())===null||t===void 0?void 0:t.config},wC=t=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function IN(){var t;const e=(t=Dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AN(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jN(){return!IN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ON(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LN,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xi(i,a,r)}}function MN(t,e){return t.replace(DN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DN=/\{\$([^}]+)}/g;function $N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Kb(s)&&Kb(o)){if(!Pf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FN(t,e){const n=new VN(t,e);return n.subscribe.bind(n)}class VN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===Qs?void 0:t}function WN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const qN={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},KN=tt.INFO,GN={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},QN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=KN,this._logHandler=QN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const YN=(t,e)=>e.some(n=>t instanceof n);let Gb,Qb;function XN(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,vy=new WeakMap,TC=new WeakMap,$m=new WeakMap,f0=new WeakMap;function ZN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),f0.set(e,t),e}function eL(t){if(vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vy.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){xy=t(xy)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return TC.set(r,e.sort?e.sort():[e]),Es(r)}:JN().includes(t)?function(...e){return t.apply(Fm(this),e),Es(EC.get(this))}:function(...e){return Es(t.apply(Fm(this),e))}}function rL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),YN(t,XN())?new Proxy(t,xy):t)}function Es(t){if(t instanceof IDBRequest)return ZN(t);if($m.has(t))return $m.get(t);const e=rL(t);return e!==t&&($m.set(t,e),f0.set(e,t)),e}const Fm=t=>f0.get(t);function iL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Es(o.result),u.oldVersion,u.newVersion,Es(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sL=["get","getKey","getAll","getAllKeys","count"],oL=["put","add","delete","clear"],Vm=new Map;function Yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sL.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Vm.set(e,s),s}tL(t=>({...t,get:(e,n,r)=>Yb(e,n)||t.get(e,n,r),has:(e,n)=>!!Yb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",Xb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new d0("@firebase/app"),uL="@firebase/app-compat",cL="@firebase/analytics-compat",dL="@firebase/analytics",fL="@firebase/app-check-compat",hL="@firebase/app-check",pL="@firebase/auth",mL="@firebase/auth-compat",gL="@firebase/database",yL="@firebase/data-connect",vL="@firebase/database-compat",xL="@firebase/functions",_L="@firebase/functions-compat",bL="@firebase/installations",wL="@firebase/installations-compat",SL="@firebase/messaging",EL="@firebase/messaging-compat",TL="@firebase/performance",CL="@firebase/performance-compat",IL="@firebase/remote-config",kL="@firebase/remote-config-compat",RL="@firebase/storage",PL="@firebase/storage-compat",AL="@firebase/firestore",jL="@firebase/vertexai-preview",OL="@firebase/firestore-compat",NL="firebase",LL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",ML={[_y]:"fire-core",[uL]:"fire-core-compat",[dL]:"fire-analytics",[cL]:"fire-analytics-compat",[hL]:"fire-app-check",[fL]:"fire-app-check-compat",[pL]:"fire-auth",[mL]:"fire-auth-compat",[gL]:"fire-rtdb",[yL]:"fire-data-connect",[vL]:"fire-rtdb-compat",[xL]:"fire-fn",[_L]:"fire-fn-compat",[bL]:"fire-iid",[wL]:"fire-iid-compat",[SL]:"fire-fcm",[EL]:"fire-fcm-compat",[TL]:"fire-perf",[CL]:"fire-perf-compat",[IL]:"fire-rc",[kL]:"fire-rc-compat",[RL]:"fire-gcs",[PL]:"fire-gcs-compat",[AL]:"fire-fst",[OL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,DL=new Map,wy=new Map;function Jb(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(wy.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const n of Af.values())Jb(n,t);for(const n of DL.values())Jb(n,t);return!0}function $h(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new lc("app","Firebase",$L);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=LL;function CC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(n||(n=bC()),!n)throw Ts.create("no-options");const s=Af.get(i);if(s){if(Pf(n,s.options)&&Pf(r,s.config))return s;throw Ts.create("duplicate-app",{appName:i})}const o=new HN(i);for(const u of wy.values())o.addComponent(u);const a=new FL(n,r,o);return Af.set(i,a),a}function h0(t=by){const e=Af.get(t);if(!e&&t===by&&bC())return CC();if(!e)throw Ts.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let i=(r=ML[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}go(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="firebase-heartbeat-database",zL=1,Fu="firebase-heartbeat-store";let zm=null;function IC(){return zm||(zm=iL(VL,zL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),zm}async function BL(t){try{const n=(await IC()).transaction(Fu),r=await n.objectStore(Fu).get(kC(t));return await n.done,r}catch(e){if(e instanceof xi)qi.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function Zb(t,e){try{const r=(await IC()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,kC(t)),await r.done}catch(n){if(n instanceof xi)qi.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function kC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1024,WL=30*24*60*60*1e3;class HL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=WL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ew(),{heartbeatsToSend:r,unsentEntries:i}=qL(this._heartbeatsCache.heartbeats),s=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qi.warn(n),""}}}function ew(){return new Date().toISOString().substring(0,10)}function qL(t,e=UL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ON()?NN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tw(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){go(new Rs("platform-logger",e=>new aL(e),"PRIVATE")),go(new Rs("heartbeat",e=>new HL(e),"PRIVATE")),ui(_y,Xb,t),ui(_y,Xb,"esm2017"),ui("fire-js","")}GL("");var QL="firebase",YL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(QL,YL,"app");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,RC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(g,p){function y(){}y.prototype=p.prototype,g.D=p.prototype,g.prototype=new y,g.prototype.constructor=g,g.C=function(C,j,A){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return p.prototype[j].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,p,y){y||(y=0);var C=Array(16);if(typeof p=="string")for(var j=0;16>j;++j)C[j]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(j=0;16>j;++j)C[j]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=g.g[0],y=g.g[1],j=g.g[2];var A=g.g[3],P=p+(A^y&(j^A))+C[0]+3614090360&4294967295;p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[1]+3905402710&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[2]+606105819&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[3]+3250441966&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[4]+4118548399&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[5]+1200080426&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[6]+2821735955&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[7]+4249261313&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[8]+1770035416&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[9]+2336552879&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[10]+4294925233&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[11]+2304563134&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(A^y&(j^A))+C[12]+1804603682&4294967295,p=y+(P<<7&4294967295|P>>>25),P=A+(j^p&(y^j))+C[13]+4254626195&4294967295,A=p+(P<<12&4294967295|P>>>20),P=j+(y^A&(p^y))+C[14]+2792965006&4294967295,j=A+(P<<17&4294967295|P>>>15),P=y+(p^j&(A^p))+C[15]+1236535329&4294967295,y=j+(P<<22&4294967295|P>>>10),P=p+(j^A&(y^j))+C[1]+4129170786&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[6]+3225465664&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[11]+643717713&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[0]+3921069994&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[5]+3593408605&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[10]+38016083&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[15]+3634488961&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[4]+3889429448&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[9]+568446438&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[14]+3275163606&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[3]+4107603335&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[8]+1163531501&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(j^A&(y^j))+C[13]+2850285829&4294967295,p=y+(P<<5&4294967295|P>>>27),P=A+(y^j&(p^y))+C[2]+4243563512&4294967295,A=p+(P<<9&4294967295|P>>>23),P=j+(p^y&(A^p))+C[7]+1735328473&4294967295,j=A+(P<<14&4294967295|P>>>18),P=y+(A^p&(j^A))+C[12]+2368359562&4294967295,y=j+(P<<20&4294967295|P>>>12),P=p+(y^j^A)+C[5]+4294588738&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[8]+2272392833&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[11]+1839030562&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[14]+4259657740&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[1]+2763975236&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[4]+1272893353&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[7]+4139469664&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[10]+3200236656&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[13]+681279174&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[0]+3936430074&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[3]+3572445317&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[6]+76029189&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(y^j^A)+C[9]+3654602809&4294967295,p=y+(P<<4&4294967295|P>>>28),P=A+(p^y^j)+C[12]+3873151461&4294967295,A=p+(P<<11&4294967295|P>>>21),P=j+(A^p^y)+C[15]+530742520&4294967295,j=A+(P<<16&4294967295|P>>>16),P=y+(j^A^p)+C[2]+3299628645&4294967295,y=j+(P<<23&4294967295|P>>>9),P=p+(j^(y|~A))+C[0]+4096336452&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[7]+1126891415&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[14]+2878612391&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[5]+4237533241&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[12]+1700485571&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[3]+2399980690&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[10]+4293915773&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[1]+2240044497&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[8]+1873313359&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[15]+4264355552&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[6]+2734768916&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[13]+1309151649&4294967295,y=j+(P<<21&4294967295|P>>>11),P=p+(j^(y|~A))+C[4]+4149444226&4294967295,p=y+(P<<6&4294967295|P>>>26),P=A+(y^(p|~j))+C[11]+3174756917&4294967295,A=p+(P<<10&4294967295|P>>>22),P=j+(p^(A|~y))+C[2]+718787259&4294967295,j=A+(P<<15&4294967295|P>>>17),P=y+(A^(j|~p))+C[9]+3951481745&4294967295,g.g[0]=g.g[0]+p&4294967295,g.g[1]=g.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,g.g[2]=g.g[2]+j&4294967295,g.g[3]=g.g[3]+A&4294967295}r.prototype.u=function(g,p){p===void 0&&(p=g.length);for(var y=p-this.blockSize,C=this.B,j=this.h,A=0;A<p;){if(j==0)for(;A<=y;)i(this,g,A),A+=this.blockSize;if(typeof g=="string"){for(;A<p;)if(C[j++]=g.charCodeAt(A++),j==this.blockSize){i(this,C),j=0;break}}else for(;A<p;)if(C[j++]=g[A++],j==this.blockSize){i(this,C),j=0;break}}this.h=j,this.o+=p},r.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var p=1;p<g.length-8;++p)g[p]=0;var y=8*this.o;for(p=g.length-8;p<g.length;++p)g[p]=y&255,y/=256;for(this.u(g),g=Array(16),p=y=0;4>p;++p)for(var C=0;32>C;C+=8)g[y++]=this.g[p]>>>C&255;return g};function s(g,p){var y=a;return Object.prototype.hasOwnProperty.call(y,g)?y[g]:y[g]=p(g)}function o(g,p){this.h=p;for(var y=[],C=!0,j=g.length-1;0<=j;j--){var A=g[j]|0;C&&A==p||(y[j]=A,C=!1)}this.g=y}var a={};function u(g){return-128<=g&&128>g?s(g,function(p){return new o([p|0],0>p?-1:0)}):new o([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return h;if(0>g)return I(c(-g));for(var p=[],y=1,C=0;g>=y;C++)p[C]=g/y|0,y*=4294967296;return new o(p,0)}function f(g,p){if(g.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(g.charAt(0)=="-")return I(f(g.substring(1),p));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=c(Math.pow(p,8)),C=h,j=0;j<g.length;j+=8){var A=Math.min(8,g.length-j),P=parseInt(g.substring(j,j+A),p);8>A?(A=c(Math.pow(p,A)),C=C.j(A).add(c(P))):(C=C.j(y),C=C.add(c(P)))}return C}var h=u(0),m=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-I(this).m();for(var g=0,p=1,y=0;y<this.g.length;y++){var C=this.i(y);g+=(0<=C?C:4294967296+C)*p,p*=4294967296}return g},t.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E(this))return"0";if(b(this))return"-"+I(this).toString(g);for(var p=c(Math.pow(g,6)),y=this,C="";;){var j=R(y,p).g;y=T(y,j.j(p));var A=((0<y.g.length?y.g[0]:y.h)>>>0).toString(g);if(y=j,E(y))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},t.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function E(g){if(g.h!=0)return!1;for(var p=0;p<g.g.length;p++)if(g.g[p]!=0)return!1;return!0}function b(g){return g.h==-1}t.l=function(g){return g=T(this,g),b(g)?-1:E(g)?0:1};function I(g){for(var p=g.g.length,y=[],C=0;C<p;C++)y[C]=~g.g[C];return new o(y,~g.h).add(m)}t.abs=function(){return b(this)?I(this):this},t.add=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0,j=0;j<=p;j++){var A=C+(this.i(j)&65535)+(g.i(j)&65535),P=(A>>>16)+(this.i(j)>>>16)+(g.i(j)>>>16);C=P>>>16,A&=65535,P&=65535,y[j]=P<<16|A}return new o(y,y[y.length-1]&-2147483648?-1:0)};function T(g,p){return g.add(I(p))}t.j=function(g){if(E(this)||E(g))return h;if(b(this))return b(g)?I(this).j(I(g)):I(I(this).j(g));if(b(g))return I(this.j(I(g)));if(0>this.l(S)&&0>g.l(S))return c(this.m()*g.m());for(var p=this.g.length+g.g.length,y=[],C=0;C<2*p;C++)y[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<g.g.length;j++){var A=this.i(C)>>>16,P=this.i(C)&65535,W=g.i(j)>>>16,F=g.i(j)&65535;y[2*C+2*j]+=P*F,v(y,2*C+2*j),y[2*C+2*j+1]+=A*F,v(y,2*C+2*j+1),y[2*C+2*j+1]+=P*W,v(y,2*C+2*j+1),y[2*C+2*j+2]+=A*W,v(y,2*C+2*j+2)}for(C=0;C<p;C++)y[C]=y[2*C+1]<<16|y[2*C];for(C=p;C<2*p;C++)y[C]=0;return new o(y,0)};function v(g,p){for(;(g[p]&65535)!=g[p];)g[p+1]+=g[p]>>>16,g[p]&=65535,p++}function _(g,p){this.g=g,this.h=p}function R(g,p){if(E(p))throw Error("division by zero");if(E(g))return new _(h,h);if(b(g))return p=R(I(g),p),new _(I(p.g),I(p.h));if(b(p))return p=R(g,I(p)),new _(I(p.g),p.h);if(30<g.g.length){if(b(g)||b(p))throw Error("slowDivide_ only works with positive integers.");for(var y=m,C=p;0>=C.l(g);)y=L(y),C=L(C);var j=N(y,1),A=N(C,1);for(C=N(C,2),y=N(y,2);!E(C);){var P=A.add(C);0>=P.l(g)&&(j=j.add(y),A=P),C=N(C,1),y=N(y,1)}return p=T(g,j.j(p)),new _(j,p)}for(j=h;0<=g.l(p);){for(y=Math.max(1,Math.floor(g.m()/p.m())),C=Math.ceil(Math.log(y)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=c(y),P=A.j(p);b(P)||0<P.l(g);)y-=C,A=c(y),P=A.j(p);E(A)&&(A=m),j=j.add(A),g=T(g,P)}return new _(j,g)}t.A=function(g){return R(this,g).h},t.and=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)&g.i(C);return new o(y,this.h&g.h)},t.or=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)|g.i(C);return new o(y,this.h|g.h)},t.xor=function(g){for(var p=Math.max(this.g.length,g.g.length),y=[],C=0;C<p;C++)y[C]=this.i(C)^g.i(C);return new o(y,this.h^g.h)};function L(g){for(var p=g.g.length+1,y=[],C=0;C<p;C++)y[C]=g.i(C)<<1|g.i(C-1)>>>31;return new o(y,g.h)}function N(g,p){var y=p>>5;p%=32;for(var C=g.g.length-y,j=[],A=0;A<C;A++)j[A]=0<p?g.i(A+y)>>>p|g.i(A+y+1)<<32-p:g.i(A+y);return new o(j,g.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,ao=o}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PC,Yl,AC,$d,Sy,jC,OC,NC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,k){return d==Array.prototype||d==Object.prototype||(d[x]=k.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var x=0;x<d.length;++x){var k=d[x];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(d,x){if(x)e:{var k=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var K=d[M];if(!(K in k))break e;k=k[K]}d=d[d.length-1],M=k[d],x=x(M),x!=M&&x!=null&&e(k,d,{configurable:!0,writable:!0,value:x})}}function s(d,x){d instanceof String&&(d+="");var k=0,M=!1,K={next:function(){if(!M&&k<d.length){var X=k++;return{value:x(X,d[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return s(this,function(x,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function c(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function f(d,x,k){return d.call.apply(d.bind,arguments)}function h(d,x,k){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),d.apply(x,K)}}return function(){return d.apply(x,arguments)}}function m(d,x,k){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function S(d,x){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function E(d,x){function k(){}k.prototype=x.prototype,d.aa=x.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(M,K,X){for(var le=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)le[wt-2]=arguments[wt];return x.prototype[K].apply(M,le)}}function b(d){const x=d.length;if(0<x){const k=Array(x);for(let M=0;M<x;M++)k[M]=d[M];return k}return[]}function I(d,x){for(let k=1;k<arguments.length;k++){const M=arguments[k];if(u(M)){const K=d.length||0,X=M.length||0;d.length=K+X;for(let le=0;le<X;le++)d[K+le]=M[le]}else d.push(M)}}class T{constructor(x,k){this.i=x,this.j=k,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function v(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var L=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(d,x,k){for(const M in d)x.call(k,d[M],M,d)}function g(d,x){for(const k in d)x.call(void 0,d[k],k,d)}function p(d){const x={};for(const k in d)x[k]=d[k];return x}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,x){let k,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(k in M)d[k]=M[k];for(let X=0;X<y.length;X++)k=y[X],Object.prototype.hasOwnProperty.call(M,k)&&(d[k]=M[k])}}function j(d){var x=1;d=d.split(":");const k=[];for(;0<x&&d.length;)k.push(d.shift()),x--;return d.length&&k.push(d.join(":")),k}function A(d){a.setTimeout(()=>{throw d},0)}function P(){var d=z;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class W{constructor(){this.h=this.g=null}add(x,k){const M=F.get();M.set(x,k),this.h?this.h.next=M:this.g=M,this.h=M}}var F=new T(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(x,k){this.h=x,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,z=new W,q=()=>{const d=a.Promise.resolve(void 0);B=()=>{d.then(Q)}};var Q=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(k){A(k)}var x=F;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}D=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};a.addEventListener("test",k,x),a.removeEventListener("test",k,x)}catch{}return d}();function me(d,x){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(L){e:{try{R(x.nodeName);var K=!0;break e}catch{}K=!1}K||(x=null)}}else k=="mouseover"?x=d.fromElement:k=="mouseout"&&(x=d.toElement);this.relatedTarget=x,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&me.aa.h.call(this)}}E(me,J);var ve={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),G=0;function U(d,x,k,M,K){this.listener=d,this.proxy=null,this.src=x,this.type=k,this.capture=!!M,this.ha=K,this.key=++G,this.da=this.fa=!1}function ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,x,k,M,K){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var le=ce(d,x,M,K);return-1<le?(x=d[le],k||(x.fa=!1)):(x=new U(x,this.src,X,!!M,K),x.fa=k,d.push(x)),x};function te(d,x){var k=x.type;if(k in d.g){var M=d.g[k],K=Array.prototype.indexOf.call(M,x,void 0),X;(X=0<=K)&&Array.prototype.splice.call(M,K,1),X&&(ne(x),d.g[k].length==0&&(delete d.g[k],d.h--))}}function ce(d,x,k,M){for(var K=0;K<d.length;++K){var X=d[K];if(!X.da&&X.listener==x&&X.capture==!!k&&X.ha==M)return K}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),he={};function _e(d,x,k,M,K){if(Array.isArray(x)){for(var X=0;X<x.length;X++)_e(d,x[X],k,M,K);return null}return k=gt(k),d&&d[$]?d.K(x,k,c(M)?!!M.capture:!1,K):Xe(d,x,k,!1,M,K)}function Xe(d,x,k,M,K,X){if(!x)throw Error("Invalid event type");var le=c(K)?!!K.capture:!!K,wt=ht(d);if(wt||(d[fe]=wt=new Z(d)),k=wt.add(x,k,M,le,X),k.proxy)return k;if(M=Ee(),k.proxy=M,M.src=d,M.listener=k,d.addEventListener)ie||(K=le),K===void 0&&(K=!1),d.addEventListener(x.toString(),M,K);else if(d.attachEvent)d.attachEvent(qe(x.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ee(){function d(k){return x.call(d.src,d.listener,k)}const x=ft;return d}function De(d,x,k,M,K){if(Array.isArray(x))for(var X=0;X<x.length;X++)De(d,x[X],k,M,K);else M=c(M)?!!M.capture:!!M,k=gt(k),d&&d[$]?(d=d.i,x=String(x).toString(),x in d.g&&(X=d.g[x],k=ce(X,k,M,K),-1<k&&(ne(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete d.g[x],d.h--)))):d&&(d=ht(d))&&(x=d.g[x.toString()],d=-1,x&&(d=ce(x,k,M,K)),(k=-1<d?x[d]:null)&&$e(k))}function $e(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[$])te(x.i,d);else{var k=d.type,M=d.proxy;x.removeEventListener?x.removeEventListener(k,M,d.capture):x.detachEvent?x.detachEvent(qe(k),M):x.addListener&&x.removeListener&&x.removeListener(M),(k=ht(x))?(te(k,d),k.h==0&&(k.src=null,x[fe]=null)):ne(d)}}}function qe(d){return d in he?he[d]:he[d]="on"+d}function ft(d,x){if(d.da)d=!0;else{x=new me(x,this);var k=d.listener,M=d.ha||d.src;d.fa&&$e(d),d=k.call(M,x)}return d}function ht(d){return d=d[fe],d instanceof Z?d:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(d){return typeof d=="function"?d:(d[Le]||(d[Le]=function(x){return d.handleEvent(x)}),d[Le])}function Ie(){Y.call(this),this.i=new Z(this),this.M=this,this.F=null}E(Ie,Y),Ie.prototype[$]=!0,Ie.prototype.removeEventListener=function(d,x,k,M){De(this,d,x,k,M)};function Be(d,x){var k,M=d.F;if(M)for(k=[];M;M=M.F)k.push(M);if(d=d.M,M=x.type||x,typeof x=="string")x=new J(x,d);else if(x instanceof J)x.target=x.target||d;else{var K=x;x=new J(M,d),C(x,K)}if(K=!0,k)for(var X=k.length-1;0<=X;X--){var le=x.g=k[X];K=Oe(le,M,!0,x)&&K}if(le=x.g=d,K=Oe(le,M,!0,x)&&K,K=Oe(le,M,!1,x)&&K,k)for(X=0;X<k.length;X++)le=x.g=k[X],K=Oe(le,M,!1,x)&&K}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var k=d.g[x],M=0;M<k.length;M++)ne(k[M]);delete d.g[x],d.h--}}this.F=null},Ie.prototype.K=function(d,x,k,M){return this.i.add(String(d),x,!1,k,M)},Ie.prototype.L=function(d,x,k,M){return this.i.add(String(d),x,!0,k,M)};function Oe(d,x,k,M){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var K=!0,X=0;X<x.length;++X){var le=x[X];if(le&&!le.da&&le.capture==k){var wt=le.listener,bn=le.ha||le.src;le.fa&&te(d.i,le),K=wt.call(bn,M)!==!1&&K}}return K&&!M.defaultPrevented}function Te(d,x,k){if(typeof d=="function")k&&(d=m(d,k));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(d,x||0)}function Et(d){d.g=Te(()=>{d.g=null,d.i&&(d.i=!1,Et(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class qt extends Y{constructor(x,k){super(),this.m=x,this.l=k,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(d){Y.call(this),this.h=d,this.g={}}E(Je,Y);var we=[];function nt(d){N(d.g,function(x,k){this.g.hasOwnProperty(k)&&$e(x)},d),d.g={}}Je.prototype.N=function(){Je.aa.N.call(this),nt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=a.JSON.stringify,Xr=a.JSON.parse,Do=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function yl(){}yl.prototype.h=null;function $o(d){return d.h||(d.h=d.i())}function Lc(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fo(){J.call(this,"d")}E(Fo,J);function Vo(){J.call(this,"c")}E(Vo,J);var Zr={},O=null;function oe(){return O=O||new Ie}Zr.La="serverreachability";function de(d){J.call(this,Zr.La,d)}E(de,J);function Ve(d){const x=oe();Be(x,new de(x))}Zr.STAT_EVENT="statevent";function ot(d,x){J.call(this,Zr.STAT_EVENT,d),this.stat=x}E(ot,J);function rt(d){const x=oe();Be(x,new ot(x,d))}Zr.Ma="timingevent";function It(d,x){J.call(this,Zr.Ma,d),this.size=x}E(It,J);function Re(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},x)}function et(){this.g=!0}et.prototype.xa=function(){this.g=!1};function xr(d,x,k,M,K,X){d.info(function(){if(d.g)if(X)for(var le="",wt=X.split("&"),bn=0;bn<wt.length;bn++){var at=wt[bn].split("=");if(1<at.length){var Pn=at[0];at=at[1];var An=Pn.split("_");le=2<=An.length&&An[1]=="type"?le+(Pn+"="+at+"&"):le+(Pn+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+x+`
`+k+`
`+le})}function ei(d,x,k,M,K,X,le){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+x+`
`+k+`
`+X+" "+le})}function Un(d,x,k,M){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Kt(d,k)+(M?" "+M:"")})}function Jt(d,x){d.info(function(){return"TIMEOUT: "+x})}et.prototype.info=function(){};function Kt(d,x){if(!d.g)return x;if(!x)return null;try{var k=JSON.parse(x);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var M=k[d];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<K.length;le++)K[le]=""}}}}return He(k)}catch{return x}}var wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lt;function zo(){}E(zo,yl),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},Lt=new zo;function Zi(d,x,k,M){this.j=d,this.i=x,this.l=k,this.R=M||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wx}function Wx(){this.i=null,this.g="",this.h=!1}var Hx={},Zp={};function em(d,x,k){d.L=1,d.v=Fc(Si(x)),d.m=k,d.P=!0,qx(d,null)}function qx(d,x){d.F=Date.now(),Mc(d),d.A=Si(d.v);var k=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),o_(k.i,"t",M),d.C=0,k=d.j.J,d.h=new Wx,d.g=E_(d.j,k?x:null,!d.m),0<d.O&&(d.M=new qt(m(d.Y,d,d.g),d.O)),x=d.U,k=d.g,M=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(we[0]=K.toString()),K=we);for(var X=0;X<K.length;X++){var le=_e(k,K[X],M||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Ve(),xr(d.i,d.u,d.A,d.l,d.R,d.m)}Zi.prototype.ca=function(d){d=d.target;const x=this.M;x&&Ei(d)==3?x.j():this.Y(d)},Zi.prototype.Y=function(d){try{if(d==this.g)e:{const An=Ei(this.g);var x=this.g.Ba();const Wo=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||h_(this.g)))){this.J||An!=4||x==7||(x==8||0>=Wo?Ve(3):Ve(2)),tm(this);var k=this.g.Z();this.X=k;t:if(Kx(this)){var M=h_(this.g);d="";var K=M.length,X=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),vl(this);var le="";break t}this.h.i=new a.TextDecoder}for(x=0;x<K;x++)this.h.h=!0,d+=this.h.i.decode(M[x],{stream:!(X&&x==K-1)});M.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=k==200,ei(this.i,this.u,this.A,this.l,this.R,An,k),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,bn=this.g;if((wt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(wt)){var at=wt;break t}}at=null}if(k=at)Un(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nm(this,k);else{this.o=!1,this.s=3,rt(12),Us(this),vl(this);break e}}if(this.P){k=!0;let $r;for(;!this.J&&this.C<le.length;)if($r=HP(this,le),$r==Zp){An==4&&(this.s=4,rt(14),k=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if($r==Hx){this.s=4,rt(15),Un(this.i,this.l,le,"[Invalid Chunk]"),k=!1;break}else Un(this.i,this.l,$r,null),nm(this,$r);if(Kx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||le.length!=0||this.h.h||(this.s=1,rt(16),k=!1),this.o=this.o&&k,!k)Un(this.i,this.l,le,"[Invalid Chunked Response]"),Us(this),vl(this);else if(0<le.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),lm(Pn),Pn.M=!0,rt(11))}}else Un(this.i,this.l,le,null),nm(this,le);An==4&&Us(this),this.o&&!this.J&&(An==4?__(this.j,this):(this.o=!1,Mc(this)))}else lA(this.g),k==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Us(this),vl(this)}}}catch{}finally{}};function Kx(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function HP(d,x){var k=d.C,M=x.indexOf(`
`,k);return M==-1?Zp:(k=Number(x.substring(k,M)),isNaN(k)?Hx:(M+=1,M+k>x.length?Zp:(x=x.slice(M,M+k),d.C=M+k,x)))}Zi.prototype.cancel=function(){this.J=!0,Us(this)};function Mc(d){d.S=Date.now()+d.I,Gx(d,d.I)}function Gx(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Re(m(d.ba,d),x)}function tm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Zi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Jt(this.i,this.A),this.L!=2&&(Ve(),rt(17)),Us(this),this.s=2,vl(this)):Gx(this,this.S-d)};function vl(d){d.j.G==0||d.J||__(d.j,d)}function Us(d){tm(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,nt(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function nm(d,x){try{var k=d.j;if(k.G!=0&&(k.g==d||rm(k.h,d))){if(!d.K&&rm(k.h,d)&&k.G==3){try{var M=k.Da.g.parse(x)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Hc(k),Uc(k);else break e;am(k),rt(18)}}else k.za=K[1],0<k.za-k.T&&37500>K[2]&&k.F&&k.v==0&&!k.C&&(k.C=Re(m(k.Za,k),6e3));if(1>=Xx(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Hs(k,11)}else if((d.K||k.g==d)&&Hc(k),!v(x))for(K=k.Da.g.parse(x),x=0;x<K.length;x++){let at=K[x];if(k.T=at[0],at=at[1],k.G==2)if(at[0]=="c"){k.K=at[1],k.ia=at[2];const Pn=at[3];Pn!=null&&(k.la=Pn,k.j.info("VER="+k.la));const An=at[4];An!=null&&(k.Aa=An,k.j.info("SVER="+k.Aa));const Wo=at[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(M=1.5*Wo,k.L=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const $r=d.g;if($r){const Kc=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var X=M.h;X.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(im(X,X.h),X.h=null))}if(M.D){const um=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(M.ya=um,kt(M.I,M.D,um))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),M=k;var le=d;if(M.qa=S_(M,M.J?M.ia:null,M.W),le.K){Jx(M.h,le);var wt=le,bn=M.L;bn&&(wt.I=bn),wt.B&&(tm(wt),Mc(wt)),M.g=le}else v_(M);0<k.i.length&&Wc(k)}else at[0]!="stop"&&at[0]!="close"||Hs(k,7);else k.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Hs(k,7):om(k):at[0]!="noop"&&k.l&&k.l.ta(at),k.v=0)}}Ve(4)}catch{}}var qP=class{constructor(d,x){this.g=d,this.map=x}};function Qx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xx(d){return d.h?1:d.g?d.g.size:0}function rm(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function im(d,x){d.g?d.g.add(x):d.h=x}function Jx(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Qx.prototype.cancel=function(){if(this.i=Zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const k of d.g.values())x=x.concat(k.D);return x}return b(d.i)}function KP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var x=[],k=d.length,M=0;M<k;M++)x.push(d[M]);return x}x=[],k=0;for(M in d)x[k++]=d[M];return x}function GP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var x=[];d=d.length;for(var k=0;k<d;k++)x.push(k);return x}x=[],k=0;for(const M in d)x[k++]=M;return x}}}function e_(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var k=GP(d),M=KP(d),K=M.length,X=0;X<K;X++)x.call(void 0,M[X],k&&k[X],d)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QP(d,x){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var M=d[k].indexOf("="),K=null;if(0<=M){var X=d[k].substring(0,M);K=d[k].substring(M+1)}else X=d[k];x(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ws(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ws){this.h=d.h,Dc(this,d.j),this.o=d.o,this.g=d.g,$c(this,d.s),this.l=d.l;var x=d.i,k=new bl;k.i=x.i,x.g&&(k.g=new Map(x.g),k.h=x.h),n_(this,k),this.m=d.m}else d&&(x=String(d).match(t_))?(this.h=!1,Dc(this,x[1]||"",!0),this.o=xl(x[2]||""),this.g=xl(x[3]||"",!0),$c(this,x[4]),this.l=xl(x[5]||"",!0),n_(this,x[6]||"",!0),this.m=xl(x[7]||"")):(this.h=!1,this.i=new bl(null,this.h))}Ws.prototype.toString=function(){var d=[],x=this.j;x&&d.push(_l(x,r_,!0),":");var k=this.g;return(k||x=="file")&&(d.push("//"),(x=this.o)&&d.push(_l(x,r_,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(_l(k,k.charAt(0)=="/"?JP:XP,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",_l(k,eA)),d.join("")};function Si(d){return new Ws(d)}function Dc(d,x,k){d.j=k?xl(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function $c(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function n_(d,x,k){x instanceof bl?(d.i=x,tA(d.i,d.h)):(k||(x=_l(x,ZP)),d.i=new bl(x,d.h))}function kt(d,x,k){d.i.set(x,k)}function Fc(d){return kt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xl(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _l(d,x,k){return typeof d=="string"?(d=encodeURI(d).replace(x,YP),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function YP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var r_=/[#\/\?@]/g,XP=/[#\?:]/g,JP=/[#\?]/g,ZP=/[#\?@]/g,eA=/#/g;function bl(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function es(d){d.g||(d.g=new Map,d.h=0,d.i&&QP(d.i,function(x,k){d.add(decodeURIComponent(x.replace(/\+/g," ")),k)}))}t=bl.prototype,t.add=function(d,x){es(this),this.i=null,d=Bo(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(x),this.h+=1,this};function i_(d,x){es(d),x=Bo(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function s_(d,x){return es(d),x=Bo(d,x),d.g.has(x)}t.forEach=function(d,x){es(this),this.g.forEach(function(k,M){k.forEach(function(K){d.call(x,K,M,this)},this)},this)},t.na=function(){es(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),k=[];for(let M=0;M<x.length;M++){const K=d[M];for(let X=0;X<K.length;X++)k.push(x[M])}return k},t.V=function(d){es(this);let x=[];if(typeof d=="string")s_(this,d)&&(x=x.concat(this.g.get(Bo(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)x=x.concat(d[k])}return x},t.set=function(d,x){return es(this),this.i=null,d=Bo(this,d),s_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function o_(d,x,k){i_(d,x),0<k.length&&(d.i=null,d.g.set(Bo(d,x),b(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var k=0;k<x.length;k++){var M=x[k];const X=encodeURIComponent(String(M)),le=this.V(M);for(M=0;M<le.length;M++){var K=X;le[M]!==""&&(K+="="+encodeURIComponent(String(le[M]))),d.push(K)}}return this.i=d.join("&")};function Bo(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function tA(d,x){x&&!d.j&&(es(d),d.i=null,d.g.forEach(function(k,M){var K=M.toLowerCase();M!=K&&(i_(this,M),o_(this,K,k))},d)),d.j=x}function nA(d,x){const k=new et;if(a.Image){const M=new Image;M.onload=S(ts,k,"TestLoadImage: loaded",!0,x,M),M.onerror=S(ts,k,"TestLoadImage: error",!1,x,M),M.onabort=S(ts,k,"TestLoadImage: abort",!1,x,M),M.ontimeout=S(ts,k,"TestLoadImage: timeout",!1,x,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else x(!1)}function rA(d,x){const k=new et,M=new AbortController,K=setTimeout(()=>{M.abort(),ts(k,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:M.signal}).then(X=>{clearTimeout(K),X.ok?ts(k,"TestPingServer: ok",!0,x):ts(k,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),ts(k,"TestPingServer: error",!1,x)})}function ts(d,x,k,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(k)}catch{}}function iA(){this.g=new Do}function sA(d,x,k){const M=k||"";try{e_(d,function(K,X){let le=K;c(K)&&(le=He(K)),x.push(M+X+"="+encodeURIComponent(le))})}catch(K){throw x.push(M+"type="+encodeURIComponent("_badmap")),K}}function Vc(d){this.l=d.Ub||null,this.j=d.eb||!1}E(Vc,yl),Vc.prototype.g=function(){return new zc(this.l,this.j)},Vc.prototype.i=function(d){return function(){return d}}({});function zc(d,x){Ie.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(zc,Ie),t=zc.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,Sl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function a_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?wl(this):Sl(this),this.readyState==3&&a_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wl(this))},t.Qa=function(d){this.g&&(this.response=d,wl(this))},t.ga=function(){this.g&&wl(this)};function wl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Sl(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var k=x.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=x.next();return d.join(`\r
`)};function Sl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function l_(d){let x="";return N(d,function(k,M){x+=M,x+=":",x+=k,x+=`\r
`}),x}function sm(d,x,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=l_(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):kt(d,x,k))}function zt(d){Ie.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(zt,Ie);var oA=/^https?$/i,aA=["POST","PUT"];t=zt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lt.g(),this.v=this.o?$o(this.o):$o(Lt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(X){u_(this,X);return}if(d=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)k.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())k.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aA,x,void 0))||M||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of k)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f_(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){u_(this,X)}};function u_(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,c_(d),Bc(d)}function c_(d){d.A||(d.A=!0,Be(d,"complete"),Be(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Be(this,"complete"),Be(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d_(this):this.bb())},t.bb=function(){d_(this)};function d_(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ei(d)!=4||d.Z()!=2)){if(d.u&&Ei(d)==4)Te(d.Ea,0,d);else if(Be(d,"readystatechange"),Ei(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var k;if(!(k=x)){var M;if(M=le===0){var K=String(d.D).match(t_)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),M=!oA.test(K?K.toLowerCase():"")}k=M}if(k)Be(d,"complete"),Be(d,"success");else{d.m=6;try{var X=2<Ei(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",c_(d)}}finally{Bc(d)}}}}function Bc(d,x){if(d.g){f_(d);const k=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Be(d,"ready");try{k.onreadystatechange=M}catch{}}}function f_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ei(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Xr(x)}};function h_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function lA(d){const x={};d=(d.g&&2<=Ei(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(v(d[M]))continue;var k=j(d[M]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=x[K]||[];x[K]=X,X.push(k)}g(x,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(d,x,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||x}function p_(d){this.Aa=0,this.i=[],this.j=new et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=El("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=El("baseRetryDelayMs",5e3,d),this.cb=El("retryDelaySeedMs",1e4,d),this.Wa=El("forwardChannelMaxRetries",2,d),this.wa=El("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qx(d&&d.concurrentRequestLimit),this.Da=new iA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p_.prototype,t.la=8,t.G=1,t.connect=function(d,x,k,M){rt(0),this.W=d,this.H=x||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.I=S_(this,null,this.W),Wc(this)};function om(d){if(m_(d),d.G==3){var x=d.U++,k=Si(d.I);if(kt(k,"SID",d.K),kt(k,"RID",x),kt(k,"TYPE","terminate"),Tl(d,k),x=new Zi(d,d.j,x),x.L=2,x.v=Fc(Si(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=x.v,k=!0),k||(x.g=E_(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Mc(x)}w_(d)}function Uc(d){d.g&&(lm(d),d.g.cancel(),d.g=null)}function m_(d){Uc(d),d.u&&(a.clearTimeout(d.u),d.u=null),Hc(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Wc(d){if(!Yx(d.h)&&!d.s){d.s=!0;var x=d.Ga;B||q(),D||(B(),D=!0),z.add(x,d),d.B=0}}function uA(d,x){return Xx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Re(m(d.Ga,d,x),b_(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Zi(this,this.j,d);let X=this.o;if(this.S&&(X?(X=p(X),C(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var x=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(x+=M,4096<x){x=k;break e}if(x===4096||k===this.i.length-1){x=k+1;break e}}x=1e3}else x=1e3;x=y_(this,K,x),k=Si(this.I),kt(k,"RID",d),kt(k,"CVER",22),this.D&&kt(k,"X-HTTP-Session-Id",this.D),Tl(this,k),X&&(this.O?x="headers="+encodeURIComponent(String(l_(X)))+"&"+x:this.m&&sm(k,this.m,X)),im(this.h,K),this.Ua&&kt(k,"TYPE","init"),this.P?(kt(k,"$req",x),kt(k,"SID","null"),K.T=!0,em(K,k,null)):em(K,k,x),this.G=2}}else this.G==3&&(d?g_(this,d):this.i.length==0||Yx(this.h)||g_(this))};function g_(d,x){var k;x?k=x.l:k=d.U++;const M=Si(d.I);kt(M,"SID",d.K),kt(M,"RID",k),kt(M,"AID",d.T),Tl(d,M),d.m&&d.o&&sm(M,d.m,d.o),k=new Zi(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),x&&(d.i=x.D.concat(d.i)),x=y_(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),im(d.h,k),em(k,M,x)}function Tl(d,x){d.H&&N(d.H,function(k,M){kt(x,M,k)}),d.l&&e_({},function(k,M){kt(x,M,k)})}function y_(d,x,k){k=Math.min(d.i.length,k);var M=d.l?m(d.l.Na,d.l,d):null;e:{var K=d.i;let X=-1;for(;;){const le=["count="+k];X==-1?0<k?(X=K[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let wt=!0;for(let bn=0;bn<k;bn++){let at=K[bn].g;const Pn=K[bn].map;if(at-=X,0>at)X=Math.max(0,K[bn].g-100),wt=!1;else try{sA(Pn,le,"req"+at+"_")}catch{M&&M(Pn)}}if(wt){M=le.join("&");break e}}}return d=d.i.splice(0,k),x.D=d,M}function v_(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;B||q(),D||(B(),D=!0),z.add(x,d),d.v=0}}function am(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Re(m(d.Fa,d),b_(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,x_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Re(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Uc(this),x_(this))};function lm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function x_(d){d.g=new Zi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Si(d.qa);kt(x,"RID","rpc"),kt(x,"SID",d.K),kt(x,"AID",d.T),kt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&kt(x,"TO",d.ja),kt(x,"TYPE","xmlhttp"),Tl(d,x),d.m&&d.o&&sm(x,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=Fc(Si(x)),k.m=null,k.P=!0,qx(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),am(this),rt(19))};function Hc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function __(d,x){var k=null;if(d.g==x){Hc(d),lm(d),d.g=null;var M=2}else if(rm(d.h,x))k=x.D,Jx(d.h,x),M=1;else return;if(d.G!=0){if(x.o)if(M==1){k=x.m?x.m.length:0,x=Date.now()-x.F;var K=d.B;M=oe(),Be(M,new It(M,k)),Wc(d)}else v_(d);else if(K=x.s,K==3||K==0&&0<x.X||!(M==1&&uA(d,x)||M==2&&am(d)))switch(k&&0<k.length&&(x=d.h,x.i=x.i.concat(k)),K){case 1:Hs(d,5);break;case 4:Hs(d,10);break;case 3:Hs(d,6);break;default:Hs(d,2)}}}function b_(d,x){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*x}function Hs(d,x){if(d.j.info("Error code "+x),x==2){var k=m(d.fb,d),M=d.Xa;const K=!M;M=new Ws(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dc(M,"https"),Fc(M),K?nA(M.toString(),k):rA(M.toString(),k)}else rt(2);d.G=0,d.l&&d.l.sa(x),w_(d),m_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function w_(d){if(d.G=0,d.ka=[],d.l){const x=Zx(d.h);(x.length!=0||d.i.length!=0)&&(I(d.ka,x),I(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function S_(d,x,k){var M=k instanceof Ws?Si(k):new Ws(k);if(M.g!="")x&&(M.g=x+"."+M.g),$c(M,M.s);else{var K=a.location;M=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;var X=new Ws(null);M&&Dc(X,M),x&&(X.g=x),K&&$c(X,K),k&&(X.l=k),M=X}return k=d.D,x=d.ya,k&&x&&kt(M,k,x),kt(M,"VER",d.la),Tl(d,M),M}function E_(d,x,k){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new zt(new Vc({eb:k})):new zt(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T_(){}t=T_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(d,x){return new or(d,x)};function or(d,x){Ie.call(this),this.g=new p_(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!v(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!v(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Uo(this)}E(or,Ie),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){om(this.g)},or.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=He(d),d=k);x.i.push(new qP(x.Ya++,d)),x.G==3&&Wc(x)},or.prototype.N=function(){this.g.l=null,delete this.j,om(this.g),delete this.g,or.aa.N.call(this)};function C_(d){Fo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const k in x){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}E(C_,Fo);function I_(){Vo.call(this),this.status=1}E(I_,Vo);function Uo(d){this.g=d}E(Uo,T_),Uo.prototype.ua=function(){Be(this.g,"a")},Uo.prototype.ta=function(d){Be(this.g,new C_(d))},Uo.prototype.sa=function(d){Be(this.g,new I_)},Uo.prototype.ra=function(){Be(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,NC=function(){return new qc},OC=function(){return oe()},jC=Zr,Sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,$d=wi,Pe.COMPLETE="complete",AC=Pe,Lc.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Yl=Lc,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,PC=zt}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new d0("@firebase/firestore");function Nl(){return yo.logLevel}function Se(t,...e){if(yo.logLevel<=tt.DEBUG){const n=e.map(p0);yo.debug(`Firestore (${al}): ${t}`,...n)}}function Ki(t,...e){if(yo.logLevel<=tt.ERROR){const n=e.map(p0);yo.error(`Firestore (${al}): ${t}`,...n)}}function vo(t,...e){if(yo.logLevel<=tt.WARN){const n=e.map(p0);yo.warn(`Firestore (${al}): ${t}`,...n)}}function p0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw Ki(e),new Error(e)}function xt(t,e){t||ze()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class XL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JL{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string"),new LC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Mn(e)}}class ZL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xt(this.o===void 0);const r=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string"),this.R=n.token,new tM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new un(0,0))}static max(){return new Ue(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pt extends Vu{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Vu{construct(e,n,r){return new yn(e,n,r)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Pt.fromString(e))}static fromName(e){return new ke(Pt.fromString(e).popFirst(5))}static empty(){return new ke(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Pt(e.slice()))}}function sM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Ps(i,ke.empty(),e)}function oM(t){return new Ps(t.readTime,t.key,-1)}class Ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ps(Ue.min(),ke.empty(),-1)}static max(){return new Ps(Ue.max(),ke.empty(),-1)}}function aM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==lM)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}g0.oe=-1;function Fh(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function dM(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new En(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,i,s){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new In(yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $C("Invalid base64 string: "+s):s}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const fM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(xt(!!t),typeof t=="string"){let e=0;const n=fM.exec(t);if(xt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v0(t){const e=t.mapValue.fields.__previous_value__;return y0(e)?v0(e):e}function zu(t){const e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={mapValue:{}};function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y0(t)?4:mM(t)?9007199254740991:pM(t)?10:11:ze()}function mi(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=As(i.timestampValue),a=As(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xo(i.bytesValue).isEqual(xo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Gt(i.geoPointValue.latitude)===Gt(s.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gt(i.integerValue)===Gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gt(i.doubleValue),a=Gt(s.doubleValue);return o===a?jf(o)===jf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(iw(o)!==iw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!mi(o[u],a[u])))return!1;return!0}(t,e);default:return ze()}}function Bu(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Ua(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Gt(s.integerValue||s.doubleValue),u=Gt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return ow(t.timestampValue,e.timestampValue);case 4:return ow(zu(t),zu(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=xo(s),u=xo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=lt(a[c],u[c]);if(f!==0)return f}return lt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=lt(Gt(s.latitude),Gt(o.latitude));return a!==0?a:lt(Gt(s.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const h=s.fields||{},m=o.fields||{},S=(a=h.value)===null||a===void 0?void 0:a.arrayValue,E=(u=m.value)===null||u===void 0?void 0:u.arrayValue,b=lt(((c=S==null?void 0:S.values)===null||c===void 0?void 0:c.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return b!==0?b:aw(S,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pd.mapValue&&o===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(o===pd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=lt(u[h],f[h]);if(m!==0)return m;const S=Ua(a[u[h]],c[f[h]]);if(S!==0)return S}return lt(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ze()}}function ow(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=As(t),r=As(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function aw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ua(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function Wa(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ey(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ey(n.fields[o])}`;return i+"}"}(t.mapValue):ze()}function lw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function uw(t){return!!t&&"nullValue"in t}function cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function pM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zn(cu(this.value))}}function FC(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new yn([n]);if(Fd(r)){const s=FC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,Ue.min(),Ue.min(),Ue.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,Ue.min(),Ue.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,Ue.min(),Ue.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=Ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function gM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{}class sn extends VC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vM(e,n,r):n==="array-contains"?new bM(e,r):n==="in"?new wM(e,r):n==="not-in"?new SM(e,r):n==="array-contains-any"?new EM(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xM(e,r):new _M(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ua(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends VC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gr(e,n)}matches(e){return zC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zC(t){return t.op==="and"}function BC(t){return yM(t)&&zC(t)}function yM(t){for(const e of t.filters)if(e instanceof Gr)return!1;return!0}function Cy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(BC(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function UC(t,e){return t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof Gr?function(r,i){return i instanceof Gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&UC(o,i.filters[a]),!0):!1}(t,e):void ze()}function WC(t){return t instanceof sn?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(WC).join(" ,")+"}"}(t):"Filter"}class vM extends sn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends sn{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _M extends sn{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class bM extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&Bu(n.arrayValue,this.value)}}class wM extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class SM extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}}class EM extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new TM(t,e,n,r,i,s,o)}function _0(t){const e=We(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.ue=n}return e.ue}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Iy(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CM(t,e,n,r,i,s,o,a){return new fc(t,e,n,r,i,s,o,a)}function Vh(t){return new fc(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qC(t){return t.collectionGroup!==null}function du(t){const e=We(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new In(yn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nf(s,r))}),n.has(yn.keyField().canonicalString())||e.ce.push(new Nf(yn.keyField(),r))}return e.ce}function ci(t){const e=We(t);return e.le||(e.le=IM(e,du(t))),e.le}function IM(t,e){if(t.limitType==="F")return hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nf(i.field,s)});const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ky(t,e){const n=t.filters.concat([e]);return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return b0(ci(t),ci(e))&&t.limitType===e.limitType}function KC(t){return`${_0(ci(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WC(i)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wa(i)).join(",")),`Target(${r})`}(ci(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,du(r),i)||r.endAt&&!function(o,a,u){const c=dw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,du(r),i))}(t,e)}function kM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const i of du(t)){const s=RM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RM(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ua(u,c):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Vt(ke.comparator);function Gi(){return PM}const QC=new Vt(ke.comparator);function Xl(...t){let e=QC;for(const n of t)e=e.insert(n.key,n);return e}function YC(t){let e=QC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return fu()}function XC(){return fu()}function fu(){return new ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const AM=new Vt(ke.comparator),jM=new In(ke.comparator);function Ze(...t){let e=jM;for(const n of t)e=e.add(n);return e}const OM=new In(lt);function NM(){return OM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function JC(t){return{integerValue:""+t}}function LM(t,e){return dM(e)?JC(e):w0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function MM(t,e,n){return t instanceof Lf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y0(s)&&(s=v0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Uu?eI(t,e):t instanceof Wu?tI(t,e):function(i,s){const o=ZC(i,s),a=mw(o)+mw(i.Pe);return Ty(o)&&Ty(i.Pe)?JC(a):w0(i.serializer,a)}(t,e)}function DM(t,e,n){return t instanceof Uu?eI(t,e):t instanceof Wu?tI(t,e):n}function ZC(t,e){return t instanceof Mf?function(r){return Ty(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Lf extends Uh{}class Uu extends Uh{constructor(e){super(),this.elements=e}}function eI(t,e){const n=nI(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends Uh{constructor(e){super(),this.elements=e}}function tI(t,e){let n=nI(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Mf extends Uh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mw(t){return Gt(t.integerValue||t.doubleValue)}function nI(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $M(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uu&&i instanceof Uu||r instanceof Wu&&i instanceof Wu?za(r.elements,i.elements,mi):r instanceof Mf&&i instanceof Mf?mi(r.Pe,i.Pe):r instanceof Lf&&i instanceof Lf}(t.transform,e.transform)}class FM{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wh{}function rI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S0(t.key,kr.none()):new hc(t.key,t.data,kr.none());{const n=t.data,r=Zn.empty();let i=new In(yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(t.key,r,new cr(i.toArray()),kr.none())}}function VM(t,e,n){t instanceof hc?function(i,s,o){const a=i.value.clone(),u=yw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(iI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof hc?function(s,o,a,u){if(!Vd(s.precondition,o))return a;const c=s.value.clone(),f=vw(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(s,o,a,u){if(!Vd(s.precondition,o))return a;const c=vw(s.fieldTransforms,u,o),f=o.data;return f.setAll(iI(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZC(r.transform,i||null);s!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,s))}return n||null}function gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,(s,o)=>$M(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends Wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Wh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yw(t,e,n){const r=new Map;xt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DM(o,a,n[i]))}return r}function vw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,MM(s,o,e))}return r}class S0 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=rI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,r)=>gw(n,r))&&za(this.baseMutations,e.baseMutations,(n,r)=>gw(n,r))}}class E0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length);let i=function(){return AM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new E0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,it;function qM(t){switch(t){default:return ze();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function sI(t){if(t===void 0)return Ki("GRPC error has no .code"),re.UNKNOWN;switch(t){case en.OK:return re.OK;case en.CANCELLED:return re.CANCELLED;case en.UNKNOWN:return re.UNKNOWN;case en.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case en.INTERNAL:return re.INTERNAL;case en.UNAVAILABLE:return re.UNAVAILABLE;case en.UNAUTHENTICATED:return re.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case en.NOT_FOUND:return re.NOT_FOUND;case en.ALREADY_EXISTS:return re.ALREADY_EXISTS;case en.PERMISSION_DENIED:return re.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case en.ABORTED:return re.ABORTED;case en.OUT_OF_RANGE:return re.OUT_OF_RANGE;case en.UNIMPLEMENTED:return re.UNIMPLEMENTED;case en.DATA_LOSS:return re.DATA_LOSS;default:return ze()}}(it=en||(en={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new ao([4294967295,4294967295],0);function xw(t){const e=KM().encode(t),n=new RC;return n.update(e),new Uint8Array(n.digest())}function _w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ao([n,r],0),new ao([i,s],0)]}class T0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ao.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ao.fromNumber(r)));return i.compare(GM)===1&&(i=new ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xw(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=xw(e),[r,i]=_w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(Ue.min(),i,new Vt(lt),Gi(),Ze())}}class pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pc(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oI{constructor(e,n){this.targetId=e,this.me=n}}class aI{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bw{constructor(){this.fe=0,this.ge=Sw(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze()}}),new pc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gi(),this.qe=ww(),this.Qe=new Vt(lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Iy(s))if(r===0){const o=new ke(s.path);this.Ue(n,o,$n.newNoDocument(o,Ue.min()))}else xt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=xo(r).toUint8Array()}catch(u){if(u instanceof $C)return vo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new T0(o,i,s)}catch(u){return vo(u instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Iy(a.target)){const u=new ke(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,$n.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ze();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hh(e,n,this.Qe,this.ke,r);return this.ke=Gi(),this.qe=ww(),this.Qe=new Vt(lt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new In(lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ww(){return new Vt(ke.comparator)}function Sw(){return new Vt(ke.comparator)}const YM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JM={and:"AND",or:"OR"};class ZM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Py(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eD(t,e){return Df(t,e.toTimestamp())}function di(t){return xt(!!t),Ue.fromTimestamp(function(n){const r=As(n);return new un(r.seconds,r.nanos)}(t))}function C0(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=Pt.fromString(t);return xt(pI(e)),e}function jy(t,e){return C0(t.databaseId,e.path)}function Bm(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(dI(n))}function cI(t,e){return C0(t.databaseId,e)}function tD(t){const e=uI(t);return e.length===4?Pt.emptyPath():dI(e)}function Oy(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:jy(t,e),fields:n.value.mapValue.fields}}function nD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(xt(f===void 0||typeof f=="string"),xn.fromBase64String(f||"")):(xt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),xn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?re.UNKNOWN:sI(c.code);return new ge(f,c.message||"")}(o);n=new aI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bm(t,r.document.name),s=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):Ue.min(),a=new Zn({mapValue:{fields:r.document.fields}}),u=$n.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new zd(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bm(t,r.document),s=r.readTime?di(r.readTime):Ue.min(),o=$n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bm(t,r.document),s=r.removedTargetIds||[];n=new zd([],s,i,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HM(i,s),a=r.targetId;n=new oI(a,o)}}return n}function rD(t,e){let n;if(e instanceof hc)n={update:Ew(t,e.key,e.value)};else if(e instanceof S0)n={delete:jy(t,e.key)};else if(e instanceof Fs)n={update:Ew(t,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof BM))return ze();n={verify:jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Lf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ze()}(t,e.precondition)),n}function iD(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?di(i.updateTime):di(s);return o.isEqual(Ue.min())&&(o=di(s)),new FM(o,i.transformResults||[])}(n,e))):[]}function sD(t,e){return{documents:[cI(t,e.path)]}}function oD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,i);const s=function(c){if(c.length!==0)return hI(Gr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ea(m.field),direction:uD(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Py(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function aD(t){let e=tD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=fI(h);return m instanceof Gr&&BC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(E){return new Nf(ta(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Fh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,S=h.values||[];return new Of(S,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,S=h.values||[];return new Of(S,m)}(n.endAt)),CM(e,i,o,s,a,"F",u,c)}function lD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ta(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ta(n.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ta(n.unaryFilter.field);return sn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ta(n.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return sn.create(ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gr.create(n.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function uD(t){return YM[t]}function cD(t){return XM[t]}function dD(t){return JM[t]}function ea(t){return{fieldPath:t.canonicalString()}}function ta(t){return yn.fromServerFormat(t.fieldPath)}function hI(t){return t instanceof sn?function(n){if(n.op==="=="){if(cw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NAN"}};if(uw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NAN"}};if(uw(n.value))return{unaryFilter:{field:ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(n.field),op:cD(n.op),value:n.value}}}(t):t instanceof Gr?function(n){const r=n.getFilters().map(i=>hI(i));return r.length===1?r[0]:{compositeFilter:{op:dD(n.op),filters:r}}}(t):ze()}function fD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,i,s=Ue.min(),o=Ue.min(),a=xn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.ct=e}}function pD(t){const e=aD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.un=new gD}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Ps.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class gD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(Pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,cr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gi();const o=fu(),a=function(){return fu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Fs)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),hu(f.mutation,c,f.mutation.getFieldMask(),un.now())):o.set(c.key,cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new vD(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fu();let i=new Vt((o,a)=>o-a),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||cr.empty();f=a.applyToLocalView(c,f),r.set(u,f);const h=(i.get(a.batchId)||Ze()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,h=XC();f.forEach(m=>{if(!s.has(m)){const S=rI(n.get(m),r.get(m));S!==null&&h.set(m,S),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ke.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(no());let a=-1,u=s;return o.next(c=>se.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?se.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ze())).next(f=>({batchId:a,changes:YC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xl();return this.indexManager.getCollectionParents(e,s).next(a=>se.forEach(a,u=>{const c=function(h,m){return new fc(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,$n.newInvalidDocument(f)))});let a=Xl();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&hu(f.mutation,c,cr.empty(),un.now()),Bh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:di(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:pD(i.bundledQuery),readTime:di(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.overlays=new Vt(ke.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=no(),s=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=no(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=no(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return se.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new WM(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ze(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.Tr=new In(mn.Er),this.dr=new In(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new mn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ke(new Pt([])),r=new mn(n,e),i=new mn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ke(new Pt([])),r=new mn(n,e),i=new mn(n,e+1);let s=Ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ke.comparator(e.key,n.key)||lt(e.wr,n.wr)}static Ar(e,n){return lt(e.wr,n.wr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new In(mn.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),i=new mn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(lt);return n.forEach(i=>{const s=new mn(i,0),o=new mn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const o=new mn(new ke(s),0);let a=new In(lt);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),se.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new mn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new mn(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.Mr=e,this.docs=function(){return new Vt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$n.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gi();const o=n.path,a=new ke(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aM(oM(f),r)<=0||(i.has(f.key)||Bh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ze()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TD(this)}getSize(e){return se.resolve(this.size)}}class TD extends yD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.Nr=new ll(n=>_0(n),b0),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new I0,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.qr={},this.overlays={},this.Qr=new g0(0),this.Kr=!1,this.Kr=!0,this.$r=new wD,this.referenceDelegate=e(this),this.Ur=new CD(this),this.indexManager=new mD,this.remoteDocumentCache=function(i){return new ED(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hD(n),this.Gr=new _D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new SD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new kD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kD extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Jr=new I0,this.Yr=null}static Zr(e){return new k0(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=ke.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jN()?8:cM(zn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nl()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Nl()<=tt.DEBUG&&Se("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nl()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):se.resolve())}Yi(e,n){if(pw(n))return se.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ry(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ze(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Ry(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return pw(n)||i.isEqual(Ue.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?se.resolve(null):(Nl()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(n)),this.rs(e,o,n,sM(i,-1)).next(a=>a))})}ts(e,n){let r=new In(GC(e));return n.forEach((i,s)=>{Bh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Nl()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ps.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Vt(lt),this._s=new ll(s=>_0(s),b0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function jD(t,e,n,r){return new AD(t,e,n,r)}async function mI(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ze();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function OD(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const h=c.batch,m=h.keys();let S=se.resolve();return m.forEach(E=>{S=S.next(()=>f.getEntry(u,E)).next(b=>{const I=c.docVersions.get(E);xt(I!==null),b.version.compareTo(I)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),f.addEntry(b)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ze();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gI(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ND(t,e){const n=We(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let S=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?S=S.withResumeToken(xn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,r)),i=i.insert(h,S),function(b,I,T){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,S,f)&&a.push(n.Ur.updateTargetData(s,S))});let u=Gi(),c=Ze();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(LD(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ue.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function LD(t,e,n){let r=Ze(),i=Ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gi();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ue.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function MD(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DD(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=We(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dc(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tw(t,e,n){const r=We(t);let i=Ue.min(),s=Ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=We(u),m=h._s.get(f);return m!==void 0?se.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ue.min(),n?s:Ze())).next(a=>($D(r,kM(e),a),{documents:a,Ts:s})))}function $D(t,e,n){let r=t.us.get(e)||Ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Cw{constructor(){this.activeTargetIds=NM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FD{constructor(){this.so=new Cw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function Um(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class UD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Um(),u=this.xo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(Se("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw vo("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Um();return new Promise((o,a)=>{const u=new PC;u.setWithCredentials(!0),u.listenOnce(AC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $d.NO_ERROR:const f=u.getResponseJson();Se(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case $d.TIMEOUT:Se(Nn,`RPC '${e}' ${s} timed out`),a(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:const h=u.getStatus();if(Se(Nn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const E=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(T)>=0?T:re.UNKNOWN}(S.status);a(new ge(E,S.message))}else a(new ge(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ge(re.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Se(Nn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Se(Nn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Um(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NC(),a=OC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Se(Nn,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,S=!1;const E=new BD({Io:I=>{S?Se(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Se(Nn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Se(Nn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),b=(I,T,v)=>{I.listen(T,_=>{try{v(_)}catch(R){setTimeout(()=>{throw R},0)}})};return b(h,Yl.EventType.OPEN,()=>{S||(Se(Nn,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),b(h,Yl.EventType.CLOSE,()=>{S||(S=!0,Se(Nn,`RPC '${e}' stream ${i} transport closed`),E.So())}),b(h,Yl.EventType.ERROR,I=>{S||(S=!0,vo(Nn,`RPC '${e}' stream ${i} transport errored:`,I),E.So(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),b(h,Yl.EventType.MESSAGE,I=>{var T;if(!S){const v=I.data[0];xt(!!v);const _=v,R=_.error||((T=_[0])===null||T===void 0?void 0:T.error);if(R){Se(Nn,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let N=function(y){const C=en[y];if(C!==void 0)return sI(C)}(L),g=R.message;N===void 0&&(N=re.INTERNAL,g="Unknown error status: "+L+" with message "+R.message),S=!0,E.So(new ge(N,g)),h.close()}else Se(Nn,`RPC '${e}' stream ${i} received:`,v),E.bo(v)}}),b(a,jC.STAT_EVENT,I=>{I.stat===Sy.PROXY?Se(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Sy.NOPROXY&&Se(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new ZM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends vI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ue.min():o.readTime?di(o.readTime):Ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Iy(u)?{documents:sD(s,u)}:{query:oD(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lI(s,o.resumeToken);const c=Py(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ue.min())>0){a.readTime=Df(s,o.snapshotVersion.toTimestamp());const c=Py(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=lD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.a_(n)}}class HD extends vI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iD(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Oy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ay(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(re.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ay(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ki(n),this.D_=!1):Se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{No(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=We(u);c.L_.add(4),await mc(c),c.q_.set("Unknown"),c.L_.delete(4),await Kh(c)}(this))})}),this.q_=new KD(r,i)}}async function Kh(t){if(No(t))for(const e of t.B_)await e(!0)}async function mc(t){for(const e of t.B_)await e(!1)}function xI(t,e){const n=We(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),O0(n)?j0(n):ul(n).r_()&&A0(n,e))}function P0(t,e){const n=We(t),r=ul(n);n.N_.delete(e),r.r_()&&_I(n,e),n.N_.size===0&&(r.r_()?r.o_():No(n)&&n.q_.set("Unknown"))}function A0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).A_(e)}function _I(t,e){t.Q_.xe(e),ul(t).R_(e)}function j0(t){t.Q_=new QM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.q_.v_()}function O0(t){return No(t)&&!ul(t).n_()&&t.N_.size>0}function No(t){return We(t).L_.size===0}function bI(t){t.Q_=void 0}async function QD(t){t.q_.set("Online")}async function YD(t){t.N_.forEach((e,n)=>{A0(t,e)})}async function XD(t,e){bI(t),O0(t)?(t.q_.M_(e),j0(t)):t.q_.set("Unknown")}async function JD(t,e,n){if(t.q_.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof zd?t.Q_.Ke(e):e instanceof oI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const r=await gI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(xn.EMPTY_BYTE_STRING,f.snapshotVersion)),_I(s,u);const h=new ps(f.target,u,c,f.sequenceNumber);A0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!dc(e))throw e;t.L_.add(1),await mc(t),t.q_.set("Offline"),n||(n=()=>gI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kh(t)})}function wI(t,e){return e().catch(n=>$f(t,n,e))}async function Gh(t){const e=We(t),n=js(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZD(e);)try{const i=await MD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,e3(e,i)}catch(i){await $f(e,i)}SI(e)&&EI(e)}function ZD(t){return No(t)&&t.O_.length<10}function e3(t,e){t.O_.push(e);const n=js(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SI(t){return No(t)&&!js(t).n_()&&t.O_.length>0}function EI(t){js(t).start()}async function t3(t){js(t).p_()}async function n3(t){const e=js(t);for(const n of t.O_)e.m_(n.mutations)}async function r3(t,e,n){const r=t.O_.shift(),i=E0.from(r,e,n);await wI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function i3(t,e){e&&js(t).V_&&await async function(r,i){if(function(o){return qM(o)&&o!==re.ABORTED}(i.code)){const s=r.O_.shift();js(r).s_(),await wI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gh(r)}}(t,e),SI(t)&&EI(t)}async function kw(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=No(n);n.L_.add(3),await mc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kh(n)}async function s3(t,e){const n=We(t);e?(n.L_.delete(2),await Kh(n)):e||(n.L_.add(2),await mc(n),n.q_.set("Unknown"))}function ul(t){return t.K_||(t.K_=function(n,r,i){const s=We(n);return s.w_(),new WD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:QD.bind(null,t),Ro:YD.bind(null,t),mo:XD.bind(null,t),d_:JD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),O0(t)?j0(t):t.q_.set("Unknown")):(await t.K_.stop(),bI(t))})),t.K_}function js(t){return t.U_||(t.U_=function(n,r,i){const s=We(n);return s.w_(),new HD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t3.bind(null,t),mo:i3.bind(null,t),f_:n3.bind(null,t),g_:r3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gh(t)):(await t.U_.stop(),t.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L0(t,e){if(Ki("AsyncQueue",`${e}: ${t}`),dc(t))return new ge(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.W_=new Vt(ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qa(e,n,Sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a3{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=We(n),s=i.queries;i.queries=Pw(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function Pw(){return new ll(t=>KC(t),zh)}async function M0(t,e){const n=We(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new o3,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=L0(o,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$0(n)}async function D0(t,e){const n=We(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l3(t,e){const n=We(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$0(n)}function u3(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function $0(t){t.Y_.forEach(e=>{e.next()})}var Ly,Aw;(Aw=Ly||(Ly={})).ea="default",Aw.Cache="cache";class F0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class CI{constructor(e){this.key=e}}class c3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=GC(e),this.Ra=new Sa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Rw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),S=Bh(this.query,h)?h:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;m&&S?m.data.isEqual(S.data)?E!==b&&(r.track({type:3,doc:S}),I=!0):this.ga(m,S)||(r.track({type:2,doc:S}),I=!0,(u&&this.Aa(S,u)>0||c&&this.Aa(S,c)<0)&&(a=!0)):!m&&S?(r.track({type:0,doc:S}),I=!0):m&&!S&&(r.track({type:1,doc:m}),I=!0,(u||c)&&(a=!0)),I&&(S?(o=o.add(S),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(S,E){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return b(S)-b(E)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new qa(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new CI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f3{constructor(e){this.key=e,this.va=!1}}class h3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ll(a=>KC(a),zh),this.Ma=new Map,this.xa=new Set,this.Oa=new Vt(ke.comparator),this.Na=new Map,this.La=new I0,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p3(t,e,n=!0){const r=jI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await II(r,e,n,!0),i}async function m3(t,e){const n=jI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const i=await DD(t.localStore,ci(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await g3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xI(t.remoteStore,i),a}async function g3(t,e,n,r,i){t.Ka=(h,m,S)=>async function(b,I,T,v){let _=I.view.ma(T);_.ns&&(_=await Tw(b.localStore,I.query,!1).then(({documents:g})=>I.view.ma(g,_)));const R=v&&v.targetChanges.get(I.targetId),L=v&&v.targetMismatches.get(I.targetId)!=null,N=I.view.applyChanges(_,b.isPrimaryClient,R,L);return Ow(b,I.targetId,N.wa),N.snapshot}(t,h,m,S);const s=await Tw(t.localStore,e,!0),o=new c3(e,s.Ts),a=o.ma(s.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Ow(t,n,c.wa);const f=new d3(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function y3(t,e,n){const r=We(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!zh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&P0(r.remoteStore,i.targetId),My(r,i.targetId)}).catch(cc)):(My(r,i.targetId),await Ny(r.localStore,i.targetId,!0))}async function v3(t,e){const n=We(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P0(n.remoteStore,r.targetId))}async function x3(t,e,n){const r=C3(t);try{const i=await function(o,a){const u=We(o),c=un.now(),f=a.reduce((S,E)=>S.add(E.key),Ze());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let E=Gi(),b=Ze();return u.cs.getEntries(S,f).next(I=>{E=I,E.forEach((T,v)=>{v.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,E)).next(I=>{h=I;const T=[];for(const v of a){const _=zM(v,h.get(v.key).overlayedDocument);_!=null&&T.push(new Fs(v.key,_,FC(_.value.mapValue),kr.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,T,a)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(h,b);return u.documentOverlayCache.saveOverlays(S,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:YC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Vt(lt)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await gc(r,i.changes),await Gh(r.remoteStore)}catch(i){const s=L0(i,"Failed to persist write");n.reject(s)}}async function kI(t,e){const n=We(t);try{const r=await ND(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xt(o.va):i.removedDocuments.size>0&&(xt(o.va),o.va=!1))}),await gc(n,r,e)}catch(r){await cc(r)}}function jw(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=We(o);u.onlineState=a;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(a)&&(c=!0)}),c&&$0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Vt(ke.comparator);o=o.insert(s,$n.newNoDocument(s,Ue.min()));const a=Ze().add(s),u=new Hh(Ue.min(),new Map,new Vt(lt),o,a);await kI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),V0(r)}else await Ny(r.localStore,e,!1).then(()=>My(r,e,n)).catch(cc)}async function b3(t,e){const n=We(t),r=e.batch.batchId;try{const i=await OD(n.localStore,e);PI(n,r,null),RI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gc(n,i)}catch(i){await cc(i)}}async function w3(t,e,n){const r=We(t);try{const i=await function(o,a){const u=We(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(xt(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);PI(r,e,n),RI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gc(r,i)}catch(i){await cc(i)}}function RI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PI(t,e,n){const r=We(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||AI(t,r)})}function AI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(P0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),V0(t))}function Ow(t,e,n){for(const r of n)r instanceof TI?(t.La.addReference(r.key,e),S3(t,r)):r instanceof CI?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||AI(t,r.key)):ze()}function S3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.xa.add(r),V0(t))}function V0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ke(Pt.fromString(e)),r=t.qa.next();t.Na.set(r,new f3(n)),t.Oa=t.Oa.insert(n,r),xI(t.remoteStore,new ps(ci(Vh(n.path)),r,"TargetPurposeLimboResolution",g0.oe))}}async function gc(t,e,n){const r=We(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=R0.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=We(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>se.forEach(c,m=>se.forEach(m.$i,S=>f.persistence.referenceDelegate.addReference(h,m.targetId,S)).next(()=>se.forEach(m.Ui,S=>f.persistence.referenceDelegate.removeReference(h,m.targetId,S)))))}catch(h){if(!dc(h))throw h;Se("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const S=f.os.get(m),E=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(m,b)}}}(r.localStore,s))}async function E3(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await mI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new ge(re.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(n,r.hs)}}function T3(t,e){const n=We(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let i=Ze();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function jI(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.Ca.d_=l3.bind(null,e.eventManager),e.Ca.$a=u3.bind(null,e.eventManager),e}function C3(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w3.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jD(this.persistence,new PD,e.initialUser,this.serializer)}Ga(e){return new ID(k0.Zr,this.serializer)}Wa(e){return new FD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E3.bind(null,this.syncEngine),await s3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a3}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(s){return new UD(s)}(e.databaseInfo);return function(s,o,a,u){return new qD(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new GD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Iw.D()?new Iw:new VD}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,f){const h=new h3(i,s,o,a,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=We(i);Se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dy.provider={build:()=>new Dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k3(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kw(e.remoteStore,i)),t._onlineComponents=e}async function k3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Ff)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Hm(t,new Ff);return t._offlineComponents}async function OI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await Nw(t,new Dy))),t._onlineComponents}function R3(t){return OI(t).then(e=>e.syncEngine)}async function Vf(t){const e=await OI(t),n=e.eventManager;return n.onListen=p3.bind(null,e.syncEngine),n.onUnlisten=y3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v3.bind(null,e.syncEngine),n}function P3(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new z0({next:m=>{f.Za(),o.enqueueAndForget(()=>D0(s,h));const S=m.docs.has(a);!S&&m.fromCache?c.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&m.fromCache&&u&&u.source==="server"?c.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new F0(Vh(a.path),f,{includeMetadataChanges:!0,_a:!0});return M0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}function A3(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const f=new z0({next:m=>{f.Za(),o.enqueueAndForget(()=>D0(s,h)),m.fromCache&&u.source==="server"?c.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new F0(a,f,{includeMetadataChanges:!0,_a:!0});return M0(s,h)}(await Vf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MI(t,e,n,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mw(t){if(!ke.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dw(t){if(ke.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MC;switch(r.type){case"firstParty":return new eM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lw.get(n);r&&(Se("ComponentProvider","Removing Datastore"),Lw.delete(n),r.terminate())}(this),Promise.resolve()}}function DI(t,e,n,r={}){var i;const s=(t=Gn(t,Yh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Mn.MOCK_USER;else{a=SC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mn(c)}t._authCredentials=new XL(new LC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Fi extends Vs{constructor(e,n,r){super(e,n,Vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ke(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Ae(t,e,...n){if(t=cn(t),LI("collection","path",e),t instanceof Yh){const r=Pt.fromString(e,...n);return Dw(r),new Fi(t,null,r)}{if(!(t instanceof kn||t instanceof Fi))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Dw(r),new Fi(t.firestore,null,r)}}function be(t,e,...n){if(t=cn(t),arguments.length===1&&(e=m0.newId()),LI("doc","path",e),t instanceof Yh){const r=Pt.fromString(e,...n);return Mw(r),new kn(t,null,new ke(r))}{if(!(t instanceof kn||t instanceof Fi))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return Mw(r),new kn(t.firestore,t instanceof Fi?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yI(this,"async_queue_retry"),this.Vu=()=>{const r=Wm();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new $i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dc(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=N0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Vw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gi extends Yh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function $I(t,e){const n=typeof t=="object"?t:h0(),r=typeof t=="string"?t:"(default)",i=$h(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_C("firestore");s&&DI(i,...s)}return i}function yc(t){if(t._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j3(t),t._firestoreClient}function j3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,f){return new hM(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,NI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(xn.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^__.*__$/;class N3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class FI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class B0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new B0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VI(this.Cu)&&O3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class L3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Qu(e,n,r,i=!1){return new B0({Cu:e,methodName:n,qu:r,path:yn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new L3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",o,r);const a=BI(r,o);let u,c;if(s.merge)u=new cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=$y(e,h,n);if(!o.contains(m))throw new ge(re.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WI(f,m)||f.push(m)}u=new cr(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new N3(new Zn(a),u,c)}class tp extends Xh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function M3(t,e,n,r){const i=t.Qu(1,e,n);U0("Data must be an object, but it was:",i,r);const s=[],o=Zn.empty();Oo(r,(u,c)=>{const f=W0(e,u,n);c=cn(c);const h=i.Nu(f);if(c instanceof tp)s.push(f);else{const m=xc(c,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new cr(s);return new FI(o,a,i.fieldTransforms)}function D3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[$y(e,r,n)],u=[i];if(s.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push($y(e,s[m])),u.push(s[m+1]);const c=[],f=Zn.empty();for(let m=a.length-1;m>=0;--m)if(!WI(c,a[m])){const S=a[m];let E=u[m];E=cn(E);const b=o.Nu(S);if(E instanceof tp)c.push(S);else{const I=xc(E,b);I!=null&&(c.push(S),f.set(S,I))}}const h=new cr(c);return new FI(f,h,o.fieldTransforms)}function $3(t,e,n,r=!1){return xc(n,t.Qu(r?4:3,e))}function xc(t,e){if(UI(t=cn(t)))return U0("Unsupported field value:",e,t),BI(t,e);if(t instanceof Xh)return function(r,i){if(!VI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=xc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=un.fromDate(r);return{timestampValue:Df(i.serializer,s)}}if(r instanceof un){const s=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(i.serializer,s)}}if(r instanceof Jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:lI(i.serializer,r._byteString)};if(r instanceof kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return w0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qh(r)}`)}(t,e)}function BI(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const s=xc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof Jh||t instanceof bo||t instanceof kn||t instanceof Xh||t instanceof Zh)}function U0(t,e,n){if(!UI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $y(t,e,n){if((e=cn(e))instanceof vc)return e._internalPath;if(typeof e=="string")return W0(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const F3=new RegExp("[~\\*/\\[\\]]");function W0(t,e,n){if(e.search(F3)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ge(re.INVALID_ARGUMENT,a+t+u)}function WI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V3 extends HI{data(){return super.data()}}function H0(t,e){return typeof e=="string"?W0(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q0{}class KI extends q0{}function yi(t,e,...n){let r=[];e instanceof q0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof np).length,a=s.filter(u=>u instanceof _c).length;if(o>1||o>0&&a>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _c extends KI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _c(e,n,r)}_apply(e){const n=this._parse(e);return GI(e._query,n),new Vs(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=ep(e.firestore);return function(s,o,a,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Bw(h,f);const S=[];for(const E of h)S.push(zw(u,s,E));m={arrayValue:{values:S}}}else m=zw(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Bw(h,f),m=$3(a,o,h,f==="in"||f==="not-in");return sn.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qr(t,e,n){const r=e,i=H0("where",t);return _c._create(i,r,n)}class np extends q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new np(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)GI(o,u),o=ky(o,u)}(e._query,n),new Vs(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zw(t,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qC(e)&&n.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!ke.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lw(t,new ke(r))}if(n instanceof kn)return lw(t,n._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QI{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Gt(o.doubleValue));return new Zh(s)}convertGeoPoint(e){return new Jh(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=v0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=As(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);xt(pI(r));const i=new Ba(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||Ki(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K0 extends HI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pu extends K0{data(e={}){return super.data(e)}}class G0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pu(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new pu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new pu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:z3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){t=Gn(t,kn);const e=Gn(t.firestore,gi);return P3(yc(e),t._key).then(n=>XI(e,t,n))}class Q0 extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function an(t){t=Gn(t,Vs);const e=Gn(t.firestore,gi),n=yc(e),r=new Q0(e);return qI(t._query),A3(n,t._query).then(i=>new G0(e,r,t,i))}function ir(t,e,n){t=Gn(t,kn);const r=Gn(t.firestore,gi),i=YI(t.converter,e,n);return bc(r,[zI(ep(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function tn(t,e,n,...r){t=Gn(t,kn);const i=Gn(t.firestore,gi),s=ep(i);let o;return o=typeof(e=cn(e))=="string"||e instanceof vc?D3(s,"updateDoc",t._key,e,n,r):M3(s,"updateDoc",t._key,e),bc(i,[o.toMutation(t._key,kr.exists(!0))])}function Rr(t){return bc(Gn(t.firestore,gi),[new S0(t._key,kr.none())])}function wo(t,e){const n=Gn(t.firestore,gi),r=be(t),i=YI(t.converter,e);return bc(n,[zI(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function Ct(t,...e){var n,r,i;t=cn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Vw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Vw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,f;if(t instanceof kn)c=Gn(t.firestore,gi),f=Vh(t._key.path),u={next:h=>{e[o]&&e[o](XI(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Gn(t,Vs);c=Gn(h.firestore,gi),f=h._query;const m=new Q0(c);u={next:S=>{e[o]&&e[o](new G0(c,m,h,S))},error:e[o+1],complete:e[o+2]},qI(t._query)}return function(m,S,E,b){const I=new z0(b),T=new F0(S,I,E);return m.asyncQueue.enqueueAndForget(async()=>M0(await Vf(m),T)),()=>{I.Za(),m.asyncQueue.enqueueAndForget(async()=>D0(await Vf(m),T))}}(yc(c),f,a,u)}function bc(t,e){return function(r,i){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>x3(await R3(r),i,s)),s.promise}(yc(t),e)}function XI(t,e,n){const r=n.docs.get(e._key),i=new Q0(t);return new K0(t,i,e._key,r,new ma(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){al=i})(jo),go(new Rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gi(new JL(r.getProvider("auth-internal")),new nM(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ui(rw,"4.7.3",e),ui(rw,"4.7.3","esm2017")})();const Y0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:QI,Bytes:bo,CollectionReference:Fi,DocumentReference:kn,DocumentSnapshot:K0,FieldPath:vc,FieldValue:Xh,Firestore:gi,FirestoreError:ge,GeoPoint:Jh,Query:Vs,QueryCompositeFilterConstraint:np,QueryConstraint:KI,QueryDocumentSnapshot:pu,QueryFieldFilterConstraint:_c,QuerySnapshot:G0,SnapshotMetadata:ma,Timestamp:un,VectorValue:Zh,_AutoId:m0,_ByteString:xn,_DatabaseId:Ba,_DocumentKey:ke,_EmptyAuthCredentialsProvider:MC,_FieldPath:yn,_cast:Gn,_logWarn:vo,_validateIsNotUsedTogether:MI,addDoc:wo,collection:Ae,connectFirestoreEmulator:DI,deleteDoc:Rr,doc:be,ensureFirestoreConfigured:yc,executeWrite:bc,getDoc:on,getDocs:an,getFirestore:$I,onSnapshot:Ct,query:yi,setDoc:ir,updateDoc:tn,where:Qr},Symbol.toStringTag,{value:"Module"}));function X0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=JI,ek=new lc("auth","Firebase",JI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new d0("@firebase/auth");function B3(t,...e){Bf.logLevel<=tt.WARN&&Bf.warn(`Auth (${jo}): ${t}`,...e)}function Bd(t,...e){Bf.logLevel<=tt.ERROR&&Bf.error(`Auth (${jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,...e){throw J0(t,...e)}function fi(t,...e){return J0(t,...e)}function tk(t,e,n){const r=Object.assign(Object.assign({},ZI()),{[e]:n});return new lc("auth","Firebase",r).create(e,{appName:t.name})}function Vi(t){return tk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ek.create(t,...e)}function Fe(t,e,...n){if(!t)throw J0(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function Qi(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U3(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U3()||RN()||"connection"in navigator)?navigator.onLine:!0}function H3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qi(n>e,"Short delay should be less than long delay!"),this.isMobile=CN()||PN()}get(){return W3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new wc(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,i={}){return rk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return kN()||(c.referrerPolicy="no-referrer"),nk.fetch()(ik(t,t.config.apiHost,n,a),c)})}async function rk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q3),e);try{const i=new Q3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw gd(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tk(t,f,c);Yr(t,f)}}catch(i){if(i instanceof xi)throw i;Yr(t,"network-request-failed",{message:String(i)})}}async function Sc(t,e,n,r,i={}){const s=await Bs(t,e,n,r,i);return"mfaPendingCredential"in s&&Yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ik(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Z0(t.config,i):`${t.config.apiScheme}://${i}`}function G3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),K3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fi(t,e,r);return i.customData._tokenResponse=n,i}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class Y3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function X3(t,e){return Bs(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function sk(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ok(t,e=!1){const n=cn(t),r=await n.getIdToken(e),i=ex(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mu(qm(i.auth_time)),issuedAtTime:mu(qm(i.iat)),expirationTime:mu(qm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qm(t){return Number(t)*1e3}function ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=vC(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hw(t){const e=ex(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&Z3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hu(t,sk(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lk(s.providerUserInfo):[],a=t6(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function ak(t){const e=cn(t);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lk(t){return t.map(e=>{var{providerId:n}=e,r=X0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){const n=await rk(t,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ik(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r6(t,e){return Bs(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ea;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=X0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ok(this,e)}reload(){return ak(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Hu(this,J3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:_,emailVerified:R,isAnonymous:L,providerData:N,stsTokenManager:g}=n;Fe(_&&g,e,"internal-error");const p=Ea.fromJSON(this.name,g);Fe(typeof _=="string",e,"internal-error"),rs(h,e.name),rs(m,e.name),Fe(typeof R=="boolean",e,"internal-error"),Fe(typeof L=="boolean",e,"internal-error"),rs(S,e.name),rs(E,e.name),rs(b,e.name),rs(I,e.name),rs(T,e.name),rs(v,e.name);const y=new Li({uid:_,auth:e,email:m,emailVerified:R,displayName:h,isAnonymous:L,photoURL:E,phoneNumber:S,tenantId:b,stsTokenManager:p,createdAt:T,lastLoginAt:v});return N&&Array.isArray(N)&&(y.providerData=N.map(C=>Object.assign({},C))),I&&(y._redirectEventId=I),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ea;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ea;a.updateFromIdToken(r);const u=new Li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Mi(t){Qi(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uk.type="NONE";const zy=uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ta(Mi(zy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Mi(zy);const o=Ud(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const h=Li._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ta(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ta(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mk(e))return"Blackberry";if(gk(e))return"Webos";if(dk(e))return"Safari";if((e.includes("chrome/")||fk(e))&&!e.includes("edge/"))return"Chrome";if(pk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ck(t=zn()){return/firefox\//i.test(t)}function dk(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fk(t=zn()){return/crios\//i.test(t)}function hk(t=zn()){return/iemobile/i.test(t)}function pk(t=zn()){return/android/i.test(t)}function mk(t=zn()){return/blackberry/i.test(t)}function gk(t=zn()){return/webos/i.test(t)}function tx(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i6(t=zn()){var e;return tx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s6(){return AN()&&document.documentMode===10}function yk(t=zn()){return tx(t)||pk(t)||gk(t)||mk(t)||/windows phone/i.test(t)||hk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e=[]){let n;switch(t){case"Browser":n=Kw(zn());break;case"Worker":n=`${Kw(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e={}){return Bs(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=6;class u6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new o6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sk(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Vi(this));const n=e?cn(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a6(this),n=new u6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lo(t){return cn(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=FN(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d6(t){rp=t}function xk(t){return rp.loadJS(t)}function f6(){return rp.recaptchaEnterpriseScript}function h6(){return rp.gapiScript}function p6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const m6="recaptcha-enterprise",g6="NO_RECAPTCHA";class y6{constructor(e){this.type=m6,this.auth=Lo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{X3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Ww(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(g6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=f6();u.length!==0&&(u+=a),xk(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Qw(t,e,n,r=!1){const i=new y6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function By(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Qw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Qw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){const n=$h(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pf(s,e??{}))return i;Yr(i,"already-initialized")}return n.initialize({options:e})}function v6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bk(t,e,n){const r=Lo(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wk(e),{host:o,port:a}=x6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_6()}function wk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x6(t){const e=wk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Yw(o)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function b6(t,e){return Bs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Sc(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function E6(t,e){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends ip{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,n,"signInWithPassword",w6);case"emailLink":return S6(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return By(e,r,"signUpPassword",b6);case"emailLink":return E6(e,{idToken:n,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return Sc(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="http://localhost";class Os extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=X0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Os(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:T6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I6(t){const e=Gl(Ql(t)).link,n=e?Gl(Ql(e)).deep_link_id:null,r=Gl(Ql(t)).deep_link_id;return(r?Gl(Ql(r)).link:null)||r||n||e||t}class sp{constructor(e){var n,r,i,s,o,a;const u=Gl(Ql(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=C6((i=u.mode)!==null&&i!==void 0?i:null);Fe(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I6(e);try{return new sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sp.parseLink(n);return Fe(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Sk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ec{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ec{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Sc(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=Xw(r);return new So({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Xw(r);return new So({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends xi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wf(e,n,r,i)}}function Ek(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,s,e,r):s})}async function R6(t,e,n=!1){const r=await Hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(Vi(r));const i="reauthenticate";try{const s=await Hu(t,Ek(r,i,e,t),n);Fe(s.idToken,r,"internal-error");const o=ex(s.idToken);Fe(o,r,"internal-error");const{sub:a}=o;return Fe(t.uid===a,r,"user-mismatch"),So._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e,n=!1){if(oi(t.app))return Promise.reject(Vi(t));const r="signIn",i=await Ek(t,r,e),s=await So._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ck(t,e){return Tk(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zl(t,e,n){if(oi(t.app))return Promise.reject(Vi(t));const r=Lo(t),o=await By(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k6).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Ik(t),u}),a=await So._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kk(t,e,n){return oi(t.app)?Promise.reject(Vi(t)):Ck(cn(t),Mo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ik(t),r})}function Rk(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function Pk(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function jr(t,e,n,r){return cn(t).onAuthStateChanged(e,n,r)}function Ak(t){return cn(t).signOut()}const Hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=1e3,j6=10;class Ok extends jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ok.type="LOCAL";const Nk=Ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lk.type="SESSION";const nx=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new op(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await O6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}op.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=rx("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function L6(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function M6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $6(){return Mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebaseLocalStorageDb",F6=1,qf="firebaseLocalStorage",$k="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ap(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function V6(){const t=indexedDB.deleteDatabase(Dk);return new Tc(t).toPromise()}function Uy(){const t=indexedDB.open(Dk,F6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qf,{keyPath:$k})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),await V6(),e(await Uy()))})})}async function Jw(t,e,n){const r=ap(t,!0).put({[$k]:e,value:n});return new Tc(r).toPromise()}async function z6(t,e){const n=ap(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function Zw(t,e){const n=ap(t,!0).delete(e);return new Tc(n).toPromise()}const B6=800,U6=3;class Fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=op._getInstance($6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M6(),!this.activeServiceWorker)return;this.sender=new N6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uy();return await Jw(e,Hf,"1"),await Zw(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ap(i,!1).getAll();return new Tc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fk.type="LOCAL";const Vk=Fk;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e){return e?Mi(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H6(t){return Tk(t.auth,new ix(t),t.bypassAuthState)}function q6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),P6(n,new ix(t),t.bypassAuthState)}async function K6(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),R6(n,new ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return K6;case"reauthViaPopup":case"reauthViaRedirect":return q6;default:Yr(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new wc(2e3,1e4);class ga extends zk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=rx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G6.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="pendingRedirect",Wd=new Map;class Y6 extends zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await X6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X6(t,e){const n=e5(e),r=Z6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J6(t,e){Wd.set(t._key(),e)}function Z6(t){return Mi(t._redirectPersistence)}function e5(t){return Ud(Q6,t.config.apiKey,t.name)}async function t5(t,e,n=!1){if(oi(t.app))return Promise.reject(Vi(t));const r=Lo(t),i=W6(r,e),o=await new Y6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=10*60*1e3;class r5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n5&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(e))}saveEventToCache(e){this.cachedEventUids.add(e1(e)),this.lastProcessedEventTime=Date.now()}}function e1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a5=/^https?/;async function l5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s5(t);for(const n of e)try{if(u5(n))return}catch{}Yr(t,"unauthorized-domain")}function u5(t){const e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a5.test(n))return!1;if(o5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new wc(3e4,6e4);function t1(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d5(t){return new Promise((e,n)=>{var r,i,s;function o(){t1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t1(),n(fi(t,"network-request-failed"))},timeout:c5.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hi().gapi)===null||s===void 0)&&s.load)o();else{const a=p6("iframefcb");return hi()[a]=()=>{gapi.load?o():n(fi(t,"network-request-failed"))},xk(`${h6()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function f5(t){return Hd=Hd||d5(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new wc(5e3,15e3),p5="__/auth/iframe",m5="emulator/auth/iframe",g5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v5(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z0(e,m5):`https://${t.config.authDomain}/${p5}`,r={apiKey:e.apiKey,appName:t.name,v:jo},i=y5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uc(r).slice(1)}`}async function x5(t){const e=await f5(t),n=hi().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:v5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fi(t,"network-request-failed"),a=hi().setTimeout(()=>{s(o)},h5.get());function u(){hi().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b5=500,w5=600,S5="_blank",E5="http://localhost";class n1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T5(t,e,n,r=b5,i=w5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zn().toLowerCase();n&&(a=fk(c)?S5:n),ck(c)&&(e=e||E5,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[S,E])=>`${m}${S}=${E},`,"");if(i6(c)&&a!=="_self")return C5(e||"",a),new n1(null);const h=window.open(e||"",a,f);Fe(h,t,"popup-blocked");try{h.focus()}catch{}return new n1(h)}function C5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="__/auth/handler",k5="emulator/auth/handler",R5=encodeURIComponent("fac");async function r1(t,e,n,r,i,s){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jo,eventId:i};if(e instanceof Sk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$N(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Ec){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${R5}=${encodeURIComponent(u)}`:"";return`${P5(t)}?${uc(a).slice(1)}${c}`}function P5({config:t}){return t.emulator?Z0(t,k5):`https://${t.authDomain}/${I5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class A5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nx,this._completeRedirectFn=t5,this._overrideRedirectResult=J6}async _openPopup(e,n,r,i){var s;Qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r1(e,n,r,Fy(),i);return T5(e,o,rx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r1(e,n,r,Fy(),i);return L6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x5(e),r=new r5(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Km];o!==void 0&&n(!!o),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yk()||dk()||tx()}}const Uk=A5;var i1="@firebase/auth",s1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N5(t){go(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vk(t)},c=new c6(r,i,s,u);return v6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new Rs("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(r=>new j5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(i1,s1,O5(t)),ui(i1,s1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=5*60,M5=wC("authIdTokenMaxAge")||L5;let o1=null;const D5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M5)return;const i=n==null?void 0:n.token;o1!==i&&(o1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fn(t=h0()){const e=$h(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_k(t,{popupRedirectResolver:Uk,persistence:[Vk,Nk,nx]}),r=wC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=D5(s.toString());Pk(n,o,()=>o(n.currentUser)),Rk(n,a=>o(a))}}const i=xC("auth");return i&&bk(n,`http://${i}`),n}function $5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N5("Browser");const Wk=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:sp,AuthCredential:ip,EmailAuthCredential:Ka,EmailAuthProvider:Mo,FacebookAuthProvider:Ii,GithubAuthProvider:Ri,GoogleAuthProvider:ki,OAuthCredential:Os,TwitterAuthProvider:Pi,beforeAuthStateChanged:Pk,browserLocalPersistence:Nk,browserPopupRedirectResolver:Uk,browserSessionPersistence:nx,connectAuthEmulator:bk,createUserWithEmailAndPassword:Zl,getAuth:Fn,getIdTokenResult:ok,inMemoryPersistence:zy,indexedDBLocalPersistence:Vk,initializeAuth:_k,onAuthStateChanged:jr,onIdTokenChanged:Rk,prodErrorMap:ZI,reload:ak,signInWithCredential:Ck,signInWithEmailAndPassword:kk,signOut:Ak},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebasestorage.googleapis.com",F5="storageBucket",V5=2*60*1e3,z5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends xi{constructor(e,n,r=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function Gm(t){return"storage/"+t}function B5(){const t="An unknown error occurred, please check the error payload for server response.";return new _i(vi.UNKNOWN,t)}function U5(){return new _i(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W5(){return new _i(vi.CANCELED,"User canceled the upload/download.")}function H5(t){return new _i(vi.INVALID_URL,"Invalid URL '"+t+"'.")}function q5(t){return new _i(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a1(t){return new _i(vi.INVALID_ARGUMENT,t)}function qk(){return new _i(vi.APP_DELETED,"The Firebase app was deleted.")}function K5(t){return new _i(vi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wr.makeFromUrl(e,n)}catch{return new Wr(e,"")}if(r.path==="")return r;throw q5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",S=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},b=n===Hk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${b}/${i}/${I}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:S,indices:E,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<_.length;R++){const L=_[R],N=L.regex.exec(e);if(N){const g=N[L.indices.bucket];let p=N[L.indices.path];p||(p=""),r=new Wr(g,p),L.postModify(r);break}}if(r==null)throw H5(e);return r}}class G5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function f(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(S,u())},I)}function m(){s&&clearTimeout(s)}function S(I,...T){if(c){m();return}if(I){m(),f.call(null,I,...T);return}if(u()||o){m(),f.call(null,I,...T);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let E=!1;function b(I){E||(E=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function Y5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return t!==void 0}function l1(t,e,n,r){if(r<e)throw a1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw a1(`Invalid value for '${t}'. Expected ${n} or less.`)}function J5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i,s,o,a,u,c,f,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Kf.NO_ERROR,u=s.getStatus();if(!a||Z5(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Kf.ABORT;r(!1,new yd(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new yd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());X5(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=B5();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?qk():W5();o(u)}else{const u=U5();o(u)}};this.canceled_?n(!1,new yd(!1,null,!0)):this.backoffId_=Q5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function i4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function s4(t,e,n,r,i,s,o=!0){const a=J5(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return r4(c,e),t4(c,n),n4(c,s),i4(c,r),new e4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function a4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this._service=e,n instanceof Wr?this._location=n:this._location=Wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gf(e,n)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a4(this._location.path)}get storage(){return this._service}get parent(){const e=o4(this._location.path);if(e===null)return null;const n=new Wr(this._location.bucket,e);return new Gf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K5(e)}}function u1(t,e){const n=e==null?void 0:e[F5];return n==null?null:Wr.makeFromBucketSpec(n,t)}function l4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SC(i,t.app.options.projectId))}class u4{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Hk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V5,this._maxUploadRetryTime=z5,this._requests=new Set,i!=null?this._bucket=Wr.makeFromBucketSpec(i,this._host):this._bucket=u1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=u1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new G5(qk());{const o=s4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const c1="@firebase/storage",d1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="storage";function c4(t=h0(),e){t=cn(t);const r=$h(t,Kk).getImmediate({identifier:e}),i=_C("storage");return i&&d4(r,...i),r}function d4(t,e,n,r={}){l4(t,e,n,r)}function f4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new u4(n,r,i,e,jo)}function h4(){go(new Rs(Kk,f4,"PUBLIC").setMultipleInstances(!0)),ui(c1,d1,""),ui(c1,d1,"esm2017")}h4();const p4={apiKey:"AIzaSyA2u0hxxVQufvInffw5PXhImFsmBRJ2YQQ",authDomain:"medcins.firebaseapp.com",projectId:"medcins",storageBucket:"medcins.firebasestorage.app",messagingSenderId:"474421452339",appId:"1:474421452339:web:22e693522ab3410bea0d46",measurementId:"G-V63YY2N057"},lp=CC(p4),ee=$I(lp),Ys=Fn(lp);c4(lp);const m4=Object.freeze(Object.defineProperty({__proto__:null,app:lp,auth:Ys,db:ee},Symbol.toStringTag,{value:"Module"}));function g4(t,e,n,r){const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function y4(){const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(""),o=$s();w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(c=>r({lat:c.coords.latitude,lng:c.coords.longitude}),()=>r(null))},[]),w.useEffect(()=>{async function c(){const h=(await an(Ae(ee,"users"))).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.role==="medicine-manager");e(h)}c()},[]);const u=t.map(c=>{let f=1/0;return n&&c.location&&c.location.latitude&&c.location.longitude&&(f=g4(n.lat,n.lng,c.location.latitude,c.location.longitude)),{...c,distance:f}}).sort((c,f)=>c.distance-f.distance).filter(c=>{var f;return(f=c.businessName)==null?void 0:f.toLowerCase().includes(i.toLowerCase())});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Registered Medicine Retailers"}),l.jsx("p",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:"10px"},children:t.length>0?`${t.length} businesses found`:"No businesses loaded yet."}),l.jsx("input",{type:"text",placeholder:"Search by business name...",value:i,onChange:c=>s(c.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"20px"}}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"24px"},children:u.map(c=>l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"18px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.08)",cursor:c.slug?"pointer":"not-allowed",opacity:c.slug?1:.6,transition:"box-shadow 0.2s"},onClick:()=>c.slug&&o(`/store/${c.slug}`),children:[l.jsx("h3",{style:{marginBottom:"8px",color:"#7c3aed"},children:c.businessName||l.jsx("span",{style:{color:"#e53935"},children:"No name"})}),l.jsx("p",{style:{marginBottom:"6px",color:"#555"},children:c.address||l.jsx("span",{style:{color:"#888"},children:"No address provided"})}),c.distance!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500"},children:c.distance<1?"📍 Very close":`~${c.distance.toFixed(1)} km away`}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#888"},children:["Role: ",c.role||l.jsx("span",{style:{color:"#e53935"},children:"No role"})]}),!c.slug&&l.jsx("p",{style:{color:"#e53935",fontSize:"0.9em",marginTop:"8px"},children:"No store link available"})]},c.id))}),u.length===0&&l.jsxs("p",{style:{color:"gray",marginTop:"30px"},children:["No businesses match your search.",l.jsx("br",{}),t.length===0&&l.jsx("span",{children:"Check if any businesses are registered in Firestore."})]})]})}function Eo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const v4=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(null,arguments)}function x4(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _4(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var b4=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_4(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=x4(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ln="-ms-",Qf="-moz-",ct="-webkit-",Gk="comm",sx="rule",ox="decl",w4="@import",Qk="@keyframes",S4="@layer",E4=Math.abs,up=String.fromCharCode,T4=Object.assign;function C4(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function Yk(t){return t.trim()}function I4(t,e){return(t=e.exec(t))?t[0]:t}function dt(t,e,n){return t.replace(e,n)}function Wy(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function qu(t,e,n){return t.slice(e,n)}function ri(t){return t.length}function ax(t){return t.length}function vd(t,e){return e.push(t),t}function k4(t,e){return t.map(e).join("")}var cp=1,Ga=1,Xk=0,sr=0,nn=0,cl="";function dp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:cp,column:Ga,length:o,return:""}}function Ll(t,e){return T4(dp("",null,null,"",null,null,0),t,{length:-t.length},e)}function R4(){return nn}function P4(){return nn=sr>0?Tn(cl,--sr):0,Ga--,nn===10&&(Ga=1,cp--),nn}function fr(){return nn=sr<Xk?Tn(cl,sr++):0,Ga++,nn===10&&(Ga=1,cp++),nn}function pi(){return Tn(cl,sr)}function qd(){return sr}function Cc(t,e){return qu(cl,t,e)}function Ku(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jk(t){return cp=Ga=1,Xk=ri(cl=t),sr=0,[]}function Zk(t){return cl="",t}function Kd(t){return Yk(Cc(sr-1,Hy(t===91?t+2:t===40?t+1:t)))}function A4(t){for(;(nn=pi())&&nn<33;)fr();return Ku(t)>2||Ku(nn)>3?"":" "}function j4(t,e){for(;--e&&fr()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return Cc(t,qd()+(e<6&&pi()==32&&fr()==32))}function Hy(t){for(;fr();)switch(nn){case t:return sr;case 34:case 39:t!==34&&t!==39&&Hy(nn);break;case 40:t===41&&Hy(t);break;case 92:fr();break}return sr}function O4(t,e){for(;fr()&&t+nn!==57;)if(t+nn===84&&pi()===47)break;return"/*"+Cc(e,sr-1)+"*"+up(t===47?t:fr())}function N4(t){for(;!Ku(pi());)fr();return Cc(t,sr)}function L4(t){return Zk(Gd("",null,null,null,[""],t=Jk(t),0,[0],t))}function Gd(t,e,n,r,i,s,o,a,u){for(var c=0,f=0,h=o,m=0,S=0,E=0,b=1,I=1,T=1,v=0,_="",R=i,L=s,N=r,g=_;I;)switch(E=v,v=fr()){case 40:if(E!=108&&Tn(g,h-1)==58){Wy(g+=dt(Kd(v),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:g+=Kd(v);break;case 9:case 10:case 13:case 32:g+=A4(E);break;case 92:g+=j4(qd()-1,7);continue;case 47:switch(pi()){case 42:case 47:vd(M4(O4(fr(),qd()),e,n),u);break;default:g+="/"}break;case 123*b:a[c++]=ri(g)*T;case 125*b:case 59:case 0:switch(v){case 0:case 125:I=0;case 59+f:T==-1&&(g=dt(g,/\f/g,"")),S>0&&ri(g)-h&&vd(S>32?h1(g+";",r,n,h-1):h1(dt(g," ","")+";",r,n,h-2),u);break;case 59:g+=";";default:if(vd(N=f1(g,e,n,c,f,i,a,_,R=[],L=[],h),s),v===123)if(f===0)Gd(g,e,N,N,R,s,h,a,L);else switch(m===99&&Tn(g,3)===110?100:m){case 100:case 108:case 109:case 115:Gd(t,N,N,r&&vd(f1(t,N,N,0,0,i,a,_,i,R=[],h),L),i,L,h,a,r?R:L);break;default:Gd(g,N,N,N,[""],L,0,a,L)}}c=f=S=0,b=T=1,_=g="",h=o;break;case 58:h=1+ri(g),S=E;default:if(b<1){if(v==123)--b;else if(v==125&&b++==0&&P4()==125)continue}switch(g+=up(v),v*b){case 38:T=f>0?1:(g+="\f",-1);break;case 44:a[c++]=(ri(g)-1)*T,T=1;break;case 64:pi()===45&&(g+=Kd(fr())),m=pi(),f=h=ri(_=g+=N4(qd())),v++;break;case 45:E===45&&ri(g)==2&&(b=0)}}return s}function f1(t,e,n,r,i,s,o,a,u,c,f){for(var h=i-1,m=i===0?s:[""],S=ax(m),E=0,b=0,I=0;E<r;++E)for(var T=0,v=qu(t,h+1,h=E4(b=o[E])),_=t;T<S;++T)(_=Yk(b>0?m[T]+" "+v:dt(v,/&\f/g,m[T])))&&(u[I++]=_);return dp(t,e,n,i===0?sx:a,u,c,f)}function M4(t,e,n){return dp(t,e,n,Gk,up(R4()),qu(t,2,-2),0)}function h1(t,e,n,r){return dp(t,e,n,ox,qu(t,0,r),qu(t,r+1,-1),r)}function Ia(t,e){for(var n="",r=ax(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function D4(t,e,n,r){switch(t.type){case S4:if(t.children.length)break;case w4:case ox:return t.return=t.return||t.value;case Gk:return"";case Qk:return t.return=t.value+"{"+Ia(t.children,r)+"}";case sx:t.value=t.props.join(",")}return ri(n=Ia(t.children,r))?t.return=t.value+"{"+n+"}":""}function $4(t){var e=ax(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function F4(t){return function(e){e.root||(e=e.return)&&t(e)}}function eR(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var V4=function(e,n,r){for(var i=0,s=0;i=s,s=pi(),i===38&&s===12&&(n[r]=1),!Ku(s);)fr();return Cc(e,sr)},z4=function(e,n){var r=-1,i=44;do switch(Ku(i)){case 0:i===38&&pi()===12&&(n[r]=1),e[r]+=V4(sr-1,n,r);break;case 2:e[r]+=Kd(i);break;case 4:if(i===44){e[++r]=pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=up(i)}while(i=fr());return e},B4=function(e,n){return Zk(z4(Jk(e),n))},p1=new WeakMap,U4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!p1.get(r))&&!i){p1.set(e,!0);for(var s=[],o=B4(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[f]):a[f]+" "+o[u]}}},W4=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function tR(t,e){switch(C4(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+Qf+t+Ln+t+t;case 6828:case 4268:return ct+t+Ln+t+t;case 6165:return ct+t+Ln+"flex-"+t+t;case 5187:return ct+t+dt(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Ln+"flex-$1$2")+t;case 5443:return ct+t+Ln+"flex-item-"+dt(t,/flex-|-self/,"")+t;case 4675:return ct+t+Ln+"flex-line-pack"+dt(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Ln+dt(t,"shrink","negative")+t;case 5292:return ct+t+Ln+dt(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+dt(t,"-grow","")+ct+t+Ln+dt(t,"grow","positive")+t;case 4554:return ct+dt(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return dt(dt(dt(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return dt(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return dt(dt(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return dt(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ri(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return dt(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+Qf+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wy(t,"stretch")?tR(dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,ri(t)-3-(~Wy(t,"!important")&&10))){case 107:return dt(t,":",":"+ct)+t;case 101:return dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Tn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Ln+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return ct+t+Ln+dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Ln+dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Ln+dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Ln+t+t}return t}var H4=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ox:e.return=tR(e.value,e.length);break;case Qk:return Ia([Ll(e,{value:dt(e.value,"@","@"+ct)})],i);case sx:if(e.length)return k4(e.props,function(s){switch(I4(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ia([Ll(e,{props:[dt(s,/:(read-\w+)/,":"+Qf+"$1")]})],i);case"::placeholder":return Ia([Ll(e,{props:[dt(s,/:(plac\w+)/,":"+ct+"input-$1")]}),Ll(e,{props:[dt(s,/:(plac\w+)/,":"+Qf+"$1")]}),Ll(e,{props:[dt(s,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},q4=[H4],nR=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var I=b.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||q4,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var I=b.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)s[I[T]]=!0;a.push(b)});var u,c=[U4,W4];{var f,h=[D4,F4(function(b){f.insert(b)})],m=$4(c.concat(i,h)),S=function(I){return Ia(L4(I),m)};u=function(I,T,v,_){f=v,S(I?I+"{"+T.styles+"}":T.styles),_&&(E.inserted[T.name]=!0)}}var E={key:n,sheet:new b4({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return E.sheet.hydrate(a),E},rR={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,lx=_n?Symbol.for("react.element"):60103,ux=_n?Symbol.for("react.portal"):60106,fp=_n?Symbol.for("react.fragment"):60107,hp=_n?Symbol.for("react.strict_mode"):60108,pp=_n?Symbol.for("react.profiler"):60114,mp=_n?Symbol.for("react.provider"):60109,gp=_n?Symbol.for("react.context"):60110,cx=_n?Symbol.for("react.async_mode"):60111,yp=_n?Symbol.for("react.concurrent_mode"):60111,vp=_n?Symbol.for("react.forward_ref"):60112,xp=_n?Symbol.for("react.suspense"):60113,K4=_n?Symbol.for("react.suspense_list"):60120,_p=_n?Symbol.for("react.memo"):60115,bp=_n?Symbol.for("react.lazy"):60116,G4=_n?Symbol.for("react.block"):60121,Q4=_n?Symbol.for("react.fundamental"):60117,Y4=_n?Symbol.for("react.responder"):60118,X4=_n?Symbol.for("react.scope"):60119;function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lx:switch(t=t.type,t){case cx:case yp:case fp:case pp:case hp:case xp:return t;default:switch(t=t&&t.$$typeof,t){case gp:case vp:case bp:case _p:case mp:return t;default:return e}}case ux:return e}}}function iR(t){return vr(t)===yp}_t.AsyncMode=cx;_t.ConcurrentMode=yp;_t.ContextConsumer=gp;_t.ContextProvider=mp;_t.Element=lx;_t.ForwardRef=vp;_t.Fragment=fp;_t.Lazy=bp;_t.Memo=_p;_t.Portal=ux;_t.Profiler=pp;_t.StrictMode=hp;_t.Suspense=xp;_t.isAsyncMode=function(t){return iR(t)||vr(t)===cx};_t.isConcurrentMode=iR;_t.isContextConsumer=function(t){return vr(t)===gp};_t.isContextProvider=function(t){return vr(t)===mp};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lx};_t.isForwardRef=function(t){return vr(t)===vp};_t.isFragment=function(t){return vr(t)===fp};_t.isLazy=function(t){return vr(t)===bp};_t.isMemo=function(t){return vr(t)===_p};_t.isPortal=function(t){return vr(t)===ux};_t.isProfiler=function(t){return vr(t)===pp};_t.isStrictMode=function(t){return vr(t)===hp};_t.isSuspense=function(t){return vr(t)===xp};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fp||t===yp||t===pp||t===hp||t===xp||t===K4||typeof t=="object"&&t!==null&&(t.$$typeof===bp||t.$$typeof===_p||t.$$typeof===mp||t.$$typeof===gp||t.$$typeof===vp||t.$$typeof===Q4||t.$$typeof===Y4||t.$$typeof===X4||t.$$typeof===G4)};_t.typeOf=vr;rR.exports=_t;var J4=rR.exports,sR=J4,Z4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oR={};oR[sR.ForwardRef]=Z4;oR[sR.Memo]=e$;var t$=!0;function aR(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var dx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||t$===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fx=function(e,n,r){dx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function n$(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i$=/[A-Z]|^ms/g,s$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lR=function(e){return e.charCodeAt(1)===45},m1=function(e){return e!=null&&typeof e!="boolean"},Qm=eR(function(t){return lR(t)?t:t.replace(i$,"-$&").toLowerCase()}),g1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(s$,function(r,i,s){return ii={name:i,styles:s,next:ii},i})}return r$[e]!==1&&!lR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Gu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ii={name:i.name,styles:i.styles,next:ii},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ii={name:o.name,styles:o.styles,next:ii},o=o.next;var a=s.styles+";";return a}return o$(t,e,n)}case"function":{if(t!==void 0){var u=ii,c=n(t);return ii=u,Gu(t,e,c)}break}}var f=n;if(e==null)return f;var h=e[f];return h!==void 0?h:f}function o$(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Gu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":m1(a)&&(r+=Qm(s)+":"+g1(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)m1(o[u])&&(r+=Qm(s)+":"+g1(s,o[u])+";");else{var c=Gu(t,e,o);switch(s){case"animation":case"animationName":{r+=Qm(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var y1=/label:\s*([^\s;{]+)\s*(;|$)/g,ii;function Ic(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ii=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Gu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Gu(n,e,t[a]),r){var u=s;i+=u[a]}y1.lastIndex=0;for(var c="",f;(f=y1.exec(i))!==null;)c+="-"+f[1];var h=n$(i)+c;return{name:h,styles:i,next:ii}}var a$=function(e){return e()},uR=nf.useInsertionEffect?nf.useInsertionEffect:!1,cR=uR||a$,v1=uR||w.useLayoutEffect,dR=w.createContext(typeof HTMLElement<"u"?nR({key:"css"}):null),l$=dR.Provider,hx=function(e){return w.forwardRef(function(n,r){var i=w.useContext(dR);return e(n,i,r)})},dl=w.createContext({}),px={}.hasOwnProperty,qy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",u$=function(e,n){var r={};for(var i in n)px.call(n,i)&&(r[i]=n[i]);return r[qy]=e,r},c$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return dx(n,r,i),cR(function(){return fx(n,r,i)}),null},d$=hx(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[qy],s=[r],o="";typeof t.className=="string"?o=aR(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Ic(s,void 0,w.useContext(dl));o+=e.key+"-"+a.name;var u={};for(var c in t)px.call(t,c)&&c!=="css"&&c!==qy&&(u[c]=t[c]);return u.className=o,n&&(u.ref=n),w.createElement(w.Fragment,null,w.createElement(c$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,u))}),f$=d$,Ym={exports:{}},x1;function fR(){return x1||(x1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ym)),Ym.exports}fR();var _1=function(e,n){var r=arguments;if(n==null||!px.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=f$,s[1]=u$(e,n);for(var o=2;o<i;o++)s[o]=r[o];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_1||(_1={}));var h$=hx(function(t,e){var n=t.styles,r=Ic([n],void 0,w.useContext(dl)),i=w.useRef();return v1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[e]),v1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&fx(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function hR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ic(e)}function wp(){var t=hR.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var p$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,m$=eR(function(t){return p$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),g$=m$,y$=function(e){return e!=="theme"},b1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?g$:y$},w1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},v$=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return dx(n,r,i),cR(function(){return fx(n,r,i)}),null},x$=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=w1(e,n,r),u=a||b1(i),c=!u("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{var m=f[0];h.push(m[0]);for(var S=f.length,E=1;E<S;E++)h.push(f[E],m[E])}var b=hx(function(I,T,v){var _=c&&I.as||i,R="",L=[],N=I;if(I.theme==null){N={};for(var g in I)N[g]=I[g];N.theme=w.useContext(dl)}typeof I.className=="string"?R=aR(T.registered,L,I.className):I.className!=null&&(R=I.className+" ");var p=Ic(h.concat(L),T.registered,N);R+=T.key+"-"+p.name,o!==void 0&&(R+=" "+o);var y=c&&a===void 0?b1(_):u,C={};for(var j in I)c&&j==="as"||y(j)&&(C[j]=I[j]);return C.className=R,v&&(C.ref=v),w.createElement(w.Fragment,null,w.createElement(v$,{cache:T,serialized:p,isStringTag:typeof _=="string"}),w.createElement(_,C))});return b.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=h,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(I,T){var v=t(I,V({},n,T,{shouldForwardProp:w1(b,T,!0)}));return v.apply(void 0,h)},b}},_$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ky=x$.bind(null);_$.forEach(function(t){Ky[t]=Ky(t)});function b$(t,e){const n=nR({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Xm=new Map;function w$(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=w.useMemo(()=>{const s=`${e}-${n}`;if(typeof document=="object"&&Xm.has(s))return Xm.get(s);const o=b$(e,n);return Xm.set(s,o),o},[e,n]);return e||n?l.jsx(l$,{value:i,children:r}):r}function S$(t){return t==null||Object.keys(t).length===0}function pR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(S$(i)?n:i):e;return l.jsx(h$,{styles:r})}function mx(t,e){return Ky(t,e)}const mR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},S1=[];function Yf(t){return S1[0]=t,Ic(S1)}const E$=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:pR,StyledEngineProvider:w$,ThemeContext:dl,css:hR,default:mx,internal_processStyles:mR,internal_serializeStyles:Yf,keyframes:wp},Symbol.toStringTag,{value:"Module"}));function Ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ai(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gR(t){if(w.isValidElement(t)||!Ai(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gR(t[n])}),e}function hr(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return Ai(t)&&Ai(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])?r[i]=e[i]:Ai(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ai(t[i])?r[i]=hr(t[i],e[i],n):n.clone?r[i]=Ai(e[i])?gR(e[i]):e[i]:r[i]=e[i]}),r}const T$=Object.freeze(Object.defineProperty({__proto__:null,default:hr,isPlainObject:Ai},Symbol.toStringTag,{value:"Module"})),C$=["values","unit","step"],I$=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function yR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ce(t,C$),s=I$(e),o=Object.keys(s);function a(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-r/100}${n})`}function c(m,S){const E=o.indexOf(S);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${n}) and (max-width:${(E!==-1&&typeof e[o[E]]=="number"?e[o[E]]:S)-r/100}${n})`}function f(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):a(m)}function h(m){const S=o.indexOf(m);return S===0?a(o[1]):S===o.length-1?u(o[S]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:u,between:c,only:f,not:h,unit:n},i)}const k$={borderRadius:4};function gu(t,e){return e?hr(t,e,{clone:!1}):t}const gx={xs:0,sm:600,md:900,lg:1200,xl:1536},E1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${gx[t]}px)`};function Or(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||E1;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||E1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||gx).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function R$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function T1(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function P$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Sp({values:t,breakpoints:e,base:n}){const r=n||P$(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,u)=>(Array.isArray(t)?(o[a]=t[u]!=null?t[u]:t[s],s=u):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ke(t){if(typeof t!="string")throw new Error(Eo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const A$=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));function Qa(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Xf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Qa(t,n)||r,e&&(i=e(i,r,t)),i}function Yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Qa(u,r)||{};return Or(o,a,h=>{let m=Xf(c,i,h);return h===m&&typeof h=="string"&&(m=Xf(c,i,`${e}${h==="default"?"":Ke(h)}`,h)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[e],s}function j$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const O$={m:"margin",p:"padding"},N$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},C1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L$=j$(t=>{if(t.length>2)if(C1[t])t=C1[t];else return[t];const[e,n]=t.split(""),r=O$[e],i=N$[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),yx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],vx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...yx,...vx];function kc(t,e,n,r){var i;const s=(i=Qa(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function vR(t){return kc(t,"spacing",8)}function Rc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function M$(t,e){return n=>t.reduce((r,i)=>(r[i]=Rc(e,n),r),{})}function D$(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=L$(n),s=M$(i,r),o=t[n];return Or(t,o,s)}function xR(t,e){const n=vR(t.theme);return Object.keys(t).map(r=>D$(t,e,r,n)).reduce(gu,{})}function Ut(t){return xR(t,yx)}Ut.propTypes={};Ut.filterProps=yx;function Wt(t){return xR(t,vx)}Wt.propTypes={};Wt.filterProps=vx;function $$(t=8){if(t.mui)return t;const e=vR({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Ep(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?gu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Er(t){return typeof t!="number"?t:`${t}px solid`}function Lr(t,e){return Yt({prop:t,themeKey:"borders",transform:e})}const F$=Lr("border",Er),V$=Lr("borderTop",Er),z$=Lr("borderRight",Er),B$=Lr("borderBottom",Er),U$=Lr("borderLeft",Er),W$=Lr("borderColor"),H$=Lr("borderTopColor"),q$=Lr("borderRightColor"),K$=Lr("borderBottomColor"),G$=Lr("borderLeftColor"),Q$=Lr("outline",Er),Y$=Lr("outlineColor"),Tp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=kc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Rc(e,r)});return Or(t,t.borderRadius,n)}return null};Tp.propTypes={};Tp.filterProps=["borderRadius"];Ep(F$,V$,z$,B$,U$,W$,H$,q$,K$,G$,Tp,Q$,Y$);const Cp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=kc(t.theme,"spacing",8),n=r=>({gap:Rc(e,r)});return Or(t,t.gap,n)}return null};Cp.propTypes={};Cp.filterProps=["gap"];const Ip=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=kc(t.theme,"spacing",8),n=r=>({columnGap:Rc(e,r)});return Or(t,t.columnGap,n)}return null};Ip.propTypes={};Ip.filterProps=["columnGap"];const kp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=kc(t.theme,"spacing",8),n=r=>({rowGap:Rc(e,r)});return Or(t,t.rowGap,n)}return null};kp.propTypes={};kp.filterProps=["rowGap"];const X$=Yt({prop:"gridColumn"}),J$=Yt({prop:"gridRow"}),Z$=Yt({prop:"gridAutoFlow"}),eF=Yt({prop:"gridAutoColumns"}),tF=Yt({prop:"gridAutoRows"}),nF=Yt({prop:"gridTemplateColumns"}),rF=Yt({prop:"gridTemplateRows"}),iF=Yt({prop:"gridTemplateAreas"}),sF=Yt({prop:"gridArea"});Ep(Cp,Ip,kp,X$,J$,Z$,eF,tF,nF,rF,iF,sF);function ka(t,e){return e==="grey"?e:t}const oF=Yt({prop:"color",themeKey:"palette",transform:ka}),aF=Yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ka}),lF=Yt({prop:"backgroundColor",themeKey:"palette",transform:ka});Ep(oF,aF,lF);function lr(t){return t<=1&&t!==0?`${t*100}%`:t}const uF=Yt({prop:"width",transform:lr}),xx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||gx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:lr(n)}};return Or(t,t.maxWidth,e)}return null};xx.filterProps=["maxWidth"];const cF=Yt({prop:"minWidth",transform:lr}),dF=Yt({prop:"height",transform:lr}),fF=Yt({prop:"maxHeight",transform:lr}),hF=Yt({prop:"minHeight",transform:lr});Yt({prop:"size",cssProperty:"width",transform:lr});Yt({prop:"size",cssProperty:"height",transform:lr});const pF=Yt({prop:"boxSizing"});Ep(uF,xx,cF,dF,fF,hF,pF);const Pc={border:{themeKey:"borders",transform:Er},borderTop:{themeKey:"borders",transform:Er},borderRight:{themeKey:"borders",transform:Er},borderBottom:{themeKey:"borders",transform:Er},borderLeft:{themeKey:"borders",transform:Er},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Er},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Tp},color:{themeKey:"palette",transform:ka},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ka},backgroundColor:{themeKey:"palette",transform:ka},p:{style:Wt},pt:{style:Wt},pr:{style:Wt},pb:{style:Wt},pl:{style:Wt},px:{style:Wt},py:{style:Wt},padding:{style:Wt},paddingTop:{style:Wt},paddingRight:{style:Wt},paddingBottom:{style:Wt},paddingLeft:{style:Wt},paddingX:{style:Wt},paddingY:{style:Wt},paddingInline:{style:Wt},paddingInlineStart:{style:Wt},paddingInlineEnd:{style:Wt},paddingBlock:{style:Wt},paddingBlockStart:{style:Wt},paddingBlockEnd:{style:Wt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Cp},rowGap:{style:kp},columnGap:{style:Ip},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:lr},maxWidth:{style:xx},minWidth:{transform:lr},height:{transform:lr},maxHeight:{transform:lr},minHeight:{transform:lr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mF(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function gF(t,e){return typeof t=="function"?t(e):t}function _R(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Qa(i,c)||{};return h?h(o):Or(o,r,E=>{let b=Xf(m,f,E);return E===b&&typeof E=="string"&&(b=Xf(m,f,`${n}${E==="default"?"":Ke(E)}`,E)),u===!1?b:{[u]:b}})}function e(n){var r;const{sx:i,theme:s={},nested:o}=n||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:Pc;function u(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=R$(s.breakpoints),m=Object.keys(h);let S=h;return Object.keys(f).forEach(E=>{const b=gF(f[E],s);if(b!=null)if(typeof b=="object")if(a[E])S=gu(S,t(E,b,s,a));else{const I=Or({theme:s},b,T=>({[E]:T}));mF(I,b)?S[E]=e({sx:b,theme:s,nested:!0}):S=gu(S,I)}else S=gu(S,t(E,b,s,a))}),!o&&s.modularCssLayers?{"@layer sx":T1(m,S)}:T1(m,S)}return Array.isArray(i)?i.map(u):u(i)}return e}const fl=_R();fl.filterProps=["sx"];function bR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const yF=["breakpoints","palette","spacing","shape"];function Ac(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Ce(t,yF),a=yR(n),u=$$(i);let c=hr({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:u,shape:V({},k$,s)},o);return c.applyStyles=bR,c=e.reduce((f,h)=>hr(f,h),c),c.unstable_sxConfig=V({},Pc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return fl({sx:h,theme:this})},c}const vF=Object.freeze(Object.defineProperty({__proto__:null,default:Ac,private_createBreakpoints:yR,unstable_applyStyles:bR},Symbol.toStringTag,{value:"Module"}));function xF(t){return Object.keys(t).length===0}function _x(t=null){const e=w.useContext(dl);return!e||xF(e)?t:e}const _F=Ac();function Rp(t=_F){return _x(t)}function Jm(t){const e=Yf(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function wR({styles:t,themeId:e,defaultTheme:n={}}){const r=Rp(n),i=e&&r[e]||r;let s=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>Jm(typeof o=="function"?o(i):o)):s=Jm(s)),l.jsx(pR,{styles:s})}const bF=["sx"],wF=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Pc;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Pp(t){const{sx:e}=t,n=Ce(t,bF),{systemProps:r,otherProps:i}=wF(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ai(a)?V({},r,a):r}:s=V({},r,e),V({},i,{sx:s})}const SF=Object.freeze(Object.defineProperty({__proto__:null,default:fl,extendSxProp:Pp,unstable_createStyleFunctionSx:_R,unstable_defaultSxConfig:Pc},Symbol.toStringTag,{value:"Module"})),I1=t=>t,EF=()=>{let t=I1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=I1}}},SR=EF(),TF=["className","component"];function CF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=mx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(fl);return w.forwardRef(function(u,c){const f=Rp(n),h=Pp(u),{className:m,component:S="div"}=h,E=Ce(h,TF);return l.jsx(s,V({as:S,ref:c,className:Ne(m,i?i(r):r),theme:e&&f[e]||f},E))})}const IF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pt(t,e,n="Mui"){const r=IF[e];return r?`${n}-${r}`:`${SR.generate(t)}-${e}`}function ut(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=pt(t,i,n)}),r}var ER={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=Symbol.for("react.transitional.element"),wx=Symbol.for("react.portal"),Ap=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),Np=Symbol.for("react.consumer"),Lp=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Vp=Symbol.for("react.lazy"),kF=Symbol.for("react.view_transition"),RF=Symbol.for("react.client.reference");function Mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bx:switch(t=t.type,t){case Ap:case Op:case jp:case Dp:case $p:case kF:return t;default:switch(t=t&&t.$$typeof,t){case Lp:case Mp:case Vp:case Fp:return t;case Np:return t;default:return e}}case wx:return e}}}St.ContextConsumer=Np;St.ContextProvider=Lp;St.Element=bx;St.ForwardRef=Mp;St.Fragment=Ap;St.Lazy=Vp;St.Memo=Fp;St.Portal=wx;St.Profiler=Op;St.StrictMode=jp;St.Suspense=Dp;St.SuspenseList=$p;St.isContextConsumer=function(t){return Mr(t)===Np};St.isContextProvider=function(t){return Mr(t)===Lp};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bx};St.isForwardRef=function(t){return Mr(t)===Mp};St.isFragment=function(t){return Mr(t)===Ap};St.isLazy=function(t){return Mr(t)===Vp};St.isMemo=function(t){return Mr(t)===Fp};St.isPortal=function(t){return Mr(t)===wx};St.isProfiler=function(t){return Mr(t)===Op};St.isStrictMode=function(t){return Mr(t)===jp};St.isSuspense=function(t){return Mr(t)===Dp};St.isSuspenseList=function(t){return Mr(t)===$p};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ap||t===Op||t===jp||t===Dp||t===$p||typeof t=="object"&&t!==null&&(t.$$typeof===Vp||t.$$typeof===Fp||t.$$typeof===Lp||t.$$typeof===Np||t.$$typeof===Mp||t.$$typeof===RF||t.getModuleId!==void 0)};St.typeOf=Mr;ER.exports=St;var k1=ER.exports;const PF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function TR(t){const e=`${t}`.match(PF);return e&&e[1]||""}function CR(t,e=""){return t.displayName||t.name||TR(t)||e}function R1(t,e,n){const r=CR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function AF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return CR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case k1.ForwardRef:return R1(t,t.render,"ForwardRef");case k1.Memo:return R1(t,t.type,"memo");default:return}}}const jF=Object.freeze(Object.defineProperty({__proto__:null,default:AF,getFunctionName:TR},Symbol.toStringTag,{value:"Module"})),OF=["ownerState"],NF=["variants"],LF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function MF(t){return Object.keys(t).length===0}function DF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Zm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function P1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const $F=Ac(),FF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function xd({defaultTheme:t,theme:e,themeId:n}){return MF(e)?t:e[n]||e}function VF(t){return t?(e,n)=>n[t]:null}function Qd(t,e,n){let{ownerState:r}=e,i=Ce(e,OF);const s=typeof t=="function"?t(V({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Qd(o,V({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=Ce(s,NF);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props(V({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style(V({ownerState:r},i,r)):c.style;u.push(n?P1(Yf(h),n):h)}}),u}return n?P1(Yf(s),n):s}function zF(t={}){const{themeId:e,defaultTheme:n=$F,rootShouldForwardProp:r=Zm,slotShouldForwardProp:i=Zm}=t,s=o=>fl(V({},o,{theme:xd(V({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{mR(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=VF(FF(c))}=a,S=Ce(a,LF),E=u&&u.startsWith("Mui")||c?"components":"custom",b=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Zm;c==="Root"||c==="root"?v=r:c?v=i:DF(o)&&(v=void 0);const _=mx(o,V({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||Ai(N)?g=>{const p=xd({theme:g.theme,defaultTheme:n,themeId:e});return Qd(N,V({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,L=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(A=>{const P=xd(V({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const W=P.components[u].styleOverrides,F={};return Object.entries(W).forEach(([H,B])=>{F[H]=Qd(B,V({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!b&&y.push(A=>{var P;const W=xd(V({},A,{defaultTheme:n,themeId:e})),F=W==null||(P=W.components)==null||(P=P[u])==null?void 0:P.variants;return Qd({variants:F},V({},A,{theme:W}),W.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const A=new Array(C).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=_(p,...y);return o.muiName&&(j.muiName=o.muiName),j};return _.withConfig&&(L.withConfig=_.withConfig),L}}const BF=zF();function Qu(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=Qu(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function UF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Qu(e.components[n].defaultProps,r)}function WF({props:t,name:e,defaultTheme:n,themeId:r}){let i=Rp(n);return r&&(i=i[r]||i),UF({theme:i,name:e,props:t})}const Yi=typeof window<"u"?w.useLayoutEffect:w.useEffect;function HF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const qF=Object.freeze(Object.defineProperty({__proto__:null,default:HF},Symbol.toStringTag,{value:"Module"}));function A1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function IR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function eg(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function pr(t){return t&&t.ownerDocument||document}function To(t){return pr(t).defaultView||window}function Gy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let j1=0;function KF(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(j1+=1,n(`mui-${j1}`))},[e]),r}const O1=nf.useId;function Sx(t){if(O1!==void 0){const e=O1();return t??e}return KF(t)}function N1({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,u=w.useCallback(c=>{i||o(c)},[]);return[a,u]}function ro(t){const e=w.useRef(t);return Yi(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function Bn(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Gy(n,e)})},t)}const L1={};function GF(t,e){const n=w.useRef(L1);return n.current===L1&&(n.current=t(e)),n}const QF=[];function YF(t){w.useEffect(t,QF)}class zp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new zp}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function kR(){const t=GF(zp.create).current;return YF(t.disposeEffect),t}let Bp=!0,Qy=!1;const XF=new zp,JF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&JF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function eV(t){t.metaKey||t.altKey||t.ctrlKey||(Bp=!0)}function tg(){Bp=!1}function tV(){this.visibilityState==="hidden"&&Qy&&(Bp=!0)}function nV(t){t.addEventListener("keydown",eV,!0),t.addEventListener("mousedown",tg,!0),t.addEventListener("pointerdown",tg,!0),t.addEventListener("touchstart",tg,!0),t.addEventListener("visibilitychange",tV,!0)}function rV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Bp||ZF(e)}function RR(){const t=w.useCallback(i=>{i!=null&&nV(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(Qy=!0,XF.start(100,()=>{Qy=!1}),e.current=!1,!0):!1}function r(i){return rV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function PR(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function bt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function Jf(t){return typeof t=="string"}function iV(t,e,n){return t===void 0||Jf(t)?e:V({},e,{ownerState:V({},e.ownerState,n)})}function AR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function M1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function sV(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const S=Ne(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),E=V({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),b=V({},n,i,r);return S.length>0&&(b.className=S),Object.keys(E).length>0&&(b.style=E),{props:b,internalRef:void 0}}const o=AR(V({},i,r)),a=M1(r),u=M1(i),c=e(o),f=Ne(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=V({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=V({},c,n,u,a);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:c.ref}}function oV(t,e,n){return typeof t=="function"?t(e,n):t}const aV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ya(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=Ce(t,aV),a=s?{}:oV(r,i),{props:u,internalRef:c}=sV(V({},o,{externalSlotProps:a})),f=Bn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return iV(n,V({},u,{ref:f}),i)}function jc(t){if(parseInt(w.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const jR=w.createContext(null);function OR(){return w.useContext(jR)}const lV=typeof Symbol=="function"&&Symbol.for,uV=lV?Symbol.for("mui.nested"):"__THEME_NESTED__";function cV(t,e){return typeof e=="function"?e(t):V({},t,e)}function dV(t){const{children:e,theme:n}=t,r=OR(),i=w.useMemo(()=>{const s=r===null?n:cV(r,n);return s!=null&&(s[uV]=r!==null),s},[n,r]);return l.jsx(jR.Provider,{value:i,children:e})}const fV=["value"],NR=w.createContext();function hV(t){let{value:e}=t,n=Ce(t,fV);return l.jsx(NR.Provider,V({value:e??!0},n))}const pV=()=>{const t=w.useContext(NR);return t??!1},LR=w.createContext(void 0);function mV({value:t,children:e}){return l.jsx(LR.Provider,{value:t,children:e})}function gV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Qu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Qu(i,r):r}function yV({props:t,name:e}){const n=w.useContext(LR);return gV({props:t,name:e,theme:{components:n}})}function vV(t){const e=_x(),n=Sx()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Yi(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){var a;if(o&&(a=o.hasAttribute)!=null&&a.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,s.prepend(c)}else{var u;(u=s.querySelector(`style[data-mui-layer-order="${n}"]`))==null||u.remove()}},[i,n]),i?l.jsx(wR,{styles:i}):null}const D1={};function $1(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?V({},e,{[t]:s}):s;return r?()=>o:o}return t?V({},e,{[t]:n}):V({},e,n)},[t,e,n,r])}function xV(t){const{children:e,theme:n,themeId:r}=t,i=_x(D1),s=OR()||D1,o=$1(r,i,n),a=$1(r,s,n,!0),u=o.direction==="rtl",c=vV(o);return l.jsx(dV,{theme:a,children:l.jsx(dl.Provider,{value:o,children:l.jsx(hV,{value:u,children:l.jsxs(mV,{value:o==null?void 0:o.components,children:[c,e]})})})})}const _V=["className","component","disableGutters","fixed","maxWidth","classes"],bV=Ac(),wV=BF("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),SV=t=>WF({props:t,name:"MuiContainer",defaultTheme:bV}),EV=(t,e)=>{const n=u=>pt(e,u),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${Ke(String(o))}`,i&&"fixed",s&&"disableGutters"]};return bt(a,n,r)};function TV(t={}){const{createStyledComponent:e=wV,useThemeProps:n=SV,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((u,c)=>{const f=c,h=o.breakpoints.values[f];return h!==0&&(u[o.breakpoints.up(f)]={maxWidth:`${h}${o.breakpoints.unit}`}),u},{}),({theme:o,ownerState:a})=>V({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return w.forwardRef(function(a,u){const c=n(a),{className:f,component:h="div",disableGutters:m=!1,fixed:S=!1,maxWidth:E="lg"}=c,b=Ce(c,_V),I=V({},c,{component:h,disableGutters:m,fixed:S,maxWidth:E}),T=EV(I,r);return l.jsx(i,V({as:h,ownerState:I,className:Ne(T.root,f),ref:u},b))})}var Oc={},MR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(MR);var DR=MR.exports,ng={exports:{}},F1;function CV(){return F1||(F1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ng)),ng.exports}const IV=Xi(E$),kV=Xi(T$),RV=Xi(A$),PV=Xi(jF),AV=Xi(vF),jV=Xi(SF);var hl=DR;Object.defineProperty(Oc,"__esModule",{value:!0});var OV=Oc.default=qV;Oc.shouldForwardProp=Yd;Oc.systemDefaultTheme=void 0;var _r=hl(fR()),Yy=hl(CV()),Zf=VV(IV),NV=kV;hl(RV);hl(PV);var LV=hl(AV),MV=hl(jV);const DV=["ownerState"],$V=["variants"],FV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $R(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($R=function(r){return r?n:e})(t)}function VV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$R(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function zV(t){return Object.keys(t).length===0}function BV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Yd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function V1(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const UV=Oc.systemDefaultTheme=(0,LV.default)(),WV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function _d({defaultTheme:t,theme:e,themeId:n}){return zV(e)?t:e[n]||e}function HV(t){return t?(e,n)=>n[t]:null}function Xd(t,e,n){let{ownerState:r}=e,i=(0,Yy.default)(e,DV);const s=typeof t=="function"?t((0,_r.default)({ownerState:r},i)):t;if(Array.isArray(s))return s.flatMap(o=>Xd(o,(0,_r.default)({ownerState:r},i),n));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:o=[]}=s;let u=(0,Yy.default)(s,$V);return o.forEach(c=>{let f=!0;if(typeof c.props=="function"?f=c.props((0,_r.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(h=>{(r==null?void 0:r[h])!==c.props[h]&&i[h]!==c.props[h]&&(f=!1)}),f){Array.isArray(u)||(u=[u]);const h=typeof c.style=="function"?c.style((0,_r.default)({ownerState:r},i,r)):c.style;u.push(n?V1((0,Zf.internal_serializeStyles)(h),n):h)}}),u}return n?V1((0,Zf.internal_serializeStyles)(s),n):s}function qV(t={}){const{themeId:e,defaultTheme:n=UV,rootShouldForwardProp:r=Yd,slotShouldForwardProp:i=Yd}=t,s=o=>(0,MV.default)((0,_r.default)({},o,{theme:_d((0,_r.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,Zf.internal_processStyles)(o,N=>N.filter(g=>!(g!=null&&g.__mui_systemSx)));const{name:u,slot:c,skipVariantsResolver:f,skipSx:h,overridesResolver:m=HV(WV(c))}=a,S=(0,Yy.default)(a,FV),E=u&&u.startsWith("Mui")||c?"components":"custom",b=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,I=h||!1;let T,v=Yd;c==="Root"||c==="root"?v=r:c?v=i:BV(o)&&(v=void 0);const _=(0,Zf.default)(o,(0,_r.default)({shouldForwardProp:v,label:T},S)),R=N=>typeof N=="function"&&N.__emotion_real!==N||(0,NV.isPlainObject)(N)?g=>{const p=_d({theme:g.theme,defaultTheme:n,themeId:e});return Xd(N,(0,_r.default)({},g,{theme:p}),p.modularCssLayers?E:void 0)}:N,L=(N,...g)=>{let p=R(N);const y=g?g.map(R):[];u&&m&&y.push(A=>{const P=_d((0,_r.default)({},A,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const W=P.components[u].styleOverrides,F={};return Object.entries(W).forEach(([H,B])=>{F[H]=Xd(B,(0,_r.default)({},A,{theme:P}),P.modularCssLayers?"theme":void 0)}),m(A,F)}),u&&!b&&y.push(A=>{var P;const W=_d((0,_r.default)({},A,{defaultTheme:n,themeId:e})),F=W==null||(P=W.components)==null||(P=P[u])==null?void 0:P.variants;return Xd({variants:F},(0,_r.default)({},A,{theme:W}),W.modularCssLayers?"theme":void 0)}),I||y.push(s);const C=y.length-g.length;if(Array.isArray(N)&&C>0){const A=new Array(C).fill("");p=[...N,...A],p.raw=[...N.raw,...A]}const j=_(p,...y);return o.muiName&&(j.muiName=o.muiName),j};return _.withConfig&&(L.withConfig=_.withConfig),L}}function KV(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Xt={};const GV=Xi(v4),QV=Xi(qF);var FR=DR;Object.defineProperty(Xt,"__esModule",{value:!0});var Cr=Xt.alpha=UR;Xt.blend=lz;Xt.colorChannel=void 0;var YV=Xt.darken=Tx;Xt.decomposeColor=Nr;Xt.emphasize=WR;var XV=Xt.getContrastRatio=rz;Xt.getLuminance=eh;Xt.hexToRgb=VR;Xt.hslToRgb=BR;var JV=Xt.lighten=Cx;Xt.private_safeAlpha=iz;Xt.private_safeColorChannel=void 0;Xt.private_safeDarken=sz;Xt.private_safeEmphasize=az;Xt.private_safeLighten=oz;Xt.recomposeColor=pl;Xt.rgbToHex=nz;var z1=FR(GV),ZV=FR(QV);function Ex(t,e=0,n=1){return(0,ZV.default)(t,e,n)}function VR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ez(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Nr(t){if(t.type)return t;if(t.charAt(0)==="#")return Nr(VR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,z1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,z1.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const zR=t=>{const e=Nr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Xt.colorChannel=zR;const tz=(t,e)=>{try{return zR(t)}catch{return t}};Xt.private_safeColorChannel=tz;function pl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function nz(t){if(t.indexOf("#")===0)return t;const{values:e}=Nr(t);return`#${e.map((n,r)=>ez(r===3?Math.round(255*n):n)).join("")}`}function BR(t){t=Nr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),pl({type:a,values:u})}function eh(t){t=Nr(t);let e=t.type==="hsl"||t.type==="hsla"?Nr(BR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function rz(t,e){const n=eh(t),r=eh(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function UR(t,e){return t=Nr(t),e=Ex(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pl(t)}function iz(t,e,n){try{return UR(t,e)}catch{return t}}function Tx(t,e){if(t=Nr(t),e=Ex(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return pl(t)}function sz(t,e,n){try{return Tx(t,e)}catch{return t}}function Cx(t,e){if(t=Nr(t),e=Ex(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return pl(t)}function oz(t,e,n){try{return Cx(t,e)}catch{return t}}function WR(t,e=.15){return eh(t)>.5?Tx(t,e):Cx(t,e)}function az(t,e,n){try{return WR(t,e)}catch{return t}}function lz(t,e,n,r=1){const i=(u,c)=>Math.round((u**(1/r)*(1-n)+c**(1/r)*n)**r),s=Nr(t),o=Nr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return pl({type:"rgb",values:a})}const Yu={black:"#000",white:"#fff"},uz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},qo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ko={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ml={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Go={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cz=["mode","contrastThreshold","tonalOffset"],B1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Yu.white,default:Yu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rg={text:{primary:Yu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Yu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function U1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=JV(t.main,i):e==="dark"&&(t.dark=YV(t.main,s)))}function dz(t="light"){return t==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[700],light:Go[400],dark:Go[800]}}function fz(t="light"){return t==="dark"?{main:qo[200],light:qo[50],dark:qo[400]}:{main:qo[500],light:qo[300],dark:qo[700]}}function hz(t="light"){return t==="dark"?{main:Ko[500],light:Ko[300],dark:Ko[700]}:{main:Ko[700],light:Ko[400],dark:Ko[800]}}function pz(t="light"){return t==="dark"?{main:Qo[400],light:Qo[300],dark:Qo[700]}:{main:Qo[700],light:Qo[500],dark:Qo[900]}}function mz(t="light"){return t==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[800],light:Yo[500],dark:Yo[900]}}function gz(t="light"){return t==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:"#ed6c02",light:Ml[500],dark:Ml[900]}}function yz(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ce(t,cz),s=t.primary||dz(e),o=t.secondary||fz(e),a=t.error||hz(e),u=t.info||pz(e),c=t.success||mz(e),f=t.warning||gz(e);function h(b){return XV(b,rg.text.primary)>=n?rg.text.primary:B1.text.primary}const m=({color:b,name:I,mainShade:T=500,lightShade:v=300,darkShade:_=700})=>{if(b=V({},b),!b.main&&b[T]&&(b.main=b[T]),!b.hasOwnProperty("main"))throw new Error(Eo(11,I?` (${I})`:"",T));if(typeof b.main!="string")throw new Error(Eo(12,I?` (${I})`:"",JSON.stringify(b.main)));return U1(b,"light",v,r),U1(b,"dark",_,r),b.contrastText||(b.contrastText=h(b.main)),b},S={dark:rg,light:B1};return hr(V({common:V({},Yu),mode:e,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:a,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:uz,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},S[e]),i)}const vz=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xz(t){return Math.round(t*1e5)/1e5}const W1={textTransform:"uppercase"},H1='"Roboto", "Helvetica", "Arial", sans-serif';function _z(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=H1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,m=Ce(n,vz),S=i/14,E=h||(T=>`${T/c*S}rem`),b=(T,v,_,R,L)=>V({fontFamily:r,fontWeight:T,fontSize:E(v),lineHeight:_},r===H1?{letterSpacing:`${xz(R/v)}em`}:{},L,f),I={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(a,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(a,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(a,14,1.75,.4,W1),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,W1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hr(V({htmlFontSize:c,pxToRem:E,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},I),m,{clone:!1})}const bz=.2,wz=.14,Sz=.12;function jt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Sz})`].join(",")}const Ez=["none",jt(0,2,1,-1,0,1,1,0,0,1,3,0),jt(0,3,1,-2,0,2,2,0,0,1,5,0),jt(0,3,3,-2,0,3,4,0,0,1,8,0),jt(0,2,4,-1,0,4,5,0,0,1,10,0),jt(0,3,5,-1,0,5,8,0,0,1,14,0),jt(0,3,5,-1,0,6,10,0,0,1,18,0),jt(0,4,5,-2,0,7,10,1,0,2,16,1),jt(0,5,5,-3,0,8,10,1,0,3,14,2),jt(0,5,6,-3,0,9,12,1,0,3,16,2),jt(0,6,6,-3,0,10,14,1,0,4,18,3),jt(0,6,7,-4,0,11,15,1,0,4,20,3),jt(0,7,8,-4,0,12,17,2,0,5,22,4),jt(0,7,8,-4,0,13,19,2,0,5,24,4),jt(0,7,9,-4,0,14,21,2,0,5,26,4),jt(0,8,9,-5,0,15,22,2,0,6,28,5),jt(0,8,10,-5,0,16,24,2,0,6,30,5),jt(0,8,11,-5,0,17,26,2,0,6,32,5),jt(0,9,11,-5,0,18,28,2,0,7,34,6),jt(0,9,12,-6,0,19,29,2,0,7,36,6),jt(0,10,13,-6,0,20,31,3,0,8,38,7),jt(0,10,13,-6,0,21,33,3,0,8,40,7),jt(0,10,14,-6,0,22,35,3,0,8,42,7),jt(0,11,14,-7,0,23,36,3,0,9,44,8),jt(0,11,15,-7,0,24,38,3,0,9,46,8)],Tz=["duration","easing","delay"],Cz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Iz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q1(t){return`${Math.round(t)}ms`}function kz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Rz(t){const e=V({},Cz,t.easing),n=V({},Iz,t.duration);return V({getAutoHeightDuration:kz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return Ce(s,Tz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:q1(o)} ${a} ${typeof u=="string"?u:q1(u)}`).join(",")}},t,{easing:e,duration:n})}const Pz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Az=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ix(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Ce(t,Az);if(t.vars&&t.generateCssVars===void 0)throw new Error(Eo(18));const a=yz(r),u=Ac(t);let c=hr(u,{mixins:KV(u.breakpoints,n),palette:a,shadows:Ez.slice(),typography:_z(a,s),transitions:Rz(i),zIndex:V({},Pz)});return c=hr(c,o),c=e.reduce((f,h)=>hr(f,h),c),c.unstable_sxConfig=V({},Pc,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return fl({sx:h,theme:this})},c}const kx=Ix(),Xa="$$material";function HR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dr=t=>HR(t)&&t!=="classes",je=OV({themeId:Xa,defaultTheme:kx,rootShouldForwardProp:Dr});function mt(t){return yV(t)}const jz=TV({createStyledComponent:je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>mt({props:t,name:"MuiContainer"})});function Oz(t){return pt("MuiTypography",t)}ut("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Nz=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Lz=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ke(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return bt(a,Oz,o)},Mz=je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ke(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>V({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),K1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Dz={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$z=t=>Dz[t]||t,yt=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTypography"}),i=$z(r.color),s=Pp(V({},r,{color:i})),{align:o="inherit",className:a,component:u,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:m="body1",variantMapping:S=K1}=s,E=Ce(s,Nz),b=V({},s,{align:o,color:i,className:a,component:u,gutterBottom:c,noWrap:f,paragraph:h,variant:m,variantMapping:S}),I=u||(h?"p":S[m]||K1[m])||"span",T=Lz(b);return l.jsx(Mz,V({as:I,ref:n,ownerState:b,className:Ne(T.root,a)},E))});function Xy(t,e){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xy(t,e)}function qR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xy(t,e)}const G1={disabled:!1},th=pe.createContext(null);var Fz=function(e){return e.scrollTop},eu="unmounted",Xs="exited",Js="entering",na="entered",Jy="exiting",bi=function(t){qR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?a?(u=Xs,s.appearStatus=Js):u=na:r.unmountOnExit||r.mountOnEnter?u=eu:u=Xs,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===eu?{status:Xs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Js&&o!==na&&(s=Js):(o===Js||o===na)&&(s=Jy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Js){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this);o&&Fz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xs&&this.setState({status:eu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,u=this.props.nodeRef?[a]:[dd.findDOMNode(this),a],c=u[0],f=u[1],h=this.getTimeouts(),m=a?h.appear:h.enter;if(!i&&!o||G1.disabled){this.safeSetState({status:na},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Js},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:na},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:dd.findDOMNode(this);if(!s||G1.disabled){this.safeSetState({status:Xs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Jy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Xs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===eu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Ce(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(th.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},e}(pe.Component);bi.contextType=th;bi.propTypes={};function Xo(){}bi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xo,onEntering:Xo,onEntered:Xo,onExit:Xo,onExiting:Xo,onExited:Xo};bi.UNMOUNTED=eu;bi.EXITED=Xs;bi.ENTERING=Js;bi.ENTERED=na;bi.EXITING=Jy;function Vz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rx(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function zz(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];a[r[u][o]]=n(c)}a[u]=n(u)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function io(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Bz(t,e){return Rx(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:io(n,"appear",t),enter:io(n,"enter",t),exit:io(n,"exit",t)})})}function Uz(t,e,n){var r=Rx(t.children),i=zz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,u=s in r,c=e[s],f=w.isValidElement(c)&&!c.props.in;u&&(!a||f)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:io(o,"exit",t),enter:io(o,"enter",t)}):!u&&a&&!f?i[s]=w.cloneElement(o,{in:!1}):u&&a&&w.isValidElement(c)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:io(o,"exit",t),enter:io(o,"enter",t)}))}}),i}var Wz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Hz={component:"div",childFactory:function(e){return e}},Px=function(t){qR(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Vz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,u=s.firstRender;return{children:u?Bz(i,a):Uz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Rx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var u=V({},a.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Ce(i,["component","childFactory"]),u=this.state.contextValue,c=Wz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pe.createElement(th.Provider,{value:u},c):pe.createElement(th.Provider,{value:u},pe.createElement(s,a,c))},e}(pe.Component);Px.propTypes={};Px.defaultProps=Hz;function qz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:u,timeout:c}=t,[f,h]=w.useState(!1),m=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),S={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},E=Ne(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),w.useEffect(()=>{if(!a&&u!=null){const b=setTimeout(u,c);return()=>{clearTimeout(b)}}},[u,a,c]),l.jsx("span",{className:m,style:S,children:l.jsx("span",{className:E})})}const br=ut("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Kz=["center","classes","className"];let Up=t=>t,Q1,Y1,X1,J1;const Zy=550,Gz=80,Qz=wp(Q1||(Q1=Up`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Yz=wp(Y1||(Y1=Up`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Xz=wp(X1||(X1=Up`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Jz=je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Zz=je(qz,{name:"MuiTouchRipple",slot:"Ripple"})(J1||(J1=Up`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),br.rippleVisible,Qz,Zy,({theme:t})=>t.transitions.easing.easeInOut,br.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,br.child,br.childLeaving,Yz,Zy,({theme:t})=>t.transitions.easing.easeInOut,br.childPulsate,Xz,({theme:t})=>t.transitions.easing.easeInOut),eB=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Ce(r,Kz),[u,c]=w.useState([]),f=w.useRef(0),h=w.useRef(null);w.useEffect(()=>{h.current&&(h.current(),h.current=null)},[u]);const m=w.useRef(!1),S=kR(),E=w.useRef(null),b=w.useRef(null),I=w.useCallback(R=>{const{pulsate:L,rippleX:N,rippleY:g,rippleSize:p,cb:y}=R;c(C=>[...C,l.jsx(Zz,{classes:{ripple:Ne(s.ripple,br.ripple),rippleVisible:Ne(s.rippleVisible,br.rippleVisible),ripplePulsate:Ne(s.ripplePulsate,br.ripplePulsate),child:Ne(s.child,br.child),childLeaving:Ne(s.childLeaving,br.childLeaving),childPulsate:Ne(s.childPulsate,br.childPulsate)},timeout:Zy,pulsate:L,rippleX:N,rippleY:g,rippleSize:p},f.current)]),f.current+=1,h.current=y},[s]),T=w.useCallback((R={},L={},N=()=>{})=>{const{pulsate:g=!1,center:p=i||L.pulsate,fakeElement:y=!1}=L;if((R==null?void 0:R.type)==="mousedown"&&m.current){m.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(m.current=!0);const C=y?null:b.current,j=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,P,W;if(p||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)A=Math.round(j.width/2),P=Math.round(j.height/2);else{const{clientX:F,clientY:H}=R.touches&&R.touches.length>0?R.touches[0]:R;A=Math.round(F-j.left),P=Math.round(H-j.top)}if(p)W=Math.sqrt((2*j.width**2+j.height**2)/3),W%2===0&&(W+=1);else{const F=Math.max(Math.abs((C?C.clientWidth:0)-A),A)*2+2,H=Math.max(Math.abs((C?C.clientHeight:0)-P),P)*2+2;W=Math.sqrt(F**2+H**2)}R!=null&&R.touches?E.current===null&&(E.current=()=>{I({pulsate:g,rippleX:A,rippleY:P,rippleSize:W,cb:N})},S.start(Gz,()=>{E.current&&(E.current(),E.current=null)})):I({pulsate:g,rippleX:A,rippleY:P,rippleSize:W,cb:N})},[i,I,S]),v=w.useCallback(()=>{T({},{pulsate:!0})},[T]),_=w.useCallback((R,L)=>{if(S.clear(),(R==null?void 0:R.type)==="touchend"&&E.current){E.current(),E.current=null,S.start(0,()=>{_(R,L)});return}E.current=null,c(N=>N.length>0?N.slice(1):N),h.current=L},[S]);return w.useImperativeHandle(n,()=>({pulsate:v,start:T,stop:_}),[v,T,_]),l.jsx(Jz,V({className:Ne(br.root,s.root,o),ref:b},a,{children:l.jsx(Px,{component:null,exit:!0,children:u})}))});function tB(t){return pt("MuiButtonBase",t)}const nB=ut("MuiButtonBase",["root","disabled","focusVisible"]),rB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],iB=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=bt({root:["root",e&&"disabled",n&&"focusVisible"]},tB,i);return n&&r&&(o.root+=` ${r}`),o},sB=je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),KR=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:u="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:m=!1,LinkComponent:S="a",onBlur:E,onClick:b,onContextMenu:I,onDragLeave:T,onFocus:v,onFocusVisible:_,onKeyDown:R,onKeyUp:L,onMouseDown:N,onMouseLeave:g,onMouseUp:p,onTouchEnd:y,onTouchMove:C,onTouchStart:j,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:W,type:F}=r,H=Ce(r,rB),B=w.useRef(null),D=w.useRef(null),z=Bn(D,W),{isFocusVisibleRef:q,onFocus:Q,onBlur:Y,ref:J}=RR(),[ie,me]=w.useState(!1);c&&ie&&me(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{me(!0),B.current.focus()}}),[]);const[ve,$]=w.useState(!1);w.useEffect(()=>{$(!0)},[]);const G=ve&&!f&&!c;w.useEffect(()=>{ie&&m&&!f&&ve&&D.current.pulsate()},[f,m,ie,ve]);function U(Te,Et,qt=h){return ro(Je=>(Et&&Et(Je),!qt&&D.current&&D.current[Te](Je),!0))}const ne=U("start",N),Z=U("stop",I),te=U("stop",T),ce=U("stop",p),fe=U("stop",Te=>{ie&&Te.preventDefault(),g&&g(Te)}),he=U("start",j),_e=U("stop",y),Xe=U("stop",C),Ee=U("stop",Te=>{Y(Te),q.current===!1&&me(!1),E&&E(Te)},!1),De=ro(Te=>{B.current||(B.current=Te.currentTarget),Q(Te),q.current===!0&&(me(!0),_&&_(Te)),v&&v(Te)}),$e=()=>{const Te=B.current;return u&&u!=="button"&&!(Te.tagName==="A"&&Te.href)},qe=w.useRef(!1),ft=ro(Te=>{m&&!qe.current&&ie&&D.current&&Te.key===" "&&(qe.current=!0,D.current.stop(Te,()=>{D.current.start(Te)})),Te.target===Te.currentTarget&&$e()&&Te.key===" "&&Te.preventDefault(),R&&R(Te),Te.target===Te.currentTarget&&$e()&&Te.key==="Enter"&&!c&&(Te.preventDefault(),b&&b(Te))}),ht=ro(Te=>{m&&Te.key===" "&&D.current&&ie&&!Te.defaultPrevented&&(qe.current=!1,D.current.stop(Te,()=>{D.current.pulsate(Te)})),L&&L(Te),b&&Te.target===Te.currentTarget&&$e()&&Te.key===" "&&!Te.defaultPrevented&&b(Te)});let Le=u;Le==="button"&&(H.href||H.to)&&(Le=S);const gt={};Le==="button"?(gt.type=F===void 0?"button":F,gt.disabled=c):(!H.href&&!H.to&&(gt.role="button"),c&&(gt["aria-disabled"]=c));const Ie=Bn(n,J,B),Be=V({},r,{centerRipple:s,component:u,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:m,tabIndex:A,focusVisible:ie}),Oe=iB(Be);return l.jsxs(sB,V({as:Le,className:Ne(Oe.root,a),ownerState:Be,onBlur:Ee,onClick:b,onContextMenu:Z,onFocus:De,onKeyDown:ft,onKeyUp:ht,onMouseDown:ne,onMouseLeave:fe,onMouseUp:ce,onDragLeave:te,onTouchEnd:_e,onTouchMove:Xe,onTouchStart:he,ref:Ie,tabIndex:c?-1:A,type:F},gt,H,{children:[o,G?l.jsx(eB,V({ref:z,center:s},P)):null]}))});function oB(t){return pt("MuiButton",t)}const bd=ut("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),aB=w.createContext({}),lB=w.createContext(void 0),uB=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],cB=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ke(e)}`,`size${Ke(i)}`,`${s}Size${Ke(i)}`,`color${Ke(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ke(i)}`],endIcon:["icon","endIcon",`iconSize${Ke(i)}`]},u=bt(a,oB,o);return V({},o,u)},GR=t=>V({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),dB=je(KR,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ke(n.color)}`],e[`size${Ke(n.size)}`],e[`${n.variant}Size${Ke(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return V({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Cr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${bd.focusVisible}`]:V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${bd.disabled}`]:V({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Cr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${bd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${bd.disabled}`]:{boxShadow:"none"}}),fB=je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},GR(t))),hB=je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},GR(t))),lo=w.forwardRef(function(e,n){const r=w.useContext(aB),i=w.useContext(lB),s=Qu(r,e),o=mt({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:c="button",className:f,disabled:h=!1,disableElevation:m=!1,disableFocusRipple:S=!1,endIcon:E,focusVisibleClassName:b,fullWidth:I=!1,size:T="medium",startIcon:v,type:_,variant:R="text"}=o,L=Ce(o,uB),N=V({},o,{color:u,component:c,disabled:h,disableElevation:m,disableFocusRipple:S,fullWidth:I,size:T,type:_,variant:R}),g=cB(N),p=v&&l.jsx(fB,{className:g.startIcon,ownerState:N,children:v}),y=E&&l.jsx(hB,{className:g.endIcon,ownerState:N,children:E}),C=i||"";return l.jsxs(dB,V({ownerState:N,className:Ne(r.className,g.root,f,C),component:c,disabled:h,focusRipple:!S,focusVisibleClassName:Ne(g.focusVisible,b),ref:n,type:_},L,{classes:g,children:[p,a,y]}))}),Z1=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Ax(){const t=Rp(kx);return t[Xa]||t}function pB(t){return pt("MuiPaper",t)}ut("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mB=["className","component","elevation","square","variant"],gB=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return bt(s,pB,i)},yB=je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return V({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&V({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Cr("#fff",Z1(e.elevation))}, ${Cr("#fff",Z1(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),jx=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:u="elevation"}=r,c=Ce(r,mB),f=V({},r,{component:s,elevation:o,square:a,variant:u}),h=gB(f);return l.jsx(yB,V({as:s,ownerState:f,className:Ne(h.root,i),ref:n},c))}),vB=["theme"];function xB(t){let{theme:e}=t,n=Ce(t,vB);const r=e[Xa];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=V({},r,{vars:null}):e&&!e.vars&&(i=V({},e,{vars:null}))),l.jsx(xV,V({},n,{themeId:r?Xa:void 0,theme:i}))}const _B=ut("MuiBox",["root"]),bB=Ix(),Sn=CF({themeId:Xa,defaultTheme:bB,defaultClassName:_B.root,generateClassName:SR.generate}),wB=["onChange","maxRows","minRows","style","value"];function wd(t){return parseInt(t,10)||0}const SB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function EB(t){for(const e in t)return!1;return!0}function eS(t){return EB(t)||t.outerHeightStyle===0&&!t.overflowing}const TB=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,u=Ce(e,wB),{current:c}=w.useRef(a!=null),f=w.useRef(null),h=Bn(n,f),m=w.useRef(null),S=w.useRef(null),E=w.useCallback(()=>{const _=f.current,R=S.current;if(!_||!R)return;const N=To(_).getComputedStyle(_);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=_.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const g=N.boxSizing,p=wd(N.paddingBottom)+wd(N.paddingTop),y=wd(N.borderBottomWidth)+wd(N.borderTopWidth),C=R.scrollHeight;R.value="x";const j=R.scrollHeight;let A=C;s&&(A=Math.max(Number(s)*j,A)),i&&(A=Math.min(Number(i)*j,A)),A=Math.max(A,j);const P=A+(g==="border-box"?p+y:0),W=Math.abs(A-C)<=1;return{outerHeightStyle:P,overflowing:W}},[i,s,e.placeholder]),b=ro(()=>{const _=f.current,R=E();if(!_||!R||eS(R))return!1;const L=R.outerHeightStyle;return m.current!=null&&m.current!==L}),I=w.useCallback(()=>{const _=f.current,R=E();if(!_||!R||eS(R))return;const L=R.outerHeightStyle;m.current!==L&&(m.current=L,_.style.height=`${L}px`),_.style.overflow=R.overflowing?"hidden":""},[E]),T=w.useRef(-1);Yi(()=>{const _=IR(I),R=f==null?void 0:f.current;if(!R)return;const L=To(R);L.addEventListener("resize",_);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{b()&&(N.unobserve(R),cancelAnimationFrame(T.current),I(),T.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{_.clear(),cancelAnimationFrame(T.current),L.removeEventListener("resize",_),N&&N.disconnect()}},[E,I,b]),Yi(()=>{I()});const v=_=>{c||I(),r&&r(_)};return l.jsxs(w.Fragment,{children:[l.jsx("textarea",V({value:a,onChange:v,ref:h,rows:s,style:o},u)),l.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:V({},SB.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function ml({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Ox=w.createContext(void 0);function gl(){return w.useContext(Ox)}function QR(t){return l.jsx(wR,V({},t,{defaultTheme:kx,themeId:Xa}))}function tS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function nh(t,e=!1){return t&&(tS(t.value)&&t.value!==""||e&&tS(t.defaultValue)&&t.defaultValue!=="")}function CB(t){return t.startAdornment}function IB(t){return pt("MuiInputBase",t)}const Ja=ut("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),kB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Wp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ke(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Hp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},RB=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:u,hiddenLabel:c,multiline:f,readOnly:h,size:m,startAdornment:S,type:E}=t,b={root:["root",`color${Ke(n)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",a&&"formControl",m&&m!=="medium"&&`size${Ke(m)}`,f&&"multiline",S&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",E==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",S&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return bt(b,IB,e)},qp=je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wp})(({theme:t,ownerState:e})=>V({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ja.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&V({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Kp=je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=V({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ja.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ja.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),PB=l.jsx(QR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Nx=w.forwardRef(function(e,n){var r;const i=mt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:u,components:c={},componentsProps:f={},defaultValue:h,disabled:m,disableInjectingGlobalStyles:S,endAdornment:E,fullWidth:b=!1,id:I,inputComponent:T="input",inputProps:v={},inputRef:_,maxRows:R,minRows:L,multiline:N=!1,name:g,onBlur:p,onChange:y,onClick:C,onFocus:j,onKeyDown:A,onKeyUp:P,placeholder:W,readOnly:F,renderSuffix:H,rows:B,slotProps:D={},slots:z={},startAdornment:q,type:Q="text",value:Y}=i,J=Ce(i,kB),ie=v.value!=null?v.value:Y,{current:me}=w.useRef(ie!=null),ve=w.useRef(),$=w.useCallback(Oe=>{},[]),G=Bn(ve,_,v.ref,$),[U,ne]=w.useState(!1),Z=gl(),te=ml({props:i,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=Z?Z.focused:U,w.useEffect(()=>{!Z&&m&&U&&(ne(!1),p&&p())},[Z,m,U,p]);const ce=Z&&Z.onFilled,fe=Z&&Z.onEmpty,he=w.useCallback(Oe=>{nh(Oe)?ce&&ce():fe&&fe()},[ce,fe]);Yi(()=>{me&&he({value:ie})},[ie,he,me]);const _e=Oe=>{if(te.disabled){Oe.stopPropagation();return}j&&j(Oe),v.onFocus&&v.onFocus(Oe),Z&&Z.onFocus?Z.onFocus(Oe):ne(!0)},Xe=Oe=>{p&&p(Oe),v.onBlur&&v.onBlur(Oe),Z&&Z.onBlur?Z.onBlur(Oe):ne(!1)},Ee=(Oe,...Te)=>{if(!me){const Et=Oe.target||ve.current;if(Et==null)throw new Error(Eo(1));he({value:Et.value})}v.onChange&&v.onChange(Oe,...Te),y&&y(Oe,...Te)};w.useEffect(()=>{he(ve.current)},[]);const De=Oe=>{ve.current&&Oe.currentTarget===Oe.target&&ve.current.focus(),C&&C(Oe)};let $e=T,qe=v;N&&$e==="input"&&(B?qe=V({type:void 0,minRows:B,maxRows:B},qe):qe=V({type:void 0,maxRows:R,minRows:L},qe),$e=TB);const ft=Oe=>{he(Oe.animationName==="mui-auto-fill-cancel"?ve.current:{value:"x"})};w.useEffect(()=>{Z&&Z.setAdornedStart(!!q)},[Z,q]);const ht=V({},i,{color:te.color||"primary",disabled:te.disabled,endAdornment:E,error:te.error,focused:te.focused,formControl:Z,fullWidth:b,hiddenLabel:te.hiddenLabel,multiline:N,size:te.size,startAdornment:q,type:Q}),Le=RB(ht),gt=z.root||c.Root||qp,Ie=D.root||f.root||{},Be=z.input||c.Input||Kp;return qe=V({},qe,(r=D.input)!=null?r:f.input),l.jsxs(w.Fragment,{children:[!S&&PB,l.jsxs(gt,V({},Ie,!Jf(gt)&&{ownerState:V({},ht,Ie.ownerState)},{ref:n,onClick:De},J,{className:Ne(Le.root,Ie.className,u,F&&"MuiInputBase-readOnly"),children:[q,l.jsx(Ox.Provider,{value:null,children:l.jsx(Be,V({ownerState:ht,"aria-invalid":te.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:te.disabled,id:I,onAnimationStart:ft,name:g,placeholder:W,readOnly:F,required:te.required,rows:B,value:ie,onKeyDown:A,onKeyUp:P,type:Q},qe,!Jf(Be)&&{as:$e,ownerState:V({},ht,qe.ownerState)},{ref:G,className:Ne(Le.input,qe.className,F&&"MuiInputBase-readOnly"),onBlur:Xe,onChange:Ee,onFocus:_e}))}),E,H?H(V({},te,{startAdornment:q})):null]}))]})});function AB(t){return pt("MuiInput",t)}const Dl=V({},Ja,ut("MuiInput",["root","underline","input"])),jB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],OB=t=>{const{classes:e,disableUnderline:n}=t,i=bt({root:["root",!n&&"underline"],input:["input"]},AB,e);return V({},e,i)},NB=je(qp,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),V({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dl.disabled}, .${Dl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Dl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),LB=je(Kp,{name:"MuiInput",slot:"Input",overridesResolver:Hp})({}),Lx=w.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiInput"}),{disableUnderline:u,components:c={},componentsProps:f,fullWidth:h=!1,inputComponent:m="input",multiline:S=!1,slotProps:E,slots:b={},type:I="text"}=a,T=Ce(a,jB),v=OB(a),R={root:{ownerState:{disableUnderline:u}}},L=E??f?hr(E??f,R):R,N=(r=(i=b.root)!=null?i:c.Root)!=null?r:NB,g=(s=(o=b.input)!=null?o:c.Input)!=null?s:LB;return l.jsx(Nx,V({slots:{root:N,input:g},slotProps:L,fullWidth:h,inputComponent:m,multiline:S,ref:n,type:I},T,{classes:v}))});Lx.muiName="Input";function MB(t){return pt("MuiFilledInput",t)}const qs=V({},Ja,ut("MuiFilledInput",["root","underline","input"])),DB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],$B=t=>{const{classes:e,disableUnderline:n}=t,i=bt({root:["root",!n&&"underline"],input:["input"]},MB,e);return V({},e,i)},FB=je(qp,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${qs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${qs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qs.disabled}, .${qs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${qs.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&V({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),VB=je(Kp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Mx=w.forwardRef(function(e,n){var r,i,s,o;const a=mt({props:e,name:"MuiFilledInput"}),{components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:m=!1,slotProps:S,slots:E={},type:b="text"}=a,I=Ce(a,DB),T=V({},a,{fullWidth:f,inputComponent:h,multiline:m,type:b}),v=$B(a),_={root:{ownerState:T},input:{ownerState:T}},R=S??c?hr(_,S??c):_,L=(r=(i=E.root)!=null?i:u.Root)!=null?r:FB,N=(s=(o=E.input)!=null?o:u.Input)!=null?s:VB;return l.jsx(Nx,V({slots:{root:L,input:N},componentsProps:R,fullWidth:f,inputComponent:h,multiline:m,ref:n,type:b},I,{classes:v}))});Mx.muiName="Input";var nS;const zB=["children","classes","className","label","notched"],BB=je("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Dr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),UB=je("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Dr})(({ownerState:t,theme:e})=>V({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function WB(t){const{className:e,label:n,notched:r}=t,i=Ce(t,zB),s=n!=null&&n!=="",o=V({},t,{notched:r,withLabel:s});return l.jsx(BB,V({"aria-hidden":!0,className:e,ownerState:o},i,{children:l.jsx(UB,{ownerState:o,children:s?l.jsx("span",{children:n}):nS||(nS=l.jsx("span",{className:"notranslate",children:"​"}))})}))}function HB(t){return pt("MuiOutlinedInput",t)}const is=V({},Ja,ut("MuiOutlinedInput",["root","notchedOutline","input"])),qB=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],KB=t=>{const{classes:e}=t,r=bt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},HB,e);return V({},e,r)},GB=je(qp,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${is.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${is.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${is.focused} .${is.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${is.error} .${is.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${is.disabled} .${is.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&V({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),QB=je(WB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),YB=je(Kp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Hp})(({theme:t,ownerState:e})=>V({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Dx=w.forwardRef(function(e,n){var r,i,s,o,a;const u=mt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:f=!1,inputComponent:h="input",label:m,multiline:S=!1,notched:E,slots:b={},type:I="text"}=u,T=Ce(u,qB),v=KB(u),_=gl(),R=ml({props:u,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=V({},u,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:_,fullWidth:f,hiddenLabel:R.hiddenLabel,multiline:S,size:R.size,type:I}),N=(r=(i=b.root)!=null?i:c.Root)!=null?r:GB,g=(s=(o=b.input)!=null?o:c.Input)!=null?s:YB;return l.jsx(Nx,V({slots:{root:N,input:g},renderSuffix:p=>l.jsx(QB,{ownerState:L,className:v.notchedOutline,label:m!=null&&m!==""&&R.required?a||(a=l.jsxs(w.Fragment,{children:[m," ","*"]})):m,notched:typeof E<"u"?E:!!(p.startAdornment||p.filled||p.focused)}),fullWidth:f,inputComponent:h,multiline:S,ref:n,type:I},T,{classes:V({},v,{notchedOutline:null})}))});Dx.muiName="Input";function XB(t){return pt("MuiFormLabel",t)}const yu=ut("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),JB=["children","className","color","component","disabled","error","filled","focused","required"],ZB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,u={root:["root",`color${Ke(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return bt(u,XB,e)},e8=je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${yu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yu.error}`]:{color:(t.vars||t).palette.error.main}})),t8=je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${yu.error}`]:{color:(t.vars||t).palette.error.main}})),n8=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=Ce(r,JB),u=gl(),c=ml({props:r,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]}),f=V({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=ZB(f);return l.jsxs(e8,V({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:[i,c.required&&l.jsxs(t8,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))});function r8(t){return pt("MuiInputLabel",t)}ut("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const i8=["disableAnimation","margin","shrink","variant","className"],s8=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ke(r)}`,o],asterisk:[a&&"asterisk"]},c=bt(u,r8,e);return V({},e,c)},o8=je(n8,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${yu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),a8=w.forwardRef(function(e,n){const r=mt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=Ce(r,i8),u=gl();let c=s;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);const f=ml({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),h=V({},r,{disableAnimation:i,formControl:u,shrink:c,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),m=s8(h);return l.jsx(o8,V({"data-shrink":c,ownerState:h,ref:n,className:Ne(m.root,o)},a,{classes:m}))});function l8(t){return pt("MuiFormControl",t)}ut("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const u8=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],c8=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ke(n)}`,r&&"fullWidth"]};return bt(i,l8,e)},d8=je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>V({},e.root,e[`margin${Ke(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),YR=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:u=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:m=!1,margin:S="none",required:E=!1,size:b="medium",variant:I="outlined"}=r,T=Ce(r,u8),v=V({},r,{color:o,component:a,disabled:u,error:c,fullWidth:h,hiddenLabel:m,margin:S,required:E,size:b,variant:I}),_=c8(v),[R,L]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,W=>{if(!eg(W,["Input","Select"]))return;const F=eg(W,["Select"])?W.props.input:W;F&&CB(F.props)&&(P=!0)}),P}),[N,g]=w.useState(()=>{let P=!1;return i&&w.Children.forEach(i,W=>{eg(W,["Input","Select"])&&(nh(W.props,!0)||nh(W.props.inputProps,!0))&&(P=!0)}),P}),[p,y]=w.useState(!1);u&&p&&y(!1);const C=f!==void 0&&!u?f:p;let j;const A=w.useMemo(()=>({adornedStart:R,setAdornedStart:L,color:o,disabled:u,error:c,filled:N,focused:C,fullWidth:h,hiddenLabel:m,size:b,onBlur:()=>{y(!1)},onEmpty:()=>{g(!1)},onFilled:()=>{g(!0)},onFocus:()=>{y(!0)},registerEffect:j,required:E,variant:I}),[R,o,u,c,N,C,h,m,j,E,b,I]);return l.jsx(Ox.Provider,{value:A,children:l.jsx(d8,V({as:a,ownerState:v,className:Ne(_.root,s),ref:n},T,{children:i}))})});function f8(t){return pt("MuiFormHelperText",t)}const rS=ut("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iS;const h8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],p8=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:u}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${Ke(r)}`,n&&"contained",a&&"focused",o&&"filled",u&&"required"]};return bt(c,f8,e)},m8=je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ke(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>V({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${rS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${rS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),g8=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=Ce(r,h8),u=gl(),c=ml({props:r,muiFormControl:u,states:["variant","size","disabled","error","filled","focused","required"]}),f=V({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=p8(f);return l.jsx(m8,V({as:o,ownerState:f,className:Ne(h.root,s),ref:n},a,{children:i===" "?iS||(iS=l.jsx("span",{className:"notranslate",children:"​"})):i}))}),ev=w.createContext({});function y8(t){return pt("MuiList",t)}ut("MuiList",["root","padding","dense","subheader"]);const v8=["children","className","component","dense","disablePadding","subheader"],x8=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return bt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},y8,e)},_8=je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),b8=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c}=r,f=Ce(r,v8),h=w.useMemo(()=>({dense:a}),[a]),m=V({},r,{component:o,dense:a,disablePadding:u}),S=x8(m);return l.jsx(ev.Provider,{value:h,children:l.jsxs(_8,V({as:o,className:Ne(S.root,s),ref:n,ownerState:m},f,{children:[c,i]}))})}),w8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ig(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function sS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function XR(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function $l(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const u=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!XR(a,s)||u)a=i(t,a,n);else return a.focus(),!0}return!1}const S8=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:f,variant:h="selectedMenu"}=e,m=Ce(e,w8),S=w.useRef(null),E=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yi(()=>{i&&S.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:R})=>{const L=!S.current.style.width;if(_.clientHeight<S.current.clientHeight&&L){const N=`${PR(pr(_))}px`;S.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,S.current.style.width=`calc(100% + ${N})`}return S.current}}),[]);const b=_=>{const R=S.current,L=_.key,N=pr(R).activeElement;if(L==="ArrowDown")_.preventDefault(),$l(R,N,c,u,ig);else if(L==="ArrowUp")_.preventDefault(),$l(R,N,c,u,sS);else if(L==="Home")_.preventDefault(),$l(R,null,c,u,ig);else if(L==="End")_.preventDefault(),$l(R,null,c,u,sS);else if(L.length===1){const g=E.current,p=L.toLowerCase(),y=performance.now();g.keys.length>0&&(y-g.lastTime>500?(g.keys=[],g.repeating=!0,g.previousKeyMatched=!0):g.repeating&&p!==g.keys[0]&&(g.repeating=!1)),g.lastTime=y,g.keys.push(p);const C=N&&!g.repeating&&XR(N,g);g.previousKeyMatched&&(C||$l(R,N,!1,u,ig,g))?_.preventDefault():g.previousKeyMatched=!1}f&&f(_)},I=Bn(S,n);let T=-1;w.Children.forEach(o,(_,R)=>{if(!w.isValidElement(_)){T===R&&(T+=1,T>=o.length&&(T=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||T===-1)&&(T=R),T===R&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(T+=1,T>=o.length&&(T=-1))});const v=w.Children.map(o,(_,R)=>{if(R===T){const L={};return s&&(L.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(L.tabIndex=0),w.cloneElement(_,L)}return _});return l.jsx(b8,V({role:"menu",ref:I,className:a,onKeyDown:b,tabIndex:i?0:-1},m,{children:v}))}),JR=t=>t.scrollTop;function rh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const E8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tv(t){return`scale(${t}, ${t**2})`}const T8={entering:{opacity:1,transform:tv(1)},entered:{opacity:1,transform:"none"}},sg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ZR=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:u,onEntered:c,onEntering:f,onExit:h,onExited:m,onExiting:S,style:E,timeout:b="auto",TransitionComponent:I=bi}=e,T=Ce(e,E8),v=kR(),_=w.useRef(),R=Ax(),L=w.useRef(null),N=Bn(L,jc(s),n),g=F=>H=>{if(F){const B=L.current;H===void 0?F(B):F(B,H)}},p=g(f),y=g((F,H)=>{JR(F);const{duration:B,delay:D,easing:z}=rh({style:E,timeout:b,easing:o},{mode:"enter"});let q;b==="auto"?(q=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=q):q=B,F.style.transition=[R.transitions.create("opacity",{duration:q,delay:D}),R.transitions.create("transform",{duration:sg?q:q*.666,delay:D,easing:z})].join(","),u&&u(F,H)}),C=g(c),j=g(S),A=g(F=>{const{duration:H,delay:B,easing:D}=rh({style:E,timeout:b,easing:o},{mode:"exit"});let z;b==="auto"?(z=R.transitions.getAutoHeightDuration(F.clientHeight),_.current=z):z=H,F.style.transition=[R.transitions.create("opacity",{duration:z,delay:B}),R.transitions.create("transform",{duration:sg?z:z*.666,delay:sg?B:B||z*.333,easing:D})].join(","),F.style.opacity=0,F.style.transform=tv(.75),h&&h(F)}),P=g(m),W=F=>{b==="auto"&&v.start(_.current||0,F),r&&r(L.current,F)};return l.jsx(I,V({appear:i,in:a,nodeRef:L,onEnter:y,onEntered:C,onEntering:p,onExit:A,onExited:P,onExiting:j,addEndListener:W,timeout:b==="auto"?null:b},T,{children:(F,H)=>w.cloneElement(s,V({style:V({opacity:0,transform:tv(.75),visibility:F==="exited"&&!a?"hidden":void 0},T8[F],E,s.props.style),ref:N},H))}))});ZR.muiSupportAuto=!0;function C8(t){const e=pr(t);return e.body===t?To(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function vu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function oS(t){return parseInt(To(t).getComputedStyle(t).paddingRight,10)||0}function I8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function aS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,u=!I8(o);a&&u&&vu(o,i)})}function og(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function k8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(C8(r)){const o=PR(pr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${oS(r)+o}px`;const a=pr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${oS(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=pr(r).body;else{const o=r.parentElement,a=To(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function R8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class P8{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&vu(e.modalRef,!1);const i=R8(n);aS(n,e.mount,e.modalRef,i,!0);const s=og(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=og(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=k8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=og(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&vu(e.modalRef,n),aS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&vu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const A8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function j8(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function O8(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function N8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||O8(t))}function L8(t){const e=[],n=[];return Array.from(t.querySelectorAll(A8)).forEach((r,i)=>{const s=j8(r);s===-1||!N8(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function M8(){return!0}function D8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=L8,isEnabled:o=M8,open:a}=t,u=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),h=w.useRef(null),m=w.useRef(null),S=w.useRef(!1),E=w.useRef(null),b=Bn(jc(e),E),I=w.useRef(null);w.useEffect(()=>{!a||!E.current||(S.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!E.current)return;const _=pr(E.current);return E.current.contains(_.activeElement)||(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),S.current&&E.current.focus()),()=>{i||(h.current&&h.current.focus&&(u.current=!0,h.current.focus()),h.current=null)}},[a]),w.useEffect(()=>{if(!a||!E.current)return;const _=pr(E.current),R=g=>{I.current=g,!(r||!o()||g.key!=="Tab")&&_.activeElement===E.current&&g.shiftKey&&(u.current=!0,f.current&&f.current.focus())},L=()=>{const g=E.current;if(g===null)return;if(!_.hasFocus()||!o()||u.current){u.current=!1;return}if(g.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==f.current)return;if(_.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!S.current)return;let p=[];if((_.activeElement===c.current||_.activeElement===f.current)&&(p=s(E.current)),p.length>0){var y,C;const j=!!((y=I.current)!=null&&y.shiftKey&&((C=I.current)==null?void 0:C.key)==="Tab"),A=p[0],P=p[p.length-1];typeof A!="string"&&typeof P!="string"&&(j?P.focus():A.focus())}else g.focus()};_.addEventListener("focusin",L),_.addEventListener("keydown",R,!0);const N=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(N),_.removeEventListener("focusin",L),_.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const T=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0,m.current=_.target;const R=e.props.onFocus;R&&R(_)},v=_=>{h.current===null&&(h.current=_.relatedTarget),S.current=!0};return l.jsxs(w.Fragment,{children:[l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:b,onFocus:T}),l.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:f,"data-testid":"sentinelEnd"})]})}function $8(t){return typeof t=="function"?t():t}const F8=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),u=Bn(w.isValidElement(r)?jc(r):null,n);if(Yi(()=>{s||a($8(i)||document.body)},[i,s]),Yi(()=>{if(o&&!s)return Gy(n,o),()=>{Gy(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const c={ref:u};return w.cloneElement(r,c)}return l.jsx(w.Fragment,{children:r})}return l.jsx(w.Fragment,{children:o&&a0.createPortal(r,o)})}),V8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],z8={entering:{opacity:1},entered:{opacity:1}},B8=w.forwardRef(function(e,n){const r=Ax(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:u,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:S,onExited:E,onExiting:b,style:I,timeout:T=i,TransitionComponent:v=bi}=e,_=Ce(e,V8),R=w.useRef(null),L=Bn(R,jc(a),n),N=W=>F=>{if(W){const H=R.current;F===void 0?W(H):W(H,F)}},g=N(m),p=N((W,F)=>{JR(W);const H=rh({style:I,timeout:T,easing:u},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",H),W.style.transition=r.transitions.create("opacity",H),f&&f(W,F)}),y=N(h),C=N(b),j=N(W=>{const F=rh({style:I,timeout:T,easing:u},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",F),W.style.transition=r.transitions.create("opacity",F),S&&S(W)}),A=N(E),P=W=>{s&&s(R.current,W)};return l.jsx(v,V({appear:o,in:c,nodeRef:R,onEnter:p,onEntered:y,onEntering:g,onExit:j,onExited:A,onExiting:C,addEndListener:P,timeout:T},_,{children:(W,F)=>w.cloneElement(a,V({style:V({opacity:0,visibility:W==="exited"&&!c?"hidden":void 0},z8[W],I,a.props.style),ref:L},F))}))});function U8(t){return pt("MuiBackdrop",t)}ut("MuiBackdrop",["root","invisible"]);const W8=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],H8=t=>{const{classes:e,invisible:n}=t;return bt({root:["root",n&&"invisible"]},U8,e)},q8=je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),K8=w.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:c="div",components:f={},componentsProps:h={},invisible:m=!1,open:S,slotProps:E={},slots:b={},TransitionComponent:I=B8,transitionDuration:T}=o,v=Ce(o,W8),_=V({},o,{component:c,invisible:m}),R=H8(_),L=(r=E.root)!=null?r:h.root;return l.jsx(I,V({in:S,timeout:T},v,{children:l.jsx(q8,V({"aria-hidden":!0},L,{as:(i=(s=b.root)!=null?s:f.Root)!=null?i:c,className:Ne(R.root,u,L==null?void 0:L.className),ownerState:V({},_,L==null?void 0:L.ownerState),classes:R,ref:n,children:a}))}))});function G8(t){return typeof t=="function"?t():t}function Q8(t){return t?t.props.hasOwnProperty("in"):!1}const Y8=new P8;function X8(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Y8,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:u,onClose:c,open:f,rootRef:h}=t,m=w.useRef({}),S=w.useRef(null),E=w.useRef(null),b=Bn(E,h),[I,T]=w.useState(!f),v=Q8(u);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const R=()=>pr(S.current),L=()=>(m.current.modalRef=E.current,m.current.mount=S.current,m.current),N=()=>{i.mount(L(),{disableScrollLock:r}),E.current&&(E.current.scrollTop=0)},g=ro(()=>{const H=G8(e)||R().body;i.add(L(),H),E.current&&N()}),p=w.useCallback(()=>i.isTopModal(L()),[i]),y=ro(H=>{S.current=H,H&&(f&&p()?N():E.current&&vu(E.current,_))}),C=w.useCallback(()=>{i.remove(L(),_)},[_,i]);w.useEffect(()=>()=>{C()},[C]),w.useEffect(()=>{f?g():(!v||!s)&&C()},[f,C,v,s,g]);const j=H=>B=>{var D;(D=H.onKeyDown)==null||D.call(H,B),!(B.key!=="Escape"||B.which===229||!p())&&(n||(B.stopPropagation(),c&&c(B,"escapeKeyDown")))},A=H=>B=>{var D;(D=H.onClick)==null||D.call(H,B),B.target===B.currentTarget&&c&&c(B,"backdropClick")};return{getRootProps:(H={})=>{const B=AR(t);delete B.onTransitionEnter,delete B.onTransitionExited;const D=V({},B,H);return V({role:"presentation"},D,{onKeyDown:j(D),ref:b})},getBackdropProps:(H={})=>{const B=H;return V({"aria-hidden":!0},B,{onClick:A(B),open:f})},getTransitionProps:()=>{const H=()=>{T(!1),o&&o()},B=()=>{T(!0),a&&a(),s&&C()};return{onEnter:A1(H,u==null?void 0:u.props.onEnter),onExited:A1(B,u==null?void 0:u.props.onExited)}},rootRef:b,portalRef:y,isTopModal:p,exited:I,hasTransition:v}}function J8(t){return pt("MuiModal",t)}ut("MuiModal",["root","hidden","backdrop"]);const Z8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],eU=t=>{const{open:e,exited:n,classes:r}=t;return bt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},J8,r)},tU=je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>V({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),nU=je(K8,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),rU=w.forwardRef(function(e,n){var r,i,s,o,a,u;const c=mt({name:"MuiModal",props:e}),{BackdropComponent:f=nU,BackdropProps:h,className:m,closeAfterTransition:S=!1,children:E,container:b,component:I,components:T={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:L=!1,disablePortal:N=!1,disableRestoreFocus:g=!1,disableScrollLock:p=!1,hideBackdrop:y=!1,keepMounted:C=!1,onBackdropClick:j,open:A,slotProps:P,slots:W}=c,F=Ce(c,Z8),H=V({},c,{closeAfterTransition:S,disableAutoFocus:_,disableEnforceFocus:R,disableEscapeKeyDown:L,disablePortal:N,disableRestoreFocus:g,disableScrollLock:p,hideBackdrop:y,keepMounted:C}),{getRootProps:B,getBackdropProps:D,getTransitionProps:z,portalRef:q,isTopModal:Q,exited:Y,hasTransition:J}=X8(V({},H,{rootRef:n})),ie=V({},H,{exited:Y}),me=eU(ie),ve={};if(E.props.tabIndex===void 0&&(ve.tabIndex="-1"),J){const{onEnter:ce,onExited:fe}=z();ve.onEnter=ce,ve.onExited=fe}const $=(r=(i=W==null?void 0:W.root)!=null?i:T.Root)!=null?r:tU,G=(s=(o=W==null?void 0:W.backdrop)!=null?o:T.Backdrop)!=null?s:f,U=(a=P==null?void 0:P.root)!=null?a:v.root,ne=(u=P==null?void 0:P.backdrop)!=null?u:v.backdrop,Z=Ya({elementType:$,externalSlotProps:U,externalForwardedProps:F,getSlotProps:B,additionalProps:{ref:n,as:I},ownerState:ie,className:Ne(m,U==null?void 0:U.className,me==null?void 0:me.root,!ie.open&&ie.exited&&(me==null?void 0:me.hidden))}),te=Ya({elementType:G,externalSlotProps:ne,additionalProps:h,getSlotProps:ce=>D(V({},ce,{onClick:fe=>{j&&j(fe),ce!=null&&ce.onClick&&ce.onClick(fe)}})),className:Ne(ne==null?void 0:ne.className,h==null?void 0:h.className,me==null?void 0:me.backdrop),ownerState:ie});return!C&&!A&&(!J||Y)?null:l.jsx(F8,{ref:q,container:b,disablePortal:N,children:l.jsxs($,V({},Z,{children:[!y&&f?l.jsx(G,V({},te)):null,l.jsx(D8,{disableEnforceFocus:R,disableAutoFocus:_,disableRestoreFocus:g,isEnabled:Q,open:A,children:w.cloneElement(E,ve)})]}))})});function iU(t){return pt("MuiPopover",t)}ut("MuiPopover",["root","paper"]);const sU=["onEntering"],oU=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],aU=["slotProps"];function lS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function uS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function cS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ag(t){return typeof t=="function"?t():t}const lU=t=>{const{classes:e}=t;return bt({root:["root"],paper:["paper"]},iU,e)},uU=je(rU,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),eP=je(jx,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cU=w.forwardRef(function(e,n){var r,i,s;const o=mt({props:e,name:"MuiPopover"}),{action:a,anchorEl:u,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:m,className:S,container:E,elevation:b=8,marginThreshold:I=16,open:T,PaperProps:v={},slots:_,slotProps:R,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:N=ZR,transitionDuration:g="auto",TransitionProps:{onEntering:p}={},disableScrollLock:y=!1}=o,C=Ce(o.TransitionProps,sU),j=Ce(o,oU),A=(r=R==null?void 0:R.paper)!=null?r:v,P=w.useRef(),W=Bn(P,A.ref),F=V({},o,{anchorOrigin:c,anchorReference:h,elevation:b,marginThreshold:I,externalPaperSlotProps:A,transformOrigin:L,TransitionComponent:N,transitionDuration:g,TransitionProps:C}),H=lU(F),B=w.useCallback(()=>{if(h==="anchorPosition")return f;const ce=ag(u),he=(ce&&ce.nodeType===1?ce:pr(P.current).body).getBoundingClientRect();return{top:he.top+lS(he,c.vertical),left:he.left+uS(he,c.horizontal)}},[u,c.horizontal,c.vertical,f,h]),D=w.useCallback(ce=>({vertical:lS(ce,L.vertical),horizontal:uS(ce,L.horizontal)}),[L.horizontal,L.vertical]),z=w.useCallback(ce=>{const fe={width:ce.offsetWidth,height:ce.offsetHeight},he=D(fe);if(h==="none")return{top:null,left:null,transformOrigin:cS(he)};const _e=B();let Xe=_e.top-he.vertical,Ee=_e.left-he.horizontal;const De=Xe+fe.height,$e=Ee+fe.width,qe=To(ag(u)),ft=qe.innerHeight-I,ht=qe.innerWidth-I;if(I!==null&&Xe<I){const Le=Xe-I;Xe-=Le,he.vertical+=Le}else if(I!==null&&De>ft){const Le=De-ft;Xe-=Le,he.vertical+=Le}if(I!==null&&Ee<I){const Le=Ee-I;Ee-=Le,he.horizontal+=Le}else if($e>ht){const Le=$e-ht;Ee-=Le,he.horizontal+=Le}return{top:`${Math.round(Xe)}px`,left:`${Math.round(Ee)}px`,transformOrigin:cS(he)}},[u,h,B,D,I]),[q,Q]=w.useState(T),Y=w.useCallback(()=>{const ce=P.current;if(!ce)return;const fe=z(ce);fe.top!==null&&(ce.style.top=fe.top),fe.left!==null&&(ce.style.left=fe.left),ce.style.transformOrigin=fe.transformOrigin,Q(!0)},[z]);w.useEffect(()=>(y&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[u,y,Y]);const J=(ce,fe)=>{p&&p(ce,fe),Y()},ie=()=>{Q(!1)};w.useEffect(()=>{T&&Y()}),w.useImperativeHandle(a,()=>T?{updatePosition:()=>{Y()}}:null,[T,Y]),w.useEffect(()=>{if(!T)return;const ce=IR(()=>{Y()}),fe=To(u);return fe.addEventListener("resize",ce),()=>{ce.clear(),fe.removeEventListener("resize",ce)}},[u,T,Y]);let me=g;g==="auto"&&!N.muiSupportAuto&&(me=void 0);const ve=E||(u?pr(ag(u)).body:void 0),$=(i=_==null?void 0:_.root)!=null?i:uU,G=(s=_==null?void 0:_.paper)!=null?s:eP,U=Ya({elementType:G,externalSlotProps:V({},A,{style:q?A.style:V({},A.style,{opacity:0})}),additionalProps:{elevation:b,ref:W},ownerState:F,className:Ne(H.paper,A==null?void 0:A.className)}),ne=Ya({elementType:$,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:j,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ve,open:T},ownerState:F,className:Ne(H.root,S)}),{slotProps:Z}=ne,te=Ce(ne,aU);return l.jsx($,V({},te,!Jf($)&&{slotProps:Z,disableScrollLock:y},{children:l.jsx(N,V({appear:!0,in:T,onEntering:J,onExited:ie,timeout:me},C,{children:l.jsx(G,V({},U,{children:m}))}))}))});function dU(t){return pt("MuiMenu",t)}ut("MuiMenu",["root","paper","list"]);const fU=["onEntering"],hU=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],pU={vertical:"top",horizontal:"right"},mU={vertical:"top",horizontal:"left"},gU=t=>{const{classes:e}=t;return bt({root:["root"],paper:["paper"],list:["list"]},dU,e)},yU=je(cU,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vU=je(eP,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xU=je(S8,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),_U=w.forwardRef(function(e,n){var r,i;const s=mt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:S={},PopoverClasses:E,transitionDuration:b="auto",TransitionProps:{onEntering:I}={},variant:T="selectedMenu",slots:v={},slotProps:_={}}=s,R=Ce(s.TransitionProps,fU),L=Ce(s,hU),N=pV(),g=V({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:f,onEntering:I,PaperProps:S,transitionDuration:b,TransitionProps:R,variant:T}),p=gU(g),y=o&&!c&&m,C=w.useRef(null),j=(D,z)=>{C.current&&C.current.adjustStyleForScrollbar(D,{direction:N?"rtl":"ltr"}),I&&I(D,z)},A=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let P=-1;w.Children.map(a,(D,z)=>{w.isValidElement(D)&&(D.props.disabled||(T==="selectedMenu"&&D.props.selected||P===-1)&&(P=z))});const W=(r=v.paper)!=null?r:vU,F=(i=_.paper)!=null?i:S,H=Ya({elementType:v.root,externalSlotProps:_.root,ownerState:g,className:[p.root,u]}),B=Ya({elementType:W,externalSlotProps:F,ownerState:g,className:p.paper});return l.jsx(yU,V({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?pU:mU,slots:{paper:W,root:v.root},slotProps:{root:H,paper:B},open:m,ref:n,transitionDuration:b,TransitionProps:V({onEntering:j},R),ownerState:g},L,{classes:E,children:l.jsx(xU,V({onKeyDown:A,actions:C,autoFocus:o&&(P===-1||c),autoFocusItem:y,variant:T},f,{className:Ne(p.list,f.className),children:a}))}))});function bU(t){return pt("MuiNativeSelect",t)}const $x=ut("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),wU=["className","disabled","error","IconComponent","inputRef","variant"],SU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,s&&"iconOpen",r&&"disabled"]};return bt(a,bU,e)},tP=({ownerState:t,theme:e})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${$x.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),EU=je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Dr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${$x.multiple}`]:e.multiple}]}})(tP),nP=({ownerState:t,theme:e})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${$x.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),TU=je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ke(n.variant)}`],n.open&&e.iconOpen]}})(nP),CU=w.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:u="standard"}=e,c=Ce(e,wU),f=V({},e,{disabled:i,variant:u,error:s}),h=SU(f);return l.jsxs(w.Fragment,{children:[l.jsx(EU,V({ownerState:f,className:Ne(h.select,r),disabled:i,ref:a||n},c)),e.multiple?null:l.jsx(TU,{as:o,ownerState:f,className:h.icon})]})});function IU(t){return pt("MuiSelect",t)}const Fl=ut("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var dS;const kU=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],RU=je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Fl.select}`]:e.select},{[`&.${Fl.select}`]:e[n.variant]},{[`&.${Fl.error}`]:e.error},{[`&.${Fl.multiple}`]:e.multiple}]}})(tP,{[`&.${Fl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),PU=je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ke(n.variant)}`],n.open&&e.iconOpen]}})(nP),AU=je("input",{shouldForwardProp:t=>HR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function jU(t){return t==null||typeof t=="string"&&!t.trim()}const OU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return bt(a,IU,e)},NU=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:S,error:E=!1,IconComponent:b,inputRef:I,labelId:T,MenuProps:v={},multiple:_,name:R,onBlur:L,onChange:N,onClose:g,onFocus:p,onOpen:y,open:C,readOnly:j,renderValue:A,SelectDisplayProps:P={},tabIndex:W,value:F,variant:H="standard"}=e,B=Ce(e,kU),[D,z]=N1({controlled:F,default:h,name:"Select"}),[q,Q]=N1({controlled:C,default:f,name:"Select"}),Y=w.useRef(null),J=w.useRef(null),[ie,me]=w.useState(null),{current:ve}=w.useRef(C!=null),[$,G]=w.useState(),U=Bn(n,I),ne=w.useCallback(we=>{J.current=we,we&&me(we)},[]),Z=ie==null?void 0:ie.parentNode;w.useImperativeHandle(U,()=>({focus:()=>{J.current.focus()},node:Y.current,value:D}),[D]),w.useEffect(()=>{f&&q&&ie&&!ve&&(G(a?null:Z.clientWidth),J.current.focus())},[ie,a]),w.useEffect(()=>{o&&J.current.focus()},[o]),w.useEffect(()=>{if(!T)return;const we=pr(J.current).getElementById(T);if(we){const nt=()=>{getSelection().isCollapsed&&J.current.focus()};return we.addEventListener("click",nt),()=>{we.removeEventListener("click",nt)}}},[T]);const te=(we,nt)=>{we?y&&y(nt):g&&g(nt),ve||(G(a?null:Z.clientWidth),Q(we))},ce=we=>{we.button===0&&(we.preventDefault(),J.current.focus(),te(!0,we))},fe=we=>{te(!1,we)},he=w.Children.toArray(u),_e=we=>{const nt=he.find(He=>He.props.value===we.target.value);nt!==void 0&&(z(nt.props.value),N&&N(we,nt))},Xe=we=>nt=>{let He;if(nt.currentTarget.hasAttribute("tabindex")){if(_){He=Array.isArray(D)?D.slice():[];const Xr=D.indexOf(we.props.value);Xr===-1?He.push(we.props.value):He.splice(Xr,1)}else He=we.props.value;if(we.props.onClick&&we.props.onClick(nt),D!==He&&(z(He),N)){const Xr=nt.nativeEvent||nt,Do=new Xr.constructor(Xr.type,Xr);Object.defineProperty(Do,"target",{writable:!0,value:{value:He,name:R}}),N(Do,we)}_||te(!1,nt)}},Ee=we=>{j||[" ","ArrowUp","ArrowDown","Enter"].indexOf(we.key)!==-1&&(we.preventDefault(),te(!0,we))},De=ie!==null&&q,$e=we=>{!De&&L&&(Object.defineProperty(we,"target",{writable:!0,value:{value:D,name:R}}),L(we))};delete B["aria-invalid"];let qe,ft;const ht=[];let Le=!1;(nh({value:D})||S)&&(A?qe=A(D):Le=!0);const gt=he.map(we=>{if(!w.isValidElement(we))return null;let nt;if(_){if(!Array.isArray(D))throw new Error(Eo(2));nt=D.some(He=>fS(He,we.props.value)),nt&&Le&&ht.push(we.props.children)}else nt=fS(D,we.props.value),nt&&Le&&(ft=we.props.children);return w.cloneElement(we,{"aria-selected":nt?"true":"false",onClick:Xe(we),onKeyUp:He=>{He.key===" "&&He.preventDefault(),we.props.onKeyUp&&we.props.onKeyUp(He)},role:"option",selected:nt,value:void 0,"data-value":we.props.value})});Le&&(_?ht.length===0?qe=null:qe=ht.reduce((we,nt,He)=>(we.push(nt),He<ht.length-1&&we.push(", "),we),[]):qe=ft);let Ie=$;!a&&ve&&ie&&(Ie=Z.clientWidth);let Be;typeof W<"u"?Be=W:Be=m?null:0;const Oe=P.id||(R?`mui-component-select-${R}`:void 0),Te=V({},e,{variant:H,value:D,open:De,error:E}),Et=OU(Te),qt=V({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Je=Sx();return l.jsxs(w.Fragment,{children:[l.jsx(RU,V({ref:ne,tabIndex:Be,role:"combobox","aria-controls":Je,"aria-disabled":m?"true":void 0,"aria-expanded":De?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[T,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ee,onMouseDown:m||j?null:ce,onBlur:$e,onFocus:p},P,{ownerState:Te,className:Ne(P.className,Et.select,c),id:Oe,children:jU(qe)?dS||(dS=l.jsx("span",{className:"notranslate",children:"​"})):qe})),l.jsx(AU,V({"aria-invalid":E,value:Array.isArray(D)?D.join(","):D,name:R,ref:Y,"aria-hidden":!0,onChange:_e,tabIndex:-1,disabled:m,className:Et.nativeInput,autoFocus:o,ownerState:Te},B)),l.jsx(PU,{as:b,className:Et.icon,ownerState:Te}),l.jsx(_U,V({id:`menu-${R||""}`,anchorEl:Z,open:De,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:V({"aria-labelledby":T,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Je},v.MenuListProps),slotProps:V({},v.slotProps,{paper:V({},qt,{style:V({minWidth:Ie},qt!=null?qt.style:null)})}),children:gt}))]})});function LU(t){return pt("MuiSvgIcon",t)}ut("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const MU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],DU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ke(e)}`,`fontSize${Ke(n)}`]};return bt(i,LU,r)},$U=je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ke(n.color)}`],e[`fontSize${Ke(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,u,c,f,h,m,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem",large:((c=t.typography)==null||(f=c.pxToRem)==null?void 0:f.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(m=(t.vars||t).palette)==null||(m=m[e.color])==null?void 0:m.main)!=null?h:{action:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(E=(t.vars||t).palette)==null||(E=E.action)==null?void 0:E.disabled,inherit:void 0}[e.color]}}),nv=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=r,S=Ce(r,MU),E=w.isValidElement(i)&&i.type==="svg",b=V({},r,{color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:E}),I={};f||(I.viewBox=m);const T=DU(b);return l.jsxs($U,V({as:a,className:Ne(T.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},I,S,E&&i.props,{ownerState:b,children:[E?i.props.children:i,h?l.jsx("title",{children:h}):null]}))});nv.muiName="SvgIcon";function FU(t,e){function n(r,i){return l.jsx(nv,V({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=nv.muiName,w.memo(w.forwardRef(n))}const VU=FU(l.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],BU=["root"],UU=t=>{const{classes:e}=t;return e},Fx={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Dr(t)&&t!=="variant",slot:"Root"},WU=je(Lx,Fx)(""),HU=je(Dx,Fx)(""),qU=je(Mx,Fx)(""),Vx=w.forwardRef(function(e,n){const r=mt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:f=VU,id:h,input:m,inputProps:S,label:E,labelId:b,MenuProps:I,multiple:T=!1,native:v=!1,onClose:_,onOpen:R,open:L,renderValue:N,SelectDisplayProps:g,variant:p="outlined"}=r,y=Ce(r,zU),C=v?CU:NU,j=gl(),A=ml({props:r,muiFormControl:j,states:["variant","error"]}),P=A.variant||p,W=V({},r,{variant:P,classes:o}),F=UU(W),H=Ce(F,BU),B=m||{standard:l.jsx(WU,{ownerState:W}),outlined:l.jsx(HU,{label:E,ownerState:W}),filled:l.jsx(qU,{ownerState:W})}[P],D=Bn(n,jc(B));return l.jsx(w.Fragment,{children:w.cloneElement(B,V({inputComponent:C,inputProps:V({children:s,error:A.error,IconComponent:f,variant:P,type:void 0,multiple:T},v?{id:h}:{autoWidth:i,defaultOpen:u,displayEmpty:c,labelId:b,MenuProps:I,onClose:_,onOpen:R,open:L,renderValue:N,SelectDisplayProps:V({id:h},g)},S,{classes:S?hr(H,S.classes):H},m?m.props.inputProps:{})},(T&&v||c)&&P==="outlined"?{notched:!0}:{},{ref:D,className:Ne(B.props.className,a,F.root)},!m&&{variant:P},y))})});Vx.muiName="Select";function KU(t){return pt("MuiTextField",t)}ut("MuiTextField",["root"]);const GU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],QU={standard:Lx,filled:Mx,outlined:Dx},YU=t=>{const{classes:e}=t;return bt({root:["root"]},KU,e)},XU=je(YR,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ss=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:u="primary",defaultValue:c,disabled:f=!1,error:h=!1,FormHelperTextProps:m,fullWidth:S=!1,helperText:E,id:b,InputLabelProps:I,inputProps:T,InputProps:v,inputRef:_,label:R,maxRows:L,minRows:N,multiline:g=!1,name:p,onBlur:y,onChange:C,onFocus:j,placeholder:A,required:P=!1,rows:W,select:F=!1,SelectProps:H,type:B,value:D,variant:z="outlined"}=r,q=Ce(r,GU),Q=V({},r,{autoFocus:s,color:u,disabled:f,error:h,fullWidth:S,multiline:g,required:P,select:F,variant:z}),Y=YU(Q),J={};z==="outlined"&&(I&&typeof I.shrink<"u"&&(J.notched=I.shrink),J.label=R),F&&((!H||!H.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const ie=Sx(b),me=E&&ie?`${ie}-helper-text`:void 0,ve=R&&ie?`${ie}-label`:void 0,$=QU[z],G=l.jsx($,V({"aria-describedby":me,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:S,multiline:g,name:p,rows:W,maxRows:L,minRows:N,type:B,value:D,id:ie,inputRef:_,onBlur:y,onChange:C,onFocus:j,placeholder:A,inputProps:T},J,v));return l.jsxs(XU,V({className:Ne(Y.root,a),disabled:f,error:h,fullWidth:S,ref:n,required:P,color:u,variant:z,ownerState:Q},q,{children:[R!=null&&R!==""&&l.jsx(a8,V({htmlFor:ie,id:ve},I,{children:R})),F?l.jsx(Vx,V({"aria-describedby":me,id:ie,labelId:ve,value:D,input:G},H,{children:o})):G,E&&l.jsx(g8,V({id:me},m,{children:E}))]}))});function JU(t){return pt("MuiCard",t)}ut("MuiCard",["root"]);const ZU=["className","raised"],e9=t=>{const{classes:e}=t;return bt({root:["root"]},JU,e)},t9=je(jx,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Jd=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=Ce(r,ZU),a=V({},r,{raised:s}),u=e9(a);return l.jsx(t9,V({className:Ne(u.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});function n9(t){return pt("MuiCardContent",t)}ut("MuiCardContent",["root"]);const r9=["className","component"],i9=t=>{const{classes:e}=t;return bt({root:["root"]},n9,e)},s9=je("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Zd=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=Ce(r,r9),a=V({},r,{component:s}),u=i9(a);return l.jsx(s9,V({as:s,className:Ne(u.root,i),ownerState:a,ref:n},o))});function o9(t){return pt("MuiCardMedia",t)}ut("MuiCardMedia",["root","media","img"]);const a9=["children","className","component","image","src","style"],l9=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return bt({root:["root",n&&"media",r&&"img"]},o9,e)},u9=je("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>V({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),c9=["video","audio","picture","iframe","img"],d9=["picture","img"],hS=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:u,style:c}=r,f=Ce(r,a9),h=c9.indexOf(o)!==-1,m=!h&&a?V({backgroundImage:`url("${a}")`},c):c,S=V({},r,{component:o,isMediaComponent:h,isImageComponent:d9.indexOf(o)!==-1}),E=l9(S);return l.jsx(u9,V({className:Ne(E.root,s),as:o,role:!h&&a?"img":void 0,ref:n,style:m,ownerState:S,src:h?a||u:void 0},f,{children:i}))});var rP={},iP={},Gp={},sP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(sP);var f9="Expected a function",pS=NaN,h9="[object Symbol]",p9=/^\s+|\s+$/g,m9=/^[-+]0x[0-9a-f]+$/i,g9=/^0b[01]+$/i,y9=/^0o[0-7]+$/i,v9=parseInt,x9=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul,_9=typeof self=="object"&&self&&self.Object===Object&&self,b9=x9||_9||Function("return this")(),w9=Object.prototype,S9=w9.toString,E9=Math.max,T9=Math.min,lg=function(){return b9.Date.now()};function C9(t,e,n){var r,i,s,o,a,u,c=0,f=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(f9);e=mS(e)||0,rv(n)&&(f=!!n.leading,h="maxWait"in n,s=h?E9(mS(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function S(N){var g=r,p=i;return r=i=void 0,c=N,o=t.apply(p,g),o}function E(N){return c=N,a=setTimeout(T,e),f?S(N):o}function b(N){var g=N-u,p=N-c,y=e-g;return h?T9(y,s-p):y}function I(N){var g=N-u,p=N-c;return u===void 0||g>=e||g<0||h&&p>=s}function T(){var N=lg();if(I(N))return v(N);a=setTimeout(T,b(N))}function v(N){return a=void 0,m&&r?S(N):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=u=i=a=void 0}function R(){return a===void 0?o:v(lg())}function L(){var N=lg(),g=I(N);if(r=arguments,i=this,u=N,g){if(a===void 0)return E(u);if(h)return a=setTimeout(T,e),S(u)}return a===void 0&&(a=setTimeout(T,e)),o}return L.cancel=_,L.flush=R,L}function rv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function I9(t){return!!t&&typeof t=="object"}function k9(t){return typeof t=="symbol"||I9(t)&&S9.call(t)==h9}function mS(t){if(typeof t=="number")return t;if(k9(t))return pS;if(rv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(p9,"");var n=g9.test(t);return n||y9.test(t)?v9(t.slice(2),n?2:8):m9.test(t)?pS:+t}var R9=C9,oP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oP);var Qp=oP.exports,ue={},zx={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(w);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(zx);Object.defineProperty(ue,"__esModule",{value:!0});ue.checkSpecKeys=ue.checkNavigable=ue.changeSlide=ue.canUseDOM=ue.canGoNext=void 0;ue.clamp=lP;ue.extractObject=void 0;ue.filterSettings=W9;ue.validSettings=ue.swipeStart=ue.swipeMove=ue.swipeEnd=ue.slidesOnRight=ue.slidesOnLeft=ue.slideHandler=ue.siblingDirection=ue.safePreventDefault=ue.lazyStartIndex=ue.lazySlidesOnRight=ue.lazySlidesOnLeft=ue.lazyEndIndex=ue.keyHandler=ue.initializedState=ue.getWidth=ue.getTrackLeft=ue.getTrackCSS=ue.getTrackAnimateCSS=ue.getTotalSlides=ue.getSwipeDirection=ue.getSlideCount=ue.getRequiredLazySlides=ue.getPreClones=ue.getPostClones=ue.getOnDemandLazySlides=ue.getNavigableIndexes=ue.getHeight=void 0;var P9=aP(w),A9=aP(zx);function aP(t){return t&&t.__esModule?t:{default:t}}function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){j9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j9(t,e,n){return(e=O9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=N9(t,"string");return Xu(e)=="symbol"?e:e+""}function N9(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lP(t,e,n){return Math.max(e,Math.min(t,n))}var Ra=ue.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},uP=ue.getOnDemandLazySlides=function(e){for(var n=[],r=cP(e),i=dP(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};ue.getRequiredLazySlides=function(e){for(var n=[],r=cP(e),i=dP(e),s=r;s<i;s++)n.push(s);return n};var cP=ue.lazyStartIndex=function(e){return e.currentSlide-L9(e)},dP=ue.lazyEndIndex=function(e){return e.currentSlide+M9(e)},L9=ue.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},M9=ue.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},iv=ue.getWidth=function(e){return e&&e.offsetWidth||0},fP=ue.getHeight=function(e){return e&&e.offsetHeight||0},hP=ue.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},pP=ue.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};ue.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};ue.initializedState=function(e){var n=P9.default.Children.count(e.children),r=e.listRef,i=Math.ceil(iv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(iv(s)),a;if(e.vertical)a=i;else{var u=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(u*=i/100),a=Math.ceil((i-u)/e.slidesToShow)}var c=r&&fP(r.querySelector('[data-index="0"]')),f=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],S=uP(Ot(Ot({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(S);var E={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:f,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(E.autoplaying="playing"),E};ue.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,u=e.lazyLoad,c=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,S=e.useCSS,E=e.lazyLoadedList;if(n&&r)return{};var b=o,I,T,v,_={},R={},L=s?o:lP(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?b=o+a:o>=a&&(b=o-a),u&&E.indexOf(b)<0&&(E=E.concat(b)),_={animating:!0,currentSlide:b,lazyLoadedList:E,targetSlide:b},R={animating:!1,targetSlide:b}}else I=b,b<0?(I=b+a,s?a%h!==0&&(I=a-a%h):I=0):!pP(e)&&b>c?b=I=c:f&&b>=a?(b=s?a:a-1,I=s?0:a-1):b>=a&&(I=b-a,s?a%h!==0&&(I=0):I=a-m),!s&&b+m>=a&&(I=a-m),T=sh(Ot(Ot({},e),{},{slideIndex:b})),v=sh(Ot(Ot({},e),{},{slideIndex:I})),s||(T===v&&(b=I),T=v),u&&(E=E.concat(uP(Ot(Ot({},e),{},{currentSlide:b})))),S?(_={animating:!0,currentSlide:I,trackStyle:mP(Ot(Ot({},e),{},{left:T})),lazyLoadedList:E,targetSlide:L},R={animating:!1,currentSlide:I,trackStyle:ih(Ot(Ot({},e),{},{left:v})),swipeLeft:null,targetSlide:L}):_={currentSlide:I,trackStyle:ih(Ot(Ot({},e),{},{left:v})),lazyLoadedList:E,targetSlide:L};return{state:_,nextState:R}};ue.changeSlide=function(e,n){var r,i,s,o,a,u=e.slidesToScroll,c=e.slidesToShow,f=e.slideCount,h=e.currentSlide,m=e.targetSlide,S=e.lazyLoad,E=e.infinite;if(o=f%u!==0,r=o?0:(f-h)%u,n.message==="previous")s=r===0?u:c-r,a=h-s,S&&!E&&(i=h-s,a=i===-1?f-1:i),E||(a=m-u);else if(n.message==="next")s=r===0?u:r,a=h+s,S&&!E&&(a=(h+u)%f+r),E||(a=m+u);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,E){var b=V9(Ot(Ot({},e),{},{targetSlide:a}));a>n.currentSlide&&b==="left"?a=a-f:a<n.currentSlide&&b==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};ue.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};ue.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Ra(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};ue.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,u=n.rtl,c=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,S=n.swiped,E=n.swiping,b=n.slideCount,I=n.slidesToScroll,T=n.infinite,v=n.touchObject,_=n.swipeEvent,R=n.listHeight,L=n.listWidth;if(!r){if(i)return Ra(e);s&&o&&a&&Ra(e);var N,g={},p=sh(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var y=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!E&&y>10)return{scrolling:!0};a&&(v.swipeLength=y);var C=(u?-1:1)*(v.curX>v.startX?1:-1);a&&(C=v.curY>v.startY?1:-1);var j=Math.ceil(b/I),A=hP(n.touchObject,a),P=v.swipeLength;return T||(c===0&&(A==="right"||A==="down")||c+1>=j&&(A==="left"||A==="up")||!pP(n)&&(A==="left"||A==="up"))&&(P=v.swipeLength*f,h===!1&&m&&(m(A),g.edgeDragged=!0)),!S&&_&&(_(A),g.swiped=!0),s?N=p+P*(R/L)*C:u?N=p-P*C:N=p+P*C,a&&(N=p+P*C),g=Ot(Ot({},g),{},{touchObject:v,swipeLeft:N,trackStyle:ih(Ot(Ot({},n),{},{left:N}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(g.swiping=!0,Ra(e)),g}};ue.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,u=n.verticalSwiping,c=n.listHeight,f=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,S=n.targetSlide,E=n.currentSlide,b=n.infinite;if(!r)return i&&Ra(e),{};var I=u?c/a:o/a,T=hP(s,u),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>I){Ra(e),m&&m(T);var _,R,L=b?E:S;switch(T){case"left":case"up":R=L+vS(n),_=f?yS(n,R):R,v.currentDirection=0;break;case"right":case"down":R=L-vS(n),_=f?yS(n,R):R,v.currentDirection=1;break;default:_=L}v.triggerSlideHandler=_}else{var N=sh(n);v.trackStyle=mP(Ot(Ot({},n),{},{left:N}))}return v};var D9=ue.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},yS=ue.checkNavigable=function(e,n){var r=D9(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},vS=ue.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(u){if(e.vertical){if(u.offsetTop+fP(u)/2>e.swipeLeft*-1)return r=u,!1}else if(u.offsetLeft-n+iv(u)/2>e.swipeLeft*-1)return r=u,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},Bx=ue.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},ih=ue.getTrackCSS=function(e){Bx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r;if(!e.vertical)n=F9(e)*e.slideWidth;else{var i=e.unslick?e.slideCount:e.slideCount+2*e.slidesToShow;r=i*e.slideHeight}var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ot(Ot({},s),{},{WebkitTransform:o,transform:a,msTransform:u})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},mP=ue.getTrackAnimateCSS=function(e){Bx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ih(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},sh=ue.getTrackLeft=function(e){if(e.unslick)return 0;Bx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,m=e.slideHeight,S=e.fade,E=e.vertical,b=0,I,T,v=0;if(S||e.slideCount===1)return 0;var _=0;if(i?(_=-ef(e),o%u!==0&&n+u>o&&(_=-(n>o?a-(n-o):o%u)),s&&(_+=parseInt(a/2))):(o%u!==0&&n+u>o&&(_=a-o%u),s&&(_=parseInt(a/2))),b=_*c,v=_*m,E?I=n*m*-1+v:I=n*c*-1+b,h===!0){var R,L=r&&r.node;if(R=n+ef(e),T=L&&L.childNodes[R],I=T?T.offsetLeft*-1:0,s===!0){R=i?n+ef(e):n,T=L&&L.children[R],I=0;for(var N=0;N<R;N++)I-=L&&L.children[N]&&L.children[N].offsetWidth;I-=parseInt(e.centerPadding),I+=T&&(f-T.offsetWidth)/2}}return I},ef=ue.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},$9=ue.getPostClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},F9=ue.getTotalSlides=function(e){return e.slideCount===1?1:ef(e)+e.slideCount+$9(e)},V9=ue.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+z9(e)?"left":"right":e.targetSlide<e.currentSlide-B9(e)?"right":"left"},z9=ue.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},B9=ue.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};ue.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var U9=ue.validSettings=Object.keys(A9.default);function W9(t){return U9.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Track=void 0;var ls=gP(w),ug=gP(Qp),Sd=ue;function gP(t){return t&&t.__esModule?t:{default:t}}function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}function H9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vP(r.key),r)}}function K9(t,e,n){return e&&q9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ov(t,e)}function Q9(t){var e=yP();return function(){var n,r=oh(t);if(e){var i=oh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y9(this,n)}}function Y9(t,e){if(e&&(Za(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return av(t)}function av(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yP=function(){return!!t})()}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t,e,n){return(e=vP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vP(t){var e=X9(t,"string");return Za(e)=="symbol"?e:e+""}function X9(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var u=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":u}},J9=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},dg=function(e,n){return e.key||n},Z9=function(e){var n,r=[],i=[],s=[],o=ls.default.Children.count(e.children),a=(0,Sd.lazyStartIndex)(e),u=(0,Sd.lazyEndIndex)(e);return ls.default.Children.forEach(e.children,function(c,f){var h,m={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=c:h=ls.default.createElement("div",null);var S=J9(Xn(Xn({},e),{},{index:f})),E=h.props.className||"",b=cg(Xn(Xn({},e),{},{index:f}));if(r.push(ls.default.cloneElement(h,{key:"original"+dg(h,f),"data-index":f,className:(0,ug.default)(b,E),tabIndex:"-1","aria-hidden":!b["slick-active"],style:Xn(Xn({outline:"none"},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&o>1&&e.fade===!1&&!e.unslick){var I=o-f;I<=(0,Sd.getPreClones)(e)&&(n=-I,n>=a&&(h=c),b=cg(Xn(Xn({},e),{},{index:n})),i.push(ls.default.cloneElement(h,{key:"precloned"+dg(h,n),"data-index":n,tabIndex:"-1",className:(0,ug.default)(b,E),"aria-hidden":!b["slick-active"],style:Xn(Xn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}}))),f<(0,Sd.getPostClones)(e)&&(n=o+f,n<u&&(h=c),b=cg(Xn(Xn({},e),{},{index:n})),s.push(ls.default.cloneElement(h,{key:"postcloned"+dg(h,n),"data-index":n,tabIndex:"-1",className:(0,ug.default)(b,E),"aria-hidden":!b["slick-active"],style:Xn(Xn({},h.props.style||{}),S),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(m)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};Yp.Track=function(t){G9(n,t);var e=Q9(n);function n(){var r;H9(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),lv(av(r),"node",null),lv(av(r),"handleRef",function(a){r.node=a}),r}return K9(n,[{key:"render",value:function(){var i=Z9(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,u=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:u};return ls.default.createElement("div",sv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(ls.default.PureComponent);var Xp={};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}Object.defineProperty(Xp,"__esModule",{value:!0});Xp.Dots=void 0;var Ed=xP(w),eW=xP(Qp),_S=ue;function xP(t){return t&&t.__esModule?t:{default:t}}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){nW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nW(t,e,n){return(e=_P(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_P(r.key),r)}}function sW(t,e,n){return e&&iW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _P(t){var e=oW(t,"string");return el(e)=="symbol"?e:e+""}function oW(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uv(t,e)}function lW(t){var e=bP();return function(){var n,r=ah(t);if(e){var i=ah(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uW(this,n)}}function uW(t,e){if(e&&(el(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(t)}var dW=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Xp.Dots=function(t){aW(n,t);var e=lW(n);function n(){return rW(this,n),e.apply(this,arguments)}return sW(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,u=i.infinite,c=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,m=i.currentSlide,S=dW({slideCount:h,slidesToScroll:c,slidesToShow:f,infinite:u}),E={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},b=[],I=0;I<S;I++){var T=(I+1)*c-1,v=u?T:(0,_S.clamp)(T,0,h-1),_=v-(c-1),R=u?_:(0,_S.clamp)(_,0,h-1),L=(0,eW.default)({"slick-active":u?m>=R&&m<=v:m===R}),N={message:"dots",index:I,slidesToScroll:c,currentSlide:m},g=this.clickHandler.bind(this,N);b=b.concat(Ed.default.createElement("li",{key:I,className:L},Ed.default.cloneElement(this.props.customPaging(I),{onClick:g})))}return Ed.default.cloneElement(this.props.appendDots(b),tW({className:this.props.dotsClass},E))}}]),n}(Ed.default.PureComponent);var tl={};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}Object.defineProperty(tl,"__esModule",{value:!0});tl.PrevArrow=tl.NextArrow=void 0;var Pa=SP(w),wP=SP(Qp),fW=ue;function SP(t){return t&&t.__esModule?t:{default:t}}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=CP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CP(r.key),r)}}function TP(t,e,n){return e&&pW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CP(t){var e=mW(t,"string");return nl(e)=="symbol"?e:e+""}function mW(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cv(t,e)}function kP(t){var e=RP();return function(){var n,r=ch(t);if(e){var i=ch(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gW(this,n)}}function gW(t,e){if(e&&(nl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yW(t)}function yW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}tl.PrevArrow=function(t){IP(n,t);var e=kP(n);function n(){return EP(this,n),e.apply(this,arguments)}return TP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.prevArrow?u=Pa.default.cloneElement(this.props.prevArrow,uh(uh({},o),a)):u=Pa.default.createElement("button",lh({key:"0",type:"button"},o)," ","Previous"),u}}]),n}(Pa.default.PureComponent);tl.NextArrow=function(t){IP(n,t);var e=kP(n);function n(){return EP(this,n),e.apply(this,arguments)}return TP(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,fW.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,wP.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},u;return this.props.nextArrow?u=Pa.default.cloneElement(this.props.nextArrow,uh(uh({},o),a)):u=Pa.default.createElement("button",lh({key:"1",type:"button"},o)," ","Next"),u}}]),n}(Pa.default.PureComponent);var PP=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),dv=typeof window<"u"&&typeof document<"u"&&window.document===document,dh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vW=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),xW=2;function _W(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){vW(s)}function a(){var u=Date.now();if(n){if(u-i<xW)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var bW=20,wW=["top","right","bottom","left","width","height","size","weight"],SW=typeof MutationObserver<"u",EW=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_W(this.refresh.bind(this),bW)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!dv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SW?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!dv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=wW.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),AP=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},rl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||dh},jP=Jp(0,0,0,0);function fh(t){return parseFloat(t)||0}function SS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+fh(s)},0)}function TW(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=fh(o)}return n}function CW(t){var e=t.getBBox();return Jp(0,0,e.width,e.height)}function IW(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return jP;var r=rl(t).getComputedStyle(t),i=TW(r),s=i.left+i.right,o=i.top+i.bottom,a=fh(r.width),u=fh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=SS(r,"left","right")+s),Math.round(u+o)!==n&&(u-=SS(r,"top","bottom")+o)),!RW(t)){var c=Math.round(a+s)-e,f=Math.round(u+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return Jp(i.left,i.top,a,u)}var kW=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof rl(t).SVGGraphicsElement}:function(t){return t instanceof rl(t).SVGElement&&typeof t.getBBox=="function"}}();function RW(t){return t===rl(t).document.documentElement}function PW(t){return dv?kW(t)?CW(t):IW(t):jP}function AW(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return AP(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Jp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var jW=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Jp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=PW(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),OW=function(){function t(e,n){var r=AW(n);AP(this,{target:e,contentRect:r})}return t}(),NW=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new PP,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new jW(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new OW(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),OP=typeof WeakMap<"u"?new WeakMap:new PP,NP=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=EW.getInstance(),r=new NW(e,n,this);OP.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){NP.prototype[t]=function(){var e;return(e=OP.get(this))[t].apply(e,arguments)}});var LW=function(){return typeof dh.ResizeObserver<"u"?dh.ResizeObserver:NP}();const MW=Object.freeze(Object.defineProperty({__proto__:null,default:LW},Symbol.toStringTag,{value:"Module"})),DW=Xi(MW);Object.defineProperty(Gp,"__esModule",{value:!0});Gp.InnerSlider=void 0;var Wn=Nc(w),$W=Nc(sP),FW=Nc(R9),VW=Nc(Qp),Mt=ue,zW=Yp,BW=Xp,ES=tl,UW=Nc(DW);function Nc(t){return t&&t.__esModule?t:{default:t}}function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(null,arguments)}function WW(t,e){if(t==null)return{};var n,r,i=HW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){Qe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MP(r.key),r)}}function GW(t,e,n){return e&&KW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fv(t,e)}function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fv(t,e)}function YW(t){var e=LP();return function(){var n,r=ph(t);if(e){var i=ph(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XW(this,n)}}function XW(t,e){if(e&&(Co(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function Ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}function Qe(t,e,n){return(e=MP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MP(t){var e=JW(t,"string");return Co(e)=="symbol"?e:e+""}function JW(t,e){if(Co(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Gp.InnerSlider=function(t){QW(n,t);var e=YW(n);function n(r){var i;qW(this,n),i=e.call(this,r),Qe(Ge(i),"listRefHandler",function(o){return i.list=o}),Qe(Ge(i),"trackRefHandler",function(o){return i.track=o}),Qe(Ge(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Mt.getHeight)(o)+"px"}}),Qe(Ge(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Mt.getOnDemandLazySlides)(Me(Me({},i.props),i.state));o.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Me({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new UW.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(u){u.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,u.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Qe(Ge(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Qe(Ge(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Mt.getOnDemandLazySlides)(Me(Me({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var u=Me(Me({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(u,c,function(){i.state.currentSlide>=Wn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Wn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Qe(Ge(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,FW.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Qe(Ge(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var u=Me(Me({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(u,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Qe(Ge(i),"updateState",function(o,a,u){var c=(0,Mt.initializedState)(o);o=Me(Me(Me({},o),c),{},{slideIndex:c.currentSlide});var f=(0,Mt.getTrackLeft)(o);o=Me(Me({},o),{},{left:f});var h=(0,Mt.getTrackCSS)(o);(a||Wn.default.Children.count(i.props.children)!==Wn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,u)}),Qe(Ge(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,u=[],c=(0,Mt.getPreClones)(Me(Me(Me({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,Mt.getPostClones)(Me(Me(Me({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(g){u.push(g.props.style.width),o+=g.props.style.width});for(var h=0;h<c;h++)a+=u[u.length-1-h],o+=u[u.length-1-h];for(var m=0;m<f;m++)o+=u[m];for(var S=0;S<i.state.currentSlide;S++)a+=u[S];var E={width:o+"px",left:-a+"px"};if(i.props.centerMode){var b="".concat(u[i.state.currentSlide],"px");E.left="calc(".concat(E.left," + (100% - ").concat(b,") / 2 ) ")}return{trackStyle:E}}var I=Wn.default.Children.count(i.props.children),T=Me(Me(Me({},i.props),i.state),{},{slideCount:I}),v=(0,Mt.getPreClones)(T)+(0,Mt.getPostClones)(T)+I,_=100/i.props.slidesToShow*v,R=100/v,L=-R*((0,Mt.getPreClones)(T)+i.state.currentSlide)*_/100;i.props.centerMode&&(L+=(100-R*_/100)/2);var N={width:_+"%",left:L+"%"};return{slideWidth:R+"%",trackStyle:N}}),Qe(Ge(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,u=0;Array.prototype.forEach.call(o,function(c){var f=function(){return++u&&u>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(m){h(m),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=f,c.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Qe(Ge(i),"progressiveLazyLoad",function(){for(var o=[],a=Me(Me({},i.props),i.state),u=i.state.currentSlide;u<i.state.slideCount+(0,Mt.getPostClones)(a);u++)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}for(var c=i.state.currentSlide-1;c>=-(0,Mt.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Qe(Ge(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i.props,c=u.asNavFor,f=u.beforeChange,h=u.onLazyLoad,m=u.speed,S=u.afterChange,E=i.state.currentSlide,b=(0,Mt.slideHandler)(Me(Me(Me({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=b.state,T=b.nextState;if(I){f&&f(E,I.currentSlide);var v=I.lazyLoadedList.filter(function(_){return i.state.lazyLoadedList.indexOf(_)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),S&&S(E),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),T&&(i.animationEndCallback=setTimeout(function(){var _=T.animating,R=WW(T,["animating"]);i.setState(R,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:_})},10)),S&&S(I.currentSlide),delete i.animationEndCallback})},m))})}}),Qe(Ge(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=Me(Me({},i.props),i.state),c=(0,Mt.changeSlide)(u,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Qe(Ge(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Qe(Ge(i),"keyHandler",function(o){var a=(0,Mt.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Qe(Ge(i),"selectHandler",function(o){i.changeSlide(o)}),Qe(Ge(i),"disableBodyScroll",function(){var o=function(u){u=u||window.event,u.preventDefault&&u.preventDefault(),u.returnValue=!1};window.ontouchmove=o}),Qe(Ge(i),"enableBodyScroll",function(){window.ontouchmove=null}),Qe(Ge(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Mt.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Qe(Ge(i),"swipeMove",function(o){var a=(0,Mt.swipeMove)(o,Me(Me(Me({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Qe(Ge(i),"swipeEnd",function(o){var a=(0,Mt.swipeEnd)(o,Me(Me(Me({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var u=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),u!==void 0&&(i.slideHandler(u),i.props.verticalSwiping&&i.enableBodyScroll())}}),Qe(Ge(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Qe(Ge(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Qe(Ge(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Qe(Ge(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Qe(Ge(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Mt.canGoNext)(Me(Me({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Qe(Ge(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Qe(Ge(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Qe(Ge(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Qe(Ge(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Qe(Ge(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Qe(Ge(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Qe(Ge(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Qe(Ge(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Qe(Ge(i),"render",function(){var o=(0,VW.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Me(Me({},i.props),i.state),u=(0,Mt.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;u=Me(Me({},u),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Mt.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=i.props.pauseOnDotsHover;h=Me(Me({},h),{},{clickHandler:i.changeSlide,onMouseEnter:m?i.onDotsLeave:null,onMouseOver:m?i.onDotsOver:null,onMouseLeave:m?i.onDotsLeave:null}),f=Wn.default.createElement(BW.Dots,h)}var S,E,b=(0,Mt.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=i.changeSlide,i.props.arrows&&(S=Wn.default.createElement(ES.PrevArrow,b),E=Wn.default.createElement(ES.NextArrow,b));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var T=null;i.props.vertical===!1?i.props.centerMode===!0&&(T={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(T={padding:i.props.centerPadding+" 0px"});var v=Me(Me({},I),T),_=i.props.touchMove,R={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:_?i.swipeStart:null,onMouseMove:i.state.dragging&&_?i.swipeMove:null,onMouseUp:_?i.swipeEnd:null,onMouseLeave:i.state.dragging&&_?i.swipeEnd:null,onTouchStart:_?i.swipeStart:null,onTouchMove:i.state.dragging&&_?i.swipeMove:null,onTouchEnd:_?i.touchEnd:null,onTouchCancel:i.state.dragging&&_?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},L={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(R={className:"slick-list"},L={className:o,style:i.props.style}),Wn.default.createElement("div",L,i.props.unslick?"":S,Wn.default.createElement("div",hh({ref:i.listRefHandler},R),Wn.default.createElement(zW.Track,hh({ref:i.trackRefHandler},u),i.props.children)),i.props.unslick?"":E,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Me(Me({},$W.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:Wn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Me(Me({},i.state),s),i}return GW(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var u=a[o];if(!i.hasOwnProperty(u)){s=!0;break}if(!(Co(i[u])==="object"||typeof i[u]=="function"||isNaN(i[u]))&&i[u]!==this.props[u]){s=!0;break}}return s||Wn.default.Children.count(this.props.children)!==Wn.default.Children.count(i.children)}}]),n}(Wn.default.Component);var ZW=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},e7=ZW,t7=e7,n7=function(t){var e=/[height|width]$/;return e.test(t)},CS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=t7(r),n7(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},r7=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=CS(n),r<t.length-1&&(e+=", ")}),e):CS(t)},i7=r7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(w),n=Gp,r=o(i7),i=o(zx),s=ue;function o(p){return p&&p.__esModule?p:{default:p}}function a(p){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},a(p)}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var j in C)({}).hasOwnProperty.call(C,j)&&(p[j]=C[j])}return p},u.apply(null,arguments)}function c(p,y){var C=Object.keys(p);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(p);y&&(j=j.filter(function(A){return Object.getOwnPropertyDescriptor(p,A).enumerable})),C.push.apply(C,j)}return C}function f(p){for(var y=1;y<arguments.length;y++){var C=arguments[y]!=null?arguments[y]:{};y%2?c(Object(C),!0).forEach(function(j){L(p,j,C[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(C)):c(Object(C)).forEach(function(j){Object.defineProperty(p,j,Object.getOwnPropertyDescriptor(C,j))})}return p}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){for(var C=0;C<y.length;C++){var j=y[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(p,N(j.key),j)}}function S(p,y,C){return y&&m(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&b(p,y)}function b(p,y){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,j){return C.__proto__=j,C},b(p,y)}function I(p){var y=_();return function(){var C,j=R(p);if(y){var A=R(this).constructor;C=Reflect.construct(j,arguments,A)}else C=j.apply(this,arguments);return T(this,C)}}function T(p,y){if(y&&(a(y)=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(p)}function v(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function _(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!p})()}function R(p){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},R(p)}function L(p,y,C){return(y=N(y))in p?Object.defineProperty(p,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[y]=C,p}function N(p){var y=g(p,"string");return a(y)=="symbol"?y:y+""}function g(p,y){if(a(p)!="object"||!p)return p;var C=p[Symbol.toPrimitive];if(C!==void 0){var j=C.call(p,y);if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}t.default=function(p){E(C,p);var y=I(C);function C(j){var A;return h(this,C),A=y.call(this,j),L(v(A),"innerSliderRefHandler",function(P){return A.innerSlider=P}),L(v(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),L(v(A),"slickNext",function(){return A.innerSlider.slickNext()}),L(v(A),"slickGoTo",function(P){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(P,W)}),L(v(A),"slickPause",function(){return A.innerSlider.pause("paused")}),L(v(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return S(C,[{key:"media",value:function(A,P){var W=window.matchMedia(A),F=function(B){var D=B.matches;D&&P()};W.addListener(F),this._responsiveMediaHandlers.push({mql:W,query:A,listener:F})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var P=this.props.responsive.map(function(F){return F.breakpoint});P.sort(function(F,H){return F-H}),P.forEach(function(F,H){var B;H===0?B=(0,r.default)({minWidth:0,maxWidth:F}):B=(0,r.default)({minWidth:P[H-1]+1,maxWidth:F}),(0,s.canUseDOM)()&&A.media(B,function(){A.setState({breakpoint:F})})});var W=(0,r.default)({minWidth:P.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(W,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){A.mql.removeListener(A.listener)})}},{key:"render",value:function(){var A=this,P,W;this.state.breakpoint?(W=this.props.responsive.filter(function(ie){return ie.breakpoint===A.state.breakpoint}),P=W[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),W[0].settings)):P=f(f({},i.default),this.props),P.centerMode&&(P.slidesToScroll>1,P.slidesToScroll=1),P.fade&&(P.slidesToShow>1,P.slidesToScroll>1,P.slidesToShow=1,P.slidesToScroll=1);var F=e.default.Children.toArray(this.props.children);F=F.filter(function(ie){return typeof ie=="string"?!!ie.trim():!!ie}),P.variableWidth&&(P.rows>1||P.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),P.variableWidth=!1);for(var H=[],B=null,D=0;D<F.length;D+=P.rows*P.slidesPerRow){for(var z=[],q=D;q<D+P.rows*P.slidesPerRow;q+=P.slidesPerRow){for(var Q=[],Y=q;Y<q+P.slidesPerRow&&(P.variableWidth&&F[Y].props.style&&(B=F[Y].props.style.width),!(Y>=F.length));Y+=1)Q.push(e.default.cloneElement(F[Y],{key:100*D+10*q+Y,tabIndex:-1,style:{width:"".concat(100/P.slidesPerRow,"%"),display:"inline-block"}}));z.push(e.default.createElement("div",{key:10*D+q},Q))}P.variableWidth?H.push(e.default.createElement("div",{key:D,style:{width:B}},z)):H.push(e.default.createElement("div",{key:D},z))}if(P==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},F)}else H.length<=P.slidesToShow&&(P.unslick=!0);return e.default.createElement(n.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(P)),H)}}]),C}(e.default.Component)})(iP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(iP);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(rP);const tf=mh(rP);function s7({onClick:t}){return l.jsx(lo,{variant:"contained",color:"primary",onClick:t,sx:{position:"fixed",bottom:32,right:32,zIndex:2e3,borderRadius:"50%",minWidth:0,width:64,height:64,boxShadow:4,p:0,fontSize:28,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Support Chat",children:l.jsx("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})}const o7=[{name:"Ada O.",text:"Pharmastack made it so easy to get my medicines delivered. Fast, reliable, and affordable!",avatar:"https://randomuser.me/api/portraits/men/76.jpg",city:"Lagos"},{name:"Chinedu E.",text:"I love the variety and the prices. Customer support is top notch!",avatar:"https://randomuser.me/api/portraits/men/77.jpg",city:"Abuja"},{name:"Fatima S.",text:"I found rare medicines here that I couldn't get anywhere else. Highly recommend!",avatar:"https://randomuser.me/api/portraits/women/77.jpg",city:"Kano"},{name:"Tunde A.",text:"The pharmacy partners are trustworthy and the delivery is always on time.",avatar:"https://randomuser.me/api/portraits/men/75.jpg",city:"Ibadan"}];function a7(){const t=typeof window<"u"&&window.innerWidth<=600,e={dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,arrows:!1,responsive:[{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!1,variableWidth:!1}}]};return l.jsx("div",{style:{maxWidth:900,margin:"0 auto",padding:t?"12px 0":"32px 0"},children:l.jsx(tf,{...e,children:o7.map((n,r)=>l.jsxs("div",{style:{padding:t?12:24,background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #c7d2fe22",margin:t?"0 2px":"0 8px",minHeight:t?120:180,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:t?15:18,fontWeight:600,color:"#2d3748",marginBottom:8},children:n.name}),l.jsx("div",{style:{fontSize:t?12:15,color:"#6366f1",marginBottom:8},children:n.city}),l.jsxs("div",{style:{fontSize:t?13:16,color:"#222",fontStyle:"italic"},children:["“",n.text,"”"]})]},r))})})}function l7(t){return pt("MuiLink",t)}const u7=ut("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),DP={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},c7=t=>DP[t]||t,d7=({theme:t,ownerState:e})=>{const n=c7(e.color),r=Qa(t,`palette.${n}`,!1)||e.color,i=Qa(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Cr(r,.4)},f7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],h7=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${Ke(i)}`,n==="button"&&"button",r&&"focusVisible"]};return bt(s,l7,e)},p7=je(yt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ke(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>V({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&V({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:d7({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${u7.focusVisible}`]:{outline:"auto"}})),Vl=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiLink"}),{className:i,color:s="primary",component:o="a",onBlur:a,onFocus:u,TypographyClasses:c,underline:f="always",variant:h="inherit",sx:m}=r,S=Ce(r,f7),{isFocusVisibleRef:E,onBlur:b,onFocus:I,ref:T}=RR(),[v,_]=w.useState(!1),R=Bn(n,T),L=y=>{b(y),E.current===!1&&_(!1),a&&a(y)},N=y=>{I(y),E.current===!0&&_(!0),u&&u(y)},g=V({},r,{color:s,component:o,focusVisible:v,underline:f,variant:h}),p=h7(g);return l.jsx(p7,V({color:s,className:Ne(p.root,i),classes:c,component:o,onBlur:L,onFocus:N,ref:R,ownerState:g,variant:h,sx:[...Object.keys(DP).includes(s)?[]:[{color:s}],...Array.isArray(m)?m:[m]]},S))});function m7(){return l.jsxs(Sn,{component:"footer",sx:{width:"100%",bgcolor:"#f4f6fa",borderTop:"1px solid #e0e7ef",py:3,mt:8,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",px:{xs:2,sm:6},fontSize:15},children:[l.jsxs(yt,{color:"primary",fontWeight:700,children:["Pharmastack © ",new Date().getFullYear()]}),l.jsxs(Sn,{sx:{display:"flex",gap:3,mt:{xs:2,sm:0}},children:[l.jsx(Vl,{href:"/",underline:"hover",color:"inherit",children:"Home"}),l.jsx(Vl,{href:"/shop",underline:"hover",color:"inherit",children:"Shop"}),l.jsx(Vl,{href:"/store",underline:"hover",color:"inherit",children:"Pharmacies"}),l.jsx(Vl,{href:"/auth",underline:"hover",color:"inherit",children:"Login"}),l.jsx(Vl,{href:"mailto:pharmastack@gmail.com",underline:"hover",color:"inherit",children:"Contact"})]})]})}function g7(){w.useEffect(()=>{const v=Ct(Ae(ee,"products"),_=>{const R=_.docs.map(L=>({id:L.id,...L.data()}));S(R)});return()=>v()},[]);const t={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},e={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,centerMode:!0,centerPadding:"60px",responsive:[{breakpoint:1200,settings:{slidesToShow:1,centerPadding:"40px"}},{breakpoint:900,settings:{slidesToShow:1,centerPadding:"20px"}},{breakpoint:600,settings:{slidesToShow:1,centerPadding:"10px"}}]},[n,r]=w.useState([]),[i,s]=w.useState([]),o=i;w.useEffect(()=>{const v=Ct(Ae(ee,"users"),_=>{const R=[],L=new Set;_.docs.forEach(N=>{const g=N.data();g.businessSlug&&!L.has(g.businessSlug)&&(R.push({name:g.businessName||g.businessSlug,img:g.logoUrl||"https://img.icons8.com/color/96/000000/pharmacy-shop.png",rating:g.rating||4.5,slug:g.businessSlug}),L.add(g.businessSlug))}),s(R)});return()=>v()},[]);const a={infinite:!0,speed:1200,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2200,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:900,settings:{slidesToShow:1}},{breakpoint:600,settings:{slidesToShow:1}}]},[u,c]=w.useState(null),[f,h]=w.useState(""),[m,S]=w.useState([]),[E,b]=w.useState(""),I=$s();w.useEffect(()=>{const v=Ct(Ae(ee,"products"),_=>{const R=new Set;_.docs.forEach(L=>{const N=L.data().class;N&&typeof N=="string"&&N.trim()&&R.add(N.trim())}),r(Array.from(R).sort())});return()=>v()},[]),w.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude};c(_),localStorage.setItem("customerLocation",JSON.stringify(_))},v=>{h("Location access denied. Please enable location services.")})},[]);const T=v=>{v.preventDefault(),E.trim()?I(`/shop?search=${encodeURIComponent(E.trim())}`):I("/shop")};return l.jsxs(jz,{maxWidth:"md",sx:{minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowX:"hidden",maxWidth:"100vw",padding:0},children:[l.jsxs(jx,{elevation:3,sx:{p:5,mt:8,width:"100%",textAlign:"center",borderRadius:4,background:"linear-gradient(135deg, #f4f6fa 60%, #e0e7ff 100%)"},children:[l.jsx(yt,{variant:"h3",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:"🏠 Welcome to Pharmastack"}),l.jsx(yt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Making Medicine Accessible, Findable, and Available to All."}),l.jsxs(Sn,{sx:{position:"relative",background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderLeft:"6px solid #6366f1",borderRadius:3,p:2.5,my:2.5,boxShadow:"0 2px 12px #c7d2fe22",color:"#2d3748",fontSize:18,fontWeight:500,textAlign:"center",letterSpacing:.1,lineHeight:1.6,maxWidth:600,mx:"auto",overflow:"hidden"},children:[l.jsx("span",{style:{color:"#6366f1",fontWeight:700,fontSize:20,display:"block",marginBottom:4},children:"Our Mission"}),l.jsx("span",{style:{position:"relative",zIndex:1},children:"We are solving the problem of inequitable access to medicines by building a digital map of real-time medicine availability—a connected ecosystem ensuring that no patient is left untreated because a drug is unavailable, unfindable, or inaccessible."}),l.jsx("span",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,background:"linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 40%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)",transform:"translateX(-100%)",animation:"gloss-move 7s cubic-bezier(.4,.6,.6,1) infinite"}}),l.jsx("style",{children:`
              @keyframes gloss-move {
                0% { transform: translateX(-100%); }
                60% { transform: translateX(120%); }
                100% { transform: translateX(120%); }
              }
            `})]}),l.jsx(Sn,{my:3,children:u?l.jsxs(yt,{variant:"body1",color:"secondary",children:["📍 Your location: ",l.jsxs("b",{children:[u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}):l.jsx(yt,{variant:"body2",color:"text.disabled",children:f||"Detecting your location..."})}),l.jsxs(Sn,{component:"form",onSubmit:T,sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2,mt:6,mb:2},children:[l.jsx(ss,{variant:"outlined",placeholder:"Search drugs...",value:E,onChange:v=>b(v.target.value),sx:{width:320,background:"#fff",borderRadius:2},size:"medium"}),l.jsx(lo,{type:"submit",variant:"contained",color:"primary",size:"large",sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Search"})]}),l.jsx(Sn,{sx:{mb:3,background:"#f8fafc",borderRadius:2,minHeight:220,px:1,py:2},children:m.length===0?null:l.jsx(tf,{...t,children:m.map((v,_)=>l.jsx(Sn,{sx:{px:1},children:l.jsxs(Jd,{sx:{height:220,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:2},children:[l.jsx(hS,{component:"img",image:v.image||"/default-medicine.png",alt:v.name,sx:{width:130,height:130,objectFit:"contain",mb:1}}),l.jsx(Zd,{sx:{p:0},children:l.jsx(yt,{variant:"subtitle1",sx:{fontWeight:600,textAlign:"center"},children:v.name||"Unnamed"})})]})},v.id||_))})}),l.jsx(yt,{variant:"h5",color:"primary",sx:{mt:6,mb:2,fontWeight:600},children:"Drug Classes"}),l.jsx(Sn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:80,px:1,py:2},children:l.jsx(tf,{...e,children:n.map(v=>{const _=m.find(R=>R.class&&R.class.trim()===v);return l.jsx(Sn,{children:l.jsxs(Jd,{sx:{width:160,height:160,px:1,borderRadius:"50%",boxShadow:3,cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:1,m:"0 auto",position:"relative",overflow:"hidden",bgcolor:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)",background:"linear-gradient(135deg, #e0e7ff 60%, #c7d2fe 100%)","&:hover":{transform:"scale(1.07)",boxShadow:6,bgcolor:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)",background:"linear-gradient(135deg, #a5b4fc 60%, #818cf8 100%)"},"&:active":{transform:"scale(0.97)",boxShadow:1}},onClick:()=>I(`/shop?category=${encodeURIComponent(v)}`),children:[_&&l.jsx(Sn,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.13,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:_.image||"/default-medicine.png",alt:_.name||v,style:{width:"90%",height:"90%",objectFit:"contain",filter:"grayscale(100%)"}})}),l.jsx(Zd,{sx:{textAlign:"center",p:.5,zIndex:2,position:"relative"},children:l.jsx(yt,{variant:"h6",fontWeight:900,sx:{color:"#3730a3",letterSpacing:.5,textShadow:"0 2px 8px #fff8",fontSize:"1.1rem",lineHeight:1.1},children:v})})]})},v)})})}),l.jsx(yt,{variant:"h5",color:"primary",sx:{mt:4,mb:2,fontWeight:600},children:"Find Medicines at Retail Prices"}),l.jsx(Sn,{sx:{mb:4,background:"#f8fafc",borderRadius:2,minHeight:140,px:1,py:2},children:o.length===0?null:l.jsx(tf,{...a,children:o.map(v=>l.jsx(Sn,{sx:{px:1},children:l.jsxs(Jd,{sx:{minWidth:180,maxWidth:200,mx:1,borderRadius:3,boxShadow:2,cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.04)"}},onClick:()=>I(`/store/${v.slug}`),children:[l.jsx(hS,{component:"img",height:"80",image:v.img,alt:v.name,sx:{objectFit:"contain",pt:2}}),l.jsxs(Zd,{sx:{textAlign:"center",pb:2},children:[l.jsx(yt,{variant:"subtitle1",fontWeight:600,noWrap:!0,children:v.name}),l.jsxs(yt,{variant:"body2",color:"text.secondary",children:["⭐ ",v.rating]}),l.jsx(lo,{size:"small",variant:"outlined",color:"primary",sx:{mt:1,borderRadius:2},onClick:_=>{_.stopPropagation(),I(`/store/${v.slug}`)},children:"Shop Now"})]})]})},v.slug))})}),l.jsx(lo,{component:Va,to:"/store",size:"large",variant:"contained",color:"secondary",sx:{px:5,py:2,fontWeight:"bold",fontSize:"1.2em",borderRadius:3,boxShadow:3,mt:4,background:"linear-gradient(90deg,#7c3aed,#4f46e5)",color:"#fff","&:hover":{background:"linear-gradient(90deg,#4f46e5,#7c3aed)"}},children:"🔎 Find a pharmacy store near you"})]}),l.jsx(a7,{}),l.jsx(s7,{onClick:()=>alert("Support chat coming soon!")}),l.jsx(m7,{})]})}const y7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function Bt(){return typeof window<"u"&&window.innerWidth<=600}function v7(){const[t,e]=w.useState(!1),{slug:n}=Mh(),[r,i]=w.useState(null),[s,o]=w.useState([]),[a,u]=w.useState([]),[c,f]=w.useState(""),[h,m]=w.useState(null),[S,E]=w.useState(null),[b,I]=w.useState(""),[T,v]=w.useState(!0),_=Fn(),R=(g,p,y,C)=>{const j=B=>B*Math.PI/180,P=j(y-g),W=j(C-p),F=Math.sin(P/2)**2+Math.cos(j(g))*Math.cos(j(y))*Math.sin(W/2)**2;return 6371*(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)))},L=g=>{const C=g*1.64,j=Math.max(1,Math.round(C/25*60));return{drivingKm:C,minutes:j}};w.useEffect(()=>{if(!navigator.geolocation){E("denied");return}navigator.geolocation.getCurrentPosition(g=>{const p={lat:g.coords.latitude,lng:g.coords.longitude};E(p);const y=_.currentUser;if(y){const C=be(ee,"users",y.uid);on(C).then(j=>{const A=j.data();A&&A.role==="customer"&&ir(C,{lat:p.lat,lng:p.lng},{merge:!0})})}},()=>E("denied"))},[_]),w.useEffect(()=>{const g=jr(_,p=>{i(p)});return()=>g()},[_]),w.useEffect(()=>{v(!0);const g=Ct(Ae(ee,"products"),async p=>{const C=(await Promise.all(p.docs.map(async j=>{var P,W;const A={id:j.id,...j.data()};if(A.ownerId){const F=be(ee,"users",A.ownerId),H=await on(F);if(H.exists()){const B=H.data();A.businessName=B.businessName||"Unknown Pharmacy",A.ownerSlug=B.slug||null,A.ownerRole=B.role||null,(P=B.location)!=null&&P.latitude&&((W=B.location)!=null&&W.longitude)&&(A.businessLat=B.location.latitude,A.businessLng=B.location.longitude),A.businessState=B.businessState||B.state||""}}return A}))).filter(j=>j.ownerRole!=="distributor");o(C),v(!1)});return()=>g()},[]),w.useEffect(()=>{if(s.length===0)return;let g=n?s.filter(H=>H.ownerSlug===n):s;b&&(g=g.filter(H=>H.businessState===b));const p={};for(const H of g){const B=(H.normalizedName||H.name||"").toLowerCase().trim();p[B]||(p[B]=[]),p[B].push(H)}const y=Object.values(p).map(H=>(S&&S!=="denied"&&(H=H.map(B=>{if(B.businessLat&&B.businessLng){const D=R(S.lat,S.lng,B.businessLat,B.businessLng),{minutes:z}=L(D);return{...B,minutesAway:z}}return{...B,minutesAway:1/0}}),H.sort((B,D)=>B.minutesAway-D.minutesAway)),H)).flat(),C=(H="")=>H.toLowerCase().trim().replace(/\s+/g," "),j={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},A=C(c),P=(j[A]||A).split(" "),W=(H,B)=>H.includes(B)||B.length>3&&H.startsWith(B.slice(0,3))||B.length>3&&H.endsWith(B.slice(-3)),F=y.filter(H=>{const B=C(H.name),D=C(H.ingredient),z=C(H.class);return P.some(q=>B.includes(q)||D.includes(q)||z.includes(q)||W(B,q)||W(D,q)||W(z,q))});u(F)},[s,S,c,n]);const N=async g=>{if(!r)return alert("Please log in first");let p={...g};if((!p.businessPhone||!p.businessWhatsapp)&&p.ownerId)try{const P=be(ee,"users",p.ownerId),W=await on(P);if(W.exists()){const F=W.data();p.businessPhone=F.businessPhone||"",p.businessWhatsapp=F.businessWhatsapp||""}}catch{}const y=be(ee,"carts",r.uid),C=await on(y);let j=C.exists()?C.data().items||[]:[];const A=j.findIndex(P=>P.name===p.name);A>=0?j[A].quantity+=1:j.push({...p,quantity:1}),await ir(y,{items:j}),m(g.id),e(!0),setTimeout(()=>e(!1),1800),setTimeout(()=>m(null),1e3)};return console.log("Visible medicines:",a.map(g=>g.businessName)),l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:Bt()?"10px 2vw":"30px",position:"relative",fontFamily:"Inter, Arial, sans-serif"},children:[t&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsxs("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:Bt()?22:32,marginBottom:8,letterSpacing:1},children:["🩺 ",n?`${n}'s Pharmacy`:"All Medicine Listings"]}),!n&&l.jsx("div",{style:{color:"#6366f1",fontSize:18,marginBottom:18,fontWeight:500},children:"Browse and compare all medications. Sort by closest to you and price."}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:Bt()?8:16,margin:Bt()?"8px 0":"15px 0",position:"sticky",top:0,zIndex:10,background:"rgba(244,246,251,0.95)",padding:Bt()?"6px 0":"12px 0",borderRadius:12,boxShadow:"0 2px 8px #c7d2fe22"},children:[l.jsx("input",{type:"text",placeholder:"Search medicines, ingredients, or class...",value:c,onChange:g=>f(g.target.value),style:{padding:Bt()?"8px":"12px",width:"100%",maxWidth:Bt()?"98vw":"400px",borderRadius:"10px",border:"1.5px solid #b3b3e7",fontSize:Bt()?15:17,background:"#f9f9ff",boxShadow:"0 1px 4px #c7d2fe22"}}),l.jsxs("select",{value:b,onChange:g=>I(g.target.value),style:{padding:Bt()?"8px":"12px",borderRadius:10,border:"1.5px solid #b3b3e7",fontSize:Bt()?15:17,minWidth:Bt()?120:180,background:"#f9f9ff",color:"#222",outline:"none",boxShadow:"0 1px 4px #c7d2fe22"},children:[l.jsx("option",{value:"",children:"Sort by state"}),y7.map(g=>l.jsx("option",{value:g,children:g},g))]})]}),T?l.jsxs("div",{style:{textAlign:"center",marginTop:60},children:[l.jsx("div",{className:"loader",style:{width:48,height:48,border:"5px solid #e0e7ff",borderTop:"5px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"auto"}}),l.jsx("style",{children:"@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }"})]}):a.length===0?l.jsx("p",{style:{color:"gray",marginTop:40,fontSize:18},children:n?"No medicines found for this pharmacy. Please check the link or select a valid business.":"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:Bt()?"1fr":"repeat(auto-fill, minmax(260px, 1fr))",gap:Bt()?"14px":"28px",marginTop:18},children:a.map(g=>l.jsxs("div",{style:{border:"1.5px solid #e0e7ff",padding:Bt()?"10px 6px 10px 6px":"18px 16px 16px 16px",borderRadius:"16px",background:"#fff",boxShadow:"0 2px 12px #c7d2fe22",position:"relative",minHeight:Bt()?"180px":"240px",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",willChange:"transform",display:"flex",flexDirection:"column",alignItems:"stretch"},onMouseEnter:p=>{Bt()||(p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-4px) scale(1.03)")},onMouseLeave:p=>{Bt()||(p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none")},children:[g.registeredOnly&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:80,textAlign:"center"},children:"Registered Only"}),g.isPOM&&l.jsx("span",{style:{position:"absolute",top:g.registeredOnly?"38px":"10px",left:"10px",background:"#e53935",color:"#fff",padding:"2px 10px",borderRadius:"16px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px",display:"inline-block",minWidth:40,textAlign:"center"},children:"POM"}),g.image?l.jsx("img",{src:g.image,alt:g.name,style:{width:"100%",height:Bt()?"90px":"150px",objectFit:"cover",borderRadius:"10px",marginBottom:Bt()?"6px":"10px",background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/300x150?text=No+Image"}}):l.jsx("div",{style:{width:"100%",height:Bt()?90:150,borderRadius:10,marginBottom:Bt()?6:10,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:Bt()?16:22,fontWeight:700},children:"No Image"}),l.jsx("strong",{style:{fontSize:19,color:"#2d3748",marginBottom:2},children:g.name||"Unnamed Drug"}),l.jsx("p",{style:{fontSize:15,color:"#6366f1",margin:0},children:l.jsx("em",{children:g.ingredient||"No ingredient listed"})}),l.jsxs("p",{style:{fontSize:14,color:"#64748b",margin:"4px 0 0 0"},children:["Class: ",g.class||"No class listed"]}),l.jsxs("p",{style:{fontSize:16,color:"#059669",fontWeight:700,margin:"6px 0 0 0"},children:["₦",g.price!==void 0?g.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555",margin:"6px 0 0 0"},children:["🏥 ",g.ownerSlug?l.jsx("a",{href:`/store/${g.ownerSlug}`,style:{color:"#7c3aed",textDecoration:"underline",cursor:"pointer",fontWeight:500},children:g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"}):g.businessName&&g.businessName.trim()?g.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:()=>N(g),style:{marginTop:"12px",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"12px 0",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",disabled:typeof N!="function",children:"Add to Cart"}),g.minutesAway&&g.minutesAway!==1/0&&l.jsx("p",{style:{color:"#059669",fontWeight:"600",margin:"8px 0 0 0"},children:g.minutesAway<=1?"📍 Right here":`💨 ~${g.minutesAway} mins away`}),h===g.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#059669",color:"#fff",padding:"3px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:600},children:"Added!"})]},g.id))})]})}function $P(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState(0),[o,a]=w.useState(!1),[u,c]=w.useState({}),[f,h]=w.useState([]),[m,S]=w.useState(null),E=Fn(),b=$s();w.useEffect(()=>{t&&on(be(ee,"users",t.uid)).then(N=>{N.exists()&&S(N.data())})},[t]),w.useEffect(()=>{const N=Array.from(new Set(n.filter(g=>g.registeredOnly&&g.ownerId).map(g=>g.ownerId)));h(N),a(N.length>0)},[n]);const I=async N=>{N.preventDefault();for(const g of f)await ir(be(ee,"businessRegistrations",`${g}_${t.uid}`),{distributorId:g,businessId:t.uid,businessInfo:m,cart:n.filter(p=>p.ownerId===g),status:"pending",date:new Date().toISOString()});xe.info("Registration request(s) sent to distributor(s). Await approval before completing your order."),a(!1)};w.useEffect(()=>jr(E,g=>{e(g),g&&T(g.uid)}),[E]);const T=async N=>{try{const g=be(ee,"carts",N),p=await on(g);p.exists()?r(p.data().items||[]):r([])}catch(g){console.error("Error loading cart:",g)}},v=async(N,g)=>{try{await ir(be(ee,"carts",N),{items:g})}catch(p){console.error("Error saving cart:",p)}};w.useEffect(()=>{const N=n.reduce((g,p)=>g+p.price*(p.quantity||1),0);s(N)},[n]);const _=N=>{if(!t)return xe.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N.name);p>=0?g[p].quantity+=1:g.push({...N,quantity:1}),r(g),v(t.uid,g)},R=N=>{if(!t)return xe.error("Please login first");const g=[...n],p=g.findIndex(y=>y.name===N);p>=0&&(g[p].quantity>1?g[p].quantity-=1:g.splice(p,1)),r(g),v(t.uid,g)},L=()=>{if(!t)return xe.error("Please login to proceed to payment");if(n.length===0)return xe.info("Cart is empty");b("/payment",{state:{cart:n,total:i}})};return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:"30px",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center"},children:[l.jsx("h2",{style:{fontWeight:800,color:"#2d3748",fontSize:32,marginBottom:8,letterSpacing:1},children:"🛒 Your Cart"}),t?l.jsxs("div",{style:{color:"#6366f1",fontSize:16,marginBottom:18,fontWeight:500},children:["Logged in as: ",t.email]}):l.jsx("div",{style:{color:"#e53e3e",fontSize:18,marginBottom:18,fontWeight:600},children:"Please log in to view your cart."}),l.jsxs("div",{style:{width:"100%",maxWidth:900,display:"flex",gap:32,alignItems:"flex-start",marginTop:10},children:[l.jsx("div",{style:{flex:2},children:n.length===0?l.jsx("div",{style:{color:"#64748b",fontSize:20,marginTop:40,textAlign:"center",fontWeight:500,background:"#fff",borderRadius:12,padding:32,boxShadow:"0 2px 12px #c7d2fe22"},children:"Your cart is empty. Start shopping to add medicines!"}):o?l.jsxs("form",{onSubmit:I,style:{background:"#f3f0ff",padding:24,borderRadius:10,margin:"20px 0"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Required"}),l.jsx("p",{children:"Some items in your cart require registration with the distributor before purchase. Please confirm your business details below for each distributor."}),f.map((N,g)=>l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Distributor ",g+1]}),l.jsxs("label",{children:["Business Name:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.businessName)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Email:",l.jsx("br",{}),l.jsx("input",{type:"email",value:(m==null?void 0:m.email)||(t==null?void 0:t.email)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Phone:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.phone)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsx("br",{}),l.jsxs("label",{children:["Address:",l.jsx("br",{}),l.jsx("input",{type:"text",value:(m==null?void 0:m.address)||"",readOnly:!0,style:{width:"100%",marginBottom:8}})]}),l.jsxs("p",{style:{fontSize:14,color:"#555"},children:["Products from this distributor: ",n.filter(p=>p.ownerId===N).map(p=>p.name).join(", ")]})]},N)),l.jsx("button",{type:"submit",style:{background:"#6366f1",color:"#fff",padding:"12px 32px",borderRadius:10,fontWeight:700,fontSize:16,boxShadow:"0 2px 8px #6366f122",border:"none",marginTop:10,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Submit Registration"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:18},children:[n.map((N,g)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #c7d2fe22",padding:"18px 18px 14px 18px",minHeight:80,transition:"box-shadow 0.2s, transform 0.2s"},onMouseEnter:p=>{p.currentTarget.style.boxShadow="0 8px 32px #6366f133",p.currentTarget.style.transform="translateY(-2px) scale(1.01)"},onMouseLeave:p=>{p.currentTarget.style.boxShadow="0 2px 12px #c7d2fe22",p.currentTarget.style.transform="none"},children:[N.image?l.jsx("img",{src:N.image,alt:N.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,background:"#f4f6fb"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/60x60?text=No+Image"}}):l.jsx("div",{style:{width:60,height:60,borderRadius:8,background:"#f4f6fb",display:"flex",alignItems:"center",justifyContent:"center",color:"#b3b3e7",fontSize:16,fontWeight:700},children:"No Image"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:700,fontSize:18,color:"#2d3748"},children:N.name}),l.jsxs("div",{style:{color:"#059669",fontWeight:600,fontSize:16},children:["₦",N.price," ",l.jsxs("span",{style:{color:"#64748b",fontWeight:400,fontSize:15},children:["x ",N.quantity]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>_(N),style:{background:"#6366f1",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#4f46e5",onMouseLeave:p=>p.currentTarget.style.background="#6366f1",children:"+"}),l.jsx("button",{onClick:()=>R(N.name),style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,width:36,height:36,fontWeight:700,fontSize:20,cursor:"pointer",boxShadow:"0 2px 8px #e53e3e22",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#b91c1c",onMouseLeave:p=>p.currentTarget.style.background="#e53e3e",children:"-"})]})]},g)),n.some(N=>N.isPOM)&&l.jsxs("div",{style:{background:"#fff3e0",color:"#b85c00",borderRadius:"8px",padding:"12px 18px",margin:"10px 0 0 0",fontSize:"15px",boxShadow:"0 1px 4px #f5e0c3",fontWeight:500},children:[l.jsx("span",{style:{fontWeight:600},children:"Note:"})," After payment, you will be redirected to a medical professional to verify your prescription."]})]})}),l.jsx("div",{style:{flex:1,position:"sticky",top:30,alignSelf:"flex-start"},children:l.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 2px 12px #c7d2fe22",padding:"28px 24px",minWidth:260,marginTop:0},children:[l.jsx("div",{style:{fontWeight:700,fontSize:20,color:"#2d3748",marginBottom:10},children:"Order Summary"}),l.jsxs("div",{style:{color:"#64748b",fontSize:16,marginBottom:8},children:["Items: ",l.jsx("b",{children:n.reduce((N,g)=>N+(g.quantity||1),0)})]}),l.jsxs("div",{style:{color:"#059669",fontWeight:700,fontSize:22,marginBottom:18},children:["Total: ₦",i]}),!o&&l.jsx("button",{onClick:L,style:{width:"100%",background:"#6366f1",color:"#fff",border:"none",borderRadius:10,padding:"14px 0",fontWeight:700,fontSize:18,cursor:"pointer",boxShadow:"0 2px 8px #6366f122",transition:"background 0.2s"},onMouseEnter:N=>N.currentTarget.style.background="#4f46e5",onMouseLeave:N=>N.currentTarget.style.background="#6366f1",children:"Checkout"})]})})]})]})}const x7=t=>{if(!t)return"Unknown date";const e=new Date,n=new Date(t),r=e-n,i=Math.floor(r/1e3);if(i<60)return`${i} seconds ago`;const s=Math.floor(i/60);if(s<60)return`${s} minutes ago`;const o=Math.floor(s/60);if(o<24)return`${o} hours ago`;const a=Math.floor(o/24);return a<7?`${a} day${a>1?"s":""} ago`:n.toLocaleString()};function _7(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("Pending"),[o,a]=w.useState({}),u=Fn();if(w.useEffect(()=>{const E=jr(u,b=>{if(e(b),b){const I=yi(Ae(ee,"orders"),Qr("userId","==",b.uid)),T=Ct(I,v=>{const _=v.docs.map(R=>({id:R.id,...R.data()}));_.sort((R,L)=>new Date(L.date)-new Date(R.date)),r(_)});return()=>T()}});return()=>E()},[u]),!t)return l.jsx("p",{children:"Please log in to view your orders."});const c=async E=>{if(!window.confirm("Are you sure you want to cancel this order?"))return;const I=be(ee,"orders",E);await tn(I,{status:"Cancelled"}),alert("✅ Order cancelled and moved to Cancelled tab")},f=E=>{a(b=>({...b,[E]:!b[E]}))},h=E=>E.reduce((b,I)=>b+I.price*(I.quantity||1),0),m=["Pending","Processing","Completed","Cancelled"],S=m.reduce((E,b)=>(b==="Processing"?E[b]=n.filter(I=>{const T=I.status||"Pending";return T==="Processing"||T==="In-Progress"}):E[b]=n.filter(I=>(I.status||"Pending")===b),E),{});return l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"📦 Your Orders"}),l.jsx("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:m.map(E=>{var b;return l.jsxs("button",{onClick:()=>s(E),style:{padding:"10px 20px",cursor:"pointer",borderRadius:"5px",border:"none",background:i===E?"#007bff":"#eee",color:i===E?"#fff":"#000",fontWeight:i===E?"bold":"normal"},children:[E," (",((b=S[E])==null?void 0:b.length)||0,")"]},E)})}),S[i].length===0?l.jsxs("p",{children:["No ",i.toLowerCase()," orders."]}):S[i].map(E=>{var b;return l.jsxs("div",{style:{marginBottom:"32px",padding:"0",border:"none",borderRadius:"18px",background:"#fff",boxShadow:"0 4px 24px 0 rgba(124,58,237,0.08)",overflow:"hidden",maxWidth:600,marginLeft:"auto",marginRight:"auto",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",background:"linear-gradient(90deg, #ede9fe 0%, #f4f6fb 100%)",padding:"20px 28px 12px 28px",borderBottom:"1px solid #e0e7ff",borderTopLeftRadius:18,borderTopRightRadius:18,minHeight:60},children:[l.jsxs("div",{style:{fontWeight:600,color:"#7c3aed",fontSize:17,letterSpacing:.2},children:[l.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:"Order Date:"})," ",x7(E.date)]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,minWidth:220},children:[l.jsxs("div",{style:{fontSize:"0.97em",marginBottom:2},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Medicines provided by:"}),E.items&&E.items.length>0?l.jsx("ul",{style:{margin:"4px 0 0 18px",padding:0},children:Array.from(E.items.reduce((I,T)=>{const v=T.businessName||"Unknown",_=T.businessPhone||T.phoneNumber||"N/A",R=T.businessWhatsapp||T.whatsappNumber||"N/A";return I.set(v+"__"+_+"__"+R,{name:v,phone:_,whatsapp:R}),I},new Map).values()).map(({name:I,phone:T,whatsapp:v})=>l.jsxs("li",{style:{margin:0,padding:0,fontSize:15,color:"#222"},children:[I," (",T&&T!=="N/A"?l.jsxs("a",{href:`tel:${T}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:T}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",v&&v!=="N/A"?l.jsxs("a",{href:`https://wa.me/${v.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:v}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]},I+T+v))}):l.jsx("span",{children:"Unknown"})]}),l.jsxs("span",{style:{fontSize:"0.97em",marginTop:6},children:[l.jsx("strong",{style:{color:"#6366f1"},children:"Delivery agent:"})," ",E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId||"Not assigned",(E.assignedAgentName||E.riderName||E.riderId||E.assignedAgentId)&&(E.agentPhoneNumber||E.agentWhatsappNumber)&&l.jsxs(l.Fragment,{children:[" (",E.agentPhoneNumber?l.jsxs("a",{href:`tel:${E.agentPhoneNumber}`,style:{color:"#007bff",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentPhoneNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M3.654 1.328a.678.678 0 0 1 .58-.326h2.222c.27 0 .513.162.608.41l1.013 2.53a.678.678 0 0 1-.145.72l-1.013 1.013a11.42 11.42 0 0 0 4.292 4.292l1.013-1.013a.678.678 0 0 1 .72-.145l2.53 1.013a.678.678 0 0 1 .41.608v2.222a.678.678 0 0 1-.326.58l-2.222 1.333a2.034 2.034 0 0 1-2.03.06c-2.29-1.19-4.13-3.03-5.32-5.32a2.034 2.034 0 0 1 .06-2.03L3.654 1.328z",stroke:"#007bff",strokeWidth:"1.2",fill:"none"})})})]}):l.jsx("span",{children:"N/A"}),", ",E.agentWhatsappNumber?l.jsxs("a",{href:`https://wa.me/${E.agentWhatsappNumber.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#25D366",textDecoration:"underline",display:"inline-flex",alignItems:"center",gap:2},children:[l.jsx("span",{style:{verticalAlign:"middle"},children:E.agentWhatsappNumber}),l.jsx("span",{style:{fontSize:"1em",marginLeft:2,verticalAlign:"middle"},children:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline",verticalAlign:"middle"},children:l.jsx("path",{d:"M16 3C9.373 3 4 8.373 4 15c0 2.385.832 4.584 2.236 6.393L4 29l7.828-2.236A11.96 11.96 0 0 0 16 27c6.627 0 12-5.373 12-12S22.627 3 16 3zm0 21.5c-1.77 0-3.45-.46-4.91-1.26l-.35-.2-4.65 1.33 1.33-4.65-.2-.35A8.97 8.97 0 0 1 7 15c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9zm5.07-6.36c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.13-.13.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.96.94-.96 2.3 0 1.36.98 2.68 1.12 2.87.14.18 1.93 2.95 4.68 4.02.65.28 1.16.45 1.56.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.21.16-1.32-.07-.11-.25-.18-.53-.32z",fill:"#25D366"})})})]}):l.jsx("span",{children:"N/A"}),")"]})]})]})]}),l.jsxs("div",{style:{padding:"18px 28px 18px 28px",background:"#fff"},children:[l.jsx("button",{onClick:()=>f(E.id),style:{padding:"7px 18px",cursor:"pointer",borderRadius:"7px",border:"none",background:o[E.id]?"#ede9fe":"#7c3aed",color:o[E.id]?"#7c3aed":"#fff",fontWeight:600,fontSize:15,marginBottom:10,transition:"all 0.2s",boxShadow:o[E.id]?"0 2px 8px #ede9fe":"none"},children:o[E.id]?"Hide Items":"View Items"}),o[E.id]&&((b=E.items)==null?void 0:b.length)>0&&l.jsx("ul",{style:{marginTop:"10px"},children:E.items.map((I,T)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[I.image&&l.jsx("img",{src:I.image,alt:I.name,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc"}}),l.jsxs("span",{children:[I.name," – ₦",I.price," x ",I.quantity||1]})]},T))}),l.jsxs("p",{style:{marginTop:"10px",fontWeight:600,color:"#7c3aed",fontSize:16},children:[l.jsx("strong",{children:"Total:"})," ₦",h(E.items||[])]}),(E.status||"Pending")==="Pending"&&l.jsx("button",{onClick:()=>c(E.id),style:{marginTop:"10px",padding:"7px 18px",border:"none",borderRadius:"7px",background:"red",color:"#fff",cursor:"pointer",fontWeight:600,fontSize:15},children:"Cancel Order"}),l.jsx("div",{style:{marginTop:18,color:"#6366f1",fontSize:"0.98em",fontWeight:500,textAlign:"center"},children:"You are advised to contact both the pharmacy and the delivery agents to follow up on your order."})]})]},E.id)})]})}const b7="modulepreload",w7=function(t){return"/medcins/"+t},IS={},Aa=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=w7(u),u in IS)return;IS[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":b7,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,S)=>{h.addEventListener("load",m),h.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},S7=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];function E7(){const t=$s(),[e,n]=w.useState(null),[r,i]=w.useState(""),[s,o]=w.useState(""),[a,u]=w.useState(""),[c,f]=w.useState(""),[h,m]=w.useState(""),[S,E]=w.useState(""),[b,I]=w.useState(""),[T,v]=w.useState(!1),[_,R]=w.useState(!1),[L,N]=w.useState(!1),[g,p]=w.useState({}),[y,C]=w.useState(!1),j={};pe.useEffect(()=>{e&&(e.role==="delivery-agent"&&e.slug?t(`/agent/${e.slug}`):t("/"))},[e,t]);const A=async()=>{try{if(!distributorName||!distributorLicense){alert("Please provide distributor name and license number.");return}const $=await captureDistributorLocation();if(!$){alert("📍 Location required to complete distributor signup.");return}const U=(await Zl(Ys,r,s)).user,ne=await W(distributorName),Z={email:U.email,role:"distributor",businessName:distributorName,licenseNumber:distributorLicense,location:$,slug:ne,businessSlug:ne,createdAt:new Date().toISOString()};await F(U.uid,Z),n({...U,...Z}),alert(`✅ Distributor signup successful!
Your distributor link: pharmastack.com/store/${ne}`),R(!1),setDistributorName(""),setDistributorLicense(""),setDistributorLocation(null)}catch($){console.error("Distributor signup error:",$),alert($.message||"Distributor signup failed")}},P=$=>$.toLowerCase().trim().replace(/[^a-z0-9]+/g,"").replace(/^-+|-+$/g,""),W=async $=>{let G=P($);const U=Ae(ee,"users");let ne=G,Z=1;for(;;){const te=yi(U,Qr("slug","==",ne));if((await an(te)).empty)break;ne=`${G}${Z++}`}return ne},F=async($,G)=>{console.log("Writing user doc for:",$,G),await ir(be(ee,"users",$),G)},H=async()=>{try{if(!address||!state||!city){alert("Please provide address, state, and city.");return}const G=(await Zl(Ys,r,s)).user,U={email:G.email,role:"customer",address,state,city,landmark,createdAt:new Date().toISOString()};await F(G.uid,U),n({...G,...U}),alert("✅ Customer signup successful!")}catch($){console.error("Customer signup error:",$),alert($.message)}},B=async()=>navigator.geolocation?(setLoadingLocation(!0),new Promise(($,G)=>{navigator.geolocation.getCurrentPosition(U=>{const ne={latitude:U.coords.latitude,longitude:U.coords.longitude};setLocation(ne),setLoadingLocation(!1),$(ne)},U=>{setLoadingLocation(!1),alert("⚠️ Location access denied or unavailable."),G(U)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})):(alert("❌ Geolocation is not supported by your browser."),null),D=async()=>{try{if(!a||!licenseNumber||!c){alert("Please provide business name, address, and license number.");return}const $=await B();if(!$){alert("📍 Location required to complete business signup.");return}const U=(await Zl(Ys,r,s)).user;console.log("Business user created:",U.uid);const ne=await W(a);console.log("Generated unique slug:",ne);const Z={email:U.email,role:"medicine-manager",businessName:a,address:c,city:S,state:h,landmark:b,licenseNumber,location:$,lat:$.latitude,lng:$.longitude,slug:ne,businessSlug:ne,businessPhone,businessWhatsapp,createdAt:new Date().toISOString()};await F(U.uid,Z),console.log("Firestore user record created for business:",Z),n({...U,...Z}),alert(`✅ Business signup successful!
Your store link: pharmastack.com/store/${ne}`),v(!1),u(""),f(""),setLicenseNumber(""),setLocation(null)}catch($){console.error("Business signup error:",$),alert($.message||"Business signup failed")}},z=async()=>{try{const G=(await kk(Ys,r,s)).user,U=await on(be(ee,"users",G.uid));U.exists()?(n({...G,...U.data()}),U.data().role==="delivery-agent"&&U.data().slug&&t(`/agent/${U.data().slug}`)):(alert("⚠️ No Firestore user record found. Please contact admin."),n({...G}))}catch($){console.error("Login error:",$),alert($.message||"Login failed")}},q=async()=>{await Ak(Ys),n(null)},Q=async()=>{try{C(!0);const $=["companyName","phoneNumber","whatsappNumber","rcNumber","businessAddress","email","coverageArea","operatingHours","logoUrl","state","city"];for(const he of $)if(!g[he]){alert(`Please fill the ${he} field.`),C(!1);return}const U=(await Zl(Ys,g.email,s)).user,ne=await W(g.companyName),Z={...g,role:"delivery-agent",slug:ne,createdAt:new Date().toISOString()};await F(U.uid,Z);const te={companyName:g.companyName,phoneNumber:g.phoneNumber,whatsappNumber:g.whatsappNumber,rcNumber:g.rcNumber,businessAddress:g.businessAddress,email:g.email,coverageArea:g.coverageArea,operatingHours:g.operatingHours,logoUrl:g.logoUrl,state:g.state,city:g.city,landmark:g.landmark,userId:U.uid,createdAt:new Date().toISOString(),slug:ne},{addDoc:ce,collection:fe}=await Aa(async()=>{const{addDoc:he,collection:_e}=await Promise.resolve().then(()=>Y0);return{addDoc:he,collection:_e}},void 0);await ce(fe(ee,"deliveryAgents"),te),n({...U,...Z}),alert("✅ Delivery agent signup successful!"),N(!1),p(j)}catch($){console.error("Delivery agent signup error:",$),alert($.message||"Delivery agent signup failed")}finally{C(!1)}},[Y,J]=w.useState(!1),[ie,me]=w.useState("customer"),ve=[{key:"customer",label:"Customer"},{key:"business",label:"Business"},{key:"distributor",label:"Distributor"},{key:"delivery-agent",label:"Delivery Agent"}];return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e0e7ff 0%, #f4f6fb 100%)",fontFamily:"Inter, Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l.jsx("h2",{style:{fontWeight:700,color:"#2d3748",marginBottom:24,letterSpacing:1,fontSize:32},children:"🔐 Welcome to Pharmastack"}),e&&l.jsx("button",{style:{position:"absolute",top:20,right:20,background:"#e53e3e",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer"},onClick:q,children:"Logout"}),l.jsx("div",{style:{width:"100%",maxWidth:420,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px #c7d2fe55",padding:36,marginTop:8},children:e?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsxs("p",{style:{fontSize:22,fontWeight:700,color:"#2d3748",marginBottom:8},children:["Welcome, ",e.email," ",e.role?l.jsxs("span",{style:{color:"#6366f1"},children:["(",e.role.replace(/-/g," "),")"]}):""]}),e.role==="medicine-manager"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Business: ",l.jsx("b",{children:e.businessName})]}),l.jsxs("p",{style:{fontSize:15},children:["🏪 Store link: "," ",l.jsxs("a",{href:`/store/${e.businessSlug}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",textDecoration:"underline"},children:["pharmastack.com/store/",e.businessSlug]})]})]}),e.role==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginBottom:8},children:["Delivery Agent: ",l.jsx("b",{children:e.companyName})]}),l.jsxs("p",{style:{fontSize:15},children:["Email: ",e.email]})]})]}):l.jsx(l.Fragment,{children:Y?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:18},children:l.jsx("select",{value:ie,onChange:$=>me($.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #cbd5e1",fontSize:16},children:ve.map($=>l.jsx("option",{value:$.key,children:$.label},$.key))})}),ie==="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#2563eb",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Customer Signup"}),l.jsx("input",{type:"text",placeholder:"Full Name",value:name,onChange:$=>setName($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:phone,onChange:$=>setPhone($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Address",value:address,onChange:$=>setAddress($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:state,onChange:$=>setState($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:city,onChange:$=>setCity($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:landmark,onChange:$=>setLandmark($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:H,style:{padding:"10px 0",background:"#2563eb",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingLocation,children:loadingLocation?"Getting Location...":"Complete Customer Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),location&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",location.latitude.toFixed(5),", ",location.longitude.toFixed(5)]})]}),ie==="business"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Business Signup"}),l.jsx("input",{type:"text",placeholder:"Business Name",value:a,onChange:$=>u($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:c,onChange:$=>f($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:licenseNumber,onChange:$=>setLicenseNumber($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("select",{value:h,onChange:$=>m($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1",background:"#f9f9f9",fontSize:16},children:[l.jsx("option",{value:"",children:"Select State"}),S7.map($=>l.jsx("option",{value:$,children:$},$))]}),l.jsx("input",{type:"text",placeholder:"City",value:S,onChange:$=>E($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:b,onChange:$=>I($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:businessPhone,onChange:$=>setBusinessPhone($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Number",value:businessWhatsapp,onChange:$=>setBusinessWhatsapp($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:D,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingLocation,children:loadingLocation?"Getting Location...":"Complete Business Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),location&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",location.latitude.toFixed(5),", ",location.longitude.toFixed(5)]})]}),ie==="distributor"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#d97706",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Distributor Signup"}),l.jsx("input",{type:"text",placeholder:"Distributor Name",value:distributorName,onChange:$=>setDistributorName($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"License Number",value:distributorLicense,onChange:$=>setDistributorLicense($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:distributorState,onChange:$=>setDistributorState($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:distributorCity,onChange:$=>setDistributorCity($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:distributorLandmark,onChange:$=>setDistributorLandmark($.target.value),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:A,style:{padding:"10px 0",background:"#d97706",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:loadingDistributorLocation,children:loadingDistributorLocation?"Getting Location...":"Complete Distributor Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]}),distributorLocation&&l.jsxs("p",{style:{fontSize:"12px",marginTop:"8px"},children:["📍 Location captured: ",distributorLocation.latitude.toFixed(5),", ",distributorLocation.longitude.toFixed(5)]})]}),ie==="delivery-agent"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#059669",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Delivery Agent Signup"}),l.jsx("input",{type:"text",placeholder:"Company Name",value:g.companyName,onChange:$=>p(G=>({...G,companyName:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Phone Number",value:g.phoneNumber,onChange:$=>p(G=>({...G,phoneNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"WhatsApp Phone Number",value:g.whatsappNumber,onChange:$=>p(G=>({...G,whatsappNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"RC Number",value:g.rcNumber,onChange:$=>p(G=>({...G,rcNumber:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Address",value:g.businessAddress,onChange:$=>p(G=>({...G,businessAddress:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"State",value:g.state,onChange:$=>p(G=>({...G,state:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"City",value:g.city,onChange:$=>p(G=>({...G,city:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Nearest Landmark",value:g.landmark,onChange:$=>p(G=>({...G,landmark:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Coverage Area",value:g.coverageArea,onChange:$=>p(G=>({...G,coverageArea:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Operating Hours (e.g. 8am-6pm)",value:g.operatingHours,onChange:$=>p(G=>({...G,operatingHours:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"text",placeholder:"Business Logo Link: Paste logo image URL here",value:g.logoUrl,onChange:$=>p(G=>({...G,logoUrl:$.target.value})),style:{margin:"6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"email",placeholder:"Email",value:g.email,onChange:$=>p(G=>({...G,email:$.target.value})),style:{margin:"18px 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"0 0 6px 0",padding:"10px",width:"100%",borderRadius:8,border:"1px solid #cbd5e1"}}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("button",{onClick:Q,style:{padding:"10px 0",background:"#059669",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:16,cursor:"pointer",width:"100%"},disabled:y,children:y?"Signing Up...":"Complete Delivery Agent Signup"}),l.jsx("button",{onClick:()=>J(!1),style:{marginTop:8,width:"100%",background:"#64748b",color:"#fff",border:"none",borderRadius:8,padding:"10px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Back to Login"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{style:{color:"#6366f1",fontWeight:700,marginBottom:18,fontSize:20,letterSpacing:.5},children:"Login"}),l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:$=>i($.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:$=>o($.target.value),style:{margin:"10px 0",padding:"12px",borderRadius:8,border:"1px solid #cbd5e1",width:"100%",fontSize:16}}),l.jsxs("div",{style:{display:"flex",gap:10,marginTop:18},children:[l.jsx("button",{onClick:z,style:{flex:1,background:"#6366f1",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Login"}),l.jsx("button",{onClick:()=>J(!0),style:{flex:1,background:"#2d3748",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Sign Up"})]})]})})})]})}var FP={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Ul,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},u=0,c={};function f(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var C=L(y);C.chunkSize=parseInt(C.chunkSize),y.step||y.chunk||(C.chunkSize=null),this._handle=new b(C),(this._handle.streamer=this)._config=C}).call(this,p),this.parseChunk=function(y,C){var j=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<j){let P=this._config.newline;P||(A=this._config.quoteChar||'"',P=this._handle.guessLineEndings(y,A)),y=[...y.split(P).slice(j)].join(P)}this.isFirstChunk&&g(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(y))!==void 0&&(y=A),this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+y,A=(this._partialLine="",this._handle.parse(j,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=A.meta.cursor,j=(this._finished||(this._partialLine=j.substring(y-this._baseIndex),this._baseIndex=y),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:A,workerId:c.WORKER_ID,finished:j});else if(g(this._config.chunk)&&!C){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!j||!g(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(y){g(this._config.error)?this._config.error(y):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:y,finished:!1})}}function h(p){var y;(p=p||{}).chunkSize||(p.chunkSize=c.RemoteChunkSize),f.call(this,p),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),s||(y.onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var C,j=this._config.downloadRequestHeaders;for(C in j)y.setRequestHeader(C,j[C])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+A));try{y.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(C){C=y.statusText||C,this._sendError(new Error(C))}}function m(p){(p=p||{}).chunkSize||(p.chunkSize=c.LocalChunkSize),f.call(this,p);var y,C,j=typeof FileReader<"u";this.stream=function(A){this._input=A,C=A.slice||A.webkitSlice||A.mozSlice,j?((y=new FileReader).onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),A=C.call(A,this._start,P)),y.readAsText(A,this._config.encoding));j||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(y.error)}}function S(p){var y;f.call(this,p=p||{}),this.stream=function(C){return y=C,this._nextChunk()},this._nextChunk=function(){var C,j;if(!this._finished)return C=this._config.chunkSize,y=C?(j=y.substring(0,C),y.substring(C)):(j=y,""),this._finished=!y,this.parseChunk(j)}}function E(p){f.call(this,p=p||{});var y=[],C=!0,j=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){j&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):C=!0},this._streamData=N(function(A){try{y.push(typeof A=="string"?A:A.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(P){this._streamError(P)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),j=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(p){var y,C,j,A,P=Math.pow(2,53),W=-P,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,D=0,z=0,q=!1,Q=!1,Y=[],J={data:[],errors:[],meta:{}};function ie(G){return p.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function me(){if(J&&j&&($("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),j=!1),p.skipEmptyLines&&(J.data=J.data.filter(function(te){return!ie(te)})),ve()){let te=function(ce,fe){g(p.transformHeader)&&(ce=p.transformHeader(ce,fe)),Y.push(ce)};var Z=te;if(J)if(Array.isArray(J.data[0])){for(var G=0;ve()&&G<J.data.length;G++)J.data[G].forEach(te);J.data.splice(0,1)}else J.data.forEach(te)}function U(te,ce){for(var fe=p.header?{}:[],he=0;he<te.length;he++){var _e=he,Xe=te[he],Xe=((Ee,De)=>($e=>(p.dynamicTypingFunction&&p.dynamicTyping[$e]===void 0&&(p.dynamicTyping[$e]=p.dynamicTypingFunction($e)),(p.dynamicTyping[$e]||p.dynamicTyping)===!0))(Ee)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&(($e=>{if(F.test($e)&&($e=parseFloat($e),W<$e&&$e<P))return 1})(De)?parseFloat(De):H.test(De)?new Date(De):De===""?null:De):De)(_e=p.header?he>=Y.length?"__parsed_extra":Y[he]:_e,Xe=p.transform?p.transform(Xe,_e):Xe);_e==="__parsed_extra"?(fe[_e]=fe[_e]||[],fe[_e].push(Xe)):fe[_e]=Xe}return p.header&&(he>Y.length?$("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+he,z+ce):he<Y.length&&$("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+he,z+ce)),fe}var ne;J&&(p.header||p.dynamicTyping||p.transform)&&(ne=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(U),ne=J.data.length):J.data=U(J.data,0),p.header&&J.meta&&(J.meta.fields=Y),z+=ne)}function ve(){return p.header&&Y.length===0}function $(G,U,ne,Z){G={type:G,code:U,message:ne},Z!==void 0&&(G.row=Z),J.errors.push(G)}g(p.step)&&(A=p.step,p.step=function(G){J=G,ve()?me():(me(),J.data.length!==0&&(D+=G.data.length,p.preview&&D>p.preview?C.abort():(J.data=J.data[0],A(J,B))))}),this.parse=function(G,U,ne){var Z=p.quoteChar||'"',Z=(p.newline||(p.newline=this.guessLineEndings(G,Z)),j=!1,p.delimiter?g(p.delimiter)&&(p.delimiter=p.delimiter(G),J.meta.delimiter=p.delimiter):((Z=((te,ce,fe,he,_e)=>{var Xe,Ee,De,$e;_e=_e||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var qe=0;qe<_e.length;qe++){for(var ft,ht=_e[qe],Le=0,gt=0,Ie=0,Be=(De=void 0,new T({comments:he,delimiter:ht,newline:ce,preview:10}).parse(te)),Oe=0;Oe<Be.data.length;Oe++)fe&&ie(Be.data[Oe])?Ie++:(ft=Be.data[Oe].length,gt+=ft,De===void 0?De=ft:0<ft&&(Le+=Math.abs(ft-De),De=ft));0<Be.data.length&&(gt/=Be.data.length-Ie),(Ee===void 0||Le<=Ee)&&($e===void 0||$e<gt)&&1.99<gt&&(Ee=Le,Xe=ht,$e=gt)}return{successful:!!(p.delimiter=Xe),bestDelimiter:Xe}})(G,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=Z.bestDelimiter:(j=!0,p.delimiter=c.DefaultDelimiter),J.meta.delimiter=p.delimiter),L(p));return p.preview&&p.header&&Z.preview++,y=G,C=new T(Z),J=C.parse(y,U,ne),me(),q?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,C.abort(),y=g(p.chunk)?"":y.substring(C.getCharIndex())},this.resume=function(){B.streamer._halted?(q=!1,B.streamer.parseChunk(y,!0)):setTimeout(B.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,C.abort(),J.meta.aborted=!0,g(p.complete)&&p.complete(J),y=""},this.guessLineEndings=function(te,Z){te=te.substring(0,1048576);var Z=new RegExp(I(Z)+"([^]*?)"+I(Z),"gm"),ne=(te=te.replace(Z,"")).split("\r"),Z=te.split(`
`),te=1<Z.length&&Z[0].length<ne[0].length;if(ne.length===1||te)return`
`;for(var ce=0,fe=0;fe<ne.length;fe++)ne[fe][0]===`
`&&ce++;return ce>=ne.length/2?`\r
`:"\r"}}function I(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(p){var y=(p=p||{}).delimiter,C=p.newline,j=p.comments,A=p.step,P=p.preview,W=p.fastMode,F=null,H=!1,B=p.quoteChar==null?'"':p.quoteChar,D=B;if(p.escapeChar!==void 0&&(D=p.escapeChar),(typeof y!="string"||-1<c.BAD_DELIMITERS.indexOf(y))&&(y=","),j===y)throw new Error("Comment character same as delimiter");j===!0?j="#":(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var z=0,q=!1;this.parse=function(Q,Y,J){if(typeof Q!="string")throw new Error("Input must be a string");var ie=Q.length,me=y.length,ve=C.length,$=j.length,G=g(A),U=[],ne=[],Z=[],te=z=0;if(!Q)return Le();if(W||W!==!1&&Q.indexOf(B)===-1){for(var ce=Q.split(C),fe=0;fe<ce.length;fe++){if(Z=ce[fe],z+=Z.length,fe!==ce.length-1)z+=C.length;else if(J)return Le();if(!j||Z.substring(0,$)!==j){if(G){if(U=[],$e(Z.split(y)),gt(),q)return Le()}else $e(Z.split(y));if(P&&P<=fe)return U=U.slice(0,P),Le(!0)}}return Le()}for(var he=Q.indexOf(y,z),_e=Q.indexOf(C,z),Xe=new RegExp(I(D)+I(B),"g"),Ee=Q.indexOf(B,z);;)if(Q[z]===B)for(Ee=z,z++;;){if((Ee=Q.indexOf(B,Ee+1))===-1)return J||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:z}),ft();if(Ee===ie-1)return ft(Q.substring(z,Ee).replace(Xe,B));if(B===D&&Q[Ee+1]===D)Ee++;else if(B===D||Ee===0||Q[Ee-1]!==D){he!==-1&&he<Ee+1&&(he=Q.indexOf(y,Ee+1));var De=qe((_e=_e!==-1&&_e<Ee+1?Q.indexOf(C,Ee+1):_e)===-1?he:Math.min(he,_e));if(Q.substr(Ee+1+De,me)===y){Z.push(Q.substring(z,Ee).replace(Xe,B)),Q[z=Ee+1+De+me]!==B&&(Ee=Q.indexOf(B,z)),he=Q.indexOf(y,z),_e=Q.indexOf(C,z);break}if(De=qe(_e),Q.substring(Ee+1+De,Ee+1+De+ve)===C){if(Z.push(Q.substring(z,Ee).replace(Xe,B)),ht(Ee+1+De+ve),he=Q.indexOf(y,z),Ee=Q.indexOf(B,z),G&&(gt(),q))return Le();if(P&&U.length>=P)return Le(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:z}),Ee++}}else if(j&&Z.length===0&&Q.substring(z,z+$)===j){if(_e===-1)return Le();z=_e+ve,_e=Q.indexOf(C,z),he=Q.indexOf(y,z)}else if(he!==-1&&(he<_e||_e===-1))Z.push(Q.substring(z,he)),z=he+me,he=Q.indexOf(y,z);else{if(_e===-1)break;if(Z.push(Q.substring(z,_e)),ht(_e+ve),G&&(gt(),q))return Le();if(P&&U.length>=P)return Le(!0)}return ft();function $e(Ie){U.push(Ie),te=z}function qe(Ie){var Be=0;return Be=Ie!==-1&&(Ie=Q.substring(Ee+1,Ie))&&Ie.trim()===""?Ie.length:Be}function ft(Ie){return J||(Ie===void 0&&(Ie=Q.substring(z)),Z.push(Ie),z=ie,$e(Z),G&&gt()),Le()}function ht(Ie){z=Ie,$e(Z),Z=[],_e=Q.indexOf(C,z)}function Le(Ie){if(p.header&&!Y&&U.length&&!H){var Be=U[0],Oe=Object.create(null),Te=new Set(Be);let Et=!1;for(let qt=0;qt<Be.length;qt++){let Je=Be[qt];if(Oe[Je=g(p.transformHeader)?p.transformHeader(Je,qt):Je]){let we,nt=Oe[Je];for(;we=Je+"_"+nt,nt++,Te.has(we););Te.add(we),Be[qt]=we,Oe[Je]++,Et=!0,(F=F===null?{}:F)[we]=Je}else Oe[Je]=1,Be[qt]=Je;Te.add(Je)}Et&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:U,errors:ne,meta:{delimiter:y,linebreak:C,aborted:q,truncated:!!Ie,cursor:te+(Y||0),renamedHeaders:F}}}function gt(){A(Le()),U=[],ne=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return z}}function v(p){var y=p.data,C=a[y.workerId],j=!1;if(y.error)C.userError(y.error,y.file);else if(y.results&&y.results.data){var A={abort:function(){j=!0,_(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(g(C.userStep)){for(var P=0;P<y.results.data.length&&(C.userStep({data:y.results.data[P],errors:y.results.errors,meta:y.results.meta},A),!j);P++);delete y.results}else g(C.userChunk)&&(C.userChunk(y.results,A,y.file),delete y.results)}y.finished&&!j&&_(y.workerId,y.results)}function _(p,y){var C=a[p];g(C.userComplete)&&C.userComplete(y),C.terminate(),delete a[p]}function R(){throw new Error("Not implemented.")}function L(p){if(typeof p!="object"||p===null)return p;var y,C=Array.isArray(p)?[]:{};for(y in p)C[y]=L(p[y]);return C}function N(p,y){return function(){p.apply(y,arguments)}}function g(p){return typeof p=="function"}return c.parse=function(p,y){var C=(y=y||{}).dynamicTyping||!1;if(g(C)&&(y.dynamicTypingFunction=C,C={}),y.dynamicTyping=C,y.transform=!!g(y.transform)&&y.transform,!y.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof p=="string"?(p=(j=>j.charCodeAt(0)!==65279?j:j.slice(1))(p),C=new(y.download?h:S)(y)):p.readable===!0&&g(p.read)&&g(p.on)?C=new E(y):(r.File&&p instanceof File||p instanceof Object)&&(C=new m(y)),C.stream(p);(C=(()=>{var j;return!!c.WORKERS_SUPPORTED&&(j=(()=>{var A=r.URL||r.webkitURL||null,P=n.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(j=new r.Worker(j)).onmessage=v,j.id=u++,a[j.id]=j)})()).userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=g(y.step),y.chunk=g(y.chunk),y.complete=g(y.complete),y.error=g(y.error),delete y.worker,C.postMessage({input:p,config:y,workerId:C.id})},c.unparse=function(p,y){var C=!1,j=!0,A=",",P=`\r
`,W='"',F=W+W,H=!1,B=null,D=!1,z=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||c.BAD_DELIMITERS.filter(function(Y){return y.delimiter.indexOf(Y)!==-1}).length||(A=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(C=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(H=y.skipEmptyLines),typeof y.newline=="string"&&(P=y.newline),typeof y.quoteChar=="string"&&(W=y.quoteChar),typeof y.header=="boolean"&&(j=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");B=y.columns}y.escapeChar!==void 0&&(F=y.escapeChar+W),y.escapeFormulae instanceof RegExp?D=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(I(W),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return q(null,p,H);if(typeof p[0]=="object")return q(B||Object.keys(p[0]),p,H)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||B),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),q(p.fields||[],p.data||[],H);throw new Error("Unable to serialize unrecognized input");function q(Y,J,ie){var me="",ve=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(Y)&&0<Y.length),$=!Array.isArray(J[0]);if(ve&&j){for(var G=0;G<Y.length;G++)0<G&&(me+=A),me+=Q(Y[G],G);0<J.length&&(me+=P)}for(var U=0;U<J.length;U++){var ne=(ve?Y:J[U]).length,Z=!1,te=ve?Object.keys(J[U]).length===0:J[U].length===0;if(ie&&!ve&&(Z=ie==="greedy"?J[U].join("").trim()==="":J[U].length===1&&J[U][0].length===0),ie==="greedy"&&ve){for(var ce=[],fe=0;fe<ne;fe++){var he=$?Y[fe]:fe;ce.push(J[U][he])}Z=ce.join("").trim()===""}if(!Z){for(var _e=0;_e<ne;_e++){0<_e&&!te&&(me+=A);var Xe=ve&&$?Y[_e]:_e;me+=Q(J[U][Xe],_e)}U<J.length-1&&(!ie||0<ne&&!te)&&(me+=P)}}return me}function Q(Y,J){var ie,me;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(me=!1,D&&typeof Y=="string"&&D.test(Y)&&(Y="'"+Y,me=!0),ie=Y.toString().replace(z,F),(me=me||C===!0||typeof C=="function"&&C(Y,J)||Array.isArray(C)&&C[J]||((ve,$)=>{for(var G=0;G<$.length;G++)if(-1<ve.indexOf($[G]))return!0;return!1})(ie,c.BAD_DELIMITERS)||-1<ie.indexOf(A)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?W+ie+W:ie)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=b,c.NetworkStreamer=h,c.FileStreamer=m,c.StringStreamer=S,c.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(p){var y=p.config||{},C=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)C.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},y)})}),j(),this;function j(){if(C.length===0)g(p.complete)&&p.complete();else{var P,W,F,H,B=C[0];if(g(p.before)){var D=p.before(B.file,B.inputElem);if(typeof D=="object"){if(D.action==="abort")return P="AbortError",W=B.file,F=B.inputElem,H=D.reason,void(g(p.error)&&p.error({name:P},W,F,H));if(D.action==="skip")return void A();typeof D.config=="object"&&(B.instanceConfig=i.extend(B.instanceConfig,D.config))}else if(D==="skip")return void A()}var z=B.instanceConfig.complete;B.instanceConfig.complete=function(q){g(z)&&z(q,B.file,B.inputElem),A()},c.parse(B.file,B.instanceConfig)}}function A(){C.splice(0,1),j()}}),o&&(r.onmessage=function(p){p=p.data,c.WORKER_ID===void 0&&p&&(c.WORKER_ID=p.workerId),typeof p.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(p.input,p.config),finished:!0}):(r.File&&p.input instanceof File||p.input instanceof Object)&&(p=c.parse(p.input,p.config))&&r.postMessage({workerId:c.WORKER_ID,results:p,finished:!0})}),(h.prototype=Object.create(f.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,(S.prototype=Object.create(S.prototype)).constructor=S,(E.prototype=Object.create(f.prototype)).constructor=E,c})})(FP);var T7=FP.exports;const VP=mh(T7),fg=["name","ingredient","class","price","image"];function C7(){const[t,e]=w.useState(""),[n,r]=w.useState("add"),s=window.location.pathname.match(/^\/store\/([^\/]+)/),[o,a]=w.useState(null);if(w.useEffect(()=>{Aa(async()=>{const{getAuth:F,onAuthStateChanged:H}=await Promise.resolve().then(()=>Wk);return{getAuth:F,onAuthStateChanged:H}},void 0).then(({getAuth:F,onAuthStateChanged:H})=>{const B=F();H(B,async D=>{if(D){const{getDoc:z,doc:q}=await Aa(async()=>{const{getDoc:Y,doc:J}=await Promise.resolve().then(()=>Y0);return{getDoc:Y,doc:J}},void 0),Q=await z(q(ee,"users",D.uid));a(Q.exists()?Q.data().role:null)}else a(null)})})},[]),s||o==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[u,c]=w.useState(null),[f,h]=w.useState(null),[m,S]=w.useState([]),[E,b]=w.useState({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1}),[I,T]=w.useState(null),[v,_]=w.useState([]),[R,L]=w.useState([]),N=m.filter(F=>{var B,D,z;const H=t.toLowerCase();return((B=F.name)==null?void 0:B.toLowerCase().includes(H))||((D=F.ingredient)==null?void 0:D.toLowerCase().includes(H))||((z=F.class)==null?void 0:z.toLowerCase().includes(H))}),g=Fn();w.useEffect(()=>{const F=jr(g,async H=>{if(H){c(H);try{const B=await on(be(ee,"users",H.uid));B.exists()?h(B.data()):h({role:"customer"})}catch(B){console.error("Error fetching user doc:",B),h({role:"customer"})}}else c(null),h(null)});return()=>F()},[g]),w.useEffect(()=>{if(!u)return;const F=Ct(Ae(ee,"products"),H=>{const B=H.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.ownerId===u.uid);S(B)});return()=>F()},[u]),w.useEffect(()=>{if(!u)return;const F=Ct(Ae(ee,"batches"),H=>{const B=H.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.uploadedBy===u.uid);L(B)});return()=>F()},[u]);const p=()=>({ownerSlug:(f==null?void 0:f.slug)||null,businessName:(f==null?void 0:f.businessName)||null}),y=async F=>{if(F.preventDefault(),!u)return xe.error("Please log in first");if(!f)return xe.info("Loading user data...");const{name:H,ingredient:B,class:D,price:z,image:q}=E;if(!H||!B||!D||!z)return xe.warn("Please fill all required fields");const Q=parseInt(z,10);if(isNaN(Q)||Q<0)return xe.warn("Price must be a positive number");const{ownerSlug:Y,businessName:J}=p(),ie=(f==null?void 0:f.pharmacist)||null;try{I?(await tn(be(ee,"products",I),{name:H,ingredient:B,class:D,price:Q,image:q||"",ownerSlug:Y||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:ie||null}),T(null)):await wo(Ae(ee,"products"),{name:H,ingredient:B,class:D,price:Q,image:q||"",ownerId:u.uid,ownerSlug:Y||"",businessName:J||"",isPOM:!!E.isPOM,registeredOnly:!!E.registeredOnly,pharmacist:ie||null}),b({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})}catch(me){console.error(me),xe.error("Error saving medicine")}},C=F=>{const H=F.target.files[0];H&&VP.parse(H,{header:!0,skipEmptyLines:!0,complete:B=>{const D=B.data.map(z=>{const q={};return fg.forEach(Q=>q[Q]=z[Q]||(Q==="price"?0:"N/A")),q});_(D)}})},j=async()=>{if(!v.length)return xe.info("No CSV data to upload");if(!u)return xe.error("Please log in first");if(!f)return xe.info("Loading user data...");const F=be(Ae(ee,"batches")),H=[],{ownerSlug:B,businessName:D}=p(),z=(f==null?void 0:f.pharmacist)||null;for(let q of v)try{const Q=await wo(Ae(ee,"products"),{name:q.name,ingredient:q.ingredient,class:q.class,price:parseInt(q.price,10)||0,image:q.image==="N/A"?"":q.image,batchId:F.id,ownerId:u.uid,ownerSlug:B||"",businessName:D||"",isPOM:!!q.isPOM,pharmacist:z||null});H.push(Q.id)}catch(Q){console.error("CSV upload error for row:",q,Q)}try{await ir(F,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:u.uid,date:new Date().toISOString(),medicineIds:H})}catch(q){console.error("Failed to create batch doc:",q)}alert(`✅ ${H.length} medicines uploaded`),xe.success(`✅ ${H.length} medicines uploaded`),_([])},A=F=>{b({name:F.name,ingredient:F.ingredient,class:F.class,price:F.price,image:F.image||"",isPOM:!!F.isPOM}),T(F.id),r("add")},P=async F=>{if(window.confirm("Delete this medicine?"))try{await Rr(be(ee,"products",F.id)),xe.success("Medicine deleted.")}catch(H){console.error(H),xe.error("Error deleting medicine")}},W=async F=>{if(window.confirm("Delete this batch and its medicines?"))try{for(let H of F.medicineIds)await Rr(be(ee,"products",H));await Rr(be(ee,"batches",F.id)),xe.success("Batch deleted.")}catch(H){console.error(H),xe.error("Error deleting batch")}};return u?f?f.role!=="medicine-manager"&&f.role!=="admin"?l.jsx("p",{children:"Access denied. Medicine managers only."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"Medicine Management"}),l.jsxs("p",{children:["Logged in as: ",u.email]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="add"?"2px solid #1976d2":"1px solid #ccc",background:n==="add"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("add"),children:"Add Medicines"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="manage"?"2px solid #1976d2":"1px solid #ccc",background:n==="manage"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("manage"),children:"Manage Products"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:n==="pharmacist"?"2px solid #1976d2":"1px solid #ccc",background:n==="pharmacist"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>r("pharmacist"),children:"Pharmacist Management"})]}),l.jsxs("div",{style:{marginTop:30},children:[n==="add"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Add Medicines"}),l.jsxs("form",{onSubmit:y,style:{marginBottom:"20px"},children:[l.jsx("h4",{children:I?"Edit Medicine":"Add Medicine"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Name",value:E.name,onChange:F=>b({...E,name:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Ingredient",value:E.ingredient,onChange:F=>b({...E,ingredient:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Class",value:E.class,onChange:F=>b({...E,class:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"number",placeholder:"Price (₦)",value:E.price,onChange:F=>b({...E,price:F.target.value}),required:!0,style:{flex:1}}),l.jsx("input",{type:"text",placeholder:"Image URL",value:E.image,onChange:F=>b({...E,image:F.target.value}),style:{flex:1}})]}),l.jsx("div",{style:{marginTop:"10px"},children:l.jsxs("label",{style:{marginRight:"20px"},children:[l.jsx("input",{type:"checkbox",checked:E.isPOM,onChange:F=>b({...E,isPOM:F.target.checked})})," Prescription Only (POM)"]})}),l.jsx("button",{type:"submit",style:{marginTop:"15px",background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:I?"Update Medicine":"Add Medicine"}),I&&l.jsx("button",{type:"button",style:{marginLeft:"10px"},onClick:()=>{T(null),b({name:"",ingredient:"",class:"",price:"",image:"",isPOM:!1,registeredOnly:!1})},children:"Cancel"})]}),l.jsxs("div",{children:[l.jsx("h4",{children:"Bulk Add Medicines via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:C,style:{marginBottom:"10px"}}),v.length>0&&l.jsxs("div",{children:[l.jsx("h5",{children:"CSV Preview"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[l.jsx("thead",{children:l.jsx("tr",{children:fg.map(F=>l.jsx("th",{children:F},F))})}),l.jsx("tbody",{children:v.map((F,H)=>l.jsx("tr",{children:fg.map(B=>l.jsx("td",{children:F[B]},B))},H))})]}),l.jsx("button",{onClick:j,style:{background:"#7c3aed",color:"#fff",padding:"8px 16px",borderRadius:"6px"},children:"Upload Medicines"})]})]})]}),n==="manage"&&l.jsxs("div",{style:{background:"#f4f4fa",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Products"}),l.jsx("h4",{children:"Uploaded CSV Batches"}),R.length===0?l.jsx("p",{children:"No CSV batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:R.map(F=>{var H;return l.jsxs("tr",{children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:new Date(F.date).toLocaleString()}),l.jsx("td",{children:((H=F.medicineIds)==null?void 0:H.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>W(F),style:{background:"#e53935",color:"#fff",padding:"6px 12px",borderRadius:"6px"},children:"Delete Batch"})})]},F.id)})})]}),l.jsx("h4",{style:{marginTop:"32px"},children:"Your Medicines"}),l.jsx("input",{type:"text",placeholder:"Search by name, ingredient, or class...",style:{width:"100%",marginBottom:16,padding:8,borderRadius:6,border:"1px solid #ccc"},value:t,onChange:F=>e(F.target.value)}),N.length===0?l.jsx("p",{children:"No medicines found."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price (₦)"}),l.jsx("th",{children:"POM"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:F.name}),l.jsx("td",{children:F.ingredient}),l.jsx("td",{children:F.class}),l.jsx("td",{children:F.price}),l.jsx("td",{children:F.isPOM?l.jsx("span",{style:{background:"#e53935",color:"#fff",padding:"2px 8px",borderRadius:"6px",fontSize:"12px"},children:"POM"}):null}),l.jsx("td",{children:F.image&&l.jsx("img",{src:F.image,alt:F.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>A(F),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>P(F),children:"Delete"})]})]},F.id))})]})]}),n==="pharmacist"&&l.jsxs("div",{style:{background:"#f8f8ff",padding:"24px",borderRadius:"12px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Pharmacist Management"}),(f==null?void 0:f.role)==="medicine-manager"&&l.jsx(I7,{userId:u.uid})]})]})]}):l.jsx("p",{children:"Loading user data..."}):l.jsx("p",{children:"Please log in to access this page."})}function I7({userId:t}){const[e,n]=pe.useState(null),[r,i]=pe.useState({photo:"",name:"",profession:"Pharmacist",license:"",pharmacyName:"",languages:"",whatsapp:""}),[s,o]=pe.useState(!1),[a,u]=pe.useState(!1);pe.useEffect(()=>{const h=be(ee,"users",t);on(h).then(m=>{const S=m.data();S&&S.pharmacist&&(n(S.pharmacist),i({...S.pharmacist}),o(!0))})},[t]);const c=h=>{i({...r,[h.target.name]:h.target.value})},f=async h=>{h.preventDefault(),u(!0),await tn(be(ee,"users",t),{pharmacist:{...r}}),n({...r}),o(!0),u(!1),alert("Pharmacist info saved!")};return l.jsxs("div",{style:{marginTop:40,background:"#f7f7f7",padding:24,borderRadius:10},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Manage Pharmacist"}),l.jsxs("form",{onSubmit:f,style:{marginBottom:16},children:[l.jsx("input",{name:"photo",value:r.photo,onChange:c,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:r.name,onChange:c,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:r.profession,onChange:c,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:r.license,onChange:c,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:r.pharmacyName,onChange:c,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:r.languages,onChange:c,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:r.whatsapp,onChange:c,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:a,style:{marginTop:10},children:s?"Update Pharmacist":"Add Pharmacist"})]}),e&&l.jsxs("div",{style:{marginTop:16,background:"#fff",padding:16,borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsx("img",{src:e.photo,alt:e.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:e.name})}),l.jsx("div",{children:e.profession}),l.jsxs("div",{children:["Pharmacy: ",e.pharmacyName]}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",e.languages]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${e.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})})]})]})}const k7=(t,e)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),R7=t=>V({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),P7=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var u;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(u=a.palette)==null?void 0:u.mode}});let i=V({html:k7(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:V({margin:0},R7(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function A7(t){const e=mt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return l.jsxs(w.Fragment,{children:[l.jsx(QR,{styles:i=>P7(i,r)}),n]})}function j7(t){return pt("MuiDivider",t)}const kS=ut("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),O7=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],N7=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:u}=t;return bt({root:["root",e&&"absolute",u,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},j7,r)},L7=je("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Cr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>V({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),M7=je("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>V({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),zP=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:u=!1,light:c=!1,orientation:f="horizontal",role:h=a!=="hr"?"separator":void 0,textAlign:m="center",variant:S="fullWidth"}=r,E=Ce(r,O7),b=V({},r,{absolute:i,component:a,flexItem:u,light:c,orientation:f,role:h,textAlign:m,variant:S}),I=N7(b);return l.jsx(L7,V({as:a,className:Ne(I.root,o),role:h,ref:n,ownerState:b},E,{children:s?l.jsx(M7,{className:I.wrapper,ownerState:b,children:s}):null}))});zP.muiSkipListHighlight=!0;const RS=w.createContext();function D7(t){return pt("MuiGrid",t)}const $7=[0,1,2,3,4,5,6,7,8,9,10],F7=["column-reverse","column","row-reverse","row"],V7=["nowrap","wrap-reverse","wrap"],zl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ju=ut("MuiGrid",["root","container","item","zeroMinWidth",...$7.map(t=>`spacing-xs-${t}`),...F7.map(t=>`direction-xs-${t}`),...V7.map(t=>`wrap-xs-${t}`),...zl.map(t=>`grid-xs-${t}`),...zl.map(t=>`grid-sm-${t}`),...zl.map(t=>`grid-md-${t}`),...zl.map(t=>`grid-lg-${t}`),...zl.map(t=>`grid-xl-${t}`)]),z7=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ja(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function B7({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Sp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const u=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const f=t.spacing(e.columnSpacing);if(f!=="0px"){const h=`calc(${u} + ${ja(f)})`;c={flexBasis:h,maxWidth:h}}}s=V({flexBasis:u,flexGrow:0,maxWidth:u},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function U7({theme:t,ownerState:e}){const n=Sp({values:e.direction,breakpoints:t.breakpoints.values});return Or({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Ju.item}`]={maxWidth:"none"}),i})}function BP({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function W7({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Sp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=BP({breakpoints:t.breakpoints.values,values:s})),i=Or({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{marginTop:`-${ja(f)}`,[`& > .${Ju.item}`]:{paddingTop:ja(f)}}:(c=o)!=null&&c.includes(u)?{}:{marginTop:0,[`& > .${Ju.item}`]:{paddingTop:0}}})}return i}function H7({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Sp({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=BP({breakpoints:t.breakpoints.values,values:s})),i=Or({theme:t},s,(a,u)=>{var c;const f=t.spacing(a);return f!=="0px"?{width:`calc(100% + ${ja(f)})`,marginLeft:`-${ja(f)}`,[`& > .${Ju.item}`]:{paddingLeft:ja(f)}}:(c=o)!=null&&c.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${Ju.item}`]:{paddingLeft:0}}})}return i}function q7(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const K7=je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:u,breakpoints:c}=n;let f=[];r&&(f=q7(o,c,e));const h=[];return c.forEach(m=>{const S=n[m];S&&h.push(e[`grid-${m}-${String(S)}`])}),[e.root,r&&e.container,s&&e.item,u&&e.zeroMinWidth,...f,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>V({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),U7,W7,H7,B7);function G7(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Q7=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:u}=t;let c=[];n&&(c=G7(s,u));const f=[];u.forEach(m=>{const S=t[m];S&&f.push(`grid-${m}-${String(S)}`)});const h={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...f]};return bt(h,D7,e)},Zt=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiGrid"}),{breakpoints:i}=Ax(),s=Pp(r),{className:o,columns:a,columnSpacing:u,component:c="div",container:f=!1,direction:h="row",item:m=!1,rowSpacing:S,spacing:E=0,wrap:b="wrap",zeroMinWidth:I=!1}=s,T=Ce(s,z7),v=S||E,_=u||E,R=w.useContext(RS),L=f?a||12:R,N={},g=V({},T);i.keys.forEach(C=>{T[C]!=null&&(N[C]=T[C],delete g[C])});const p=V({},s,{columns:L,container:f,direction:h,item:m,rowSpacing:v,columnSpacing:_,wrap:b,zeroMinWidth:I,spacing:E},N,{breakpoints:i.keys}),y=Q7(p);return l.jsx(RS.Provider,{value:L,children:l.jsx(K7,V({ownerState:p,className:Ne(y.root,o),as:c,ref:n},g))})}),PS=ut("MuiListItemIcon",["root","alignItemsFlexStart"]),AS=ut("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Y7(t){return pt("MuiMenuItem",t)}const Bl=ut("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),X7=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],J7=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Z7=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,u=bt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Y7,o);return V({},o,u)},eH=je(KR,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:J7})(({theme:t,ownerState:e})=>V({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Cr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Bl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${kS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${kS.inset}`]:{marginLeft:52},[`& .${AS.root}`]:{marginTop:0,marginBottom:0},[`& .${AS.inset}`]:{paddingLeft:36},[`& .${PS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&V({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${PS.root} svg`]:{fontSize:"1.25rem"}}))),jS=w.forwardRef(function(e,n){const r=mt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:u=!1,focusVisibleClassName:c,role:f="menuitem",tabIndex:h,className:m}=r,S=Ce(r,X7),E=w.useContext(ev),b=w.useMemo(()=>({dense:o||E.dense||!1,disableGutters:u}),[E.dense,o,u]),I=w.useRef(null);Yi(()=>{i&&I.current&&I.current.focus()},[i]);const T=V({},r,{dense:b.dense,divider:a,disableGutters:u}),v=Z7(r),_=Bn(I,n);let R;return r.disabled||(R=h!==void 0?h:-1),l.jsx(ev.Provider,{value:b,children:l.jsx(eH,V({ref:_,role:f,tabIndex:R,component:s,focusVisibleClassName:Ne(v.focusVisible,c),className:Ne(v.root,m)},S,{ownerState:T,classes:v}))})});var Zu=function(){return Zu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zu.apply(this,arguments)};function Ux(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Td=[];function tH(){var t="https://js.paystack.co/v1/inline.js",e=w.useState({loaded:!1,error:!1}),n=e[0],r=e[1];return w.useEffect(function(){if(Td.includes(t))r({loaded:!0,error:!1});else{Td.push(t);var i=document.createElement("script");i.src=t,i.async=!0;var s=function(){r({loaded:!0,error:!1})},o=function(){var a=Td.indexOf(t);a>=0&&Td.splice(a,1),i.remove(),r({loaded:!0,error:!0})};return i.addEventListener("load",s),i.addEventListener("complete",s),i.addEventListener("error",o),document.body.appendChild(i),function(){i.removeEventListener("load",s),i.removeEventListener("error",o)}}},[t]),[n.loaded,n.error]}var nH=function(t){var e=window.PaystackPop&&window.PaystackPop.setup(t);e&&e.openIframe()};function UP(t){var e=tH(),n=e[0],r=e[1];function i(s){var o=s.config,a=s.onSuccess,u=s.onClose;if(r)throw new Error("Unable to load paystack inline script");var c=Zu(Zu({},t),o),f=c.publicKey,h=c.firstname,m=c.lastname,S=c.phone,E=c.email,b=c.amount,I=c.reference,T=c.metadata,v=T===void 0?{}:T,_=c.currency,R=_===void 0?"NGN":_,L=c.channels,N=c.label,g=N===void 0?"":N,p=c.plan,y=p===void 0?"":p,C=c.quantity,j=C===void 0?"":C,A=c.subaccount,P=A===void 0?"":A,W=c.transaction_charge,F=W===void 0?0:W,H=c.bearer,B=H===void 0?"account":H,D=c.split,z=c.split_code;if(n){var q={callback:a||function(){return null},onClose:u||function(){return null},key:f,ref:I,email:E,firstname:h,lastname:m,phone:S,amount:b,currency:R,plan:y,quantity:j,channels:L,subaccount:P,transaction_charge:F,bearer:B,label:g,metadata:v,split:D,split_code:z,"data-custom-button":c["data-custom-button"]||""};nH(q)}}return w.useEffect(function(){if(r)throw new Error("Unable to load paystack inline script")},[r]),i}var rH=function(t){var e=t.text,n=t.className,r=t.children,i=t.onSuccess,s=t.onClose,o=Ux(t,["text","className","children","onSuccess","onClose"]),a=UP(o);return pe.createElement("button",{className:n,onClick:function(){return a({config:o,onSuccess:i,onClose:s})}},e||r)},WP=w.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),iH=function(t){var e=t.children,n=t.onSuccess,r=t.onClose,i=Ux(t,["children","onSuccess","onClose"]),s=UP(i);return pe.createElement(WP.Provider,{value:{config:i,initializePayment:s,onSuccess:n,onClose:r}},e)},sH=function(t){var e=t.children,n=t.ref,r=w.useContext(WP),i=r.config,s=r.initializePayment,o=r.onSuccess,a=r.onClose,u=function(){return s({config:i,onSuccess:o,onClose:a})};return e({initializePayment:u,ref:n})};w.forwardRef(function(t,e){var n=t.children,r=t.onSuccess,i=t.onClose,s=Ux(t,["children","onSuccess","onClose"]),o=r||function(){return null},a=i||function(){return null};return pe.createElement(iH,Zu({},s,{onSuccess:o,onClose:a}),pe.createElement(sH,{ref:e},n))});async function oH(t){if(!t)return null;const e=yi(Ae(ee,"coupons"),Qr("code","==",t)),n=await an(e);return n.empty?null:n.docs[0].data()}function aH(){var B,D;const[t,e]=w.useState(""),[n,r]=w.useState(null),[i,s]=w.useState(""),o=Fn(),a=$s(),u=Ao(),[c,f]=w.useState(null),[h,m]=w.useState(((B=u.state)==null?void 0:B.cart)||[]),[S,E]=w.useState(((D=u.state)==null?void 0:D.total)||0),[b,I]=w.useState("standard"),[T,v]=w.useState(500),[_,R]=w.useState(1e3),[L,N]=w.useState(S+T),[g,p]=w.useState({name:"",phone:"",address:"",city:"",state:"",instructions:""}),y="pk_live_2d4df84806ccc14243f39a9df0bb0a38373ffcc8";w.useEffect(()=>jr(o,async q=>{if(!q)return a("/auth");if(f(q),h.length===0){const Q=be(ee,"carts",q.uid),Y=await on(Q);if(Y.exists()){const J=Y.data().items||[];m(J);const ie=J.reduce((me,ve)=>me+ve.price*(ve.quantity||1),0);E(ie),N(ie+T)}}}),[o,h.length,T,a]),w.useEffect(()=>{let z=h.some(J=>J.isPOM)?500:0,q=T,Q=S,Y=0;n&&(n.removePOM&&(z=0),n.removeDelivery&&(q=0),n.percent>0&&(Y=Math.round((Q+z+q)*(n.percent/100)))),R(z),N(Q+z+q-Y)},[S,T,h,n]),w.useEffect(()=>{v(b==="standard"?500:3e3)},[b]);const C=async()=>{s("");const z=await oH(t.trim().toUpperCase());z?(r(z),s("")):(r(null),s("Invalid coupon code"))},j=()=>["name","phone","address","city","state"].every(q=>{var Q;return(Q=g[q])==null?void 0:Q.trim()}),A={reference:new Date().getTime().toString(),email:c==null?void 0:c.email,amount:L*100,publicKey:y},P=async z=>{if(!c||h.length===0)return;const q=be(Ae(ee,"orders"));await ir(q,{userId:c.uid,items:h,subtotal:S,deliveryFee:T,pomFee:_,total:L,status:"Processing",date:new Date().toISOString(),paymentReference:(z==null?void 0:z.reference)||"COUPON_FREE",deliveryInfo:g,coupon:n||null,deliveryType:b}),await ir(be(ee,"carts",c.uid),{items:[]}),m([]),E(0),N(0),xe.success("✅ Payment successful! Order created."),h.some(Q=>Q.isPOM)?a("/medinterface"):a("/orders")},W=()=>{xe.info("Payment cancelled.")},F=z=>{p({...g,[z.target.name]:z.target.value})},H=()=>{alert("⚠️ Please complete all delivery information before proceeding.")};return c?l.jsx(Sn,{sx:{p:3,maxWidth:600,mx:"auto"},children:l.jsx(Jd,{children:l.jsxs(Zd,{children:[l.jsx(yt,{variant:"h5",fontWeight:700,gutterBottom:!0,children:"💳 Checkout"}),h.length===0?l.jsx(yt,{children:"No items in cart."}):l.jsxs(l.Fragment,{children:[l.jsx(yt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"🛒 Order Summary"}),l.jsx(Sn,{sx:{mb:2},children:h.map((z,q)=>l.jsxs(Sn,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[l.jsxs(yt,{children:[z.name," ",l.jsxs("span",{style:{color:"#888",fontSize:13},children:["x",z.quantity||1]})]}),l.jsxs(yt,{fontWeight:500,children:["₦",z.price*(z.quantity||1)]})]},q))}),l.jsxs(Zt,{container:!0,spacing:1,sx:{mb:1},children:[l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{children:"Subtotal:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsxs(yt,{fontWeight:500,children:["₦",S]})}),l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{children:"Delivery Type:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsx(YR,{fullWidth:!0,size:"small",children:l.jsxs(Vx,{value:b,onChange:z=>I(z.target.value),sx:{bgcolor:"#fff",borderRadius:2},children:[l.jsx(jS,{value:"standard",children:"Standard (1-2 days) - ₦500"}),l.jsx(jS,{value:"express",children:"Express (30mins-3hrs) - ₦3000"})]})})}),l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{children:"Delivery Fee:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsxs(yt,{fontWeight:500,children:["₦",n!=null&&n.removeDelivery?0:T]})}),l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{color:_>0?"error":"inherit",children:"POM Fee:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsxs(yt,{fontWeight:500,color:_>0?"error":"inherit",children:["₦",n!=null&&n.removePOM?0:_]})}),(n==null?void 0:n.percent)>0&&l.jsxs(l.Fragment,{children:[l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{color:"primary",children:"Discount:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsxs(yt,{color:"primary",children:["-₦",Math.round((S+_+(n!=null&&n.removeDelivery?0:T))*(n.percent/100))]})})]}),l.jsx(Zt,{item:!0,xs:7,children:l.jsx(yt,{fontWeight:700,children:"Grand Total:"})}),l.jsx(Zt,{item:!0,xs:5,children:l.jsxs(yt,{fontWeight:700,children:["₦",L]})})]}),l.jsxs(Sn,{sx:{display:"flex",alignItems:"center",mb:2},children:[l.jsx(ss,{size:"small",label:"Coupon code",value:t,onChange:z=>e(z.target.value),sx:{mr:1,flex:1}}),l.jsx(lo,{variant:"outlined",onClick:C,children:"Apply"})]}),i&&l.jsx(Alert,{severity:"error",sx:{mb:1},children:i}),n&&l.jsxs(Alert,{severity:"success",sx:{mb:1},children:["Applied: ",n.code," (",n.percent,"% off",n.removePOM?", no POM fee":"",n.removeDelivery?", no delivery fee":"",")"]}),l.jsx(zP,{sx:{my:3}}),l.jsx(yt,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"📍 Delivery Information"}),l.jsxs(Zt,{container:!0,spacing:2,sx:{mb:2},children:[l.jsx(Zt,{item:!0,xs:12,sm:6,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"Full Name",name:"name",value:g.name,onChange:F})}),l.jsx(Zt,{item:!0,xs:12,sm:6,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"Phone Number",name:"phone",value:g.phone,onChange:F})}),l.jsx(Zt,{item:!0,xs:12,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"Street Address",name:"address",value:g.address,onChange:F})}),l.jsx(Zt,{item:!0,xs:12,sm:6,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"City",name:"city",value:g.city,onChange:F})}),l.jsx(Zt,{item:!0,xs:12,sm:6,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"State",name:"state",value:g.state,onChange:F})}),l.jsx(Zt,{item:!0,xs:12,children:l.jsx(ss,{fullWidth:!0,size:"small",label:"Delivery Instructions (optional)",name:"instructions",value:g.instructions,onChange:F,multiline:!0,minRows:2})})]}),l.jsx(Sn,{sx:{mt:2,textAlign:"center"},children:j()?L>0?l.jsx(rH,{text:"Pay Now 💳",className:"paystack-button",...A,callback:P,close:W,style:{marginTop:"10px",minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,background:"#007bff",color:"#fff"}}):l.jsx(lo,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8},onClick:()=>P({reference:"COUPON_FREE"}),children:"Complete Order (Free)"}):l.jsx(lo,{variant:"contained",color:"primary",sx:{mt:1,minWidth:180,fontWeight:600,fontSize:18,borderRadius:8,opacity:.6},onClick:H,disabled:!0,children:"Pay Now 💳"})})]})]})})}):l.jsx("p",{children:"Loading..."})}function lH(){const[t,e]=w.useState([]),[n,r]=w.useState({code:"",percent:0,removePOM:!1,removeDelivery:!1}),[i,s]=w.useState(null);w.useEffect(()=>{const c=Ct(Ae(ee,"coupons"),f=>{e(f.docs.map(h=>({id:h.id,...h.data()})))});return()=>c()},[]);const o=async c=>{if(c.preventDefault(),!n.code)return alert("Coupon code required");i?(await tn(be(ee,"coupons",i),n),s(null)):await wo(Ae(ee,"coupons"),n),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},a=c=>{r({code:c.code,percent:c.percent,removePOM:!!c.removePOM,removeDelivery:!!c.removeDelivery}),s(c.id)},u=async c=>{window.confirm("Delete coupon?")&&await Rr(be(ee,"coupons",c))};return l.jsxs("div",{style:{marginTop:30},children:[l.jsx("h3",{children:"🎟 Manage Coupons"}),l.jsxs("form",{onSubmit:o,style:{marginBottom:20},children:[l.jsx("input",{placeholder:"Code",value:n.code,onChange:c=>r({...n,code:c.target.value}),style:{marginRight:10}}),l.jsx("input",{type:"number",placeholder:"% Off",value:n.percent,min:0,max:100,onChange:c=>r({...n,percent:parseInt(c.target.value)}),style:{width:80,marginRight:10}}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removePOM,onChange:c=>r({...n,removePOM:c.target.checked})})," Remove POM Fee"]}),l.jsxs("label",{style:{marginRight:10},children:[l.jsx("input",{type:"checkbox",checked:n.removeDelivery,onChange:c=>r({...n,removeDelivery:c.target.checked})})," Remove Delivery Fee"]}),l.jsx("button",{type:"submit",children:i?"Update":"Create"}),i&&l.jsx("button",{type:"button",onClick:()=>{s(null),r({code:"",percent:0,removePOM:!1,removeDelivery:!1})},children:"Cancel"})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"% Off"}),l.jsx("th",{children:"POM Fee"}),l.jsx("th",{children:"Delivery Fee"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:t.map(c=>l.jsxs("tr",{children:[l.jsx("td",{children:c.code}),l.jsxs("td",{children:[c.percent,"%"]}),l.jsx("td",{children:c.removePOM?"Removed":"-"}),l.jsx("td",{children:c.removeDelivery?"Removed":"-"}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>a(c),style:{marginRight:5},children:"Edit"}),l.jsx("button",{onClick:()=>u(c.id),children:"Delete"})]})]},c.id))})]})]})}function uH(){const[t,e]=w.useState({companyName:"",phoneNumber:"",whatsappNumber:"",rcNumber:"",businessAddress:"",email:"",coverageArea:"",operatingHours:"",logoUrl:"",slug:"",approved:!1}),[n,r]=w.useState([]),[i,s]=w.useState(null),[o,a]=w.useState({}),[u,c]=w.useState(!1),[f,h]=w.useState("");w.useEffect(()=>{const v=Ct(Ae(ee,"deliveryAgents"),_=>{r(_.docs.map(R=>({id:R.id,...R.data()})))});return()=>v()},[]),w.useEffect(()=>{async function v(){const _=yi(Ae(ee,"deliveryAgents"));(await an(_)).forEach(async L=>{typeof L.data().approved>"u"&&await be(ee,"deliveryAgents",L.id).update({approved:!1})})}v()},[]);const m=v=>{a({...o,[v.target.name]:v.target.value})},S=v=>{s(v.id),a(v)},E=async v=>{await tn(be(ee,"deliveryAgents",v),o),s(null),a({})},b=async v=>{window.confirm("Delete this delivery agent?")&&await Rr(be(ee,"deliveryAgents",v))},I=async v=>{c(!0),h(""),await tn(be(ee,"deliveryAgents",v),{approved:!0}),c(!1),h("Agent approved and now visible to public.")},T=async v=>{c(!0),h(""),await tn(be(ee,"deliveryAgents",v),{approved:!1}),c(!1),h("Agent taken offline and hidden from public.")};return l.jsx(l.Fragment,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"24px",marginTop:"32px"},children:[u&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:"bold",marginBottom:16},children:"Processing..."}),f&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginBottom:16},children:f}),n.map(v=>l.jsx("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.08)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:i===v.id?l.jsxs("form",{onSubmit:_=>{_.preventDefault(),E(v.id)},style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("input",{id:"edit-companyName",type:"text",name:"companyName",placeholder:"Company Name",value:o.companyName||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-phoneNumber",type:"text",name:"phoneNumber",placeholder:"Phone Number",value:o.phoneNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-whatsappNumber",type:"text",name:"whatsappNumber",placeholder:"WhatsApp Phone Number",value:o.whatsappNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-rcNumber",type:"text",name:"rcNumber",placeholder:"RC Number",value:o.rcNumber||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-businessAddress",type:"text",name:"businessAddress",placeholder:"Business Address",value:o.businessAddress||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-email",type:"email",name:"email",placeholder:"Email Address",value:o.email||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-coverageArea",type:"text",name:"coverageArea",placeholder:"Coverage Area",value:o.coverageArea||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-operatingHours",type:"text",name:"operatingHours",placeholder:"Operating Hours (e.g. 8am-6pm)",value:o.operatingHours||"",onChange:m,required:!0}),l.jsx("input",{id:"edit-logoUrl",type:"url",name:"logoUrl",placeholder:"Business Logo URL (https://...)",value:o.logoUrl||"",onChange:m,required:!0}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("button",{type:"submit",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Save"}),l.jsx("button",{type:"button",onClick:()=>s(null),style:{background:"#eee",color:"#333",border:"none",borderRadius:"6px",padding:"6px 14px"},children:"Cancel"})]})]}):l.jsxs(pe.Fragment,{children:[l.jsx("img",{src:v.logoUrl,alt:v.companyName,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:4},children:v.companyName}),l.jsx("div",{style:{color:"#7c3aed",fontWeight:500,marginBottom:4},children:v.businessAddress}),l.jsxs("div",{children:["RC Number: ",v.rcNumber]}),l.jsxs("div",{children:["Phone: ",v.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",v.whatsappNumber]}),l.jsxs("div",{children:["Email: ",v.email]}),l.jsxs("div",{children:["Coverage: ",v.coverageArea]}),l.jsxs("div",{children:["Hours: ",v.operatingHours]}),l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[l.jsx("button",{onClick:()=>S(v),style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Edit"}),l.jsx("button",{onClick:()=>b(v.id),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",fontWeight:"bold"},children:"Delete"}),!v.approved&&l.jsx("button",{onClick:()=>I(v.id),style:{background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Approve"}),v.approved&&l.jsx("button",{onClick:()=>T(v.id),style:{background:"#f59e42",color:"#fff",border:"none",borderRadius:"6px",padding:"6px 14px",cursor:"pointer"},children:"Take Offline"})]}),v.approved&&l.jsx("div",{style:{color:"#059669",fontWeight:"bold",marginTop:"8px"},children:"✅ Approved"})]})},v.id))]})})}function cH(){const[t,e]=w.useState([]);w.useEffect(()=>{(async()=>{try{const oe=await an(Ae(ee,"deliveryAgents"));e(oe.docs.map(de=>({id:de.id,...de.data()})))}catch{e([])}})()},[]);const[n,r]=w.useState({}),i=async(O,oe)=>{try{const de=t.find(ot=>ot.id===oe),Ve=(de==null?void 0:de.userId)||"";await tn(be(ee,"orders",O),{riderId:Ve,assignedAgentId:Ve,assignedAgentName:de?de.companyName||de.name||de.email||de.id:"",status:"In-Progress",assignedAt:new Date().toISOString()}),r(ot=>({...ot,[O]:!1})),xe.success("Order reassigned successfully.")}catch{xe.error("Failed to reassign order.")}},s=async O=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await tn(be(ee,"orders",O.id),{status:"cancelled",cancelledBy:"admin",cancelledAt:new Date().toISOString()}),xe.success("Order cancelled.")}catch{xe.error("Failed to cancel order.")}},[o,a]=w.useState({pending:!0,completed:!0,cancelled:!0}),[u,c]=w.useState(""),[f,h]=w.useState(""),[m,S]=w.useState(""),[E,b]=w.useState(""),[I,T]=w.useState({}),[v,_]=w.useState({}),L=window.location.pathname.match(/^\/store\/([^\/]+)/),[N,g]=pe.useState(null);if(w.useEffect(()=>{Aa(async()=>{const{getAuth:O,onAuthStateChanged:oe}=await Promise.resolve().then(()=>Wk);return{getAuth:O,onAuthStateChanged:oe}},void 0).then(({getAuth:O,onAuthStateChanged:oe})=>{const de=O();oe(de,async Ve=>{if(Ve){const{getDoc:ot,doc:rt}=await Aa(async()=>{const{getDoc:et,doc:xr}=await Promise.resolve().then(()=>Y0);return{getDoc:et,doc:xr}},void 0),{db:It}=await Aa(async()=>{const{db:et}=await Promise.resolve().then(()=>m4);return{db:et}},void 0),Re=await ot(rt(It,"users",Ve.uid));g(Re.exists()?Re.data().role:null)}else g(null)})})},[]),L||N==="customer")return l.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#7c3aed"},children:[l.jsx("h2",{children:"Access Denied"}),l.jsx("p",{children:"This page is only for business/admin users. Please use the store features."})]});const[p,y]=w.useState([]);w.useEffect(()=>{const O=Ct(Ae(ee,"businessRegistrations"),oe=>{y(oe.docs.map(de=>({id:de.id,...de.data()})))});return()=>O()},[]);const C=async(O,oe)=>{if(await tn(be(ee,"businessRegistrations",O.id),{status:oe}),oe==="declined"){const de=yi(Ae(ee,"orders"),Qr("userId","==",O.businessId),Qr("items","array-contains-any",O.cart)),Ve=await an(de);for(const ot of Ve.docs)await tn(be(ee,"orders",ot.id),{status:"Canceled",canceledReason:"Distributor declined registration"})}xe.info(`Registration ${oe}`)},[j,A]=w.useState(""),[P,W]=w.useState(""),[F,H]=w.useState(""),[B,D]=w.useState(""),[z,q]=w.useState(""),Q=()=>{let O=Vo;j&&(O=O.filter(Re=>new Date(Re.completedAt||Re.date)>=new Date(j))),P&&(O=O.filter(Re=>new Date(Re.completedAt||Re.date)<=new Date(P))),F&&(O=O.filter(Re=>Re.medicVerifiedBy===F)),B&&(O=O.filter(Re=>Re.items&&Re.items.some(et=>et.name&&et.name.toLowerCase().includes(B.toLowerCase())))),z==="true"&&(O=O.filter(Re=>Re.items&&Re.items.some(et=>et.isPOM))),z==="false"&&(O=O.filter(Re=>Re.items&&!Re.items.some(et=>et.isPOM)));const oe=["Order ID","Date","User Email","Medic Verified By","Amount","Products","POM Items"],de=O.map(Re=>[Re.id,new Date(Re.completedAt||Re.date).toLocaleString(),He[Re.userId]&&He[Re.userId].email?He[Re.userId].email:Re.userId,Re.medicVerifiedBy?(Ie.concat(Oe).find(et=>et.id===Re.medicVerifiedBy)||{}).name||Re.medicVerifiedBy:"",Re.total||Jr(Re.items||[]),Re.items?Re.items.map(et=>`${et.name} (${et.quantity||1})`).join("; "):"",Re.items?Re.items.filter(et=>et.isPOM).map(et=>et.name).join("; "):""]),Ve=[oe,...de].map(Re=>Re.map(et=>`"${String(et).replace(/"/g,'""')}"`).join(",")).join(`\r
`),ot=new Blob([Ve],{type:"text/csv"}),rt=URL.createObjectURL(ot),It=document.createElement("a");It.href=rt,It.download=`orders_${Date.now()}.csv`,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(rt)},[Y,J]=w.useState(""),[ie,me]=w.useState(null),[ve,$]=w.useState(null),[G,U]=w.useState([]),[ne,Z]=w.useState([]),[te,ce]=w.useState(""),[fe,he]=w.useState([]),[_e,Xe]=w.useState([]),[Ee,De]=w.useState("products"),[$e,qe]=w.useState({}),[ft,ht]=w.useState(null),[Le,gt]=w.useState(!0),[Ie,Be]=w.useState([]),[Oe,Te]=w.useState([]),[Et,qt]=w.useState(""),[Je,we]=w.useState("date-desc"),nt=Fn();w.useEffect(()=>{const O=jr(nt,async oe=>{if(oe){me(oe);const de=await on(be(ee,"users",oe.uid));$(de.exists()?de.data():{role:"customer"})}else me(null),$(null)});return()=>O()},[nt]),w.useEffect(()=>{const O=Ct(Ae(ee,"products"),de=>U(de.docs.map(Ve=>({id:Ve.id,...Ve.data()})))),oe=Ct(Ae(ee,"batches"),de=>{Z(de.docs.map(Ve=>({id:Ve.id,...Ve.data()}))),gt(!1)});return()=>{O(),oe()}},[]),w.useEffect(()=>{if(!ve)return;const O=Ct(Ae(ee,"users"),oe=>he(oe.docs.map(de=>({id:de.id,...de.data()}))));return()=>O()},[ve]),w.useEffect(()=>{const O=Ct(Ae(ee,"orders"),oe=>{const de=oe.docs.map(Ve=>({id:Ve.id,...Ve.data()}));de.sort((Ve,ot)=>new Date(ot.date)-new Date(Ve.date)),Xe(de)});return()=>O()},[]);const He={};fe.forEach(O=>He[O.id]=O);const Xr=async O=>{if(window.confirm(`Delete medicine: ${O.name}?`))try{await Rr(be(ee,"products",O.id)),xe.success("Medicine deleted.")}catch(oe){console.error(oe),xe.error("Error deleting medicine")}},Do=async O=>{if(window.confirm(`Delete batch: ${O.name}?`))try{for(let oe of O.medicineIds)await Rr(be(ee,"products",oe));await Rr(be(ee,"batches",O.id))}catch(oe){console.error(oe),alert("Error deleting batch")}},yl=async(O,oe)=>{try{await tn(be(ee,"users",O),{role:oe}),alert("Role updated!")}catch(de){console.error(de),alert("Error updating role")}},$o=O=>qe(oe=>({...oe,[O]:!oe[O]}));w.useEffect(()=>{an(Ae(ee,"verifyMedics")).then(O=>{Be(O.docs.map(oe=>({id:oe.id,...oe.data(),type:"Prescription Verification"})))}),an(Ae(ee,"consultMedics")).then(O=>{Te(O.docs.map(oe=>({id:oe.id,...oe.data(),type:"Consultation"})))})},[]);const Lc=async O=>{var Ve;const oe=(Ve=O.items)==null?void 0:Ve.some(ot=>ot.isPOM);let de=null;if(oe){if(!Y)return alert("Select a verifying medic before completing POM order.");de=Y}window.confirm("Mark order as completed?")&&(await tn(be(ee,"orders",O.id),{status:"Completed",completedBy:ie.uid,completedAt:new Date().toISOString(),medicVerifiedBy:de||null}),alert("✅ Order marked completed"),J(""))},Jr=O=>O.reduce((oe,de)=>oe+de.price*(de.quantity||1),0);if(!ie)return l.jsx("p",{children:"Please log in to access admin."});if(!ve)return l.jsx("p",{children:"Loading user data..."});if(ve.role!=="admin")return l.jsx("p",{children:"Access denied. Admins only."});if(Le)return l.jsx("p",{children:"Loading dashboard..."});const Fo=_e.filter(O=>O.status==="Processing"||O.status==="In-Progress").filter(O=>{var de,Ve;if(!Et)return!0;const oe=Et.toLowerCase();return(((de=He[O.userId])==null?void 0:de.email)||O.userId).toLowerCase().includes(oe)||((Ve=O.items)==null?void 0:Ve.some(ot=>ot.name.toLowerCase().includes(oe)))}).sort((O,oe)=>Je==="date-desc"?new Date(oe.date)-new Date(O.date):Je==="date-asc"?new Date(O.date)-new Date(oe.date):Je==="amount-desc"?(oe.total||0)-(O.total||0):Je==="amount-asc"?(O.total||0)-(oe.total||0):0),Vo=_e.filter(O=>O.status==="Completed"),Zr=Vo.filter(O=>{var de,Ve;if(!Et)return!0;const oe=Et.toLowerCase();return(((de=He[O.userId])==null?void 0:de.email)||O.userId).toLowerCase().includes(oe)||((Ve=O.items)==null?void 0:Ve.some(ot=>ot.name.toLowerCase().includes(oe)))}).sort((O,oe)=>Je==="date-desc"?new Date(oe.completedAt||oe.date)-new Date(O.completedAt||O.date):Je==="date-asc"?new Date(O.completedAt||O.date)-new Date(oe.completedAt||oe.date):Je==="amount-desc"?(oe.total||0)-(O.total||0):Je==="amount-asc"?(O.total||0)-(oe.total||0):0);return l.jsxs("div",{style:{padding:"30px",fontFamily:"sans-serif"},children:[p.length>0&&l.jsxs("div",{style:{background:"#f3f0ff",padding:24,borderRadius:10,marginBottom:30},children:[l.jsx("h3",{style:{color:"#7c3aed"},children:"Distributor Registration Requests"}),p.map((O,oe)=>{var de,Ve,ot,rt,It;return l.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e0e0"},children:[l.jsxs("h4",{style:{color:"#7c3aed"},children:["Business: ",((de=O.businessInfo)==null?void 0:de.businessName)||O.businessId]}),l.jsxs("p",{children:["Email: ",((Ve=O.businessInfo)==null?void 0:Ve.email)||""]}),l.jsxs("p",{children:["Phone: ",((ot=O.businessInfo)==null?void 0:ot.phone)||""]}),l.jsxs("p",{children:["Address: ",((rt=O.businessInfo)==null?void 0:rt.address)||""]}),l.jsxs("p",{children:["Products: ",(It=O.cart)==null?void 0:It.map(Re=>Re.name).join(", ")]}),l.jsxs("p",{children:["Status: ",l.jsx("b",{children:O.status})]}),O.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>C(O,"approved"),style:{background:"#27c93f",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold",marginRight:10},children:"Approve"}),l.jsx("button",{onClick:()=>C(O,"declined"),style:{background:"#e53935",color:"#fff",padding:"8px 18px",borderRadius:6,fontWeight:"bold"},children:"Decline"})]})]},O.id)})]}),l.jsxs("div",{style:{display:"flex",gap:"20px",margin:"20px 0",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>De("products"),style:Jo(Ee==="products"),children:"Manage Products"}),l.jsx("button",{onClick:()=>De("users"),style:Jo(Ee==="users"),children:"Manage Users"}),l.jsx("button",{onClick:()=>De("orders"),style:Jo(Ee==="orders"),children:"Manage Orders"}),l.jsx("button",{onClick:()=>De("medics"),style:Jo(Ee==="medics"),children:"Manage Medics"}),l.jsx("button",{onClick:()=>De("deliveryagents"),style:Jo(Ee==="deliveryagents"),children:"Manage DeliveryAgents"}),l.jsx("button",{onClick:()=>De("coupons"),style:Jo(Ee==="coupons"),children:"Manage Coupons"})]}),l.jsxs("div",{style:{padding:"0 30px"},children:[l.jsx("h2",{children:"🛠 Admin Dashboard"}),l.jsxs("p",{children:["Logged in as: ",ie.email]}),Ee==="deliveryagents"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"🚚 Manage Delivery Agents"}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{children:"Here you can add, view, and manage delivery agents for your platform."}),l.jsx(uH,{})]})]})]}),Ee==="products"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"📂 CSV Batches"}),l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:te,onChange:O=>ce(O.target.value),style:{marginBottom:12,padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:260}}),ne.length===0?l.jsx("p",{children:"No batches yet."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:ne.filter(O=>{var de;return te?(((de=He[O.uploadedBy])==null?void 0:de.businessName)||"").toLowerCase().includes(te.toLowerCase()):!0}).map(O=>{var oe,de;return l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:new Date(O.date).toLocaleString()}),l.jsx("td",{children:((oe=He[O.uploadedBy])==null?void 0:oe.businessName)||O.uploadedBy}),l.jsx("td",{children:((de=O.medicineIds)==null?void 0:de.length)||0}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Do(O),children:"Delete"})})]},O.id)})})]}),l.jsx("h3",{style:{marginTop:"30px"},children:"💊 Medicines"}),l.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16,flexWrap:"wrap",alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Filter by name...",value:u||"",onChange:O=>c(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsx("input",{type:"text",placeholder:"Filter by ingredient...",value:f||"",onChange:O=>h(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:160}}),l.jsxs("select",{value:m||"",onChange:O=>S(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:140},children:[l.jsx("option",{value:"",children:"All Classes"}),[...new Set(G.map(O=>O.class).filter(Boolean))].sort().map(O=>l.jsx("option",{value:O,children:O},O))]}),l.jsxs("select",{value:E||"",onChange:O=>b(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:180},children:[l.jsx("option",{value:"",children:"All Pharmacies"}),[...new Set(G.map(O=>O.ownerId).filter(Boolean))].map(O=>{var oe;return l.jsx("option",{value:O,children:((oe=He[O])==null?void 0:oe.businessName)||O},O)})]})]}),G.length===0?l.jsx("p",{children:"No medicines yet."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price (₦)"}),l.jsx("th",{children:"Uploaded By"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:G.filter(O=>{var oe,de;return!(u&&!((oe=O.name)!=null&&oe.toLowerCase().includes(u.toLowerCase()))||f&&!((de=O.ingredient)!=null&&de.toLowerCase().includes(f.toLowerCase()))||m&&O.class!==m||E&&O.ownerId!==E)}).map(O=>{var oe;return l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:O.name}),l.jsx("td",{children:O.ingredient}),l.jsx("td",{children:O.class}),l.jsx("td",{children:O.price}),l.jsx("td",{children:((oe=He[O.ownerId])==null?void 0:oe.businessName)||O.ownerId}),l.jsx("td",{children:l.jsx("button",{onClick:()=>Xr(O),children:"Delete"})})]},O.id)})})]})]}),Ee==="users"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"👥 All Users"}),fe.length===0?l.jsx("p",{children:"No users found."}):l.jsxs("table",{style:hg,children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Role"}),l.jsx("th",{children:"Change Role"}),l.jsx("th",{children:"Activity"})]})}),l.jsx("tbody",{children:fe.map(O=>l.jsxs("tr",{style:pg,children:[l.jsx("td",{children:O.email}),l.jsx("td",{children:O.role}),l.jsx("td",{children:l.jsxs("select",{value:O.role||"customer",onChange:oe=>yl(O.id,oe.target.value),children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"medicine-manager",children:"Medicine Manager"}),l.jsx("option",{value:"orders-only",children:"Orders Only"}),l.jsx("option",{value:"admin",children:"Admin"})]})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>ht(O),children:"View Details"})})]},O.id))})]}),ft&&l.jsx(dH,{user:ft,medicines:G.filter(O=>O.ownerId===ft.id),orders:_e.filter(O=>O.userId===ft.id),onClose:()=>ht(null)})]}),Ee==="orders"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,pending:!O.pending})),children:[l.jsx("span",{style:{marginRight:8},children:o.pending?"▼":"▶"}),"📦 Pending / Processing Orders"]}),o.pending&&l.jsxs("div",{style:{padding:"0 18px 18px 18px"},children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>qt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Fo.length===0?l.jsx("p",{children:"No pending orders."}):Fo.map(O=>{var ei,Un,Jt,Kt,wi;const oe=(ei=O.items)==null?void 0:ei.some(Pe=>Pe.isPOM),de=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",Ve=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,ot=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let rt="N/A",It=null,Re=null;if(O.businessId&&He[O.businessId]){const Pe=He[O.businessId];rt=`${Pe.address||""}, ${Pe.city||""}, ${Pe.state||""}`,It=Pe.lat||null,Re=Pe.lng||null}const et=$e[O.id]?I[O.id]?O.items:(Un=O.items)==null?void 0:Un.slice(0,3):[],xr=O.items&&O.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>$o(O.id),children:$e[O.id]?"Hide Items":"Show Items"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((Jt=He[O.userId])==null?void 0:Jt.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):de]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",Ve&&ot?`${Ve}, ${ot}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",rt]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",It&&Re?`${It}, ${Re}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Rider assigned:"})," ",l.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[(()=>{const Pe=O.riderId||O.assignedAgentId;let Lt=null;return Pe&&He[Pe]?(Lt=He[Pe],`${Lt.companyName||Lt.name||Lt.email||Pe}${Lt.phoneNumber||Lt.whatsappNumber?` (${[Lt.phoneNumber,Lt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`):Pe&&t.length?(Lt=t.find(zo=>zo.id===Pe),Lt?`${Lt.companyName||Lt.name||Lt.id}${Lt.phoneNumber||Lt.whatsappNumber?` (${[Lt.phoneNumber,Lt.whatsappNumber].filter(Boolean).join(" / ")})`:""}`:Pe):Pe||l.jsx("span",{style:{color:"#e53935"},children:"No rider assigned"})})(),l.jsxs("button",{style:{marginLeft:10,background:"none",border:"none",color:"#007bff",cursor:"pointer",display:"inline-flex",alignItems:"center",fontWeight:"bold"},onClick:()=>r(Pe=>({...Pe,[O.id]:!Pe[O.id]})),children:[l.jsx("span",{style:{fontSize:18,marginRight:4},children:"↻"})," reassign order"]}),n[O.id]&&l.jsxs("select",{style:{marginLeft:10,padding:"6px 12px",borderRadius:6},defaultValue:"",onChange:Pe=>{Pe.target.value&&i(O.id,Pe.target.value)},children:[l.jsx("option",{value:"",children:"Select new rider"}),t.map(Pe=>l.jsxs("option",{value:Pe.id,children:[Pe.companyName||Pe.name||Pe.email||Pe.id,Pe.phoneNumber||Pe.whatsappNumber?` (${[Pe.phoneNumber,Pe.whatsappNumber].filter(Boolean).join(" / ")})`:""]},Pe.id))]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Order Status:"})," ",!O.riderId&&!O.assignedAgentId?l.jsx("span",{style:{color:"#e53935"},children:"Processing (no rider accepted)"}):O.status==="cancelled"&&O.cancelledBy==="rider"?l.jsx("span",{style:{color:"#e53935"},children:"Canceled by rider"}):O.deliveredByRider?l.jsx("span",{style:{color:"#27c93f"},children:"Delivered by rider"}):O.status==="Completed"?l.jsx("span",{style:{color:"#27c93f"},children:"Completed (admin)"}):(O.riderId||O.assignedAgentId)&&O.status!=="Completed"&&O.status!=="cancelled"?l.jsx("span",{style:{color:"#007bff"},children:"Progressing (rider accepted)"}):O.status]})]}),$e[O.id]&&((Kt=O.items)==null?void 0:Kt.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:I[O.id]?"none":120,overflowY:xr&&!I[O.id]?"hidden":"auto",marginBottom:4},children:et.map((Pe,Lt)=>l.jsxs("li",{children:[Pe.name," - ₦",Pe.price," x ",Pe.quantity||1]},Lt))}),xr&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>T(Pe=>({...Pe,[O.id]:!Pe[O.id]})),children:I[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",Jr(O.items||[]),oe&&l.jsx("span",{style:{color:"#e53935",marginLeft:10},children:"[POM]"})]}),oe&&l.jsxs("div",{style:{margin:"10px 0"},children:[l.jsx("label",{children:l.jsx("strong",{children:"Medic Verified By:"})}),l.jsxs("select",{value:Y,onChange:Pe=>J(Pe.target.value),style:{marginLeft:10},children:[l.jsx("option",{value:"",children:"Select Medic"}),[...Ie,...Oe].map(Pe=>l.jsxs("option",{value:Pe.id,children:[Pe.name," (",Pe.profession,") - ",Pe.type]},Pe.id))]})]}),l.jsx("button",{onClick:()=>Lc(O),children:"Mark as Completed"}),l.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",borderRadius:6,padding:"6px 14px",border:"none",fontWeight:"bold"},onClick:()=>s(O),children:"Cancel Order"}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString(),l.jsx("br",{}),O.medicVerifiedBy&&l.jsxs("span",{children:["Verified by: ",((wi=Ie.find(Pe=>Pe.id===O.medicVerifiedBy))==null?void 0:wi.name)||O.medicVerifiedBy]})]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,completed:!O.completed})),children:[l.jsx("span",{style:{marginRight:8},children:o.completed?"▼":"▶"}),"✅ Completed Orders (You)"]}),o.completed&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>qt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),Zr.length===0?l.jsx("p",{children:"No completed orders found."}):Zr.map(O=>{var xr,ei,Un,Jt;const oe=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",de=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Ve=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ot="N/A",rt=null,It=null;if(O.businessId&&He[O.businessId]){const Kt=He[O.businessId];ot=`${Kt.address||""}, ${Kt.city||""}, ${Kt.state||""}`,rt=Kt.lat||null,It=Kt.lng||null}const Re=$e[O.id]?v[O.id]?O.items:(xr=O.items)==null?void 0:xr.slice(0,3):[],et=O.items&&O.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.completedAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>$o(O.id),children:$e[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((ei=He[O.userId])==null?void 0:ei.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):oe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ot]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",rt&&It?`${rt}, ${It}`:"N/A"]}),$e[O.id]&&((Un=O.items)==null?void 0:Un.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:et&&!v[O.id]?"hidden":"auto",marginBottom:4},children:Re.map((Kt,wi)=>l.jsxs("li",{children:[Kt.name," - ₦",Kt.price," x ",Kt.quantity||1]},wi))}),et&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(Kt=>({...Kt,[O.id]:!Kt[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",O.total||Jr(O.items||[])]}),O.medicVerifiedBy&&l.jsxs("p",{children:[l.jsx("strong",{children:"Verified by:"})," ",((Jt=Ie.concat(Oe).find(Kt=>Kt.id===O.medicVerifiedBy))==null?void 0:Jt.name)||O.medicVerifiedBy]}),O.completedAt&&l.jsxs("p",{style:{fontSize:13,color:"#555",marginTop:6},children:["Completed: ",new Date(O.completedAt).toLocaleString()]})]},O.id)})]})]}),l.jsxs("div",{style:{marginBottom:"18px",border:"1px solid #ddd",borderRadius:8,background:"#fafbfc"},children:[l.jsxs("div",{style:{cursor:"pointer",padding:"14px 18px",fontWeight:"bold",fontSize:18,display:"flex",alignItems:"center",userSelect:"none"},onClick:()=>a(O=>({...O,cancelled:!O.cancelled})),children:[l.jsx("span",{style:{marginRight:8},children:o.cancelled?"▼":"▶"}),"❌ Cancelled Orders"]}),o.cancelled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{margin:"20px 0",display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[l.jsx("input",{type:"text",placeholder:"Search by user or drug name...",value:Et,onChange:O=>qt(O.target.value),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",width:220}}),l.jsxs("select",{value:Je,onChange:O=>we(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"amount-desc",children:"Highest Amount"}),l.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]}),l.jsx("input",{type:"date",value:j,onChange:O=>A(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsx("span",{children:"to"}),l.jsx("input",{type:"date",value:P,onChange:O=>W(O.target.value),style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:F,onChange:O=>H(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Medics"}),[...Ie,...Oe].map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.profession,")"]},O.id))]}),l.jsx("input",{type:"text",value:B,onChange:O=>D(O.target.value),placeholder:"Product name",style:{padding:"6px 12px",borderRadius:6}}),l.jsxs("select",{value:z,onChange:O=>q(O.target.value),style:{padding:"6px 12px",borderRadius:6},children:[l.jsx("option",{value:"",children:"All Orders"}),l.jsx("option",{value:"true",children:"POM Only"}),l.jsx("option",{value:"false",children:"Non-POM Only"})]}),l.jsx("button",{onClick:Q,style:{padding:"8px 18px",borderRadius:6,background:"#007bff",color:"#fff",fontWeight:"bold"},children:"Download CSV"})]}),_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").length===0?l.jsx("p",{children:"No cancelled orders found."}):_e.filter(O=>O.status==="cancelled"&&O.cancelledBy==="admin").map(O=>{var xr,ei,Un;const oe=O.deliveryInfo?`${O.deliveryInfo.address||""}, ${O.deliveryInfo.city||""}, ${O.deliveryInfo.state||""}`:"N/A",de=O.deliveryInfo&&O.deliveryInfo.lat?O.deliveryInfo.lat:null,Ve=O.deliveryInfo&&O.deliveryInfo.lng?O.deliveryInfo.lng:null;let ot="N/A",rt=null,It=null;if(O.businessId&&He[O.businessId]){const Jt=He[O.businessId];ot=`${Jt.address||""}, ${Jt.city||""}, ${Jt.state||""}`,rt=Jt.lat||null,It=Jt.lng||null}const Re=$e[O.id]?v[O.id]?O.items:(xr=O.items)==null?void 0:xr.slice(0,3):[],et=O.items&&O.items.length>3;return l.jsxs("div",{style:mg,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Delivery Type:"})," ",O.deliveryType?O.deliveryType.charAt(0).toUpperCase()+O.deliveryType.slice(1):"N/A"]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Order Date:"})," ",new Date(O.cancelledAt||O.date).toLocaleString()]}),l.jsx("button",{onClick:()=>$o(O.id),children:$e[O.id]?"Hide Details":"Show Details"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"User Email:"})," ",((ei=He[O.userId])==null?void 0:ei.email)||O.userId]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Address:"})," ",!O.deliveryInfo||!O.deliveryInfo.address&&!O.deliveryInfo.city&&!O.deliveryInfo.state?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):oe]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Customer Coordinates:"})," ",de&&Ve?`${de}, ${Ve}`:"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Address:"})," ",ot]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business Coordinates:"})," ",rt&&It?`${rt}, ${It}`:"N/A"]}),$e[O.id]&&((Un=O.items)==null?void 0:Un.length)>0&&l.jsxs("div",{children:[l.jsx("ul",{style:{maxHeight:v[O.id]?"none":120,overflowY:et&&!v[O.id]?"hidden":"auto",marginBottom:4},children:Re.map((Jt,Kt)=>l.jsxs("li",{children:[Jt.name," - ₦",Jt.price," x ",Jt.quantity||1]},Kt))}),et&&l.jsx("button",{style:{fontSize:12,marginBottom:8},onClick:()=>_(Jt=>({...Jt,[O.id]:!Jt[O.id]})),children:v[O.id]?"Show Less":`Show All (${O.items.length})`})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total:"})," ₦",O.total||Jr(O.items||[])]}),O.cancelledAt&&l.jsxs("p",{style:{fontSize:13,color:"#e53935",marginTop:6},children:["Cancelled: ",new Date(O.cancelledAt).toLocaleString()]})]},O.id)})]})]})]}),Ee==="medics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"🩺 Medical Interface Profiles"}),l.jsx(fH,{})]}),Ee==="coupons"&&l.jsx(lH,{})]})}const Jo=t=>({padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",background:t?"#007bff":"#eee",color:t?"#fff":"#000",fontWeight:t?"bold":"normal"}),hg={width:"100%",borderCollapse:"collapse",marginBottom:"20px"},pg={borderBottom:"1px solid #eee"},mg={marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"10px",background:"#f9f9f9"};function dH({user:t,medicines:e,orders:n,onClose:r}){return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"10px",marginTop:"20px",background:"#f0f0f0"},children:[l.jsxs("h4",{children:["👤 ",t.email," Details"]}),l.jsx("button",{onClick:r,style:{marginBottom:"10px"},children:"Close"}),l.jsx("h5",{children:"📦 Products"}),e.length===0?l.jsx("p",{children:"No products."}):l.jsx("ul",{children:e.map(i=>l.jsxs("li",{children:[i.name," - ₦",i.price]},i.id))}),l.jsx("h5",{children:"🛒 Purchase History"}),n.length===0?l.jsx("p",{children:"No orders."}):l.jsx("ul",{children:n.map(i=>l.jsxs("li",{children:[i.items.map(s=>s.name).join(", ")," - ₦",i.items.reduce((s,o)=>s+o.price*(o.quantity||1),0)]},i.id))})]})}function fH(){const[t,e]=pe.useState([]),[n,r]=pe.useState([]),[i,s]=pe.useState([]),[o,a]=pe.useState({section:"verify",photo:"",name:"",profession:"",license:"",languages:"",whatsapp:""}),[u,c]=pe.useState(!1),[f,h]=pe.useState(null);pe.useEffect(()=>{(async()=>{const I=await an(Ae(ee,"verifyMedics"));e(I.docs.map(R=>({id:R.id,...R.data()})));const T=await an(Ae(ee,"consultMedics"));r(T.docs.map(R=>({id:R.id,...R.data()})));const v=await an(Ae(ee,"users")),_=[];v.docs.forEach(R=>{const L=R.data();L.role==="medicine-manager"&&L.pharmacist&&_.push({...L.pharmacist,id:R.id,online:!0})}),s(_)})()},[]);const m=async(b,I)=>{await tn(be(ee,b==="verify"?"verifyMedics":"consultMedics",I.id),{online:!I.online}),b==="verify"?e(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_)):r(v=>v.map(_=>_.id===I.id?{..._,online:!I.online}:_))},S=b=>{a({...o,[b.target.name]:b.target.value})},E=async b=>{b.preventDefault(),c(!0);const I={photo:o.photo,name:o.name,profession:o.profession,license:o.license,pharmacyName:o.pharmacyName,languages:o.languages.split(",").map(v=>v.trim()),whatsapp:o.whatsapp},T=o.section==="verify"?"verifyMedics":"consultMedics";f?await tn(be(ee,T,f.id),I):await wo(Ae(ee,T),I),a({section:"verify",photo:"",name:"",profession:"",license:"",pharmacyName:"",languages:"",whatsapp:""}),h(null),c(!1),window.location.reload()};return l.jsxs("div",{style:{padding:24},children:[l.jsxs("form",{onSubmit:E,style:{marginBottom:32,background:"#f7f7f7",padding:16,borderRadius:8},children:[l.jsx("h4",{children:"Add Medic Profile"}),l.jsxs("select",{name:"section",value:o.section,onChange:S,children:[l.jsx("option",{value:"verify",children:"Verify Prescription"}),l.jsx("option",{value:"consult",children:"Get Consultation"})]}),l.jsx("input",{name:"photo",value:o.photo,onChange:S,placeholder:"Photo URL",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"name",value:o.name,onChange:S,placeholder:"Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"profession",value:o.profession,onChange:S,placeholder:"Profession",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"license",value:o.license,onChange:S,placeholder:"License Number",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"pharmacyName",value:o.pharmacyName||"",onChange:S,placeholder:"Pharmacy Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"languages",value:o.languages,onChange:S,placeholder:"Languages (comma separated)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"whatsapp",value:o.whatsapp,onChange:S,placeholder:"WhatsApp Number (e.g. 2348012345678)",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("button",{type:"submit",disabled:u,style:{marginTop:10},children:"Add Medic"})]}),l.jsx("h4",{children:"Verify Prescription Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...t,...i].sort((b,I)=>(I.online===!0)-(b.online===!0)).map(b=>{let I=[];return Array.isArray(b.languages)?I=b.languages:typeof b.languages=="string"&&(I=b.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("verify",b),title:b.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:b.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:b.photo,alt:b.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:b.name})}),l.jsx("div",{children:b.profession}),l.jsxs("div",{children:["Pharmacy: ",b.pharmacyName||l.jsx("span",{style:{color:"#888"},children:"N/A"})]}),l.jsxs("div",{children:["License: ",b.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${b.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:b.id,section:"verify"}),a({section:"verify",photo:b.photo,name:b.name,profession:b.profession,license:b.license,pharmacyName:b.pharmacyName,languages:Array.isArray(b.languages)?b.languages.join(", "):b.languages,whatsapp:b.whatsapp})},children:"Edit"})]},b.id)})}),l.jsx("h4",{style:{marginTop:24},children:"Consultation Medics"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[...n].sort((b,I)=>(I.online===!0)-(b.online===!0)).map(b=>{let I=[];return Array.isArray(b.languages)?I=b.languages:typeof b.languages=="string"&&(I=b.languages.split(",").map(T=>T.trim()).filter(Boolean)),l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:12,width:220,background:"#fff",position:"relative"},children:[l.jsx("span",{onClick:()=>m("consult",b),title:b.online?"Online":"Offline",style:{position:"absolute",top:8,right:32,width:14,height:14,borderRadius:"50%",background:b.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888",cursor:"pointer"}}),l.jsx("img",{src:b.photo,alt:b.name,style:{width:60,height:60,borderRadius:"50%",objectFit:"cover",marginBottom:8}}),l.jsx("div",{children:l.jsx("b",{children:b.name})}),l.jsx("div",{children:b.profession}),l.jsxs("div",{children:["License: ",b.license]}),l.jsxs("div",{children:["Languages: ",I.join(", ")]}),l.jsx("div",{children:l.jsx("a",{href:`https://wa.me/${b.whatsapp}`,target:"_blank",rel:"noopener noreferrer",children:"Chat on WhatsApp"})}),l.jsx("button",{style:{position:"absolute",bottom:8,right:8,fontSize:12},onClick:()=>{h({id:b.id,section:"consult"}),a({section:"consult",photo:b.photo,name:b.name,profession:b.profession,license:b.license,languages:Array.isArray(b.languages)?b.languages.join(", "):b.languages,whatsapp:b.whatsapp})},children:"Edit"})]},b.id)})})]})}function hH(){const{slug:t}=Mh();return l.jsxs("div",{children:[l.jsxs("h2",{children:["Cart for ",t||"this store"]}),l.jsx($P,{storeSlug:t})]})}function pH(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),i=()=>{if(!(h!=null&&h.pharmacist))return null;const{name:y,photo:C,whatsapp:j}=h.pharmacist;return l.jsxs("button",{onClick:()=>{j&&window.open(`https://wa.me/${j}`,"_blank")},style:{position:"fixed",top:"80px",right:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px 4px 8px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96,display:"flex",alignItems:"center",gap:"6px"},onMouseOver:A=>A.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:A=>A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:[C&&l.jsx("img",{src:C,alt:y,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",marginRight:6}}),"Talk to ",y]})},[s,o]=w.useState(null),[a,u]=w.useState(null),c=Fn(),{slug:f}=Mh(),[h,m]=w.useState(null),[S,E]=w.useState(!0),[b,I]=w.useState([]),[T,v]=w.useState([]),[_,R]=w.useState(""),[L,N]=w.useState(null),g=(y,C,j,A)=>{const P=z=>z*Math.PI/180,F=P(j-y),H=P(A-C),B=Math.sin(F/2)**2+Math.cos(P(y))*Math.cos(P(j))*Math.sin(H/2)**2;return 6371*(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)))},p=y=>{const A=y*1.64,P=Math.max(1,Math.round(A/25*60));return{drivingKm:A,minutes:P}};return w.useEffect(()=>{const y=jr(c,C=>{o(C)});return()=>y()},[c]),w.useEffect(()=>{if(!h)return;const y=Ct(Ae(ee,"orders"),C=>{const P=C.docs.map(W=>({id:W.id,...W.data()})).filter(W=>Array.isArray(W.items)&&W.items.some(F=>F.ownerId===h.uid)).filter(W=>!t.includes(W.id));P.length>0&&(P.forEach(W=>{xe.info(`🛒 New order received! Order ID: ${W.id}`)}),e(W=>[...W,...P.map(F=>F.id)]))});return()=>y()},[h,t]),w.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>N({lat:y.coords.latitude,lng:y.coords.longitude}),()=>N(null))},[]),w.useEffect(()=>{if(!f)return;E(!0),(async()=>{const C=yi(Ae(ee,"users"),Qr("slug","==",f)),j=await an(C);if(j.empty)m(null);else{const A=j.docs[0];m({uid:A.id,...A.data()})}E(!1)})()},[f]),w.useEffect(()=>{if(!h)return;const y=yi(Ae(ee,"products"),Qr("ownerId","==",h.uid)),C=Ct(y,j=>{const A=j.docs.map(P=>({id:P.id,...P.data()}));I(A)});return()=>C()},[h]),w.useEffect(()=>{if(!b)return;const y=(W="")=>W.toLowerCase().trim().replace(/\s+/g," "),C={pcm:"paracetamol",flagyl:"metronidazole",vit:"vitamin",ibucap:"ibuprofen",amox:"amoxicillin",diclo:"diclofenac",cipro:"ciprofloxacin",emzor:"paracetamol",fever:"paracetamol antipyretic",pain:"analgesic ibuprofen diclofenac paracetamol",headache:"paracetamol ibuprofen analgesic",infection:"antibiotic amoxicillin ciprofloxacin metronidazole",cough:"cough-suppressant expectorant syrup",cold:"decongestant antihistamine vitamin",flu:"antihistamine decongestant vitamin",malaria:"antimalarial artemether lumefantrine",stomach:"antacid omeprazole metronidazole",ulcer:"omeprazole antacid pantoprazole",diarrhea:"antidiarrheal loperamide",worm:"deworming mebendazole albendazole",allergy:"antihistamine loratadine cetirizine",inflammation:"anti-inflammatory ibuprofen diclofenac",hypertension:"antihypertensive amlodipine lisinopril",diabetes:"metformin insulin antidiabetic"},j=y(_),A=(C[j]||j).split(" "),P=b.map(W=>{var F,H;if(L&&((F=h.location)!=null&&F.latitude)&&((H=h.location)!=null&&H.longitude)){const B=g(L.lat,L.lng,h.location.latitude,h.location.longitude),{minutes:D}=p(B);return{...W,minutesAway:D}}return{...W,minutesAway:1/0}}).filter(W=>{const F=y(W.name),H=y(W.ingredient),B=y(W.class);return A.some(D=>F.includes(D)||H.includes(D)||B.includes(D))}).sort((W,F)=>W.minutesAway-F.minutesAway);v(P)},[b,_,L,h]),S?l.jsx("div",{style:{padding:"30px",textAlign:"center"},children:l.jsx("h2",{children:"Loading store..."})}):h===null?l.jsxs("div",{style:{padding:"30px",textAlign:"center"},children:[l.jsx("h2",{children:"Store not found"}),l.jsx("p",{children:"The store you are looking for does not exist or the link is incorrect."}),l.jsx("a",{href:"/store",style:{color:"#7c3aed",textDecoration:"underline"},children:"Browse all stores"})]}):l.jsxs("div",{style:{padding:"30px"},children:[n&&l.jsxs("div",{style:{position:"fixed",top:"30px",right:"30px",background:"#7c3aed",color:"#fff",padding:"12px 24px",borderRadius:"10px",boxShadow:"0 2px 12px rgba(124,58,237,0.15)",fontWeight:"bold",fontSize:"16px",zIndex:2e3,opacity:.97,transition:"opacity 0.3s"},children:["Added to cart! ",l.jsx("a",{href:"/cart",style:{color:"#fff",textDecoration:"underline",marginLeft:10},children:"View Cart"})]}),l.jsx(i,{}),l.jsxs("h2",{children:["🩺 ",(h==null?void 0:h.businessName)||"Pharmacy"," Shop"]}),l.jsx("p",{children:"Browse medicines below. Login only required for purchase."}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:_,onChange:y=>R(y.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),T.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:T.map(y=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative",minHeight:"220px"},children:[y.image&&l.jsx("img",{src:y.image,alt:y.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:y.name||"Unnamed Drug"}),l.jsx("p",{children:l.jsx("em",{children:y.ingredient||"No ingredient listed"})}),l.jsxs("p",{children:["Class: ",y.class||"No class listed"]}),l.jsxs("p",{children:["Price: ₦",y.price!==void 0?y.price:"N/A"]}),l.jsxs("p",{style:{fontSize:"0.9em",color:"#555"},children:["🏥 ",h!=null&&h.businessName&&h.businessName.trim()?h.businessName:"Unknown Pharmacy"]}),l.jsx("button",{onClick:async()=>{if(!s)return alert("Please log in first");const C=be(ee,"carts",s.uid),j=await on(C);let A=j.exists()?j.data().items||[]:[];const P=A.findIndex(W=>W.name===y.name);P>=0?A[P].quantity+=1:A.push({...y,quantity:1}),await ir(C,{items:A}),u(y.id),r(!0),setTimeout(()=>r(!1),1800),setTimeout(()=>u(null),1e3)},style:{marginTop:"10px"},children:"Add to Cart"}),a===y.id&&l.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",background:"#4caf50",color:"#fff",padding:"3px 6px",borderRadius:"4px",fontSize:"12px"},children:"Added!"}),y.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:y.minutesAway<=1?"📍 Right here":`💨 ~${y.minutesAway} mins away`})]},y.id))})]})}function dn(){return typeof window<"u"&&window.innerWidth<=600}function mH(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState("");if(w.useEffect(()=>{async function a(){const u=await an(Ae(ee,"users")),c=[];u.forEach(f=>{const h=f.data();h.role==="medicine-manager"&&h.businessName&&h.slug&&c.push({id:f.id,name:h.businessName,slug:h.slug,image:h.businessImage||null,address:h.businessAddress||"",phone:h.businessPhone||""})}),e(c),r(!1)}a()},[]),n)return l.jsx("div",{style:{textAlign:"center",marginTop:40},children:"Loading stores..."});const o=t.filter(a=>a.name.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f4f6fb 0%, #e0e7ff 100%)",padding:dn()?"10px 2vw":"30px",fontFamily:"Inter, Arial, sans-serif"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontSize:dn()?22:32,fontWeight:800,color:"#2d3748"},children:"All Stores"}),l.jsx("div",{style:{textAlign:"center",marginBottom:32},children:l.jsx("input",{type:"text",placeholder:"Search by pharmacy name...",value:i,onChange:a=>s(a.target.value),style:{fontSize:dn()?15:16,width:dn()?"98vw":320,maxWidth:"90%",outline:"none",boxShadow:"0 1px 4px #ede9fe",margin:"0 auto",padding:dn()?"8px":"12px 18px",borderRadius:8,border:"1px solid #e0e7ff"}})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:dn()?"1fr":"repeat(auto-fit, minmax(260px, 1fr))",gap:dn()?14:32},children:o.map(a=>l.jsxs(Va,{to:`/store/${a.slug}`,style:{textDecoration:"none",color:"#222",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px #ede9fe",padding:dn()?12:24,display:"flex",flexDirection:"column",alignItems:"center",transition:"box-shadow 0.2s",border:"1px solid #f3f3f3",minHeight:dn()?120:220},children:[a.image?l.jsx("img",{src:a.image,alt:a.name,style:{width:dn()?50:80,height:dn()?50:80,objectFit:"cover",borderRadius:12,marginBottom:dn()?8:16,border:"1px solid #e0e7ff"}}):l.jsx("div",{style:{width:dn()?50:80,height:dn()?50:80,background:"#ede9fe",borderRadius:12,marginBottom:dn()?8:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:dn()?18:32,color:"#7c3aed"},children:"🏪"}),l.jsx("div",{style:{fontWeight:600,fontSize:dn()?16:20,marginBottom:8},children:a.name}),l.jsx("div",{style:{fontSize:dn()?12:15,color:"#6366f1",marginBottom:6},children:a.address}),l.jsx("div",{style:{fontSize:dn()?10:14,color:"#64748b"},children:a.phone})]},a.id))})]})}const gH=(t,e,n,r)=>{const i=f=>f*Math.PI/180,o=i(n-t),a=i(r-e),u=Math.sin(o/2)**2+Math.cos(i(t))*Math.cos(i(n))*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},yH=t=>{const r=t*1.64,i=Math.max(1,Math.round(r/25*60));return{drivingKm:r,minutes:i}},OS=["admin","medicine-manager","distributor"],NS=["admin","distributor"];function vH(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState("shop"),[o,a]=w.useState([]),[u,c]=w.useState([]),[f,h]=w.useState(""),[m,S]=w.useState(null),[E,b]=w.useState(null);w.useEffect(()=>{if(!navigator.geolocation){S("denied");return}navigator.geolocation.getCurrentPosition(_=>S({lat:_.coords.latitude,lng:_.coords.longitude}),()=>S("denied"))},[]),w.useEffect(()=>{const _=Ct(Ae(ee,"products"),async R=>{const L=await Promise.all(R.docs.map(async N=>{var p,y;const g={id:N.id,...N.data()};if(g.ownerId){const C=be(ee,"users",g.ownerId),j=await on(C);if(j.exists()){const A=j.data();g.businessName=A.businessName||"Unknown Distributor",g.ownerSlug=A.slug||null,g.ownerRole=A.role||null,(p=A.location)!=null&&p.latitude&&((y=A.location)!=null&&y.longitude)&&(g.businessLat=A.location.latitude,g.businessLng=A.location.longitude)}}return g}));a(L.filter(N=>N.ownerRole==="distributor"))});return()=>_()},[]),w.useEffect(()=>{if(o.length===0)return;let _=o;if(f.trim()){const R=f.toLowerCase();_=o.filter(L=>L.name&&L.name.toLowerCase().includes(R)||L.ingredient&&L.ingredient.toLowerCase().includes(R)||L.class&&L.class.toLowerCase().includes(R))}m&&m!=="denied"&&(_=_.map(R=>{if(R.businessLat&&R.businessLng){const L=gH(m.lat,m.lng,R.businessLat,R.businessLng),{minutes:N}=yH(L);return{...R,minutesAway:N}}return{...R,minutesAway:1/0}}),_.sort((R,L)=>R.minutesAway-L.minutesAway)),c(_)},[o,f,m]);const I=async _=>{if(!t)return alert("Please login first");try{const R=be(ee,"carts",t.uid),L=await on(R);let N=[];L.exists()&&(N=L.data().items||[]);const g=N.findIndex(p=>p.id===_.id);g>=0?N[g].quantity+=1:N.push({..._,quantity:1}),await ir(R,{items:N}),b(`Added ${_.name} to cart!`),setTimeout(()=>b(null),1500)}catch{alert("Error adding to cart")}};if(w.useEffect(()=>{const _=Fn(),R=jr(_,async L=>{if(!L){e(null),r(null);return}e(L);const N=be(ee,"users",L.uid),g=await on(N);r(g.exists()?g.data().role:null)});return()=>R()},[]),!t)return l.jsx("div",{children:"Please log in to access this page."});if(!OS.includes(n)&&!NS.includes(n))return l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}});const T=OS.includes(n),v=NS.includes(n);return i==="shop"&&!T||i==="add"&&!v?l.jsx("div",{style:{background:"#fff",minHeight:"100vh"}}):l.jsxs("div",{style:{padding:"30px"},children:[l.jsx("h2",{children:"Restock"}),l.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"16px"},children:[T&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="shop"?"2px solid #1976d2":"1px solid #ccc",background:i==="shop"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("shop"),children:"Shop Stock"}),v&&l.jsx("button",{style:{padding:"10px 24px",borderRadius:"6px",border:i==="add"?"2px solid #1976d2":"1px solid #ccc",background:i==="add"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("add"),children:"Add Stock"})]}),i==="shop"&&T&&l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{children:"Shop Stock"}),l.jsx("div",{style:{margin:"15px 0"},children:l.jsx("input",{type:"text",placeholder:"Search by medicine name, ingredient, or class...",value:f,onChange:_=>h(_.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc"}})}),E&&l.jsx("div",{style:{color:"green",marginBottom:10},children:E}),u.length===0?l.jsx("p",{children:"No medicines found."}):l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"20px"},children:u.map(_=>l.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"10px",background:"#fff",boxShadow:"0 1px 6px rgba(0,0,0,0.1)",position:"relative"},children:[_.registeredOnly&&_.registeredUniqueId&&l.jsx("span",{style:{position:"absolute",top:"10px",left:"10px",background:"#7c3aed",color:"#fff",padding:"2px 10px",borderRadius:"8px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",letterSpacing:"1px"},children:"Registered Only"}),_.image&&l.jsx("img",{src:_.image,alt:_.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px"}}),l.jsx("strong",{children:_.name}),l.jsx("p",{children:l.jsx("em",{children:_.ingredient})}),l.jsxs("p",{children:["Class: ",_.class]}),l.jsxs("p",{children:["Price: ₦",_.price]}),Array.isArray(_.moqs)&&_.moqs.length>0&&l.jsxs("div",{style:{margin:"8px 0"},children:[l.jsx("strong",{children:"MOQ:"})," ",_.moqs.map((R,L)=>l.jsx("span",{style:{marginRight:8},children:R.type},L))]}),l.jsxs("p",{style:{fontSize:"0.95em",color:"#555"},children:["Distributor: ",_.businessName]}),_.minutesAway!==1/0&&l.jsx("p",{style:{color:"#4caf50",fontWeight:"500",fontSize:"0.9em"},children:_.minutesAway<=1?"📍 Right here":`💨 ~${_.minutesAway} mins away`}),l.jsx("button",{style:{marginTop:10,padding:"8px 16px",borderRadius:"6px",background:"#1976d2",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},onClick:()=>I(_),children:"Add to Cart"})]},_.id))})]}),i==="add"&&v&&l.jsx(xH,{user:t,role:n})]})}function xH({user:t,role:e}){const[n,r]=pe.useState({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet"}],registeredOnly:!1}),[i,s]=pe.useState([]),[o,a]=pe.useState(!1);pe.useEffect(()=>{if(e!=="distributor")return;const D=Ct(Ae(ee,"businessRegistrations"),z=>{s(z.docs.filter(q=>q.data().distributorId===t.uid&&q.data().status==="approved").map(q=>q.data()))});return()=>D()},[t,e]);const u=(D,z)=>{const q=n.moqs.map((Q,Y)=>Y===D?{type:z.target.value}:Q);r({...n,moqs:q})},c=()=>{r({...n,moqs:[...n.moqs,{type:"sachet"}]})},f=D=>{r({...n,moqs:n.moqs.filter((z,q)=>q!==D)})},[h,m]=pe.useState(null),[S,E]=pe.useState([]),[b,I]=pe.useState([]),[T,v]=pe.useState([]),[_,R]=pe.useState(!1),[L,N]=pe.useState(null),[g,p]=pe.useState(null);pe.useEffect(()=>{if(!t)return;const D=Ct(Ae(ee,"products"),z=>{let q=z.docs.map(Q=>({id:Q.id,...Q.data()}));y()||(q=q.filter(Q=>Q.ownerId===t.uid)),E(q)});return()=>D()},[t]),pe.useEffect(()=>{if(!t)return;const D=Ct(Ae(ee,"batches"),z=>{let q=z.docs.map(Q=>({id:Q.id,...Q.data()}));y()||(q=q.filter(Q=>Q.uploadedBy===t.uid)),I(q)});return()=>D()},[t]);function y(){var D;return(D=t==null?void 0:t.email)==null?void 0:D.includes("admin")}const C=D=>r({...n,[D.target.name]:D.target.value}),j=async()=>{const D=!n.registeredOnly;if(r({...n,registeredOnly:D}),e==="distributor"&&(t!=null&&t.uid)){const z=Ae(ee,"products"),q=await getDocs(z),Q=[];q.docs.forEach(Y=>{if(Y.data().ownerId===t.uid){const ie={registeredOnly:D};D?ie.registeredUniqueId=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`:ie.registeredUniqueId=null,Q.push(updateDoc(be(ee,"products",Y.id),ie))}}),await Promise.all(Q),window.location.reload()}},A=async D=>{D.preventDefault(),R(!0),p(null),N(null);try{let z=e,q=null,Q=null;if(e==="distributor"){const J=be(ee,"users",t.uid),ie=await on(J);ie.exists()&&(q=ie.data().slug||ie.data().businessSlug||null),n.registeredOnly&&(Q=`${t.uid}_${Date.now()}`)}const Y={...n,ownerId:t.uid,ownerRole:z,ownerSlug:q};Q&&(Y.registeredUniqueId=Q),h?(await ir(be(ee,"products",h),Y,{merge:!0}),m(null),N("Medicine updated!")):(await wo(Ae(ee,"products"),Y),N("Medicine added!")),r({name:"",ingredient:"",class:"",price:"",image:"",moqs:[{type:"sachet",value:"",price:""}],registeredOnly:!1})}catch{p("Error saving medicine")}R(!1)},P=D=>{r({name:D.name,ingredient:D.ingredient,class:D.class,price:D.price,image:D.image||"",moqs:D.moqs||[{type:"sachet",value:"",price:""}]}),m(D.id)},W=async D=>{if(window.confirm("Delete this medicine?")){R(!0);try{await Rr(be(ee,"products",D.id)),N("Medicine deleted")}catch{p("Error deleting medicine")}R(!1)}},F=D=>{const z=D.target.files[0];z&&VP.parse(z,{header:!0,skipEmptyLines:!0,complete:q=>{v(q.data)},error:()=>p("Failed to parse CSV")})},H=async()=>{if(console.log("handleCsvUpload called. user:",t,"role:",e),!T.length)return;if(!t||!e){p("User or role not loaded. Please log in again."),R(!1);return}R(!0),p(null),N(null);const D=be(Ae(ee,"batches")),z=[];let q=e,Q=null;if(e==="distributor"){const Y=be(ee,"users",t.uid),J=await on(Y);J.exists()&&(Q=J.data().slug||J.data().businessSlug||null)}for(let Y of T)try{let J=[];if(Y.moqs)try{J=JSON.parse(Y.moqs)}catch{}let ie=null;e==="distributor"&&Y.registeredOnly===!0&&(ie=`${t.uid}_${Date.now()}_${Math.floor(Math.random()*1e4)}`);const me=await wo(Ae(ee,"products"),{name:Y.name,ingredient:Y.ingredient,class:Y.class,price:parseInt(Y.price,10)||0,image:Y.image||"",batchId:D.id,ownerId:t.uid,ownerRole:q,ownerSlug:Q,moqs:J,registeredOnly:!!Y.registeredOnly,...ie?{registeredUniqueId:ie}:{}});z.push(me.id)}catch{}await ir(D,{name:`CSV Upload - ${new Date().toLocaleString()}`,uploadedBy:t.uid,date:new Date().toISOString(),medicineIds:z}),N(`${z.length} medicines uploaded`),v([]),R(!1)},B=async D=>{if(window.confirm("Delete this batch and its medicines?")){R(!0);try{for(let z of D.medicineIds)await Rr(be(ee,"products",z));await Rr(be(ee,"batches",D.id)),N("Batch deleted")}catch{p("Error deleting batch")}R(!1)}};return l.jsxs("section",{style:{maxWidth:900,margin:"0 auto",background:"#fff",padding:24,borderRadius:10},children:[e==="distributor"&&l.jsxs("section",{style:{marginBottom:32,border:"1px solid #e0e0e0",borderRadius:10,background:"#f8f6ff",padding:18},children:[l.jsx("button",{type:"button",onClick:()=>a(D=>!D),style:{background:o?"#7c3aed":"#ede9fe",color:o?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",marginBottom:10,cursor:"pointer"},children:o?"Hide Registered Businesses":"Show Registered Businesses"}),o&&l.jsxs("div",{children:[l.jsx("h3",{style:{color:"#7c3aed",marginBottom:10},children:"Registered Businesses"}),l.jsx("p",{style:{fontSize:15,color:"#555",marginBottom:16},children:"These are businesses that have registered and been approved to buy from you. You can use this list to manage your relationships and track registrations."}),i.length===0?l.jsx("p",{style:{color:"#888"},children:"No businesses registered yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"#fff",borderRadius:8},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#ede9fe"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Business Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Email"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left"},children:"Phone"})]})}),l.jsx("tbody",{children:i.map((D,z)=>{var q,Q,Y;return l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"8px 12px"},children:l.jsx("b",{children:((q=D.businessInfo)==null?void 0:q.businessName)||D.businessId})}),l.jsx("td",{style:{padding:"8px 12px"},children:((Q=D.businessInfo)==null?void 0:Q.email)||""}),l.jsx("td",{style:{padding:"8px 12px"},children:((Y=D.businessInfo)==null?void 0:Y.phone)||""})]},z)})})]})]})]}),l.jsx("h3",{children:"Add Stock"}),l.jsxs("form",{onSubmit:A,style:{marginBottom:24},children:[l.jsx("input",{name:"name",value:n.name,onChange:C,placeholder:"Medicine Name",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"ingredient",value:n.ingredient,onChange:C,placeholder:"Ingredient",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"class",value:n.class,onChange:C,placeholder:"Class",style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"price",value:n.price,onChange:C,placeholder:"Default Price",type:"number",min:"0",required:!0,style:{width:"100%",marginBottom:8}}),l.jsx("input",{name:"image",value:n.image,onChange:C,placeholder:"Image URL",style:{width:"100%",marginBottom:8}}),e==="distributor"&&l.jsx("div",{style:{marginBottom:"10px"},children:l.jsx("button",{type:"button",onClick:j,style:{background:n.registeredOnly?"#7c3aed":"#ede9fe",color:n.registeredOnly?"#fff":"#7c3aed",border:"none",borderRadius:6,padding:"10px 18px",fontWeight:"bold",cursor:"pointer"},children:n.registeredOnly?"Disable 'Only registered businesses can buy'":"Enable 'Only registered businesses can buy'"})}),l.jsxs("div",{style:{margin:"16px 0"},children:[l.jsx("strong",{children:"MOQ:"}),n.moqs.map((D,z)=>l.jsxs("div",{style:{display:"flex",gap:8,marginBottom:6},children:[l.jsxs("select",{value:D.type,onChange:q=>u(z,q),style:{width:120},children:[l.jsx("option",{value:"sachet",children:"Sachet"}),l.jsx("option",{value:"pack",children:"Pack"}),l.jsx("option",{value:"carton",children:"Carton"})]}),n.moqs.length>1&&l.jsx("button",{type:"button",onClick:()=>f(z),style:{color:"red"},children:"✕"})]},z)),l.jsx("button",{type:"button",onClick:c,style:{marginTop:4},children:"+ Add MOQ"})]}),l.jsx("button",{type:"submit",disabled:_,style:{marginTop:10},children:h?"Update Medicine":"Add Medicine"})]}),l.jsx("h4",{children:"Bulk Add via CSV"}),l.jsx("input",{type:"file",accept:".csv",onChange:F}),T.length>0&&l.jsx("div",{style:{marginTop:10},children:l.jsxs("button",{onClick:H,disabled:_,children:["Submit CSV (",T.length," rows)"]})}),l.jsxs("h4",{style:{marginTop:32},children:["My Medicines ",y()&&"(All Users)"]}),S.length===0?l.jsx("p",{children:"No medicines added yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Ingredient"}),l.jsx("th",{children:"Class"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"MOQ"}),l.jsx("th",{children:"Image"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:S.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:D.ingredient}),l.jsx("td",{children:D.class}),l.jsx("td",{children:D.price}),l.jsx("td",{children:Array.isArray(D.moqs)&&D.moqs.length>0?D.moqs.map((z,q)=>l.jsx("span",{style:{marginRight:8},children:z.type},q)):"-"}),l.jsx("td",{children:D.image&&l.jsx("img",{src:D.image,alt:D.name,style:{width:"50px",height:"50px",objectFit:"cover"}})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>P(D),style:{marginRight:"5px"},children:"Edit"}),l.jsx("button",{onClick:()=>W(D),children:"Delete"})]})]},D.id))})]}),l.jsxs("h4",{style:{marginTop:32},children:["My CSV Batches ",y()&&"(All Users)"]}),b.length===0?l.jsx("p",{children:"No batches uploaded yet."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{children:"Batch Name"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Medicines Count"}),l.jsx("th",{children:"Action"})]})}),l.jsx("tbody",{children:b.map(D=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{children:D.name}),l.jsx("td",{children:new Date(D.date).toLocaleString()}),l.jsx("td",{children:D.medicineIds.length}),l.jsx("td",{children:l.jsx("button",{onClick:()=>B(D),children:"Delete Batch"})})]},D.id))})]}),L&&l.jsx("div",{style:{color:"green",marginTop:10},children:L}),g&&l.jsx("div",{style:{color:"red",marginTop:10},children:g})]})}function LS({medics:t}){return l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:24,marginTop:24},children:[...t].sort((e,n)=>(n.online===!0)-(e.online===!0)).map(e=>{let n=[];return Array.isArray(e.languages)?n=e.languages:typeof e.languages=="string"&&(n=e.languages.split(",").map(r=>r.trim()).filter(Boolean)),l.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",width:220,padding:16,border:"1px solid #ccc",borderRadius:12,background:"#f9f9f9",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},onClick:()=>window.open(`https://wa.me/${e.whatsapp}`,"_blank"),children:[l.jsx("span",{title:e.online?"Online":"Offline",style:{position:"absolute",top:8,right:12,width:14,height:14,borderRadius:"50%",background:e.online?"#27c93f":"#bbb",border:"2px solid #fff",boxShadow:"0 0 2px #888"}}),l.jsx("img",{src:e.photo,alt:e.name,style:{width:80,height:80,borderRadius:"50%",objectFit:"cover",marginBottom:12}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:e.name}),l.jsx("div",{children:e.profession}),e.pharmacyName&&l.jsx("div",{style:{color:"#7c3aed",fontWeight:500},children:e.pharmacyName}),l.jsxs("div",{children:["License: ",e.license]}),l.jsxs("div",{children:["Languages: ",n.join(", ")]})]},e.id)})})}function _H(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState("verify"),[o,a]=w.useState("");return w.useEffect(()=>{(async()=>{let f=(await an(Ae(ee,"verifyMedics"))).docs.map(S=>({id:S.id,...S.data()}));(await an(Ae(ee,"users"))).docs.forEach(S=>{const E=S.data();E.role==="medicine-manager"&&E.pharmacist&&f.push({...E.pharmacist,id:S.id,online:!0})}),e(f);const m=await an(Ae(ee,"consultMedics"));r(m.docs.map(S=>({id:S.id,...S.data()})))})()},[]),l.jsxs("div",{style:{padding:32,maxWidth:900,margin:"0 auto"},children:[l.jsx("h2",{children:"🩺 Medical Interface"}),l.jsx("input",{type:"text",placeholder:"Search by name or pharmacy...",value:o,onChange:u=>a(u.target.value),style:{padding:"10px",width:"100%",maxWidth:"400px",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"18px"}}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:32},children:[l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="verify"?"2px solid #1976d2":"1px solid #ccc",background:i==="verify"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("verify"),children:"Verify Prescription"}),l.jsx("button",{style:{padding:"10px 24px",borderRadius:6,border:i==="consult"?"2px solid #1976d2":"1px solid #ccc",background:i==="consult"?"#e3f2fd":"#fff",fontWeight:"bold",cursor:"pointer"},onClick:()=>s("consult"),children:"Get Consultation"})]}),i==="verify"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Verify Prescription Medics"}),l.jsx(LS,{medics:t.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]}),i==="consult"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Consultation Medics"}),l.jsx(LS,{medics:n.filter(u=>{var m,S;const c=((m=u.name)==null?void 0:m.toLowerCase())||"",f=((S=u.pharmacyName)==null?void 0:S.toLowerCase())||"",h=o.toLowerCase();return c.includes(h)||f.includes(h)})})]})]})}const Cs=()=>typeof window<"u"&&window.innerWidth<=600,gg="/pharmastack-logo.png",MS="pharmastack-config",yg="navbarLogoUrl";function bH(t){return t==="admin"}const wH={background:"linear-gradient(90deg, #e0e7ff 0%, #f4f6fb 100%)",borderBottom:"1px solid #e0e7ff",boxShadow:"0 2px 8px #c7d2fe22",position:"sticky",top:0,zIndex:1e3,width:"100%"},SH=()=>({maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:Cs()?"0 8px":"0 24px",height:Cs()?54:70,flexWrap:Cs()?"wrap":"nowrap"}),EH={display:"flex",alignItems:"center",height:"100%",marginLeft:0},TH=()=>({display:"flex",alignItems:"center",gap:Cs()?8:24,flexGrow:1,justifyContent:"center",flexWrap:Cs()?"wrap":"nowrap",fontSize:Cs()?13:16}),CH={display:"flex",alignItems:"center",gap:10,justifyContent:"flex-end",minWidth:120},IH={color:"#2d3748",textDecoration:"none",fontWeight:600,fontSize:Cs()?13:16,padding:Cs()?"6px 8px":"8px 14px",borderRadius:8,transition:"background 0.2s, color 0.2s"},kH={color:"#014d4e",borderBottom:"2px solid #014d4e"},DS={fontWeight:900,fontSize:22,color:"#6366f1",letterSpacing:1.2,display:"flex",alignItems:"center",gap:8,textDecoration:"none"},$S={height:120,display:"block",objectFit:"contain",cursor:"pointer",borderRadius:5,background:"transparent"};function Vr({to:t,children:e,...n}){const i=Ao().pathname===t;return l.jsx(Va,{to:t,style:{...IH,...i?kH:{}},...n,children:e})}function RH(){var v,_;const[t,e]=w.useState(!1),[n,r]=w.useState(gg),[i,s]=w.useState(!1),o=w.useRef(),a=((v=Fn().currentUser)==null?void 0:v.email)||"",u=((_=a[0])==null?void 0:_.toUpperCase())||"?";w.useEffect(()=>{(async()=>{try{const L=await on(be(ee,"config",MS));L.exists()&&L.data()[yg]?r(L.data()[yg]):r(gg)}catch{r(gg)}})()},[]);const c=async R=>{const L=R.target.files&&R.target.files[0];if(L){s(!0);try{const N=new FileReader;N.onload=async g=>{const p=g.target.result;await ir(be(ee,"config",MS),{[yg]:p},{merge:!0}),r(p),s(!1)},N.readAsDataURL(L)}catch{alert("Logo upload failed. Please try again."),s(!1)}}};$s();const[f,h]=w.useState(0),[m,S]=w.useState(null);w.useEffect(()=>{const R=Fn();let L=null;const N=jr(R,g=>{if(L&&L(),g){const p=be(ee,"carts",g.uid);L=Ct(p,y=>{if(y.exists()){const C=y.data().items||[];h(C.length)}else h(0)})}else h(0)});return()=>{N(),L&&L()}},[]);const I=Ao().pathname.match(/^\/store\/([^\/]+)/),T=I?I[1]:null;return w.useEffect(()=>{const R=Fn(),L=jr(R,async N=>{if(N){const g=await on(be(ee,"users",N.uid));S(g.exists()?g.data().role:null)}else S(null)});return()=>L()},[]),l.jsx("nav",{style:wH,children:l.jsxs("div",{style:SH(),children:[l.jsx("div",{style:EH,children:bH(m)?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"file",accept:"image/*",ref:o,style:{display:"none"},onChange:c,disabled:i}),l.jsx(Va,{to:"/",style:DS,onClick:R=>{R.preventDefault(),i||o.current.click()},children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:{...$S,border:i?"2px solid #fbbf24":"2px dashed #b3e5fc",opacity:i?.5:1},title:i?"Uploading...":"Click to upload new logo"})})]}):l.jsx(Va,{to:"/",style:DS,children:l.jsx("img",{src:n,alt:"Pharmastack Logo",style:$S})})}),l.jsx("div",{style:TH(),children:m!=="delivery-agent"&&l.jsxs(l.Fragment,{children:[T?l.jsxs(l.Fragment,{children:[l.jsx(Vr,{to:`/store/${T}`,children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Vr,{to:`/store/${T}/cart`,children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Vr,{to:"/shop",children:"Shop"}),l.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[l.jsx(Vr,{to:"/cart",children:"Cart"}),f>0&&l.jsx("span",{style:{position:"absolute",top:"-8px",right:"-16px",background:"#e53935",color:"#fff",borderRadius:"50%",padding:"2px 7px",fontSize:"13px",fontWeight:"bold",boxShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:f})]})]}),l.jsx(Vr,{to:"/orders",children:"Orders"}),m!=="medicine-manager"&&l.jsx(Vr,{to:"/medinterface",children:"Medinterface"}),!T&&m&&m!=="customer"&&l.jsxs(l.Fragment,{children:[(m==="medicine-manager"||m==="admin"||m==="delivery-agent")&&l.jsx(Vr,{to:"/add-medicine",children:"Add Medicine"}),m==="admin"&&l.jsx(Vr,{to:"/admin",children:"Admin"}),(m==="delivery-agent"||m==="admin")&&l.jsx(Vr,{to:"/agents",children:"All Agents"})]})]})}),l.jsx("div",{style:CH,children:m?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{onClick:()=>e(!t),style:{width:38,height:38,borderRadius:"50%",background:"#00796b",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,cursor:"pointer",userSelect:"none",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},title:a,children:u}),l.jsx("button",{onClick:async()=>{await Fn().signOut(),window.location.href="/pharmastack/#/auth"},style:{width:38,height:38,borderRadius:"50%",background:"#e53935",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"none",marginLeft:0,cursor:"pointer",fontSize:18,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"background 0.2s"},title:"Sign Out",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M13.5 13.5L17 10M17 10L13.5 6.5M17 10H7",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3",stroke:"white",strokeWidth:"1.7",strokeLinecap:"round"})]})})]}),t&&l.jsxs("div",{style:{position:"absolute",top:"46px",right:0,background:"#fff",borderRadius:8,boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:180,zIndex:2e3,padding:"8px 0"},children:[l.jsx("div",{style:{padding:"8px 16px",fontSize:14,fontWeight:500,color:"#2d3748",borderBottom:"1px solid #edf2f7",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:a}),l.jsx("button",{onClick:async()=>{await Fn().signOut(),window.location.href="/pharmastack/#/auth"},style:{display:"block",width:"100%",textAlign:"left",padding:"10px 16px",border:"none",background:"transparent",color:"#e53e3e",fontWeight:600,cursor:"pointer"},children:"Sign Out"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Vr,{to:"/auth",children:"Login"}),l.jsx(Vr,{to:"/auth",children:"Signup"})]})})]})})}function PH(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState("");function o($){if(!i.trim())return $;const G=i.trim().toLowerCase();return $.filter(U=>{var _e,Xe,Ee,De,$e,qe,ft,ht,Le,gt,Ie,Be,Oe,Te,Et,qt;const ne=(((_e=S[U.userId])==null?void 0:_e.email)||"").toLowerCase(),Z=(U.items&&U.items[0]&&((Xe=c[U.items[0].ownerId])==null?void 0:Xe.name)||"").toLowerCase(),te=((((Ee=U.deliveryInfo)==null?void 0:Ee.address)||"")+" "+(((De=U.deliveryInfo)==null?void 0:De.city)||"")+" "+((($e=U.deliveryInfo)==null?void 0:$e.state)||"")).toLowerCase(),ce=U.items&&U.items[0]&&((((qe=c[U.items[0].ownerId])==null?void 0:qe.address)||"")+" "+(((ft=c[U.items[0].ownerId])==null?void 0:ft.city)||"")+" "+(((ht=c[U.items[0].ownerId])==null?void 0:ht.state)||"")).toLowerCase()||"",fe=[(Le=U.deliveryInfo)==null?void 0:Le.lat,(gt=U.deliveryInfo)==null?void 0:gt.lng,(Oe=c[(Be=(Ie=U.items)==null?void 0:Ie[0])==null?void 0:Be.ownerId])==null?void 0:Oe.lat,(qt=c[(Et=(Te=U.items)==null?void 0:Te[0])==null?void 0:Et.ownerId])==null?void 0:qt.lng].filter(Boolean).join(",").toLowerCase(),he=(U.items||[]).map(Je=>Je.name).join(", ").toLowerCase();return ne.includes(G)||Z.includes(G)||te.includes(G)||ce.includes(G)||fe.includes(G)||he.includes(G)})}const[a,u]=pe.useState("processing"),[c,f]=w.useState({});w.useEffect(()=>{const $=Ct(Ae(ee,"users"),G=>{const U={};G.docs.forEach(ne=>{const Z=ne.data();Z.role==="medicine-manager"&&(U[ne.id]={name:Z.businessName||ne.id,address:Z.businessAddress||Z.address||"-",lat:Z.lat||Z.latitude||null,lng:Z.lng||Z.longitude||null})}),f(U)});return()=>$()},[]);const[h,m]=w.useState(!0);w.useEffect(()=>{const $=Fn(),G=jr($,U=>{e(U),m(!1)});return()=>G()},[]),w.useEffect(()=>{if(h||!t)return;const $=Ct(Ae(ee,"orders"),G=>{const Z=G.docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.status==="Processing"&&!te.assignedAgentId&&te.deliveryType&&te.deliveryType.toLowerCase()==="express").filter(te=>!n.includes(te.id));Z.length>0&&(Z.forEach(te=>{xe.info(`🚚 New express delivery order! Order ID: ${te.id}`)}),r(te=>[...te,...Z.map(ce=>ce.id)]))});return()=>$()},[h,t,n]);const[S,E]=w.useState({});w.useEffect(()=>{const $=Ct(Ae(ee,"users"),G=>{const U={};G.docs.forEach(ne=>{const Z=ne.data();U[ne.id]=Z.email||ne.id}),E(U)});return()=>$()},[]);const[b,I]=w.useState([]),[T,v]=w.useState([]),[_,R]=w.useState([]),[L,N]=w.useState(()=>{const $=localStorage.getItem("agentCanceledOrders");return $?JSON.parse($):[]}),[g,p]=w.useState({}),[y,C]=w.useState({}),[j,A]=w.useState(null),{slug:P}=Mh(),[W,F]=w.useState(null),[H,B]=w.useState(!1),[D,z]=w.useState(!0),[q,Q]=w.useState("availability");w.useEffect(()=>{if(h||!t)return;const $=Ct(Ae(ee,"orders"),G=>{const U=G.docs.map(ne=>({id:ne.id,...ne.data()}));I(U.filter(ne=>ne.status==="Completed"&&ne.assignedAgentId===t.uid)),R(U.filter(ne=>ne.status==="In-Progress"&&ne.assignedAgentId===t.uid)),v(U.filter(ne=>ne.status==="Processing"&&!ne.assignedAgentId&&!L.some(Z=>Z.id===ne.id)&&ne.deliveryType&&ne.deliveryType.toLowerCase()==="express"))});return()=>$()},[h,t,L]);const Y=async $=>{A($);try{await tn(be(ee,"orders",$),{assignedAgentId:t.uid,riderId:t.uid,assignedAgentSlug:W.slug,assignedAgentName:W.companyName,companyName:W.companyName,agentPhoneNumber:W.phoneNumber||"",agentWhatsappNumber:W.whatsappNumber||"",assignedAt:new Date().toISOString(),status:"In-Progress"}),xe.success("Order accepted!")}catch{xe.error("Failed to accept order")}A(null)},J=async $=>{try{await tn(be(ee,"orders",$),{deliveredByRider:!0,riderCompletedAt:new Date().toISOString()}),xe.success("Order marked as delivered!")}catch{xe.error("Failed to mark as delivered")}},ie=async $=>{try{await tn(be(ee,"orders",$),{status:"Processing",assignedAgentId:null,assignedAgentSlug:null,assignedAgentName:null,assignedAt:null}),xe.info("Order moved back to processing.")}catch{xe.error("Failed to move order back to processing")}},me=$=>{const G=T.find(U=>U.id===$)||_.find(U=>U.id===$);G&&(N(U=>{const ne=[...U,G];return localStorage.setItem("agentCanceledOrders",JSON.stringify(ne)),ne}),u("canceled"))};w.useEffect(()=>{const $=G=>{G.key==="agentCanceledOrders"&&N(G.newValue?JSON.parse(G.newValue):[])};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[]);const ve=async()=>{if(W){B(!0);try{const $=be(ee,"deliveryAgents",W.id);await tn($,{available:!W.available}),F({...W,available:!W.available}),xe.success("Availability updated.")}catch{xe.error("Failed to update availability")}B(!1)}};return w.useEffect(()=>{async function $(){z(!0);const U=(await an(Ae(ee,"deliveryAgents"))).docs.map(te=>te.data());console.log("All agent slugs:",U.map(te=>te.slug));const ne=yi(Ae(ee,"deliveryAgents"),Qr("slug","==",P),Qr("approved","==",!0)),Z=await an(ne);Z.empty?F(null):F({id:Z.docs[0].id,...Z.docs[0].data()}),z(!1)}$()},[P]),D||h?l.jsx("div",{style:{padding:40},children:"Loading..."}):W?!t||t.uid!==W.userId?l.jsx("div",{style:{padding:40,color:"#e53935"},children:"Access denied. You can only view your own profile."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"900px",margin:"auto"},children:[l.jsx("h2",{children:"🚚 Delivery Agent Profile"}),l.jsx("img",{src:W.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:W.companyName}),l.jsxs("div",{children:["Phone: ",W.phoneNumber]}),l.jsxs("div",{children:["WhatsApp: ",W.whatsappNumber]}),l.jsxs("div",{children:["RC Number: ",W.rcNumber]}),l.jsxs("div",{children:["Address: ",W.businessAddress]}),l.jsxs("div",{children:["Email: ",W.email]}),l.jsxs("div",{children:["Coverage: ",W.coverageArea]}),l.jsxs("div",{children:["Hours: ",W.operatingHours]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:20},children:[l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="availability"?"2px solid #1976d2":"1px solid #ccc",background:q==="availability"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>Q("availability"),children:"Agent Availability"}),l.jsx("button",{style:{padding:"10px 30px",fontWeight:"bold",borderRadius:8,border:q==="orders"?"2px solid #1976d2":"1px solid #ccc",background:q==="orders"?"#e3f2fd":"#fff",cursor:"pointer"},onClick:()=>Q("orders"),children:"Agent Orders"})]}),l.jsxs("div",{style:{display:"flex",marginTop:30,gap:40},children:[q==="availability"&&l.jsxs("div",{style:{flex:1,minWidth:320},children:[l.jsx("h3",{children:"Agent Availability"}),l.jsxs("div",{style:{marginTop:10},children:[l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})," ",W.available?"✅ Available":"❌ Not Available",l.jsx("button",{style:{marginLeft:16,padding:"6px 18px",fontWeight:"bold"},onClick:ve,disabled:H,children:W.available?"Set Not Available":"Set Available"})]})]}),q==="orders"&&(W.available?l.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minWidth:160},children:[l.jsx("div",{style:{flex:1,marginLeft:24,marginBottom:16},children:l.jsx("input",{type:"text",value:i,onChange:$=>s($.target.value),placeholder:"Search orders by customer email, pharmacy, address, coordinates, items...",style:{width:"100%",padding:"8px 12px",border:"1px solid #bbb",borderRadius:6,fontSize:15,outline:"none",boxShadow:"0 1px 2px #0001"}})}),l.jsx("button",{onClick:()=>u("processing"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="processing"?"2px solid #1976d2":"1px solid #ccc",background:a==="processing"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"📦 Orders (Processing)"}),l.jsx("button",{onClick:()=>u("progression"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="progression"?"2px solid #1976d2":"1px solid #ccc",background:a==="progression"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"⏳ Order Progression"}),l.jsx("button",{onClick:()=>u("completed"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="completed"?"2px solid #1976d2":"1px solid #ccc",background:a==="completed"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"✅ Completed Orders (You)"}),l.jsx("button",{onClick:()=>u("canceled"),style:{padding:"6px 10px",fontWeight:"bold",fontSize:13,borderRadius:6,border:a==="canceled"?"2px solid #1976d2":"1px solid #ccc",background:a==="canceled"?"#e3f2fd":"#fff",cursor:"pointer",textAlign:"left"},children:"❌ Canceled Orders"})]}),a==="canceled"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(L).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No canceled orders found."}):o(L).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #b91c1c",borderRadius:8,padding:16,marginBottom:16,background:"#fff0f0"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b91c1c",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#b91c1c",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ne}),U.lat&&U.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#b91c1c"},children:"Canceled (local)"})]}),l.jsx("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:"Canceled (local, not global)"})]},$.id)})}),l.jsxs("div",{style:{flex:1,marginLeft:24},children:[a==="processing"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(T).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No processing orders found."}):o(T).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:16,background:"#fcfcfc"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Delivery Type (debug):"})," ",typeof $.deliveryType," | ",JSON.stringify($.deliveryType)]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#d1d5db",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;let te=U.lat,ce=U.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ne}),te&&ce?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",te,", ",ce]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#e53935"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>Y($.id),disabled:j===$.id,children:j===$.id?"Accepting...":"Accept Order"}),l.jsx("button",{style:{fontWeight:"bold",background:"#b91c1c",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:"pointer"},onClick:()=>me($.id),children:"Cancel Order"})]})]},$.id)})}),a==="progression"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(_).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No in-progress orders found."}):o(_).map($=>{var Z;const G=!!g[$.id],U=!!y[$.id],ne=async()=>{await J($.id),p(te=>({...te,[$.id]:!0})),C(te=>({...te,[$.id]:!0})),setTimeout(()=>C(te=>({...te,[$.id]:!1})),2e3)};return l.jsxs("div",{style:{border:"1px solid #f59e42",borderRadius:8,padding:16,marginBottom:16,background:"#fffbe6"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const te=c[$.items[0].ownerId],ce=`${te.address||""}, ${te.city||""}, ${te.state||""}`,fe=!te.address&&!te.city&&!te.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:te.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:fe?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ce}),te.lat&&te.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",te.lat,", ",te.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const te=$.deliveryInfo||{},ce=`${te.address||""}, ${te.city||""}, ${te.state||""}`,fe=!te.address&&!te.city&&!te.state;let he=te.lat,_e=te.lng;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:fe?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ce}),he&&_e?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",he,", ",_e]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(Z=$.items)==null?void 0:Z.map(te=>`${te.name} x${te.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#f59e42"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,display:"flex",gap:12},children:[l.jsx("button",{style:{fontWeight:"bold",background:"#059669",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:G?"not-allowed":"pointer",opacity:G?.5:1},onClick:ne,disabled:G,children:"Success"}),l.jsx("button",{style:{fontWeight:"bold",background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 18px",cursor:G?"not-allowed":"pointer",opacity:G?.5:1},onClick:()=>ie($.id),disabled:G,children:"Failed"})]}),U&&l.jsx("div",{style:{marginTop:8,color:"#059669",fontWeight:"bold"},children:"Order successful!"}),G&&l.jsx("div",{style:{marginTop:8,color:"#1976d2",fontSize:13},children:"Successful order: to be confirmed by admin"})]},$.id)})}),a==="completed"&&l.jsx("div",{style:{minWidth:320,maxWidth:600,marginTop:56,marginLeft:5},children:o(b).length===0?l.jsx("div",{style:{marginBottom:20,color:"#888"},children:"No completed orders found."}):o(b).map($=>{var G;return l.jsxs("div",{style:{border:"1px solid #4caf50",borderRadius:8,padding:16,marginBottom:16,background:"#e8f5e9"},children:[l.jsxs("div",{style:{fontWeight:"bold",marginBottom:8},children:["Order #",$.id]}),l.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[l.jsxs("div",{style:{position:"relative",width:24,display:"flex",flexDirection:"column",alignItems:"center",marginRight:12},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#1976d2",marginBottom:8,marginTop:2}}),l.jsx("div",{style:{flex:1,width:2,background:"#b2dfdb",minHeight:32}}),l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#059669",marginTop:8}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{marginBottom:18},children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#1976d2",fontWeight:700,marginBottom:2},children:"FROM"}),$.items&&$.items.length>0&&c[$.items[0].ownerId]&&(()=>{const U=c[$.items[0].ownerId],ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:U.name}),l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this business"}):ne}),U.lat&&U.lng&&l.jsxs("div",{style:{fontSize:12,color:"#1976d2",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]})]})})()]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,letterSpacing:1,color:"#059669",fontWeight:700,marginBottom:2},children:"TO"}),l.jsxs("div",{style:{marginLeft:2},children:[l.jsx("div",{style:{fontWeight:600},children:$.customerName||S[$.userId]||$.userId}),(()=>{const U=$.deliveryInfo||{},ne=`${U.address||""}, ${U.city||""}, ${U.state||""}`,Z=!U.address&&!U.city&&!U.state;return l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:13,color:"#555"},children:Z?l.jsx("span",{style:{color:"red",fontWeight:600},children:"⚠️ Address missing for this order"}):ne}),U.lat&&U.lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",U.lat,", ",U.lng]}):S[$.userId]&&S[$.userId].lat&&S[$.userId].lng?l.jsxs("div",{style:{fontSize:12,color:"#059669",marginTop:2},children:["Coordinates: ",S[$.userId].lat,", ",S[$.userId].lng," ",l.jsx("span",{style:{color:"#888"},children:"(profile)"})]}):l.jsx("div",{style:{fontSize:12,color:"#b91c1c",marginTop:2},children:"Coordinates not available"})]})})()]})]})]})]}),l.jsxs("div",{style:{marginTop:18},children:["Items: ",(G=$.items)==null?void 0:G.map(U=>`${U.name} x${U.quantity||1}`).join(", ")]}),l.jsxs("div",{children:["Status: ",l.jsx("span",{style:{color:"#388e3c"},children:$.status})]}),l.jsxs("div",{style:{marginTop:10,fontSize:13,color:"#555"},children:["Completed: ",$.completedAt?new Date($.completedAt).toLocaleString():"-"]})]},$.id)})})]})]}):l.jsxs("div",{style:{padding:40,color:"#e53935",width:"100%"},children:["You must be ",l.jsx("b",{children:"Available"})," to view and accept orders."]}))]})]}):l.jsx("div",{style:{padding:40,color:"#e53935"},children:"No delivery agent found for this slug."})}function FS(){const[t,e]=w.useState([]),[n,r]=w.useState(!0);return w.useEffect(()=>{async function i(){r(!0);const s=yi(Ae(ee,"deliveryAgents"),Qr("approved","==",!0)),o=await an(s);e(o.docs.map(a=>({id:a.id,...a.data()}))),r(!1)}i()},[]),n?l.jsx("div",{style:{padding:40},children:"Loading..."}):l.jsxs("div",{style:{padding:"30px",maxWidth:"1200px",margin:"auto"},children:[l.jsx("h2",{children:"🚚 All Approved Delivery Agents"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"18px",marginTop:"40px"},children:t.length===0?l.jsx("p",{children:"No delivery agents found."}):t.map(i=>l.jsx(Va,{to:`/agent/${i.slug}`,style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:"10px",boxShadow:"0 1px 8px rgba(0,0,0,0.06)",padding:"18px",minWidth:"260px",maxWidth:"320px",position:"relative"},children:[l.jsx("img",{src:i.logoUrl||"https://via.placeholder.com/80x80?text=Logo",alt:"Business Logo",style:{width:80,height:80,borderRadius:"10px",objectFit:"cover",marginBottom:10}}),l.jsx("div",{style:{fontWeight:"bold",fontSize:18},children:i.companyName}),l.jsxs("div",{children:["Phone: ",i.phoneNumber]}),l.jsxs("div",{children:["Coverage: ",i.coverageArea]}),l.jsxs("div",{children:["Hours: ",i.operatingHours]})]})},i.id))})]})}const AH=Ix({palette:{primary:{main:"#1976d2"},secondary:{main:"#7c3aed"},background:{default:"#f4f6fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif",h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:500}},shape:{borderRadius:12}});wg.createRoot(document.getElementById("root")).render(l.jsx(pe.StrictMode,{children:l.jsxs(xB,{theme:AH,children:[l.jsx(A7,{}),l.jsx(pN,{children:l.jsxs(l.Fragment,{children:[l.jsx(RH,{}),l.jsx(jH,{}),l.jsxs(aN,{children:[l.jsx(pn,{path:"/agent/:slug",element:l.jsx(PH,{})}),l.jsx(pn,{path:"/agents",element:l.jsx(FS,{})}),l.jsx(pn,{path:"/",element:l.jsx(g7,{})}),l.jsx(pn,{path:"/shop",element:l.jsx(v7,{})}),l.jsx(pn,{path:"/cart",element:l.jsx($P,{})}),l.jsx(pn,{path:"/auth",element:l.jsx(E7,{})}),l.jsx(pn,{path:"/orders",element:l.jsx(_7,{})}),l.jsx(pn,{path:"/add-medicine",element:l.jsx(C7,{})}),l.jsx(pn,{path:"/payment",element:l.jsx(aH,{})}),l.jsx(pn,{path:"/admin",element:l.jsx(cH,{})}),l.jsx(pn,{path:"/store",element:l.jsx(mH,{})}),l.jsx(pn,{path:"/store/:slug",element:l.jsx(pH,{})}),l.jsx(pn,{path:"/store/:slug/cart",element:l.jsx(hH,{})}),l.jsx(pn,{path:"/restock",element:l.jsx(vH,{})}),l.jsx(pn,{path:"/medinterface",element:l.jsx(_H,{})}),l.jsx(pn,{path:"/businesses",element:l.jsx(y4,{})}),l.jsx(pn,{path:"/agents",element:l.jsx(FS,{})})]}),l.jsx(f2,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})}));function jH(){const e=window.location.pathname.match(/^\/store\/([^\/]+)/),n=e?e[1]:null,r=$s();return n?l.jsx("button",{onClick:()=>r("/shop"),style:{position:"fixed",top:"80px",left:"32px",background:"#fff",color:"#7c3aed",border:"1px solid #7c3aed",borderRadius:"50px",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",padding:"4px 10px",fontWeight:"bold",fontSize:"13px",zIndex:1e3,cursor:"pointer",transition:"box-shadow 0.2s",opacity:.96},onMouseOver:i=>i.currentTarget.style.boxShadow="0 4px 16px rgba(124,58,237,0.18)",onMouseOut:i=>i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.10)",children:"Leave Store"}):null}
